/**
 * @vivliostyle/viewer v2.0.0
 * Vivliostyle Viewer - HTML+CSS typesetting and rich paged viewing with EPUB/Web publications support
 *
 * @author Vivliostyle Foundation
 * @license AGPL-3.0
 * @preserve
 */
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n,i=e((function(e,t){
/*!
	   * Knockout JavaScript library v3.5.1
	   * (c) The Knockout.js team - http://knockoutjs.com/
	   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
	   */
!function(n){var i=this||(0,eval)("this"),o=i.document,s=i.navigator,r=i.jQuery,a=i.JSON;r||"undefined"==typeof jQuery||(r=jQuery),function(n){n(e.exports||t)}((function(e,t){function l(e,t){return(null===e||typeof e in S)&&e===t}function h(e,t){var i;return function(){i||(i=y.a.setTimeout((function(){i=n,e()}),t))}}function c(e,t){var n;return function(){clearTimeout(n),n=y.a.setTimeout(e,t)}}function u(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function p(e,t){var n=this.qd,i=n[x];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var f,g,m,b,w,E,y=void 0!==e?e:{};y.b=function(e,t){for(var n=e.split("."),i=y,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},y.L=function(e,t,n){e[t]=n},y.version="3.5.1",y.b("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},y.a=function(){function e(e,t){for(var n in e)c.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)c.call(t,n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function h(e,t,n,i){var o=e[t].match(w)||[];y.a.D(n.match(w),(function(e){y.a.Na(o,e,i)})),e[t]=o.join(" ")}var c=Object.prototype.hasOwnProperty,u={__proto__:[]}instanceof Array,d="function"==typeof Symbol,p={},f={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(p,(function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)f[t[n]]=e}));var g,m={propertychange:!0},b=o&&function(){for(var e=3,t=o.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:n}(),w=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,i){for(var o=0,s=e.length;o<s;o++)if(t.call(i,e[o],o,e))return e[o];return n},Pa:function(e,t){var n=y.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&y.a.D(e,(function(e){0>y.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)i.push(t.call(n,e[o],o));return i},jb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)t.call(n,e[o],o)&&i.push(e[o]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=y.a.A(y.a.bc(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},Ba:u,extend:t,setPrototypeOf:l,Ab:u?l:t,P:e,Ga:function(e,t,n){if(!e)return e;var i,o={};for(i in e)c.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o},Tb:function(e){for(;e.firstChild;)y.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=y.a.la(e))[0]&&e[0].ownerDocument||o).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(y.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var s=e[n].cloneNode(!0);o.push(t?y.oa(s):s)}return o},va:function(e,t){if(y.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,s=0,r=t.length;s<r;s++)o.insertBefore(t[s],i);for(s=0,r=n.length;s<r;s++)y.removeNode(n[s])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){7>b?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===n?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return y.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!y.a.Lb(e,y.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return y.onError?function(){try{return e.apply(this,arguments)}catch(e){throw y.onError&&y.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(y.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw y.onError&&y.onError(e),e}),0)},B:function(e,t,n){var i=y.a.Ac(n);if(n=m[t],y.options.useOnlyNativeEvents||n||!r)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){i.call(e,t)},s="on"+t;e.attachEvent(s,o),y.a.K.za(e,(function(){e.detachEvent(s,o)}))}else e.addEventListener(t,i,!1);else g||(g="function"==typeof r(e).on?"on":"bind"),r(e)[g](t,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==y.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n),y.options.useOnlyNativeEvents||!r||n)if("function"==typeof o.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=o.createEvent(f[t]||"HTMLEvents")).initEvent(t,!0,!0,i,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else r(e).trigger(t)},f:function(e){return y.O(e)?e():e},bc:function(e){return y.O(e)?e.v():e},Eb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],y.a.D(t.match(w),(function(t){i.call(e.classList,t)}))):"string"==typeof e.className.baseVal?h(e.className,"baseVal",t,n):h(e,"className",t,n))},Bb:function(e,t){var i=y.a.f(t);null!==i&&i!==n||(i="");var o=y.h.firstChild(e);!o||3!=o.nodeType||y.h.nextSibling(o)?y.h.va(e,[e.ownerDocument.createTextNode(i)]):o.data=i,y.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=b)try{var n=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(o.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=b&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(b){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=y.a.f(e),t=y.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===b,$d:7===b,W:b,Lc:function(e,t){for(var n=y.a.la(e.getElementsByTagName("input")).concat(y.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],s=n.length-1;0<=s;s--)i(n[s])&&o.push(n[s]);return o},Nd:function(e){return"string"==typeof e&&(e=y.a.Db(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(y.a.f(e),t,n)},Od:function(t,n,i){var s=(i=i||{}).params||{},r=i.includeFields||this.Jc,a=t;if("object"==typeof t&&"form"===y.a.R(t)){a=t.action;for(var l=r.length-1;0<=l;l--)for(var h=y.a.Lc(t,r[l]),c=h.length-1;0<=c;c--)s[h[c].name]=h[c].value}n=y.a.f(n);var u=o.createElement("form");for(var d in u.style.display="none",u.action=a,u.method="post",n)(t=o.createElement("input")).type="hidden",t.name=d,t.value=y.a.hc(y.a.f(n[d])),u.appendChild(t);e(s,(function(e,t){var n=o.createElement("input");n.type="hidden",n.name=e,n.value=t,u.appendChild(n)})),o.body.appendChild(u),i.submitter?i.submitter(u):u.submit(),setTimeout((function(){u.parentNode.removeChild(u)}),0)}}}(),y.b("utils",y.a),y.b("utils.arrayForEach",y.a.D),y.b("utils.arrayFirst",y.a.Lb),y.b("utils.arrayFilter",y.a.jb),y.b("utils.arrayGetDistinctValues",y.a.wc),y.b("utils.arrayIndexOf",y.a.A),y.b("utils.arrayMap",y.a.Mb),y.b("utils.arrayPushAll",y.a.Nb),y.b("utils.arrayRemoveItem",y.a.Pa),y.b("utils.cloneNodes",y.a.Ca),y.b("utils.createSymbolOrString",y.a.Da),y.b("utils.extend",y.a.extend),y.b("utils.fieldsIncludedWithJsonPost",y.a.Jc),y.b("utils.getFormFields",y.a.Lc),y.b("utils.objectMap",y.a.Ga),y.b("utils.peekObservable",y.a.bc),y.b("utils.postJson",y.a.Od),y.b("utils.parseJson",y.a.Nd),y.b("utils.registerEventHandler",y.a.B),y.b("utils.stringifyJson",y.a.hc),y.b("utils.range",y.a.Pd),y.b("utils.toggleDomNodeCssClass",y.a.Eb),y.b("utils.triggerEvent",y.a.Fb),y.b("utils.unwrapObservable",y.a.f),y.b("utils.objectForEach",y.a.P),y.b("utils.addOrRemoveItem",y.a.Na),y.b("utils.setTextContent",y.a.Bb),y.b("unwrap",y.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),y.a.g=new function(){var e,t,i=0,o="__ko__"+(new Date).getTime(),s={};return y.a.W?(e=function(e,t){var r=e[o];if(!r||"null"===r||!s[r]){if(!t)return n;r=e[o]="ko"+i++,s[r]={}}return s[r]},t=function(e){var t=e[o];return!!t&&(delete s[t],e[o]=null,!0)}):(e=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},t=function(e){return!!e[o]&&(delete e[o],!0)}),{get:function(t,n){var i=e(t,!1);return i&&i[n]},set:function(t,i,o){(t=e(t,o!==n))&&(t[i]=o)},Ub:function(t,n,i){return(t=e(t,!0))[n]||(t[n]=i)},clear:t,Z:function(){return i+++o}}},y.b("utils.domData",y.a.g),y.b("utils.domData.clear",y.a.g.clear),y.a.K=new function(){function e(e,t){var i=y.a.g.get(e,o);return i===n&&t&&(i=[],y.a.g.set(e,o,i)),i}function t(t){if(n=e(t,!1))for(var n=n.slice(0),o=0;o<n.length;o++)n[o](t);y.a.g.clear(t),y.a.K.cleanExternalData(t),a[t.nodeType]&&i(t.childNodes,!0)}function i(e,n){for(var i,o=[],s=0;s<e.length;s++)if((!n||8===e[s].nodeType)&&(t(o[o.length]=i=e[s]),e[s]!==i))for(;s--&&-1==y.a.A(o,e[s]););}var o=y.a.g.Z(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,i){var s=e(t,!1);s&&(y.a.Pa(s,i),0==s.length&&y.a.g.set(t,o,n))},oa:function(e){return y.u.G((function(){s[e.nodeType]&&(t(e),a[e.nodeType]&&i(e.getElementsByTagName("*")))})),e},removeNode:function(e){y.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},y.oa=y.a.K.oa,y.removeNode=y.a.K.removeNode,y.b("cleanNode",y.oa),y.b("removeNode",y.removeNode),y.b("utils.domNodeDisposal",y.a.K),y.b("utils.domNodeDisposal.addDisposeCallback",y.a.K.za),y.b("utils.domNodeDisposal.removeDisposeCallback",y.a.K.yb),f=[0,"",""],w={thead:g=[1,"<table>","</table>"],tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:m=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:m,option:b=[1,"<select multiple='multiple'>","</select>"],optgroup:b},E=8>=y.a.W,y.a.ua=function(e,t){var n;if(r){if(r.parseHTML)n=r.parseHTML(e,t)||[];else if((n=r.clean([e],t))&&n[0]){for(var s=n[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(n=t)||(n=o),s=n.parentWindow||n.defaultView||i;var a,l=y.a.Db(e).toLowerCase(),h=n.createElement("div");for(a=(l=l.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&w[l[1]]||f,l=a[0],a="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof s.innerShiv?h.appendChild(s.innerShiv(a)):(E&&n.body.appendChild(h),h.innerHTML=a,E&&h.parentNode.removeChild(h));l--;)h=h.lastChild;n=y.a.la(h.lastChild.childNodes)}return n},y.a.Md=function(e,t){var n=y.a.ua(e,t);return n.length&&n[0].parentElement||y.a.Yb(n)},y.a.fc=function(e,t){if(y.a.Tb(e),null!==(t=y.a.f(t))&&t!==n)if("string"!=typeof t&&(t=t.toString()),r)r(e).html(t);else for(var i=y.a.ua(t,e.ownerDocument),o=0;o<i.length;o++)e.appendChild(i[o])},y.b("utils.parseHtmlFragment",y.a.ua),y.b("utils.setHtml",y.a.fc),y.aa=function(){var e={};return{Xb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(t,i){var o=e[t];if(o===n)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete e[t]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=y.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,o=t.childNodes,s=o.length;i<s;i++)e(o[i],n)}(e,n);for(var i=0,o=n.length;i<o;i++){var s=n[i].ud,r=[s];t&&y.a.Nb(r,t),y.aa.bd(n[i].Kd,r),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),y.b("memoization",y.aa),y.b("memoization.memoize",y.aa.Xb),y.b("memoization.unmemoize",y.aa.bd),y.b("memoization.parseMemoText",y.aa.Uc),y.b("memoization.unmemoizeDomNodeAndDescendants",y.aa.cd),y.na=function(){function e(){if(s)for(var e,t=s,i=0;a<s;)if(e=n[a++]){if(a>t){if(5e3<=++i){a=s,y.a.Gc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=s}try{e()}catch(e){y.a.Gc(e)}}}function t(){e(),a=s=n.length=0}var n=[],s=0,r=1,a=0;return{scheduler:i.MutationObserver?function(e){var t=o.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):o&&"onreadystatechange"in o.createElement("script")?function(e){var t=o.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,o.documentElement.removeChild(t),t=null,e()},o.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return s||y.na.scheduler(t),n[s++]=e,r++},cancel:function(e){(e-=r-s)>=a&&e<s&&(n[e]=null)},resetForTesting:function(){var e=s-a;return a=s=n.length=0,e},Sd:e}}(),y.b("tasks",y.na),y.b("tasks.schedule",y.na.zb),y.b("tasks.runEarly",y.na.Sd),y.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return y.$({read:e,write:function(i){clearTimeout(n),n=y.a.setTimeout((function(){e(i)}),t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,o="function"==typeof i?i:"notifyWhenChangesStop"==i?c:h,e.ub((function(e){return o(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var i,o=!1;return function(){if(!o){y.na.cancel(i),i=y.na.zb(t);try{o=!0,e.notifySubscribers(n,"dirty")}finally{o=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var S={undefined:1,boolean:1,number:1,string:1};y.b("extenders",y.Ta),y.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,y.L(this,"dispose",this.s),y.L(this,"disposeWhenNodeIsRemoved",this.l)},y.ic.prototype.s=function(){this.Ib||(this.fb&&y.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},y.ic.prototype.l=function(e){this.Jb=e,y.a.K.za(e,this.fb=this.s.bind(this))},y.T=function(){y.a.Ab(this,N),N.qb(this)};var N={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var o=new y.ic(i,t?e.bind(t):e,(function(){y.a.Pa(i.U[n],o),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(o),o},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{y.u.xc();for(var i,o=0;i=n[o];++o)i.Ib||i.lc(e)}finally{y.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,i,o,s,r=this,a=y.O(r);r.gb||(r.gb=r.notifySubscribers,r.notifySubscribers=u);var l=e((function(){r.Ja=!1,a&&o===r&&(o=r.nc?r.nc():r());var e=n||s&&r.sb(i,o);s=n=t=!1,e&&r.gb(i=o)}));r.qc=function(e,n){n&&r.Ja||(s=!n),r.ed=r.U.change.slice(0),r.Ja=t=!0,o=e,l()},r.pc=function(e){t||(i=e,r.gb(e,"beforeChange"))},r.rc=function(){s=!0},r.gd=function(){r.sb(i,r.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return y.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&y.a.P(e,(function(e,n){var i=y.Ta[e];"function"==typeof i&&(t=i(t,n)||t)})),t}};y.L(N,"init",N.qb),y.L(N,"subscribe",N.subscribe),y.L(N,"extend",N.extend),y.L(N,"getSubscriptionsCount",N.Bd),y.a.Ba&&y.a.setPrototypeOf(N,Function.prototype),y.T.fn=N,y.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},y.b("subscribable",y.T),y.b("isSubscribable",y.Qc),y.S=y.u=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{xc:e,end:t,cc:function(e){if(n){if(!y.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++o))}},G:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),y.b("computedContext",y.S),y.b("computedContext.getDependenciesCount",y.S.qa),y.b("computedContext.getDependencies",y.S.Va),y.b("computedContext.isInitial",y.S.Ya),y.b("computedContext.registerDependency",y.S.cc),y.b("ignoreDependencies",y.Yd=y.u.G);var v=y.a.Da("_latestValue");y.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(y.u.cc(t),t[v])}return t[v]=e,y.a.Ba||y.a.extend(t,y.T.fn),y.T.fn.qb(t),y.a.Ab(t,C),y.options.deferUpdates&&y.Ta.deferred(t,!0),t};var C={equalityComparer:l,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate"),this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};y.a.Ba&&y.a.setPrototypeOf(C,y.T.fn);var T=y.ta.Ma="__ko_proto__";C[T]=y.ta,y.O=function(e){if((e="function"==typeof e&&e[T])&&e!==C[T]&&e!==y.o.fn[T])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},y.Za=function(e){return"function"==typeof e&&(e[T]===C[T]||e[T]===y.o.fn[T]&&e.Nc)},y.b("observable",y.ta),y.b("isObservable",y.O),y.b("isWriteableObservable",y.Za),y.b("isWritableObservable",y.Za),y.b("observable.fn",C),y.L(C,"peek",C.v),y.L(C,"valueHasMutated",C.xa),y.L(C,"valueWillMutate",C.ya),y.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=y.ta(e),y.a.Ab(e,y.Ha.fn),e.extend({trackArrayChanges:!0})},y.Ha.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||y.O(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var s=t[o];if(i(s)){if(0===n.length&&this.ya(),t[o]!==s)throw Error("Array modified during remove; cannot remove item");n.push(s),t.splice(o,1),o--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===n){var t=this.v(),i=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),i}return e?this.remove((function(t){return 0<=y.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||y.O(e)?function(t){return t===e}:e;this.ya();for(var i=t.length-1;0<=i;i--){var o=t[i];n(o)&&(o._destroy=!0)}this.xa()},destroyAll:function(e){return e===n?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=y.a.A(e,t)})):[]},indexOf:function(e){var t=this();return y.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},y.a.Ba&&y.a.setPrototypeOf(y.Ha.fn,y.ta.fn),y.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){y.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),y.a.D(["slice"],(function(e){y.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),y.Pc=function(e){return y.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},y.b("observableArray",y.Ha),y.b("isObservableArray",y.Pc),y.Ta.trackArrayChanges=function(e,t){function i(){function t(){if(h){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!l||1<h)&&(l=y.a.Pb(r,n,e.Ob)),t=l),r=n,l=null,h=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}a?t():(a=!0,s=e.subscribe((function(){++h}),null,"spectate"),r=[].concat(e.v()||[]),l=null,o=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&y.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var o,s,r,a=!1,l=null,h=0,c=e.Qa,u=e.hb;e.Qa=function(t){c&&c.call(e,t),"arrayChange"===t&&i()},e.hb=function(t){u&&u.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(o&&o.s(),s&&s.s(),s=o=null,a=!1,r=n)},e.zc=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(a&&!h){var o=[],s=e.length,r=n.length,c=0;switch(t){case"push":c=s;case"unshift":for(t=0;t<r;t++)i("added",n[t],c+t);break;case"pop":c=s-1;case"shift":s&&i("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>n[0]?s+n[0]:n[0]),s),s=1===r?s:Math.min(t+(n[1]||0),s),r=t+r-2,c=Math.max(s,r);for(var u=[],d=[],p=2;t<c;++t,++p)t<s&&d.push(i("deleted",e[t],t)),t<r&&u.push(i("added",n[p],t));y.a.Kc(d,u);break;default:return}l=o}}}};var x=y.a.Da("_state");y.o=y.$=function(e,t,i){function o(){if(0<arguments.length){if("function"!=typeof s)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return s.apply(r.nb,arguments),this}return r.ra||y.u.cc(o),(r.ka||r.J&&o.Xa())&&o.ha(),r.X}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var s=i.write,r={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:i.read,nb:t||i.owner,l:i.disposeWhenNodeIsRemoved||i.l||null,Sa:i.disposeWhen||i.Sa,Rb:null,I:{},V:0,Ic:null};return o[x]=r,o.Nc="function"==typeof s,y.a.Ba||y.a.extend(o,y.T.fn),y.T.fn.qb(o),y.a.Ab(o,I),i.pure?(r.wb=!0,r.J=!0,y.a.extend(o,P)):i.deferEvaluation&&y.a.extend(o,A),y.options.deferUpdates&&y.Ta.deferred(o,!0),r.l&&(r.jc=!0,r.l.nodeType||(r.l=null)),r.J||i.deferEvaluation||o.ha(),r.l&&o.ja()&&y.a.K.za(r.l,r.Rb=function(){o.s()}),o};var I={equalityComparer:l,qa:function(){return this[x].V},Va:function(){var e=[];return y.a.P(this[x].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[x].V)return!1;var t=this.Va();return-1!==y.a.A(t,e)||!!y.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[x].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[x].I[e]=n,n.Ka=this[x].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[x].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[x].rb&&this.Ia(!1)},ja:function(){var e=this[x];return e.ka||0<e.V},Rd:function(){this.Ja?this[x].ka&&(this[x].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[x].Ic),this[x].Ic=y.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[x],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!y.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[x],i=!1,o=t.wb?n:!t.V;i={qd:this,mb:t.I,Qb:t.V},y.u.xc({pd:i,od:p,o:this,Ya:o}),t.I={},t.V=0;var s=this.yd(t,i);return t.V?i=this.sb(t.X,s):(this.s(),i=!0),i&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=s,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),o&&this.notifySubscribers(t.X,"awake"),i},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{y.u.end(),t.Qb&&!e.J&&y.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[x];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){y.T.fn.ub.call(this,e),this.nc=function(){return this[x].J||(this[x].sa?this.ha():this[x].ka=!1),this[x].X},this.Ia=function(e){this.pc(this[x].X),this[x].ka=!0,e&&(this[x].sa=!0),this.qc(this,!e)}},s:function(){var e=this[x];!e.J&&e.I&&y.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&y.a.K.yb(e.l,e.Rb),e.I=n,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=n,e.Sa=n,e.Wc=n,this.Nc||(e.nb=n)}},P={Qa:function(e){var t=this,n=t[x];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var i=[];y.a.P(n.I,(function(e,t){i[t.Ka]=e})),y.a.D(i,(function(e,i){var o=n.I[e],s=t.$c(o.da);s.Ka=i,s.La=o.La,n.I[e]=s})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[x];t.ra||"change"!=e||this.Wa("change")||(y.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var e=this[x];return e.J&&(e.sa||this.Xa())&&this.ha(),y.T.fn.ob.call(this)}},A={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};y.a.Ba&&y.a.setPrototypeOf(I,y.T.fn);var O=y.ta.Ma;I[O]=y.o,y.Oc=function(e){return"function"==typeof e&&e[O]===I[O]},y.Fd=function(e){return y.Oc(e)&&e[x]&&e[x].wb},y.b("computed",y.o),y.b("dependentObservable",y.o),y.b("isComputed",y.Oc),y.b("isPureComputed",y.Fd),y.b("computed.fn",I),y.L(I,"peek",I.v),y.L(I,"dispose",I.s),y.L(I,"isActive",I.ja),y.L(I,"getDependenciesCount",I.qa),y.L(I,"getDependencies",I.Va),y.xb=function(e,t){return"function"==typeof e?y.o(e,t,{pure:!0}):((e=y.a.extend({},e)).pure=!0,y.o(e,t))},y.b("pureComputed",y.xb),function(){function e(i,o,s){if(s=s||new t,"object"!=typeof(i=o(i))||null===i||i===n||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var r=i instanceof Array?[]:{};return s.save(i,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(i,(function(t){var a=o(i[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[t]=a;break;case"object":case"undefined":var l=s.get(a);r[t]=l!==n?l:e(a,o,s)}})),r}function t(){this.keys=[],this.values=[]}y.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;y.O(e)&&10>t;t++)e=e();return e}))},y.toJSON=function(e,t,n){return e=y.ad(e),y.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=y.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=y.a.A(this.keys,e))?this.values[e]:n}}}(),y.b("toJS",y.ad),y.b("toJSON",y.toJSON),y.Wd=function(e,t,n){function i(t){var i=y.xb(e,n).extend({ma:"always"}),o=i.subscribe((function(e){e&&(o.s(),t(e))}));return i.notifySubscribers(i.v()),o}return"function"!=typeof Promise||t?i(t.bind(n)):new Promise(i)},y.b("when",y.Wd),y.w={M:function(e){switch(y.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?y.a.g.get(e,y.c.options.$b):7>=y.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex]):n;default:return e.value}},cb:function(e,t,i){switch(y.a.R(e)){case"option":"string"==typeof t?(y.a.g.set(e,y.c.options.$b,n),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(y.a.g.set(e,y.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=n);for(var o,s=-1,r=0,a=e.options.length;r<a;++r)if((o=y.w.M(e.options[r]))==t||""===o&&t===n){s=r;break}(i||0<=s||t===n&&1<e.size)&&(e.selectedIndex=s,6===y.a.W&&y.a.setTimeout((function(){e.selectedIndex=s}),0));break;default:null!==t&&t!==n||(t=""),e.value=t}}},y.b("selectExtensions",y.w),y.b("selectExtensions.readValue",y.w.M),y.b("selectExtensions.writeValue",y.w.cb),y.m=function(){function e(e){123===(e=y.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],r=(e+="\n,").match(i),a=[],l=0;if(1<r.length){for(var h,c=0;h=r[c];++c){var u=h.charCodeAt(0);if(44===u){if(0>=l){n.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=l=0,a=[];continue}}else if(58===u){if(!l&&!t&&1===a.length){t=a.pop();continue}}else{if(47===u&&1<h.length&&(47===h.charCodeAt(1)||42===h.charCodeAt(1)))continue;47===u&&c&&1<h.length?(u=r[c-1].match(o))&&!s[u[0]]&&(r=(e=e.substr(e.indexOf(h)+1)).match(i),c=-1,h="/"):40===u||123===u||91===u?++l:41===u||125===u||93===u?--l:t||a.length||34!==u&&39!==u||(h=h.slice(1,-1))}a.push(h)}if(0<l)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},r={};return{Ra:[],wa:r,ac:e,vb:function(i,o){function s(e,i){var o;if(!c){var u=y.getBindingHandler(e);if(u&&u.preprocess&&!(i=u.preprocess(i,e,s)))return;(u=r[e])&&(o=i,0<=y.a.A(t,o)?o=!1:(u=o.match(n),o=null!==u&&(u[1]?"Object("+u[1]+")"+u[2]:o)),u=o),u&&l.push("'"+("string"==typeof r[e]?r[e]:e)+"':function(_z){"+o+"=_z}")}h&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i)}var a=[],l=[],h=(o=o||{}).valueAccessors,c=o.bindingParams,u="string"==typeof i?e(i):i;return y.a.D(u,(function(e){s(e.key||e.unknown,e.value)})),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),a.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,o){e&&y.O(e)?!y.Za(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),y.b("expressionRewriting",y.m),y.b("expressionRewriting.bindingRewriteValidators",y.m.Ra),y.b("expressionRewriting.parseObjectLiteral",y.m.ac),y.b("expressionRewriting.preProcessBindings",y.m.vb),y.b("expressionRewriting._twoWayBindings",y.m.wa),y.b("jsonExpressionRewriting",y.m),y.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.m.vb),function(){function e(e){return 8==e.nodeType&&r.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(s?e.text:e.nodeValue)}function n(n,i){for(var o=n,s=1,r=[];o=o.nextSibling;){if(t(o)&&(y.a.g.set(o,h,!0),0==--s))return r;r.push(o),e(o)&&s++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var s=o&&"\x3c!--test--\x3e"===o.createComment("test").text,r=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0},h="__ko_matchedEndComment__";y.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,i=(t=y.h.childNodes(t)).length;n<i;n++)y.removeNode(t[n]);else y.a.Tb(t)},va:function(t,n){if(e(t)){y.h.Ea(t);for(var i=t.nextSibling,o=0,s=n.length;o<s;o++)i.parentNode.insertBefore(n[o],i)}else y.a.va(t,n)},Vc:function(t,n){var i;e(t)?(i=t.nextSibling,t=t.parentNode):i=t.firstChild,i?n!==i&&t.insertBefore(n,i):t.appendChild(n)},Wb:function(t,n,i){i?(i=i.nextSibling,e(t)&&(t=t.parentNode),i?n!==i&&t.insertBefore(n,i):t.appendChild(n)):y.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)){var o=n.nextSibling;if(t(o)&&!y.a.g.get(o,h))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(s?e.text:e.nodeValue).match(r))?e[1]:null},Sc:function(n){if(l[y.a.R(n)]){var o=n.firstChild;if(o)do{if(1===o.nodeType){var s,r=null;if(s=o.firstChild)do{if(r)r.push(s);else if(e(s)){var a=i(s,!0);a?s=a:r=[s]}else t(s)&&(r=[s])}while(s=s.nextSibling);if(s=r)for(r=o.nextSibling,a=0;a<s.length;a++)r?n.insertBefore(s[a],r):n.appendChild(s[a])}}while(o=o.nextSibling)}}}}(),y.b("virtualElements",y.h),y.b("virtualElements.allowedBindings",y.h.ea),y.b("virtualElements.emptyNode",y.h.Ea),y.b("virtualElements.insertAfter",y.h.Wb),y.b("virtualElements.prepend",y.h.Vc),y.b("virtualElements.setDomNodeChildren",y.h.va),y.ga=function(){this.nd={}},y.a.extend(y.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||y.j.getComponentNameForNode(e);case 8:return y.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return y.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return y.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return y.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,s=this.nd,r=e+(i&&i.valueAccessors||"");if(!(o=s[r])){var a,l="with($context){with($data||{}){return{"+y.m.vb(e,i)+"}}}";a=new Function("$context","$element",l),o=s[r]=a}return o(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),y.ga.instance=new y.ga,y.b("bindingProvider",y.ga),function(){function e(e){var t=(e=y.a.g.get(e,S))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,i){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||y.a.K.za(t,e),i&&i.N&&(i.N.kb.push(t),this.Kb=i)}function s(e){return function(){return e}}function a(e){return e()}function l(e){return y.a.Ga(y.u.G(e),(function(t,n){return function(){return e()[n]}}))}function h(e,t,n){return"function"==typeof e?l(e.bind(null,t,n)):y.a.Ga(e,s)}function c(e,t){return l(this.getBindings.bind(this,e,t))}function u(e,t){var n=y.h.firstChild(t);if(n){var i,o=y.ga.instance,s=o.preprocessNode;if(s){for(;i=n;)n=y.h.nextSibling(i),s.call(o,i);n=y.h.firstChild(t)}for(;i=n;)n=y.h.nextSibling(i),d(e,i)}y.i.ma(t,y.i.H)}function d(e,t){var n=e,i=1===t.nodeType;i&&y.h.Sc(t),(i||y.ga.instance.nodeHasBindings(t))&&(n=p(t,null,e).bindingContextForDescendants),n&&!w[y.a.R(t)]&&u(n,t)}function p(e,t,i){var o,s=y.a.g.Ub(e,S,{}),r=s.hd;if(!t){if(r)throw Error("You cannot apply bindings multiple times to the same element.");s.hd=!0}if(r||(s.context=i),s.Zb||(s.Zb={}),t&&"function"!=typeof t)o=t;else{var l=y.ga.instance,h=l.getBindingAccessors||c,u=y.$((function(){return(o=t?t(i,e):h.call(l,e,i))&&(i[g]&&i[g](),i[b]&&i[b]()),o}),null,{l:e});o&&u.ja()||(u=null)}var d,p=i;if(o){var f=function(){return y.a.Ga(u?u():o,a)},m=u?function(e){return function(){return a(u()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&a(m(e))},f.has=function(e){return e in o},y.i.H in o&&y.i.subscribe(e,y.i.H,(function(){var t=(0,o[y.i.H])();if(t){var n=y.h.childNodes(e);n.length&&t(n,y.Ec(n[0]))}})),y.i.pa in o&&(p=y.i.Cb(e,i),y.i.subscribe(e,y.i.pa,(function(){var t=(0,o[y.i.pa])();t&&y.h.firstChild(e)&&t(e)}))),s=function(e){var t=[],n={},i=[];return y.a.P(e,(function o(s){if(!n[s]){var r=y.getBindingHandler(s);r&&(r.after&&(i.push(s),y.a.D(r.after,(function(t){if(e[t]){if(-1!==y.a.A(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}})),i.length--),t.push({key:s,Mc:r})),n[s]=!0}})),t}(o),y.a.D(s,(function(t){var i=t.Mc.init,s=t.Mc.update,r=t.key;if(8===e.nodeType&&!y.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof i&&y.u.G((function(){var t=i(e,m(r),f,p.$data,p);if(t&&t.controlsDescendantBindings){if(d!==n)throw Error("Multiple bindings ("+d+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=r}})),"function"==typeof s&&y.$((function(){s(e,m(r),f,p.$data,p)}),null,{l:e})}catch(e){throw e.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:s=d===n,bindingContextForDescendants:s&&p}}function f(e,t){return e&&e instanceof y.fa?e:new y.fa(e,n,n,t)}var g=y.a.Da("_subscribable"),m=y.a.Da("_ancestorBindingInfo"),b=y.a.Da("_dataDependency");y.c={};var w={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(e){return y.c[e]};var E={};y.fa=function(e,t,i,o,s){function r(){var e=u?c():c,n=y.a.f(e);return t?(y.a.extend(l,t),m in t&&(l[m]=t[m])):(l.$parents=[],l.$root=n,l.ko=y),l[g]=a,h?n=l.$data:(l.$rawData=e,l.$data=n),i&&(l[i]=n),o&&o(l,t,n),t&&t[g]&&!y.S.o().Vb(t[g])&&t[g](),d&&(l[b]=d),l.$data}var a,l=this,h=e===E,c=h?n:e,u="function"==typeof c&&!y.O(c),d=s&&s.dataDependency;s&&s.exportDependencies?r():((a=y.xb(r)).v(),a.ja()?a.equalityComparer=null:l[g]=n)},y.fa.prototype.createChildContext=function(e,t,n,i){if(!i&&t&&"object"==typeof t&&(t=(i=t).as,n=i.extend),t&&i&&i.noChildContext){var o="function"==typeof e&&!y.O(e);return new y.fa(E,this,null,(function(i){n&&n(i),i[t]=o?e():e}),i)}return new y.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),i)},y.fa.prototype.extend=function(e,t){return new y.fa(E,this,null,(function(t){y.a.extend(t,"function"==typeof e?e(t):e)}),t)};var S=y.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){y.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,y.a.K.yb(this.node,e),y.i.ma(this.node,y.i.pa),this.Tc())},y.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,o){var s=y.a.g.Ub(e,S,{});return s.Fa||(s.Fa=new y.T),o&&o.notifyImmediately&&s.Zb[t]&&y.u.G(n,i,[e]),s.Fa.subscribe(n,i,t)},ma:function(e,t){var i=y.a.g.get(e,S);if(i&&(i.Zb[t]=!0,i.Fa&&i.Fa.notifySubscribers(e,t),t==y.i.H))if(i.N)i.N.Cc();else if(i.N===n&&i.Fa&&i.Fa.Wa(y.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var i=y.a.g.Ub(e,S,{});return i.N||(i.N=new t(e,i,n[m])),n[m]==i?n:n.extend((function(e){e[m]=i}))}},y.Td=function(e){return(e=y.a.g.get(e,S))&&e.context},y.ib=function(e,t,n){return 1===e.nodeType&&y.h.Sc(e),p(e,t,f(n))},y.ld=function(e,t,n){return n=f(n),y.ib(e,h(t,n,e),n)},y.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||u(f(e),t)},y.vc=function(e,t,n){if(!r&&i.jQuery&&(r=i.jQuery),2>arguments.length){if(!(t=o.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(f(e,n),t)},y.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?n:y.Td(e)},y.Ec=function(e){return(e=y.Dc(e))?e.$data:n},y.b("bindingHandlers",y.c),y.b("bindingEvent",y.i),y.b("bindingEvent.subscribe",y.i.subscribe),y.b("bindingEvent.startPossiblyAsyncContentBinding",y.i.Cb),y.b("applyBindings",y.vc),y.b("applyBindingsToDescendants",y.Oa),y.b("applyBindingAccessorsToNode",y.ib),y.b("applyBindingsToNode",y.ld),y.b("contextFor",y.Dc),y.b("dataFor",y.Ec)}(),function(e){function t(t,i){var r,a=Object.prototype.hasOwnProperty.call(o,t)?o[t]:e;a?a.subscribe(i):((a=o[t]=new y.T).subscribe(i),n(t,(function(e,n){var i=!(!n||!n.synchronous);s[t]={definition:e,Gd:i},delete o[t],r||i?a.notifySubscribers(e):y.na.zb((function(){a.notifySubscribers(e)}))})),r=!0)}function n(e,t){i("getConfig",[e],(function(n){n?i("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function i(t,n,o,s){s||(s=y.j.loaders.slice(0));var r=s.shift();if(r){var a=r[t];if(a){var l=!1;if(a.apply(r,n.concat((function(e){l?o(null):null!==e?o(e):i(t,n,o,s)})))!==e&&(l=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,s)}else o(null)}var o={},s={};y.j={get:function(n,i){var o=Object.prototype.hasOwnProperty.call(s,n)?s[n]:e;o?o.Gd?y.u.G((function(){i(o.definition)})):y.na.zb((function(){i(o.definition)})):t(n,i)},Bc:function(e){delete s[e]},oc:i},y.j.loaders=[],y.b("components",y.j),y.b("components.get",y.j.get),y.b("components.clearCachedDefinition",y.j.Bc)}(),function(){function e(e,t,n,i){function o(){0==--a&&i(s)}var s={},a=2,l=n.template;n=n.viewModel,l?r(t,l,(function(t){y.j.oc("loadTemplate",[e,t],(function(e){s.template=e,o()}))})):o(),n?r(t,n,(function(t){y.j.oc("loadViewModel",[e,t],(function(e){s[h]=e,o()}))})):o()}function n(e){switch(y.a.R(e)){case"script":return y.a.ua(e.text);case"textarea":return y.a.ua(e.value);case"template":if(s(e.content))return y.a.Ca(e.content.childNodes)}return y.a.Ca(e.childNodes)}function s(e){return i.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,n,o){"string"==typeof n.require?t||i.require?(t||i.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),o(e)})):e("Uses require, but no AMD loader is present"):o(n)}function a(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};y.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(y.j.tb(e))throw Error("Component "+e+" is already registered");l[e]=t},y.j.tb=function(e){return Object.prototype.hasOwnProperty.call(l,e)},y.j.unregister=function(e){delete l[e],y.j.Bc(e)},y.j.Fc={getConfig:function(e,t){t(y.j.tb(e)?l[e]:null)},loadComponent:function(t,n,i){var o=a(t);r(o,n,(function(n){e(t,o,n,i)}))},loadTemplate:function(e,t,r){if(e=a(e),"string"==typeof t)r(y.a.ua(t));else if(t instanceof Array)r(t);else if(s(t))r(y.a.la(t.childNodes));else if(t.element)if(t=t.element,i.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)r(n(t));else if("string"==typeof t){var l=o.getElementById(t);l?r(n(l)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i((function(e){return new n(e)}));else if("function"==typeof n[h])i(n[h]);else if("instance"in n){var o=n.instance;i((function(){return o}))}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(a(e),t,n)}};var h="createViewModel";y.b("components.register",y.j.register),y.b("components.isRegistered",y.j.tb),y.b("components.unregister",y.j.unregister),y.b("components.defaultLoader",y.j.Fc),y.j.loaders.push(y.j.Fc),y.j.dd=l}(),function(){function e(e,n){if(i=e.getAttribute("params")){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),o=(i=y.a.Ga(i,(function(t){return y.o(t,null,{l:e})})),y.a.Ga(i,(function(t){var n=t.v();return t.ja()?y.o({read:function(){return y.a.f(t())},write:y.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=i),o}return{$raw:{}}}y.j.getComponentNameForNode=function(e){var t=y.a.R(e);if(y.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=y.a.W&&e.tagName===t))return t},y.j.tc=function(t,n,i,o){if(1===n.nodeType){var s=y.j.getComponentNameForNode(n);if(s){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:s,params:e(n,i)};t.component=o?function(){return r}:r}}return t};var t=new y.ga;9>y.a.W&&(y.j.register=function(e){return function(t){return e.apply(this,arguments)}}(y.j.register),o.createDocumentFragment=function(e){return function(){var t=e();return y.j.dd,t}}(o.createDocumentFragment))}(),function(){var e=0;y.c.component={init:function(t,n,i,o,s){function r(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),h&&h.s(),l=a=h=null}var a,l,h,c=y.a.la(y.h.childNodes(t));return y.h.Ea(t),y.a.K.za(t,r),y.o((function(){var i,o,u=y.a.f(n());if("string"==typeof u?i=u:(i=y.a.f(u.name),o=y.a.f(u.params)),!i)throw Error("No component name specified");var d=y.i.Cb(t,s),p=l=++e;y.j.get(i,(function(e){if(l===p){if(r(),!e)throw Error("Unknown component '"+i+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=y.a.Ca(t),y.h.va(n,e)}(i,e,t);var n=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,o,{element:t,templateNodes:c});e=d.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=c}}),n&&n.koDescendantsComplete&&(h=y.i.subscribe(t,y.i.pa,n.koDescendantsComplete,n)),a=n,y.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},y.h.ea.component=!0}();var R={class:"className",for:"htmlFor"};y.c.attr={update:function(e,t){var i=y.a.f(t())||{};y.a.P(i,(function(t,i){i=y.a.f(i);var o=t.indexOf(":"),s=(o="lookupNamespaceURI"in e&&0<o&&e.lookupNamespaceURI(t.substr(0,o)),!1===i||null===i||i===n);s?o?e.removeAttributeNS(o,t):e.removeAttribute(t):i=i.toString(),8>=y.a.W&&t in R?(t=R[t],s?e.removeAttribute(t):e[t]=i):s||(o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)),"name"===t&&y.a.Yc(e,s?"":i)}))}},y.c.checked={after:["value","attr"],init:function(e,t,i){function o(){var o=e.checked,l=s();if(!y.S.Ya()&&(o||!a&&!y.S.qa())){var u=y.u.G(t);if(h){var p=c?u.v():u,f=d;d=l,f!==l?o&&(y.a.Na(p,l,!0),y.a.Na(p,f,!1)):y.a.Na(p,l,o),c&&y.Za(u)&&u(p)}else r&&(l===n?l=o:o||(l=n)),y.m.eb(u,i,"checked",l,!0)}}var s=y.xb((function(){return i.has("checkedValue")?y.a.f(i.get("checkedValue")):u?i.has("value")?y.a.f(i.get("value")):e.value:void 0})),r="checkbox"==e.type,a="radio"==e.type;if(r||a){var l=t(),h=r&&y.a.f(l)instanceof Array,c=!(h&&l.push&&l.splice),u=a||h,d=h?s():n;a&&!e.name&&y.c.uniqueName.init(e,(function(){return!0})),y.o(o,null,{l:e}),y.a.B(e,"click",o),y.o((function(){var i=y.a.f(t()),o=s();h?(e.checked=0<=y.a.A(i,o),d=o):e.checked=r&&o===n?!!i:s()===i}),null,{l:e}),l=n}}},y.m.wa.checked=!0,y.c.checkedValue={update:function(e,t){e.value=y.a.f(t())}},y.c.class={update:function(e,t){var n=y.a.Db(y.a.f(t()));y.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,y.a.Eb(e,n,!0)}},y.c.css={update:function(e,t){var n=y.a.f(t());null!==n&&"object"==typeof n?y.a.P(n,(function(t,n){n=y.a.f(n),y.a.Eb(e,t,n)})):y.c.class.update(e,t)}},y.c.enable={update:function(e,t){var n=y.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},y.c.disable={update:function(e,t){y.c.enable.update(e,(function(){return!y.a.f(t())}))}},y.c.event={init:function(e,t,n,i,o){var s=t()||{};y.a.P(s,(function(s){"string"==typeof s&&y.a.B(e,s,(function(e){var r,a=t()[s];if(a){try{var l=y.a.la(arguments);i=o.$data,l.unshift(i),r=a.apply(i,l)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(s+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},y.c.foreach={Rc:function(e){return function(){var t=e(),n=y.a.bc(t);return n&&"number"!=typeof n.length?(y.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.ba.Ma}):{foreach:t,templateEngine:y.ba.Ma}}},init:function(e,t){return y.c.template.init(e,y.c.foreach.Rc(t))},update:function(e,t,n,i,o){return y.c.template.update(e,y.c.foreach.Rc(t),n,i,o)}},y.m.Ra.foreach=!1,y.h.ea.foreach=!0,y.c.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var s;try{s=o.activeElement}catch(e){s=o.body}i=s===e}o=t(),y.m.eb(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),s=i.bind(null,!1);y.a.B(e,"focus",o),y.a.B(e,"focusin",o),y.a.B(e,"blur",s),y.a.B(e,"focusout",s),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!y.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),y.u.G(y.a.Fb,null,[e,n?"focusin":"focusout"]))}},y.m.wa.hasfocus=!0,y.c.hasFocus=y.c.hasfocus,y.m.wa.hasFocus="hasfocus",y.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.fc(e,t())}},function(){function e(e,t,n){y.c[e]={init:function(e,i,o,s,r){var a,l,h,c,u,d={};if(t){s=o.get("as");var p=o.get("noChildContext");d={as:s,noChildContext:p,exportDependencies:u=!(s&&p)}}return c=(h="render"==o.get("completeOn"))||o.has(y.i.pa),y.o((function(){var o,s=y.a.f(i()),p=!n!=!s,f=!l;(u||p!==a)&&(c&&(r=y.i.Cb(e,r)),p&&(t&&!u||(d.dataDependency=y.S.o()),o=t?r.createChildContext("function"==typeof s?s:i,d):y.S.qa()?r.extend(null,d):r),f&&y.S.qa()&&(l=y.a.Ca(y.h.childNodes(e),!0)),p?(f||y.h.va(e,y.a.Ca(l)),y.Oa(o,e)):(y.h.Ea(e),h||y.i.ma(e,y.i.H)),a=p)}),null,{l:e}),{controlsDescendantBindings:!0}}},y.m.Ra[e]=!1,y.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),y.c.let={init:function(e,t,n,i,o){return t=o.extend(t),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.let=!0;var k={};y.c.options={init:function(e){if("select"!==y.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,i){function o(){return y.a.jb(e.options,(function(e){return e.selected}))}function s(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(t,n){if(f&&c)y.i.ma(e,y.i.H);else if(p.length){var i=0<=y.a.A(p,y.w.M(n[0]));y.a.Zc(n[0],i),f&&!i&&y.u.G(y.a.Fb,null,[e,"change"])}}var a=e.multiple,l=0!=e.length&&a?e.scrollTop:null,h=y.a.f(t()),c=i.get("valueAllowUnset")&&i.has("value"),u=i.get("optionsIncludeDestroyed");t={};var d,p=[];c||(a?p=y.a.Mb(o(),y.w.M):0<=e.selectedIndex&&p.push(y.w.M(e.options[e.selectedIndex]))),h&&(void 0===h.length&&(h=[h]),d=y.a.jb(h,(function(e){return u||e===n||null===e||!y.a.f(e._destroy)})),i.has("optionsCaption")&&null!==(h=y.a.f(i.get("optionsCaption")))&&h!==n&&d.unshift(k));var f=!1;t.beforeRemove=function(t){e.removeChild(t)},h=r,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(h=function(e,t){r(0,t),y.u.G(i.get("optionsAfterRender"),null,[t[0],e!==k?e:n])}),y.a.ec(e,d,(function(t,o,r){return r.length&&(p=!c&&r[0].selected?[y.w.M(r[0])]:[],f=!0),o=e.ownerDocument.createElement("option"),t===k?(y.a.Bb(o,i.get("optionsCaption")),y.w.cb(o,n)):(r=s(t,i.get("optionsValue"),t),y.w.cb(o,y.a.f(r)),t=s(t,i.get("optionsText"),r),y.a.Bb(o,t)),[o]}),t,h),c||(a?p.length&&o().length<p.length:p.length&&0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex])!==p[0]:p.length||0<=e.selectedIndex)&&y.u.G(y.a.Fb,null,[e,"change"]),(c||y.S.Ya())&&y.i.ma(e,y.i.H),y.a.wd(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},y.c.options.$b=y.a.g.Z(),y.c.selectedOptions={init:function(e,t,n){function i(){var i=t(),o=[];y.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&o.push(y.w.M(e))})),y.m.eb(i,n,"selectedOptions",o)}function o(){var n=y.a.f(t()),i=e.scrollTop;n&&"number"==typeof n.length&&y.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=y.a.A(n,y.w.M(e));e.selected!=t&&y.a.Zc(e,t)})),e.scrollTop=i}if("select"!=y.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var s;y.i.subscribe(e,y.i.H,(function(){s?i():(y.a.B(e,"change",i),s=y.o(o,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},y.m.wa.selectedOptions=!0,y.c.style={update:function(e,t){var i=y.a.f(t()||{});y.a.P(i,(function(t,i){if(null!==(i=y.a.f(i))&&i!==n&&!1!==i||(i=""),r)r(e).css(t,i);else if(/^--/.test(t))e.style.setProperty(t,i);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var o=e.style[t];e.style[t]=i,i===o||e.style[t]!=o||isNaN(i)||(e.style[t]=i+"px")}}))}},y.c.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");y.a.B(e,"submit",(function(n){var i,s=t();try{i=s.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},y.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.Bb(e,t())}},y.h.ea.text=!0,function(){if(i&&i.navigator){var e,t,o,s,r,a=function(e){if(e)return parseFloat(e[1])},l=i.navigator.userAgent;(e=i.opera&&i.opera.version&&parseInt(i.opera.version()))||(r=a(l.match(/Edge\/([^ ]+)$/)))||a(l.match(/Chrome\/([^ ]+)/))||(t=a(l.match(/Version\/([^ ]+) Safari/)))||(o=a(l.match(/Firefox\/([^ ]+)/)))||(s=y.a.W||a(l.match(/MSIE ([^ ]+)/)))||(s=a(l.match(/rv:([^ )]+)/)))}if(8<=s&&10>s)var h=y.a.g.Z(),c=y.a.g.Z(),u=function(e){var t=this.activeElement;(t=t&&y.a.g.get(t,c))&&t(e)},d=function(e,t){var n=e.ownerDocument;y.a.g.get(n,h)||(y.a.g.set(n,h,!0),y.a.B(n,"selectionchange",u)),y.a.g.set(e,c,t)};y.c.textInput={init:function(i,a,l){function h(e,t){y.a.B(i,e,t)}function c(){p||(f=i.value,p=y.a.setTimeout(u,4))}function u(){clearTimeout(p),f=p=n;var e=i.value;g!==e&&(g=e,y.m.eb(a(),l,"textInput",e))}var p,f,g=i.value,m=9==y.a.W?c:u,b=!1;s&&h("keypress",u),11>s&&h("propertychange",(function(e){b||"value"!==e.propertyName||m(e)})),8==s&&(h("keyup",u),h("keydown",u)),d&&(d(i,m),h("dragend",c)),(!s||9<=s)&&h("input",m),5>t&&"textarea"===y.a.R(i)?(h("keydown",c),h("paste",c),h("cut",c)):11>e?h("keydown",c):4>o?(h("DOMAutoComplete",u),h("dragdrop",u),h("drop",u)):r&&"number"===i.type&&h("keydown",c),h("change",u),h("blur",u),y.o((function e(){var t=y.a.f(a());null!==t&&t!==n||(t=""),f!==n&&t===f?y.a.setTimeout(e,4):i.value!==t&&(b=!0,i.value=t,b=!1,g=i.value)}),null,{l:i})}},y.m.wa.textInput=!0,y.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),y.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++y.c.uniqueName.rd;y.a.Yc(e,n)}}},y.c.uniqueName.rd=0,y.c.using={init:function(e,t,n,i,o){var s;return n.has("as")&&(s={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=o.createChildContext(t,s),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.using=!0,y.c.value={init:function(e,t,i){var o=y.a.R(e),s="input"==o;if(!s||"checkbox"!=e.type&&"radio"!=e.type){var r=[],a=i.get("valueUpdate"),l=!1,h=null;a&&(r="string"==typeof a?[a]:y.a.wc(a),y.a.Pa(r,"change"));var c,u,d=function(){h=null,l=!1;var n=t(),o=y.w.M(e);y.m.eb(n,i,"value",o)};!y.a.W||!s||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=y.a.A(r,"propertychange")||(y.a.B(e,"propertychange",(function(){l=!0})),y.a.B(e,"focus",(function(){l=!1})),y.a.B(e,"blur",(function(){l&&d()}))),y.a.D(r,(function(t){var n=d;y.a.Ud(t,"after")&&(n=function(){h=y.w.M(e),y.a.setTimeout(d,0)},t=t.substring(5)),y.a.B(e,t,n)})),c=s&&"file"==e.type?function(){var i=y.a.f(t());null===i||i===n||""===i?e.value="":y.u.G(d)}:function(){var s=y.a.f(t()),r=y.w.M(e);null!==h&&s===h?y.a.setTimeout(c,0):s===r&&r!==n||("select"===o?(r=i.get("valueAllowUnset"),y.w.cb(e,s,r),r||s===y.w.M(e)||y.u.G(d)):y.w.cb(e,s))},"select"===o?y.i.subscribe(e,y.i.H,(function(){u?i.get("valueAllowUnset")?c():d():(y.a.B(e,"change",d),u=y.o(c,null,{l:e}))}),null,{notifyImmediately:!0}):(y.a.B(e,"change",d),y.o(c,null,{l:e}))}else y.ib(e,{checkedValue:t})},update:function(){}},y.m.wa.value=!0,y.c.visible={update:function(e,t){var n=y.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},y.c.hidden={update:function(e,t){y.c.visible.update(e,(function(){return!y.a.f(t())}))}},function(e){y.c[e]={init:function(t,n,i,o,s){return y.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),i,o,s)}}}("click"),y.ca=function(){},y.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},y.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},y.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||o).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new y.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new y.C.ia(e);throw Error("Unknown template type: "+e)},y.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},y.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},y.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},y.b("templateEngine",y.ca),y.kc=function(){function e(e,t,n,i){e=y.m.ac(e);for(var o=y.m.Ra,s=0;s<e.length;s++){var r=e[s].key;if(Object.prototype.hasOwnProperty.call(o,r)){var a=o[r];if("function"==typeof a){if(r=a(e[s].value))throw Error(r)}else if(!a)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+y.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return y.kc.Ld(e,t)}),n)},Ld:function(i,o){return i.replace(t,(function(t,n,i,s,r){return e(r,n,i,o)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",o)}))},md:function(e,t){return y.aa.Xb((function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&y.ib(o,e,i)}))}}}(),y.b("__tr_ambtns",y.kc.md),function(){y.C={},y.C.F=function(e){if(this.F=e){var t=y.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},y.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?y.a.fc(this.F,t):this.F[e]=t};var e=y.a.g.Z()+"_";y.C.F.prototype.data=function(t){if(1===arguments.length)return y.a.g.get(this.F,e+t);y.a.g.set(this.F,e+t,arguments[1])};var t=y.a.g.Z();y.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var i=y.a.g.get(e,t)||{},o=i.lb||(3===this.ab?e.content:4===this.ab?e:n);if(!o||i.jd){var s=this.text();s&&s!==i.bb&&(o=y.a.Md(s,e.ownerDocument),y.a.g.set(e,t,{lb:o,bb:s,jd:!0}))}return o}i=arguments[0],this.ab!==n&&this.text(""),y.a.g.set(e,t,{lb:i})},y.C.ia=function(e){this.F=e},y.C.ia.prototype=new y.C.F,y.C.ia.prototype.constructor=y.C.ia,y.C.ia.prototype.text=function(){if(0==arguments.length){var e=y.a.g.get(this.F,t)||{};return e.bb===n&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}y.a.g.set(this.F,t,{bb:arguments[0]})},y.b("templateSources",y.C),y.b("templateSources.domElement",y.C.F),y.b("templateSources.anonymousTemplate",y.C.ia)}(),function(){function e(e,t,n){var i;for(t=y.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=y.h.nextSibling(i))}function t(t,n){if(t.length){var i=t[0],o=t[t.length-1],s=i.parentNode,r=y.ga.instance,a=r.preprocessNode;if(a){if(e(i,o,(function(e,t){var n=e.previousSibling,s=a.call(r,e);s&&(e===i&&(i=s[0]||t),e===o&&(o=s[s.length-1]||n))})),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),y.a.Ua(t,s))}e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.vc(n,e)})),e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.aa.cd(e,[n])})),y.a.Ua(t,s)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,n,o,s,a){a=a||{};var l=(e&&i(e)||o||{}).ownerDocument,h=a.templateEngine||r;if(y.kc.xd(o,h,l),"number"!=typeof(o=h.renderTemplate(o,s,a,l)).length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":y.h.va(e,o),l=!0;break;case"replaceNode":y.a.Xc(e,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(o,s),a.afterRender&&y.u.G(a.afterRender,null,[o,s[a.as||"$data"]]),"replaceChildren"==n&&y.i.ma(e,y.i.H)),o}function s(e,t,n){return y.O(e)?e():"function"==typeof e?e(t,n):e}var r;y.gc=function(e){if(e!=n&&!(e instanceof y.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=e},y.dc=function(e,t,a,l,h){if(((a=a||{}).templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",l){var c=i(l);return y.$((function(){var n=t&&t instanceof y.fa?t:new y.fa(t,null,null,null,{exportDependencies:!0}),r=s(e,n.$data,n);n=o(l,h,r,n,a),"replaceNode"==h&&(c=i(l=n))}),null,{Sa:function(){return!c||!y.a.Sb(c)},l:c&&"replaceNode"==h?c.parentNode:c})}return y.aa.Xb((function(n){y.dc(e,t,a,n,"replaceNode")}))},y.Qd=function(e,i,r,a,l){function h(e,t){y.u.G(y.a.ec,null,[a,e,u,r,c,t]),y.i.ma(a,y.i.H)}function c(e,n){t(n,d),r.afterRender&&r.afterRender(n,e),d=null}function u(t,n){d=l.createChildContext(t,{as:p,noChildContext:r.noChildContext,extend:function(e){e.$index=n,p&&(e[p+"Index"]=n)}});var i=s(e,t,d);return o(a,"ignoreTargetNode",i,d,r)}var d,p=r.as,f=!1===r.includeDestroyed||y.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!y.Pc(i))return y.$((function(){var e=y.a.f(i)||[];void 0===e.length&&(e=[e]),f&&(e=y.a.jb(e,(function(e){return e===n||null===e||!y.a.f(e._destroy)}))),h(e)}),null,{l:a});h(i.v());var g=i.subscribe((function(e){h(i(),e)}),null,"arrayChange");return g.l(a),g};var a=y.a.g.Z(),l=y.a.g.Z();y.c.template={init:function(e,t){var n=y.a.f(t());if("string"==typeof n||"name"in n)y.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],y.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&y.a.g.get(i,l)||(i=y.a.Yb(n),y.a.g.set(i,l,!0)),new y.C.ia(e).nodes(i)}else{if(!(0<(n=y.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=y.a.Yb(n),new y.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,o,s){var r=t();i=!0,o=null,"string"==typeof(t=y.a.f(r))?t={}:(r="name"in t?t.name:e,"if"in t&&(i=y.a.f(t.if)),i&&"ifnot"in t&&(i=!y.a.f(t.ifnot)),i&&!r&&(i=!1)),"foreach"in t?o=y.Qd(r,i&&t.foreach||[],t,e,s):i?(i=s,"data"in t&&(i=s.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),o=y.dc(r,i,t,e)):y.h.Ea(e),s=o,(t=y.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),y.a.g.set(e,a,!s||s.ja&&!s.ja()?n:s)}},y.m.Ra.template=function(e){return 1==(e=y.m.ac(e)).length&&e[0].unknown||y.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.h.ea.template=!0}(),y.b("setTemplateEngine",y.gc),y.b("renderTemplate",y.dc),y.a.Kc=function(e,t,n){var i,o,s,r,a;if(e.length&&t.length)for(i=o=0;(!n||i<n)&&(r=e[o]);++o){for(s=0;a=t[s];++s)if(r.value===a.value){r.moved=a.index,a.moved=r.index,t.splice(s,1),i=s=0;break}i+=s}},y.a.Pb=function(){function e(e,t,n,i,o){var s,r,a,l,h,c=Math.min,u=Math.max,d=[],p=e.length,f=t.length,g=f-p||1,m=p+f+1;for(s=0;s<=p;s++)for(l=a,d.push(a=[]),h=c(f,s+g),r=u(0,s-1);r<=h;r++)a[r]=r?s?e[s-1]===t[r-1]?l[r-1]:c(l[r]||m,a[r-1]||m)+1:r+1:s+1;for(c=[],u=[],g=[],s=p,r=f;s||r;)f=d[s][r]-1,r&&f===d[s][r-1]?u.push(c[c.length]={status:n,value:t[--r],index:r}):s&&f===d[s-1][r]?g.push(c[c.length]={status:i,value:e[--s],index:s}):(--r,--s,o.sparse||c.push({status:"retained",value:t[r]}));return y.a.Kc(g,u,!o.dontLimitMoves&&10*p),c.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),y.b("utils.compareArrays",y.a.Pb),function(){function e(e,t,i,o,s){var r=[],a=y.$((function(){var n=t(i,s,y.a.Ua(r,e))||[];0<r.length&&(y.a.Xc(r,n),o&&y.u.G(o,null,[i,n,s])),r.length=0,y.a.Nb(r,n)}),null,{l:e,Sa:function(){return!y.a.kd(r)}});return{Y:r,$:a.ja()?a:n}}var t=y.a.g.Z(),i=y.a.g.Z();y.a.ec=function(o,s,r,a,l,h){function c(e){p={Aa:e,pb:y.ta(N++)},E.push(p),w||I.push(p)}function u(e){p=b[e],N!==p.pb.v()&&x.push(p),p.pb(N++),y.a.Ua(p.Y,o),E.push(p)}function d(e,t){if(e)for(var n=0,i=t.length;n<i;n++)y.a.D(t[n].Y,(function(i){e(i,n,t[n].Aa)}))}void 0===(s=s||[]).length&&(s=[s]),a=a||{};var p,f,g,m,b=y.a.g.get(o,t),w=!b,E=[],S=0,N=0,v=[],C=[],T=[],x=[],I=[],P=0;if(w)y.a.D(s,c);else{if(!h||b&&b._countWaitingForRemove){var A=y.a.Mb(b,(function(e){return e.Aa}));h=y.a.Pb(A,s,{dontLimitMoves:a.dontLimitMoves,sparse:!0})}var O,R,k;for(A=0;O=h[A];A++)switch(R=O.moved,k=O.index,O.status){case"deleted":for(;S<k;)u(S++);R===n&&((p=b[S]).$&&(p.$.s(),p.$=n),y.a.Ua(p.Y,o).length&&(a.beforeRemove&&(E.push(p),P++,p.Aa===i?p=null:T.push(p)),p&&v.push.apply(v,p.Y))),S++;break;case"added":for(;N<k;)u(S++);R!==n?(C.push(E.length),u(R)):c(O.value)}for(;N<s.length;)u(S++);E._countWaitingForRemove=P}y.a.g.set(o,t,E),d(a.beforeMove,x),y.a.D(v,a.beforeRemove?y.oa:y.removeNode);try{m=o.ownerDocument.activeElement}catch(e){}if(C.length)for(;(A=C.shift())!=n;){for(p=E[A],f=n;A;)if((g=E[--A].Y)&&g.length){f=g[g.length-1];break}for(s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f)}for(A=0;p=E[A];A++){for(p.Y||y.a.extend(p,e(o,r,p.Aa,l,p.pb)),s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f);!p.Ed&&l&&(l(p.Aa,p.Y,p.pb),p.Ed=!0,f=p.Y[p.Y.length-1])}for(m&&o.ownerDocument.activeElement!=m&&m.focus(),d(a.beforeRemove,T),A=0;A<T.length;++A)T[A].Aa=i;d(a.afterMove,x),d(a.afterAdd,I)}}(),y.b("utils.setDomNodeChildrenFromArrayMapping",y.a.ec),y.ba=function(){this.allowTemplateRewriting=!1},y.ba.prototype=new y.ca,y.ba.prototype.constructor=y.ba,y.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=9>y.a.W||!e.nodes?null:e.nodes())?y.a.la(t.cloneNode(!0).childNodes):(e=e.text(),y.a.ua(e,i))},y.ba.Ma=new y.ba,y.gc(y.ba.Ma),y.b("nativeTemplateEngine",y.ba),function(){y.$a=function(){var e=this.Hd=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,i,s){if(s=s||o,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=t.data("precompiled");return a||(a=t.text()||"",a=r.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),t.data("precompiled",a)),t=[n.$data],n=r.extend({koBindingContext:n},i.templateOptions),(n=r.tmpl(a,t,n)).appendTo(s.createElement("div")),r.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){o.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.$a.prototype=new y.ca,y.$a.prototype.constructor=y.$a;var e=new y.$a;0<e.Hd&&y.gc(e),y.b("jqueryTmplTemplateEngine",y.$a)}()}))}()})),o=e((function(e,t){function n(e){t.isDebug=e}function i(e){switch(e){case"ltr":return t.PageProgression.LTR;case"rtl":return t.PageProgression.RTL;default:throw new Error(`unknown PageProgression: ${e}`)}}var o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=!1,function(e){e.LTR="ltr",e.RTL="rtl"}(t.PageProgression||(t.PageProgression={})),(o=t.PageSide||(t.PageSide={})).LEFT="left",o.RIGHT="right",(s=t.ReadyState||(t.ReadyState={})).LOADING="loading",s.INTERACTIVE="interactive",s.COMPLETE="complete";const r={PageProgression:t.PageProgression,PageSide:t.PageSide,ReadyState:t.ReadyState};var a;function l(e){const t=Array.from(e);let n=null;return t[0]instanceof Error&&(n=t.shift()),{error:n,messages:t}}function h(e){const t=e.error,n=t&&(t.frameTrace||t.stack);let i=[].concat(e.messages);return t&&(i.length>0&&(i=i.concat(["\n"])),i=i.concat([t.toString()]),n&&(i=i.concat(["\n"]).concat(n))),i}!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(a||(a={}));const c=new class{constructor(e){this.opt_console=e,this.listeners={}}consoleDebug(e){this.opt_console?this.opt_console.debug?this.opt_console.debug(...e):this.opt_console.log(...e):console.debug(...e)}consoleInfo(e){this.opt_console?this.opt_console.info?this.opt_console.info(...e):this.opt_console.log(...e):console.info(...e)}consoleWarn(e){this.opt_console?this.opt_console.warn?this.opt_console.warn(...e):this.opt_console.log(...e):console.warn(...e)}consoleError(e){this.opt_console?this.opt_console.error?this.opt_console.error(...e):this.opt_console.log(...e):console.error(...e)}triggerListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>{e(t)})}addListener(e,t){let n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)}debug(...e){const t=l(arguments);this.consoleDebug(h(t)),this.triggerListeners(a.DEBUG,t)}info(...e){const t=l(arguments);this.consoleInfo(h(t)),this.triggerListeners(a.INFO,t)}warn(...e){const t=l(arguments);this.consoleWarn(h(t)),this.triggerListeners(a.WARN,t)}error(...e){const t=l(arguments);this.consoleError(h(t)),this.triggerListeners(a.ERROR,t)}};var u;(u=t.HOOKS||(t.HOOKS={})).SIMPLE_PROPERTY="SIMPLE_PROPERTY",u.PREPROCESS_SINGLE_DOCUMENT="PREPROCESS_SINGLE_DOCUMENT",u.PREPROCESS_TEXT_CONTENT="PREPROCESS_TEXT_CONTENT",u.PREPROCESS_ELEMENT_STYLE="PREPROCESS_ELEMENT_STYLE",u.POLYFILLED_INHERITED_PROPS="POLYFILLED_INHERITED_PROPS",u.CONFIGURATION="CONFIGURATION",u.RESOLVE_TEXT_NODE_BREAKER="RESOLVE_TEXT_NODE_BREAKER",u.RESOLVE_FORMATTING_CONTEXT="RESOLVE_FORMATTING_CONTEXT",u.RESOLVE_LAYOUT_PROCESSOR="RESOLVE_LAYOUT_PROCESSOR",u.POST_LAYOUT_BLOCK="POST_LAYOUT_BLOCK";const d={};function p(e,n){if(t.HOOKS[e]){let t=d[e];t||(t=d[e]=[]),t.push(n)}else c.warn(new Error(`Skipping unknown plugin hook '${e}'.`))}function f(e,n){if(t.HOOKS[e]){const t=d[e];if(t){const e=t.indexOf(n);e>=0&&t.splice(e,1)}}else c.warn(new Error(`Ignoring unknown plugin hook '${e}'.`))}function g(e){return d[e]||[]}const m={registerHook:p,removeHook:f};class b{constructor(e){this.performanceInstance=e,this.timestamps={},this.registerTiming=w,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=w}forceRegisterStartTiming(e,t){E.call(this,e,"start",t)}forceRegisterEndTiming(e,t){E.call(this,e,"end",t)}printTimings(){const e=this.timestamps;let t="";Object.keys(e).forEach(n=>{const i=e[n],o=i.length;for(let e=0;e<o;e++){const s=i[e];t+=n,o>1&&(t+=`(${e})`),t+=` => start: ${s.start}, end: ${s.end}, duration: ${s.end-s.start}\n`}}),c.info(t)}disable(){this.registerTiming=w,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=w}enable(){this.registerTiming=E,this.registerStartTiming=this.registerStartTiming=y,this.registerEndTiming=this.registerEndTiming=S}isEnabled(){return this.registerStartTiming===y}}function w(){}function E(e,t,n){n||(n=this.performanceInstance.now());let i,o=this.timestamps[e];o||(o=this.timestamps[e]=[]);for(let e=o.length-1;e>=0&&(i=o[e],!i||i[t]);e--)i=null;i||(i={},o.push(i)),i[t]=n}function y(e,t){this.registerTiming(e,"start",t)}function S(e,t){this.registerTiming(e,"end",t)}const N={now:Date.now},v=new b(window&&window.performance||N);v.forceRegisterStartTiming("load_vivliostyle");const C={profiler:{registerStartTiming:v.registerStartTiming,registerEndTiming:v.registerEndTiming,printTimings:v.printTimings,disable:v.disable,enable:v.enable}};let T={};function x(e){return JSON.parse(e)}function I(e){const t=e.match(/^([^#]*)/);return t?t[1]:e}let P=window.location.href;function A(e){P=e}let O=window.location.href;function R(e){O=e}function k(e,t){if(/^data:/i.test(t))return e||t;if(!t||e.match(/^\w{2,}:/))return e.toLowerCase().match("^javascript:")?"#":(e.match(/^\w{2,}:\/\/[^\/]+$/)&&(e=`${e}/`),e);let n;if(t.match(/^\w{2,}:\/\/[^\/]+$/)&&(t=`${t}/`),e.match(/^\/\//))return n=t.match(/^(\w{2,}:)\/\//),n?n[1]+e:e;if(e.match(/^\//))return n=t.match(/^(\w{2,}:\/\/[^\/]+)\//),n?n[1]+e:e;if(e.match(/^\.(\/|$)/)&&(e=e.substr(2)),t=function(e){const t=e.match(/^([^#?]*)/);return t?t[1]:e}(t),e.match(/^#/))return t+e;let i=t.lastIndexOf("/");if(i<0)return e;if(i<t.length-1&&t.lastIndexOf(".")<i){if(""==e)return t;i=(t+="/").length-1}let o=t.substr(0,i+1)+e,s="";for(n=o.match(/^([^?#]*)([?#].*)$/),n&&(o=n[1],s=n[2]);i=o.indexOf("/../"),!(i<=0);){const e=o.lastIndexOf("/",i-1);if(e<=0)break;o=o.substr(0,e)+o.substr(i+3)}return o.replace(/\/(\.\/)+/g,"/")+s}function L(e){let t;return(t=/^(https?:)\/\/github\.com\/([^/]+\/[^/]+)\/(blob\/|tree\/|raw\/)?(.*)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/${t[2]}/${t[3]?"":"master/"}${t[4]}`:(t=/^(https?:)\/\/www\.aozora\.gr\.jp\/(cards\/[^/]+\/files\/[^/.]+\.html)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/aozorabunko/aozorabunko/master/${t[2]}`:(t=/^(https?:)\/\/gist\.github\.com\/([^/]+\/\w+)(\/|$)(raw(\/|$))?(.*)$/.exec(e))?e=`${t[1]}//gist.githubusercontent.com/${t[2]}/raw/${t[6]}`:(t=/^(https?:)\/\/(?:[^/.]+\.)?jsbin\.com\/(?!(?:blog|help)\b)(\w+)((\/\d+)?).*$/.exec(e))&&(e=`${t[1]}//output.jsbin.com/${t[2]}${t[3]}/`),e}var F;function D(e){return null==e?e:e.toString()}!function(e){e.FB2="http://www.gribuser.ru/xml/fictionbook/2.0",e.epub="http://www.idpf.org/2007/ops",e.EV="http://www.w3.org/2001/xml-events",e.MATHML="http://www.w3.org/1998/Math/MathML",e.XML="http://www.w3.org/XML/1998/namespace",e.XHTML="http://www.w3.org/1999/xhtml",e.XLINK="http://www.w3.org/1999/xlink",e.SHADOW="http://www.pyroxy.com/ns/shadow",e.SVG="http://www.w3.org/2000/svg",e.DC="http://purl.org/dc/elements/1.1/",e.NCX="http://www.daisy.org/z3986/2005/ncx/",e.SSE="http://example.com/sse"}(F||(F={}));class _{constructor(){this.queue=[null]}length(){return this.queue.length-1}add(e){let t=this.queue.length;for(;t>1;){const n=Math.floor(t/2),i=this.queue[n];if(i.compare(e)>0)return void(this.queue[t]=e);this.queue[t]=i,t=n}this.queue[1]=e}peek(){return this.queue[1]}remove(){const e=this.queue[1],t=this.queue.pop(),n=this.queue.length;if(n>1){let e=1;for(;;){let i=2*e;if(i>=n)break;if(this.queue[i].compare(t)>0)i+1<n&&this.queue[i+1].compare(this.queue[i])>0&&i++;else{if(!(i+1<n&&this.queue[i+1].compare(t)>0))break;i++}this.queue[e]=this.queue[i],e=i}this.queue[e]=t}return e}}const B=["","-webkit-","-moz-","-ms-","-o-","-epub-"],M={};function U(e,t){if("writing-mode"===t){const n=document.createElement("span");return"-ms-"===e?(n.style.setProperty(e+t,"tb-rl"),"tb-rl"===n.style["writing-mode"]):(n.style.setProperty(e+t,"vertical-rl"),"vertical-rl"===n.style[e+t])}return"string"==typeof document.documentElement.style[function(e,t){return e&&(t=`-${t}`,"moz"===(e=e.replace(/-/g,""))&&(e="Moz")),e+t.replace(/-[a-z]/g,e=>e.substr(1).toUpperCase())}(e,t)]}function z(e){let t=M[e];if(t||null===t)return t;switch(e){case"text-combine-upright":if(U("-webkit-","text-combine")&&!U("","text-combine-upright"))return M[e]=["-webkit-text-combine"],["-webkit-text-combine"];break;case"writing-mode":if(U("-ms-","writing-mode"))return M[e]=["-ms-writing-mode"],["-ms-writing-mode"];break;case"filter":if(U("-webkit-","filter"))return M[e]=["-webkit-filter"],["-webkit-filter"];break;case"clip-path":if(U("-webkit-","clip-path"))return M[e]=["-webkit-clip-path","clip-path"];break;case"margin-inline-start":if(U("-webkit-","margin-start"))return M[e]=["-webkit-margin-start"],["-webkit-margin-start"];break;case"margin-inline-end":if(U("-webkit-","margin-end"))return M[e]=["-webkit-margin-end"],["-webkit-margin-end"];break;case"padding-inline-start":if(U("-webkit-","padding-start"))return M[e]=["-webkit-padding-start"],["-webkit-padding-start"];break;case"padding-inline-end":if(U("-webkit-","padding-end"))return M[e]=["-webkit-padding-end"],["-webkit-padding-end"]}for(const n of B)if(U(n,e))return t=n+e,M[e]=[t],[t];return c.warn("Property not supported by the browser: ",e),M[e]=null,null}function V(e,t,n){try{const i=z(t);if(!i)return;i.forEach(t=>{if("-ms-writing-mode"===t)switch(n){case"horizontal-tb":n="lr-tb";break;case"vertical-rl":n="tb-rl";break;case"vertical-lr":n="tb-lr"}else if("-webkit-text-combine"===t)switch(n){case"all":n="horizontal"}e&&e.style&&e.style.setProperty(t,n)})}catch(e){c.warn(e)}}function H(e,t,n){try{const n=M[t];return e.style.getPropertyValue(n?n[0]:t)}catch(e){}return n||""}function G(e){let t=e.getAttributeNS(F.XML,"lang");return t||e.namespaceURI!=F.XHTML||(t=e.getAttribute("lang")),t}class ${constructor(){this.list=[]}append(e){return this.list.push(e),this}clear(){this.list=[]}toString(){const e=this.list.join("");return this.list=[e],e}}function W(e){return`\\${e.charCodeAt(0).toString(16)} `}function X(e){return e.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,W)}function j(e){return e.replace(/[\u0000-\u001F"\\]/g,W)}function K(e){return e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function Y(e){return!!e.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function q(e,t){return e.replace(/[^-a-zA-Z0-9_]/g,(function(e){return function(e,t){return(t="string"==typeof t?t:"\\u")+(65536|e.charCodeAt(0)).toString(16).substr(1)}(e,t)}))}function Z(e){return q(e)}function Q(e,t){let n=0,i=e;for(;;){if(0==n||t(n-1),i==e||t(i),n==i)return n;const o=n+i>>1;t(o)?i=o:n=o+1}}function J(e,t){return e-t}function ee(e,t){const n={};for(const i of e){const e=t(i);e&&!n[e]&&(n[e]=i)}return n}function te(e,t){const n={};for(const i of e){const e=t(i);e&&(n[e]?n[e].push(i):n[e]=[i])}return n}class ne{constructor(){this.listeners={}}dispatchEvent(e){const t=this.listeners[e.type];if(t){e.target=this,e.currentTarget=this;for(let n=0;n<t.length;n++)t[n](e)}}addEventListener(e,t,n){if(n)return;const i=this.listeners[e];i?i.push(t):this.listeners[e]=[t]}removeEventListener(e,t,n){if(n)return;const i=this.listeners[e];if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}}}let ie=null,oe=null,se=null,re=null;function ae(e){if(1==e.nodeType){const t=e.getAttribute("id");if(t&&t.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/))return t}return null}function le(e){return`^${e}`}function he(e){return e.replace(/[\[\]\(\),=;^]/g,le)}function ce(e){return e.substr(1)}function ue(e){return e?e.replace(/\^[\[\]\(\),=;^]/g,ce):e}function de(e){const t=[];do{const n=e.match(/^(\^,|[^,])*/),i=ue(n[0]);if(!(e=e.substr(n[0].length+1))&&!t.length)return i;t.push(i)}while(e);return t}function pe(e){const t={};for(;e;){const n=e.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!n)return t;t[n[1]]=de(n[2]),e=e.substr(n[0].length)}return t}class fe{appendTo(e){e.append("!")}applyTo(e){return!1}}class ge{constructor(e,t,n){this.index=e,this.id=t,this.sideBias=n}appendTo(e){e.append("/"),e.append(this.index.toString()),(this.id||this.sideBias)&&(e.append("["),this.id&&e.append(this.id),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}applyTo(e){if(1!=e.node.nodeType)throw new Error("E_CFI_NOT_ELEMENT");const t=e.node,n=t.children,i=n.length;let o;const s=Math.floor(this.index/2)-1;if(s<0||0==i)o=t.firstChild,e.node=o||t;else{if(o=n[Math.min(s,i-1)],1&this.index){const t=o.nextSibling;t&&1!=t.nodeType?o=t:e.after=!0}e.node=o}if(this.id&&(e.after||this.id!=ae(e.node)))throw new Error("E_CFI_ID_MISMATCH");return e.sideBias=this.sideBias,!0}}class me{constructor(e,t,n,i){this.offset=e,this.textBefore=t,this.textAfter=n,this.sideBias=i}applyTo(e){if(this.offset>0&&!e.after){let t=this.offset,n=e.node;for(;;){const e=n.nodeType;if(1==e)break;const i=n.nextSibling;if(3<=e&&e<=5){const e=n.textContent.length;if(t<=e)break;if(!i){t=e;break}t-=e}if(!i){t=0;break}n=i}e.node=n,e.offset=t}return e.sideBias=this.sideBias,!0}appendTo(e){e.append(":"),e.append(this.offset.toString()),(this.textBefore||this.textAfter||this.sideBias)&&(e.append("["),(this.textBefore||this.textAfter)&&(this.textBefore&&e.append(he(this.textBefore)),e.append(","),this.textAfter&&e.append(he(this.textAfter))),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}}class be{constructor(){this.steps=null}fromString(e){let t=e.match(/^#?epubcfi\((.*)\)$/);if(!t)throw new Error("E_CFI_NOT_CFI");const n=t[1];let i=0;const o=[];for(;;){let e;switch(n.charAt(i)){case"/":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10),r=t[3];e=pe(t[4]),o.push(new ge(s,r,D(e.s)));break}case":":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10);let r=t[4];r&&(r=ue(r));let a=t[7];a&&(a=ue(a)),e=pe(t[10]),o.push(new me(s,r,a,D(e.s)));break}case"!":i++,o.push(new fe);break;case"~":case"@":case"":return void(this.steps=o);default:throw new Error("E_CFI_PARSE_ERROR")}}}navigate(e){const t={node:e.documentElement,offset:0,after:!1,sideBias:null,ref:null};for(let e=0;e<this.steps.length;e++)if(!this.steps[e].applyTo(t)){t.ref=new be,t.ref.steps=this.steps.slice(e+1);break}return t}trim(e,t){return e.replace(/\s+/g," ").match(t?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}prependPathFromNode(e,t,n,i){const o=[];let s=e.parentNode,r="",a="";for(;e;){switch(e.nodeType){case 3:case 4:case 5:{const i=e.textContent,o=i.length;n?(t+=o,r||(r=i)):(t>o&&(t=o),n=!0,r=i.substr(0,t),a=i.substr(t)),e=e.previousSibling;continue}case 8:e=e.previousSibling;continue}break}for((t>0||r||a)&&(r=this.trim(r,!1),a=this.trim(a,!0),o.push(new me(t,r,a,i)),i=null);s&&s&&9!=s.nodeType;){const t=n?null:ae(e);let r=n?1:0;for(;e;)1==e.nodeType&&(r+=2),e=e.previousSibling;o.push(new ge(r,t,i)),i=null,e=s,s=s.parentNode,n=!1}o.reverse(),this.steps?(o.push(new fe),this.steps=o.concat(this.steps)):this.steps=o}toString(){if(!this.steps)return"";const e=new $;e.append("epubcfi(");for(let t=0;t<this.steps.length;t++)this.steps[t].appendTo(e);return e.append(")"),e.toString()}}function we(e){return{fontFamily:e.fontFamily,lineHeight:e.lineHeight,margin:e.margin,hyphenate:e.hyphenate,columnWidth:e.columnWidth,horizontal:e.horizontal,nightMode:e.nightMode,spreadView:e.spreadView,pageBorder:e.pageBorder,enabledMediaTypes:Object.assign({},e.enabledMediaTypes),defaultPaperSize:e.defaultPaperSize?Object.assign({},e.defaultPaperSize):void 0}}const Ee={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},ye={};function Se(e,t,n,i){const o=Math.min((e-0)/n,(t-0)/i);return`matrix(${o},0,0,${o},0,0)`}function Ne(e){return`"${j(`${e}`)}"`}function ve(e){return X(`${e}`)}function Ce(e,t){return e?`${X(e)}.${X(t)}`:X(t)}let Te=0;class xe{constructor(e,t){if(this.parent=e,this.resolver=t,this.children=[],this.values={},this.funcs={},this.builtIns={},this.scopeKey=`S${Te++}`,this.zero=new at(this,0),this.one=new at(this,1),this._true=new at(this,!0),this._false=new at(this,!1),e&&e.children.push(this),!e){const e=this.builtIns;e.floor=Math.floor,e.ceil=Math.ceil,e.round=Math.round,e.sqrt=Math.sqrt,e.min=Math.min,e.max=Math.max,e.letterbox=Se,e["css-string"]=Ne,e["css-name"]=ve,e.typeof=e=>typeof e,this.defineBuiltInName("page-width",(function(){return this.pageWidth()})),this.defineBuiltInName("page-height",(function(){return this.pageHeight()})),this.defineBuiltInName("pref-font-family",(function(){return this.pref.fontFamily})),this.defineBuiltInName("pref-night-mode",(function(){return this.pref.nightMode})),this.defineBuiltInName("pref-hyphenate",(function(){return this.pref.hyphenate})),this.defineBuiltInName("pref-margin",(function(){return this.pref.margin})),this.defineBuiltInName("pref-line-height",(function(){return this.pref.lineHeight})),this.defineBuiltInName("pref-column-width",(function(){return this.pref.columnWidth*this.fontSize})),this.defineBuiltInName("pref-horizontal",(function(){return this.pref.horizontal})),this.defineBuiltInName("pref-spread-view",(function(){return this.pref.spreadView})),this.defineBuiltInName("pub-title",(function(){return Ne(this.pubTitle?this.pubTitle:"")})),this.defineBuiltInName("doc-title",(function(){return Ne(this.docTitle?this.docTitle:"")}))}}defineBuiltInName(e,t){this.values[e]=new ot(this,t,e)}defineName(e,t){this.values[e]=t}defineFunc(e,t){this.funcs[e]=t}defineBuiltIn(e,t){this.builtIns[e]=t}}function Ie(e){switch(e.toLowerCase()){case"vw":case"vh":case"vi":case"vb":case"vmin":case"vmax":case"pvw":case"pvh":case"pvi":case"pvb":case"pvmin":case"pvmax":return!0;default:return!1}}const Pe={px:1,in:96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,dppx:1,dpi:1/96,dpcm:2.54/96};function Ae(e){switch(e){case"q":case"rem":return!0;default:return!1}}class Oe{constructor(e,t,n,i){this.rootScope=e,this.viewportWidth=t,this.viewportHeight=n,this.actualPageWidth=null,this.actualPageHeight=null,this.rootFontSize=null,this.scopes={},this.pageAreaWidth=null,this.pageAreaHeight=null,this.pageVertical=null,this.pubTitle=null,this.docTitle=null,this.pageWidth=function(){return this.actualPageWidth?this.actualPageWidth:this.pref.spreadView?Math.floor(t/2)-this.pref.pageBorder:t},this.pageHeight=function(){return this.actualPageHeight?this.actualPageHeight:n},this.initialFontSize=i,this.fontSize=function(){return this.rootFontSize?this.rootFontSize:i},this.pref=Ee}getScopeContext(e){let t=this.scopes[e.scopeKey];return t||(t={},this.scopes[e.scopeKey]=t),t}clearScope(e){this.scopes[e.scopeKey]={};for(let t=0;t<e.children.length;t++)this.clearScope(e.children[t])}queryUnitSize(e,t){if(Ie(e)){const t=this.pageWidth()/100,n=this.pageHeight()/100,i=null!=this.pageAreaWidth?this.pageAreaWidth/100:t,o=null!=this.pageAreaHeight?this.pageAreaHeight/100:n;switch(e){case"vw":return i;case"vh":return o;case"vi":return this.pageVertical?o:i;case"vb":return this.pageVertical?i:o;case"vmin":return i<o?i:o;case"vmax":return i>o?i:o;case"pvw":return t;case"pvh":return n;case"pvi":return this.pageVertical?n:t;case"pvb":return this.pageVertical?t:n;case"pvmin":return t<n?t:n;case"pvmax":return t>n?t:n}}return"em"==e||"rem"==e?t?this.initialFontSize:this.fontSize():"ex"==e?Pe.ex*(t?this.initialFontSize:this.fontSize())/Pe.em:Pe[e]}evalName(e,t){do{let n=e.values[t];if(n)return n;if(e.resolver&&(n=e.resolver.call(this,t,!1),n))return n;e=e.parent}while(e);throw new Error(`Name '${t}' is undefined`)}evalCall(e,t,n,i){do{let o=e.funcs[t];if(o)return o;if(e.resolver&&(o=e.resolver.call(this,t,!0),o))return o;const s=e.builtIns[t];if(s){if(i)return e.zero;const t=Array(n.length);for(let e=0;e<n.length;e++)t[e]=n[e].evaluate(this);return new at(e,s.apply(this,t))}e=e.parent}while(e);throw new Error(`Function '${t}' is undefined`)}evalMediaName(e,t){const n="all"===e||!!this.pref.enabledMediaTypes[e];return t?!n:n}evalMediaTest(e,t){let n="";const i=e.match(/^(min|max)-(.*)$/);i&&(n=i[1],e=i[2]);let o=null,s=null;switch(e){case"width":case"height":case"device-width":case"device-height":case"color":t&&(o=t.evaluate(this))}switch(e){case"width":s=this.pageWidth();break;case"height":s=this.pageHeight();break;case"device-width":s=window.screen.availWidth;break;case"device-height":s=window.screen.availHeight;break;case"color":s=window.screen.pixelDepth}if(null!=s&&null!=o)switch(n){case"min":return s>=o;case"max":return s<=o;default:return s==o}else if(null!=s&&null==t)return 0!==s;return!1}queryVal(e,t){const n=this.scopes[e.scopeKey];return n?n[t]:void 0}storeVal(e,t,n){this.getScopeContext(e)[t]=n}}class Re{constructor(e){this.scope=e,this.scope=e,this.key=`_${Te++}`}toString(){const e=new $;return this.appendTo(e,0),e.toString()}appendTo(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){throw new Error("F_ABSTRACT")}expand(e,t){return this}dependCore(e,t,n){return e===this}dependOuter(e,t,n){const i=n[this.key];if(null!=i)return i!==ye&&i;{n[this.key]=ye;const i=this.dependCore(e,t,n);return n[this.key]=i,i}}depend(e,t){return this.dependOuter(e,t,{})}evaluate(e){let t=e.queryVal(this.scope,this.key);return void 0!==t||(t=this.evaluateCore(e),e.storeVal(this.scope,this.key,t)),t}isMediaName(){return!1}}class ke extends Re{constructor(e,t){super(e),this.val=t}getOp(){throw new Error("F_ABSTRACT")}evalPrefix(e){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.val.evaluate(e);return this.evalPrefix(t)}dependCore(e,t,n){return e===this||this.val.dependOuter(e,t,n)}appendTo(e,t){10<t&&e.append("("),e.append(this.getOp()),this.val.appendTo(e,10),10<t&&e.append(")")}expand(e,t){const n=this.val.expand(e,t);return n===this.val?this:new this.constructor(this.scope,n)}}class Le extends Re{constructor(e,t,n){super(e),this.lhs=t,this.rhs=n}getPriority(){throw new Error("F_ABSTRACT")}getOp(){throw new Error("F_ABSTRACT")}evalInfix(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.lhs.evaluate(e),n=this.rhs.evaluate(e);return this.evalInfix(t,n)}dependCore(e,t,n){return e===this||this.lhs.dependOuter(e,t,n)||this.rhs.dependOuter(e,t,n)}appendTo(e,t){const n=this.getPriority();n<=t&&e.append("("),this.lhs.appendTo(e,n),e.append(this.getOp()),this.rhs.appendTo(e,n),n<=t&&e.append(")")}expand(e,t){const n=this.lhs.expand(e,t),i=this.rhs.expand(e,t);return n===this.lhs&&i===this.rhs?this:new this.constructor(this.scope,n,i)}}class Fe extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 1}}class De extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 2}}class _e extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 3}}class Be extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 4}}class Me extends ke{constructor(e,t){super(e,t)}getOp(){return"!"}evalPrefix(e){return!e}}class Ue extends ke{constructor(e,t){super(e,t)}getOp(){return"-"}evalPrefix(e){return-e}}class ze extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"&&"}evaluateCore(e){return this.lhs.evaluate(e)&&this.rhs.evaluate(e)}}class Ve extends ze{constructor(e,t,n){super(e,t,n)}getOp(){return" and "}}class He extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"||"}evaluateCore(e){return this.lhs.evaluate(e)||this.rhs.evaluate(e)}}class Ge extends He{constructor(e,t,n){super(e,t,n)}getOp(){return", "}}class $e extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"<"}evalInfix(e,t){return e<t}}class We extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"<="}evalInfix(e,t){return e<=t}}class Xe extends De{constructor(e,t,n){super(e,t,n)}getOp(){return">"}evalInfix(e,t){return e>t}}class je extends De{constructor(e,t,n){super(e,t,n)}getOp(){return">="}evalInfix(e,t){return e>=t}}class Ke extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"=="}evalInfix(e,t){return e==t}}class Ye extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"!="}evalInfix(e,t){return e!=t}}class qe extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"+"}evalInfix(e,t){return e+t}}class Ze extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return" - "}evalInfix(e,t){return e-t}}class Qe extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"*"}evalInfix(e,t){return e*t}}class Je extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"/"}evalInfix(e,t){return e/t}}class et extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"%"}evalInfix(e,t){return e%t}}class tt extends Re{constructor(e,t,n){super(e),this.num=t,this.unit=n.toLowerCase()}appendTo(e,t){e.append(this.num.toString()),e.append(X(this.unit))}evaluateCore(e){return this.num*e.queryUnitSize(this.unit,!1)}}class nt extends Re{constructor(e,t){super(e),this.qualifiedName=t}appendTo(e,t){e.append(this.qualifiedName)}evaluateCore(e){return e.evalName(this.scope,this.qualifiedName).evaluate(e)}dependCore(e,t,n){return e===this||t.evalName(this.scope,this.qualifiedName).dependOuter(e,t,n)}}class it extends Re{constructor(e,t,n){super(e),this.not=t,this.name=n}appendTo(e,t){this.not&&e.append("not "),e.append(X(this.name))}evaluateCore(e){return e.evalMediaName(this.name,this.not)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}isMediaName(){return!0}}class ot extends Re{constructor(e,t,n){super(e),this.fn=t,this.str=n}appendTo(e,t){e.append(this.str)}evaluateCore(e){return this.fn.call(e)}}class st extends Re{constructor(e,t,n){super(e),this.qualifiedName=t,this.params=n}appendTo(e,t){e.append(this.qualifiedName),function(e,t){e.append("(");for(let n=0;n<t.length;n++)n&&e.append(","),t[n].appendTo(e,0);e.append(")")}(e,this.params)}evaluateCore(e){return e.evalCall(this.scope,this.qualifiedName,this.params,!1).expand(e,this.params).evaluate(e)}dependCore(e,t,n){if(e===this)return!0;for(let i=0;i<this.params.length;i++)if(this.params[i].dependOuter(e,t,n))return!0;return t.evalCall(this.scope,this.qualifiedName,this.params,!0).dependOuter(e,t,n)}expand(e,t){const n=function(e,t,n){let i=t;for(let o=0;o<t.length;o++){const s=t[o].expand(e,n);if(t!==i)i[o]=s;else if(s!==t[o]){i=Array(t.length);for(let e=0;e<o;e++)i[e]=t[e];i[o]=s}}return i}(e,this.params,t);return n===this.params?this:new st(this.scope,this.qualifiedName,n)}}class rt extends Re{constructor(e,t,n,i){super(e),this.cond=t,this.ifTrue=n,this.ifFalse=i}appendTo(e,t){t>0&&e.append("("),this.cond.appendTo(e,0),e.append("?"),this.ifTrue.appendTo(e,0),e.append(":"),this.ifFalse.appendTo(e,0),t>0&&e.append(")")}evaluateCore(e){return this.cond.evaluate(e)?this.ifTrue.evaluate(e):this.ifFalse.evaluate(e)}dependCore(e,t,n){return e===this||this.cond.dependOuter(e,t,n)||this.ifTrue.dependOuter(e,t,n)||this.ifFalse.dependOuter(e,t,n)}expand(e,t){const n=this.cond.expand(e,t),i=this.ifTrue.expand(e,t),o=this.ifFalse.expand(e,t);return n===this.cond&&i===this.ifTrue&&o===this.ifFalse?this:new rt(this.scope,n,i,o)}}class at extends Re{constructor(e,t){super(e),this.val=t}appendTo(e,t){switch(typeof this.val){case"number":case"boolean":e.append(this.val.toString());break;case"string":e.append('"'),e.append(j(this.val)),e.append('"');break;default:throw new Error("F_UNEXPECTED_STATE")}}evaluateCore(e){return this.val}}class lt extends Re{constructor(e,t,n){super(e),this.name=t,this.value=n}appendTo(e,t){e.append("("),e.append(j(this.name.name)),e.append(":"),this.value.appendTo(e,0),e.append(")")}evaluateCore(e){return e.evalMediaTest(this.name.name,this.value)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}expand(e,t){const n=this.value.expand(e,t);return n===this.value?this:new lt(this.scope,this.name,n)}}class ht extends Re{constructor(e,t){super(e),this.index=t}appendTo(e,t){e.append("$"),e.append(this.index.toString())}expand(e,t){const n=t[this.index];if(!n)throw new Error(`Parameter missing: ${this.index}`);return n}}function ct(e,t,n){return t===e._false||t===e.zero||n==e._false||n==e.zero?e._false:t===e._true||t===e.one?n:n===e._true||n===e.one?t:new ze(e,t,n)}function ut(e,t,n){return t===e.zero?n:n===e.zero?t:new qe(e,t,n)}function dt(e,t,n){return t===e.zero?new Ue(e,n):n===e.zero?t:new Ze(e,t,n)}function pt(e,t,n){return t===e.zero||n===e.zero?e.zero:t===e.one?n:n===e.one?t:new Qe(e,t,n)}function ft(e,t,n){return t===e.zero?e.zero:n===e.one?t:new Je(e,t,n)}class gt{visitValues(e){for(let t=0;t<e.length;t++)e[t].visit(this)}visitEmpty(e){throw new Error("E_CSS_EMPTY_NOT_ALLOWED")}visitSlash(e){throw new Error("E_CSS_SLASH_NOT_ALLOWED")}visitStr(e){throw new Error("E_CSS_STR_NOT_ALLOWED")}visitIdent(e){throw new Error("E_CSS_IDENT_NOT_ALLOWED")}visitNumeric(e){throw new Error("E_CSS_NUMERIC_NOT_ALLOWED")}visitNum(e){throw new Error("E_CSS_NUM_NOT_ALLOWED")}visitInt(e){return this.visitNum(e)}visitColor(e){throw new Error("E_CSS_COLOR_NOT_ALLOWED")}visitURL(e){throw new Error("E_CSS_URL_NOT_ALLOWED")}visitSpaceList(e){throw new Error("E_CSS_LIST_NOT_ALLOWED")}visitCommaList(e){throw new Error("E_CSS_COMMA_NOT_ALLOWED")}visitFunc(e){throw new Error("E_CSS_FUNC_NOT_ALLOWED")}visitExpr(e){throw new Error("E_CSS_EXPR_NOT_ALLOWED")}}class mt extends gt{constructor(){super()}visitValues(e){let t=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.visit(this);if(t)t[n]=o;else if(i!==o){t=new Array(e.length);for(let i=0;i<n;i++)t[i]=e[i];t[n]=o}}return t||e}visitStr(e){return e}visitIdent(e){return e}visitSlash(e){return e}visitNumeric(e){return e}visitNum(e){return e}visitInt(e){return e}visitColor(e){return e}visitURL(e){return e}visitSpaceList(e){const t=this.visitValues(e.values);return t===e.values?e:new kt(t)}visitCommaList(e){const t=this.visitValues(e.values);return t===e.values?e:new Lt(t)}visitFunc(e){const t=this.visitValues(e.values);return t===e.values?e:new Ft(e.name,t)}visitExpr(e){return e}}class bt{toString(){const e=new $;return this.appendTo(e,!0),e.toString()}stringValue(){const e=new $;return this.appendTo(e,!1),e.toString()}toExpr(e,t){throw new Error("F_ABSTRACT")}appendTo(e,t){e.append("[error]")}isExpr(){return!1}isNumeric(){return!1}isNum(){return!1}isIdent(){return!1}isSpaceList(){return!1}visit(e){throw new Error("F_ABSTRACT")}}class wt extends bt{constructor(){super()}static get instance(){return this.empty||(this.empty=new wt),this.empty}toExpr(e,t){return new at(e,"")}appendTo(e,t){}visit(e){return e.visitEmpty(this)}}const Et=wt.instance;class yt extends bt{constructor(){super()}static get instance(){return this.slash||(this.slash=new yt),this.slash}toExpr(e,t){return new at(e,"/")}appendTo(e,t){e.append("/")}visit(e){return e.visitSlash(this)}}const St=yt.instance;class Nt extends bt{constructor(e){super(),this.str=e}toExpr(e,t){return new at(e,this.str)}appendTo(e,t){t?(e.append('"'),e.append(j(this.str)),e.append('"')):e.append(this.str)}visit(e){return e.visitStr(this)}}const vt={};class Ct extends bt{constructor(e){if(super(),this.name=e,vt[e])throw new Error("E_INVALID_CALL");vt[e]=this}toExpr(e,t){return new at(e,this.name)}appendTo(e,t){t?e.append(X(this.name)):e.append(this.name)}visit(e){return e.visitIdent(this)}isIdent(){return!0}}function Tt(e){let t=vt[e];return t||(t=new Ct(e)),t}class xt extends bt{constructor(e,t){super(),this.num=e,this.unit=t.toLowerCase()}toExpr(e,t){return 0==this.num?e.zero:t&&"%"==this.unit?100==this.num?t:new Qe(e,t,new at(e,this.num/100)):new tt(e,this.num,this.unit)}appendTo(e,t){e.append(this.num.toString()),e.append(this.unit)}visit(e){return e.visitNumeric(this)}isNumeric(){return!0}}class It extends bt{constructor(e){super(),this.num=e}toExpr(e,t){return 0==this.num?e.zero:1==this.num?e.one:new at(e,this.num)}appendTo(e,t){e.append(this.num.toString())}visit(e){return e.visitNum(this)}isNum(){return!0}}class Pt extends It{constructor(e){super(e)}visit(e){return e.visitInt(this)}}class At extends bt{constructor(e){super(),this.rgb=e}appendTo(e,t){e.append("#");const n=this.rgb.toString(16);e.append("000000".substr(n.length)),e.append(n)}visit(e){return e.visitColor(this)}}class Ot extends bt{constructor(e){super(),this.url=e}appendTo(e,t){e.append('url("'),e.append(j(this.url)),e.append('")')}visit(e){return e.visitURL(this)}}function Rt(e,t,n,i){const o=t.length;t[0].appendTo(e,i);for(let s=1;s<o;s++)e.append(n),t[s].appendTo(e,i)}class kt extends bt{constructor(e){super(),this.values=e}appendTo(e,t){Rt(e,this.values," ",t)}visit(e){return e.visitSpaceList(this)}isSpaceList(){return!0}}class Lt extends bt{constructor(e){super(),this.values=e}appendTo(e,t){Rt(e,this.values,",",t)}visit(e){return e.visitCommaList(this)}}class Ft extends bt{constructor(e,t){super(),this.name=e,this.values=t}appendTo(e,t){e.append(X(this.name)),e.append("("),Rt(e,this.values,",",t),e.append(")")}visit(e){return e.visitFunc(this)}}class Dt extends bt{constructor(e){super(),this.expr=e}toExpr(){return this.expr}appendTo(e,t){e.append("-epubx-expr("),this.expr.appendTo(e,0),e.append(")")}visit(e){return e.visitExpr(this)}isExpr(){return!0}}function _t(e,t){if(e){if(e.isNumeric()){const n=e;return t.queryUnitSize(n.unit,!1)*n.num}if(e.isNum())return e.num}return 0}function Bt(e,t){return new xt(_t(e,t),"px")}const Mt={absolute:Tt("absolute"),all:Tt("all"),always:Tt("always"),auto:Tt("auto"),avoid:Tt("avoid"),balance:Tt("balance"),balance_all:Tt("balance-all"),block:Tt("block"),block_end:Tt("block-end"),block_start:Tt("block-start"),both:Tt("both"),bottom:Tt("bottom"),border_box:Tt("border-box"),break_all:Tt("break-all"),break_word:Tt("break-word"),crop:Tt("crop"),cross:Tt("cross"),column:Tt("column"),exclusive:Tt("exclusive"),_false:Tt("false"),fixed:Tt("fixed"),flex:Tt("flex"),footnote:Tt("footnote"),footer:Tt("footer"),header:Tt("header"),hidden:Tt("hidden"),horizontal_tb:Tt("horizontal-tb"),inherit:Tt("inherit"),inline:Tt("inline"),inline_block:Tt("inline-block"),inline_end:Tt("inline-end"),inline_start:Tt("inline-start"),landscape:Tt("landscape"),left:Tt("left"),line:Tt("line"),list_item:Tt("list-item"),ltr:Tt("ltr"),manual:Tt("manual"),none:Tt("none"),normal:Tt("normal"),oeb_page_foot:Tt("oeb-page-foot"),oeb_page_head:Tt("oeb-page-head"),page:Tt("page"),relative:Tt("relative"),right:Tt("right"),same:Tt("same"),scale:Tt("scale"),snap_block:Tt("snap-block"),spread:Tt("spread"),_static:Tt("static"),rtl:Tt("rtl"),table:Tt("table"),table_caption:Tt("table-caption"),table_cell:Tt("table-cell"),table_footer_group:Tt("table-footer-group"),table_header_group:Tt("table-header-group"),table_row:Tt("table-row"),top:Tt("top"),transparent:Tt("transparent"),vertical_lr:Tt("vertical-lr"),vertical_rl:Tt("vertical-rl"),visible:Tt("visible"),_true:Tt("true")},Ut=new xt(100,"%"),zt=new xt(100,"pvw"),Vt=new xt(100,"pvh"),Ht=new xt(0,"px"),Gt={"font-size":1,color:2};function $t(e,t){return(Gt[e]||Number.MAX_VALUE)-(Gt[t]||Number.MAX_VALUE)}class Wt{constructor(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}}class Xt{constructor(e,t){this.x=e,this.y=t}}class jt{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class Kt{constructor(e,t,n,i){this.low=e,this.high=t,this.winding=n,this.shapeId=i}}class Yt{constructor(e,t,n,i){this.y1=e,this.y2=t,this.x1=n,this.x2=i,this.left=null,this.right=null}}function qt(e,t){return e.low.y-t.low.y||e.low.x-t.low.x}class Zt{constructor(e){this.points=e}addSegments(e,t){const n=this.points,i=n.length;let o=n[i-1];for(let s=0;s<i;s++){const i=n[s];let r;r=o.y<i.y?new Kt(o,i,1,t):new Kt(i,o,-1,t),e.push(r),o=i}}withOffset(e,t){const n=[];for(const i of this.points)n.push(new Xt(i.x+e,i.y+t));return new Zt(n)}}function Qt(e,t,n,i){const o=[];for(let s=0;s<20;s++){const r=2*s*Math.PI/20;o.push(new Xt(e+n*Math.sin(r),t+i*Math.cos(r)))}return new Zt(o)}function Jt(e,t,n,i){return new Zt([new Xt(e,t),new Xt(n,t),new Xt(n,i),new Xt(e,i)])}class en{constructor(e,t,n,i){this.x=e,this.winding=t,this.shapeId=n,this.lowOrHigh=i}}function tn(e,t){const n=e.low.x+(e.high.x-e.low.x)*(t-e.low.y)/(e.high.y-e.low.y);if(isNaN(n))throw new Error("Bad intersection");return n}function nn(e,t,n,i){let o,s,r,a;t.high.y<n&&c.warn("Error: inconsistent segment (1)"),t.low.y<=n?(o=tn(t,n),s=t.winding):(o=t.low.x,s=0),t.high.y>=i?(r=tn(t,i),a=t.winding):(r=t.high.x,a=0),o<r?(e.push(new en(o,s,t.shapeId,-1)),e.push(new en(r,a,t.shapeId,1))):(e.push(new en(r,a,t.shapeId,-1)),e.push(new en(o,s,t.shapeId,1)))}function on(e,t,n){const i=t+n,o=Array(i),s=Array(i);let r;for(r=0;r<=i;r++)o[r]=0,s[r]=0;const a=[];let l=!1;const h=e.length;for(let n=0;n<h;n++){const h=e[n];o[h.shapeId]+=h.winding,s[h.shapeId]+=h.lowOrHigh;let c=!1;for(r=0;r<t;r++)if(o[r]&&!s[r]){c=!0;break}if(c)for(r=t;r<=i;r++)if(o[r]||s[r]){c=!1;break}l!=c&&(a.push(h.x),l=c)}return a}function sn(e,t){return t?Math.floor(e/t)*t:e}function rn(e){return new Wt(e.y1,-e.x2,e.y2,-e.x1)}function an(e){return new Wt(-e.y2,e.x1,-e.y1,e.x2)}function ln(e){return new Zt(e.points.map(e=>function(e){return new Xt(e.y,-e.x)}(e)))}function hn(e,t){let n=t.length-1,i=new Yt(e.y2,e.y2,e.x1,e.x2);for(;n>=0;){const e=i;i=t[n],(i.y2-i.y1<1||i.x1==e.x1&&i.x2==e.x2)&&(e.y1=i.y1,t.splice(n,1),i=e),n--}}function cn(e,t){let n=0,i=e.length;for(;n<i;){const o=Math.floor((n+i)/2);t>=e[o].y2?n=o+1:i=o}return n}function un(e,t){if(!e.length)return t;let n,i,o=t.y1;for(i=0;i<e.length&&(n=e[i],!(n.y2>t.y1&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2));i++)o=Math.max(o,n.y2);let s=o;for(;i<e.length&&(n=e[i],!(n.y1>=t.y2||n.x1-.1>t.x1||n.x2+.1<t.x2));i++)s=n.y2;return s=i===e.length?t.y2:Math.min(s,t.y2),s<=o?null:new Wt(t.x1,o,t.x2,s)}function dn(e,t){if(!e.length)return t;let n,i,o=t.y2;for(i=e.length-1;i>=0&&(n=e[i],!(i===e.length-1&&n.y2<t.y2))&&!(n.y1<t.y2&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);i--)o=Math.min(o,n.y1);let s=Math.min(o,n.y2);for(;i>=0&&(n=e[i],!(n.y2<=t.y1||n.x1-.1>t.x1||n.x2+.1<t.x2));i--)s=n.y1;return s=Math.max(s,t.y1),o<=s?null:new Wt(t.x1,s,t.x2,o)}class pn extends gt{constructor(){super(),this.propSet={}}visitIdent(e){return this.propSet[e.name]=!0,e}visitSpaceList(e){return this.visitValues(e.values),e}}class fn extends gt{constructor(e){super(),this.value=e}visitInt(e){return this.value=e.num,e}}function gn(e,t){if(e){const n=new fn(t);try{return e.visit(n),n.value}catch(e){c.warn(e,"toInt: ")}}return t}class mn extends gt{constructor(){super(),this.collect=!1,this.coords=[],this.name=null}visitNumeric(e){return this.collect&&this.coords.push(e),null}visitNum(e){return this.collect&&0==e.num&&this.coords.push(new xt(0,"px")),null}visitSpaceList(e){return this.visitValues(e.values),null}visitFunc(e){return this.collect||(this.collect=!0,this.visitValues(e.values),this.collect=!1,this.name=e.name.toLowerCase()),null}getShape(e,t,n,i,o){if(this.coords.length>0){const s=[];switch(this.coords.forEach((e,t)=>{if("%"==e.unit){let o=t%2==0?n:i;3==t&&"circle"==this.name&&(o=Math.sqrt((n*n+i*i)/2)),s.push(e.num*o/100)}else s.push(e.num*o.queryUnitSize(e.unit,!1))}),this.name){case"polygon":if(s.length%2==0){const n=[];for(let i=0;i<s.length;i+=2)n.push(new Xt(e+s[i],t+s[i+1]));return new Zt(n)}break;case"rectangle":if(4==s.length)return Jt(e+s[0],t+s[1],e+s[0]+s[2],t+s[1]+s[3]);break;case"ellipse":if(4==s.length)return Qt(e+s[0],t+s[1],s[2],s[3]);break;case"circle":if(3==s.length)return Qt(e+s[0],t+s[1],s[2],s[2])}}return null}}function bn(e,t,n,i,o,s){if(e){const r=new mn;try{return e.visit(r),r.getShape(t,n,i,o,s)}catch(e){c.warn(e,"toShape:")}}return Jt(t,n,t+i,n+o)}class wn extends gt{constructor(e){super(),this.reset=e,this.counters={},this.name=null}visitIdent(e){return this.name=e.toString(),this.reset?this.counters[this.name]=0:this.counters[this.name]=(this.counters[this.name]||0)+1,e}visitInt(e){return this.name&&(this.counters[this.name]+=e.num-(this.reset?0:1)),e}visitSpaceList(e){return this.visitValues(e.values),e}}function En(e,t){const n=new wn(t);try{e.visit(n)}catch(e){c.warn(e,"toCounters:")}return n.counters}class yn extends mt{constructor(e,t){super(),this.baseUrl=e,this.transformer=t}visitURL(e){return new Ot(this.transformer.transformURL(e.url,this.baseUrl))}}function Sn(e){const t={};return Object.keys(e).forEach(n=>{t[n]=Array.from(e[n])}),t}class Nn{constructor(e,t){this.targetId=e,this.resolved=t,this.pageCounters=null,this.spineIndex=-1,this.pageIndex=-1}equals(e){return this===e||!!e&&this.targetId===e.targetId&&this.resolved===e.resolved&&this.spineIndex===e.spineIndex&&this.pageIndex===e.pageIndex}isResolved(){return this.resolved}resolve(){this.resolved=!0}unresolve(){this.resolved=!1}}class vn{constructor(e,t){this.counterStore=e,this.baseURL=t}countersOfId(e,t){e=this.counterStore.documentURLTransformer.transformFragment(e,this.baseURL),this.counterStore.countersById[e]=t}getExprContentListener(){return this.counterStore.getExprContentListener()}}class Cn{constructor(e,t,n,i){this.counterStore=e,this.baseURL=t,this.rootScope=n,this.pageScope=i,this.styler=null}setStyler(e){this.styler=e}getFragment(e){const t=e.match(/^[^#]*#(.*)$/);return t?t[1]:null}getTransformedId(e){let t=this.counterStore.documentURLTransformer.transformURL(k(e,this.baseURL),this.baseURL);return"#"===t.charAt(0)&&(t=t.substring(1)),t}getPageCounterVal(e,t){const n=this,i=new ot(this.pageScope,()=>t(function(){const t=n.counterStore.currentPageCounters[e];return t&&t.length?t[t.length-1]:null}()),`page-counter-${e}`);return this.counterStore.registerPageCounterExpr(e,(function(e){return t(e[0])}),i),i}getPageCountersVal(e,t){const n=this,i=new ot(this.pageScope,()=>t(n.counterStore.currentPageCounters[e]||[]),`page-counters-${e}`);return this.counterStore.registerPageCounterExpr(e,t,i),i}getTargetCounters(e,t,n){let i=this.counterStore.countersById[t];return!i&&n&&e&&(this.styler.styleUntilIdIsReached(e),i=this.counterStore.countersById[t]),i||null}getTargetPageCounters(e){return this.counterStore.currentPage.elementsById[e]?this.counterStore.currentPageCounters:this.counterStore.pageCountersById[e]||null}getTargetCounterVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e);let s=this.getTargetCounters(i,o,!1);if(s&&s[t]){const e=s[t];return new at(this.rootScope,n(e[e.length-1]||null))}const r=this;return new ot(this.pageScope,()=>{if(s=r.getTargetCounters(i,o,!0),s){if(s[t]){const e=s[t];return n(e[e.length-1]||null)}{const e=r.getTargetPageCounters(o);if(e){if(r.counterStore.resolveReference(o),e[t]){const i=e[t];return n(i[i.length-1]||null)}return n(0)}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"}}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counter-${t}-of-${e}`)}getTargetCountersVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e),s=this;return new ot(this.pageScope,()=>{const e=s.getTargetPageCounters(o);if(e){s.counterStore.resolveReference(o);const r=e[t]||[],a=s.getTargetCounters(i,o,!0)[t]||[];return n(r.concat(a))}return s.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counters-${t}-of-${e}`)}}class Tn{constructor(e){this.documentURLTransformer=e,this.countersById={},this.pageCountersById={},this.currentPageCounters={},this.previousPageCounters={},this.currentPageCountersStack=[],this.pageIndicesById={},this.currentPage=null,this.newReferencesOfCurrentPage=[],this.referencesToSolve=[],this.referencesToSolveStack=[],this.unresolvedReferences={},this.resolvedReferences={},this.pagesCounterExprs=[],this.currentPageCounters.page=[0]}createCounterListener(e){return new vn(this,e)}createCounterResolver(e,t,n){return new Cn(this,e,t,n)}setCurrentPage(e){this.currentPage=e}definePageCounter(e,t){this.currentPageCounters[e]?this.currentPageCounters[e].push(t):this.currentPageCounters[e]=[t]}forceSetPageCounter(e){const t=this.currentPageCounters.page;t&&t.length?t[t.length-1]=e:this.currentPageCounters.page=[e]}updatePageCounters(e,t){let n;this.previousPageCounters=Sn(this.currentPageCounters);const i=e["counter-reset"];if(i){const e=i.evaluate(t);e&&(n=En(e,!0))}if(n)for(const e in n)this.definePageCounter(e,n[e]);let o;const s=e["counter-increment"];if(s){const e=s.evaluate(t);e&&(o=En(e,!1))}o?"page"in o||(o.page=1):(o={},o.page=1);for(const e in o){this.currentPageCounters[e]||this.definePageCounter(e,0);const t=this.currentPageCounters[e];t[t.length-1]+=o[e]}}pushPageCounters(e){this.currentPageCountersStack.push(this.currentPageCounters),this.currentPageCounters=Sn(e)}popPageCounters(){this.currentPageCounters=this.currentPageCountersStack.pop()}resolveReference(e){const t=this.unresolvedReferences[e];let n=this.resolvedReferences[e];n||(n=this.resolvedReferences[e]=[]);let i=!1;for(let o=0;o<this.referencesToSolve.length;){const s=this.referencesToSolve[o];if(s.targetId===e){if(s.resolve(),this.referencesToSolve.splice(o,1),t){const e=t.indexOf(s);e>=0&&t.splice(e,1)}n.push(s),i=!0}else o++}i||this.saveReferenceOfCurrentPage(e,!0)}saveReferenceOfCurrentPage(e,t){if(!this.newReferencesOfCurrentPage.some(t=>t.targetId===e)){const n=new Nn(e,t);this.newReferencesOfCurrentPage.push(n)}}finishPage(e,t){const n=Object.keys(this.currentPage.elementsById);if(n.length>0){const i=Sn(this.currentPageCounters);n.forEach(n=>{this.pageCountersById[n]=i;const o=this.pageIndicesById[n];if(o&&o.pageIndex<t){const e=this.resolvedReferences[n];if(e){let t,i=this.unresolvedReferences[n];for(i||(i=this.unresolvedReferences[n]=[]);t=e.shift();)t.unresolve(),i.push(t)}}this.pageIndicesById[n]={spineIndex:e,pageIndex:t}})}const i=this.previousPageCounters;let o;for(;o=this.newReferencesOfCurrentPage.shift();){let n;o.pageCounters=i,o.spineIndex=e,o.pageIndex=t,o.isResolved()?(n=this.resolvedReferences[o.targetId],n||(n=this.resolvedReferences[o.targetId]=[])):(n=this.unresolvedReferences[o.targetId],n||(n=this.unresolvedReferences[o.targetId]=[])),n.every(e=>!o.equals(e))&&n.push(o)}this.currentPage=null}getUnresolvedRefsToPage(e){let t=[];Object.keys(e.elementsById).forEach(e=>{const n=this.unresolvedReferences[e];n&&(t=t.concat(n))}),t.sort((e,t)=>e.spineIndex-t.spineIndex||e.pageIndex-t.pageIndex);const n=[];let i=null;return t.forEach(e=>{i&&i.spineIndex===e.spineIndex&&i.pageIndex===e.pageIndex?i.refs.push(e):(i={spineIndex:e.spineIndex,pageIndex:e.pageIndex,pageCounters:e.pageCounters,refs:[e]},n.push(i))}),n}pushReferencesToSolve(e){this.referencesToSolveStack.push(this.referencesToSolve),this.referencesToSolve=e}popReferencesToSolve(){this.referencesToSolve=this.referencesToSolveStack.pop()}registerPageCounterExpr(e,t,n){"pages"===e&&this.pagesCounterExprs.push({expr:n,format:t})}getExprContentListener(){return this.exprContentListener.bind(this)}exprContentListener(e,t,n){if(this.pagesCounterExprs.findIndex(t=>t.expr===e)>=0){const i=n.createElement("span");return i.textContent=t,i.setAttribute(xn,e.key),i}return null}finishLastPage(e){const t=e.root.querySelectorAll(`[${xn}]`),n=this.currentPageCounters.page[0];Array.from(t).forEach(e=>{const t=e.getAttribute(xn),i=this.pagesCounterExprs.findIndex(e=>e.expr.key===t);e.textContent=this.pagesCounterExprs[i].format([n])})}createLayoutConstraint(e){return new In(this,e)}}const xn="data-vivliostyle-pages-counter";class In{constructor(e,t){this.counterStore=e,this.pageIndex=t}allowLayout(e){if(!e||e.after)return!0;const t=e.viewNode;if(!t||1!==t.nodeType)return!0;const n=t.getAttribute("id")||t.getAttribute("name");if(!n)return!0;if(!this.counterStore.resolvedReferences[n]&&!this.counterStore.unresolvedReferences[n])return!0;const i=this.counterStore.pageIndicesById[n];return!i||this.pageIndex>=i.pageIndex}}function Pn(e){if((e=e.substr(1)).match(/^[^0-9a-fA-F\n\r]$/))return e;const t=parseInt(e,16);return isNaN(t)?"":t<=65535?String.fromCharCode(t):t<=1114111?String.fromCharCode(55296|t>>10&1023,56320|1023&t):"�"}function An(e){return e.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,Pn)}var On,Rn;!function(e){e[e.EOF=0]="EOF",e[e.IDENT=1]="IDENT",e[e.STR=2]="STR",e[e.NUMERIC=3]="NUMERIC",e[e.NUM=4]="NUM",e[e.INT=5]="INT",e[e.FUNC=6]="FUNC",e[e.HASH=7]="HASH",e[e.URL=8]="URL",e[e.CLASS=9]="CLASS",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.O_BRC=12]="O_BRC",e[e.C_BRC=13]="C_BRC",e[e.O_BRK=14]="O_BRK",e[e.C_BRK=15]="C_BRK",e[e.COMMA=16]="COMMA",e[e.SEMICOL=17]="SEMICOL",e[e.COLON=18]="COLON",e[e.SLASH=19]="SLASH",e[e.AT=20]="AT",e[e.PERCENT=21]="PERCENT",e[e.QMARK=22]="QMARK",e[e.PLUS=23]="PLUS",e[e.MINUS=24]="MINUS",e[e.BAR_BAR=25]="BAR_BAR",e[e.AMP_AMP=26]="AMP_AMP",e[e.BANG=31]="BANG",e[e.DOLLAR=32]="DOLLAR",e[e.HAT=33]="HAT",e[e.BAR=34]="BAR",e[e.TILDE=35]="TILDE",e[e.STAR=36]="STAR",e[e.GT=37]="GT",e[e.LT=38]="LT",e[e.EQ=39]="EQ",e[e.BANG_EQ=41]="BANG_EQ",e[e.DOLLAR_EQ=42]="DOLLAR_EQ",e[e.HAT_EQ=43]="HAT_EQ",e[e.BAR_EQ=44]="BAR_EQ",e[e.TILDE_EQ=45]="TILDE_EQ",e[e.STAR_EQ=46]="STAR_EQ",e[e.GT_EQ=47]="GT_EQ",e[e.LT_EQ=48]="LT_EQ",e[e.EQ_EQ=49]="EQ_EQ",e[e.COL_COL=50]="COL_COL",e[e.INVALID=51]="INVALID",e[e.LAST=51]="LAST"}(On||(On={}));class kn{constructor(){this.precededBySpace=!1,this.num=0,this.text="",this.position=0,this.type=On.EOF}}function Ln(e,t){const n=Array(128);let i;for(i=0;i<128;i++)n[i]=e;for(n.NaN=e==Rn.END?Rn.END:Rn.INVALID,i=0;i<t.length;i+=2)n[t[i]]=t[i+1];return n}!function(e){e[e.SPACE=1]="SPACE",e[e.INT=2]="INT",e[e.IDENT=3]="IDENT",e[e.BANG=4]="BANG",e[e.HASH=6]="HASH",e[e.DOLLAR=7]="DOLLAR",e[e.PERCENT=8]="PERCENT",e[e.AMP=9]="AMP",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.STAR=12]="STAR",e[e.PLUS=13]="PLUS",e[e.COMMA=14]="COMMA",e[e.MINUS=15]="MINUS",e[e.DOT=16]="DOT",e[e.SLASH=17]="SLASH",e[e.COLON=18]="COLON",e[e.SEMICOL=19]="SEMICOL",e[e.LT=20]="LT",e[e.EQ=21]="EQ",e[e.GT=22]="GT",e[e.QMARK=23]="QMARK",e[e.AT=24]="AT",e[e.O_BRK=25]="O_BRK",e[e.C_BRK=26]="C_BRK",e[e.O_BRC=27]="O_BRC",e[e.C_BRC=28]="C_BRC",e[e.BSLASH=29]="BSLASH",e[e.HAT=30]="HAT",e[e.BAR=31]="BAR",e[e.TILDE=32]="TILDE",e[e.STR1=33]="STR1",e[e.STR2=34]="STR2",e[e.END=35]="END",e[e.EQTAIL=36]="EQTAIL",e[e.ENDINT=37]="ENDINT",e[e.ENDNUM=38]="ENDNUM",e[e.CONT=39]="CONT",e[e.UNIT=40]="UNIT",e[e.PCUNIT=41]="PCUNIT",e[e.NUMBER=42]="NUMBER",e[e.ENDIDNT=43]="ENDIDNT",e[e.IDNTESC=44]="IDNTESC",e[e.ENDIDES=45]="ENDIDES",e[e.ENDSTR=46]="ENDSTR",e[e.ENDESTR=47]="ENDESTR",e[e.STR1ESC=48]="STR1ESC",e[e.STR2ESC=49]="STR2ESC",e[e.BAR_BAR=50]="BAR_BAR",e[e.AMP_AMP=51]="AMP_AMP",e[e.FUNC=52]="FUNC",e[e.FUNCES=53]="FUNCES",e[e.COMMENT=54]="COMMENT",e[e.COMMST=55]="COMMST",e[e.ENDNOTK=56]="ENDNOTK",e[e.MINMIN=57]="MINMIN",e[e.TOINT=58]="TOINT",e[e.TONUM=59]="TONUM",e[e.TOIDENT=60]="TOIDENT",e[e.TOIDES=61]="TOIDES",e[e.KILL1=62]="KILL1",e[e.KILL2=63]="KILL2",e[e.URL=64]="URL",e[e.URL1=65]="URL1",e[e.URL2=66]="URL2",e[e.ENDURL=67]="ENDURL",e[e.TERMURL=68]="TERMURL",e[e.FINURL=69]="FINURL",e[e.LT_BG=70]="LT_BG",e[e.LT_BG_M=71]="LT_BG_M",e[e.INVALID=72]="INVALID",e[e.CHKPOSS=73]="CHKPOSS",e[e.CHKPOSN=74]="CHKPOSN",e[e.URLESC=75]="URLESC",e[e.IDESCH=76]="IDESCH",e[e.COL_COL=77]="COL_COL",e[e.TOCLASS=78]="TOCLASS",e[e.CHKSP=79]="CHKSP",e[e.EOF=80]="EOF"}(Rn||(Rn={}));const Fn=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.BANG,Rn.STR2,Rn.HASH,Rn.DOLLAR,Rn.PERCENT,Rn.AMP,Rn.STR1,Rn.O_PAR,Rn.C_PAR,Rn.STAR,Rn.PLUS,Rn.COMMA,Rn.MINUS,Rn.DOT,Rn.SLASH,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.COLON,Rn.SEMICOL,Rn.LT,Rn.EQ,Rn.GT,Rn.QMARK,Rn.AT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRK,Rn.BSLASH,Rn.C_BRK,Rn.HAT,Rn.IDENT,Rn.INVALID,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRC,Rn.BAR,Rn.C_BRC,Rn.TILDE,Rn.INVALID];Fn.NaN=Rn.EOF;const Dn=[Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.FUNC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.IDNTESC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT];Dn.NaN=Rn.ENDIDNT;const _n=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TONUM,Rn.INVALID,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.TOIDES,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID];Dn.NaN=Rn.ENDIDNT;const Bn=[Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.MINMIN,Rn.TONUM,Rn.END,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.TOIDES,Rn.END,Rn.END,Rn.TOIDENT,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END];Bn.NaN=Rn.END;const Mn=[Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.FUNCES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.IDNTESC,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES];Mn.NaN=Rn.ENDIDES;const Un=[Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.PCUNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.NUMBER,Rn.ENDINT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT];Un.NaN=Rn.ENDINT;const zn=[Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.PCUNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM];zn.NaN=Rn.ENDNUM;const Vn=Ln(Rn.END,[61,Rn.EQTAIL]),Hn=Ln(Rn.END,[58,Rn.COL_COL]),Gn=Ln(Rn.END,[61,Rn.EQTAIL,124,Rn.BAR_BAR]),$n=Ln(Rn.END,[38,Rn.AMP_AMP]),Wn=Ln(Rn.END,[42,Rn.COMMENT]),Xn=Ln(Rn.CONT,[42,Rn.COMMST]),jn=Ln(Rn.COMMENT,[42,Rn.COMMST,47,Rn.ENDNOTK]),Kn=Ln(Rn.KILL1,[62,Rn.ENDNOTK]),Yn=Ln(Rn.END,[61,Rn.EQTAIL,33/*!*/,Rn.LT_BG]),qn=Ln(Rn.KILL1,[45,Rn.LT_BG_M]),Zn=Ln(Rn.KILL2,[45,Rn.ENDNOTK]),Qn=Ln(Rn.IDESCH,[9,Rn.INVALID,10,Rn.INVALID,13,Rn.INVALID,32,Rn.INVALID]),Jn=Ln(Rn.CONT,[39,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR1ESC]),ei=Ln(Rn.CONT,[34,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR2ESC]),ti=Ln(Rn.CONT,[39,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR1ESC]),ni=Ln(Rn.CONT,[34,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR2ESC]),ii=Ln(Rn.URL,[9,Rn.CONT,32,Rn.CONT,34,Rn.URL2,39,Rn.URL1,41,Rn.INVALID,10,Rn.CONT,13,Rn.CONT]),oi=Ln(Rn.CONT,[41,Rn.ENDURL,9,Rn.CHKSP,10,Rn.CHKSP,13,Rn.CHKSP,32,Rn.CHKSP,92,Rn.URLESC,40,Rn.INVALID,91,Rn.INVALID,93,Rn.INVALID,123,Rn.INVALID,125,Rn.INVALID,NaN,Rn.ENDURL]),si=Ln(Rn.CONT,[39,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ri=Ln(Rn.CONT,[34,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ai=Ln(Rn.INVALID,[9,Rn.CONT,10,Rn.CONT,13,Rn.CONT,32,Rn.CONT,41,Rn.FINURL]);class li{constructor(e,t){this.input=e,this.handler=t,this.head=-1,this.tail=0,this.curr=0,this.position=0,this.indexMask=15,this.buffer=Array(this.indexMask+1);for(let e=0;e<=this.indexMask;e++)this.buffer[e]=new kn}token(){return this.tail==this.curr&&this.fillBuffer(),this.buffer[this.curr]}nthToken(e){return(this.tail-this.curr&this.indexMask)<=e&&this.fillBuffer(),this.buffer[this.curr+e&this.indexMask]}consume(){this.curr=this.curr+1&this.indexMask}mark(){if(this.head>=0)throw new Error("F_CSSTOK_BAD_CALL mark");this.head=this.curr}reset(){if(this.head<0)throw new Error("F_CSSTOK_BAD_CALL reset");this.curr=this.head,this.head=-1}unmark(){this.head=-1}hasMark(){return this.head>=0}reallocate(){const e=2*(this.indexMask+1)-1,t=Array(e+1);let n=this.head,i=0;for(;n!=this.tail;)t[i]=this.buffer[n],n==this.curr&&(this.curr=i),n=n+1&this.indexMask,i++;for(this.head=0,this.tail=i,this.indexMask=e,this.buffer=t;i<=e;)t[i++]=new kn}error(e,t,n){this.handler&&this.handler.error(n,t)}fillBuffer(){let e=this.tail,t=this.head>=0?this.head:this.curr,n=this.indexMask;if(e>=t?t+=n:t--,t==e){if(this.head<0)throw new Error("F_CSSTOK_INTERNAL");this.reallocate(),e=this.tail,n=this.indexMask,t=n}let i=Fn;const o=this.input;let s=this.position;const r=this.buffer;let a=On.EOF,l=0,h="",c=0,u=!1,d=r[e],p=-9;for(;;){const f=o.charCodeAt(s);switch(i[f]||i[65]){case Rn.INVALID:a=On.INVALID,h=isNaN(f)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR",i=Fn,s++;break;case Rn.SPACE:s++,u=!0;continue;case Rn.INT:l=s++,i=Un;continue;case Rn.IDENT:a=On.IDENT,l=s++,i=Dn;continue;case Rn.BANG:l=s++,a=On.BANG,i=Vn;continue;case Rn.STR1:a=On.STR,l=++s,i=Jn;continue;case Rn.STR2:a=On.STR,l=++s,i=ei;continue;case Rn.HASH:l=++s,a=On.HASH,i=Dn;continue;case Rn.DOLLAR:l=s++,a=On.DOLLAR,i=Vn;continue;case Rn.PERCENT:l=s++,a=On.PERCENT;break;case Rn.AMP:l=s++,a=On.DOLLAR,i=$n;continue;case Rn.O_PAR:l=s++,a=On.O_PAR;break;case Rn.C_PAR:l=s++,a=On.C_PAR;break;case Rn.STAR:l=s++,a=On.STAR,i=Vn;continue;case Rn.PLUS:l=s++,a=On.PLUS;break;case Rn.COMMA:l=s++,a=On.COMMA;break;case Rn.MINUS:a=On.MINUS,l=s++,i=Bn;continue;case Rn.DOT:l=s++,i=_n;continue;case Rn.TOCLASS:l=s++,a=On.CLASS,i=Dn;continue;case Rn.SLASH:l=s++,a=On.SLASH,i=Wn;continue;case Rn.COLON:l=s++,a=On.COLON,i=Hn;continue;case Rn.COL_COL:s++,a=On.COL_COL;break;case Rn.SEMICOL:l=s++,a=On.SEMICOL;break;case Rn.LT:l=s++,a=On.LT,i=Yn;continue;case Rn.EQ:l=s++,a=On.EQ,i=Vn;continue;case Rn.GT:l=s++,a=On.GT,i=Vn;continue;case Rn.QMARK:l=s++,a=On.QMARK;break;case Rn.AT:l=++s,a=On.AT,i=Dn;continue;case Rn.O_BRK:l=s++,a=On.O_BRK;break;case Rn.C_BRK:l=s++,a=On.C_BRK;break;case Rn.O_BRC:l=s++,a=On.O_BRC;break;case Rn.C_BRC:l=s++,a=On.C_BRC;break;case Rn.BSLASH:l=s++,p=l,a=On.IDENT,i=Qn;continue;case Rn.HAT:l=s++,a=On.HAT,i=Vn;continue;case Rn.BAR:l=s++,a=On.BAR,i=Gn;continue;case Rn.TILDE:l=s++,a=On.TILDE,i=Vn;continue;case Rn.END:break;case Rn.EQTAIL:s++,a=a+On.BANG_EQ-On.BANG;break;case Rn.ENDINT:a=On.INT,c=parseInt(o.substring(l,s),10);break;case Rn.ENDNUM:a=On.NUM,c=parseFloat(o.substring(l,s));break;case Rn.CONT:s++;continue;case Rn.UNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),l=s++,i=Dn;continue;case Rn.PCUNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),h="%",l=s++;break;case Rn.NUMBER:s++,i=zn;continue;case Rn.ENDIDNT:h=o.substring(l,s);break;case Rn.IDNTESC:p=s++,i=Qn;continue;case Rn.ENDIDES:h=An(o.substring(l,s));break;case Rn.ENDSTR:h=o.substring(l,s),s++;break;case Rn.ENDESTR:h=An(o.substring(l,s)),s++;break;case Rn.STR1ESC:p=s,s+=2,i=ti;continue;case Rn.STR2ESC:p=s,s+=2,i=ni;continue;case Rn.BAR_BAR:s++,a=On.BAR_BAR;break;case Rn.AMP_AMP:s++,a=On.AMP_AMP;break;case Rn.FUNC:if(h=o.substring(l,s),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.FUNCES:if(h=An(o.substring(l,s)),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.COMMENT:i=Xn,s++;continue;case Rn.COMMST:i=jn,s++;continue;case Rn.ENDNOTK:i=Fn,s++;continue;case Rn.MINMIN:i=Kn,s++;continue;case Rn.TOINT:a=On.INT,i=Un,s++;continue;case Rn.TONUM:a=On.NUM,i=zn,s++;continue;case Rn.TOIDENT:a=On.IDENT,i=Dn,s++;continue;case Rn.TOIDES:a=On.IDENT,i=Qn,p=s++;continue;case Rn.KILL1:s--;break;case Rn.KILL2:s-=2;break;case Rn.URL:l=s++,i=oi;continue;case Rn.URL1:l=++s,i=si;continue;case Rn.URL2:l=++s,i=ri;continue;case Rn.ENDURL:a=On.URL,h=An(o.substring(l,s)),s++;break;case Rn.FINURL:s++;break;case Rn.LT_BG:i=qn,s++;continue;case Rn.LT_BG_M:i=Zn,s++;continue;case Rn.CHKSP:if(s-p<8&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){s++;continue}case Rn.TERMURL:a=On.URL,h=An(o.substring(l,s)),s++,i=ai;continue;case Rn.CHKPOSN:if(s++,s-p<9&&o.substring(p+1,s).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;a=On.INVALID,h="E_CSS_UNEXPECTED_NEWLINE",i=Fn;break;case Rn.CHKPOSS:if(s-p<9&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){s++;continue}h=An(o.substring(l,s));break;case Rn.URLESC:p=s++;continue;case Rn.IDESCH:s++,i=Mn;continue;default:if(i!==Fn){a=On.INVALID,h="E_CSS_UNEXPECTED_STATE";break}l=s,a=On.EOF}if(d.type=a,d.precededBySpace=u,d.num=c,d.text=h,d.position=l,e++,e>=t)break;i=Fn,u=!1,d=r[e&n]}this.position=s,this.tail=e&n}}let hi=null,ci=null;function ui(){return hi}function di(e){if(!hi)throw new Error("E_TASK_NO_CONTEXT");hi.name||(hi.name=e);const t=hi,n=new Ni(t,t.top,e);return t.top=n,n.state=gi.ACTIVE,n}function pi(e){return new yi(e)}function fi(e,t,n){const i=di(e);i.handler=n;try{t(i)}catch(e){i.task.raise(e,i)}return i.result()}var gi;!function(e){e[e.INIT=0]="INIT",e[e.ACTIVE=1]="ACTIVE",e[e.FINISHED=2]="FINISHED",e[e.DEAD=3]="DEAD"}(gi||(gi={}));class mi{currentTime(){return(new Date).valueOf()}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}}class bi{constructor(e){this.timer=e,this.timeout=1,this.slice=25,this.sliceOverTime=0,this.wakeupTime=null,this.timeoutToken=null,this.inTimeSlice=!1,this.order=0,this.queue=new _,ci||(ci=this)}setSlice(e){this.slice=e}setTimeout(e){this.timeout=e}isTimeSliceOver(){return this.timer.currentTime()>=this.sliceOverTime}arm(){if(this.inTimeSlice)return;const e=this.queue.peek().scheduledTime,t=this.timer.currentTime();if(null!=this.timeoutToken){if(t+this.timeout>this.wakeupTime)return;this.timer.clearTimeout(this.timeoutToken)}let n=e-t;n<=this.timeout&&(n=this.timeout),this.wakeupTime=t+n;const i=this;this.timeoutToken=this.timer.setTimeout(()=>{i.timeoutToken=null,i.doTimeSlice()},n)}schedule(e,t){const n=e,i=this.timer.currentTime();n.order=this.order++,n.scheduledTime=i+(t||0),this.queue.add(n),this.arm()}doTimeSlice(){null!=this.timeoutToken&&(this.timer.clearTimeout(this.timeoutToken),this.timeoutToken=null),this.inTimeSlice=!0;try{let e=this.timer.currentTime();for(this.sliceOverTime=e+this.slice;this.queue.length();){const t=this.queue.peek();if(t.scheduledTime>e)break;if(this.queue.remove(),t.canceled||t.resumeInternal(),e=this.timer.currentTime(),e>=this.sliceOverTime)break}}catch(e){c.error(e)}this.inTimeSlice=!1,this.queue.length()&&this.arm()}run(e,t){const n=new Ei(this,t||"");n.top=new Ni(n,null,"bootstrap"),n.top.state=gi.ACTIVE,n.top.then(()=>{const t=()=>{n.running=!1;for(const e of n.callbacks)try{e()}catch(e){c.error(e)}};try{e().then(e=>{n.result=e,t()})}catch(e){n.raise(e),t()}});const i=hi;return hi=n,this.schedule(n.top.suspend("bootstrap")),hi=i,n}}class wi{constructor(e){this.task=e,this.scheduledTime=0,this.order=0,this.result=null,this.canceled=!1}compare(e){const t=e;return t.scheduledTime-this.scheduledTime||t.order-this.order}getTask(){return this.task}schedule(e,t){this.result=e,this.task.scheduler.schedule(this,t)}resumeInternal(){const e=this.task;if(this.task=null,e&&e.continuation==this){e.continuation=null;const t=hi;return hi=e,e.top.finish(this.result),hi=t,!0}return!1}cancel(){this.canceled=!0}}class Ei{constructor(e,t){this.scheduler=e,this.name=t,this.callbacks=[],this.exception=null,this.running=!0,this.result=null,this.waitTarget=null,this.top=null,this.continuation=null}getName(){return this.name}interrupt(e){if(this.raise(e||new Error("E_TASK_INTERRUPT")),this!==hi&&this.continuation){this.continuation.cancel();const e=new wi(this);this.waitTarget="interrupt",this.continuation=e,this.scheduler.schedule(e)}}getScheduler(){return this.scheduler}isRunning(){return this.running}whenDone(e){this.callbacks.push(e)}join(){const e=di("Task.join");if(this.running){const t=e.suspend(this),n=this;this.whenDone(()=>{t.schedule(n.result)})}else e.finish(this.result);return e.result()}unwind(){for(;this.top&&!this.top.handler;)this.top=this.top.parent;if(this.top&&this.top.handler&&this.exception){const e=this.exception;this.exception=null,this.top.handler(this.top,e)}else this.exception&&c.error(this.exception,"Unhandled exception in task",this.name)}raise(e,t){if(this.fillStack(e),t){let e=this.top;for(;e&&e!=t;)e=e.parent;e==t&&(this.top=e)}this.exception=e,this.unwind()}fillStack(e){let t=e.frameTrace;if(!t){t=e.stack?`${e.stack}\n\t---- async ---\n`:"";for(let e=this.top;e;e=e.parent)t+="\t",t+=e.getName(),t+="\n";e.frameTrace=t}}}class yi{constructor(e){this.value=e}then(e){e(this.value)}thenAsync(e){return e(this.value)}thenReturn(e){return new yi(e)}thenFinish(e){e.finish(this.value)}isPending(){return!1}get(){return this.value}}class Si{constructor(e){this.frame=e}then(e){this.frame.then(e)}thenAsync(e){if(this.isPending()){const t=new Ni(this.frame.task,this.frame.parent,"AsyncResult.thenAsync");return t.state=gi.ACTIVE,this.frame.parent=t,this.frame.then(n=>{e(n).then(e=>{t.finish(e)})}),t.result()}return e(this.frame.res)}thenReturn(e){return this.isPending()?this.thenAsync(()=>new yi(e)):new yi(e)}thenFinish(e){this.isPending()?this.then(t=>{e.finish(t)}):e.finish(this.frame.res)}isPending(){return this.frame.state==gi.ACTIVE}get(){if(this.isPending())throw new Error("Result is pending");return this.frame.res}}class Ni{constructor(e,t,n){this.task=e,this.parent=t,this.name=n,this.res=null,this.callback=null,this.handler=null,this.state=gi.INIT}checkEnvironment(){if(!hi)throw new Error("F_TASK_NO_CONTEXT");if(this!==hi.top)throw new Error("F_TASK_NOT_TOP_FRAME")}result(){return new Si(this)}finish(e){this.checkEnvironment(),hi&&!hi.exception&&(this.res=e),this.state=gi.FINISHED;const t=this.parent;if(hi&&(hi.top=t),this.callback){try{this.callback(e)}catch(e){this.task.raise(e,t)}this.state=gi.DEAD}}getTask(){return this.task}getName(){return this.name}getScheduler(){return this.task.scheduler}then(e){switch(this.state){case gi.ACTIVE:if(this.callback)throw new Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.callback=e;break;case gi.FINISHED:{const t=this.task,n=this.parent;try{e(this.res),this.state=gi.DEAD}catch(e){this.state=gi.DEAD,t.raise(e,n)}break}case gi.DEAD:throw new Error("F_TASK_DEAD_FRAME");default:throw new Error(`F_TASK_UNEXPECTED_FRAME_STATE ${this.state}`)}}timeSlice(){const e=di("Frame.timeSlice");return e.getScheduler().isTimeSliceOver()?(c.debug("-- time slice --"),e.suspend().schedule(!0)):e.finish(!0),e.result()}sleep(e){const t=di("Frame.sleep");return t.suspend().schedule(!0,e),t.result()}loop(e){const t=di("Frame.loop"),n=i=>{try{for(;i;){const t=e();if(t.isPending())return void t.then(n);t.then(e=>{i=e})}t.finish(!0)}catch(e){t.task.raise(e,t)}};return n(!0),t.result()}loopWithFrame(e){const t=hi;if(!t)throw new Error("E_TASK_NO_CONTEXT");return this.loop(()=>{let n;do{const i=new vi(t,t.top);t.top=i,i.state=gi.ACTIVE,e(i),n=i.result()}while(!n.isPending()&&n.get());return n})}suspend(e){if(this.checkEnvironment(),this.task.continuation)throw new Error("E_TASK_ALREADY_SUSPENDED");const t=new wi(this.task);return this.task.continuation=t,hi=null,this.task.waitTarget=e||null,t}}class vi extends Ni{constructor(e,t){super(e,t,"loop")}continueLoop(){this.finish(!0)}breakLoop(){this.finish(!1)}}class Ci{constructor(e,t){this.fetch=e,this.arrived=!1,this.resource=null,this.task=null,this.piggybacks=[],this.name=t}start(){if(!this.task){const e=this;this.task=ui().getScheduler().run(()=>{const t=di("Fetcher.run");return e.fetch().then(n=>{const i=e.piggybacks;if(e.arrived=!0,e.resource=n,e.task=null,e.piggybacks=[],i)for(let e=0;e<i.length;e++)try{i[e](n)}catch(e){c.error(e,"Error:")}t.finish(n)}),t.result()},this.name)}}piggyback(e){this.arrived?e(this.resource):this.piggybacks.push(e)}get(){return this.arrived?pi(this.resource):(this.start(),this.task.join())}hasArrived(){return this.arrived}}const Ti=e=>{if(0==e.length)return pi(!0);if(1==e.length)return e[0].get().thenReturn(!0);const t=di("waitForFetches");let n=0;return t.loop(()=>{for(;n<e.length;){const t=e[n++];if(!t.hasArrived())return t.get().thenReturn(!0)}return pi(!1)}).then(()=>{t.finish(!0)}),t.result()};function xi(e,t){let n=null,i=null;"img"==e.localName&&(n=e.getAttribute("width"),i=e.getAttribute("height"));const o=new Ci(()=>{const o=di("loadImage"),s=o.suspend(e);let r=!1;const a=t=>{r||(r=!0,"img"==e.localName&&(n||e.removeAttribute("width"),i||e.removeAttribute("height")),s.schedule(t?t.type:"timeout"))};return e.addEventListener("load",a,!1),e.addEventListener("error",a,!1),e.addEventListener("abort",a,!1),e.namespaceURI==F.SVG?(e.setAttributeNS(F.XLINK,"xlink:href",t),setTimeout(a,300)):e.src=t,o.result()},`loadElement ${t}`);return o.start(),o}var Ii,Pi;function Ai(e,t,n,i,o){const s=di("ajax"),r=new XMLHttpRequest,a=s.suspend(r),l={status:0,statusText:"",url:e,contentType:null,responseText:null,responseXML:null,responseBlob:null};r.open(n||"GET",e,!0),t&&(r.responseType=t),r.onreadystatechange=()=>{if(4===r.readyState){if(l.status=r.status,l.statusText=r.statusText||404==r.status&&"Not Found"||"",200==l.status||0==l.status)if(t&&t!==Ii.DOCUMENT||!r.responseXML||"parsererror"==r.responseXML.documentElement.localName)if((!t||t===Ii.DOCUMENT)&&r.response instanceof HTMLDocument)l.responseXML=r.response,l.contentType=r.response.contentType;else{const n=r.response;t&&t!==Ii.TEXT||"string"!=typeof n?n?l.responseBlob="string"==typeof n?Oi([n]):n:c.warn("Unexpected empty success response for",e):l.responseText=n;const i=r.getResponseHeader("Content-Type");i&&(l.contentType=i.replace(/(.*);.*$/,"$1"))}else l.responseXML=r.responseXML,l.contentType=r.responseXML.contentType;a.schedule(l)}};try{i?(r.setRequestHeader("Content-Type",o||"text/plain; charset=UTF-8"),r.send(i)):(/^file:|^https?:\/\/[^/]+\.githubusercontent\.com|\.(xhtml|xht|opf)$/i.test(e)?/\/aozorabunko\/[^/]+\/cards\/[^/]+\/files\/[^/.]+\.html$/.test(e)?r.overrideMimeType("text/html; charset=Shift_JIS"):/\.(html|htm)$/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/\.(xhtml|xht|xml|opf)$/i.test(e)?r.overrideMimeType("application/xml; charset=UTF-8"):/\.(txt|css)$/i.test(e)?r.overrideMimeType("text/plain; charset=UTF-8"):r.overrideMimeType("text/html; charset=UTF-8"):/^data:,(<|%3c)/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/^data:,/i.test(e)&&r.overrideMimeType("text/plain; charset=UTF-8"),r.send(null))}catch(t){c.warn(t,`Error fetching ${e}`),a.schedule(l)}return s.result()}function Oi(e,t){const n=t||"application/octet-stream",i=window.WebKitBlobBuilder||window.MSBlobBuilder;if(i){const t=new i;for(let n=0;n<e.length;n++)t.append(e[n]);return t.getBlob(n)}return new Blob(e,{type:n})}!function(e){e.DEFAULT="",e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(Ii||(Ii={}));class Ri{constructor(e,t){this.parser=e,this.type=t,this.resources={},this.fetchers={}}load(e,t,n){e=I(e);const i=this.resources[e];return void 0!==i?pi(i):this.fetch(e,t,n).get()}fetchInner(e,t,n){const i=this,o=di("fetch"),s=e.endsWith("?viv-toc-box");s&&(e=e.replace("?viv-toc-box",""));const r=k("user-agent.xml",O),a=!s&&e===r;return a&&(e=`data:application/xml,${encodeURIComponent('<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://www.pyroxy.com/ns/shadow">\n<head>\n<style><![CDATA[\n\n.footnote-content {\n  float: footnote;\n}\n\n.table-cell-container {\n  display: block;\n}\n\n]]></style>\n</head>\n<body>\n\n<s:template id="footnote"><s:content/><s:include class="footnote-content"/></s:template>\n\n<s:template id="table-cell"><div data-vivliostyle-flow-root="true" class="table-cell-container"><s:content/></div></s:template>\n\n</body>\n</html>\n')}`),Ai(e,i.type).then(l=>{if(l.status>=400&&t)throw new Error((n||`Failed to fetch required resource: ${e}`)+` (${l.status}${l.statusText?" "+l.statusText:""})`);s?(e+="?viv-toc-box",l.url+="?viv-toc-box"):a&&(l.url=e=r),i.parser(l,i).then(t=>{delete i.fetchers[e],i.resources[e]=t,o.finish(t)})}),o.result()}fetch(e,t,n){if(e=I(e),this.resources[e])return null;let i=this.fetchers[e];if(!i){const o=this;i=new Ci(()=>o.fetchInner(e,t,n),`Fetch ${e}`),o.fetchers[e]=i,i.start()}return i}get(e){return this.resources[I(e)]}delete(e){delete this.resources[I(e)]}}function ki(e,t){const n=e.responseText;return pi(n?x(n):null)}function Li(e){let t=parseInt(e,16);if(isNaN(t))throw new Error("E_CSS_COLOR");if(6==e.length)return new At(t);if(3==e.length)return t=15&t|(15&t)<<4|(240&t)<<4|(240&t)<<8|(3840&t)<<8|(3840&t)<<12,new At(t);throw new Error("E_CSS_COLOR")}!function(e){e.USER_AGENT="UA",e.USER="User",e.AUTHOR="Author"}(Pi||(Pi={}));class Fi{constructor(e){this.scope=e,this.flavor=Pi.AUTHOR}getCurrentToken(){return null}getScope(){return this.scope}error(e,t){}startStylesheet(e){this.flavor=e}tagSelector(e,t){}classSelector(e){}pseudoclassSelector(e,t){}pseudoelementSelector(e,t){}idSelector(e){}attributeSelector(e,t,n,i){}descendantSelector(){}childSelector(){}adjacentSiblingSelector(){}followingSiblingSelector(){}nextSelector(){}startSelectorRule(){}startFontFaceRule(){}startFootnoteRule(e){}startViewportRule(){}startDefineRule(){}startRegionRule(){}startPageRule(){}startPageMarginBoxRule(e){}startWhenRule(e){}startMediaRule(e){this.startWhenRule(e)}startFlowRule(e){}startPageTemplateRule(){}startPageMasterRule(e,t,n){}startPartitionRule(e,t,n){}startPartitionGroupRule(e,t,n){}startRuleBody(){}property(e,t,n){}endRule(){}startFuncWithSelector(e){}endFuncWithSelector(){}getImportantSpecificity(){switch(this.flavor){case Pi.USER_AGENT:return 0;case Pi.USER:return 100663296;default:return 83886080}}getBaseSpecificity(){switch(this.flavor){case Pi.USER_AGENT:return 0;case Pi.USER:return 16777216;default:return 33554432}}}class Di extends Fi{constructor(){super(null),this.stack=[],this.tokenizer=null,this.slave=null}pushHandler(e){this.stack.push(this.slave),this.slave=e}popHandler(){this.slave=this.stack.pop()}getCurrentToken(){return this.tokenizer?this.tokenizer.token():null}getScope(){return this.slave.getScope()}error(e,t){this.slave.error(e,t)}errorMsg(e,t){c.warn(e)}startStylesheet(e){super.startStylesheet(e),this.stack.length>0&&(this.slave=this.stack[0],this.stack=[]),this.slave.startStylesheet(e)}tagSelector(e,t){this.slave.tagSelector(e,t)}classSelector(e){this.slave.classSelector(e)}pseudoclassSelector(e,t){this.slave.pseudoclassSelector(e,t)}pseudoelementSelector(e,t){this.slave.pseudoelementSelector(e,t)}idSelector(e){this.slave.idSelector(e)}attributeSelector(e,t,n,i){this.slave.attributeSelector(e,t,n,i)}descendantSelector(){this.slave.descendantSelector()}childSelector(){this.slave.childSelector()}adjacentSiblingSelector(){this.slave.adjacentSiblingSelector()}followingSiblingSelector(){this.slave.followingSiblingSelector()}nextSelector(){this.slave.nextSelector()}startSelectorRule(){this.slave.startSelectorRule()}startFontFaceRule(){this.slave.startFontFaceRule()}startFootnoteRule(e){this.slave.startFootnoteRule(e)}startViewportRule(){this.slave.startViewportRule()}startDefineRule(){this.slave.startDefineRule()}startRegionRule(){this.slave.startRegionRule()}startPageRule(){this.slave.startPageRule()}startPageMarginBoxRule(e){this.slave.startPageMarginBoxRule(e)}startWhenRule(e){this.slave.startWhenRule(e)}startFlowRule(e){this.slave.startFlowRule(e)}startPageTemplateRule(){this.slave.startPageTemplateRule()}startPageMasterRule(e,t,n){this.slave.startPageMasterRule(e,t,n)}startPartitionRule(e,t,n){this.slave.startPartitionRule(e,t,n)}startPartitionGroupRule(e,t,n){this.slave.startPartitionGroupRule(e,t,n)}startRuleBody(){this.slave.startRuleBody()}property(e,t,n){this.slave.property(e,t,n)}endRule(){this.slave.endRule()}startFuncWithSelector(e){this.slave.startFuncWithSelector(e)}endFuncWithSelector(){this.slave.endFuncWithSelector()}}class _i extends Fi{constructor(e,t,n){super(e),this.owner=t,this.topLevel=n,this.depth=0,t&&(this.flavor=t.flavor)}getCurrentToken(){return this.owner.getCurrentToken()}error(e,t){this.owner.errorMsg(e,t)}startRuleBody(){this.depth++}endRule(){0!=--this.depth||this.topLevel||this.owner.popHandler()}}class Bi extends _i{constructor(e,t,n){super(e,t,n)}report(e){this.error(e,this.getCurrentToken())}reportAndSkip(e){this.report(e),this.owner.pushHandler(new _i(this.scope,this.owner,!1))}startSelectorRule(){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR")}startFontFaceRule(){this.reportAndSkip("E_CSS_UNEXPECTED_FONT_FACE")}startFootnoteRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FOOTNOTE")}startViewportRule(){this.reportAndSkip("E_CSS_UNEXPECTED_VIEWPORT")}startDefineRule(){this.reportAndSkip("E_CSS_UNEXPECTED_DEFINE")}startRegionRule(){this.reportAndSkip("E_CSS_UNEXPECTED_REGION")}startPageRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE")}startWhenRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_WHEN")}startFlowRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FLOW")}startPageTemplateRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_TEMPLATE")}startPageMasterRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_MASTER")}startPartitionRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION")}startPartitionGroupRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION_GROUP")}startFuncWithSelector(e){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR_FUNC")}endFuncWithSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_END_SELECTOR_FUNC")}property(e,t,n){this.error("E_CSS_UNEXPECTED_PROPERTY",this.getCurrentToken())}}const Mi=[],Ui=[],zi=[],Vi=[],Hi=[],Gi=[],$i=[],Wi=[],Xi=[],ji=[],Ki=[],Yi=[],qi=[];var Zi;!function(e){e[e.SELECTOR_NAME_1=1]="SELECTOR_NAME_1",e[e.SELECTOR_NAME=2]="SELECTOR_NAME",e[e.SELECTOR_ANY_1=3]="SELECTOR_ANY_1",e[e.SELECTOR_ANY=4]="SELECTOR_ANY",e[e.SELECTOR_ID_1=5]="SELECTOR_ID_1",e[e.SELECTOR_ID=6]="SELECTOR_ID",e[e.SELECTOR_CLASS_1=7]="SELECTOR_CLASS_1",e[e.SELECTOR_CLASS=8]="SELECTOR_CLASS",e[e.SELECTOR_ATTR_1=9]="SELECTOR_ATTR_1",e[e.SELECTOR_ATTR=10]="SELECTOR_ATTR",e[e.SELECTOR_CHILD=11]="SELECTOR_CHILD",e[e.SELECTOR_SIBLING=12]="SELECTOR_SIBLING",e[e.SELECTOR_BODY=13]="SELECTOR_BODY",e[e.SELECTOR_PSEUDOCLASS=14]="SELECTOR_PSEUDOCLASS",e[e.VAL_IDENT=15]="VAL_IDENT",e[e.VAL_HASH=16]="VAL_HASH",e[e.VAL_NUM=17]="VAL_NUM",e[e.VAL_INT=18]="VAL_INT",e[e.VAL_NUMERIC=19]="VAL_NUMERIC",e[e.VAL_STR=20]="VAL_STR",e[e.VAL_URL=21]="VAL_URL",e[e.VAL_COMMA=22]="VAL_COMMA",e[e.VAL_SLASH=23]="VAL_SLASH",e[e.VAL_FUNC=24]="VAL_FUNC",e[e.VAL_C_PAR=25]="VAL_C_PAR",e[e.VAL_END=26]="VAL_END",e[e.RULE_END=27]="RULE_END",e[e.IDENT=28]="IDENT",e[e.SELECTOR_START=29]="SELECTOR_START",e[e.AT=30]="AT",e[e.EXPR_IDENT=31]="EXPR_IDENT",e[e.EXPR_NUM=32]="EXPR_NUM",e[e.EXPR_NUMERIC=33]="EXPR_NUMERIC",e[e.EXPR_STR=34]="EXPR_STR",e[e.EXPR_PARAM=35]="EXPR_PARAM",e[e.EXPR_PREFIX=36]="EXPR_PREFIX",e[e.EXPR_INFIX=37]="EXPR_INFIX",e[e.EXPR_FUNC=38]="EXPR_FUNC",e[e.EXPR_C_PAR=39]="EXPR_C_PAR",e[e.EXPR_O_PAR=40]="EXPR_O_PAR",e[e.SELECTOR_NEXT=41]="SELECTOR_NEXT",e[e.SELECTOR_PSEUDOELEM=42]="SELECTOR_PSEUDOELEM",e[e.EXPR_O_BRC=43]="EXPR_O_BRC",e[e.VAL_FINISH=44]="VAL_FINISH",e[e.EXPR_INFIX_NAME=45]="EXPR_INFIX_NAME",e[e.PROP=46]="PROP",e[e.VAL_BANG=47]="VAL_BANG",e[e.VAL_BRC=48]="VAL_BRC",e[e.EXPR_SEMICOL=49]="EXPR_SEMICOL",e[e.ERROR_PUSH=50]="ERROR_PUSH",e[e.ERROR_POP=51]="ERROR_POP",e[e.ERROR_POP_DECL=52]="ERROR_POP_DECL",e[e.ERROR_SEMICOL=53]="ERROR_SEMICOL",e[e.VAL_PLUS=54]="VAL_PLUS",e[e.SELECTOR_PSEUDOCLASS_1=55]="SELECTOR_PSEUDOCLASS_1",e[e.SELECTOR_FOLLOWING_SIBLING=56]="SELECTOR_FOLLOWING_SIBLING",e[e.DONE=200]="DONE"}(Zi||(Zi={}));const Qi=On.LAST+1;var Ji;Mi[On.IDENT]=Zi.IDENT,Mi[On.STAR]=Zi.SELECTOR_START,Mi[On.HASH]=Zi.SELECTOR_START,Mi[On.CLASS]=Zi.SELECTOR_START,Mi[On.O_BRK]=Zi.SELECTOR_START,Mi[On.COLON]=Zi.SELECTOR_START,Mi[On.AT]=Zi.AT,Mi[On.C_BRC]=Zi.RULE_END,Mi[On.EOF]=Zi.DONE,Ui[On.IDENT]=Zi.PROP,Ui[On.EOF]=Zi.DONE,Gi[On.IDENT]=Zi.SELECTOR_NAME,Gi[On.STAR]=Zi.SELECTOR_ANY,Gi[On.HASH]=Zi.SELECTOR_ID,Gi[On.CLASS]=Zi.SELECTOR_CLASS,Gi[On.O_BRK]=Zi.SELECTOR_ATTR,Gi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS,zi[On.GT]=Zi.SELECTOR_CHILD,zi[On.PLUS]=Zi.SELECTOR_SIBLING,zi[On.TILDE]=Zi.SELECTOR_FOLLOWING_SIBLING,zi[On.IDENT]=Zi.SELECTOR_NAME_1,zi[On.STAR]=Zi.SELECTOR_ANY_1,zi[On.HASH]=Zi.SELECTOR_ID_1,zi[On.CLASS]=Zi.SELECTOR_CLASS_1,zi[On.O_BRK]=Zi.SELECTOR_ATTR_1,zi[On.O_BRC]=Zi.SELECTOR_BODY,zi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS_1,zi[On.COL_COL]=Zi.SELECTOR_PSEUDOELEM,zi[On.COMMA]=Zi.SELECTOR_NEXT,Vi[On.IDENT]=Zi.SELECTOR_NAME_1,Vi[On.STAR]=Zi.SELECTOR_ANY_1,Vi[On.HASH]=Zi.SELECTOR_ID_1,Vi[On.CLASS]=Zi.SELECTOR_CLASS_1,Vi[On.O_BRK]=Zi.SELECTOR_ATTR_1,Vi[On.C_PAR]=Zi.DONE,Vi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS_1,Hi[On.IDENT]=Zi.SELECTOR_NAME,Hi[On.STAR]=Zi.SELECTOR_ANY,Hi[On.HASH]=Zi.SELECTOR_ID,Hi[On.CLASS]=Zi.SELECTOR_CLASS,Hi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS,Hi[On.COL_COL]=Zi.SELECTOR_PSEUDOELEM,Hi[On.O_BRK]=Zi.SELECTOR_ATTR,Hi[On.O_BRC]=Zi.SELECTOR_BODY,$i[On.IDENT]=Zi.VAL_IDENT,$i[On.HASH]=Zi.VAL_HASH,$i[On.NUM]=Zi.VAL_NUM,$i[On.INT]=Zi.VAL_INT,$i[On.NUMERIC]=Zi.VAL_NUMERIC,$i[On.STR]=Zi.VAL_STR,$i[On.URL]=Zi.VAL_URL,$i[On.COMMA]=Zi.VAL_COMMA,$i[On.SLASH]=Zi.VAL_SLASH,$i[On.FUNC]=Zi.VAL_FUNC,$i[On.C_PAR]=Zi.VAL_C_PAR,$i[On.SEMICOL]=Zi.VAL_END,$i[On.C_BRC]=Zi.VAL_BRC,$i[On.BANG]=Zi.VAL_BANG,$i[On.PLUS]=Zi.VAL_PLUS,$i[On.EOF]=Zi.VAL_FINISH,Wi[On.IDENT]=Zi.EXPR_IDENT,Wi[On.NUM]=Zi.EXPR_NUM,Wi[On.INT]=Zi.EXPR_NUM,Wi[On.NUMERIC]=Zi.EXPR_NUMERIC,Wi[On.STR]=Zi.EXPR_STR,Wi[On.O_PAR]=Zi.EXPR_O_PAR,Wi[On.FUNC]=Zi.EXPR_FUNC,Wi[On.BANG]=Zi.EXPR_PREFIX,Wi[On.MINUS]=Zi.EXPR_PREFIX,Wi[On.DOLLAR]=Zi.EXPR_PARAM,Xi[On.IDENT]=Zi.EXPR_INFIX_NAME,Xi[On.COMMA]=Zi.EXPR_INFIX,Xi[On.GT]=Zi.EXPR_INFIX,Xi[On.LT]=Zi.EXPR_INFIX,Xi[On.GT_EQ]=Zi.EXPR_INFIX,Xi[On.LT_EQ]=Zi.EXPR_INFIX,Xi[On.EQ]=Zi.EXPR_INFIX,Xi[On.EQ_EQ]=Zi.EXPR_INFIX,Xi[On.BANG_EQ]=Zi.EXPR_INFIX,Xi[On.AMP_AMP]=Zi.EXPR_INFIX,Xi[On.BAR_BAR]=Zi.EXPR_INFIX,Xi[On.PLUS]=Zi.EXPR_INFIX,Xi[On.MINUS]=Zi.EXPR_INFIX,Xi[On.SLASH]=Zi.EXPR_INFIX,Xi[On.PERCENT]=Zi.EXPR_INFIX,Xi[On.STAR]=Zi.EXPR_INFIX,Xi[On.COLON]=Zi.EXPR_INFIX,Xi[On.QMARK]=Zi.EXPR_INFIX,Xi[On.C_PAR]=Zi.EXPR_C_PAR,Xi[On.O_BRC]=Zi.EXPR_O_BRC,Xi[On.SEMICOL]=Zi.EXPR_SEMICOL,ji[On.EOF]=Zi.DONE,ji[On.O_BRC]=Zi.ERROR_PUSH,ji[On.C_BRC]=Zi.ERROR_POP,ji[On.O_BRK]=Zi.ERROR_PUSH,ji[On.C_BRK]=Zi.ERROR_POP,ji[On.O_PAR]=Zi.ERROR_PUSH,ji[On.C_PAR]=Zi.ERROR_POP,ji[On.SEMICOL]=Zi.ERROR_SEMICOL,Ki[On.EOF]=Zi.DONE,Ki[On.O_BRC]=Zi.ERROR_PUSH,Ki[On.C_BRC]=Zi.ERROR_POP_DECL,Ki[On.O_BRK]=Zi.ERROR_PUSH,Ki[On.C_BRK]=Zi.ERROR_POP,Ki[On.O_PAR]=Zi.ERROR_PUSH,Ki[On.C_PAR]=Zi.ERROR_POP,Ki[On.SEMICOL]=Zi.ERROR_SEMICOL,Yi[On.EOF]=Zi.DONE,Yi[On.O_BRC]=Zi.ERROR_PUSH,Yi[On.C_BRC]=Zi.ERROR_POP,Yi[On.O_BRK]=Zi.ERROR_PUSH,Yi[On.C_BRK]=Zi.ERROR_POP,Yi[On.O_PAR]=Zi.ERROR_PUSH,Yi[On.C_PAR]=Zi.ERROR_POP,qi[On.C_PAR]=0,qi[On.COMMA]=0,qi[On.QMARK]=1,qi[On.COLON]=1,qi[On.AMP_AMP]=2,qi[On.BAR_BAR]=2,qi[On.LT]=3,qi[On.GT]=3,qi[On.LT_EQ]=3,qi[On.GT_EQ]=3,qi[On.EQ]=3,qi[On.EQ_EQ]=3,qi[On.BANG_EQ]=3,qi[On.PLUS]=4,qi[On.MINUS]=4,qi[On.STAR]=5,qi[On.SLASH]=5,qi[On.PERCENT]=5,qi[On.EOF]=6,qi[Qi]=2,function(e){e[e.PROP=0]="PROP",e[e.WHEN=1]="WHEN",e[e.MEDIA=2]="MEDIA",e[e.IMPORT=3]="IMPORT"}(Ji||(Ji={}));class eo{constructor(e,t,n,i){this.actions=e,this.tokenizer=t,this.handler=n,this.baseURL=i,this.valStack=[],this.namespacePrefixToURI={},this.defaultNamespaceURI=null,this.propName=null,this.propImportant=!1,this.result=null,this.importReady=!1,this.importURL=null,this.importCondition=null,this.errorBrackets=[],this.ruleStack=[],this.regionRule=!1,this.pageRule=!1,this.exprContext=Ji.MEDIA}extractVals(e,t){const n=[],i=this.valStack;for(;n.push(i[t++]),t!=i.length;)if(i[t++]!=e)throw new Error("Unexpected state");return n}valStackReduce(e,t){const n=this.valStack;let i,o=n.length;do{i=n[--o]}while(void 0!==i&&"string"!=typeof i);let s=n.length-(o+1);if(s>1&&n.splice(o+1,s,new kt(n.slice(o+1,n.length))),","==e)return null;o++;do{i=n[--o]}while(void 0!==i&&("string"!=typeof i||","==i));if(s=n.length-(o+1),"("==i){if(")"!=e)return this.handler.error("E_CSS_MISMATCHED_C_PAR",t),this.actions=Ki,null;const i=new Ft(n[o-1],this.extractVals(",",o+1));return n.splice(o-1,s+2,i),null}return";"!=e||o>=0?(this.handler.error("E_CSS_UNEXPECTED_VAL_END",t),this.actions=Ki,null):s>1?new Lt(this.extractVals(",",o+1)):n[0]}exprError(e,t){this.actions=this.propName?Ki:ji,this.handler.error(e,t)}exprStackReduce(e,t){const n=this.valStack,i=this.handler;let o,s=n.pop();for(;;){let r=n.pop();if(e==On.C_PAR){const t=[s];for(;r==On.COMMA;)t.unshift(n.pop()),r=n.pop();if("string"==typeof r){if("{"==r){for(;t.length>=2;){const e=t.shift(),n=t.shift(),o=new Ge(i.getScope(),e,n);t.unshift(o)}return n.push(new Dt(t[0])),!0}if("("==r){const o=n.pop(),r=n.pop();s=new st(i.getScope(),Ce(r,o),t),e=On.EOF;continue}}if(r==On.O_PAR){s.isMediaName()&&(s=new lt(i.getScope(),s,null)),e=On.EOF;continue}}else if("string"==typeof r){n.push(r);break}if(r<0)if(r==-On.BANG)s=new Me(i.getScope(),s);else{if(r!=-On.MINUS)return this.exprError("F_UNEXPECTED_STATE",t),!1;s=new Ue(i.getScope(),s)}else{if(qi[e]>qi[r]){n.push(r);break}switch(o=n.pop(),r){case On.AMP_AMP:s=new ze(i.getScope(),o,s);break;case Qi:s=new Ve(i.getScope(),o,s);break;case On.BAR_BAR:s=new He(i.getScope(),o,s);break;case On.LT:s=new $e(i.getScope(),o,s);break;case On.GT:s=new Xe(i.getScope(),o,s);break;case On.LT_EQ:s=new We(i.getScope(),o,s);break;case On.GT_EQ:s=new je(i.getScope(),o,s);break;case On.EQ:case On.EQ_EQ:s=new Ke(i.getScope(),o,s);break;case On.BANG_EQ:s=new Ye(i.getScope(),o,s);break;case On.PLUS:s=new qe(i.getScope(),o,s);break;case On.MINUS:s=new Ze(i.getScope(),o,s);break;case On.STAR:s=new Qe(i.getScope(),o,s);break;case On.SLASH:s=new Je(i.getScope(),o,s);break;case On.PERCENT:s=new et(i.getScope(),o,s);break;case On.COLON:if(!(n.length>1))return this.exprError("E_CSS_EXPR_COND",t),!1;switch(n[n.length-1]){case On.QMARK:n.pop(),s=new rt(i.getScope(),n.pop(),o,s);break;case On.O_PAR:if(!o.isMediaName())return this.exprError("E_CSS_MEDIA_TEST",t),!1;s=new lt(i.getScope(),o,s)}break;case On.QMARK:if(e!=On.COLON)return this.exprError("E_CSS_EXPR_COND",t),!1;case On.O_PAR:return n.push(o),n.push(r),n.push(s),!1;default:return this.exprError("F_UNEXPECTED_STATE",t),!1}}}return n.push(s),!1}readPseudoParams(){const e=[];for(;;){const t=this.tokenizer.token();switch(t.type){case On.IDENT:e.push(t.text);break;case On.PLUS:e.push("+");break;case On.NUM:case On.INT:e.push(t.num);break;default:return e}this.tokenizer.consume()}}readNthPseudoParams(){let e=!1,t=this.tokenizer.token();if(t.type===On.PLUS)e=!0,this.tokenizer.consume(),t=this.tokenizer.token();else if(t.type===On.IDENT&&("even"===t.text||"odd"===t.text))return this.tokenizer.consume(),[2,"odd"===t.text?1:0];switch(t.type){case On.NUMERIC:if(e&&t.num<0)return null;case On.IDENT:if(e&&"-"===t.text.charAt(0))return null;if("n"===t.text||"-n"===t.text){if(e&&t.precededBySpace)return null;let n="-n"===t.text?-1:1;t.type===On.NUMERIC&&(n=t.num);let i=0;this.tokenizer.consume(),t=this.tokenizer.token();const o=t.type===On.MINUS,s=t.type===On.PLUS||o;if(s&&(this.tokenizer.consume(),t=this.tokenizer.token()),t.type===On.INT){if(i=t.num,1/i==-1/0){if(i=0,s)return null}else if(i<0){if(s)return null}else if(i>=0&&!s)return null;this.tokenizer.consume()}else if(s)return null;return[n,o&&i>0?-i:i]}if("n-"===t.text||"-n-"===t.text){if(e&&t.precededBySpace)return null;let n="-n-"===t.text?-1:1;if(t.type===On.NUMERIC&&(n=t.num),this.tokenizer.consume(),t=this.tokenizer.token(),t.type===On.INT)return t.num<0||1/t.num==-1/0?null:(this.tokenizer.consume(),[n,t.num])}else{let n=t.text.match(/^n(-[0-9]+)$/);if(n)return e&&t.precededBySpace?null:(this.tokenizer.consume(),[t.type===On.NUMERIC?t.num:1,parseInt(n[1],10)]);if(n=t.text.match(/^-n(-[0-9]+)$/),n)return this.tokenizer.consume(),[-1,parseInt(n[1],10)]}return null;case On.INT:return e&&(t.precededBySpace||t.num<0)?null:(this.tokenizer.consume(),[0,t.num])}return null}makeCondition(e,t){const n=this.handler.getScope();if(!n)return null;if(t=t||n._true,e){const i=e.split(/\s+/);for(const e of i)switch(e){case"vertical":t=ct(n,t,new Me(n,new nt(n,"pref-horizontal")));break;case"horizontal":t=ct(n,t,new nt(n,"pref-horizontal"));break;case"day":t=ct(n,t,new Me(n,new nt(n,"pref-night-mode")));break;case"night":t=ct(n,t,new nt(n,"pref-night-mode"));break;default:t=n._false}}return t===n._true?null:new Dt(t)}isInsidePropertyOnlyRule(){switch(this.ruleStack[this.ruleStack.length-1]){case"[selector]":case"font-face":case"-epubx-flow":case"-epubx-viewport":case"-epubx-define":case"-adapt-footnote-area":return!0}return!1}runParser(e,t,n,i,o){const s=this.handler,r=this.tokenizer,a=this.valStack;let l,h,c,u,d,p,f;i&&(this.exprContext=Ji.MEDIA,this.valStack.push("{"));e:for(;e>0;--e)switch(l=r.token(),this.actions[l.type]){case Zi.IDENT:if(r.nthToken(1).type!=On.COLON){this.isInsidePropertyOnlyRule()?(s.error("E_CSS_COLON_EXPECTED",r.nthToken(1)),this.actions=Ki):(this.actions=Gi,s.startSelectorRule());continue}h=r.nthToken(2),h.precededBySpace||h.type!=On.IDENT&&h.type!=On.FUNC||r.mark(),this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=$i,a.splice(0,a.length);continue;case Zi.PROP:if(r.nthToken(1).type!=On.COLON){this.actions=Ki,s.error("E_CSS_COLON_EXPECTED",r.nthToken(1));continue}this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=$i,a.splice(0,a.length);continue;case Zi.SELECTOR_START:this.actions=Gi,s.startSelectorRule();continue;case Zi.SELECTOR_NAME_1:if(!l.precededBySpace){this.actions=Yi,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case Zi.SELECTOR_NAME:if(r.nthToken(1).type==On.BAR)if(r.consume(),r.consume(),c=this.namespacePrefixToURI[l.text],null!=c)switch(l=r.token(),l.type){case On.IDENT:s.tagSelector(c,l.text),this.actions=o?Vi:zi,r.consume();break;case On.STAR:s.tagSelector(c,null),this.actions=o?Vi:zi,r.consume();break;default:this.actions=ji,s.error("E_CSS_NAMESPACE",l)}else this.actions=ji,s.error("E_CSS_UNDECLARED_PREFIX",l);else s.tagSelector(this.defaultNamespaceURI,l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_ANY_1:if(!l.precededBySpace){this.actions=Yi,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case Zi.SELECTOR_ANY:if(r.nthToken(1).type==On.BAR)switch(r.consume(),r.consume(),l=r.token(),l.type){case On.IDENT:s.tagSelector(null,l.text),this.actions=o?Vi:zi,r.consume();break;case On.STAR:s.tagSelector(null,null),this.actions=o?Vi:zi,r.consume();break;default:this.actions=ji,s.error("E_CSS_NAMESPACE",l)}else s.tagSelector(this.defaultNamespaceURI,null),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_ID_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_ID:s.idSelector(l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_CLASS_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_CLASS:s.classSelector(l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_PSEUDOCLASS_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_PSEUDOCLASS:r.consume(),l=r.token();t:switch(l.type){case On.IDENT:s.pseudoclassSelector(l.text,null),r.consume(),this.actions=o?Vi:zi;continue;case On.FUNC:switch(u=l.text,r.consume(),u){case"not":this.actions=Gi,s.startFuncWithSelector("not"),this.runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!0)?this.actions=zi:this.actions=Yi;break e;case"lang":case"href-epub-type":if(l=r.token(),l.type===On.IDENT){f=[l.text],r.consume();break}break t;case"nth-child":case"nth-of-type":case"nth-last-child":case"nth-last-of-type":if(f=this.readNthPseudoParams(),f)break;break t;default:f=this.readPseudoParams()}if(l=r.token(),l.type==On.C_PAR){s.pseudoclassSelector(u,f),r.consume(),this.actions=o?Vi:zi;continue}}s.error("E_CSS_PSEUDOCLASS_SYNTAX",l),this.actions=ji;continue;case Zi.SELECTOR_PSEUDOELEM:switch(r.consume(),l=r.token(),l.type){case On.IDENT:s.pseudoelementSelector(l.text,null),this.actions=o?Vi:zi,r.consume();continue;case On.FUNC:if(u=l.text,r.consume(),"nth-fragment"==u){if(f=this.readNthPseudoParams(),null===f)break}else f=this.readPseudoParams();if(l=r.token(),l.type==On.C_PAR){s.pseudoelementSelector(u,f),this.actions=o?Vi:zi,r.consume();continue}}s.error("E_CSS_PSEUDOELEM_SYNTAX",l),this.actions=ji;continue;case Zi.SELECTOR_ATTR_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_ATTR:if(r.consume(),l=r.token(),l.type==On.IDENT)u=l.text,r.consume();else if(l.type==On.STAR)u=null,r.consume();else{if(l.type!=On.BAR){this.actions=Yi,s.error("E_CSS_ATTR",l),r.consume();continue}u=""}if(l=r.token(),l.type==On.BAR){if(c=u?this.namespacePrefixToURI[u]:u,null==c){this.actions=Yi,s.error("E_CSS_UNDECLARED_PREFIX",l),r.consume();continue}if(r.consume(),l=r.token(),l.type!=On.IDENT){this.actions=Yi,s.error("E_CSS_ATTR_NAME_EXPECTED",l);continue}u=l.text,r.consume(),l=r.token()}else c="";switch(l.type){case On.EQ:case On.TILDE_EQ:case On.BAR_EQ:case On.HAT_EQ:case On.DOLLAR_EQ:case On.STAR_EQ:case On.COL_COL:d=l.type,r.consume(),l=r.token();break;case On.C_BRK:s.attributeSelector(c,u,On.EOF,null),this.actions=o?Vi:zi,r.consume();continue;default:this.actions=Yi,s.error("E_CSS_ATTR_OP_EXPECTED",l);continue}switch(l.type){case On.IDENT:case On.STR:s.attributeSelector(c,u,d,l.text),r.consume(),l=r.token();break;default:this.actions=Yi,s.error("E_CSS_ATTR_VAL_EXPECTED",l);continue}if(l.type!=On.C_BRK){this.actions=Yi,s.error("E_CSS_ATTR",l);continue}this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_CHILD:s.childSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_SIBLING:s.adjacentSiblingSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_FOLLOWING_SIBLING:s.followingSiblingSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_BODY:this.regionRule?(this.ruleStack.push("-epubx-region"),this.regionRule=!1):this.pageRule?(this.ruleStack.push("page"),this.pageRule=!1):this.ruleStack.push("[selector]"),s.startRuleBody(),this.actions=Mi,r.consume();continue;case Zi.SELECTOR_NEXT:s.nextSelector(),this.actions=Gi,r.consume();continue;case Zi.VAL_IDENT:a.push(Tt(l.text)),r.consume();continue;case Zi.VAL_HASH:d=parseInt(l.text,16);try{a.push(Li(l.text))}catch(e){s.error("E_CSS_COLOR",l),this.actions=ji}r.consume();continue;case Zi.VAL_NUM:a.push(new It(l.num)),r.consume();continue;case Zi.VAL_INT:a.push(new Pt(l.num)),r.consume();continue;case Zi.VAL_NUMERIC:Ie(l.text)?a.push(new Dt(new tt(s.getScope(),l.num,l.text))):a.push(new xt(l.num,l.text)),r.consume();continue;case Zi.VAL_STR:a.push(new Nt(l.text)),r.consume();continue;case Zi.VAL_URL:a.push(new Ot(k(l.text,this.baseURL))),r.consume();continue;case Zi.VAL_COMMA:this.valStackReduce(",",l),a.push(","),r.consume();continue;case Zi.VAL_SLASH:a.push(St),r.consume();continue;case Zi.VAL_FUNC:u=l.text.toLowerCase(),"-epubx-expr"==u||"calc"==u||"env"==u?(this.actions=Wi,this.exprContext=Ji.PROP,a.push("{")):(a.push(u),a.push("(")),r.consume();continue;case Zi.VAL_C_PAR:this.valStackReduce(")",l),r.consume();continue;case Zi.VAL_BANG:if(r.consume(),l=r.token(),h=r.nthToken(1),l.type==On.IDENT&&"important"==l.text.toLowerCase()&&(h.type==On.SEMICOL||h.type==On.EOF||h.type==On.C_BRC)){r.consume(),this.propImportant=!0;continue}this.exprError("E_CSS_SYNTAX",l);continue;case Zi.VAL_PLUS:switch(h=r.nthToken(1),h.type){case On.NUM:case On.NUMERIC:case On.INT:if(!h.precededBySpace){r.consume();continue}}if(this.actions===$i&&r.hasMark()){r.reset(),this.actions=Gi,s.startSelectorRule();continue}this.exprError("E_CSS_UNEXPECTED_PLUS",l);continue;case Zi.VAL_END:r.consume();case Zi.VAL_BRC:r.unmark(),p=this.valStackReduce(";",l),p&&this.propName&&s.property(this.propName,p,this.propImportant),this.actions=n?Ui:Mi;continue;case Zi.VAL_FINISH:if(r.consume(),r.unmark(),p=this.valStackReduce(";",l),t)return this.result=p,!0;if(this.propName&&p&&s.property(this.propName,p,this.propImportant),n)return!0;this.exprError("E_CSS_SYNTAX",l);continue;case Zi.EXPR_IDENT:h=r.nthToken(1),h.type==On.CLASS?(r.nthToken(2).type!=On.O_PAR||r.nthToken(2).precededBySpace?(a.push(new nt(s.getScope(),Ce(l.text,h.text))),this.actions=Xi):(a.push(l.text,h.text,"("),r.consume()),r.consume()):(this.exprContext==Ji.MEDIA||this.exprContext==Ji.IMPORT?"not"==l.text.toLowerCase()?(r.consume(),a.push(new it(s.getScope(),!0,h.text))):("only"==l.text.toLowerCase()&&(r.consume(),l=h),a.push(new it(s.getScope(),!1,l.text))):a.push(new nt(s.getScope(),l.text)),this.actions=Xi),r.consume();continue;case Zi.EXPR_FUNC:a.push(null,l.text,"("),r.consume();continue;case Zi.EXPR_NUM:a.push(new at(s.getScope(),l.num)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_NUMERIC:u=l.text,"%"==u&&(u=this.propName&&this.propName.match(/height|^(top|bottom)$/)?"vh":"vw"),a.push(new tt(s.getScope(),l.num,u)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_STR:a.push(new at(s.getScope(),l.text)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_PARAM:r.consume(),l=r.token(),l.type!=On.INT||l.precededBySpace?this.exprError("E_CSS_SYNTAX",l):(a.push(new ht(s.getScope(),l.num)),r.consume(),this.actions=Xi);continue;case Zi.EXPR_PREFIX:a.push(-l.type),r.consume();continue;case Zi.EXPR_INFIX:this.actions=Wi,this.exprStackReduce(l.type,l),a.push(l.type),r.consume();continue;case Zi.EXPR_INFIX_NAME:"and"==l.text.toLowerCase()?(this.actions=Wi,this.exprStackReduce(Qi,l),a.push(Qi),r.consume()):this.exprError("E_CSS_SYNTAX",l);continue;case Zi.EXPR_C_PAR:this.exprStackReduce(l.type,l)&&(this.propName?this.actions=$i:this.exprError("E_CSS_UNBALANCED_PAR",l)),r.consume();continue;case Zi.EXPR_O_BRC:this.exprStackReduce(On.C_PAR,l)&&(this.propName||this.exprContext==Ji.IMPORT?this.exprError("E_CSS_UNEXPECTED_BRC",l):(this.exprContext==Ji.WHEN?s.startWhenRule(a.pop()):s.startMediaRule(a.pop()),this.ruleStack.push("media"),s.startRuleBody(),this.actions=Mi)),r.consume();continue;case Zi.EXPR_SEMICOL:if(this.exprStackReduce(On.C_PAR,l)){if(!this.propName&&this.exprContext==Ji.IMPORT)return this.importCondition=a.pop(),this.importReady=!0,this.actions=Mi,r.consume(),!1;this.exprError("E_CSS_UNEXPECTED_SEMICOL",l)}r.consume();continue;case Zi.EXPR_O_PAR:a.push(l.type),r.consume();continue;case Zi.RULE_END:this.actions=Mi,r.consume(),s.endRule(),this.ruleStack.length&&this.ruleStack.pop();continue;case Zi.AT:switch(u=l.text.toLowerCase(),u){case"import":if(r.consume(),l=r.token(),l.type==On.STR||l.type==On.URL){if(this.importURL=l.text,r.consume(),l=r.token(),l.type==On.SEMICOL||l.type==On.EOF)return this.importReady=!0,r.consume(),!1;this.propName=null,this.exprContext=Ji.IMPORT,this.actions=Wi,a.push("{");continue}s.error("E_CSS_IMPORT_SYNTAX",l),this.actions=ji;continue;case"namespace":switch(r.consume(),l=r.token(),l.type){case On.IDENT:if(u=l.text,r.consume(),l=r.token(),(l.type==On.STR||l.type==On.URL)&&r.nthToken(1).type==On.SEMICOL){this.namespacePrefixToURI[u]=l.text,r.consume(),r.consume();continue}break;case On.STR:case On.URL:if(r.nthToken(1).type==On.SEMICOL){this.defaultNamespaceURI=l.text,r.consume(),r.consume();continue}}s.error("E_CSS_NAMESPACE_SYNTAX",l),this.actions=ji;continue;case"charset":if(r.consume(),l=r.token(),l.type==On.STR&&r.nthToken(1).type==On.SEMICOL){u=l.text.toLowerCase(),"utf-8"!=u&&"utf-16"!=u&&s.error(`E_CSS_UNEXPECTED_CHARSET ${u}`,l),r.consume(),r.consume();continue}s.error("E_CSS_CHARSET_SYNTAX",l),this.actions=ji;continue;case"font-face":case"-epubx-page-template":case"-epubx-define":case"-epubx-viewport":if(r.nthToken(1).type==On.O_BRC){switch(r.consume(),r.consume(),u){case"font-face":s.startFontFaceRule();break;case"-epubx-page-template":s.startPageTemplateRule();break;case"-epubx-define":s.startDefineRule();break;case"-epubx-viewport":s.startViewportRule()}this.ruleStack.push(u),s.startRuleBody();continue}break;case"-adapt-footnote-area":switch(r.consume(),l=r.token(),l.type){case On.O_BRC:r.consume(),s.startFootnoteRule(null),this.ruleStack.push(u),s.startRuleBody();continue;case On.COL_COL:if(r.consume(),l=r.token(),l.type==On.IDENT&&r.nthToken(1).type==On.O_BRC){u=l.text,r.consume(),r.consume(),s.startFootnoteRule(u),this.ruleStack.push("-adapt-footnote-area"),s.startRuleBody();continue}}break;case"-epubx-region":r.consume(),s.startRegionRule(),this.regionRule=!0,this.actions=Gi;continue;case"page":r.consume(),s.startPageRule(),this.pageRule=!0,this.actions=Hi;continue;case"top-left-corner":case"top-left":case"top-center":case"top-right":case"top-right-corner":case"right-top":case"right-middle":case"right-bottom":case"bottom-right-corner":case"bottom-right":case"bottom-center":case"bottom-left":case"bottom-left-corner":case"left-bottom":case"left-middle":case"left-top":if(r.consume(),l=r.token(),l.type==On.O_BRC){r.consume(),s.startPageMarginBoxRule(u),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-when":r.consume(),this.propName=null,this.exprContext=Ji.WHEN,this.actions=Wi,a.push("{");continue;case"media":r.consume(),this.propName=null,this.exprContext=Ji.MEDIA,this.actions=Wi,a.push("{");continue;case"-epubx-flow":if(r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.O_BRC){s.startFlowRule(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-page-master":case"-epubx-partition":case"-epubx-partition-group":{r.consume(),l=r.token();let e=null,t=null;const n=[];for(l.type==On.IDENT&&(e=l.text,r.consume(),l=r.token()),l.type==On.COLON&&r.nthToken(1).type==On.IDENT&&(t=r.nthToken(1).text,r.consume(),r.consume(),l=r.token());l.type==On.FUNC&&"class"==l.text.toLowerCase()&&r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.C_PAR;)n.push(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),l=r.token();if(l.type==On.O_BRC){switch(r.consume(),u){case"-epubx-page-master":s.startPageMasterRule(e,t,n);break;case"-epubx-partition":s.startPartitionRule(e,t,n);break;case"-epubx-partition-group":s.startPartitionGroupRule(e,t,n)}this.ruleStack.push(u),s.startRuleBody();continue}break}case"":s.error(`E_CSS_UNEXPECTED_AT${u}`,l),this.actions=Yi;continue;default:s.error(`E_CSS_AT_UNKNOWN ${u}`,l),this.actions=ji;continue}s.error(`E_CSS_AT_SYNTAX ${u}`,l),this.actions=ji;continue;case Zi.ERROR_PUSH:if(t||n)return!0;this.errorBrackets.push(l.type+1),r.consume();continue;case Zi.ERROR_POP_DECL:if(t||n)return!0;if(0==this.errorBrackets.length){this.actions=Mi;continue}case Zi.ERROR_POP:this.errorBrackets.length>0&&this.errorBrackets[this.errorBrackets.length-1]==l.type&&this.errorBrackets.pop(),0==this.errorBrackets.length&&l.type==On.C_BRC&&(this.actions=Mi),r.consume();continue;case Zi.ERROR_SEMICOL:if(t||n)return!0;0==this.errorBrackets.length&&(this.actions=Mi),r.consume();continue;case Zi.DONE:return o&&(r.consume(),s.endFuncWithSelector()),!0;default:if(t||n)return!0;if(i)return!!this.exprStackReduce(On.C_PAR,l)&&(this.result=a.pop(),!0);if(o)return l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),!1;if(this.actions===$i&&r.hasMark()){r.reset(),this.actions=Gi,s.startSelectorRule();continue}if(this.actions!==ji&&this.actions!==Yi&&this.actions!==Ki){l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),this.isInsidePropertyOnlyRule()?this.actions=Ki:this.actions=Yi;continue}r.consume();continue}return!1}}class to extends Fi{constructor(e){super(null),this.scope=e}error(e,t){throw new Error(e)}getScope(){return this.scope}}function no(e,t,n,i,o){return fi("parseStylesheetFromText",s=>{(function(e,t,n,i,o){const s=di("parseStylesheet"),r=new eo(Mi,e,t,n);let a=null;return o&&(a=function(e,t,n){const i=new eo(Wi,e,t,n);return i.runParser(Number.POSITIVE_INFINITY,!1,!1,!0,!1),i.result}(new li(o,t),t,n)),a=r.makeCondition(i,a&&a.toExpr()),a&&(t.startMediaRule(a),t.startRuleBody()),s.loop(()=>{for(;!r.runParser(100,!1,!1,!1,!1);){if(r.importReady){const e=k(r.importURL,n);r.importCondition&&(t.startMediaRule(r.importCondition),t.startRuleBody());const i=di("parseStylesheet.import");return io(e,t,null,null).then(()=>{r.importCondition&&t.endRule(),r.importReady=!1,r.importURL=null,r.importCondition=null,i.finish(!0)}),i.result()}const e=s.timeSlice();if(e.isPending)return e}return pi(!1)}).then(()=>{a&&t.endRule(),s.finish(!0)}),s.result()})(new li(e,t),t,n,i,o).thenFinish(s)},(t,n)=>{c.warn(n,`Failed to parse stylesheet text: ${e}`),t.finish(!1)})}function io(e,t,n,i){return fi("parseStylesheetFromURL",o=>{Ai(e).then(s=>{s.responseText?no(s.responseText,t,e,n,i).then(t=>{t||c.warn(`Failed to parse stylesheet from ${e}`),o.finish(!0)}):o.finish(!0)})},(t,n)=>{c.warn(n,"Exception while fetching and parsing:",e),t.finish(!0)})}function oo(e,t,n){const i=new eo($i,t,new to(e),n);return i.runParser(Number.POSITIVE_INFINITY,!0,!1,!1,!1),i.result}const so={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};function ro(e,t,n){return t.isExpr()?function(e,t,n){const i=t.evaluate(e);switch(typeof i){case"number":return function(e){return!!so[e]}(n)?i==Math.round(i)?new Pt(i):new It(i):new xt(i,"px");case"string":return i?oo(t.scope,new li(i,null),""):Et;case"boolean":return i?Mt._true:Mt._false;case"undefined":return Et}throw new Error("E_UNEXPECTED")}(e,t.expr,n):t}function ao(e,t,n){return e-=n,0===t?0===e:e%t==0&&e/t>=0}class lo{constructor(e){this.matchers=e}matches(){return this.matchers.some(e=>e.matches())}}class ho{constructor(e){this.matchers=e}matches(){return this.matchers.every(e=>e.matches())}}class co{constructor(e,t,n){this.elementOffset=e,this.a=t,this.b=n}static registerFragmentIndex(e,t,n){const i=co.fragmentIndices;(!i[e]||i[e].priority<=n)&&(i[e]={fragmentIndex:t,priority:n})}static clearFragmentIndices(){co.fragmentIndices={}}matches(){const e=co.fragmentIndices[this.elementOffset];return null!=e&&null!=e.fragmentIndex&&ao(e.fragmentIndex,this.a,this.b)}}co.fragmentIndices={};class uo{static buildViewConditionMatcher(e,t){const n=t.split("_");return"NFS"==n[0]?new co(e,parseInt(n[1],10),parseInt(n[2],10)):null}static buildAllMatcher(e){return new ho(e)}static buildAnyMatcher(e){return new lo(e)}}const po={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-rendering":!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,"font-kerning":!0,"font-size":!0,"font-size-adjust":!0,"font-family":!0,"font-feature-settings":!0,"font-style":!0,"font-stretch":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-vertical":!0,hyphens:!0,"hyphenate-character":!0,"hyphenate-limit-chars":!0,"hyphenate-limit-last":!0,"image-rendering":!0,"image-resolution":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,marker:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,orphans:!0,"overflow-wrap":!0,"paint-order":!0,"pointer-events":!0,"pitch-range":!0,quotes:!0,richness:!0,"ruby-align":!0,"ruby-position":!0,"speak-header":!0,"speak-numeral":!0,"speak-punctuation":!0,"speech-rate":!0,"shape-rendering":!0,stress:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-anchor":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-rendering":!0,"text-size-adjust":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"writing-mode":!0},fo=["box-decoration-break","image-resolution","orphans","widows"];const go={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},mo=["margin-%","padding-%","border-%-width","border-%-style","border-%-color","%"],bo=["max-%","min-%","%"],wo=(()=>{const e=["left","right","top","bottom"],t={width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0};for(let n=0;n<mo.length;n++)for(let i=0;i<e.length;i++)t[mo[n].replace("%",e[i])]=!0;return t})();function Eo(e,t){const n={};for(const t of mo)for(const i in e){const o=t.replace("%",i),s=t.replace("%",e[i]);n[o]=s,n[s]=o}for(const e of bo)for(const i in t){const o=e.replace("%",i),s=e.replace("%",t[i]);n[o]=s,n[s]=o}return n}const yo=Eo({"block-start":"right","block-end":"left","inline-start":"top","inline-end":"bottom"},{"block-size":"width","inline-size":"height"}),So=Eo({"block-start":"top","block-end":"bottom","inline-start":"left","inline-end":"right"},{"block-size":"height","inline-size":"width"}),No=Eo({"block-start":"right","block-end":"left","inline-start":"bottom","inline-end":"top"},{"block-size":"width","inline-size":"height"}),vo=Eo({"block-start":"top","block-end":"bottom","inline-start":"right","inline-end":"left"},{"block-size":"height","inline-size":"width"});class Co{constructor(e,t){this.value=e,this.priority=t}getBaseValue(){return this}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new Co(t,this.priority)}increaseSpecificity(e){return 0==e?this:new Co(this.value,this.priority+e)}evaluate(e,t){return ro(e,this.value,t)}isEnabled(e){return!0}}class To extends Co{constructor(e,t,n){super(e,t),this.condition=n}getBaseValue(){return new Co(this.value,this.priority)}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new To(t,this.priority,this.condition)}increaseSpecificity(e){return 0==e?this:new To(this.value,this.priority+e,this.condition)}isEnabled(e){return!!this.condition.evaluate(e)}}function xo(e,t,n){return(null==t||n.priority>t.priority)&&n.isEnabled(e)?n.getBaseValue():t}const Io={"region-id":!0,"fragment-selector-id":!0};function Po(e){return!!Io[e]}function Ao(e){return"_"!=e.charAt(0)&&!Io[e]}function Oo(e){return!!po[e]}function Ro(e,t){return e[t]}function ko(e,t,n){n?e[t]=n:delete e[t]}function Lo(e,t){return e[t]}function Fo(e,t){let n=e[t];return n||(n={},e[t]=n),n}const Do=e=>{let t=e._viewConditionalStyles;return t||(t=[],e._viewConditionalStyles=t),t};function _o(e,t){return e[t]}function Bo(e,t){let n=e[t];return n||(n=[],e[t]=n),n}function Mo(e,t,n,i,o,s,r){if([{id:o,styleKey:"_pseudos"},{id:s,styleKey:"_regions"}].forEach(e=>{if(e.id){const n=Fo(t,e.styleKey);(t=n[e.id])||(t={},n[e.id]=t)}}),r){const e=Do(t);t={},e.push({styles:t,matcher:r})}for(const o in n)if("_"!=o.charAt(0))if(Po(o)){const e=_o(n,o),i=Bo(t,o);Array.prototype.push.apply(i,e)}else{const s=Ro(n,o).increaseSpecificity(i),r=Ro(t,o);ko(t,o,xo(e,r,s))}}function Uo(e,t){if(e.length>0){e.sort((e,t)=>t.getPriority()-e.getPriority());let n=null;for(let i=e.length-1;i>=0;i--)n=e[i],n.chained=t,t=n;return n}return t}class zo extends mt{constructor(e,t){super(),this.props=e,this.context=t,this.propName=""}setPropName(e){this.propName=e}getFontSize(){const e=Ro(this.props,"font-size").value;if(!function(e){switch(e.toLowerCase()){case"px":case"in":case"pt":case"pc":case"cm":case"mm":case"q":return!0;default:return!1}}(e.unit))throw new Error("Unexpected state");return e.num*Pe[e.unit]}visitNumeric(e){if(this.context,"font-size"===this.propName)return function(e,t,n){const i=(e=Vo(e,t,n)).unit,o=e.num;return"px"===i?e:new xt("%"===i?o/100*t:o*n.queryUnitSize(i,!1),"px")}(e,this.getFontSize(),this.context);if("em"==e.unit||"ex"==e.unit||"rem"==e.unit)return Vo(e,this.getFontSize(),this.context);if("%"==e.unit){if("line-height"===this.propName)return e;const t=this.propName.match(/height|^(top|bottom)$/)?"vh":"vw";return new xt(e.num,t)}return e}visitExpr(e){return"font-size"==this.propName?ro(this.context,e,this.propName).visit(this):e}}function Vo(e,t,n){const i=e.unit,o=e.num;return"em"===i||"ex"===i?new xt(o*(Pe[i]/Pe.em)*t,"px"):"rem"===i?new xt(o*n.fontSize(),"px"):e}class Ho{apply(e){}mergeWith(e){return new $o([this,e])}clone(){return this}}class Go extends Ho{constructor(e){super(),this.conditionItem=e}apply(e){e.pushConditionItem(this.conditionItem.fresh(e))}}class $o extends Ho{constructor(e){super(),this.list=e}apply(e){for(let t=0;t<this.list.length;t++)this.list[t].apply(e)}mergeWith(e){return this.list.push(e),this}clone(){return new $o([].concat(this.list))}}class Wo extends Ho{constructor(e,t,n,i,o){super(),this.style=e,this.specificity=t,this.pseudoelement=n,this.regionId=i,this.viewConditionId=o}apply(e){Mo(e.context,e.currentStyle,this.style,this.specificity,this.pseudoelement,this.regionId,e.buildViewConditionMatcher(this.viewConditionId))}}class Xo extends Ho{constructor(){super(),this.chained=null}apply(e){this.chained.apply(e)}getPriority(){return 0}makePrimary(e){return!1}}class jo extends Xo{constructor(e){super(),this.className=e}apply(e){e.currentClassNames.includes(this.className)&&this.chained.apply(e)}getPriority(){return 10}makePrimary(e){return this.chained&&e.insertInTable(e.classes,this.className,this.chained),!0}}class Ko extends Xo{constructor(e){super(),this.id=e}apply(e){e.currentId!=this.id&&e.currentXmlId!=this.id||this.chained.apply(e)}getPriority(){return 11}makePrimary(e){return this.chained&&e.insertInTable(e.ids,this.id,this.chained),!0}}class Yo extends Xo{constructor(e){super(),this.localName=e}apply(e){e.currentLocalName==this.localName&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){return this.chained&&e.insertInTable(e.tags,this.localName,this.chained),!0}}class qo extends Xo{constructor(e,t){super(),this.ns=e,this.localName=t}apply(e){e.currentLocalName==this.localName&&e.currentNamespace==this.ns&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){if(this.chained){let t=e.nsPrefix[this.ns];t||(t=`ns${e.nsCount++}:`,e.nsPrefix[this.ns]=t);const n=t+this.localName;e.insertInTable(e.nstags,n,this.chained)}return!0}}class Zo extends Xo{constructor(e){super(),this.epubTypePatt=e}apply(e){const t=e.currentElement;if(t&&"a"==e.currentLocalName){const n=t.getAttribute("href");if(n&&n.match(/^#/)){const i=n.substring(1),o=t.ownerDocument.getElementById(i);if(o){const t=o.getAttributeNS(F.epub,"type");t&&t.match(this.epubTypePatt)&&this.chained.apply(e)}}}}}class Qo extends Xo{constructor(e){super(),this.ns=e}apply(e){e.currentNamespace==this.ns&&this.chained.apply(e)}}class Jo extends Xo{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){e.currentElement&&e.currentElement.hasAttributeNS(this.ns,this.name)&&this.chained.apply(e)}}class es extends Xo{constructor(e,t,n){super(),this.ns=e,this.name=t,this.value=n}apply(e){e.currentElement&&e.currentElement.getAttributeNS(this.ns,this.name)==this.value&&this.chained.apply(e)}getPriority(){return"type"==this.name&&this.ns==F.epub?9:0}makePrimary(e){return"type"==this.name&&this.ns==F.epub&&(this.chained&&e.insertInTable(e.epubtypes,this.value,this.chained),!0)}}class ts extends Xo{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&go[t]&&this.chained.apply(e)}}getPriority(){return 0}makePrimary(e){return!1}}class ns extends Xo{constructor(e,t,n){super(),this.ns=e,this.name=t,this.regexp=n}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&t.match(this.regexp)&&this.chained.apply(e)}}}class is extends Xo{constructor(e){super(),this.langRegExp=e}apply(e){e.lang.match(this.langRegExp)&&this.chained.apply(e)}}class os extends Xo{constructor(){super()}apply(e){e.isFirst&&this.chained.apply(e)}getPriority(){return 6}}class ss extends Xo{constructor(){super()}apply(e){e.isRoot&&this.chained.apply(e)}getPriority(){return 12}}class rs extends Xo{constructor(e,t){super(),this.a=e,this.b=t}matchANPlusB(e){return ao(e,this.a,this.b)}}class as extends rs{constructor(e,t){super(e,t)}apply(e){const t=e.currentSiblingTypeCounts[e.currentNamespace][e.currentLocalName];this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 5}}class ls extends rs{constructor(e,t){super(e,t)}apply(e){let t=e.currentFollowingSiblingOrder;null===t&&(t=e.currentFollowingSiblingOrder=e.currentElement.parentNode.childElementCount-e.currentSiblingOrder+1),this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 4}}class hs extends rs{constructor(e,t){super(e,t)}apply(e){const t=e.currentFollowingSiblingTypeCounts;if(!t[e.currentNamespace]){let n=e.currentElement;do{const e=n.namespaceURI,i=n.localName;let o=t[e];o||(o=t[e]={}),o[i]=(o[i]||0)+1}while(n=n.nextElementSibling)}this.matchANPlusB(t[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)}getPriority(){return 4}}class cs extends Xo{constructor(){super()}apply(e){let t=e.currentElement.firstChild;for(;t;){switch(t.nodeType){case Node.ELEMENT_NODE:return;case Node.TEXT_NODE:if(t.length>0)return}t=t.nextSibling}this.chained.apply(e)}getPriority(){return 4}}class us extends Xo{constructor(){super()}apply(e){!1===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class ds extends Xo{constructor(){super()}apply(e){!0===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class ps extends Xo{constructor(){super()}apply(e){const t=e.currentElement;!0!==t.selected&&!0!==t.checked||this.chained.apply(e)}getPriority(){return 5}}class fs extends Xo{constructor(e){super(),this.condition=e}apply(e){if(e.conditions[this.condition])try{e.dependentConditions.push(this.condition),this.chained.apply(e)}finally{e.dependentConditions.pop()}}getPriority(){return 5}}class gs extends Ho{constructor(){super(),this.applied=!1}apply(e){this.applied=!0}clone(){const e=new gs;return e.applied=this.applied,e}}class ms extends Xo{constructor(e){super(),this.checkAppliedAction=new gs,this.firstAction=Uo(e,this.checkAppliedAction)}apply(e){this.firstAction.apply(e),this.checkAppliedAction.applied||this.chained.apply(e),this.checkAppliedAction.applied=!1}getPriority(){return this.firstAction.getPriority()}}class bs{constructor(e,t,n){this.condition=e,this.viewConditionId=t,this.viewCondition=n}increment(e){e.increment(this.condition,this.viewCondition)}decrement(e){e.decrement(this.condition,this.viewCondition)}buildViewConditionMatcher(e){return e.buildViewConditionMatcher(this.viewConditionId)}}class ws extends bs{constructor(e,t,n){super(e,t,n)}fresh(e){return new ws(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t&&this.increment(e),!1}pop(e,t){return 0==t&&(this.decrement(e),!0)}}class Es extends bs{constructor(e,t,n){super(e,t,n)}fresh(e){return new Es(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t?this.increment(e):1==t&&this.decrement(e),!1}pop(e,t){return 0==t?(this.decrement(e),!0):(1==t&&this.increment(e),!1)}}class ys extends bs{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new ys(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return!!this.fired&&(this.decrement(e),!0)}pop(e,t){return this.fired?(this.decrement(e),!0):(0==t&&(this.fired=!0,this.increment(e)),!1)}}class Ss extends bs{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new Ss(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return this.fired&&(-1==t?this.increment(e):0==t&&this.decrement(e)),!1}pop(e,t){if(this.fired){if(-1==t)return this.decrement(e),!0;0==t&&this.increment(e)}else 0==t&&(this.fired=!0,this.increment(e));return!1}}class Ns{constructor(e,t){this.afterprop=e,this.element=t}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.processPseudoelementProps(this.afterprop,this.element),!0)}}class vs{constructor(e){this.lang=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.lang=this.lang,!0)}}class Cs{constructor(e){this.oldQuotes=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.quotes=this.oldQuotes,!0)}}class Ts extends mt{constructor(e){super(),this.element=e}createValueFromString(e,t){switch(t){case"url":return new Ot(e||"about:invalid");case"string":default:return new Nt(e||"")}}visitFunc(e){if("attr"!==e.name)return super.visitFunc(e);let t="string",n=null,i=null;if(e.values[0]instanceof kt){const i=e.values[0].values;i.length>=2&&(t=i[1].stringValue()),n=i[0].stringValue()}else n=e.values[0].stringValue();return i=e.values.length>1?this.createValueFromString(e.values[1].stringValue(),t):this.createValueFromString(null,t),this.element&&this.element.hasAttribute(n)?this.createValueFromString(this.element.getAttribute(n),t):i}}class xs extends mt{constructor(e,t,n){super(),this.cascade=e,this.element=t,this.counterResolver=n}visitIdent(e){const t=this.cascade,n=t.quotes,i=Math.floor(n.length/2)-1;switch(e.name){case"open-quote":{const e=n[2*Math.min(i,t.quoteDepth)];return t.quoteDepth++,e}case"close-quote":return t.quoteDepth>0&&t.quoteDepth--,n[2*Math.min(i,t.quoteDepth)+1];case"no-open-quote":return t.quoteDepth++,new Nt("");case"no-close-quote":return t.quoteDepth>0&&t.quoteDepth--,new Nt("")}return e}format(e,t){let n,i=!1,o=!1;null!=(n=t.match(/^upper-(.*)/))?(i=!0,t=n[1]):null!=(n=t.match(/^lower-(.*)/))&&(o=!0,t=n[1]);let s="";return Is[t]?s=function(e,t){if(t>e[0]||t<=0||t!=Math.round(t))return"";let n="";for(let i=1;i<e.length;i+=2){const o=e[i];let s=Math.floor(t/o);if(s>20)return"";for(t-=s*o;s>0;)n+=e[i+1],s--}return n}(Is[t],e):Ps[t]?s=function(e,t){if(t<=0||t!=Math.round(t))return"";const n=function(e){const t=[];let n=0;for(;n<e.length;)if("-"==e.substr(n+1,1)){const i=e.charCodeAt(n),o=e.charCodeAt(n+2);n+=3;for(let e=i;e<=o;e++)t.push(String.fromCharCode(e))}else t.push(e.substr(n++,1));return t}(e);let i="";do{const e=--t%n.length;i=n[e]+i,t=(t-e)/n.length}while(t>0);return i}(Ps[t],e):null!=As[t]?s=As[t]:"decimal-leading-zero"==t?(s=`${e}`,1==s.length&&(s=`0${s}`)):s="cjk-ideographic"==t||"trad-chinese-informal"==t?function(e,t){if(e>9999||e<-9999)return`${e}`;if(0==e)return t.digits.charAt(0);const n=new $;if(e<0&&(n.append(t.negative),e=-e),e<10)n.append(t.digits.charAt(e));else if(!t.formal&&e<=19)n.append(t.markers.charAt(0)),0!=e&&n.append(t.digits.charAt(e-10));else{const i=Math.floor(e/1e3);i&&(n.append(t.digits.charAt(i)),n.append(t.markers.charAt(2)));const o=Math.floor(e/100)%10;o&&(n.append(t.digits.charAt(o)),n.append(t.markers.charAt(1)));const s=Math.floor(e/10)%10;s&&(n.append(t.digits.charAt(s)),n.append(t.markers.charAt(0)));const r=e%10;r&&n.append(t.digits.charAt(r))}return n.toString()}(e,Os):`${e}`,i?s.toUpperCase():o?s.toLowerCase():s}visitFuncCounter(e){const t=e[0].toString(),n=e.length>1?e[1].stringValue():"decimal",i=this.cascade.counters[t];if(i&&i.length){const e=i&&i.length&&i[i.length-1]||0;return new Nt(this.format(e,n))}{const e=this,i=new Dt(this.counterResolver.getPageCounterVal(t,t=>e.format(t||0,n)));return new kt([i])}}visitFuncCounters(e){const t=e[0].toString(),n=e[1].stringValue(),i=e.length>2?e[2].stringValue():"decimal",o=this.cascade.counters[t],s=new $;if(o&&o.length)for(let e=0;e<o.length;e++)e>0&&s.append(n),s.append(this.format(o[e],i));const r=this,a=new Dt(this.counterResolver.getPageCountersVal(t,e=>{const t=[];if(e.length)for(let n=0;n<e.length;n++)t.push(r.format(e[n],i));const o=s.toString();return o.length&&t.push(o),t.length?t.join(n):r.format(0,i)}));return new kt([a])}visitFuncTargetCounter(e){const t=e[0];let n;n=t instanceof Ot?t.url:t.stringValue();const i=e[1].toString(),o=e.length>2?e[2].stringValue():"decimal",s=this,r=new Dt(this.counterResolver.getTargetCounterVal(n,i,e=>s.format(e||0,o)));return new kt([r])}visitFuncTargetCounters(e){const t=e[0];let n;n=t instanceof Ot?t.url:t.stringValue();const i=e[1].toString(),o=e[2].stringValue(),s=e.length>3?e[3].stringValue():"decimal",r=this,a=new Dt(this.counterResolver.getTargetCountersVal(n,i,e=>{const t=e.map(e=>r.format(e,s));return t.length?t.join(o):r.format(0,s)}));return new kt([a])}visitFunc(e){switch(e.name){case"counter":if(e.values.length<=2)return this.visitFuncCounter(e.values);break;case"counters":if(e.values.length<=3)return this.visitFuncCounters(e.values);break;case"target-counter":if(e.values.length<=3)return this.visitFuncTargetCounter(e.values);break;case"target-counters":if(e.values.length<=4)return this.visitFuncTargetCounters(e.values)}return c.warn("E_CSS_CONTENT_PROP:",e.toString()),new Nt("")}}const Is={roman:[4999,1e3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9e3,"ք",8e3,"փ",7e3,"ւ",6e3,"ց",5e3,"ր",4e3,"տ",3e3,"վ",2e3,"ս",1e3,"ռ",900,"ջ",800,"պ",700,"չ",600,"ո",500,"շ",400,"ն",300,"յ",200,"մ",100,"ճ",90,"ղ",80,"ձ",70,"հ",60,"կ",50,"ծ",40,"խ",30,"լ",20,"ի",10,"ժ",9,"թ",8,"ը",7,"է",6,"զ",5,"ե",4,"դ",3,"գ",2,"բ",1,"ա"],georgian:[19999,1e4,"ჵ",9e3,"ჰ",8e3,"ჯ",7e3,"ჴ",6e3,"ხ",5e3,"ჭ",4e3,"წ",3e3,"ძ",2e3,"ც",1e3,"ჩ",900,"შ",800,"ყ",700,"ღ",600,"ქ",500,"ფ",400,"ჳ",300,"ტ",200,"ს",100,"რ",90,"ჟ",80,"პ",70,"ო",60,"ჲ",50,"ნ",40,"მ",30,"ლ",20,"კ",10,"ი",9,"თ",8,"ჱ",7,"ზ",6,"ვ",5,"ე",4,"დ",3,"გ",2,"ბ",1,"ა"],hebrew:[999,400,"ת",300,"ש",200,"ר",100,"ק",90,"צ",80,"פ",70,"ע",60,"ס",50,"נ",40,"מ",30,"ל",20,"כ",19,"יט",18,"יח",17,"יז",16,"טז",15,"טו",10,"י",9,"ט",8,"ח",7,"ז",6,"ו",5,"ה",4,"ד",3,"ג",2,"ב",1,"א"]},Ps={latin:"a-z",alpha:"a-z",greek:"α-ρσ-ω",russian:"а-ик-щэ-я"},As={square:"■",disc:"•",circle:"◦",none:""},Os={formal:!1,digits:"零一二三四五六七八九",markers:"十百千",negative:"負"};function Rs(e,t){for(const n in e)t[n]=e[n].clone()}class ks{constructor(){this.nsCount=0,this.nsPrefix={},this.tags={},this.nstags={},this.epubtypes={},this.classes={},this.ids={},this.pagetypes={},this.order=0}clone(){const e=new ks;e.nsCount=this.nsCount;for(const t in this.nsPrefix)e.nsPrefix[t]=this.nsPrefix[t];return Rs(this.tags,e.tags),Rs(this.nstags,e.nstags),Rs(this.epubtypes,e.epubtypes),Rs(this.classes,e.classes),Rs(this.ids,e.ids),Rs(this.pagetypes,e.pagetypes),e.order=this.order,e}insertInTable(e,t,n){const i=e[t];i&&(n=i.mergeWith(n)),e[t]=n}createInstance(e,t,n,i){return new Ls(this,e,t,n,i)}nextOrder(){return this.order+=1/1048576}}class Ls{constructor(e,t,n,i,o){this.context=t,this.counterListener=n,this.counterResolver=i,this.stack=[[],[]],this.conditions={},this.currentElement=null,this.currentElementOffset=null,this.currentStyle=null,this.currentClassNames=null,this.currentLocalName="",this.currentNamespace="",this.currentId="",this.currentXmlId="",this.currentNSTag="",this.currentEpubTypes=null,this.currentPageType=null,this.isFirst=!0,this.isRoot=!0,this.counters={},this.counterScoping=[{}],this.quoteDepth=0,this.lang="",this.siblingOrderStack=[0],this.currentSiblingOrder=0,this.siblingTypeCountsStack=[{}],this.currentFollowingSiblingOrder=null,this.followingSiblingTypeCountsStack=[{}],this.viewConditions={},this.dependentConditions=[],this.code=e,this.quotes=[new Nt("“"),new Nt("”"),new Nt("‘"),new Nt("’")],this.currentSiblingTypeCounts=this.siblingTypeCountsStack[0],this.followingSiblingOrderStack=[this.currentFollowingSiblingOrder],this.currentFollowingSiblingTypeCounts=this.siblingTypeCountsStack[0]}pushConditionItem(e){this.stack[this.stack.length-1].push(e)}increment(e,t){this.conditions[e]=(this.conditions[e]||0)+1,t&&(this.viewConditions[e]?this.viewConditions[e].push(t):this.viewConditions[e]=[t])}decrement(e,t){this.conditions[e]--,this.viewConditions[e]&&(this.viewConditions[e]=this.viewConditions[e].filter(e=>e!==t),0===this.viewConditions[e].length&&delete this.viewConditions[e])}buildViewConditionMatcher(e){let t=null;e&&(this.currentElementOffset,t=uo.buildViewConditionMatcher(this.currentElementOffset,e));const n=this.dependentConditions.map(e=>{const t=this.viewConditions[e];return t&&t.length>0?1===t.length?t[0]:uo.buildAnyMatcher([].concat(t)):null}).filter(e=>e);return n.length<=0?t:null===t?1===n.length?n[0]:uo.buildAllMatcher(n):uo.buildAllMatcher([t].concat(n))}applyAction(e,t){const n=e[t];n&&n.apply(this)}pushRule(e,t,n){this.currentElement=null,this.currentElementOffset=null,this.currentStyle=n,this.currentNamespace="",this.currentLocalName="",this.currentId="",this.currentXmlId="",this.currentClassNames=e,this.currentNSTag="",this.currentEpubTypes=Fs,this.currentPageType=t,this.applyActions()}defineCounter(e,t){this.counters[e]?this.counters[e].push(t):this.counters[e]=[t];let n=this.counterScoping[this.counterScoping.length-1];n||(n={},this.counterScoping[this.counterScoping.length-1]=n),n[e]=!0}pushCounters(e){let t=Mt.inline;const n=e.display;n&&(t=n.evaluate(this.context));let i=null,o=null,s=null;const r=e["counter-reset"];if(r){const e=r.evaluate(this.context);e&&(i=En(e,!0))}const a=e["counter-set"];if(a){const e=a.evaluate(this.context);e&&(s=En(e,!1))}const l=e["counter-increment"];if(l){const e=l.evaluate(this.context);e&&(o=En(e,!1))}if("ol"!=this.currentLocalName&&"ul"!=this.currentLocalName||this.currentNamespace!=F.XHTML||(i||(i={}),i["ua-list-item"]=0),t===Mt.list_item&&(o||(o={}),o["ua-list-item"]=1),i)for(const e in i)this.defineCounter(e,i[e]);if(s)for(const e in s)if(this.counters[e]){const t=this.counters[e];t[t.length-1]=s[e]}else this.defineCounter(e,s[e]);if(o)for(const e in o){this.counters[e]||this.defineCounter(e,0);const t=this.counters[e];t[t.length-1]+=o[e]}if(t===Mt.list_item){const t=this.counters["ua-list-item"],n=t[t.length-1];e["ua-list-item-count"]=new Co(new It(n),0)}this.counterScoping.push(null)}popCounters(){const e=this.counterScoping.pop();if(e)for(const t in e){const e=this.counters[t];e&&(1==e.length?delete this.counters[t]:e.pop())}}processPseudoelementProps(e,t){this.pushCounters(e),e.content&&(e.content=e.content.filterValue(new xs(this,t,this.counterResolver))),this.popCounters()}pushElement(e,t,n){this.currentPageType=null,this.currentElement=e,this.currentElementOffset=n,this.currentStyle=t,this.currentNamespace=e.namespaceURI,this.currentLocalName=e.localName;const i=this.code.nsPrefix[this.currentNamespace];this.currentNSTag=i?i+this.currentLocalName:"",this.currentId=e.getAttribute("id"),this.currentXmlId=e.getAttributeNS(F.XML,"id");const o=e.getAttribute("class");this.currentClassNames=o?o.split(/\s+/):Fs;const s=e.getAttributeNS(F.epub,"type");if(this.currentEpubTypes=s?s.split(/\s+/):Fs,"style"==this.currentLocalName&&this.currentNamespace==F.FB2){const t=e.getAttribute("name")||"";this.currentClassNames=[t]}const r=G(e);r&&(this.stack[this.stack.length-1].push(new vs(this.lang)),this.lang=r.toLowerCase());const a=this.isRoot,l=this.siblingOrderStack;this.currentSiblingOrder=++l[l.length-1],l.push(0);const h=this.siblingTypeCountsStack,c=this.currentSiblingTypeCounts=h[h.length-1];let u=c[this.currentNamespace];u||(u=c[this.currentNamespace]={}),u[this.currentLocalName]=(u[this.currentLocalName]||0)+1,h.push({});const d=this.followingSiblingOrderStack;null!==d[d.length-1]?this.currentFollowingSiblingOrder=--d[d.length-1]:this.currentFollowingSiblingOrder=null,d.push(null);const p=this.followingSiblingTypeCountsStack,f=this.currentFollowingSiblingTypeCounts=p[p.length-1];f&&f[this.currentNamespace]&&f[this.currentNamespace][this.currentLocalName]--,p.push({}),this.applyActions(),this.applyAttrFilter(e);const g=t.quotes;let m=null;if(g){const e=g.evaluate(this.context);e&&(m=new Cs(this.quotes),e===Mt.none?this.quotes=[new Nt(""),new Nt("")]:e instanceof kt&&(this.quotes=e.values))}this.pushCounters(this.currentStyle);const b=this.currentId||this.currentXmlId||e.getAttribute("name")||"";if(a||b){const e={};Object.keys(this.counters).forEach(t=>{e[t]=Array.from(this.counters[t])}),this.counterListener.countersOfId(b,e)}const w=Lo(this.currentStyle,"_pseudos");if(w){let t=!0;for(const n of Ds){n||(t=!1);const i=w[n];i&&(t?this.processPseudoelementProps(i,e):this.stack[this.stack.length-2].push(new Ns(i,e)))}}m&&this.stack[this.stack.length-2].push(m)}applyAttrFilterInner(e,t){for(const n in t)Ao(n)&&(t[n]=t[n].filterValue(e))}applyAttrFilter(e){const t=new Ts(e),n=this.currentStyle,i=Lo(n,"_pseudos");for(const e in i)this.applyAttrFilterInner(t,i[e]);this.applyAttrFilterInner(t,n)}applyActions(){let e;for(e=0;e<this.currentClassNames.length;e++)this.applyAction(this.code.classes,this.currentClassNames[e]);for(e=0;e<this.currentEpubTypes.length;e++)this.applyAction(this.code.epubtypes,this.currentEpubTypes[e]);this.applyAction(this.code.ids,this.currentId),this.applyAction(this.code.tags,this.currentLocalName),""!=this.currentLocalName&&this.applyAction(this.code.tags,"*"),this.applyAction(this.code.nstags,this.currentNSTag),null!==this.currentPageType&&(this.applyAction(this.code.pagetypes,this.currentPageType),this.applyAction(this.code.pagetypes,"*")),this.currentElement=null,this.currentDoc=null,this.stack.push([]);for(let t=1;t>=-1;--t){const n=this.stack[this.stack.length-t-2];for(e=0;e<n.length;)n[e].push(this,t)?n.splice(e,1):e++}this.isFirst=!0,this.isRoot=!1}pop(){for(let e=1;e>=-1;--e){const t=this.stack[this.stack.length-e-2];let n=0;for(;n<t.length;)t[n].pop(this,e)?t.splice(n,1):n++}this.stack.pop(),this.isFirst=!1}popRule(){this.pop()}popElement(e){this.siblingOrderStack.pop(),this.siblingTypeCountsStack.pop(),this.followingSiblingOrderStack.pop(),this.followingSiblingTypeCountsStack.pop(),this.pop(),this.popCounters()}}const Fs=[],Ds=["before","transclusion-before","footnote-call","footnote-marker","inner","first-letter","first-line","","transclusion-after","after"];var _s;!function(e){e[e.TOP=0]="TOP",e[e.SELECTOR=1]="SELECTOR",e[e.RULE=2]="RULE"}(_s||(_s={}));let Bs=null;class Ms extends Bi{constructor(e,t,n,i,o,s,r){super(e,t,r),this.condition=n,this.regionId=o,this.validatorSet=s,this.chain=null,this.specificity=0,this.elementStyle=null,this.conditionCount=0,this.pseudoelement=null,this.footnoteContent=!1,this.viewConditionId=null,this.cascade=i?i.cascade:Bs?Bs.clone():new ks,this.state=_s.TOP}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.tags,"*",e)}processChain(e){const t=Uo(this.chain,e);t!==e&&t.makePrimary(this.cascade)||this.insertNonPrimary(t)}isInsideSelectorRule(e){return this.state!=_s.TOP&&(this.reportAndSkip(e),!0)}tagSelector(e,t){(t||e)&&(this.specificity+=1,t&&e?this.chain.push(new qo(e,t.toLowerCase())):t?this.chain.push(new Yo(t.toLowerCase())):this.chain.push(new Qo(e)))}classSelector(e){if(this.pseudoelement)return c.warn(`::${this.pseudoelement}`,`followed by .${e}`),void this.chain.push(new fs(""));this.specificity+=256,this.chain.push(new jo(e))}pseudoclassSelector(e,t){if(this.pseudoelement)return c.warn(`::${this.pseudoelement}`,`followed by :${e}`),void this.chain.push(new fs(""));switch(e.toLowerCase()){case"enabled":this.chain.push(new us);break;case"disabled":this.chain.push(new ds);break;case"checked":this.chain.push(new ps);break;case"root":this.chain.push(new ss);break;case"link":this.chain.push(new Yo("a")),this.chain.push(new Jo("","href"));break;case"-adapt-href-epub-type":case"href-epub-type":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0],n=new RegExp(`(^|s)${Z(e)}($|s)`);this.chain.push(new Zo(n))}else this.chain.push(new fs(""));break;case"-adapt-footnote-content":case"footnote-content":this.footnoteContent=!0;break;case"visited":case"active":case"hover":case"focus":this.chain.push(new fs(""));break;case"lang":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0];this.chain.push(new is(new RegExp(`^${Z(e.toLowerCase())}($|-)`)))}else this.chain.push(new fs(""));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":{const n=Us[e.toLowerCase()];t&&2==t.length?this.chain.push(new n(t[0],t[1])):this.chain.push(new fs(""));break}case"first-child":this.chain.push(new os);break;case"last-child":this.chain.push(new ls(0,1));break;case"first-of-type":this.chain.push(new as(0,1));break;case"last-of-type":this.chain.push(new hs(0,1));break;case"only-child":this.chain.push(new os),this.chain.push(new ls(0,1));break;case"only-of-type":this.chain.push(new as(0,1)),this.chain.push(new hs(0,1));break;case"empty":this.chain.push(new cs);break;case"before":case"after":case"first-line":case"first-letter":return void this.pseudoelementSelector(e,t);default:c.warn(`unknown pseudo-class selector: ${e}`),this.chain.push(new fs(""))}this.specificity+=256}pseudoelementSelector(e,t){switch(e){case"before":case"after":case"first-line":case"first-letter":case"footnote-call":case"footnote-marker":case"inner":case"after-if-continues":this.pseudoelement?(c.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new fs(""))):this.pseudoelement=e;break;case"first-n-lines":if(t&&1==t.length&&"number"==typeof t[0]){const n=Math.round(t[0]);if(n>0&&n==t[0]){this.pseudoelement?(c.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new fs(""))):this.pseudoelement=`first-${n}-lines`;break}}this.chain.push(new fs(""));break;case"nth-fragment":t&&2==t.length?this.viewConditionId=`NFS_${t[0]}_${t[1]}`:this.chain.push(new fs(""));break;default:c.warn(`Unrecognized pseudoelement: ::${e}`),this.chain.push(new fs(""))}this.specificity+=1}idSelector(e){this.specificity+=65536,this.chain.push(new Ko(e))}attributeSelector(e,t,n,i){let o;switch(this.specificity+=256,t=t.toLowerCase(),i=i||"",n){case On.EOF:o=new Jo(e,t);break;case On.EQ:o=new es(e,t,i);break;case On.TILDE_EQ:o=!i||i.match(/\s/)?new fs(""):new ns(e,t,new RegExp(`(^|\\s)${Z(i)}($|\\s)`));break;case On.BAR_EQ:o=new ns(e,t,new RegExp(`^${Z(i)}($|-)`));break;case On.HAT_EQ:o=i?new ns(e,t,new RegExp(`^${Z(i)}`)):new fs("");break;case On.DOLLAR_EQ:o=i?new ns(e,t,new RegExp(`${Z(i)}$`)):new fs("");break;case On.STAR_EQ:o=i?new ns(e,t,new RegExp(Z(i))):new fs("");break;case On.COL_COL:"supported"==i?o=new ts(e,t):(c.warn("Unsupported :: attr selector op:",i),o=new fs(""));break;default:c.warn("Unsupported attr selector:",n),o=new fs("")}this.chain.push(o)}descendantSelector(){const e=`d${zs++}`;this.processChain(new Go(new ws(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}childSelector(){const e=`c${zs++}`;this.processChain(new Go(new Es(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}adjacentSiblingSelector(){const e=`a${zs++}`;this.processChain(new Go(new ys(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}followingSiblingSelector(){const e=`f${zs++}`;this.processChain(new Go(new Ss(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}nextSelector(){this.finishChain(),this.pseudoelement=null,this.footnoteContent=!1,this.specificity=0,this.chain=[]}startSelectorRule(){this.isInsideSelectorRule("E_CSS_UNEXPECTED_SELECTOR")||(this.state=_s.SELECTOR,this.elementStyle={},this.pseudoelement=null,this.specificity=0,this.footnoteContent=!1,this.chain=[])}error(e,t){super.error(e,t),this.state==_s.SELECTOR&&(this.state=_s.TOP)}startStylesheet(e){super.startStylesheet(e),this.state=_s.TOP}startRuleBody(){this.finishChain(),super.startRuleBody(),this.state==_s.SELECTOR&&(this.state=_s.TOP)}endRule(){super.endRule(),this.insideSelectorRule=_s.TOP}finishChain(){if(this.chain){const e=this.specificity+this.cascade.nextOrder();this.processChain(this.makeApplyRuleAction(e)),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0}}makeApplyRuleAction(e){let t=this.regionId;return this.footnoteContent&&(t=t?"xxx-bogus-xxx":"footnote"),new Wo(this.elementStyle,e,this.pseudoelement,t,this.viewConditionId)}special(e,t){let n;n=this.condition?new To(t,0,this.condition):new Co(t,0),Bo(this.elementStyle,e).push(n)}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){"display"!=e||t!==Mt.oeb_page_head&&t!==Mt.oeb_page_foot||(this.simpleProperty("flow-options",new kt([Mt.exclusive,Mt._static]),n),this.simpleProperty("flow-into",t,n),t=Mt.block),g("SIMPLE_PROPERTY").forEach(i=>{const o=i({name:e,value:t,important:n});e=o.name,t=o.value,n=o.important});const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=this.condition?new To(t,i,this.condition):new Co(t,i);ko(this.elementStyle,e,o)}finish(){return this.cascade}startFuncWithSelector(e){switch(e){case"not":{const e=new Vs(this);e.startSelectorRule(),this.owner.pushHandler(e);break}}}}const Us={"nth-child":class extends rs{constructor(e,t){super(e,t)}apply(e){this.matchANPlusB(e.currentSiblingOrder)&&this.chained.apply(e)}getPriority(){return 5}},"nth-of-type":as,"nth-last-child":ls,"nth-last-of-type":hs};let zs=0;class Vs extends Ms{constructor(e){super(e.scope,e.owner,e.condition,e,e.regionId,e.validatorSet,!1),this.parent=e,this.parentChain=e.chain}startFuncWithSelector(e){"not"==e&&this.reportAndSkip("E_CSS_UNEXPECTED_NOT")}startRuleBody(){this.reportAndSkip("E_CSS_UNEXPECTED_RULE_BODY")}nextSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_NEXT_SELECTOR")}endFuncWithSelector(){this.chain&&this.chain.length>0&&this.parentChain.push(new ms(this.chain)),this.parent.specificity+=this.specificity,this.owner.popHandler()}error(e,t){super.error(e,t),this.owner.popHandler()}}class Hs extends Bi{constructor(e,t){super(e,t,!1)}property(e,t,n){if(this.scope.values[e])this.error(`E_CSS_NAME_REDEFINED ${e}`,this.getCurrentToken());else{const n=e.match(/height|^(top|bottom)$/)?"vh":"vw",i=new tt(this.scope,100,n);this.scope.defineName(e,t.toExpr(this.scope,i))}}}class Gs extends Bi{constructor(e,t,n,i,o){super(e,t,!1),this.condition=n,this.elementStyle=i,this.validatorSet=o,this.order=0}property(e,t,n){n?c.warn("E_IMPORTANT_NOT_ALLOWED"):this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){c.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){c.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?this.getImportantSpecificity():this.getBaseSpecificity();i+=this.order,this.order+=1/1048576;const o=this.condition?new To(t,i,this.condition):new Co(t,i);ko(this.elementStyle,e,o)}}class $s extends to{constructor(e,t){super(e),this.validatorSet=t,this.elementStyle={},this.order=0}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){c.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){c.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?67108864:50331648;i+=this.order,this.order+=1/1048576;const o=new Co(t,i);ko(this.elementStyle,e,o)}}function Ws(e,t){const n=Do(e);n&&n.forEach(e=>{e.matcher.matches()&&t(e.styles)})}function Xs(e,t,n){Ws(n,n=>{Zs(e,n,t)})}function js(e,t,n){const i=e["writing-mode"];if(i){const e=i.evaluate(t,"writing-mode");if(e&&e!==Mt.inherit)return e===Mt.vertical_rl}return n}function Ks(e,t,n){const i=e.direction;if(i){const e=i.evaluate(t,"direction");if(e&&e!==Mt.inherit)return e===Mt.rtl}return n}function Ys(e,t,n,i,o){const s={};for(const t in e)Ao(t)&&(s[t]=Ro(e,t));return Xs(s,t,e),qs(e,n,i,(e,n)=>{Zs(s,n,t),Xs(s,t,n)}),s}function qs(e,t,n,i){const o=Lo(e,"_regions");if((t||n)&&o){if(n){const e=["footnote"];t=t?t.concat(e):e}for(const e of t){const t=o[e];t&&i(e,t)}}}function Zs(e,t,n){for(const i in t)if(Ao(i)){const o=Ro(t,i),s=e[i];e[i]=xo(n,s,o)}}const Qs=(e,t,n,i,o)=>{const s=n?i?No:yo:i?vo:So;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(!i)continue;const r=s[n];let a;if(r){const t=e[r];if(t&&t.priority>i.priority)continue;a=wo[r]?r:n}else a=n;t[a]=o(n,i)}};function Js(e,t){const n={};return Object.keys(e).forEach(i=>{const o=n[i]={},s=e[i];Object.keys(s).forEach(e=>{o[e]=s[e].map(e=>{const n=t?e.logical:e.physical,i=t?e.physical:e.logical;return{regexp:new RegExp(`(-?)${n}(-?)`),to:`$1${i}$2`}})})}),n}function er(e,t,n,i){const o=i[t];if(!o)throw new Error(`unknown writing-mode: ${t}`);const s=o[n||"ltr"];if(!s)throw new Error(`unknown direction: ${n}`);for(const t of s){const n=e.replace(t.regexp,t.to);if(n!==e)return n}return e}const tr={"horizontal-tb":{ltr:[{logical:"inline-start",physical:"left"},{logical:"inline-end",physical:"right"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}],rtl:[{logical:"inline-start",physical:"right"},{logical:"inline-end",physical:"left"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}]},"vertical-rl":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]},"vertical-lr":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]}},nr=Js(tr,!0),ir=Js(tr,!1);var or;function sr(e,t,n){const i={display:t.style.display,position:t.style.position,width:t.style.width,maxWidth:t.style.maxWidth,minWidth:t.style.minWidth,height:t.style.height,maxHeight:t.style.maxHeight,minHeight:t.style.minHeight},o=t.ownerDocument,s=t.parentNode,r=o.createElement("div");function a(n){return e.getElementComputedStyle(t).getPropertyValue(n)}V(r,"position",i.position),s.insertBefore(r,t),r.appendChild(t),V(t,"width","auto"),V(t,"max-width","none"),V(t,"min-width","0"),V(t,"height","auto"),V(t,"max-height","none"),V(t,"min-height","0");const l=z("writing-mode"),h=(l?a(l[0]):null)||a("writing-mode"),c="vertical-rl"===h||"tb-rl"===h||"vertical-lr"===h||"tb-lr"===h,u=c?"height":"width",d=c?"width":"height";function p(){return V(t,"display","block"),V(t,"position","static"),a(u)}function f(){V(t,"display","inline-block"),V(r,u,"99999999px");const e=a(u);return V(r,u,""),e}function g(){V(t,"display","inline-block"),V(r,u,"0");const e=a(u);return V(r,u,""),e}function m(){const e=p(),t=g(),n=parseFloat(e);if(n<=parseFloat(t))return t;{const t=f();return n<=parseFloat(t)?e:t}}function b(){return a(d)}function w(){throw new Error("Getting fill-available block size is not implemented")}const E={};return n.forEach(e=>{let n;switch(e){case or.FILL_AVAILABLE_INLINE_SIZE:n=p();break;case or.MAX_CONTENT_INLINE_SIZE:n=f();break;case or.MIN_CONTENT_INLINE_SIZE:n=g();break;case or.FIT_CONTENT_INLINE_SIZE:n=m();break;case or.FILL_AVAILABLE_BLOCK_SIZE:n=w();break;case or.MAX_CONTENT_BLOCK_SIZE:case or.MIN_CONTENT_BLOCK_SIZE:case or.FIT_CONTENT_BLOCK_SIZE:n=b();break;case or.FILL_AVAILABLE_WIDTH:n=c?w():p();break;case or.FILL_AVAILABLE_HEIGHT:n=c?p():w();break;case or.MAX_CONTENT_WIDTH:n=c?b():f();break;case or.MAX_CONTENT_HEIGHT:n=c?f():b();break;case or.MIN_CONTENT_WIDTH:n=c?b():g();break;case or.MIN_CONTENT_HEIGHT:n=c?g():b();break;case or.FIT_CONTENT_WIDTH:n=c?b():m();break;case or.FIT_CONTENT_HEIGHT:n=c?m():b()}E[e]=parseFloat(n),V(t,"position",i.position),V(t,"display",i.display)}),V(t,"width",i.width),V(t,"max-width",i.maxWidth),V(t,"min-width",i.minWidth),V(t,"height",i.height),V(t,"max-height",i.maxHeight),V(t,"min-height",i.minHeight),s.insertBefore(t,r),s.removeChild(r),E}function rr(e,t,n,i){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,r=t.length;if(0===i.length&&(null===o||0===o.length)){var a=i.index,l=e.slice(0,a),h=e.slice(a),c=o?o.index:null,u=a+r-s;if((null===c||c===u)&&!(u<0||u>r)){var d=t.slice(0,u);if((E=t.slice(u))===h){var p=Math.min(a,u),f=l.slice(0,p),g=d.slice(0,p);if(f===g){var m=l.slice(p),b=d.slice(p);return fr(f,m,b,h)}}}if(null===c||c===a){var w=a,E=(d=t.slice(0,w),t.slice(w));if(d===l){var y=Math.min(s-w,r-w),S=h.slice(h.length-y),N=E.slice(E.length-y);if(S===N)return fr(l,m=h.slice(0,h.length-y),b=E.slice(0,E.length-y),S)}}}return i.length>0&&o&&0===o.length&&(f=e.slice(0,i.index),S=e.slice(i.index+i.length),!(r<(p=f.length)+(y=S.length))&&(g=t.slice(0,p),N=t.slice(r-y),f===g&&S===N))?fr(f,m=e.slice(p,s-y),b=t.slice(p,r-y),S):null}(e,t,n);if(o)return o}var s=lr(e,t),r=e.substring(0,s);s=hr(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[-1,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=i.indexOf(o);if(-1!==s)return n=[[1,i.substring(0,s)],[0,o],[1,i.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n;if(1===o.length)return[[-1,e],[1,t]];var r=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function o(e,t,n){for(var i,o,s,r,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,h="";-1!==(l=t.indexOf(a,l+1));){var c=lr(e.substring(n),t.substring(l)),u=hr(e.substring(0,n),t.substring(0,l));h.length<u+c&&(h=t.substring(l-u,l)+t.substring(l,l+c),i=e.substring(0,n-u),o=e.substring(n+c),s=t.substring(0,l-u),r=t.substring(l+c))}return 2*h.length>=e.length?[i,o,s,r,h]:null}var s,r,a,l,h,c=o(n,i,Math.ceil(n.length/4)),u=o(n,i,Math.ceil(n.length/2));return c||u?(s=u?c&&c[4].length>u[4].length?c:u:c,e.length>t.length?(r=s[0],a=s[1],l=s[2],h=s[3]):(l=s[0],h=s[1],r=s[2],a=s[3]),[r,a,l,h,s[4]]):null}(e,t);if(r){var a=r[0],l=r[1],h=r[2],c=r[3],u=r[4],d=rr(a,h),p=rr(l,c);return d.concat([[0,u]],p)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,r=2*o,a=new Array(r),l=new Array(r),h=0;h<r;h++)a[h]=-1,l[h]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-i,u=c%2!=0,d=0,p=0,f=0,g=0,m=0;m<o;m++){for(var b=-m+d;b<=m-p;b+=2){for(var w=s+b,E=(C=b===-m||b!==m&&a[w-1]<a[w+1]?a[w+1]:a[w-1]+1)-b;C<n&&E<i&&e.charAt(C)===t.charAt(E);)C++,E++;if(a[w]=C,C>n)p+=2;else if(E>i)d+=2;else if(u&&(N=s+c-b)>=0&&N<r&&-1!==l[N]){var y=n-l[N];if(C>=y)return ar(e,t,C,E)}}for(var S=-m+f;S<=m-g;S+=2){for(var N=s+S,v=(y=S===-m||S!==m&&l[N-1]<l[N+1]?l[N+1]:l[N-1]+1)-S;y<n&&v<i&&e.charAt(n-y-1)===t.charAt(i-v-1);)y++,v++;if(l[N]=y,y>n)g+=2;else if(v>i)f+=2;else if(!u&&(w=s+c-S)>=0&&w<r&&-1!==a[w]){var C=a[w];if(E=s+C-w,C>=(y=n-y))return ar(e,t,C,E)}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return r&&l.unshift([0,r]),a&&l.push([0,a]),function e(t,n){t.push([0,""]);for(var i,o=0,s=0,r=0,a="",l="";o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case 1:r++,l+=t[o][1],o++;break;case-1:s++,a+=t[o][1],o++;break;case 0:var h=o-r-s-1;if(n){if(h>=0&&pr(t[h][1])){var c=t[h][1].slice(-1);if(t[h][1]=t[h][1].slice(0,-1),a=c+a,l=c+l,!t[h][1]){t.splice(h,1),o--;var u=h-1;t[u]&&1===t[u][0]&&(r++,l=t[u][1]+l,u--),t[u]&&-1===t[u][0]&&(s++,a=t[u][1]+a,u--),h=u}}dr(t[o][1])&&(c=t[o][1].charAt(0),t[o][1]=t[o][1].slice(1),a+=c,l+=c)}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(a.length>0||l.length>0){a.length>0&&l.length>0&&(0!==(i=lr(l,a))&&(h>=0?t[h][1]+=l.substring(0,i):(t.splice(0,0,[0,l.substring(0,i)]),o++),l=l.substring(i),a=a.substring(i)),0!==(i=hr(l,a))&&(t[o][1]=l.substring(l.length-i)+t[o][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i)));var d=r+s;0===a.length&&0===l.length?(t.splice(o-d,d),o-=d):0===a.length?(t.splice(o-d,d,[1,l]),o=o-d+1):0===l.length?(t.splice(o-d,d,[-1,a]),o=o-d+1):(t.splice(o-d,d,[-1,a],[1,l]),o=o-d+2)}0!==o&&0===t[o-1][0]?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,r=0,s=0,a="",l=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(o=1;o<t.length-1;)0===t[o-1][0]&&0===t[o+1][0]&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),p=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),p=!0)),o++;p&&e(t,n)}(l,i),l}function ar(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),r=e.substring(n),a=t.substring(i),l=rr(o,s),h=rr(r,a);return l.concat(h)}function lr(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return cr(e.charCodeAt(o-1))&&o--,o}function hr(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return ur(e.charCodeAt(e.length-o))&&o--,o}function cr(e){return e>=55296&&e<=56319}function ur(e){return e>=56320&&e<=57343}function dr(e){return ur(e.charCodeAt(0))}function pr(e){return cr(e.charCodeAt(e.length-1))}function fr(e,t,n,i){return pr(e)||dr(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[-1,t],[1,n],[0,i]])}function gr(e,t,n){return rr(e,t,n,!0)}!function(e){e.FILL_AVAILABLE_INLINE_SIZE="fill-available inline size",e.FILL_AVAILABLE_BLOCK_SIZE="fill-available block size",e.FILL_AVAILABLE_WIDTH="fill-available width",e.FILL_AVAILABLE_HEIGHT="fill-available height",e.MAX_CONTENT_INLINE_SIZE="max-content inline size",e.MAX_CONTENT_BLOCK_SIZE="max-content block size",e.MAX_CONTENT_WIDTH="max-content width",e.MAX_CONTENT_HEIGHT="max-content height",e.MIN_CONTENT_INLINE_SIZE="min-content inline size",e.MIN_CONTENT_BLOCK_SIZE="min-content block size",e.MIN_CONTENT_WIDTH="min-content width",e.MIN_CONTENT_HEIGHT="min-content height",e.FIT_CONTENT_INLINE_SIZE="fit-content inline size",e.FIT_CONTENT_BLOCK_SIZE="fit-content block size",e.FIT_CONTENT_WIDTH="fit-content width",e.FIT_CONTENT_HEIGHT="fit-content height"}(or||(or={})),gr.INSERT=1,gr.DELETE=-1,gr.EQUAL=0;var mr,br,wr,Er,yr,Sr,Nr=gr;function vr(e){return e.reduce((e,t)=>t[0]===Nr.DELETE?e:e+t[1],"")}function Cr(e,t,n){let i=0,o=0;return e.some(e=>{for(let s=0;s<e[1].length;s++){switch(e[0]*n){case Nr.INSERT:i++;break;case Nr.DELETE:i--,o++;break;case Nr.EQUAL:o++}if(o>t)return!0}return!1}),Math.max(Math.min(t,o-1)+i,0)}!function(e){e.isInstanceOfBlockFormattingContext=function(e){return e&&"Block"===e.formattingContextType}}(mr||(mr={})),function(e){let t;!function(e){e.INLINE="inline",e.COLUMN="column",e.REGION="region",e.PAGE="page"}(t=e.FloatReference||(e.FloatReference={}))}(br||(br={})),function(e){e.isInstanceOfAfterIfContinuesLayoutConstraint=function(e){return e&&"AfterIfContinue"==e.flagmentLayoutConstraintType}}(wr||(wr={})),function(e){e.isInstanceOfRepetitiveElementsOwnerFormattingContext=function(e){return!!e&&("RepetitiveElementsOwner"===e.formattingContextType||yr.isInstanceOfTableFormattingContext(e))},e.isInstanceOfRepetitiveElementsOwnerLayoutConstraint=function(e){return!!e&&("RepetitiveElementsOwner"===e.flagmentLayoutConstraintType||yr.isInstanceOfTableRowLayoutConstraint(e))}}(Er||(Er={})),function(e){e.isInstanceOfTableFormattingContext=function(e){return e&&"Table"===e.formattingContextType},e.isInstanceOfTableRowLayoutConstraint=function(e){return e&&"TableRow"===e.flagmentLayoutConstraintType}}(yr||(yr={})),function(e){let t,n;!function(e){e[e.IGNORE=0]="IGNORE",e[e.NEWLINE=1]="NEWLINE",e[e.PRESERVE=2]="PRESERVE"}(t=e.Whitespace||(e.Whitespace={})),function(e){e[e.NONE=0]="NONE",e[e.CONTENT=1]="CONTENT",e[e.ROOTLESS=2]="ROOTLESS",e[e.ROOTED=3]="ROOTED"}(n=e.ShadowType||(e.ShadowType={}))}(Sr||(Sr={}));const Tr={transform:!0,"transform-origin":!0},xr={top:!0,bottom:!0,left:!0,right:!0};class Ir{constructor(e,t,n){this.target=e,this.name=t,this.value=n}}const Pr={show:function(e){e.style.visibility="visible"},hide:function(e){e.style.visibility="hidden"},play:function(e){e.currentTime=0,e.play()},pause:function(e){e.pause()},resume:function(e){e.play()},mute:function(e){e.muted=!0},unmute:function(e){e.muted=!1}};function Ar(e,t){const n=Pr[t];return n?()=>{for(let t=0;t<e.length;t++)try{n(e[t])}catch(e){}}:null}class Or extends ne{constructor(e,t){super(),this.container=e,this.bleedBox=t,this.pageAreaElement=null,this.delayedItems=[],this.elementsById={},this.dimensions={width:0,height:0},this.isFirstPage=!1,this.isLastPage=!1,this.isAutoPageWidth=!0,this.isAutoPageHeight=!0,this.spineIndex=0,this.position=null,this.offset=-1,this.side=null,this.fetchers=[],this.marginBoxes={top:{},bottom:{},left:{},right:{}};const n=this;this.hrefHandler=e=>{const t=e.currentTarget,i=t.getAttribute("href")||t.getAttributeNS(F.XLINK,"href");if(i){const o={type:"hyperlink",target:null,currentTarget:null,anchorElement:t,href:i,preventDefault(){e.preventDefault()}};n.dispatchEvent(o)}}}setAutoPageWidth(e){this.isAutoPageWidth=e,e?this.container.setAttribute(Or.AUTO_PAGE_WIDTH_ATTRIBUTE,"true"):this.container.removeAttribute(Or.AUTO_PAGE_WIDTH_ATTRIBUTE)}setAutoPageHeight(e){this.isAutoPageHeight=e,e?this.container.setAttribute(Or.AUTO_PAGE_HEIGHT_ATTRIBUTE,"true"):this.container.removeAttribute(Or.AUTO_PAGE_HEIGHT_ATTRIBUTE)}registerElementWithId(e,t){const n=this.elementsById[t];n?n.push(e):this.elementsById[t]=[e]}finish(e,t){Object.keys(this.elementsById).forEach(e=>{const t=this.elementsById[e];for(let e=0;e<t.length;)this.container.contains(t[e])?e++:t.splice(e,1);0===t.length&&delete this.elementsById[e]});const n=this.delayedItems;for(let e=0;e<n.length;e++){const t=n[e];(t.target!==this.container||"transform"!==t.name||this.isAutoPageWidth||this.isAutoPageHeight)&&V(t.target,t.name,t.value.toString())}const i=t.getElementClientRect(this.container);this.dimensions.width=i.width,this.dimensions.height=i.height;for(let t=0;t<e.length;t++){const n=e[t],i=this.elementsById[n.ref],o=this.elementsById[n.observer];if(i&&o){const e=Ar(i,n.action);if(e)for(let t=0;t<o.length;t++)o[t].addEventListener(n.event,e,!1)}}}zoom(e){V(this.container,"transform",`scale(${e})`)}getPageAreaElement(){return this.pageAreaElement||this.container}}Or.AUTO_PAGE_WIDTH_ATTRIBUTE="data-vivliostyle-auto-page-width",Or.AUTO_PAGE_HEIGHT_ATTRIBUTE="data-vivliostyle-auto-page-height";const Rr=Sr.Whitespace;function kr(e){switch(e){case"normal":case"nowrap":return Rr.IGNORE;case"pre-line":return Rr.NEWLINE;case"pre":case"pre-wrap":return Rr.PRESERVE;default:return null}}function Lr(e,t){if(1==e.nodeType)return!1;const n=e.textContent;switch(t){case Rr.IGNORE:return!!n.match(/^\s*$/);case Rr.NEWLINE:return!!n.match(/^[ \t\f]*$/);case Rr.PRESERVE:return 0==n.length}throw new Error(`Unexpected whitespace: ${t}`)}class Fr{constructor(e,t){this.flowName=e,this.parentFlowName=t,this.forcedBreakOffsets=[],this.formattingContext=null}}class Dr{constructor(e,t,n,i,o,s,r,a,l){this.flowName=e,this.element=t,this.startOffset=n,this.priority=i,this.linger=o,this.exclusive=s,this.repeated=r,this.last=a,this.breakBefore=l,this.startPage=-1}isBetter(e){return!!this.exclusive&&(!e.exclusive||this.priority>e.priority||this.last)}}function _r(e,t){return e.top-t.top}function Br(e,t){return t.right-e.right}function Mr(e,t){return e===t||!(!e||!t)&&e.node===t.node&&e.shadowType===t.shadowType&&$r(e.shadowContext,t.shadowContext)&&$r(e.nodeShadow,t.nodeShadow)&&Mr(e.shadowSibling,t.shadowSibling)}function Ur(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.offsetInNode!==t.offsetInNode||e.after!==t.after||e.steps.length!==t.steps.length)return!1;for(let n=0;n<e.steps.length;n++)if(!Mr(e.steps[n],t.steps[n]))return!1;return!0}function zr(e,t){return{steps:[{node:e.sourceNode,shadowType:Hr.NONE,shadowContext:e.shadowContext,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:null!=t?t:e.fragmentIndex}],offsetInNode:0,after:!1,preprocessedTextContent:e.preprocessedTextContent}}function Vr(e,t){const n=new Xr(e.node,t,0);return n.shadowType=e.shadowType,n.shadowContext=e.shadowContext,n.nodeShadow=e.nodeShadow,n.shadowSibling=e.shadowSibling?Vr(e.shadowSibling,t.copy()):null,n.formattingContext=e.formattingContext,n.fragmentIndex=e.fragmentIndex+1,n}const Hr=Sr.ShadowType;class Gr{constructor(e,t,n,i,o,s,r){this.owner=e,this.root=t,this.xmldoc=n,this.parentShadow=i,this.type=s,this.styler=r,this.subShadow=null,o&&(o.subShadow=this)}equals(e){return!!e&&this.owner===e.owner&&this.xmldoc===e.xmldoc&&this.type===e.type&&$r(this.parentShadow,e.parentShadow)}}function $r(e,t){return e===t||!!e&&!!t&&e.equals(t)}class Wr{constructor(e,t){this.outer=e,this.count=t}}class Xr{constructor(e,t,n){this.sourceNode=e,this.parent=t,this.boxOffset=n,this.offsetInNode=0,this.after=!1,this.nodeShadow=null,this.shadowSibling=null,this.shared=!1,this.inline=!0,this.overflow=!1,this.display=null,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.captionSide="top",this.inlineBorderSpacing=0,this.blockBorderSpacing=0,this.flexContainer=!1,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.breakBefore=null,this.breakAfter=null,this.viewNode=null,this.clearSpacer=null,this.lang=null,this.preprocessedTextContent=null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null,this.shadowType=Hr.NONE,this.shadowContext=t?t.shadowContext:null,this.breakPenalty=t?t.breakPenalty:0,this.floatReference=br.FloatReference.INLINE,this.whitespace=t?t.whitespace:Rr.IGNORE,this.hyphenateCharacter=t?t.hyphenateCharacter:null,this.breakWord=!!t&&t.breakWord,this.inheritedProps=t?t.inheritedProps:{},this.vertical=!!t&&t.vertical,this.direction=t?t.direction:"ltr",this.firstPseudo=t?t.firstPseudo:null,this.formattingContext=t?t.formattingContext:null}resetView(){this.inline=!0,this.breakPenalty=this.parent?this.parent.breakPenalty:0,this.viewNode=null,this.clearSpacer=null,this.offsetInNode=0,this.after=!1,this.display=null,this.floatReference=br.FloatReference.INLINE,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.flexContainer=!1,this.whitespace=this.parent?this.parent.whitespace:Rr.IGNORE,this.hyphenateCharacter=this.parent?this.parent.hyphenateCharacter:null,this.breakWord=!!this.parent&&this.parent.breakWord,this.breakBefore=null,this.breakAfter=null,this.nodeShadow=null,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.vertical=!!this.parent&&this.parent.vertical,this.nodeShadow=null,this.preprocessedTextContent=null,this.formattingContext=this.parent?this.parent.formattingContext:null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null}cloneItem(){const e=new Xr(this.sourceNode,this.parent,this.boxOffset);return e.offsetInNode=this.offsetInNode,e.after=this.after,e.nodeShadow=this.nodeShadow,e.shadowType=this.shadowType,e.shadowContext=this.shadowContext,e.shadowSibling=this.shadowSibling,e.inline=this.inline,e.breakPenalty=this.breakPenalty,e.display=this.display,e.floatReference=this.floatReference,e.floatSide=this.floatSide,e.clearSide=this.clearSide,e.floatMinWrapBlock=this.floatMinWrapBlock,e.columnSpan=this.columnSpan,e.verticalAlign=this.verticalAlign,e.captionSide=this.captionSide,e.inlineBorderSpacing=this.inlineBorderSpacing,e.blockBorderSpacing=this.blockBorderSpacing,e.establishesBFC=this.establishesBFC,e.containingBlockForAbsolute=this.containingBlockForAbsolute,e.flexContainer=this.flexContainer,e.whitespace=this.whitespace,e.hyphenateCharacter=this.hyphenateCharacter,e.breakWord=this.breakWord,e.breakBefore=this.breakBefore,e.breakAfter=this.breakAfter,e.viewNode=this.viewNode,e.clearSpacer=this.clearSpacer,e.firstPseudo=this.firstPseudo,e.vertical=this.vertical,e.overflow=this.overflow,e.preprocessedTextContent=this.preprocessedTextContent,e.formattingContext=this.formattingContext,e.repeatOnBreak=this.repeatOnBreak,e.pluginProps=Object.create(this.pluginProps),e.fragmentIndex=this.fragmentIndex,e.afterIfContinues=this.afterIfContinues,e.footnotePolicy=this.footnotePolicy,e}modify(){return this.shared?this.cloneItem():this}copy(){let e=this;do{if(e.shared)break;e.shared=!0,e=e.parent}while(e);return this}clone(){const e=this.cloneItem();let t,n=e;for(;null!=(t=n.parent);)t=t.cloneItem(),n.parent=t,n=t;return e}toNodePositionStep(){return{node:this.sourceNode,shadowType:this.shadowType,shadowContext:this.shadowContext,nodeShadow:this.nodeShadow,shadowSibling:this.shadowSibling?this.shadowSibling.toNodePositionStep():null,formattingContext:this.formattingContext,fragmentIndex:this.fragmentIndex}}toNodePosition(){let e=this;const t=[];do{e.firstPseudo&&e.parent&&e.parent.firstPseudo!==e.firstPseudo||t.push(e.toNodePositionStep()),e=e.parent}while(e);var n,i;return{steps:t,offsetInNode:this.preprocessedTextContent?(n=this.preprocessedTextContent,i=this.offsetInNode,Cr(n,i,-1)):this.offsetInNode,after:this.after,preprocessedTextContent:this.preprocessedTextContent}}isInsideBFC(){let e=this.parent;for(;e;){if(e.establishesBFC)return!0;e=e.parent}return!1}getContainingBlockForAbsolute(){let e=this.parent;for(;e;){if(e.containingBlockForAbsolute)return e;e=e.parent}return null}walkUpBlocks(e){let t=this;for(;t;)t.inline||e(t),t=t.parent}belongsTo(e){return this.formattingContext===e&&!!this.parent&&this.parent.formattingContext===e}}class jr{constructor(e){this.primary=e,this.floats=null}clone(){const e=new jr(this.primary);if(this.floats){e.floats=[];for(let t=0;t<this.floats.length;++t)e.floats[t]=this.floats[t]}return e}isSamePosition(e){if(!e)return!1;if(this===e)return!0;if(!Ur(this.primary,e.primary))return!1;if(this.floats){if(!e.floats||this.floats.length!==e.floats.length)return!1;for(let t=0;t<this.floats.length;t++)if(!Ur(this.floats[t],e.floats[t]))return!1}else if(e.floats)return!1;return!0}}class Kr{constructor(e,t){this.chunkPosition=e,this.flowChunk=t}clone(){return new Kr(this.chunkPosition.clone(),this.flowChunk)}isSamePosition(e){return!!e&&(this===e||this.chunkPosition.isSamePosition(e.chunkPosition))}}class Yr{constructor(){this.positions=[],this.startSide="any",this.breakAfter=null}clone(){const e=new Yr,t=this.positions,n=e.positions;for(let e=0;e<t.length;e++)n[e]=t[e].clone();return e.startSide=this.startSide,e.breakAfter=this.breakAfter,e}isSamePosition(e){if(this===e)return!0;if(!e||this.positions.length!==e.positions.length)return!1;for(let t=0;t<this.positions.length;t++)if(!this.positions[t].isSamePosition(e.positions[t]))return!1;return!0}hasContent(e){return this.positions.length>0&&this.positions[0].flowChunk.startOffset<=e}}class qr{constructor(){this.page=0,this.flows={},this.flowPositions={},this.highestSeenOffset=0}clone(){const e=new qr;e.page=this.page,e.highestSeenNode=this.highestSeenNode,e.highestSeenOffset=this.highestSeenOffset,e.lookupPositionOffset=this.lookupPositionOffset,e.flows=this.flows;for(const t in this.flowPositions)e.flowPositions[t]=this.flowPositions[t].clone();return e}isSamePosition(e){if(this===e)return!0;if(!e||this.page!==e.page||this.highestSeenOffset!==e.highestSeenOffset)return!1;const t=Object.keys(this.flowPositions),n=Object.keys(e.flowPositions);if(t.length!==n.length)return!1;for(const n of t)if(!this.flowPositions[n].isSamePosition(e.flowPositions[n]))return!1;return!0}hasContent(e,t){const n=this.flowPositions[e];return!!n&&n.hasContent(t)}startSideOfFlow(e){const t=this.flowPositions[e];return t?t.startSide:"any"}firstFlowChunkOfFlow(e){const t=this.flowPositions[e];if(!t)return null;const n=t.positions[0];return n?n.flowChunk:null}}class Zr{constructor(e){this.element=e,this.left=0,this.top=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.paddingLeft=0,this.paddingRight=0,this.paddingTop=0,this.paddingBottom=0,this.width=0,this.height=0,this.originX=0,this.originY=0,this.exclusions=null,this.innerShape=null,this.computedBlockSize=0,this.snapWidth=0,this.snapHeight=0,this.snapOffsetX=0,this.snapOffsetY=0,this.vertical=!1}getInsetTop(){return this.marginTop+this.borderTop+this.paddingTop}getInsetBottom(){return this.marginBottom+this.borderBottom+this.paddingBottom}getInsetLeft(){return this.marginLeft+this.borderLeft+this.paddingLeft}getInsetRight(){return this.marginRight+this.borderRight+this.paddingRight}getInsetBefore(){return this.vertical?this.getInsetRight():this.getInsetTop()}getInsetAfter(){return this.vertical?this.getInsetLeft():this.getInsetBottom()}getInsetStart(){return this.vertical?this.getInsetTop():this.getInsetLeft()}getInsetEnd(){return this.vertical?this.getInsetBottom():this.getInsetRight()}getBeforeEdge(e){return this.vertical?e.right:e.top}getAfterEdge(e){return this.vertical?e.left:e.bottom}getStartEdge(e){return this.vertical?e.top:e.left}getEndEdge(e){return this.vertical?e.bottom:e.right}getInlineSize(e){return this.vertical?e.bottom-e.top:e.right-e.left}getBoxSize(e){return this.vertical?e.right-e.left:e.bottom-e.top}getBoxDir(){return this.vertical?-1:1}getInlineDir(){return 1}copyFrom(e){this.element=e.element,this.left=e.left,this.top=e.top,this.marginLeft=e.marginLeft,this.marginRight=e.marginRight,this.marginTop=e.marginTop,this.marginBottom=e.marginBottom,this.borderLeft=e.borderLeft,this.borderRight=e.borderRight,this.borderTop=e.borderTop,this.borderBottom=e.borderBottom,this.paddingLeft=e.paddingLeft,this.paddingRight=e.paddingRight,this.paddingTop=e.paddingTop,this.paddingBottom=e.paddingBottom,this.width=e.width,this.height=e.height,this.originX=e.originX,this.originY=e.originY,this.innerShape=e.innerShape,this.exclusions=e.exclusions,this.computedBlockSize=e.computedBlockSize,this.snapWidth=e.snapWidth,this.snapHeight=e.snapHeight,this.vertical=e.vertical}setVerticalPosition(e,t){this.top=e,this.height=t,V(this.element,"top",`${e}px`),V(this.element,"height",`${t}px`)}setHorizontalPosition(e,t){this.left=e,this.width=t,V(this.element,"left",`${e}px`),V(this.element,"width",`${t}px`)}setBlockPosition(e,t){this.vertical?this.setHorizontalPosition(e+t*this.getBoxDir(),t):this.setVerticalPosition(e,t)}setInlinePosition(e,t){this.vertical?this.setVerticalPosition(e,t):this.setHorizontalPosition(e,t)}clear(){const e=this.element;let t;for(;t=e.lastChild;)e.removeChild(t)}getInnerShape(){const e=this.getInnerRect();return this.innerShape?this.innerShape.withOffset(e.x1,e.y1):Jt(e.x1,e.y1,e.x2,e.y2)}getInnerRect(){const e=this.originX+this.left+this.getInsetLeft(),t=this.originY+this.top+this.getInsetTop();return new Wt(e,t,e+this.width,t+this.height)}getPaddingRect(){const e=this.originX+this.left+this.marginLeft+this.borderLeft,t=this.originY+this.top+this.marginTop+this.borderTop,n=this.paddingLeft+this.width+this.paddingRight,i=this.paddingTop+this.height+this.paddingBottom;return new Wt(e,t,e+n,t+i)}getOuterShape(e,t){const n=this.getOuterRect();return bn(e,n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,t)}getOuterRect(){const e=this.originX+this.left,t=this.originY+this.top,n=this.getInsetLeft()+this.width+this.getInsetRight(),i=this.getInsetTop()+this.height+this.getInsetBottom();return new Wt(e,t,e+n,t+i)}}class Qr extends gt{constructor(e,t,n,i){super(),this.elem=e,this.context=t,this.rootContentValue=n,this.exprContentListener=i}visitStrInner(e,t){t||(t=this.elem.ownerDocument.createTextNode(e)),this.elem.appendChild(t)}visitStr(e){return this.visitStrInner(e.str),null}visitURL(e){if(this.rootContentValue.url)this.elem.setAttribute("src",e.url);else{const t=this.elem.ownerDocument.createElementNS(F.XHTML,"img");t.setAttribute("src",e.url),this.elem.appendChild(t)}return null}visitSpaceList(e){return this.visitValues(e.values),null}visitExpr(e){const t=e.toExpr();let n=t.evaluate(this.context);if("string"==typeof n){t instanceof nt&&(n=oo(t.scope,new li(n,null),"").stringValue()),this.elem.ownerDocument;const e=this.exprContentListener(t,n,this.elem.ownerDocument);this.visitStrInner(n,e)}return null}}function Jr(e){return null!=e&&e!==Mt.normal&&e!==Mt.none&&e!==Mt.inherit}const ea=br.FloatReference;function ta(e){switch(e){case ea.INLINE:return!1;case ea.COLUMN:case ea.REGION:case ea.PAGE:return!0;default:throw new Error(`Unknown float-reference: ${e}`)}}class na{constructor(e,t,n,i,o,s){this.nodePosition=e,this.floatReference=t,this.floatSide=n,this.clearSide=i,this.flowName=o,this.floatMinWrapBlock=s,this.order=null,this.id=null}getOrder(){if(null===this.order)throw new Error("The page float is not yet added");return this.order}getId(){if(!this.id)throw new Error("The page float is not yet added");return this.id}isAllowedOnContext(e){return e.isAnchorAlreadyAppeared(this.getId())}isAllowedToPrecede(e){return!1}}class ia{constructor(){this.floats=[],this.nextPageFloatIndex=0}nextOrder(){return this.nextPageFloatIndex++}createPageFloatId(e){return`pf${e}`}addPageFloat(e){if(this.floats.findIndex(t=>Ur(t.nodePosition,e.nodePosition))>=0)throw new Error("A page float with the same source node is already registered");{const t=e.order=this.nextOrder();e.id=this.createPageFloatId(t),this.floats.push(e)}}findPageFloatByNodePosition(e){const t=this.floats.findIndex(t=>Ur(t.nodePosition,e));return t>=0?this.floats[t]:null}findPageFloatById(e){const t=this.floats.findIndex(t=>t.id===e);return t>=0?this.floats[t]:null}}class oa{constructor(e,t,n,i,o){this.floatReference=e,this.floatSide=t,this.continuations=n,this.area=i,this.continues=o}hasFloat(e){return this.continuations.some(t=>t.float===e)}findNotAllowedFloat(e){for(let t=this.continuations.length-1;t>=0;t--){const n=this.continuations[t].float;if(!n.isAllowedOnContext(e))return n}return null}getOuterShape(){return this.area.getOuterShape(null,null)}getOuterRect(){return this.area.getOuterRect()}getOrder(){const e=this.continuations.map(e=>e.float);return Math.min.apply(null,e.map(e=>e.getOrder()))}shouldBeStashedBefore(e){return this.getOrder()<e.getOrder()}addContinuations(e){e.forEach(e=>{this.continuations.push(e)})}getFlowName(){const e=this.continuations[0].float.flowName;return this.continuations.every(t=>t.float.flowName===e),e}}class sa{constructor(e,t){this.float=e,this.nodePosition=t}equals(e){return!!e&&(this===e||this.float===e.float&&Ur(this.nodePosition,e.nodePosition))}}class ra{constructor(e,t,n,i,o,s,r){this.parent=e,this.floatReference=t,this.container=n,this.flowName=i,this.generatingNodePosition=o,this.children=[],this.invalidated=!1,this.forbiddenFloats=[],this.floatFragments=[],this.stashedFloatFragments=[],this.floatAnchors={},this.floatsDeferredToNext=[],this.layoutConstraints=[],this.locked=!1,e&&e.children.push(this),this.writingMode=s||e&&e.writingMode||Mt.horizontal_tb,this.direction=r||e&&e.direction||Mt.ltr,this.floatStore=e?e.floatStore:new ia;const a=this.getPreviousSibling();this.floatsDeferredFromPrevious=a?[].concat(a.floatsDeferredToNext):[]}getParent(e){if(!this.parent)throw new Error(`No PageFloatLayoutContext for ${e}`);return this.parent}getPreviousSiblingOf(e,t,n,i){let o=this.children.indexOf(e);o<0&&(o=this.children.length);for(let e=o-1;e>=0;e--){let o=this.children[e];if(o.floatReference===t&&o.flowName===n&&Ur(o.generatingNodePosition,i))return o;if(o=o.getPreviousSiblingOf(null,t,n,i),o)return o}return null}getPreviousSibling(){let e,t=this,n=this.parent;for(;n;){if(e=n.getPreviousSiblingOf(t,this.floatReference,this.flowName,this.generatingNodePosition),e)return e;t=n,n=n.parent}return null}getContainer(e){return e&&e!==this.floatReference?this.getParent(e).getContainer(e):this.container}setContainer(e){this.container=e,this.reattachFloatFragments()}addPageFloat(e){this.floatStore.addPageFloat(e)}getPageFloatLayoutContext(e){return e===this.floatReference?this:this.getParent(e).getPageFloatLayoutContext(e)}findPageFloatByNodePosition(e){return this.floatStore.findPageFloatByNodePosition(e)}forbid(e){const t=e.getId(),n=e.floatReference;n===this.floatReference?this.forbiddenFloats.includes(t)||(this.forbiddenFloats.push(t),(new la).findByFloat(e).forbid(e,this)):this.getParent(n).forbid(e)}isForbidden(e){const t=e.getId(),n=e.floatReference;return n===this.floatReference?this.forbiddenFloats.includes(t):this.getParent(n).isForbidden(e)}addPageFloatFragment(e,t){const n=e.floatReference;n!==this.floatReference?this.getParent(n).addPageFloatFragment(e,t):this.floatFragments.includes(e)||(this.floatFragments.push(e),this.floatFragments.sort((e,t)=>e.getOrder()-t.getOrder())),t||this.invalidate()}removePageFloatFragment(e,t){const n=e.floatReference;if(n!==this.floatReference)this.getParent(n).removePageFloatFragment(e,t);else{const n=this.floatFragments.indexOf(e);if(n>=0){const e=this.floatFragments.splice(n,1)[0],i=e.area&&e.area.element;i&&i.parentNode&&i.parentNode.removeChild(i),t||this.invalidate()}}}findPageFloatFragment(e){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).findPageFloatFragment(e);const t=this.floatFragments.findIndex(t=>t.hasFloat(e));return t>=0?this.floatFragments[t]:null}hasFloatFragments(e){return!(!(this.floatFragments.length>0)||e&&!this.floatFragments.some(e))||!!this.parent&&this.parent.hasFloatFragments(e)}hasContinuingFloatFragmentsInFlow(e){return this.hasFloatFragments(t=>t.continues&&t.getFlowName()===e)}registerPageFloatAnchor(e,t){this.floatAnchors[e.getId()]=t}collectPageFloatAnchors(){const e=Object.assign({},this.floatAnchors);return this.children.reduce((e,t)=>Object.assign(e,t.collectPageFloatAnchors()),e)}isAnchorAlreadyAppeared(e){if(this.getDeferredPageFloatContinuations().some(t=>t.float.getId()===e))return!0;const t=this.collectPageFloatAnchors()[e];return!!t&&!(!this.container||!this.container.element)&&this.container.element.contains(t)}deferPageFloat(e){const t=e.float;if(t.floatReference===this.floatReference){const n=this.floatsDeferredToNext.findIndex(e=>e.float===t);n>=0?this.floatsDeferredToNext.splice(n,1,e):this.floatsDeferredToNext.push(e)}else this.getParent(t.floatReference).deferPageFloat(e)}hasPrecedingFloatsDeferredToNext(e,t){if(!t&&e.floatReference!==this.floatReference)return this.getParent(e.floatReference).hasPrecedingFloatsDeferredToNext(e,!1);const n=e.getOrder();return!!this.floatsDeferredToNext.some(t=>t.float.getOrder()<n&&!e.isAllowedToPrecede(t.float))||!!this.parent&&this.parent.hasPrecedingFloatsDeferredToNext(e,!0)}getLastFollowingFloatInFragments(e){const t=e.getOrder();let n=null;if(this.floatFragments.forEach(e=>{e.continuations.forEach(e=>{const i=e.float,o=i.getOrder();o>t&&(!n||o>n.getOrder())&&(n=i)})}),this.parent){const t=this.parent.getLastFollowingFloatInFragments(e);t&&(!n||t.getOrder()>n.getOrder())&&(n=t)}return n}getDeferredPageFloatContinuations(e){e=e||this.flowName;let t=this.floatsDeferredFromPrevious.filter(t=>!e||t.float.flowName===e);return this.parent&&(t=this.parent.getDeferredPageFloatContinuations(e).concat(t)),t.sort((e,t)=>e.float.getOrder()-t.float.getOrder())}getPageFloatContinuationsDeferredToNext(e){e=e||this.flowName;const t=this.floatsDeferredToNext.filter(t=>!e||t.float.flowName===e);return this.parent?this.parent.getPageFloatContinuationsDeferredToNext(e).concat(t):t}getFloatsDeferredToNextInChildContexts(){let e=[];const t=[];for(let n=this.children.length-1;n>=0;n--){const i=this.children[n];t.includes(i.flowName)||(t.push(i.flowName),e=e.concat(i.floatsDeferredToNext.map(e=>e.float)),e=e.concat(i.getFloatsDeferredToNextInChildContexts()))}return e}checkAndForbidNotAllowedFloat(){if(this.checkAndForbidFloatFollowingDeferredFloat())return!0;for(let e=this.floatFragments.length-1;e>=0;e--){const t=this.floatFragments[e],n=t.findNotAllowedFloat(this);if(n)return this.locked?this.invalidate():(this.removePageFloatFragment(t),this.forbid(n),this.removeEndFloatFragments(t.floatSide)),!0}return!(this.floatReference!==ea.REGION||!this.parent.locked)&&this.parent.checkAndForbidNotAllowedFloat()}checkAndForbidFloatFollowingDeferredFloat(){const e=this.getFloatsDeferredToNextInChildContexts(),t=this.floatFragments.reduce((e,t)=>e.concat(t.continuations.map(e=>e.float)),[]);t.sort((e,t)=>t.getOrder()-e.getOrder());for(const n of t){const t=n.getOrder();if(e.some(e=>!n.isAllowedToPrecede(e)&&t>e.getOrder())){if(this.locked)this.invalidate();else{this.forbid(n);const e=this.findPageFloatFragment(n);this.removePageFloatFragment(e)}return!0}}return!1}finish(){if(!this.checkAndForbidNotAllowedFloat()){for(let e=this.floatsDeferredToNext.length-1;e>=0;e--)if(!this.floatsDeferredToNext[e].float.isAllowedOnContext(this)){if(this.locked)return void this.invalidate();this.floatsDeferredToNext.splice(e,1)}this.floatsDeferredFromPrevious.forEach(e=>{this.floatsDeferredToNext.findIndex(t=>e.equals(t))>=0||this.floatFragments.some(t=>t.hasFloat(e.float))||this.floatsDeferredToNext.push(e)})}}hasSameContainerAs(e){return!!this.container&&!!e.container&&this.container.element===e.container.element}invalidate(){this.invalidated=!0,this.locked||(this.container&&(this.children.forEach(e=>{this.hasSameContainerAs(e)&&e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),this.container.clear()),this.children.forEach(e=>{e.layoutConstraints.splice(0)}),this.children.splice(0),Object.keys(this.floatAnchors).forEach(e=>{delete this.floatAnchors[e]}))}detachChildren(){const e=this.children.splice(0);return e.forEach(e=>{e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),e}attachChildren(e){e.forEach(e=>{this.children.push(e),e.reattachFloatFragments()})}isInvalidated(){return this.invalidated||!!this.parent&&this.parent.isInvalidated()}validate(){this.invalidated=!1}toLogical(e){return function(e,t,n){return er(e,t,n||null,ir)}(e,this.writingMode.toString(),this.direction.toString())}toPhysical(e){return function(e,t,n){return er(e,t,n||null,nr)}(e,this.writingMode.toString(),this.direction.toString())}removeEndFloatFragments(e){const t=this.toLogical(e);if("block-end"===t||"inline-end"===t){let e=0;for(;e<this.floatFragments.length;){const n=this.floatFragments[e];this.toLogical(n.floatSide)===t?this.removePageFloatFragment(n):e++}}}stashEndFloatFragments(e){const t=e.floatReference;if(t!==this.floatReference)return void this.getParent(t).stashEndFloatFragments(e);const n=this.toLogical(e.floatSide);if("block-end"===n||"snap-block"===n||"inline-end"===n){let t=0;for(;t<this.floatFragments.length;){const i=this.floatFragments[t],o=this.toLogical(i.floatSide);(o===n||"snap-block"===n&&"block-end"===o)&&i.shouldBeStashedBefore(e)?(this.stashedFloatFragments.push(i),this.floatFragments.splice(t,1)):t++}}}restoreStashedFragments(e){e===this.floatReference?(this.stashedFloatFragments.forEach(e=>{this.addPageFloatFragment(e,!0)}),this.stashedFloatFragments.splice(0)):this.getParent(e).restoreStashedFragments(e)}discardStashedFragments(e){e===this.floatReference?this.stashedFloatFragments.splice(0):this.getParent(e).discardStashedFragments(e)}getStashedFloatFragments(e){return e===this.floatReference?this.stashedFloatFragments.concat().sort((e,t)=>t.getOrder()-e.getOrder()):this.getParent(e).getStashedFloatFragments(e)}getLimitValue(e,t,n,i){this.container;const o=this.toLogical(e),s=this.toPhysical(e),r=this.getLimitValueInner(o,t,n,i);if(this.parent&&this.parent.container){const e=this.parent.getLimitValue(s,t,n,i);switch(s){case"top":case"left":return Math.max(r,e);case"bottom":case"right":return Math.min(r,e)}}return r}getLimitValueInner(e,t,n,i){this.container;const o=this.getLimitValuesInner(t,n,i);switch(e){case"block-start":return this.container.vertical?o.right:o.top;case"block-end":return this.container.vertical?o.left:o.bottom;case"inline-start":return this.container.vertical?o.top:o.left;case"inline-end":return this.container.vertical?o.bottom:o.right;default:throw new Error(`Unknown logical side: ${e}`)}}getLimitValuesInner(e,t,n){this.container;const i=this.container.originX,o=this.container.originY,s=this.container.getPaddingRect();let r={top:s.y1-o,left:s.x1-i,bottom:s.y2-o,right:s.x2-i,floatMinWrapBlockStart:0,floatMinWrapBlockEnd:0};function a(n,i,o){return"%"===n.unit?o*n.num/100:e.convertLengthToPx(n,i,t)}const l=this.floatFragments;return l.length>0&&(r=l.reduce((e,t)=>{if(n&&!n(t,this))return e;const i=this.toLogical(t.floatSide),o=t.area,r=t.continuations[0].float.floatMinWrapBlock;let l=e.top,h=e.left,c=e.bottom,u=e.right,d=e.floatMinWrapBlockStart,p=e.floatMinWrapBlockEnd;switch(i){case"inline-start":o.vertical?l=Math.max(l,o.top+o.height):h=Math.max(h,o.left+o.width);break;case"block-start":o.vertical?(r&&o.left<u&&(d=a(r,o.rootViewNodes[0],s.x2-s.x1)),u=Math.min(u,o.left)):(r&&o.top+o.height>l&&(d=a(r,o.rootViewNodes[0],s.y2-s.y1)),l=Math.max(l,o.top+o.height));break;case"inline-end":o.vertical?c=Math.min(c,o.top):u=Math.min(u,o.left);break;case"block-end":o.vertical?(r&&o.left+o.width>h&&(p=a(r,o.rootViewNodes[0],s.x2-s.x1)),h=Math.max(h,o.left+o.width)):(r&&o.top<c&&(p=a(r,o.rootViewNodes[0],s.y2-s.y1)),c=Math.min(c,o.top));break;default:throw new Error(`Unknown logical float side: ${i}`)}return{top:l,left:h,bottom:c,right:u,floatMinWrapBlockStart:d,floatMinWrapBlockEnd:p}},r)),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r}setFloatAreaDimensions(e,t,n,i,o,s,r){if(t!==this.floatReference)return this.getParent(t).setFloatAreaDimensions(e,t,n,i,o,s,r);let a=this.toLogical(n);if("snap-block"===a){if(!r["block-start"]&&!r["block-end"])return null}else if(!r[a])return null;e.clientLayout;let l=this.getLimitValue("block-start",e.layoutContext,e.clientLayout),h=this.getLimitValue("block-end",e.layoutContext,e.clientLayout),c=this.getLimitValue("inline-start",e.layoutContext,e.clientLayout),u=this.getLimitValue("inline-end",e.layoutContext,e.clientLayout);const d=e.vertical?e.originX:e.originY,p=e.vertical?e.originY:e.originX;function f(t,n){let i=t(e.bands,n);return i?(e.vertical&&(i=an(i)),l=e.vertical?Math.min(l,i.x2):Math.max(l,i.y1),h=e.vertical?Math.max(h,i.x1):Math.min(h,i.y2),!0):s}let g,m,b,w;if(l=e.vertical?Math.min(l,e.left+e.getInsetLeft()+e.width+e.getInsetRight()+d):Math.max(l,e.top+d),h=e.vertical?Math.max(h,e.left+d):Math.min(h,e.top+e.getInsetTop()+e.height+e.getInsetBottom()+d),o){const t=e.vertical?rn(new Wt(h,c,l,u)):new Wt(c,l,u,h);if(("block-start"===a||"snap-block"===a||"inline-start"===a)&&!f(un,t))return null;if(("block-end"===a||"snap-block"===a||"inline-end"===a)&&!f(dn,t))return null;if(b=(h-l)*e.getBoxDir(),g=b-e.getInsetBefore()-e.getInsetAfter(),w=u-c,m=w-e.getInsetStart()-e.getInsetEnd(),!s&&(g<=0||m<=0))return null}else{g=e.computedBlockSize,b=g+e.getInsetBefore()+e.getInsetAfter();const t=(h-l)*e.getBoxDir();if("snap-block"===a){if(null===i)a="block-start";else{const e=this.container.getPaddingRect();a=this.container.getBoxDir()*(i-(this.container.vertical?e.x2:e.y1))<=this.container.getBoxDir()*((this.container.vertical?e.x1:e.y2)-i-b)?"block-start":"block-end"}if(!r[a]){if(!r["block-end"])return null;a="block-end"}}if(!s&&t<b)return null;m="inline-start"===a||"inline-end"===a?sr(e.clientLayout,e.element,[or.FIT_CONTENT_INLINE_SIZE])[or.FIT_CONTENT_INLINE_SIZE]:e.adjustContentRelativeSize?e.getContentInlineSize():e.vertical?e.height:e.width,w=m+e.getInsetStart()+e.getInsetEnd();const n=u-c;if(!s&&n<w)return null}switch(l-=d,h-=d,c-=p,u-=p,a){case"inline-start":case"block-start":case"snap-block":e.setInlinePosition(c,m),e.setBlockPosition(l,g);break;case"inline-end":case"block-end":e.setInlinePosition(u-w,m),e.setBlockPosition(h-b*e.getBoxDir(),g);break;default:throw new Error(`unknown float direction: ${n}`)}return a}getFloatFragmentExclusions(){const e=this.floatFragments.map(e=>e.getOuterShape());return this.parent?this.parent.getFloatFragmentExclusions().concat(e):e}reattachFloatFragments(){const e=this.container.element&&this.container.element.parentNode;e&&this.floatFragments.forEach(t=>{e.appendChild(t.area.element)})}getMaxReachedAfterEdge(){const e=this.getContainer().vertical;return this.floatFragments.reduce((t,n)=>{const i=n.getOuterRect();return e?Math.min(t,i.x1):Math.max(t,i.y2)},e?1/0:0)}getBlockStartEdgeOfBlockEndFloats(){const e=this.getContainer().vertical;return this.floatFragments.filter(e=>"block-end"===e.floatSide).reduce((t,n)=>{const i=n.getOuterRect();return e?Math.max(t,i.x2):Math.min(t,i.y1)},e?0:1/0)}getPageFloatClearEdge(e,t){function n(e){return t=>e.isAnchorAlreadyAppeared(t.float.getId())}function i(e,t){return e.continuations.some(n(t))}const o=t.getPaddingRect(),s=t.vertical?o.x1:o.y2;let r=this;for(;r;){if(r.floatsDeferredToNext.some(n(r)))return s;r=r.parent}t.clientLayout;const a=this.getLimitValue("block-start",t.layoutContext,t.clientLayout,i);return this.getLimitValue("block-end",t.layoutContext,t.clientLayout,i)*t.getBoxDir()<s*t.getBoxDir()?s:a}getPageFloatPlacementCondition(e,t,n){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).getPageFloatPlacementCondition(e,t,n);const i={"block-start":!0,"block-end":!0,"inline-start":!0,"inline-end":!0};if(!n)return i;const o=this.toLogical(t),s=this.toLogical(n);let r;r="all"===s?["block-start","block-end","inline-start","inline-end"]:"both"===s?["inline-start","inline-end"]:"same"===s?"snap-block"===o?["block-start","block-end"]:[o]:[s];const a=e.getOrder();function l(e){return t=>t.floatSide===e&&t.getOrder()<a}return r.forEach(e=>{switch(e){case"block-start":case"inline-start":i[e]=!function e(t,n){return t.children.some(t=>t.floatFragments.some(l(n))||e(t,n))}(this,e);break;case"block-end":case"inline-end":i[e]=!function e(t,n){const i=t.parent;return!!i&&(i.floatFragments.some(l(n))||e(i,n))}(this,e);break;default:throw new Error(`Unexpected side: ${e}`)}}),i}getLayoutConstraints(){return(this.parent?this.parent.getLayoutConstraints():[]).concat(this.layoutConstraints)}addLayoutConstraint(e,t){t===this.floatReference?this.layoutConstraints.push(e):this.getParent(t).addLayoutConstraint(e,t)}isColumnFullWithPageFloats(e){const t=e.layoutContext,n=e.clientLayout;let i=this,o=null;for(;i&&i.container;){const s=i.getLimitValuesInner(t,n);o?e.vertical?(s.right<o.right&&(o.right=s.right,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.left>o.left&&(o.left=s.left,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):(s.top>o.top&&(o.top=s.top,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.bottom<o.bottom&&(o.bottom=s.bottom,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):o=s,i=i.parent}const s=Math.max(o.floatMinWrapBlockStart,o.floatMinWrapBlockEnd);return(e.vertical?o.right-o.left:o.bottom-o.top)<=s}getMaxBlockSizeOfPageFloats(){const e=this.getContainer().vertical;return this.floatFragments.length?Math.max.apply(null,this.floatFragments.map(t=>{const n=t.area;return e?n.width:n.height})):0}lock(){this.locked=!0}unlock(){this.locked=!1}isLocked(){return this.locked}}const aa=[];class la{static register(e){aa.push(e)}findByNodeContext(e){for(let t=aa.length-1;t>=0;t--){const n=aa[t];if(n.appliesToNodeContext(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}findByFloat(e){for(let t=aa.length-1;t>=0;t--){const n=aa[t];if(n.appliesToFloat(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}}la.register(new class{appliesToNodeContext(e){return ta(e.floatReference)}appliesToFloat(e){return!0}createPageFloat(e,t,n){let i=e.floatReference;e.floatSide;const o=e.floatSide,s=e.toNodePosition();return n.resolveFloatReferenceFromColumnSpan(i,e.columnSpan,e).thenAsync(n=>{i=n,t.flowName;const r=new na(s,i,o,e.clearSide,t.flowName,e.floatMinWrapBlock);return t.addPageFloat(r),pi(r)})}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new oa(o.floatReference,t,e,n,i)}findPageFloatFragment(e,t){return t.findPageFloatFragment(e)}adjustPageFloatArea(e,t,n){}forbid(e,t){}});const ha=oa;class ca extends na{constructor(e,t,n,i,o){super(e,t,"block-end",null,n,o),this.footnotePolicy=i}isAllowedToPrecede(e){return!(e instanceof ca)}}class ua extends ha{constructor(e,t,n,i){super(e,"block-end",t,n,i)}getOrder(){return 1/0}shouldBeStashedBefore(e){return e instanceof ca||this.getOrder()<e.getOrder()}}class da{constructor(e){this.footnote=e}allowLayout(e){return!Ur(e.toNodePosition(),this.footnote.nodePosition)}}la.register(new class{appliesToNodeContext(e){return"footnote"===e.floatSide}appliesToFloat(e){return e instanceof ca}createPageFloat(e,t,n){let i=ea.REGION;const o=t.getPageFloatLayoutContext(i);t.getPageFloatLayoutContext(ea.PAGE).hasSameContainerAs(o)&&(i=ea.PAGE);const s=e.toNodePosition();t.flowName;const r=new ca(s,i,t.flowName,e.footnotePolicy,e.floatMinWrapBlock);return t.addPageFloat(r),pi(r)}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new ua(o.floatReference,e,n,i)}findPageFloatFragment(e,t){const n=t.getPageFloatLayoutContext(e.floatReference).floatFragments.filter(e=>e instanceof ua);return n.length,n[0]||null}adjustPageFloatArea(e,t,n){e.isFootnote=!0,e.adjustContentRelativeSize=!1;const i=e.element;e.vertical=n.layoutContext.applyFootnoteStyle(t.vertical,n.layoutContext.nodeContext&&"rtl"===n.layoutContext.nodeContext.direction,i),e.convertPercentageSizesToPx(i),n.setComputedInsets(i,e),n.setComputedWidthAndHeight(i,e)}forbid(e,t){const n=e;switch(n.footnotePolicy){case Mt.line:{const e=new da(n);t.addLayoutConstraint(e,n.floatReference);break}}}});const pa={page:!0,left:!0,right:!0,recto:!0,verso:!0,column:!0,region:!0};function fa(e){return!!pa[e]}const ga={avoid:!0,"avoid-page":!0,"avoid-column":!0,"avoid-region":!0};function ma(e){return!!ga[e]}function ba(e,t){if(!e)return t;if(!t)return e;{const n=fa(e),i=fa(t);if(!n||!i)return i?t:n?e:ma(t)?t:ma(e)?e:t;switch(t){case"column":return e;case"region":return"column"===e?t:e;default:return t}}}function wa(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return"any"}}function Ea(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return null}}function ya(e,t,n,i){const o=e.viewNode;if(!o)return NaN;if(1==o.nodeType){if(e.after||!e.inline){const n=t.getElementClientRect(o);if(n.right>=n.left&&n.bottom>=n.top)return e.after?i?n.left:n.bottom:i?n.right:n.top}return NaN}{let s=NaN;const r=o.ownerDocument.createRange(),a=o.textContent.length;if(!a)return NaN;e.after&&(n+=a),n>=a&&(n=a-1),r.setStart(o,n),r.setEnd(o,n+1);let l=t.getRangeClientRects(r);i&&function(e){if(null==ie){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100px",n.style.height="100px",n.style.overflow="hidden",n.style.lineHeight="16px",n.style.fontSize="16px",V(n,"writing-mode","vertical-rl"),e.appendChild(n);const i=t.createTextNode("a a a a a a a a a a a a a a a a");n.appendChild(i);const o=t.createRange();o.setStart(i,0),o.setEnd(i,1);const s=o.getBoundingClientRect();ie=s.right-s.left<10,e.removeChild(n)}return ie}(document.body)&&(l=function(e,t,n){const i=n.ownerDocument.createRange();i.setStart(n,0),i.setEnd(n,n.textContent.length);const o=e.getRangeClientRects(i),s=[];for(const e of t){let t;for(t=0;t<o.length;t++){const n=o[t];if(e.top>=n.top&&e.bottom<=n.bottom&&Math.abs(e.left-n.left)<1){s.push({top:e.top,left:n.left,bottom:e.bottom,right:n.right});break}}t==o.length&&(c.warn("Could not fix character box"),s.push(e))}return s}(t,l,o));let h=0;for(const e of l){const t=i?e.bottom-e.top:e.right-e.left;e.right>e.left&&e.bottom>e.top&&(isNaN(s)||t>h)&&(s=i?e.left:e.bottom,h=t)}return s}}function Sa(e,t,n){const i=t.clientLayout.getElementClientRect(e),o=t.getComputedMargin(e);return n?i.width+o.left+o.right:i.height+o.top+o.bottom}function Na(e){for(;e;){if(e.parentNode===e.ownerDocument)return!1;e=e.parentNode}return!0}function va(e,t){if(!e)return;let n;for(;(n=e.lastChild)!=t;)e.removeChild(n)}function Ca(e){return!!e.getAttribute("data-adapt-spec")}function Ta(e){if(!e)return!1;const t=e.viewNode;return!(!t||1!==t.nodeType)&&Ca(t)}p("SIMPLE_PROPERTY",(function(e){const t=e.name,n=e.value;switch(t){case"page-break-before":case"page-break-after":case"page-break-inside":return{name:t.replace(/^page-/,""),value:n===Mt.always?Mt.page:n,important:e.important};default:return e}}));class xa{calculateOffset(e){return Ia(this.getNodeContext(),e.collectElementsOffset())}breakPositionChosen(e){}getNodeContext(){return null}}function Ia(e,t){return{current:t.reduce((t,n)=>t+n.calculateOffset(e),0),minimum:t.reduce((t,n)=>t+n.calculateMinimumOffset(e),0)}}class Pa extends xa{constructor(e,t,n,i){super(),this.position=e,this.breakOnEdge=t,this.overflows=n,this.computedBlockSize=i,this.isEdgeUpdated=!1,this.edge=0,this.overflowIfRepetitiveElementsDropped=n}findAcceptableBreak(e,t){return this.updateOverflows(e),t<this.getMinBreakPenalty()?null:e.findEdgeBreakPosition(this)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");const e=this.isFirstContentOfRepetitiveElementsOwner()&&!this.overflowIfRepetitiveElementsDropped;return(ma(this.breakOnEdge)?1:0)+(this.overflows&&!e?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}updateEdge(e){const t=e.calculateClonedPaddingBorder(this.position);this.edge=ya(this.position,e.clientLayout,0,e.vertical)+t,this.isEdgeUpdated=!0}updateOverflows(e){this.isEdgeUpdated||this.updateEdge(e);const t=this.edge,n=this.calculateOffset(e);this.overflowIfRepetitiveElementsDropped=e.isOverflown(t+(e.vertical?-1:1)*n.minimum),this.overflows=this.position.overflow=e.isOverflown(t+(e.vertical?-1:1)*n.current)}getNodeContext(){return this.position}isFirstContentOfRepetitiveElementsOwner(){const e=this.getNodeContext();if(!e||!e.parent)return!1;const{formattingContext:t}=e.parent;if(!Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(t))return!1;const n=t.getRepetitiveElements();return!!n&&n.isFirstContentNode(e)}}function Aa(e){const t=e.toString();let n;switch(t){case"inline-flex":n="flex";break;case"inline-grid":n="grid";break;case"inline-table":n="table";break;case"inline":case"table-row-group":case"table-column":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row":case"table-cell":case"table-caption":case"inline-block":n="block";break;default:n=t}return Tt(n)}function Oa(e){return e===Mt.absolute||e===Mt.fixed}function Ra(e,t,n,i){return e===Mt.none||(Oa(t)?(n=Mt.none,e=Aa(e)):(n&&n!==Mt.none||i)&&(e=Aa(e))),{display:e,position:t,float:n}}function ka(e,t,n,i){return Ra(e,t,n,i).display===Mt.block}function La(e){switch(e.toString()){case"inline":case"inline-block":case"inline-list-item":case"inline-flex":case"inline-grid":case"ruby":case"inline-table":return!0;default:return!1}}class Fa{find(e){const n=g(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR);for(let t=0;t<n.length;t++){const i=n[t](e);if(i)return i}throw new Error(`No processor found for a formatting context: ${e.getName()}`)}}class Da{layout(e,t,n){return t.isFloatNodeContext(e)?t.layoutFloatOrFootnote(e):t.isBreakable(e)?t.layoutBreakableBlock(e):t.layoutUnbreakable(e)}createEdgeBreakPosition(e,t,n,i){return new Pa(e.copy(),t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}clearOverflownViewNodes(e,t,n,i){if(!n.viewNode)return;if(!n.viewNode.parentNode)return;const o=n.viewNode.parentNode;va(o,n.viewNode),i&&o.removeChild(n.viewNode)}finishBreak(e,t,n,i){const o=n||null!=t.viewNode&&1==t.viewNode.nodeType&&!t.after;return e.clearOverflownViewNodes(t,o),i&&(e.fixJustificationIfNeeded(t,!0),e.layoutContext.processFragmentedBlockEdge(o?t:t.parent)),pi(!0)}}class _a{constructor(e){this.parent=e,this.formattingContextType="Block"}getName(){return"Block formatting context (BlockFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}saveState(){}restoreState(e){}}const Ba=new Da,Ma=mr.isInstanceOfBlockFormattingContext;p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(e,t,n,i,o,s)=>{const r=e.parent;return!r&&e.formattingContext||r&&e.formattingContext!==r.formattingContext?null:e.establishesBFC||!e.formattingContext&&ka(n,i,o,s)?new _a(r?r.formattingContext:null):null}),p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof _a?Ba:null);class Ua{constructor(){this.initialBreakPositions=null,this.initialStateOfFormattingContext=null}layout(e,t){return this.prepareLayout(e,t),this.tryLayout(e,t)}tryLayout(e,t){const n=di("AbstractLayoutRetryer.tryLayout");this.saveState(e,t);const i=this.resolveLayoutMode(e);return i.doLayout(e,t).then(o=>{let s=i.accept(o,t);s=i.postLayout(o,this.initialPosition,t,s),s?n.finish(o):(this.initialPosition,this.clearNodes(this.initialPosition),this.restoreState(e,t),this.tryLayout(this.initialPosition,t).thenFinish(n))}),n.result()}prepareLayout(e,t){}clearNodes(e){const t=e.viewNode||e.parent.viewNode;let n,i;for(;n=t.lastChild;)t.removeChild(n);for(;i=t.nextSibling;)i.parentNode.removeChild(i)}saveState(e,t){this.initialPosition=e.copy(),this.initialBreakPositions=[].concat(t.breakPositions),this.initialFragmentLayoutConstraints=[].concat(t.fragmentLayoutConstraints),e.formattingContext&&(this.initialStateOfFormattingContext=e.formattingContext.saveState())}restoreState(e,t){t.breakPositions=this.initialBreakPositions,t.fragmentLayoutConstraints=this.initialFragmentLayoutConstraints,e.formattingContext&&e.formattingContext.restoreState(this.initialStateOfFormattingContext)}}class za{constructor(e,t){this.strategy=e,this.layoutContext=t}iterate(e){const t=this.strategy,n=t.initialState(e),i=di("LayoutIterator");return i.loopWithFrame(e=>{let i;for(;n.nodeContext;){i=n.nodeContext.viewNode?1!==n.nodeContext.viewNode.nodeType?Lr(n.nodeContext.viewNode,n.nodeContext.whitespace)?n.nodeContext.after?t.afterIgnoredTextNode(n):t.startIgnoredTextNode(n):n.nodeContext.after?t.afterNonElementNode(n):t.startNonElementNode(n):n.nodeContext.inline?n.nodeContext.after?t.afterInlineElementNode(n):t.startInlineElementNode(n):n.nodeContext.after?t.afterNonInlineElementNode(n):t.startNonInlineElementNode(n):n.nodeContext.after?t.afterNonDisplayableNode(n):t.startNonDisplayableNode(n);const o=(i&&i.isPending()?i:pi(!0)).thenAsync(()=>n.break?pi(null):this.layoutContext.nextInTree(n.nodeContext,n.atUnforcedBreak));if(o.isPending())return void o.then(t=>{n.break?e.breakLoop():(n.nodeContext=t,e.continueLoop())});if(n.break)return void e.breakLoop();n.nodeContext=o.get()}t.finish(n),e.breakLoop()}).then(()=>{i.finish(n.nodeContext)}),i.result()}}class Va extends class{initialState(e){return{nodeContext:e,atUnforcedBreak:!1,break:!1}}startNonDisplayableNode(e){}afterNonDisplayableNode(e){}startIgnoredTextNode(e){}afterIgnoredTextNode(e){}startNonElementNode(e){}afterNonElementNode(e){}startInlineElementNode(e){}afterInlineElementNode(e){}startNonInlineElementNode(e){}afterNonInlineElementNode(e){}finish(e){}}{constructor(e){super(),this.leadingEdge=e}startNonInlineBox(e){}endEmptyNonInlineBox(e){}endNonInlineBox(e){}initialState(e){return{nodeContext:e,atUnforcedBreak:!!this.leadingEdge&&e.after,break:!1,leadingEdge:this.leadingEdge,breakAtTheEdge:null,onStartEdges:!1,leadingEdgeContexts:[],lastAfterNodeContext:null}}processForcedBreak(e,t){const n=!e.leadingEdge&&fa(e.breakAtTheEdge);if(n){const n=e.nodeContext=e.leadingEdgeContexts[0]||e.nodeContext;n.viewNode.parentNode.removeChild(n.viewNode),t.pageBreakType=e.breakAtTheEdge}return n}saveEdgeAndProcessOverflow(e,t){const n=t.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge);return n&&(e.nodeContext=(e.lastAfterNodeContext||e.nodeContext).modify(),e.nodeContext.overflow=!0),n}processLayoutConstraint(e,t,n){let i=e.nodeContext;const o=!t.allowLayout(i);return o&&(n.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!1,e.breakAtTheEdge),i=e.nodeContext=i.modify(),i.overflow=!0),o}startNonElementNode(e){e.onStartEdges=!1}startNonInlineElementNode(e){return e.leadingEdgeContexts.push(e.nodeContext.copy()),e.breakAtTheEdge=ba(e.breakAtTheEdge,e.nodeContext.breakBefore),e.onStartEdges=!0,this.startNonInlineBox(e)}afterNonInlineElementNode(e){let t,n;return e.onStartEdges?(t=this.endEmptyNonInlineBox(e),n=t&&t.isPending()?t:pi(!0),n=n.thenAsync(()=>(e.break||(e.leadingEdgeContexts=[],e.leadingEdge=!1,e.atUnforcedBreak=!1,e.breakAtTheEdge=null),pi(!0)))):(t=this.endNonInlineBox(e),n=t&&t.isPending()?t:pi(!0)),n.thenAsync(()=>(e.break||(e.onStartEdges=!1,e.lastAfterNodeContext=e.nodeContext.copy(),e.breakAtTheEdge=ba(e.breakAtTheEdge,e.nodeContext.breakAfter)),pi(!0)))}}let Ha=[];const Ga=(new DOMParser).parseFromString(`<root xmlns="${F.SHADOW}"/>`,"text/xml"),$a=["footnote-marker","first-5-lines","first-4-lines","first-3-lines","first-2-lines","first-line","first-letter","before","","after"];function Wa(e){return e.getAttribute("data-adapt-pseudo")||""}function Xa(e,t){e.setAttribute("data-adapt-pseudo",t)}class ja{constructor(e,t,n,i,o){this.element=e,this.style=t,this.styler=n,this.context=i,this.exprContentListener=o,this.contentProcessed={}}getStyle(e,t){const n=Wa(e);this.styler&&n&&n.match(/after$/)&&(this.style=this.styler.getStyle(this.element,!0),this.styler=null);const i=Lo(this.style,"_pseudos")[n]||{};if(n.match(/^first-/)&&!i["x-first-pseudo"]){let e,t=1;"first-letter"==n?t=0:null!=(e=n.match(/^first-([0-9]+)-lines$/))&&(t=e[1]-0),i["x-first-pseudo"]=new Co(new Pt(t),0)}return i}processContent(e,t){const n=Wa(e);if(!this.contentProcessed[n]){this.contentProcessed[n]=!0;const i=t.content;i&&Jr(i)&&i.visit(new Qr(e,this.context,i,this.exprContentListener))}}}wr.isInstanceOfAfterIfContinuesLayoutConstraint;const Ka=co.registerFragmentIndex;class Ya{constructor(e,t){this.sourceNode=e,this.styler=t}createElement(e,t){const n=t.viewNode.ownerDocument.createElement("div"),i=new sl(e,n,t),o=i.getColumn().pageBreakType;return i.getColumn().pageBreakType=null,i.layout(this.createNodePositionForPseudoElement(),!0).thenAsync(()=>{this.styler.contentProcessed["after-if-continues"]=!1,i.getColumn().pageBreakType=o;const e=n.firstChild;return V(e,"display","block"),pi(e)})}createNodePositionForPseudoElement(){const e=Ga.createElementNS(F.XHTML,"div");Xa(e,"after-if-continues");const t=this.createShadowContext(e),n={node:e,shadowType:t.type,shadowContext:t,nodeShadow:null,shadowSibling:null};return new jr({steps:[n],offsetInNode:0,after:!1,preprocessedTextContent:null})}createShadowContext(e){return new Gr(this.sourceNode,e,null,null,null,Sr.ShadowType.ROOTED,this.styler)}}class qa{constructor(e,t,n){this.nodeContext=e,this.afterIfContinues=t,this.pseudoElementHeight=n,this.flagmentLayoutConstraintType="AfterIfContinue"}allowLayout(e,t,n){return!(t&&!e||e&&e.overflow)}nextCandidate(e){return!1}postLayout(e,t,n,i){}finishBreak(e,t){return this.getRepetitiveElements().affectTo(e)?this.afterIfContinues.createElement(t,this.nodeContext).thenAsync(e=>(this.nodeContext.viewNode.appendChild(e),pi(!0))):pi(!0)}getRepetitiveElements(){return new Za(this.nodeContext,this.pseudoElementHeight)}equalsTo(e){return e instanceof qa&&this.afterIfContinues==e.afterIfContinues}getPriorityOfFinishBreak(){return 9}}class Za{constructor(e,t){this.nodeContext=e,this.pseudoElementHeight=t}calculateOffset(e){return this.affectTo(e)?this.pseudoElementHeight:0}calculateMinimumOffset(e){return this.calculateOffset(e)}affectTo(e){if(!e)return!1;const t=e.shadowContext?e.shadowContext.owner:e.sourceNode;if(t===this.nodeContext.sourceNode)return!!e.after;for(let e=t.parentNode;e;e=e.parentNode)if(e===this.nodeContext.sourceNode)return!0;return!1}}function Qa(e,t){if(!e||!e.afterIfContinues||e.after||t.isFloatNodeContext(e))return pi(e);const n=e.afterIfContinues;return n.createElement(t,e).thenAsync(i=>{const o=function(e,t,n){const i=e.viewNode;i.appendChild(n);const o=Sa(n,t,e.vertical);return i.removeChild(n),o}(e,t,i);return t.fragmentLayoutConstraints.push(new qa(e,n,o)),pi(e)})}function Ja(e,t){return e.thenAsync(e=>Qa(e,t))}const el={img:!0,svg:!0,audio:!0,video:!0};class tl{constructor(e){this.constraints=e}allowLayout(e){return this.constraints.every(t=>t.allowLayout(e))}}class nl extends xa{constructor(e,t){super(),this.checkPoints=e,this.penalty=t,this.alreadyEvaluated=!1,this.breakNodeContext=null}findAcceptableBreak(e,t){return t<this.getMinBreakPenalty()?null:(this.alreadyEvaluated||(this.breakNodeContext=e.findBoxBreakPosition(this,t>0),this.alreadyEvaluated=!0),this.breakNodeContext)}getMinBreakPenalty(){return this.penalty}getNodeContext(){return this.alreadyEvaluated?this.breakNodeContext:this.checkPoints[this.checkPoints.length-1]}}function il(e){switch(e){case"ruby":case"inline-block":case"inline-flex":case"inline-grid":case"inline-list-item":case"inline-table":return!0}return!1}class ol extends Zr{constructor(e,t,n,i,o){super(e),this.layoutContext=t,this.clientLayout=n,this.layoutConstraint=i,this.pageFloatLayoutContext=o,this.flowRootFormattingContext=null,this.isFloat=!1,this.isFootnote=!1,this.startEdge=0,this.endEdge=0,this.beforeEdge=0,this.afterEdge=0,this.footnoteEdge=0,this.box=null,this.chunkPositions=null,this.bands=null,this.overflown=!1,this.breakPositions=null,this.pageBreakType=null,this.forceNonfitting=!0,this.leftFloatEdge=0,this.rightFloatEdge=0,this.bottommostFloatTop=0,this.stopAtOverflow=!0,this.lastAfterPosition=null,this.fragmentLayoutConstraints=[],this.pseudoParent=null,this.nodeContextOverflowingDueToRepetitiveElements=null,this.blockDistanceToBlockEndFloats=NaN,this.last=e.lastChild,this.viewDocument=e.ownerDocument,o.setContainer(this)}getTopEdge(){return this.vertical?this.startEdge:this.beforeEdge}getBottomEdge(){return this.vertical?this.endEdge:this.afterEdge}getLeftEdge(){return this.vertical?this.afterEdge:this.startEdge}getRightEdge(){return this.vertical?this.beforeEdge:this.endEdge}isFloatNodeContext(e){return!(!e.floatSide||this.isFloat&&!e.parent)}stopByOverflow(e){return this.stopAtOverflow&&!!e&&e.overflow}isOverflown(e){return this.vertical?e<this.footnoteEdge:e>this.footnoteEdge}getExclusions(){const e=this.pageFloatLayoutContext.getFloatFragmentExclusions();return this.exclusions.concat(e)}openAllViews(e){const t=this,n=di("openAllViews"),i=e.steps;t.layoutContext.setViewRoot(t.element,t.isFootnote);let o=i.length-1,s=null;return n.loop(()=>{for(;o>=0;){const n=s,r=i[o];if(s=Vr(r,n),o!==i.length-1||s.formattingContext||(s.formattingContext=t.flowRootFormattingContext),0==o&&(s.offsetInNode=t.calculateOffsetInNodeForNodeContext(e),s.after=e.after,s.preprocessedTextContent=e.preprocessedTextContent,s.after))break;const a=t.layoutContext.setCurrent(s,0==o&&0==s.offsetInNode);if(o--,a.isPending())return a}return pi(!1)}).then(()=>{n.finish(s)}),n.result()}calculateOffsetInNodeForNodeContext(e){return e.preprocessedTextContent?Cr(e.preprocessedTextContent,e.offsetInNode,1):e.offsetInNode}maybePeelOff(e,t){if(e.firstPseudo&&e.inline&&!e.after&&0==e.firstPseudo.count&&1!=e.viewNode.nodeType){const t=e.viewNode.textContent.match(rl);return this.layoutContext.peelOff(e,t[0].length)}return pi(e)}buildViewToNextBlockEdge(e,t){const n=this;let i=!1;const o=di("buildViewToNextBlockEdge");return o.loopWithFrame(o=>{e.viewNode&&!Ta(e)&&t.push(e.copy()),n.maybePeelOff(e,0).then(s=>{s!==e&&(Ta(e=s)||t.push(e.copy())),n.nextInTree(e).then(t=>{(e=t)?(!i&&n.layoutConstraint.allowLayout(e)||(i=!0,(e=e.modify()).overflow=!0),n.isFloatNodeContext(e)&&!n.vertical?n.layoutFloatOrFootnote(e).then(t=>{e=t,n.pageFloatLayoutContext.isInvalidated()&&(e=null),e?o.continueLoop():o.breakLoop()}):e.inline?o.continueLoop():o.breakLoop()):o.breakLoop()})})}).then(()=>{o.finish(e)}),o.result()}nextInTree(e,t){return Ja(this.layoutContext.nextInTree(e,t),this)}buildDeepElementView(e){if(!e.viewNode)return pi(e);let t=[];const n=e.sourceNode,i=this,o=di("buildDeepElementView");return o.loopWithFrame(o=>{e.viewNode&&e.inline&&!Ta(e)?t.push(e.copy()):(t.length>0&&i.postLayoutBlock(e,t),t=[]),i.maybePeelOff(e,0).then(s=>{const r=s;if(r!==e){let i=r;for(;i&&i.sourceNode!=n;)i=i.parent;if(null==i)return e=r,void o.breakLoop();Ta(r)||t.push(r.copy())}i.nextInTree(r).then(t=>{(e=t)&&e.sourceNode!=n?i.layoutConstraint.allowLayout(e)?o.continueLoop():((e=e.modify()).overflow=!0,i.stopAtOverflow?o.breakLoop():o.continueLoop()):o.breakLoop()})})}).then(()=>{t.length>0&&i.postLayoutBlock(e,t),o.finish(e)}),o.result()}createFloat(e,t,n,i){const o=this.viewDocument.createElement("div");return this.vertical?(i>=this.height&&(i-=.1),V(o,"height",`${n}px`),V(o,"width",`${i}px`)):(n>=this.width&&(n-=.1),V(o,"width",`${n}px`),V(o,"height",`${i}px`)),V(o,"float",t),V(o,"clear",t),this.element.insertBefore(o,e),o}killFloats(){let e=this.element.firstChild;for(;e;){const t=e.nextSibling;if(1==e.nodeType){const t=e,n=t.style.cssFloat;if("left"!=n&&"right"!=n)break;this.element.removeChild(t)}e=t}}createFloats(){const e=this.element.firstChild,t=this.bands,n=this.vertical?this.getTopEdge():this.getLeftEdge(),i=this.vertical?this.getBottomEdge():this.getRightEdge();for(const o of t){const t=o.y2-o.y1;o.left=this.createFloat(e,"left",o.x1-n,t),o.right=this.createFloat(e,"right",i-o.x2,t)}}calculateEdge(e,t,n,i){let o;if(e&&Na(e.viewNode))return NaN;if(e&&e.after&&!e.inline&&(o=ya(e,this.clientLayout,0,this.vertical),!isNaN(o)))return o;let s=i-(e=t[n]).boxOffset;for(;;){if(o=ya(e,this.clientLayout,s,this.vertical),!isNaN(o))return o;if(s>0)s--;else{if(--n<0)return this.beforeEdge;1!=(e=t[n]).viewNode.nodeType&&(s=e.viewNode.textContent.length)}}}parseComputedLength(e){if("number"==typeof e)return e;const t=e.match(/^(-?[0-9]*(\.[0-9]*)?)px$/);return t?parseFloat(t[0]):0}getComputedMargin(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.marginLeft),n.top=this.parseComputedLength(t.marginTop),n.right=this.parseComputedLength(t.marginRight),n.bottom=this.parseComputedLength(t.marginBottom)),n}getComputedPaddingBorder(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)),n}getComputedInsets(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);if(t){if("border-box"==t.boxSizing)return this.getComputedMargin(e);n.left=this.parseComputedLength(t.marginLeft)+this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.marginTop)+this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.marginRight)+this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.marginBottom)+this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)}return n}setComputedInsets(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.marginLeft=this.parseComputedLength(n.marginLeft),t.borderLeft=this.parseComputedLength(n.borderLeftWidth),t.paddingLeft=this.parseComputedLength(n.paddingLeft),t.marginTop=this.parseComputedLength(n.marginTop),t.borderTop=this.parseComputedLength(n.borderTopWidth),t.paddingTop=this.parseComputedLength(n.paddingTop),t.marginRight=this.parseComputedLength(n.marginRight),t.borderRight=this.parseComputedLength(n.borderRightWidth),t.paddingRight=this.parseComputedLength(n.paddingRight),t.marginBottom=this.parseComputedLength(n.marginBottom),t.borderBottom=this.parseComputedLength(n.borderBottomWidth),t.paddingBottom=this.parseComputedLength(n.paddingBottom))}setComputedWidthAndHeight(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.width=this.parseComputedLength(n.width),t.height=this.parseComputedLength(n.height))}layoutUnbreakable(e){return this.buildDeepElementView(e)}layoutFloat(e){const t=this,n=di("layoutFloat"),i=e.viewNode,o=e.floatSide;return V(i,"float","none"),V(i,"display","inline-block"),V(i,"vertical-align","top"),t.buildDeepElementView(e).then(s=>{const r=t.clientLayout.getElementClientRect(i),a=t.getComputedMargin(i);let l=new Wt(r.left-a.left,r.top-a.top,r.right+a.right,r.bottom+a.bottom),h=t.startEdge,c=t.endEdge,u=e.parent;for(;u&&u.inline;)u=u.parent;if(u){const n=u.viewNode.ownerDocument.createElement("div");n.style.left="0px",n.style.top="0px",t.vertical?(n.style.bottom="0px",n.style.width="1px"):(n.style.right="0px",n.style.height="1px"),u.viewNode.appendChild(n);const i=t.clientLayout.getElementClientRect(n);h=Math.max(t.getStartEdge(i),h),c=Math.min(t.getEndEdge(i),c),u.viewNode.removeChild(n);const s=t.vertical?l.y2-l.y1:l.x2-l.x1;"left"==o?c=Math.max(c,h+s):h=Math.min(h,c-s),u.viewNode.appendChild(e.viewNode)}let d=new Wt(h,t.getBoxDir()*t.beforeEdge,c,t.getBoxDir()*t.afterEdge),p=l;t.vertical&&(p=rn(l));const f=t.getBoxDir();if(p.y1<t.bottommostFloatTop*f){const e=p.y2-p.y1;p.y1=t.bottommostFloatTop*f,p.y2=p.y1+e}!function(e,t,n,i){let o=n.y1;const s=n.x2-n.x1,r=n.y2-n.y1;let a=cn(t,o);for(;;){const l=o+r;if(l>e.y2)return!1;let h=e.x1,c=e.x2;for(let e=a;e<t.length&&t[e].y1<l;e++){const n=t[e];n.x1>h&&(h=n.x1),n.x2<c&&(c=n.x2)}if(h+s<=c||a>=t.length)return"left"==i?(n.x1=h,n.x2=h+s):(n.x1=c-s,n.x2=c),n.y2+=o-n.y1,n.y1=o,!0;o=t[a].y2,a++}}(d,t.bands,p,o),t.vertical&&(l=an(p));const g=t.getComputedInsets(i);let m;V(i,"width",`${l.x2-l.x1-g.left-g.right}px`),V(i,"height",`${l.y2-l.y1-g.top-g.bottom}px`),V(i,"position","absolute"),e.display,V(i,"display",e.display);let b=null;if(u&&(b=u.containingBlockForAbsolute?u:u.getContainingBlockForAbsolute()),b){const e=b.viewNode.ownerDocument.createElement("div");e.style.position="absolute",b.vertical?e.style.right="0":e.style.left="0",e.style.top="0",b.viewNode.appendChild(e),m=t.clientLayout.getElementClientRect(e),b.viewNode.removeChild(e)}else m={left:t.getLeftEdge()-t.paddingLeft,right:t.getRightEdge()+t.paddingRight,top:t.getTopEdge()-t.paddingTop};(b?b.vertical:t.vertical)?V(i,"right",`${m.right-l.x2}px`):V(i,"left",`${l.x1-m.left}px`),V(i,"top",`${l.y1-m.top}px`),e.clearSpacer&&(e.clearSpacer.parentNode.removeChild(e.clearSpacer),e.clearSpacer=null);const w=t.vertical?l.x1:l.y2,E=t.vertical?l.x2:l.y1;t.isOverflown(w)&&0!=t.breakPositions.length?((e=e.modify()).overflow=!0,n.finish(e)):(t.killFloats(),d=new Wt(t.getLeftEdge(),t.getTopEdge(),t.getRightEdge(),t.getBottomEdge()),t.vertical&&(d=rn(d)),function(e,t,n,i,o){for(i||(i=[new Yt(n.y1,n.y2,n.x1,n.x2)]);i.length>0&&i[0].y2<=e.y1;)i.shift();if(0==i.length)return;let s;i[0].y1<e.y1&&(i[0].y1=e.y1);const r=0==t.length?e.y1:t[t.length-1].y2;r<e.y2&&t.push(new Yt(r,e.y2,e.x1,e.x2));let a=cn(t,i[0].y1);for(const n of i){if(a==t.length)break;for(t[a].y1<n.y1&&(s=t[a],a++,t.splice(a,0,new Yt(n.y1,s.y2,s.x1,s.x2)),s.y2=n.y1);a<t.length&&(s=t[a++],s.y2>n.y2&&(t.splice(a,0,new Yt(n.y2,s.y2,s.x1,s.x2)),s.y2=n.y2),n.x1!=n.x2&&("left"==o?s.x1=Math.min(n.x2,e.x2):s.x2=Math.max(n.x1,e.x1)),s.y2!=n.y2););}hn(e,t)}(d,t.bands,p,null,o),t.createFloats(),"left"==o?t.leftFloatEdge=w:t.rightFloatEdge=w,t.bottommostFloatTop=E,t.updateMaxReachedAfterEdge(w),n.finish(s))}),n.result()}setupFloatArea(e,t,n,i,o,s){const r=this.pageFloatLayoutContext,a=r.getContainer(t),l=e.element;a.element.parentNode.appendChild(l),e.isFloat=!0,e.originX=a.originX,e.originY=a.originY,e.vertical=a.vertical,e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=0,e.borderLeft=e.borderRight=e.borderTop=e.borderBottom=0,e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=0,e.exclusions=(a.exclusions||[]).concat(),e.forceNonfitting=!r.hasFloatFragments(),e.innerShape=null;const h=a.getPaddingRect();e.setHorizontalPosition(h.x1-a.originX,h.x2-h.x1),e.setVerticalPosition(h.y1-a.originY,h.y2-h.y1),o.adjustPageFloatArea(e,a,this),e.init();const c=!!r.setFloatAreaDimensions(e,t,n,i,!0,!r.hasFloatFragments(),s);return c?(e.killFloats(),e.init()):a.element.parentNode.removeChild(l),c}createPageFloatArea(e,t,n,i,o){const s=this.element.ownerDocument.createElement("div");V(s,"position","absolute");const r=this.pageFloatLayoutContext.getPageFloatLayoutContext(e.floatReference),a=new ra(null,ea.COLUMN,null,this.pageFloatLayoutContext.flowName,e.nodePosition,null,null),l=r.getContainer(),h=new ul(t,s,this.layoutContext.clone(),this.clientLayout,this.layoutConstraint,a,l);return a.setContainer(h),this.setupFloatArea(h,e.floatReference,t,n,i,o)?h:null}layoutSinglePageFloatFragment(e,t,n,i,o,s,r){const a=this.pageFloatLayoutContext,l=r?r.continuations:[],h=(e=l.concat(e))[0].float,c=a.getPageFloatPlacementCondition(h,t,n),u=this.createPageFloatArea(h,t,s,o,c),d={floatArea:u,pageFloatFragment:null,newPosition:null};if(!u)return pi(d);const p=di("layoutSinglePageFloatFragment");let f=!1,g=0;return p.loopWithFrame(t=>{if(g>=e.length)return void t.breakLoop();const n=e[g],o=new jr(n.nodePosition);u.layout(o,!0).then(e=>{d.newPosition=e,!e||i?(g++,t.continueLoop()):(f=!0,t.breakLoop())})}).then(()=>{if(!f){const n=a.setFloatAreaDimensions(u,h.floatReference,t,s,!1,i,c);if(n){const t=o.createPageFloatFragment(e,n,u,!!d.newPosition);a.addPageFloatFragment(t,!0),d.pageFloatFragment=t}else f=!0}p.finish(d)}),p.result()}layoutPageFloatInner(e,t,n,i){const o=this.pageFloatLayoutContext,s=e.float;function r(t,n){n?o.removePageFloatFragment(n,!0):t&&t.element.parentNode.removeChild(t.element),o.restoreStashedFragments(s.floatReference),o.deferPageFloat(e)}o.stashEndFloatFragments(s);const a=di("layoutPageFloatInner"),l=this;return this.layoutSinglePageFloatFragment([e],s.floatSide,s.clearSide,!o.hasFloatFragments(),t,n,i).then(e=>{const t=e.floatArea,n=e.pageFloatFragment,h=e.newPosition;n?l.layoutStashedPageFloats(s.floatReference,[i]).then(e=>{if(e){if(o.addPageFloatFragment(n),o.discardStashedFragments(s.floatReference),h){const e=new sa(s,h.primary);o.deferPageFloat(e)}a.finish(!0)}else r(t,n),a.finish(!1)}):(r(t,n),a.finish(!1))}),a.result()}layoutStashedPageFloats(e,t){const n=this.pageFloatLayoutContext,i=n.getStashedFloatFragments(e),o=[],s=[];let r=!1;const a=di("layoutStashedPageFloats"),l=this;let h=0;return a.loopWithFrame(e=>{if(h>=i.length)return void e.breakLoop();const n=i[h];if(t.includes(n))return h++,void e.continueLoop();const a=(new la).findByFloat(n.continuations[0].float);l.layoutSinglePageFloatFragment(n.continuations,n.floatSide,null,!1,a,null).then(t=>{const n=t.floatArea;n&&o.push(n);const i=t.pageFloatFragment;i?(s.push(i),h++,e.continueLoop()):(r=!0,e.breakLoop())})}).then(()=>{r?(s.forEach(e=>{n.removePageFloatFragment(e,!0)}),o.forEach(e=>{const t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)})):i.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),a.finish(!r)}),a.result()}setFloatAnchorViewNode(e){const t=e.viewNode.parentNode,n=t.ownerDocument.createElement("span");n.setAttribute("data-adapt-spec","1"),"footnote"===e.floatSide&&this.layoutContext.applyPseudoelementStyle(e,"footnote-call",n),t.appendChild(n),t.removeChild(e.viewNode);const i=e.modify();return i.after=!0,i.viewNode=n,i}resolveFloatReferenceFromColumnSpan(e,t,n){const i=this,o=di("resolveFloatReferenceFromColumnSpan"),s=this.pageFloatLayoutContext,r=s.getPageFloatLayoutContext(ea.REGION);return s.getContainer().width<r.getContainer().width&&e===ea.COLUMN?t===Mt.auto?this.buildDeepElementView(n.copy()).then(t=>{const n=t.viewNode;let s=sr(i.clientLayout,n,[or.MIN_CONTENT_INLINE_SIZE])[or.MIN_CONTENT_INLINE_SIZE];const r=i.getComputedMargin(n);i.vertical?s+=r.top+r.bottom:s+=r.left+r.right,s>i.width?o.finish(ea.REGION):o.finish(e)}):t===Mt.all?o.finish(ea.REGION):o.finish(e):o.finish(e),o.result()}layoutPageFloat(e){const t=this,n=this.pageFloatLayoutContext,i=(new la).findByNodeContext(e);let o;const s=n.findPageFloatByNodePosition(e.toNodePosition());return o=s?pi(s):i.createPageFloat(e,n,this),o.thenAsync(o=>{const s=zr(e,0),r=t.setFloatAnchorViewNode(e),a=i.findPageFloatFragment(o,n),l=new sa(o,s);if(a&&a.hasFloat(o))return n.registerPageFloatAnchor(o,r.viewNode),pi(r);if(n.isForbidden(o)||n.hasPrecedingFloatsDeferredToNext(o))return n.deferPageFloat(l),n.registerPageFloatAnchor(o,r.viewNode),pi(r);if(t.nodeContextOverflowingDueToRepetitiveElements)return pi(null);{const e=ya(r,t.clientLayout,0,t.vertical);return t.isOverflown(e)?pi(r):t.layoutPageFloatInner(l,i,e,a).thenAsync(e=>e?pi(null):(n.registerPageFloatAnchor(o,r.viewNode),pi(r)))}})}createJustificationAdjustmentElement(e,t,n,i){const o=t.createElement("span");o.style.visibility="hidden",o.style.verticalAlign="top",o.setAttribute("data-adapt-spec","1");const s=t.createElement("span");s.style.fontSize="0",s.style.lineHeight="0",s.textContent=" #",o.appendChild(s),o.style.display="block",o.style.textIndent="0",o.style.textAlign="left",n.insertBefore(o,e);const r=this.clientLayout.getElementClientRect(s);o.style.textAlign="right";const a=this.clientLayout.getElementClientRect(s);o.style.textAlign="",function(e){if(null===oe){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="30px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a | ");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="30px",n.appendChild(o);const s=t.createRange();s.setStart(i,0),s.setEnd(i,3);const r=s.getBoundingClientRect();oe=r.right<27,e.removeChild(n)}return oe}(document.body)?o.style.display="inline":o.style.display="inline-block";const l=i?a.top-r.top:a.left-r.left,h=l>=1?`${l-1}px`:"100%";return i?o.style.paddingTop=h:o.style.paddingLeft=h,o}addAndAdjustJustificationElement(e,t,n,i,o,s){return function(e,t,n,i){if(function(e){if(null===se){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();se=r.right<37,e.removeChild(n)}return se}(document.body)){const o=ll(e),s=t?n:n.previousSibling,r=s?s.textContent:"";if(r.charAt(r.length-1)===o){const e=n.ownerDocument,t=n.parentNode;!function(e){if(null===re){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i),n.appendChild(t.createElement("wbr"));const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();re=r.right<37,e.removeChild(n)}return re}(document.body)?t.insertBefore(e.createElement("wbr"),i):t.insertBefore(e.createTextNode(" "),i)}}}(e,t,n,i),this.createJustificationAdjustmentElement(i,o,s,e.vertical)}compensateJustificationLineHeight(e,t,n){const i=this.clientLayout.getElementClientRect(e),o=this.clientLayout.getElementClientRect(t);n.vertical?(t.style.marginRight=`${o.right-i.right}px`,t.style.width="0px"):(t.style.marginTop=`${i.top-o.top}px`,t.style.height="0px"),t.setAttribute("data-adapt-spec","1")}fixJustificationIfNeeded(e,t){if(e.after&&!e.inline)return;if(t){let t="";for(let n=e.parent;n&&!t;n=n.parent)!n.inline&&n.viewNode&&(t=n.viewNode.style.textAlign);if("justify"!==t)return}const n=e.viewNode,i=n.ownerDocument,o=t&&(e.after||1!=n.nodeType);let s=o?n.nextSibling:n;s&&!s.parentNode&&(s=null);const r=n.parentNode||e.parent&&e.parent.viewNode;if(!r)return;const a=this.addAndAdjustJustificationElement(e,o,n,s,i,r);if(!t){const t=i.createElement("div");r.insertBefore(t,s),this.compensateJustificationLineHeight(a,t,e)}}processLineStyling(e,t,n){const i=this,o=di("processLineStyling");let s=n.concat([]);n.splice(0,n.length);let r=0,a=e.firstPseudo;return 0==a.count&&(a=a.outer),o.loopWithFrame(n=>{if(!a)return void n.breakLoop();const o=i.findLinePositions(s),l=a.count-r;if(o.length<=l)return void n.breakLoop();const h=i.findAcceptableBreakInside(s,o[l-1],!0);null!=h?i.finishBreak(h,!1,!1).then(()=>{r+=l,i.layoutContext.peelOff(h,0).then(o=>{e=o,i.fixJustificationIfNeeded(e,!1),a=e.firstPseudo,s=[],i.buildViewToNextBlockEdge(e,s).then(e=>{t=e,n.continueLoop()})})}):n.breakLoop()}).then(()=>{Array.prototype.push.apply(n,s),o.finish(t)}),o.result()}isLoneImage(e){return!(2!=e.length&&this.breakPositions.length>0)&&e[0].sourceNode==e[1].sourceNode&&el[e[0].sourceNode.localName]}getTrailingMarginEdgeAdjustment(e){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o.after||!o.viewNode||1!=o.viewNode.nodeType)break;const s=this.getComputedMargin(o.viewNode),r=this.vertical?-s.left:s.bottom;r>0?t=Math.max(t,r):n=Math.min(n,r)}return t-n}layoutBreakableBlock(e){const t=this,n=di("layoutBreakableBlock"),i=[];return t.buildViewToNextBlockEdge(e,i).then(o=>{const s=i.length-1;if(s<0)return void n.finish(o);let r,a=t.calculateEdge(o,i,s,i[s].boxOffset),l=!1;if(!o||!Na(o.viewNode)){const e=Ia(o,t.collectElementsOffset());l=t.isOverflown(a+(t.vertical?-1:1)*e.minimum),t.isOverflown(a+(t.vertical?-1:1)*e.current)&&!t.nodeContextOverflowingDueToRepetitiveElements&&(t.nodeContextOverflowingDueToRepetitiveElements=o)}null==o&&(a+=t.getTrailingMarginEdgeAdjustment(i)),t.updateMaxReachedAfterEdge(a),r=e.firstPseudo?t.processLineStyling(e,o,i):pi(o),r.then(e=>{t.postLayoutBlock(e,i),i.length>0&&(t.saveBoxBreakPosition(i),l&&!t.isLoneImage(i)&&e&&((e=e.modify()).overflow=!0)),n.finish(e)})}),n.result()}postLayoutBlock(e,n){g(t.HOOKS.POST_LAYOUT_BLOCK).forEach(t=>{t(e,n,this)})}findEndOfLine(e,t,n){const i=this.vertical?e-1:e+1;let o,s=0,r=t[0].boxOffset,a=s,l=t.length-1,h=t[l].boxOffset;for(;r<h;){o=r+Math.ceil((h-r)/2),a=s;let e=l;for(;a<e;){const n=a+Math.ceil((e-a)/2);t[n].boxOffset>o?e=n-1:a=n}const c=this.calculateEdge(null,t,a,o);if(this.vertical?c<=i:c>=i){for(h=o-1;t[a].boxOffset==o;)a--;l=a}else n&&this.updateMaxReachedAfterEdge(c),r=o,s=a}return{nodeContext:t[a],index:r,checkPointIndex:a}}findAcceptableBreakInside(e,t,n){const i=this.findEndOfLine(t,e,!0);let o=i.nodeContext;const s=o.viewNode;if(1!=s.nodeType){const t=s;o=this.resolveTextNodeBreaker(o).breakTextNode(t,o,i.index,e,i.checkPointIndex,n)}return this.clearOverflownViewNodes(o,!1),o}resolveTextNodeBreaker(e){return g(t.HOOKS.RESOLVE_TEXT_NODE_BREAKER).reduce((t,n)=>n(e)||t,al.instance)}getRangeBoxes(e,t){const n=[],i=e.ownerDocument.createRange();let o=!1,s=e,r=null,a=!1,l=!0;for(;l;){let e=!0;do{let n=null;s==t&&(l=1===t.nodeType&&!(!t.firstChild||o)),1!=s.nodeType?(a||(i.setStartBefore(s),a=!0),r=s):o?o=!1:Ca(s)?e=!a:"ruby"==s.localName||il(this.clientLayout.getElementComputedStyle(s).display)?(e=!a,e&&(i.setStartBefore(s),a=!0,r=s),s.contains(t)&&(l=!1)):n=s.firstChild,n||(n=s.nextSibling,n||(o=!0,n=s.parentNode)),s=n}while(e&&l);if(a){i.setEndAfter(r);const e=this.clientLayout.getRangeClientRects(i);for(let t=0;t<e.length;t++)n.push(e[t]);a=!1}}return n}findLinePositions(e){const t=[],n=this.getRangeBoxes(e[0].viewNode,e[e.length-1].viewNode);n.sort(this.vertical?Br:_r);let i=0,o=0,s=0,r=0,a=0;const l=this.getBoxDir();for(;;){if(a<n.length){const e=n[a];let t=1;if(r>0){const n=Math.max(this.getBoxSize(e),1);t=l*this.getBeforeEdge(e)<l*i?l*(this.getAfterEdge(e)-i)/n:l*this.getAfterEdge(e)>l*o?l*(o-this.getBeforeEdge(e))/n:1}if(0==r||t>=.6||t>=.2&&this.getStartEdge(e)>=s-1){s=this.getEndEdge(e),this.vertical?(i=0==r?e.right:Math.max(i,e.right),o=0==r?e.left:Math.min(o,e.left)):(i=0==r?e.top:Math.min(i,e.top),o=0==r?e.bottom:Math.max(o,e.bottom)),r++,a++;continue}}if(r>0&&(t.push(o),r=0),a>=n.length)break}return t.sort(J),this.vertical&&t.reverse(),t}calculateClonedPaddingBorder(e){let t=0;return e.walkUpBlocks(e=>{if("clone"===e.inheritedProps["box-decoration-break"]){e.viewNode,Element;const n=this.getComputedPaddingBorder(e.viewNode);t+=e.vertical?-n.left:n.bottom,"table"===e.display&&(t+=e.blockBorderSpacing)}}),t}getOffsetByRepetitiveElements(e){let t;return t=e?e.calculateOffset(this):Ia(null,this.collectElementsOffset()),t.current}findBoxBreakPosition(e,t){const n=this,i=e.checkPoints;let o,s,r=i[0];for(;r.parent&&r.inline;)r=r.parent;t?(o=1,s=1):(o=Math.max((r.inheritedProps.widows||2)-0,1),s=Math.max((r.inheritedProps.orphans||2)-0,1));const a=n.calculateClonedPaddingBorder(r),l=this.findLinePositions(i);let h=this.footnoteEdge-a;const c=this.getBoxDir(),u=this.getOffsetByRepetitiveElements(e);h-=c*u;const d=this.findFirstOverflowingEdgeAndCheckPoint(i);isNaN(d.edge)&&(d.edge=c*(1/0));let p=Q(l.length,e=>{const t=l[e];return n.vertical?t<h||t<=d.edge:t>h||t>=d.edge});const f=p<=0;if(f&&(p=Q(l.length,e=>n.vertical?l[e]<h:l[e]>h)),p=Math.min(l.length-o,p),p<s)return null;let g;if(h=l[p-1],g=f?d.checkPoint:this.findAcceptableBreakInside(e.checkPoints,h,t),g){const e=this.getAfterEdgeOfBlockContainer(g);!isNaN(e)&&e<h&&(h=e),this.computedBlockSize=c*(h-this.beforeEdge)+u}return g}getAfterEdgeOfBlockContainer(e){let t=e;do{t=t.parent}while(t&&t.inline);return t?(t=t.copy().modify(),t.after=!0,ya(t,this.clientLayout,0,this.vertical)):NaN}findFirstOverflowingEdgeAndCheckPoint(e){const t=e.findIndex(e=>e.overflow);if(t<0)return{edge:NaN,checkPoint:null};const n=e[t];return{edge:this.calculateEdge(null,e,t,n.boxOffset),checkPoint:n}}findEdgeBreakPosition(e){return this.computedBlockSize=e.computedBlockSize+this.getOffsetByRepetitiveElements(e),e.position}finishBreak(e,t,n){e.formattingContext;let i=(new Fa).find(e.formattingContext).finishBreak(this,e,t,n);return i||(i=Ba.finishBreak(this,e,t,n)),i}findAcceptableBreakPosition(){let e=null,t=null,n=0,i=0;do{n=i,i=Number.MAX_VALUE;for(let o=this.breakPositions.length-1;o>=0&&!t;--o){e=this.breakPositions[o],t=e.findAcceptableBreak(this,n);const s=e.getMinBreakPenalty();s>n&&(i=Math.min(i,s))}}while(i>n&&!t&&this.forceNonfitting);return{breakPosition:t?e:null,nodeContext:t}}doFinishBreak(e,t,n,i){if(this.pageFloatLayoutContext.isInvalidated()||this.pageBreakType||!t)return pi(e);const o=this,s=di("doFinishBreak");let r=!1;if(!e){if(this.forceNonfitting)return c.warn("Could not find any page breaks?!!"),o.skipTailEdges(t).then(e=>{e?((e=e.modify()).overflow=!1,o.finishBreak(e,r,!0).then(()=>{s.finish(e)})):s.finish(e)}),s.result();e=n,r=!0,o.computedBlockSize=i}return this.finishBreak(e,r,!0).then(()=>{s.finish(e)}),s.result()}isBreakable(e){if(e.after)return!0;switch(e.sourceNode.namespaceURI){case F.SVG:return!1}return!e.flexContainer}zeroIndent(e){const t=e.toString();return""==t||"auto"==t||!!t.match(/^0+(.0*)?[^0-9]/)}checkOverflowAndSaveEdge(e,t){if(!e)return!1;if(Na(e.viewNode))return!1;let n=ya(e,this.clientLayout,0,this.vertical);const i=Ia(e,this.collectElementsOffset()),o=this.isOverflown(n+(this.vertical?-1:1)*i.minimum);if(this.isOverflown(n+(this.vertical?-1:1)*i.current)&&!this.nodeContextOverflowingDueToRepetitiveElements)this.nodeContextOverflowingDueToRepetitiveElements=e;else if(t){const e=n+this.getTrailingMarginEdgeAdjustment(t),o=this.footnoteEdge-this.getBoxDir()*i.current;n=this.vertical?Math.min(n,Math.max(e,o)):Math.max(n,Math.min(e,o))}return this.updateMaxReachedAfterEdge(n),o}checkOverflowAndSaveEdgeAndBreakPosition(e,t,n,i){if(!e)return!1;if(Na(e.viewNode))return!1;const o=this.checkOverflowAndSaveEdge(e,t);return!n&&o||this.saveEdgeBreakPosition(e,i,o),o}applyClearance(e){if(!e.viewNode.parentNode)return!1;const t=this.getComputedMargin(e.viewNode),n=e.viewNode.ownerDocument.createElement("div");this.vertical?(n.style.bottom="0px",n.style.width="1px",n.style.marginRight=`${t.right}px`):(n.style.right="0px",n.style.height="1px",n.style.marginTop=`${t.top}px`),e.viewNode.parentNode.insertBefore(n,e.viewNode);let i=this.clientLayout.getElementClientRect(n);const o=this.getBeforeEdge(i),s=this.getBoxDir(),r=e.clearSide;let a=-this.getBoxDir()*(1/0);switch("all"===r&&(a=this.pageFloatLayoutContext.getPageFloatClearEdge(r,this)),r){case"left":a=s*Math.max(a*s,this.leftFloatEdge*s);break;case"right":a=s*Math.max(a*s,this.rightFloatEdge*s);break;default:a=s*Math.max(a*s,Math.max(this.rightFloatEdge*s,this.leftFloatEdge*s))}if(o*s>=a*s)return e.viewNode.parentNode.removeChild(n),!1;{const r=Math.max(1,(a-o)*s);this.vertical?n.style.width=`${r}px`:n.style.height=`${r}px`,i=this.clientLayout.getElementClientRect(n);const l=this.getAfterEdge(i);if(this.vertical){let e=l+t.right-a;e>0==t.right>=0&&(e+=t.right),n.style.marginLeft=`${e}px`}else{let e=a-(l+t.top);e>0==t.top>=0&&(e+=t.top),n.style.marginBottom=`${e}px`}return e.clearSpacer=n,!0}}isBFC(e){return!!Ma(e)||!!Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(e)}skipEdges(e,t,n){const i=e.after?e.parent&&e.parent.formattingContext:e.formattingContext;if(i&&!this.isBFC(i))return pi(e);const o=this,s=di("skipEdges");let r=!n&&t&&e&&e.after,a=n,l=null,h=[],c=[],u=!1;function d(){return!!n||!t&&fa(a)}function p(){(e=h[0]||e).viewNode.parentNode.removeChild(e.viewNode),o.pageBreakType=a}return s.loopWithFrame(n=>{for(;e;){e.formattingContext;const i=(new Fa).find(e.formattingContext);do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Lr(e.viewNode,e.whitespace))break;if(!e.after)return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)?(e=(o.stopAtOverflow&&l||e).modify()).overflow=!0:(e=e.modify()).breakBefore=a,void n.breakLoop()}if(!e.after){if(i&&i.startNonInlineElementNode(e))break;if(e.clearSide&&o.applyClearance(e)&&t&&0===o.breakPositions.length&&o.saveEdgeBreakPosition(e.copy(),a,!1),!o.isBFC(e.formattingContext)||Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(e.formattingContext)||o.isFloatNodeContext(e)||e.flexContainer)return h.push(e.copy()),a=ba(a,e.breakBefore),d()?p():!o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&o.layoutConstraint.allowLayout(e)||((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop()}if(1!=e.viewNode.nodeType)break;const s=e.viewNode.style;if(e.after){if(e.inline)break;if(i&&i.afterNonInlineElementNode(e,o.stopAtOverflow))break;if(u){if(d())return p(),void n.breakLoop();h=[],t=!1,r=!1,a=null}u=!1,l=e.copy(),c.push(l),a=ba(a,e.breakAfter),!s||o.zeroIndent(s.paddingBottom)&&o.zeroIndent(s.borderBottomWidth)||(c=[l])}else{if(h.push(e.copy()),a=ba(a,e.breakBefore),!o.layoutConstraint.allowLayout(e)&&(o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!o.stopAtOverflow,a),(e=e.modify()).overflow=!0,o.stopAtOverflow))return void n.breakLoop();const t=e.viewNode.localName;if(el[t])return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop();!s||o.zeroIndent(s.paddingTop)&&o.zeroIndent(s.borderTopWidth)||(r=!1,c=[]),u=!0}}while(0);const s=o.nextInTree(e,r);if(s.isPending())return void s.then(t=>{e=t,n.continueLoop()});e=s.get()}o.checkOverflowAndSaveEdgeAndBreakPosition(l,c,!o.stopAtOverflow,a)?l&&o.stopAtOverflow&&((e=l.modify()).overflow=!0):fa(a)&&(o.pageBreakType=a),n.breakLoop()}).then(()=>{l&&(o.lastAfterPosition=l.toNodePosition()),s.finish(e)}),s.result()}skipTailEdges(e){let t=e.copy();const n=this,i=di("skipEdges");let o=null,s=!1;return i.loopWithFrame(i=>{for(;e;){do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Lr(e.viewNode,e.whitespace))break;if(!e.after)return fa(o)&&(n.pageBreakType=o),void i.breakLoop()}if(!e.after&&(n.isFloatNodeContext(e)||e.flexContainer))return o=ba(o,e.breakBefore),fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(1!=e.viewNode.nodeType)break;const t=e.viewNode.style;if(e.after){if(s){if(fa(o))return n.pageBreakType=o,void i.breakLoop();o=null}s=!1,o=ba(o,e.breakAfter)}else{o=ba(o,e.breakBefore);const s=e.viewNode.localName;if(el[s])return fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(t&&(!n.zeroIndent(t.paddingTop)||!n.zeroIndent(t.borderTopWidth)))return void i.breakLoop()}s=!0}while(0);const t=n.layoutContext.nextInTree(e);if(t.isPending())return void t.then(t=>{e=t,i.continueLoop()});e=t.get()}t=null,i.breakLoop()}).then(()=>{i.finish(t)}),i.result()}layoutFloatOrFootnote(e){return ta(e.floatReference)||"footnote"===e.floatSide?this.layoutPageFloat(e):this.layoutFloat(e)}layoutNext(e,t,n){const i=this,o=di("layoutNext");return this.skipEdges(e,t,n||null).then(n=>{if(!(e=n)||i.pageBreakType||i.stopByOverflow(e))o.finish(e);else{const n=e.formattingContext;(new Fa).find(n).layout(e,i,t).thenFinish(o)}}),o.result()}clearOverflownViewNodes(e,t){if(e)for(let n=e.parent;e;e=n,n=n?n.parent:null){const i=(n||e).formattingContext;(new Fa).find(i).clearOverflownViewNodes(this,n,e,t),t=!1}}initGeom(){const e=this.element.ownerDocument.createElement("div");e.style.position="absolute",e.style.top=`${this.paddingTop}px`,e.style.right=`${this.paddingRight}px`,e.style.bottom=`${this.paddingBottom}px`,e.style.left=`${this.paddingLeft}px`,this.element.appendChild(e);const t=this.clientLayout.getElementClientRect(e);this.element.removeChild(e);const n=this.originX+this.left+this.getInsetLeft(),i=this.originY+this.top+this.getInsetTop();this.box=new Wt(n,i,n+this.width,i+this.height),this.startEdge=t?this.vertical?t.top:t.left:0,this.endEdge=t?this.vertical?t.bottom:t.right:0,this.beforeEdge=t?this.vertical?t.right:t.top:0,this.afterEdge=t?this.vertical?t.left:t.bottom:0,this.leftFloatEdge=this.beforeEdge,this.rightFloatEdge=this.beforeEdge,this.bottommostFloatTop=this.beforeEdge,this.footnoteEdge=this.afterEdge,this.bands=function(e,t,n,i,o,s){s&&(e=rn(e),t=t.map(e=>ln(e)),n=n.map(e=>ln(e)));const r=t.length,a=n?n.length:0,l=[],h=[];let c,u,d;for(c=0;c<r;c++)t[c].addSegments(h,c);for(c=0;c<a;c++)n[c].addSegments(h,c+r);const p=h.length;h.sort(qt);let f=0;for(;h[f].shapeId>=r;)f++;let g=h[f].low.y;g>e.y1&&l.push(new Yt(e.y1,g,e.x2,e.x2));let m=0;const b=[];for(;m<p&&(d=h[m]).low.y<g;)d.high.y>g&&b.push(d),m++;for(;m<p||b.length>0;){let t=e.y2;const n=Math.min((w=Math.ceil(g+8),(E=o)?Math.ceil(w/E)*E:w),e.y2);for(u=0;u<b.length&&t>n;u++)d=b[u],d.low.x==d.high.x?d.high.y<t&&(t=Math.max(sn(d.high.y,o),n)):d.low.x!=d.high.x&&(t=n);for(t>e.y2&&(t=e.y2);m<p&&(d=h[m]).low.y<t;)if(d.high.y<g)m++;else{if(!(d.low.y<n)){const e=sn(d.low.y,o);e<t&&(t=e);break}d.low.y==d.high.y&&d.low.y==g||(b.push(d),t=n),m++}const i=[];for(u=0;u<b.length;u++)nn(i,b[u],g,t);i.sort((e,t)=>e.x-t.x||e.lowOrHigh-t.lowOrHigh);const s=on(i,r,a);if(0==s.length)l.push(new Yt(g,t,e.x2,e.x2));else{let n=0,i=e.x1;for(u=0;u<s.length;u+=2){const t=Math.max(e.x1,s[u]),o=Math.min(e.x2,s[u+1])-t;o>n&&(n=o,i=t)}0==n?l.push(new Yt(g,t,e.x2,e.x2)):l.push(new Yt(g,t,Math.max(i,e.x1),Math.min(i+n,e.x2)))}if(t==e.y2)break;for(g=t,u=b.length-1;u>=0;u--)b[u].high.y<=t&&b.splice(u,1)}var w,E;return hn(e,l),l}(this.box,[this.getInnerShape()],this.getExclusions(),0,this.snapHeight,this.vertical),this.createFloats()}init(){this.chunkPositions=[],V(this.element,"width",`${this.width}px`),V(this.element,"height",`${this.height}px`),this.initGeom(),this.computedBlockSize=0,this.overflown=!1,this.pageBreakType=null,this.lastAfterPosition=null}saveEdgeBreakPosition(e,t,n){e.formattingContext;const i=e.copy(),o=(new Fa).find(e.formattingContext),s=this.calculateClonedPaddingBorder(i),r=o.createEdgeBreakPosition(i,t,n,this.computedBlockSize+s);this.breakPositions.push(r)}saveBoxBreakPosition(e){const t=e[0].breakPenalty,n=new nl(e,t);this.breakPositions.push(n)}updateMaxReachedAfterEdge(e){if(!isNaN(e)){const t=this.getBoxDir()*(e-this.beforeEdge);this.computedBlockSize=Math.max(t,this.computedBlockSize)}}layout(e,t,n){if(this.chunkPositions.push(e),e.primary.after&&(this.lastAfterPosition=e.primary),this.stopAtOverflow&&this.overflown)return pi(e);if(this.isFullWithPageFloats())return e.primary.after&&1===e.primary.steps.length?pi(null):pi(e);const i=this,o=di("layout");return i.openAllViews(e.primary).then(e=>{let s=null;if(e.viewNode)s=e.copy();else{const e=t=>{t.nodeContext.viewNode&&(s=t.nodeContext,i.layoutContext.removeEventListener("nextInTree",e))};i.layoutContext.addEventListener("nextInTree",e)}const r=new hl(t,n);r.layout(e,i).then(e=>{i.doFinishBreak(e,r.context.overflownNodeContext,s,r.initialComputedBlockSize).then(e=>{let t=null;t=i.pseudoParent?pi(null):i.doFinishBreakOfFragmentLayoutConstraints(e),t.then(()=>{if(i.pageFloatLayoutContext.isInvalidated())o.finish(null);else if(e){i.overflown=!0;const t=new jr(e.toNodePosition());o.finish(t)}else o.finish(null)})})})}),o.result()}isFullWithPageFloats(){return this.pageFloatLayoutContext.isColumnFullWithPageFloats(this)}getMaxBlockSizeOfPageFloats(){return this.pageFloatLayoutContext.getMaxBlockSizeOfPageFloats()}doFinishBreakOfFragmentLayoutConstraints(e){const t=di("doFinishBreakOfFragmentLayoutConstraints"),n=[].concat(this.fragmentLayoutConstraints);n.sort((e,t)=>e.getPriorityOfFinishBreak()-t.getPriorityOfFinishBreak());let i=0;return t.loop(()=>i<n.length?n[i++].finishBreak(e,this).thenReturn(!0):pi(!1)).then(()=>{t.finish(!0)}),t.result()}doLayout(e,t,n){const i=this,o=di("doLayout");let s=null;return i.breakPositions=[],i.nodeContextOverflowingDueToRepetitiveElements=null,o.loopWithFrame(o=>{for(;e;){let r=!0;if(i.layoutNext(e,t,n||null).then(a=>{if(t=!1,n=null,i.nodeContextOverflowingDueToRepetitiveElements&&i.stopAtOverflow?(i.pageBreakType=null,(e=i.nodeContextOverflowingDueToRepetitiveElements).overflow=!0):e=a,i.pageFloatLayoutContext.isInvalidated())o.breakLoop();else if(i.pageBreakType)o.breakLoop();else if(e&&i.stopByOverflow(e)){s=e;const t=i.findAcceptableBreakPosition();e=t.nodeContext,t.breakPosition&&t.breakPosition.breakPositionChosen(i),o.breakLoop()}else r?r=!1:o.continueLoop()}),r)return void(r=!1)}i.computedBlockSize+=i.getOffsetByRepetitiveElements(),o.breakLoop()}).then(()=>{o.finish({nodeContext:e,overflownNodeContext:s})}),o.result()}redoLayout(){const e=this.chunkPositions;let t=this.element.lastChild;for(;t!=this.last;){const e=t.previousSibling;this.element===t.parentNode&&this.layoutContext.isPseudoelement(t)||this.element.removeChild(t),t=e}this.killFloats(),this.init();const n=this,i=di("redoLayout");let o=0,s=null,r=!0;return i.loopWithFrame(t=>{if(o<e.length){const i=e[o++];n.layout(i,r).then(e=>{r=!1,e?(s=e,t.breakLoop()):t.continueLoop()})}else t.breakLoop()}).then(()=>{i.finish(s)}),i.result()}saveDistanceToBlockEndFloats(){const e=this.pageFloatLayoutContext.getBlockStartEdgeOfBlockEndFloats();e>0&&isFinite(e)&&(this.blockDistanceToBlockEndFloats=this.getBoxDir()*(e-this.beforeEdge-this.computedBlockSize))}collectElementsOffset(){const e=[];for(let t=this;t;t=t.pseudoParent)t.fragmentLayoutConstraints.forEach(t=>{if(Er.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}if(wr.isInstanceOfAfterIfContinuesLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}yr.isInstanceOfTableRowLayoutConstraint(t)&&t.getElementsOffsetsForTableCell(this).forEach(t=>{e.push(t)})});return e}}class sl{constructor(e,t,n){this.startNodeContexts=[],this.column=Object.create(e),this.column.element=t,this.column.layoutContext=e.layoutContext.clone(),this.column.stopAtOverflow=!1,this.column.flowRootFormattingContext=n.formattingContext,this.column.pseudoParent=e;const i=this.column.calculateClonedPaddingBorder(n);this.column.footnoteEdge=this.column.footnoteEdge-i;const o=this;this.column.openAllViews=function(e){return ol.prototype.openAllViews.call(this,e).thenAsync(e=>(o.startNodeContexts.push(e.copy()),pi(e)))}}layout(e,t){return this.column.layout(e,t)}findAcceptableBreakPosition(e){const t=this.column.findAcceptableBreakPosition();if(e){const e=this.startNodeContexts[0].copy(),n=new Pa(e,null,e.overflow,0);if(n.findAcceptableBreak(this.column,0),!t.nodeContext)return{breakPosition:n,nodeContext:e}}return t}finishBreak(e,t,n){return this.column.finishBreak(e,t,n)}doFinishBreakOfFragmentLayoutConstraints(e){this.column.doFinishBreakOfFragmentLayoutConstraints(e)}isStartNodeContext(e){const t=this.startNodeContexts[0];return t.viewNode===e.viewNode&&t.after===e.after&&t.offsetInNode===e.offsetInNode}isLastAfterNodeContext(e){return Ur(e.toNodePosition(),this.column.lastAfterPosition)}getColumnElement(){return this.column.element}getColumn(){return this.column}}const rl=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;class al{breakTextNode(e,t,n,i,o,s){if(t.after)t.offsetInNode=e.length;else{let i=n-t.boxOffset;const o=e.data;i=173==o.charCodeAt(i)?this.breakAfterSoftHyphen(e,o,i,t):this.breakAfterOtherCharacter(e,o,i,t),i>0&&(t=this.updateNodeContext(t,i,e))}return t}breakAfterSoftHyphen(e,t,n,i){return e.replaceData(n,t.length-n,i.breakWord?"":ll(i)),n+1}breakAfterOtherCharacter(e,t,n,i){const o=t.charAt(n);n++;const s=t.charAt(n);return e.replaceData(n,t.length-n,!i.breakWord&&Y(o)&&Y(s)?ll(i):""),n}updateNodeContext(e,t,n){return(e=e.modify()).offsetInNode+=t,e.breakBefore=null,e}}function ll(e){return e.hyphenateCharacter||e.parent&&e.parent.hyphenateCharacter||"-"}al.instance=new al;class hl extends Ua{constructor(e,t){super(),this.leadingEdge=e,this.initialPageBreakType=null,this.initialComputedBlockSize=0,this.initialOverflown=!1,this.context={overflownNodeContext:null},this.breakAfter=t||null}resolveLayoutMode(e){return new cl(this.leadingEdge,this.breakAfter,this.context)}prepareLayout(e,t){t.fragmentLayoutConstraints=[],t.pseudoParent||(Ha=[])}clearNodes(e){super.clearNodes(e);let t=e;for(;t;){const e=t.viewNode;e&&va(e.parentNode,e),t=t.parent}}saveState(e,t){super.saveState(e,t),this.initialPageBreakType=t.pageBreakType,this.initialComputedBlockSize=t.computedBlockSize,this.initialOverflown=t.overflown}restoreState(e,t){super.restoreState(e,t),t.pageBreakType=this.initialPageBreakType,t.computedBlockSize=this.initialComputedBlockSize,t.overflown=this.initialOverflown}}class cl{constructor(e,t,n){this.leadingEdge=e,this.breakAfter=t,this.context=n}doLayout(e,t){const n=di("DefaultLayoutMode.doLayout");return function(e,t){const n=di("processAfterIfContinuesOfAncestors");let i=e;return n.loop(()=>{if(null!==i){const e=Qa(i,t);return i=i.parent,e.thenReturn(!0)}return pi(!1)}).then(()=>{n.finish(!0)}),n.result()}(e,t).then(()=>{t.doLayout(e,this.leadingEdge,this.breakAfter).then(e=>{this.context.overflownNodeContext=e.overflownNodeContext,n.finish(e.nodeContext)})}),n.result()}accept(e,t){return!(!t.pageFloatLayoutContext.isInvalidated()&&!t.pageBreakType)||t.fragmentLayoutConstraints.length<=0||t.fragmentLayoutConstraints.every(n=>n.allowLayout(e,this.context.overflownNodeContext,t))}postLayout(e,t,n,i){if(!i){const t=n.fragmentLayoutConstraints.some(t=>t.nextCandidate(e));i=!t}return n.fragmentLayoutConstraints.forEach(o=>{o.postLayout(i,e,t,n)}),i}}class ul extends ol{constructor(e,t,n,i,o,s,r){super(t,n,i,o,s),this.floatSide=e,this.parentContainer=r,this.rootViewNodes=[],this.floatMargins=[],this.adjustContentRelativeSize=!0}openAllViews(e){return super.openAllViews(e).thenAsync(e=>(e&&this.fixFloatSizeAndPosition(e),pi(e)))}convertPercentageSizesToPx(e){const t=this.parentContainer.getPaddingRect(),n=t.x2-t.x1,i=t.y2-t.y1;function o(t,n){t.forEach(t=>{const i=H(e,t);if(i&&"%"===i.charAt(i.length-1)){const o=parseFloat(i);V(e,t,`${n*o/100}px`)}})}o(["width","max-width","min-width"],n),o(["height","max-height","min-height"],i),o(["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left"],this.vertical?i:n),["margin-top","margin-right","margin-bottom","margin-left"].forEach(t=>{"auto"===H(e,t)&&V(e,t,"0")})}fixFloatSizeAndPosition(e){for(;e.parent;)e=e.parent;e.viewNode.nodeType;const t=e.viewNode;if(this.rootViewNodes.push(t),this.adjustContentRelativeSize&&this.convertPercentageSizesToPx(t),this.floatMargins.push(this.getComputedMargin(t)),this.adjustContentRelativeSize){const e=this.floatSide;if(this.parentContainer.vertical){if("block-end"===e||"left"===e){const e=H(t,"height");""!==e&&"auto"!==e&&V(t,"margin-top","auto")}}else if("block-end"===e||"bottom"===e){const e=H(t,"width");""!==e&&"auto"!==e&&V(t,"margin-left","auto")}}}getContentInlineSize(){return Math.max.apply(null,this.rootViewNodes.map((e,t)=>{const n=this.clientLayout.getElementClientRect(e),i=this.floatMargins[t];return this.vertical?i.top+n.height+i.bottom:i.left+n.width+i.right}))}}class dl{constructor(e,t){this.parent=e,this.rootSourceNode=t,this.formattingContextType="RepetitiveElementsOwner",this.isRoot=!1,this.repetitiveElements=null}getName(){return"Repetitive elements owner formatting context (RepetitiveElementsOwnerFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}getRepetitiveElements(){return this.repetitiveElements}getRootViewNode(e){const t=this.getRootNodeContext(e);return t?t.viewNode:null}getRootNodeContext(e){do{if(!e.belongsTo(this)&&e.sourceNode===this.rootSourceNode)return e}while(e=e.parent);return null}initializeRepetitiveElements(e){this.repetitiveElements||Ha.some(e=>e.root===this.rootSourceNode&&(this.repetitiveElements=e.elements,!0))||(this.repetitiveElements=new pl(e,this.rootSourceNode),Ha.push({root:this.rootSourceNode,elements:this.repetitiveElements}))}saveState(){}restoreState(e){}}class pl{constructor(e,t){this.vertical=e,this.ownerSourceNode=t,this.headerSourceNode=null,this.footerSourceNode=null,this.headerViewNode=null,this.footerViewNode=null,this.headerNodePosition=null,this.footerNodePosition=null,this.headerHeight=0,this.footerHeight=0,this.isSkipHeader=!1,this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0,this.doneInitialLayout=!1,this.firstContentSourceNode=null,this.lastContentSourceNode=null,this.affectedNodeCache=[],this.afterLastContentNodeCache=[],this.allowInsert=!1}setHeaderNodeContext(e){this.headerNodePosition||(this.headerNodePosition=zr(e,0),this.headerSourceNode=e.sourceNode,this.headerViewNode=e.viewNode)}setFooterNodeContext(e){this.footerNodePosition||(this.footerNodePosition=zr(e,0),this.footerSourceNode=e.sourceNode,this.footerViewNode=e.viewNode)}updateHeight(e){this.headerViewNode&&(this.headerHeight=Sa(this.headerViewNode,e,this.vertical),this.headerViewNode=null),this.footerViewNode&&(this.footerHeight=Sa(this.footerViewNode,e,this.vertical),this.footerViewNode=null)}prepareLayoutFragment(){this.isSkipHeader=this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0}appendHeaderToFragment(e,t,n){return!this.headerNodePosition||this.isSkipHeader?pi(!0):this.appendElementToFragment(this.headerNodePosition,e,t,n)}appendFooterToFragment(e,t,n){return!this.footerNodePosition||this.isSkipFooter?pi(!0):this.appendElementToFragment(this.footerNodePosition,e,t,n)}appendElementToFragment(e,t,n,i){const o=t.viewNode.ownerDocument,s=t.viewNode,r=o.createElement("div");s.appendChild(r);const a=new sl(i,r,t),l=a.getColumn().pageBreakType;return a.getColumn().pageBreakType=null,this.allowInsertRepeatitiveElements=!0,a.layout(new jr(e),!0).thenAsync(()=>(this.allowInsertRepeatitiveElements=!1,s.removeChild(r),this.moveChildren(r,s,n),a.getColumn().pageBreakType=l,pi(!0)))}moveChildren(e,t,n){if(t)for(;e.firstChild;){const i=e.firstChild;e.removeChild(i),i.setAttribute("data-adapt-spec","1"),n?t.insertBefore(i,n):t.appendChild(i)}}calculateOffset(e){let t=0;return e&&!this.affectTo(e)||((!this.isSkipFooter||e&&this.isAfterLastContent(e))&&(t+=this.footerHeight),this.isSkipHeader||(t+=this.headerHeight)),t}calculateMinimumOffset(e){let t=0;return e&&!this.affectTo(e)||(e&&this.isAfterLastContent(e)&&(t+=this.footerHeight),this.enableSkippingHeader||(t+=this.headerHeight)),t}isAfterLastContent(e){return this.findResultFromCache(e,this.afterLastContentNodeCache,t=>this.isAfterNodeContextOf(this.lastContentSourceNode,e,!1))}affectTo(e){return this.findResultFromCache(e,this.affectedNodeCache,t=>this.isAfterNodeContextOf(this.ownerSourceNode,e,!0))}findResultFromCache(e,t,n){const i=t.filter(t=>t.nodeContext.sourceNode===e.sourceNode&&t.nodeContext.after===e.after);if(i.length>0)return i[0].result;{const i=n(e);return t.push({nodeContext:e,result:i}),i}}isAfterNodeContextOf(e,t,n){const i=[];for(let n=e;n;n=n.parentNode){if(t.sourceNode===n)return t.after;i.push(n)}for(let e=t.sourceNode;e;e=e.parentNode){const t=i.indexOf(e);if(t>=0)return!!n&&0===t;for(let t=e;t;t=t.previousElementSibling)if(i.includes(t))return!0}return t.after}isFirstContentNode(e){return e&&this.firstContentSourceNode===e.sourceNode}isEnableToUpdateState(){return!!(!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition||!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition)}updateState(){!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition?this.isSkipFooter=!0:!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition&&(this.isSkipHeader=!0)}preventSkippingHeader(){this.isSkipHeader=!1,this.enableSkippingHeader=!1}preventSkippingFooter(){this.isSkipFooter=!1,this.enableSkippingFooter=!1}isHeaderRegistered(){return!!this.headerNodePosition}isFooterRegistered(){return!!this.footerNodePosition}isHeaderSourceNode(e){return this.headerSourceNode===e}isFooterSourceNode(e){return this.footerSourceNode===e}}class fl{constructor(e){this.formattingContext=e}accept(e,t){return!!e}postLayout(e,t,n,i){const o=this.formattingContext.getRepetitiveElements();return o&&(n.clientLayout,o.doneInitialLayout||(o.updateHeight(n),o.doneInitialLayout=!0)),i}}class gl{constructor(e){this.formattingContext=e}accept(e,t){return!0}postLayout(e,t,n,i){return i}}class ml extends fl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}accept(e,t){return!1}}class bl extends gl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return e.belongsTo(this.formattingContext)||e.after||t.fragmentLayoutConstraints.unshift(new wl(e)),this.processor.doLayout(e,t)}}class wl{constructor(e){this.flagmentLayoutConstraintType="RepetitiveElementsOwner";const t=e.formattingContext;this.nodeContext=t.getRootNodeContext(e)}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!Na(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.getRepetitiveElements();return!!t&&!!t.isEnableToUpdateState()&&(t.updateState(),!0)}postLayout(e,t,n,i){const o=this.getRepetitiveElements();o&&e&&i.stopAtOverflow&&(null==t||o.isAfterLastContent(t))&&o.preventSkippingFooter()}finishBreak(e,t){const n=this.nodeContext.formattingContext,i=this.getRepetitiveElements();if(!i)return pi(!0);const o=this.nodeContext;return function(e,t,n){const i=e.getRepetitiveElements();if(i){const o=e.getRootNodeContext(t);if(o.viewNode){const e=o.viewNode.firstChild;return i.appendHeaderToFragment(o,e,n)}}return pi(!0)}(n,o,t).thenAsync(()=>function(e,t,n){const i=e.getRepetitiveElements();if(i&&!i.isSkipFooter){const o=e.getRootNodeContext(t);if(o.viewNode)return i.appendFooterToFragment(o,null,n)}return pi(!0)}(n,o,t).thenAsync(()=>(i.prepareLayoutFragment(),pi(!0))))}getRepetitiveElements(){return this.nodeContext.formattingContext.getRepetitiveElements()}equalsTo(e){return e instanceof wl&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}getPriorityOfFinishBreak(){return 10}}class El extends Ua{constructor(e,t){super(),this.formattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.formattingContext.getRepetitiveElements();return e.belongsTo(this.formattingContext)||t.doneInitialLayout?(e.belongsTo(this.formattingContext)||e.after||t&&t.preventSkippingHeader(),new bl(this.formattingContext,this.processor)):new ml(this.formattingContext,this.processor)}}class yl extends Va{constructor(e,t){super(),this.formattingContext=e,this.column=t}startNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=t.getRepetitiveElements();if(n.parent&&t.rootSourceNode===n.parent.sourceNode){switch(n.repeatOnBreak){case"header":if(!i.isHeaderRegistered())return i.setHeaderNodeContext(n),pi(!0);n.repeatOnBreak="none";break;case"footer":if(!i.isFooterRegistered())return i.setFooterNodeContext(n),pi(!0);n.repeatOnBreak="none"}i.firstContentSourceNode||(i.firstContentSourceNode=n.sourceNode)}return Va.prototype.startNonInlineElementNode.call(this,e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext;return n.sourceNode===t.rootSourceNode&&(t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0),"header"===n.repeatOnBreak||"footer"===n.repeatOnBreak?pi(!0):Va.prototype.afterNonInlineElementNode.call(this,e)}}function Sl(e,t){e&&function(e,t){for(let n=e;n;n=n.parent){const e=n.formattingContext;e&&e instanceof dl&&!n.belongsTo(e)&&t(e,n)}}(e.after?e.parent:e,(e,n)=>{yr.isInstanceOfTableFormattingContext(e)||t.fragmentLayoutConstraints.push(new wl(n))})}const Nl=new class extends Da{layout(e,t,n){if(t.isFloatNodeContext(e))return t.layoutFloatOrFootnote(e);const i=e.formattingContext;return i.getRootViewNode(e)?(n&&Sl(e.parent,t),e.belongsTo(i)?Da.prototype.layout.call(this,e,t,n):new El(i,this).layout(e,t)):t.buildDeepElementView(e)}startNonInlineElementNode(e){const t=function(e){const t=e.formattingContext;return t&&t instanceof dl?t:null}(e).getRepetitiveElements();return!!t&&(t.allowInsertRepeatitiveElements||!t.isHeaderSourceNode(e.sourceNode)&&!t.isFooterSourceNode(e.sourceNode)||e.viewNode.parentNode.removeChild(e.viewNode),!1)}doInitialLayout(e,t){e.formattingContext;const n=di("BlockLayoutProcessor.doInitialLayout");return this.layoutEntireBlock(e,t).thenFinish(n),n.result()}layoutEntireBlock(e,t){const n=e.formattingContext,i=new yl(n,t);return new za(i,t.layoutContext).iterate(e)}doLayout(e,t){const n=e.formattingContext,i=di("doLayout");return Ja(t.layoutContext.nextInTree(e,!1),t).then(e=>{let o=e;i.loopWithFrame(e=>{for(;o;){let i=!0;if(t.layoutNext(o,!1).then(s=>{o=s,t.pageFloatLayoutContext.isInvalidated()||t.pageBreakType||o&&t.stopByOverflow(o)||o&&o.after&&o.sourceNode==n.rootSourceNode?e.breakLoop():i?i=!1:e.continueLoop()}),i)return void(i=!1)}e.breakLoop()}).then(()=>{i.finish(o)})}),i.result()}finishBreak(e,t,n,i){return Da.prototype.finishBreak.call(this,e,t,n,i)}clearOverflownViewNodes(e,t,n,i){Da.prototype.clearOverflownViewNodes(e,t,n,i)}};p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof dl&&!yr.isInstanceOfTableFormattingContext(e)?Nl:null);class vl{constructor(e,t){this.rowIndex=e,this.sourceNode=t,this.cells=[]}addCell(e){this.cells.push(e)}getMinimumHeight(){return Math.min.apply(null,this.cells.map(e=>e.height))}}class Cl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.height=0,this.anchorSlot=null,this.viewElement=n,this.colSpan=n.colSpan||1,this.rowSpan=n.rowSpan||1}setHeight(e){this.height=e}setAnchorSlot(e){this.anchorSlot=e}}class Tl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.cell=n}}class xl{constructor(e,t,n){this.column=e,this.cellNodeContext=n,this.empty=!1,this.pseudoColumn=new sl(e,t,n)}findAcceptableBreakPosition(){const e=this.cellNodeContext.viewNode,t=this.cellNodeContext.verticalAlign;"middle"!==t&&"bottom"!==t||V(e,"vertical-align","top");const n=this.pseudoColumn.findAcceptableBreakPosition(!0);return V(e,"vertical-align",t),n}}class Il{constructor(e,t){this.viewNode=e,this.side=t}}class Pl extends Pa{constructor(e,t,n,i){super(e,t,n,i),this.acceptableCellBreakPositions=null,this.rowIndex=null,this.formattingContext=e.formattingContext}findAcceptableBreak(e,t){const n=super.findAcceptableBreak(e,t);return t<this.getMinBreakPenalty()?null:this.getAcceptableCellBreakPositions().every(e=>!!e.nodeContext)?n:null}getMinBreakPenalty(){let e=super.getMinBreakPenalty();return this.getAcceptableCellBreakPositions().forEach(t=>{e+=t.breakPosition.getMinBreakPenalty()}),e}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){this.formattingContext;const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getRowIndex(){return null!=this.rowIndex?this.rowIndex:this.rowIndex=this.formattingContext.findRowIndexBySourceNode(this.position.sourceNode)}getCellFragments(){return this.formattingContext.getRowSpanningCellsOverflowingTheRow(this.getRowIndex()).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Al extends xa{constructor(e,t,n){super(),this.rowIndex=e,this.beforeNodeContext=t,this.formattingContext=n,this.acceptableCellBreakPositions=null}findAcceptableBreak(e,t){if(t<this.getMinBreakPenalty())return null;const n=this.getCellFragments(),i=this.getAcceptableCellBreakPositions(),o=i.every(e=>!!e.nodeContext)&&i.some((e,t)=>{const i=n[t].pseudoColumn,o=e.nodeContext;return!i.isStartNodeContext(o)&&!i.isLastAfterNodeContext(o)});return this.beforeNodeContext.overflow=i.some(e=>e.nodeContext&&e.nodeContext.overflow),o?this.beforeNodeContext:null}getMinBreakPenalty(){const e=this.formattingContext,t=e.getRowByIndex(this.rowIndex);let n=0;return e.isFreelyFragmentableRow(t)||(n+=10),this.getAcceptableCellBreakPositions().forEach(e=>{n+=e.breakPosition.getMinBreakPenalty()}),n}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getCellFragments(){return this.formattingContext.getCellsFallingOnRow(this.rowIndex).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Ol extends dl{constructor(e,t){super(e,t),this.tableSourceNode=t,this.formattingContextType="Table",this.vertical=!1,this.columnCount=-1,this.tableWidth=0,this.captions=[],this.colGroups=null,this.colWidths=null,this.inlineBorderSpacing=0,this.rows=[],this.slots=[],this.cellFragments=[],this.lastRowViewNode=null,this.cellBreakPositions=[],this.repetitiveElements=null}getName(){return"Table formatting context (Table.TableFormattingContext)"}isFirstTime(e,t){if(!t)return t;switch(e.display){case"table-row":return 0===this.cellBreakPositions.length;case"table-cell":return!this.cellBreakPositions.some(t=>t.cellNodePosition.steps[0].node===e.sourceNode);default:return t}}getParent(){return this.parent}finishFragment(){this.cellFragments=[]}addRow(e,t){this.rows[e]=t}getRowSlots(e){let t=this.slots[e];return t||(t=this.slots[e]=[]),t}addCell(e,t){let n=this.rows[e];n||(this.addRow(e,new vl(e,null)),n=this.rows[e]),n.addCell(t);const i=e+t.rowSpan;let o=this.getRowSlots(e),s=0;for(;o[s];)s++;for(;e<i;e++){o=this.getRowSlots(e);for(let n=s;n<s+t.colSpan;n++){const i=o[n]=new Tl(e,n,t);t.anchorSlot||t.setAnchorSlot(i)}}}getRowByIndex(e){return this.rows[e]}findRowIndexBySourceNode(e){return this.rows.findIndex(t=>e===t.sourceNode)}addCellFragment(e,t,n){let i=this.cellFragments[e];i||(i=this.cellFragments[e]=[]),i[t]=n}getCellsFallingOnRow(e){return this.getRowSlots(e).reduce((e,t)=>t.cell!==e[e.length-1]?e.concat(t.cell):e,[])}getRowSpanningCellsOverflowingTheRow(e){return this.getCellsFallingOnRow(e).filter(t=>t.rowIndex+t.rowSpan-1>e)}getCellFragmentOfCell(e){return this.cellFragments[e.rowIndex]&&this.cellFragments[e.rowIndex][e.columnIndex]}isFreelyFragmentableRow(e){return e.getMinimumHeight()>this.tableWidth/2}getColumnCount(){return this.columnCount<0&&(this.columnCount=Math.max.apply(null,this.rows.map(e=>e.cells.reduce((e,t)=>e+t.colSpan,0)))),this.columnCount}updateCellSizes(e){this.rows.forEach(t=>{t.cells.forEach(t=>{const n=e.getElementClientRect(t.viewElement);t.viewElement=null,t.setHeight(this.vertical?n.width:n.height)})})}findCellFromColumn(e){if(!e)return null;let t=null,n=0,i=0;e:for(n=0;n<this.cellFragments.length;n++)if(this.cellFragments[n])for(i=0;i<this.cellFragments[n].length;i++)if(this.cellFragments[n][i]&&e===this.cellFragments[n][i].pseudoColumn.getColumn()){t=this.rows[n].cells[i];break e}if(!t)return null;for(;n<this.slots.length;n++)for(;i<this.slots[n].length;i++){const e=this.slots[n][i];if(e.cell===t)return{rowIndex:e.rowIndex,columnIndex:e.columnIndex}}return null}collectElementsOffsetOfUpperCells(e){const t=[];return this.slots.reduce((n,i,o)=>{if(o>=e.rowIndex)return n;const s=i[e.columnIndex]&&this.getCellFragmentOfCell(i[e.columnIndex].cell);return!s||t.includes(s)||(this.collectElementsOffsetFromColumn(s.pseudoColumn.getColumn(),n),t.push(s)),n},[])}collectElementsOffsetOfHighestColumn(){const e=[];return this.rows.forEach(t=>{t.cells.forEach((t,n)=>{e[n]||(e[n]={collected:[],elements:[]});const i=e[n],o=this.getCellFragmentOfCell(t);o&&!i.collected.includes(o)&&(this.collectElementsOffsetFromColumn(o.pseudoColumn.getColumn(),i.elements),i.collected.push(o))})}),[new Rl(e.map(e=>e.elements))]}collectElementsOffsetFromColumn(e,t){e.fragmentLayoutConstraints.forEach(e=>{if(Er.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(e)){const n=e.getRepetitiveElements();t.push(n)}yr.isInstanceOfTableRowLayoutConstraint(e)&&e.getElementsOffsetsForTableCell(null).forEach(e=>{t.push(e)})})}saveState(){return[].concat(this.cellBreakPositions)}restoreState(e){this.cellBreakPositions=e}}class Rl{constructor(e){this.repeatitiveElementsInColumns=e}calculateOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.current)}calculateMinimumOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.minimum)}calculateMaxOffsetOfColumn(e,t){let n=0;return this.repeatitiveElementsInColumns.forEach(i=>{const o=Ia(e,i);n=Math.max(n,t(o))}),n}}function kl(e){return function(e){return"table-row-group"===e||"table-header-group"===e||"table-footer-group"===e}(e)||function(e){return"table"===e||"inline-table"===e}(e)}function Ll(e,t,n){const i=e.nodeContext,o=i.display,s=i.parent?i.parent.display:null;let r=!1;if("inline-table"===s&&!(i.formattingContext instanceof Ol))for(let e=i.parent;e;e=e.parent)if(e.formattingContext instanceof Ol){r=e.formattingContext===t;break}return r||"table-row"===o&&!kl(s)||"table-cell"===o&&"table-row"!==s&&!kl(s)||i.formattingContext instanceof Ol&&i.formattingContext!==t?n.buildDeepElementView(i).thenAsync(t=>(e.nodeContext=t,pi(!0))):null}class Fl extends Va{constructor(e,t){super(),this.formattingContext=e,this.column=t,this.rowIndex=-1,this.columnIndex=0,this.inRow=!1,this.checkPoints=[],this.inHeaderOrFooter=!1}startNonInlineElementNode(e){const t=this.formattingContext,n=Ll(e,t,this.column);if(n)return n;this.postLayoutBlockContents(e);const i=e.nodeContext,o=i.display,s=t.getRepetitiveElements();switch(o){case"table":t.inlineBorderSpacing=i.inlineBorderSpacing;break;case"table-caption":{const e=new Il(i.viewNode,i.captionSide);t.captions.push(e);break}case"table-header-group":return s.isHeaderRegistered()||(this.inHeaderOrFooter=!0,s.setHeaderNodeContext(i)),pi(!0);case"table-footer-group":return s.isFooterRegistered()||(this.inHeaderOrFooter=!0,s.setFooterNodeContext(i)),pi(!0);case"table-row":this.inHeaderOrFooter||(this.inRow=!0,this.rowIndex++,i.sourceNode,this.columnIndex=0,t.addRow(this.rowIndex,new vl(this.rowIndex,i.sourceNode)),s.firstContentSourceNode||(s.firstContentSourceNode=i.sourceNode))}return super.startNonInlineElementNode(e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=n.display,o=this.column.clientLayout;if(this.postLayoutBlockContents(e),n.sourceNode===t.tableSourceNode){const i=o.getElementComputedStyle(t.getRootViewNode(n));t.tableWidth=parseFloat(i[t.vertical?"height":"width"]),t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0}else switch(i){case"table-header-group":case"table-footer-group":if(this.inHeaderOrFooter)return this.inHeaderOrFooter=!1,pi(!0);break;case"table-row":this.inHeaderOrFooter||(t.lastRowViewNode=n.viewNode,this.inRow=!1);break;case"table-cell":if(!this.inHeaderOrFooter){this.inRow||(this.rowIndex++,this.columnIndex=0,this.inRow=!0);const e=n.viewNode;t.addCell(this.rowIndex,new Cl(this.rowIndex,this.columnIndex,e)),this.columnIndex++}}return super.afterNonInlineElementNode(e)}startNonElementNode(e){this.registerCheckPoint(e)}afterNonElementNode(e){this.registerCheckPoint(e)}startInlineElementNode(e){this.registerCheckPoint(e)}afterInlineElementNode(e){this.registerCheckPoint(e)}registerCheckPoint(e){const t=e.nodeContext;t&&t.viewNode&&!Ta(t)&&this.checkPoints.push(t.clone())}postLayoutBlockContents(e){this.checkPoints.length>0&&this.column.postLayoutBlock(e.nodeContext,this.checkPoints),this.checkPoints=[]}}class Dl extends Va{constructor(e,t){super(!0),this.formattingContext=e,this.column=t,this.inRow=!1,this.currentRowIndex=-1,this.currentColumnIndex=0,this.originalStopAtOverflow=t.stopAtOverflow,t.stopAtOverflow=!1}resetColumn(){this.column.stopAtOverflow=this.originalStopAtOverflow}getColSpanningCellWidth(e){const t=this.formattingContext.colWidths;let n=0;for(let i=0;i<e.colSpan;i++)n+=t[e.anchorSlot.columnIndex+i];return n+=this.formattingContext.inlineBorderSpacing*(e.colSpan-1),n}layoutCell(e,t,n){const i=e.rowIndex,o=e.columnIndex,s=e.colSpan,r=t.viewNode;t.verticalAlign,s>1&&(V(r,"box-sizing","border-box"),V(r,this.formattingContext.vertical?"height":"width",`${this.getColSpanningCellWidth(e)}px`));const a=r.ownerDocument.createElement("div");r.appendChild(a);const l=new xl(this.column,a,t);return this.formattingContext.addCellFragment(i,o,l),1===n.primary.steps.length&&n.primary.after&&(l.empty=!0),l.pseudoColumn.layout(n,!0).thenReturn(!0)}hasBrokenCellAtSlot(e){const t=this.formattingContext.cellBreakPositions[0];return!!t&&t.cell.anchorSlot.columnIndex===e}extractRowSpanningCellBreakPositions(){const e=this.formattingContext.cellBreakPositions;if(0===e.length)return[];const t=[];let n=0;do{const i=e[n],o=i.cell.rowIndex;if(o<this.currentRowIndex){let s=t[o];s||(s=t[o]=[]),s.push(i),e.splice(n,1)}else n++}while(n<e.length);return t}layoutRowSpanningCellsFromPreviousFragment(e){const t=this.formattingContext,n=this.extractRowSpanningCellBreakPositions(),i=n.reduce(e=>e+1,0);if(0===i)return pi(!0);const o=this.column.layoutContext,s=e.nodeContext;s.viewNode.parentNode.removeChild(s.viewNode);const r=di("layoutRowSpanningCellsFromPreviousFragment");let a=pi(!0),l=0;const h=[];return n.forEach(e=>{a=a.thenAsync(()=>{const n=Vr(e[0].cellNodePosition.steps[1],s.parent);return o.setCurrent(n,!1).thenAsync(()=>{let s=pi(!0),r=0;function a(e){for(;r<e;){if(!h.includes(r)){const e=n.viewNode.ownerDocument.createElement("td");V(e,"padding","0"),n.viewNode.appendChild(e)}r++}}return e.forEach(e=>{s=s.thenAsync(()=>{const t=e.cell;a(t.anchorSlot.columnIndex);const s=e.cellNodePosition,c=Vr(s.steps[0],n);return c.offsetInNode=s.offsetInNode,c.after=s.after,c.fragmentIndex=s.steps[0].fragmentIndex+1,o.setCurrent(c,!1).thenAsync(()=>{const n=e.breakChunkPosition;for(let e=0;e<t.colSpan;e++)h.push(r+e);return r+=t.colSpan,this.layoutCell(t,c,n).thenAsync(()=>(c.viewNode.rowSpan=t.rowIndex+t.rowSpan-this.currentRowIndex+i-l,pi(!0)))})})}),s.thenAsync(()=>(a(t.getColumnCount()),l++,pi(!0)))})})}),a.then(()=>{o.setCurrent(s,!0,e.atUnforcedBreak).then(()=>{r.finish(!0)})}),r.result()}startTableRow(e){if(this.inHeader||this.inFooter)return pi(!0);const t=e.nodeContext,n=this.formattingContext;return this.currentRowIndex<0?(t.sourceNode,this.currentRowIndex=n.findRowIndexBySourceNode(t.sourceNode)):this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0,this.layoutRowSpanningCellsFromPreviousFragment(e).thenAsync(()=>(this.registerCellFragmentIndex(),this.column.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge)&&0===n.getRowSpanningCellsOverflowingTheRow(this.currentRowIndex-1).length&&(this.resetColumn(),t.overflow=!0,e.break=!0),pi(!0)))}registerCellFragmentIndex(){this.formattingContext.getRowByIndex(this.currentRowIndex).cells.forEach(e=>{const t=this.formattingContext.cellBreakPositions[e.columnIndex];if(t&&t.cell.anchorSlot.columnIndex==e.anchorSlot.columnIndex){const e=t.cellNodePosition.steps[0],n=this.column.layoutContext.xmldoc.getElementOffset(e.node);Ka(n,e.fragmentIndex+1,1)}})}startTableCell(e){if(this.inHeader||this.inFooter)return pi(!0);const t=e.nodeContext;this.inRow||(this.currentRowIndex<0?this.currentRowIndex=0:this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0);const n=this.formattingContext.getRowByIndex(this.currentRowIndex).cells[this.currentColumnIndex],i=t.copy().modify();i.after=!0,e.nodeContext=i;const o=di("startTableCell");let s;if(this.hasBrokenCellAtSlot(n.anchorSlot.columnIndex)){const e=this.formattingContext.cellBreakPositions.shift();t.fragmentIndex=e.cellNodePosition.steps[0].fragmentIndex+1,s=pi(e.breakChunkPosition)}else s=this.column.nextInTree(t,e.atUnforcedBreak).thenAsync(e=>{e.viewNode&&t.viewNode.removeChild(e.viewNode);const n=zr(e,0);return pi(new jr(n))});return s.then(i=>{this.layoutCell(n,t,i).then(()=>{this.afterNonInlineElementNode(e),this.currentColumnIndex++,o.finish(!0)})}),o.result()}startNonInlineBox(e){const t=Ll(e,this.formattingContext,this.column);if(t)return t;const n=e.nodeContext,i=this.formattingContext.getRepetitiveElements(),o=n.display;return"table-header-group"===o&&i&&i.isHeaderSourceNode(n.sourceNode)?(this.inHeader=!0,pi(!0)):"table-footer-group"===o&&i&&i.isFooterSourceNode(n.sourceNode)?(this.inFooter=!0,pi(!0)):"table-row"===o?this.startTableRow(e):"table-cell"===o?this.startTableCell(e):pi(!0)}endNonInlineBox(e){const t=e.nodeContext;if("table-row"===t.display&&(this.inRow=!1,!this.inHeader&&!this.inFooter)){const e=t.copy().modify();e.after=!1;const n=new Al(this.currentRowIndex,e,this.formattingContext);this.column.breakPositions.push(n)}return pi(!0)}afterNonInlineElementNode(e){const t=e.nodeContext,n=this.formattingContext.getRepetitiveElements(),i=t.display;if("table-header-group"===i?n&&!n.allowInsertRepeatitiveElements&&n.isHeaderSourceNode(t.sourceNode)?(this.inHeader=!1,t.viewNode.parentNode.removeChild(t.viewNode)):V(t.viewNode,"display","table-row-group"):"table-footer-group"===i&&(n&&!n.allowInsertRepeatitiveElements&&n.isFooterSourceNode(t.sourceNode)?(this.inFooter=!1,t.viewNode.parentNode.removeChild(t.viewNode)):V(t.viewNode,"display","table-row-group")),i&&Dl.ignoreList[i])t.viewNode.parentNode.removeChild(t.viewNode);else{if(t.sourceNode!==this.formattingContext.tableSourceNode)return super.afterNonInlineElementNode(e);t.overflow=this.column.checkOverflowAndSaveEdge(t,null),this.resetColumn(),e.break=!0}return pi(!0)}}Dl.ignoreList={"table-caption":!0,"table-column-group":!0,"table-column":!0};const _l=[];class Bl{layoutEntireTable(e,t){const n=e.formattingContext,i=new Fl(n,t);return new za(i,t.layoutContext).iterate(e)}getColumnWidths(e,t,n,i){const o=e.ownerDocument,s=o.createElement("tr"),r=[];for(let e=0;e<t;e++){const e=o.createElement("td");s.appendChild(e),r.push(e)}e.parentNode.insertBefore(s,e.nextSibling);const a=r.map(e=>{const t=i.getElementClientRect(e);return n?t.height:t.width});return e.parentNode.removeChild(s),a}getColGroupElements(e){const t=[];let n=e.firstElementChild;for(;n;)"colgroup"===n.localName&&t.push(n),n=n.nextElementSibling;return t}normalizeAndGetColElements(e){const t=[];return e.forEach(e=>{let n=e.span;e.removeAttribute("span");let i=e.firstElementChild;for(;i;){if("col"===i.localName){let o=i.span;for(i.removeAttribute("span"),n-=o;o-- >1;){const n=i.cloneNode(!0);e.insertBefore(n,i),t.push(n)}t.push(i)}i=i.nextElementSibling}for(;n-- >0;)i=e.ownerDocument.createElement("col"),e.appendChild(i),t.push(i)}),t}addMissingColElements(e,t,n,i){if(e.length<n){const o=i.ownerDocument.createElement("colgroup");t.push(o);for(let t=e.length;t<n;t++){const t=i.ownerDocument.createElement("col");o.appendChild(t),e.push(t)}}}normalizeColGroups(e,t,n){const i=e.vertical,o=e.lastRowViewNode;if(!o)return;e.lastRowViewNode=null;const s=o.ownerDocument.createDocumentFragment(),r=e.getColumnCount();if(!(r>0))return void(e.colGroups=s);const a=e.colWidths=this.getColumnWidths(o,r,i,n.clientLayout),l=this.getColGroupElements(t),h=this.normalizeAndGetColElements(l);this.addMissingColElements(h,l,r,t),h.forEach((e,t)=>{V(e,i?"height":"width",`${a[t]}px`)}),l.forEach(e=>{s.appendChild(e.cloneNode(!0))}),e.colGroups=s}doInitialLayout(e,t){const n=e.formattingContext;n.vertical=e.vertical,n.initializeRepetitiveElements(e.vertical),e.sourceNode;const i=function(e){const t=_l.findIndex(t=>t.root===e),n=_l[t];return n?n.tableLayoutOption:null}(e.sourceNode);!function(e){const t=_l.findIndex(t=>t.root===e);t>=0&&_l.splice(t,1)}(e.sourceNode);const o=di("TableLayoutProcessor.doInitialLayout"),s=e.copy();return this.layoutEntireTable(e,t).then(r=>{const a=r.viewNode,l=t.clientLayout.getElementClientRect(a);let h=t.vertical?l.left:l.bottom;if(h+=(t.vertical?-1:1)*Ia(e,t.collectElementsOffset()).current,!(t.isOverflown(h)||i&&i.calculateBreakPositionsInside))return t.breakPositions.push(new zl(s)),void o.finish(r);this.normalizeColGroups(n,a,t),n.updateCellSizes(t.clientLayout),o.finish(null)}),o.result()}addCaptions(e,t,n){const i=e.captions;i.forEach((e,o)=>{e&&(t.insertBefore(e.viewNode,n),"top"===e.side&&(i[o]=null))})}addColGroups(e,t,n){e.colGroups&&0===this.getColGroupElements(t).length&&t.insertBefore(e.colGroups.cloneNode(!0),n)}removeColGroups(e,t){if(e.colGroups&&t){const e=this.getColGroupElements(t);e&&e.forEach(e=>{t.removeChild(e)})}}doLayout(e,t){const n=e.formattingContext,i=n.getRootViewNode(e),o=i.firstChild;this.addCaptions(n,i,o),this.addColGroups(n,i,o);const s=new Dl(n,t),r=new za(s,t.layoutContext),a=di("TableFormattingContext.doLayout");return r.iterate(e).thenFinish(a),a.result()}layout(e,t,n){const i=e.formattingContext;return i.getRootViewNode(e)?(n&&Sl(e.parent,t),new Ml(i,this).layout(e,t)):t.buildDeepElementView(e)}createEdgeBreakPosition(e,t,n,i){return new Pl(e,t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}finishBreak(e,t,n,i){const o=t.formattingContext;if("table-row"===t.display){t.sourceNode;const n=o.findRowIndexBySourceNode(t.sourceNode);let i;if(o.cellBreakPositions=[],i=t.after?o.getRowSpanningCellsOverflowingTheRow(n):o.getCellsFallingOnRow(n),i.length){const s=di("TableLayoutProcessor.finishBreak");let r=0;return s.loopWithFrame(e=>{if(r===i.length)return void e.breakLoop();const t=i[r++],s=o.getCellFragmentOfCell(t),a=s.findAcceptableBreakPosition().nodeContext,l=s.cellNodeContext,h=l.toNodePosition(),c=new jr(a.toNodePosition());o.cellBreakPositions.push({cellNodePosition:h,breakChunkPosition:c,cell:t});const u=l.viewNode;s.column.layoutContext.processFragmentedBlockEdge(s.cellNodeContext),n<t.rowIndex+t.rowSpan-1&&(u.rowSpan=n-t.rowIndex+1),s.empty?e.continueLoop():s.pseudoColumn.finishBreak(a,!1,!0).then(()=>{!function(e,t,n){const i=t.getRepetitiveElements();if(!i)return;const o=t.vertical,s=e.column,r=e.pseudoColumn.getColumnElement(),a=e.cellNodeContext.viewNode,l=s.clientLayout.getElementClientRect(a),h=s.getComputedPaddingBorder(a);if(o){V(r,"max-width",`${l.right-s.footnoteEdge-i.calculateOffset(n)-h.right}px`)}else{V(r,"max-height",`${s.footnoteEdge-i.calculateOffset(n)-l.top-h.top}px`)}V(r,"overflow","hidden")}(s,o,a),e.continueLoop()})}).then(()=>{e.clearOverflownViewNodes(t,!1),e.layoutContext.processFragmentedBlockEdge(t),o.finishFragment(),s.finish(!0)}),s.result()}}return o.finishFragment(),Ba.finishBreak(e,t,n,i)}clearOverflownViewNodes(e,t,n,i){Da.prototype.clearOverflownViewNodes(e,t,n,i)}}class Ml extends Ua{constructor(e,t){super(),this.tableFormattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.tableFormattingContext.getRepetitiveElements();return t&&t.doneInitialLayout?(e.sourceNode!==this.tableFormattingContext.tableSourceNode||e.after||t&&t.preventSkippingHeader(),new Hl(this.tableFormattingContext,this.processor)):new Ul(this.tableFormattingContext,this.processor)}clearNodes(e){super.clearNodes(e);const t=this.tableFormattingContext.getRootViewNode(e);this.processor.removeColGroups(this.tableFormattingContext,t)}restoreState(e,t){super.restoreState(e,t),this.tableFormattingContext.finishFragment()}}class Ul extends fl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}}class zl extends Pa{constructor(e){super(e,null,e.overflow,0)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");return(this.overflows?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}breakPositionChosen(e){e.fragmentLayoutConstraints.push(new Vl(this.position.sourceNode))}}class Vl{constructor(e){this.tableRootNode=e,this.flagmentLayoutConstraintType="EntireTable"}allowLayout(e,t,n){return e.overflow,!1}nextCandidate(e){return!0}postLayout(e,t,n,i){t.sourceNode,_l.push({root:t.sourceNode,tableLayoutOption:{calculateBreakPositionsInside:!0}})}finishBreak(e,t){return pi(!0)}equalsTo(e){return e instanceof Vl&&e.tableRootNode===this.tableRootNode}getPriorityOfFinishBreak(){return 0}}class Hl extends gl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){const n=this.formattingContext.getRepetitiveElements();if(n&&!n.isAfterLastContent(e)){const n=new Gl(e);t.fragmentLayoutConstraints.some(e=>n.equalsTo(e))||t.fragmentLayoutConstraints.unshift(n)}return this.processor.doLayout(e,t)}}class Gl extends wl{constructor(e){super(e),this.flagmentLayoutConstraintType="TableRow",this.cellFragmentLayoutConstraints=[]}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!n.pseudoParent&&!Na(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.nodeContext.formattingContext;return!!this.collectCellFragmentLayoutConstraints(e,t).some(t=>t.constraints.some(t=>t.nextCandidate(e)))||super.nextCandidate(e)}postLayout(e,t,n,i){const o=this.nodeContext.formattingContext;if(this.cellFragmentLayoutConstraints=this.collectCellFragmentLayoutConstraints(t,o),this.cellFragmentLayoutConstraints.forEach(t=>{t.constraints.forEach(o=>{o.postLayout(e,t.breakPosition,n,i)})}),!e){const e=o.getRootViewNode(this.nodeContext);(new Bl).removeColGroups(o,e),this.removeDummyRowNodes(n)}super.postLayout(e,t,n,i)}finishBreak(e,t){this.nodeContext.formattingContext;const n=di("finishBreak"),i=this.cellFragmentLayoutConstraints.reduce((e,t)=>e.concat(t.constraints.map(e=>({constraint:e,breakPosition:t.breakPosition}))),[]);let o=0;return n.loop(()=>{if(o<i.length){const e=i[o++];return e.constraint.finishBreak(e.breakPosition,t).thenReturn(!0)}return pi(!1)}).then(()=>{n.finish(!0)}),n.result().thenAsync(()=>super.finishBreak(e,t))}removeDummyRowNodes(e){if(e&&"table-row"===e.display&&e.viewNode)for(;e.viewNode.previousElementSibling;){const t=e.viewNode.previousElementSibling;t.parentNode&&t.parentNode.removeChild(t)}}collectCellFragmentLayoutConstraints(e,t){return this.getCellFragemnts(e,t).map(e=>({constraints:e.fragment.pseudoColumn.getColumn().fragmentLayoutConstraints,breakPosition:e.breakPosition}))}getCellFragemnts(e,t){let n=Number.MAX_VALUE;e&&"table-row"===e.display&&(e.sourceNode,n=t.findRowIndexBySourceNode(e.sourceNode)+1),n=Math.min(t.cellFragments.length,n);const i=[];for(let e=0;e<n;e++)t.cellFragments[e]&&t.cellFragments[e].forEach(e=>{e&&i.push({fragment:e,breakPosition:e.findAcceptableBreakPosition().nodeContext})});return i}getElementsOffsetsForTableCell(e){const t=this.nodeContext.formattingContext,n=t.findCellFromColumn(e);return n?t.collectElementsOffsetOfUpperCells(n):t.collectElementsOffsetOfHighestColumn()}equalsTo(e){return e instanceof Gl&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}}const $l=new Bl;function Wl(e){return e.reduce((e,t)=>e+t,0)/e.length}p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,i,o,s){if(!t)return null;if(n===Mt.table){const t=e.parent;return new Ol(t?t.formattingContext:null,e.sourceNode)}return null})),p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Ol?$l:null}));class Xl{constructor(e,t){this.layoutResult=e,this.penalty=t}}function jl(e){return e.vertical?e.width:e.height}function Kl(e,t){e.vertical?e.width=t:e.height=t}class Yl{constructor(e,t,n){this.layoutContainer=e,this.columnGenerator=t,this.regionPageFloatLayoutContext=n,this.originalContainerBlockSize=jl(e)}balanceColumns(e){const t=this,n=di("ColumnBalancer#balanceColumns");t.preBalance(e),t.savePageFloatLayoutContexts(e),t.layoutContainer.clear();const i=[t.createTrialResult(e)];return n.loopWithFrame(e=>{t.hasNextCandidate(i)?(t.updateCondition(i),t.columnGenerator().then(n=>{t.savePageFloatLayoutContexts(n),t.layoutContainer.clear(),n?(i.push(t.createTrialResult(n)),e.continueLoop()):e.breakLoop()})):e.breakLoop()}).then(()=>{const e=i.reduce((e,t)=>t.penalty<e.penalty?t:e,i[0]);t.restoreContents(e.layoutResult),t.postBalance(),n.finish(e.layoutResult)}),n.result()}createTrialResult(e){const t=this.calculatePenalty(e);return new Xl(e,t)}preBalance(e){}postBalance(){Kl(this.layoutContainer,this.originalContainerBlockSize)}savePageFloatLayoutContexts(e){const t=this.regionPageFloatLayoutContext.detachChildren();e&&(e.columnPageFloatLayoutContexts=t)}restoreContents(e){const t=this.layoutContainer.element;e.columns.forEach(e=>{t.appendChild(e.element)}),e.columnPageFloatLayoutContexts,this.regionPageFloatLayoutContext.attachChildren(e.columnPageFloatLayoutContexts)}}function ql(e){const t=e[e.length-1];if(0===t.penalty)return!1;const n=e[e.length-2];if(n&&t.penalty>=n.penalty)return!1;const i=t.layoutResult.columns;return Math.max.apply(null,i.map(e=>e.computedBlockSize))>Math.max.apply(null,i.map(e=>e.getMaxBlockSizeOfPageFloats()))+1}function Zl(e,t){const n=e[e.length-1].layoutResult.columns,i=Math.max.apply(null,n.map(e=>isNaN(e.blockDistanceToBlockEndFloats)?e.computedBlockSize:e.computedBlockSize-e.blockDistanceToBlockEndFloats+1))-1;i<jl(t)?Kl(t,i):Kl(t,jl(t)-1)}class Ql extends Yl{constructor(e,t,n,i){super(n,e,t),this.columnCount=i,this.originalPosition=null,this.foundUpperBound=!1}preBalance(e){const t=e.columns.reduce((e,t)=>e+t.computedBlockSize,0);Kl(this.layoutContainer,t/this.columnCount),this.originalPosition=e.position}checkPosition(e){return this.originalPosition?this.originalPosition.isSamePosition(e):null===e}calculatePenalty(e){if(!this.checkPosition(e.position))return 1/0;const t=e.columns;return Jl(t)?1/0:Math.max.apply(null,t.map(e=>e.computedBlockSize))}hasNextCandidate(e){if(1===e.length)return!0;if(this.foundUpperBound)return ql(e);{const t=e[e.length-1];return this.checkPosition(t.layoutResult.position)&&!Jl(t.layoutResult.columns)?(this.foundUpperBound=!0,!0):jl(this.layoutContainer)<this.originalContainerBlockSize}}updateCondition(e){if(this.foundUpperBound)Zl(e,this.layoutContainer);else{const e=Math.min(this.originalContainerBlockSize,jl(this.layoutContainer)+.1*this.originalContainerBlockSize);Kl(this.layoutContainer,e)}}}function Jl(e){if(e.length<=1)return!1;const t=e[e.length-1].computedBlockSize;return e.slice(0,e.length-1).every(e=>t>e.computedBlockSize)}class eh extends Yl{constructor(e,t,n){super(n,e,t)}calculatePenalty(e){return e.columns.every(e=>0===e.computedBlockSize)?1/0:function(e){const t=Wl(e);return Wl(e.map(e=>{const n=e-t;return n*n}))}(e.columns.filter(e=>!e.pageBreakType).map(e=>e.computedBlockSize))}hasNextCandidate(e){return ql(e)}updateCondition(e){Zl(e,this.layoutContainer)}}class th{constructor(e,t,n){this.endStuckFixed=e,this.endFixed=t,this.endSlipped=n}}class nh{constructor(){this.map=[]}getMaxFixed(){return 0==this.map.length?0:this.map[this.map.length-1].endFixed}getMaxSlipped(){return 0==this.map.length?0:this.map[this.map.length-1].endSlipped}addStuckRange(e){if(0==this.map.length)this.map.push(new th(e,e,e));else{const t=this.map[this.map.length-1],n=t.endSlipped+e-t.endFixed;t.endFixed==t.endStuckFixed?(t.endFixed=e,t.endStuckFixed=e,t.endSlipped=n):this.map.push(new th(e,e,n))}}addSlippedRange(e){0==this.map.length?this.map.push(new th(e,0,0)):this.map[this.map.length-1].endFixed=e}slippedByFixed(e){const t=this,n=Q(this.map.length,n=>e<=t.map[n].endFixed),i=this.map[n];return i.endSlipped-Math.max(0,i.endStuckFixed-e)}fixedBySlipped(e){const t=this,n=Q(this.map.length,n=>e<=t.map[n].endSlipped),i=this.map[n];return i.endStuckFixed-(i.endSlipped-e)}}class ih{constructor(e,t,n,i,o,s,r,a){if(this.context=e,this.style=t,this.offset=n,this.isRoot=i,this.flowChunk=o,this.atBlockStart=s,this.atFlowStart=r,this.isParentBoxDisplayed=a,this.isBlockValue=null,this.hasBoxValue=null,this.styleValues={},this.beforeBox=null,this.afterBox=null,this.breakBefore=null,this.flowName=o.flowName,this.hasBox()){const i=t._pseudos;if(i&&i.before){const t=new ih(e,i.before,n,!1,o,this.isBlock(),r,!0);Jr(t.styleValue("content"))&&(this.beforeBox=t,this.breakBefore=t.breakBefore)}}this.breakBefore=ba(this.getBreakValue("before"),this.breakBefore),this.atFlowStart&&fa(this.breakBefore)&&(o.breakBefore=ba(o.breakBefore,this.breakBefore))}buildAfterPseudoElementBox(e,t,n){if(this.hasBox()){const i=this.style._pseudos;if(i&&i.after){const o=new ih(this.context,i.after,e,!1,this.flowChunk,t,n,!0);Jr(o.styleValue("content"))&&(this.afterBox=o)}}}styleValue(e,t){if(!(e in this.styleValues)){const n=this.style[e];this.styleValues[e]=n?n.evaluate(this.context,e):t||null}return this.styleValues[e]}displayValue(){return this.styleValue("display",Mt.inline)}isBlock(){if(null===this.isBlockValue){const e=this.displayValue(),t=this.styleValue("position"),n=this.styleValue("float");this.isBlockValue=ka(e,t,n,this.isRoot)}return this.isBlockValue}hasBox(){return null===this.hasBoxValue&&(this.hasBoxValue=this.isParentBoxDisplayed&&this.displayValue()!==Mt.none),this.hasBoxValue}getBreakValue(e){let t=null;if(this.isBlock()){const n=this.styleValue(`break-${e}`);n&&(t=n.toString())}return t}}class oh{constructor(e){this.context=e,this.stack=[],this.atBlockStart=!0,this.atFlowStart=!0,this.atStartStack=[]}empty(){return 0===this.stack.length}lastBox(){return this.stack[this.stack.length-1]}lastFlowName(){const e=this.lastBox();return e?e.flowChunk.flowName:null}isCurrentBoxDisplayed(){return this.stack.every(e=>e.displayValue()!==Mt.none)}push(e,t,n,i){const o=this.lastBox();i&&o&&i.flowName!==o.flowName&&this.atStartStack.push({atBlockStart:this.atBlockStart,atFlowStart:this.atFlowStart});const s=i||o.flowChunk,r=this.atFlowStart||!!i,a=this.isCurrentBoxDisplayed(),l=new ih(this.context,e,t,n,s,r||this.atBlockStart,r,a);return this.stack.push(l),this.atBlockStart=l.hasBox()?!l.beforeBox&&l.isBlock():this.atBlockStart,this.atFlowStart=l.hasBox()?!l.beforeBox&&r:this.atFlowStart,l}encounteredTextNode(e){const t=this.lastBox();(this.atBlockStart||this.atFlowStart)&&t.hasBox()&&(Lr(e,kr(t.styleValue("white-space",Mt.normal).toString()))||(this.atBlockStart=!1,this.atFlowStart=!1))}pop(e){const t=this.stack.pop();if(t.buildAfterPseudoElementBox(e,this.atBlockStart,this.atFlowStart),this.atFlowStart&&t.afterBox){const e=t.afterBox.getBreakValue("before");t.flowChunk.breakBefore=ba(t.flowChunk.breakBefore,e)}const n=this.lastBox();if(n)if(n.flowName===t.flowName)t.hasBox()&&(this.atBlockStart=this.atFlowStart=!1);else{const e=this.atStartStack.pop();this.atBlockStart=e.atBlockStart,this.atFlowStart=e.atFlowStart}return t}nearestBlockStartOffset(e){if(!e.atBlockStart)return e.offset;let t=this.stack.length-1,n=this.stack[t];for(n===e&&(t--,n=this.stack[t]);t>=0;){if(n.flowName!==e.flowName)return e.offset;if(!n.atBlockStart)return n.offset;if(n.isRoot)return n.offset;e=n,n=this.stack[--t]}throw new Error("No block start offset found!")}}class sh{constructor(e,t,n,i,o,s,r,a){this.xmldoc=e,this.scope=n,this.context=i,this.primaryFlows=o,this.validatorSet=s,this.counterListener=r,this.rootStyle={},this.styleMap={},this.flows={},this.flowChunks=[],this.flowListener=null,this.flowToReach=null,this.idToReach=null,this.primary=!0,this.primaryStack=[],this.rootBackgroundAssigned=!1,this.rootLayoutAssigned=!1,this.breakBeforeValues={},this.bodyReached=!0,this.root=e.root,this.cascadeHolder=t,this.last=this.root,this.cascade=t.createInstance(i,r,a,e.lang),this.offsetMap=new nh;const l=e.getElementOffset(this.root);this.lastOffset=l,this.boxStack=new oh(i),this.offsetMap.addStuckRange(l);const h=this.getAttrStyle(this.root);switch(this.cascade.pushElement(this.root,h,l),this.postprocessTopStyle(h,!1),this.root.namespaceURI){case F.XHTML:case F.FB2:this.bodyReached=!1}this.primaryStack.push(!0),this.styleMap={},this.styleMap[`e${l}`]=h,this.lastOffset++,this.replayFlowElementsFromOffset(-1)}hasProp(e,t,n){const i=e[n];return i&&i.evaluate(this.context)!==t[n]}transferPropsToRoot(e,t){for(const n in t){const i=e[n];if(i)this.rootStyle[n]=i,delete e[n];else{const e=t[n];e&&(this.rootStyle[n]=new Co(e,33554432))}}}postprocessTopStyle(e,t){if(["writing-mode","direction"].forEach(n=>{!e[n]||t&&this.rootStyle[n]||(this.rootStyle[n]=e[n])}),!this.rootBackgroundAssigned){const t=this.hasProp(e,this.validatorSet.backgroundProps,"background-color")?e["background-color"].evaluate(this.context):null,n=this.hasProp(e,this.validatorSet.backgroundProps,"background-image")?e["background-image"].evaluate(this.context):null;(t&&t!==Mt.inherit||n&&n!==Mt.inherit)&&(this.transferPropsToRoot(e,this.validatorSet.backgroundProps),this.rootBackgroundAssigned=!0)}if(!this.rootLayoutAssigned)for(let t=0;t<rh.length;t++)if(this.hasProp(e,this.validatorSet.layoutProps,rh[t])){this.transferPropsToRoot(e,this.validatorSet.layoutProps),this.rootLayoutAssigned=!0;break}if(!t){const t=e["font-size"];if(t){const e=t.evaluate(this.context);let n=e.num;switch(e.unit){case"em":case"rem":n*=this.context.initialFontSize;break;case"ex":n*=this.context.initialFontSize*Pe.ex/Pe.em;break;case"%":n*=this.context.initialFontSize/100;break;default:{const t=Pe[e.unit];t&&(n*=t)}}this.context.rootFontSize=n}}}getTopContainerStyle(){let e=0;for(;!this.bodyReached&&(e+=5e3,this.styleUntil(e,0)!=Number.POSITIVE_INFINITY););return this.rootStyle}getAttrStyle(e){if(e.style instanceof CSSStyleDeclaration){const t=e.getAttribute("style");if(t)return function(e,t,n,i){const o=new $s(e,t),s=new li(i,o);try{!function(e,t,n){new eo(Ui,e,t,n).runParser(Number.POSITIVE_INFINITY,!1,!0,!1,!1)}(s,o,n)}catch(e){c.warn(e,"Style attribute parse error:")}return o.elementStyle}(this.scope,this.validatorSet,this.xmldoc.url,t)}return{}}getReachedOffset(){return this.lastOffset}replayFlowElementsFromOffset(e){if(e>=this.lastOffset)return;const t=this.context,n=this.xmldoc.getElementOffset(this.root);if(e<n){const e=this.getStyle(this.root,!1),i=Ro(e,"flow-into"),o=i?i.evaluate(t,"flow-into").toString():"body",s=this.encounteredFlowElement(o,e,this.root,n);this.boxStack.empty()&&this.boxStack.push(e,n,!0,s)}let i=this.xmldoc.getNodeByOffset(e),o=this.xmldoc.getNodeOffset(i,0,!1);if(!(o>=this.lastOffset))for(;;){if(1!=i.nodeType)o+=i.textContent.length;else{const e=i,n=this.getStyle(e,!1),s=n["flow-into"];if(s){const i=s.evaluate(t,"flow-into").toString();this.encounteredFlowElement(i,n,e,o)}o++}if(o>=this.lastOffset)break;let e=i.firstChild;if(null==e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,i===this.root)return;i=e}}resetFlowChunkStream(e){this.flowListener=e;for(let e=0;e<this.flowChunks.length;e++)this.flowListener.encounteredFlowChunk(this.flowChunks[e],this.flows[this.flowChunks[e].flowName])}styleUntilFlowIsReached(e){this.flowToReach=e;let t=0;for(;null!=this.flowToReach&&(t+=5e3,this.styleUntil(t,0)!=Number.POSITIVE_INFINITY););}styleUntilIdIsReached(e){if(!e)return;this.idToReach=e;let t=0;for(;this.idToReach&&(t+=5e3,this.styleUntil(t,0)!==Number.POSITIVE_INFINITY););this.idToReach=null}encounteredFlowElement(e,t,n,i){let o=0,s=Number.POSITIVE_INFINITY,r=!1,a=!1,l=!1;const h=t["flow-options"];if(h){const e=function(e){if(e){const t=new pn;try{return e.visit(t),t.propSet}catch(e){c.warn(e,"toSet:")}}return{}}(h.evaluate(this.context,"flow-options"));r=!!e.exclusive,a=!!e.static,l=!!e.last}const u=t["flow-linger"];u&&(s=gn(u.evaluate(this.context,"flow-linger"),Number.POSITIVE_INFINITY));const d=t["flow-priority"];d&&(o=gn(d.evaluate(this.context,"flow-priority"),0));const p=this.breakBeforeValues[i]||null;let f=this.flows[e];if(!f){const t=this.boxStack.lastFlowName();f=this.flows[e]=new Fr(e,t)}const g=new Dr(e,n,i,o,s,r,a,l,p);return this.flowChunks.push(g),this.flowToReach==e&&(this.flowToReach=null),this.flowListener&&this.flowListener.encounteredFlowChunk(g,f),g}registerForcedBreakOffset(e,t,n){if(fa(e)){const e=this.flows[n].forcedBreakOffsets;(0===e.length||e[e.length-1]<t)&&e.push(t)}const i=this.breakBeforeValues[t];this.breakBeforeValues[t]=ba(i,e)}styleUntil(e,t){let n,i=-1;if(e<=this.lastOffset&&(n=this.offsetMap.slippedByFixed(e),i=n+t,i<this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i);if(null==this.last)return Number.POSITIVE_INFINITY;const o=this.context;for(;;){let s=this.last.firstChild;if(null==s)for(;;){if(1==this.last.nodeType){this.cascade.popElement(this.last),this.primary=this.primaryStack.pop();const e=this.boxStack.pop(this.lastOffset);let t=null;if(e.afterBox){const n=e.afterBox.getBreakValue("before");this.registerForcedBreakOffset(n,e.afterBox.atBlockStart?this.boxStack.nearestBlockStartOffset(e):e.afterBox.offset,e.flowName),t=e.afterBox.getBreakValue("after")}t=ba(t,e.getBreakValue("after")),this.registerForcedBreakOffset(t,this.lastOffset,e.flowName)}if(s=this.last.nextSibling,s)break;if(this.last=this.last.parentNode,this.last===this.root)return this.last=null,e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped())?this.offsetMap.fixedBySlipped(i):Number.POSITIVE_INFINITY}if(this.last=s,1!=this.last.nodeType)this.lastOffset+=this.last.textContent.length,this.boxStack.encounteredTextNode(this.last),this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset);else{const s=this.last,r=this.getAttrStyle(s);this.primaryStack.push(this.primary),this.cascade.pushElement(s,r,this.lastOffset);const a=s.getAttribute("id")||s.getAttributeNS(F.XML,"id");let l;a&&a===this.idToReach&&(this.idToReach=null),this.bodyReached||"body"!=s.localName||s.parentNode!=this.root||(this.postprocessTopStyle(r,!0),this.bodyReached=!0);const h=r["flow-into"];if(h){const e=h.evaluate(o,"flow-into").toString(),t=this.encounteredFlowElement(e,r,s,this.lastOffset);this.primary=!!this.primaryFlows[e],l=this.boxStack.push(r,this.lastOffset,s===this.root,t)}else l=this.boxStack.push(r,this.lastOffset,s===this.root);const c=this.boxStack.nearestBlockStartOffset(l);if(this.registerForcedBreakOffset(l.breakBefore,c,l.flowName),l.beforeBox){const e=l.beforeBox.getBreakValue("after");this.registerForcedBreakOffset(e,l.beforeBox.atBlockStart?c:l.offset,l.flowName)}if(this.primary&&l.displayValue()===Mt.none&&(this.primary=!1),this.styleMap[`e${this.lastOffset}`]=r,this.lastOffset++,this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset),e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i)}}}getStyle(e,t){let n=this.xmldoc.getElementOffset(e);const i=`e${n}`;return t&&(n=this.xmldoc.getNodeOffset(e,0,!0)),this.lastOffset<=n&&this.styleUntil(n,0),this.styleMap[i]}processContent(e,t){}}const rh=["column-count","column-width","column-fill"];var ah;class lh{constructor(e){this.validator=e,this.success=null,this.failure=null,this.code=0}isSpecial(){return 0!=this.code}markAsStartGroup(){this.code=-1}isStartGroup(){return-1==this.code}markAsEndGroup(){this.code=-2}isEndGroup(){return-2==this.code}markAsStartAlternate(e){this.code=2*e+1}isStartAlternate(){return this.code>0&&this.code%2!=0}markAsEndAlternate(e){this.code=2*e+2}isEndAlternate(){return this.code>0&&this.code%2==0}getAlternate(){return Math.floor((this.code-1)/2)}}class hh{constructor(e,t){this.where=e,this.success=t,this.what=-1}}!function(e){e[e.FOLLOW=1]="FOLLOW",e[e.OPTIONAL=2]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.ALTERNATE=4]="ALTERNATE"}(ah||(ah={}));class ch{constructor(){this.nodes=[],this.connections=[],this.match=[],this.nomatch=[],this.error=[],this.emptyHead=!0}connect(e,t){for(let n=0;n<e.length;n++)this.connections[e[n]].what=t;e.splice(0,e.length)}clone(){const e=new ch;for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t],i=new lh(n.validator);i.code=n.code,e.nodes.push(i)}for(let t=0;t<this.connections.length;t++){const n=this.connections[t],i=new hh(n.where,n.success);i.what=n.what,e.connections.push(i)}return e.match.push(...this.match),e.nomatch.push(...this.nomatch),e.error.push(...this.error),e}addSpecialToArr(e,t,n){const i=this.nodes.length,o=new lh(fh);n>=0?t?o.markAsStartAlternate(n):o.markAsEndAlternate(n):t?o.markAsStartGroup():o.markAsEndGroup(),this.nodes.push(o),this.connect(e,i);const s=new hh(i,!0),r=new hh(i,!1);e.push(this.connections.length),this.connections.push(r),e.push(this.connections.length),this.connections.push(s)}endSpecialGroup(){const e=[this.match,this.nomatch,this.error];for(let t=0;t<e.length;t++)this.addSpecialToArr(e[t],!1,-1)}startSpecialGroup(){if(this.nodes.length)throw new Error("invalid call");this.addSpecialToArr(this.match,!0,-1)}endClause(e){this.addSpecialToArr(this.match,!1,e)}startClause(e){if(this.nodes.length)throw new Error("invalid call");const t=new lh(fh);t.markAsStartAlternate(e),this.nodes.push(t);const n=new hh(0,!0),i=new hh(0,!1);this.nomatch.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}addPrimitive(e){const t=this.nodes.length;this.nodes.push(new lh(e));const n=new hh(t,!0),i=new hh(t,!1);this.connect(this.match,t),this.emptyHead?(this.nomatch.push(this.connections.length),this.emptyHead=!1):this.error.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}isSimple(){return 1==this.nodes.length&&!this.nodes[0].isSpecial()}isPrimitive(){return this.isSimple()&&this.nodes[0].validator instanceof dh}addGroup(e,t){if(0==e.nodes.length)return;const n=this.nodes.length;if(t==ah.ALTERNATE&&1==n&&e.isPrimitive()&&this.isPrimitive())return void(this.nodes[0].validator=this.nodes[0].validator.combine(e.nodes[0].validator));for(let t=0;t<e.nodes.length;t++)this.nodes.push(e.nodes[t]);t==ah.ALTERNATE?(this.emptyHead=!0,this.connect(this.nomatch,n)):this.connect(this.match,n);const i=this.connections.length;for(let t=0;t<e.connections.length;t++){const i=e.connections[t];i.where+=n,i.what>=0&&(i.what+=n),this.connections.push(i)}for(let t=0;t<e.match.length;t++)this.match.push(e.match[t]+i);if(t==ah.REPEATED&&this.connect(this.match,n),t==ah.OPTIONAL||t==ah.REPEATED)for(let t=0;t<e.nomatch.length;t++)this.match.push(e.nomatch[t]+i);else if(this.emptyHead){for(let t=0;t<e.nomatch.length;t++)this.nomatch.push(e.nomatch[t]+i);this.emptyHead=e.emptyHead}else for(let t=0;t<e.nomatch.length;t++)this.error.push(e.nomatch[t]+i);for(let t=0;t<e.error.length;t++)this.error.push(e.error[t]+i);e.nodes=null,e.connections=null}finish(e,t){const n=this.nodes.length;this.nodes.push(e),this.nodes.push(t),this.connect(this.match,n),this.connect(this.nomatch,n+1),this.connect(this.error,n+1);for(const e of this.connections)e.success?this.nodes[e.where].success=this.nodes[e.what]:this.nodes[e.where].failure=this.nodes[e.what];for(let e=0;e<n;e++)if(null==this.nodes[e].failure||null==this.nodes[e].success)throw new Error("Invalid validator state");return this.nodes[0]}}class uh extends gt{constructor(){super()}validateForShorthand(e,t){const n=e[t].visit(this);return n?[n]:null}}class dh extends uh{constructor(e,t,n){super(),this.allowed=e,this.idents=t,this.units=n}visitEmpty(e){return 1&this.allowed?e:null}visitSlash(e){return 2048&this.allowed?e:null}visitStr(e){return 2&this.allowed?e:null}visitIdent(e){return this.idents[e.name.toLowerCase()]||(4&this.allowed?e:null)}visitNumeric(e){return 0!=e.num||512&this.allowed?e.num<0&&!(256&this.allowed)?null:this.units[e.unit]?e:null:"%"==e.unit&&1024&this.allowed?e:null}visitNum(e){return 0==e.num?512&this.allowed?e:null:e.num<=0&&!(256&this.allowed)?null:16&this.allowed?e:null}visitInt(e){if(0==e.num)return 512&this.allowed?e:null;if(e.num<=0&&!(256&this.allowed))return null;if(48&this.allowed)return e;return this.idents[`${e.num}`]||null}visitColor(e){return 64&this.allowed?e:null}visitURL(e){return 128&this.allowed?e:null}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return null}visitExpr(e){return 2046&this.allowed?e:null}combine(e){const t={},n={};for(const e in this.idents)t[e]=this.idents[e];for(const n in e.idents)t[n]=e.idents[n];for(const e in this.units)n[e]=this.units[e];for(const t in e.units)n[t]=e.units[t];return new dh(this.allowed|e.allowed,t,n)}}const ph={},fh=new dh(0,ph,ph);class gh extends uh{constructor(e){super(),this.successTerminal=new lh(null),this.failureTerminal=new lh(null),this.first=e.finish(this.successTerminal,this.failureTerminal)}validateList(e,t,n){let i=t?[]:e,o=this.first,s=n,r=null,a=null;for(;o!==this.successTerminal&&o!==this.failureTerminal;){if(s>=e.length){o=o.failure;continue}const l=e[s];let h=l;if(o.isSpecial()){let e=!0;o.isStartGroup()?(r?r.push(a):r=[a],a=[]):o.isEndGroup()?a=r.length>0?r.pop():null:o.isEndAlternate()?a[o.getAlternate()]="taken":e=null==a[o.getAlternate()],o=e?o.success:o.failure}else{if(0==s&&!t&&o.validator instanceof mh&&this instanceof mh){if(h=new kt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else if(0==s&&!t&&o.validator instanceof bh&&this instanceof mh){if(h=new Lt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else h=l.visit(o.validator);if(!h){o=o.failure;continue}if(h!==l&&e===i){i=[];for(let t=0;t<s;t++)i[t]=e[t]}e!==i&&(i[s-n]=h),s++,o=o.success}}return o===this.successTerminal&&(t?i.length>0:s==e.length)?i:null}validateSingle(e){let t=null,n=this.first;for(;n!==this.successTerminal&&n!==this.failureTerminal;)e?n.isSpecial()?n=n.success:(t=e.visit(n.validator),t?(e=null,n=n.success):n=n.failure):n=n.failure;return n===this.successTerminal?t:null}visitEmpty(e){return this.validateSingle(e)}visitSlash(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return null}}class mh extends gh{constructor(e){super(e)}visitSpaceList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new kt(t):null}visitCommaList(e){let t=this.first,n=!1;for(;t;){if(t.validator instanceof bh){n=!0;break}t=t.failure}if(n){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}return null}validateForShorthand(e,t){return this.validateList(e,!0,t)}}class bh extends gh{constructor(e){super(e)}visitSpaceList(e){return this.validateSingle(e)}visitCommaList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}validateForShorthand(e,t){let n,i=this.first;for(;i!==this.failureTerminal;){if(n=i.validator.validateForShorthand(e,t),n)return n;i=i.failure}return null}}class wh extends gh{constructor(e,t){super(t),this.name=e}validateSingle(e){return null}visitFunc(e){if(e.name.toLowerCase()!=this.name)return null;const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Ft(e.name,t):null}}class Eh{tryParse(e,t,n){return t}success(e,t){}}class yh extends Eh{constructor(e,t){super(),this.name=t,this.validator=e.validators[this.name]}tryParse(e,t,n){if(n.values[this.name])return t;const i=this.validator.validateForShorthand(e,t);if(i){const e=i.length,o=e>1?new kt(i):i[0];return this.success(o,n),t+e}return t}success(e,t){t.values[this.name]=e}}class Sh extends yh{constructor(e,t){super(e,t[0]),this.names=t}success(e,t){for(let n=0;n<this.names.length;n++)t.values[this.names[n]]=e}}class Nh extends Eh{constructor(e,t){super(),this.nodes=e,this.slash=t}tryParse(e,t,n){const i=t;if(this.slash){if(e[t]!=St)return i;if(++t==e.length)return i}let o=this.nodes[0].tryParse(e,t,n);if(o==t)return i;t=o;for(let i=1;i<this.nodes.length&&t<e.length&&(o=this.nodes[i].tryParse(e,t,n),o!=t);i++)t=o;return t}}class vh extends gt{constructor(){super(...arguments),this.syntax=null,this.propList=null,this.error=!1,this.values={},this.validatorSet=null}setOwner(e){this.validatorSet=e}syntaxNodeForProperty(e){return new yh(this.validatorSet,e)}clone(){const e=new this.constructor;return e.syntax=this.syntax,e.propList=this.propList,e.validatorSet=this.validatorSet,e}init(e,t){this.syntax=e,this.propList=t}finish(e,t){if(!this.error){for(const n of this.propList)t.simpleProperty(n,this.values[n]||this.validatorSet.defaultValues[n],e);return!0}return!1}propagateInherit(e,t){for(const n of this.propList)t.simpleProperty(n,Mt.inherit,e)}validateList(e){return this.error=!0,0}validateSingle(e){return this.validateList([e]),null}visitEmpty(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return this.validateList(e.values),null}visitCommaList(e){return this.error=!0,null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return this.error=!0,null}}class Ch extends vh{constructor(){super()}validateList(e){let t=0,n=0;for(;t<e.length;){const i=this.syntax[n].tryParse(e,t,this);if(i>t)t=i,n=0;else if(++n==this.syntax.length){this.error=!0;break}}return t}}class Th extends vh{constructor(){super()}validateList(e){if(e.length>this.syntax.length||0==e.length)return this.error=!0,0;for(let t=0;t<this.syntax.length;t++){let n=t;for(;n>=e.length;)n=1==n?0:n-2;if(this.syntax[t].tryParse(e,n,this)!=n+1)return this.error=!0,0}return e.length}createSyntaxNode(){return new Sh(this.validatorSet,this.propList)}}const xh={SIMPLE:Ch,INSETS:Th,INSETS_SLASH:class extends vh{constructor(){super()}validateList(e){let t=e.length;for(let n=0;n<e.length;n++)if(e[n]===St){t=n;break}if(t>this.syntax.length||0==e.length)return this.error=!0,0;for(let n=0;n<this.syntax.length;n++){let i,o=n;for(;o>=t;)o=1==o?0:o-2;if(t+1<e.length)for(i=t+n+1;i>=e.length;)i-=i==t+2?1:2;else i=o;const s=[e[o],e[i]];if(2!=this.syntax[n].tryParse(s,0,this))return this.error=!0,0}return e.length}},COMMA:class extends Ch{constructor(){super()}mergeIn(e,t){for(const n of this.propList){const i=t[n]||this.validatorSet.defaultValues[n];let o=e[n];o||(o=[],e[n]=o),o.push(i)}}visitCommaList(e){const t={};for(let n=0;n<e.values.length;n++)if(this.values={},e.values[n]instanceof Lt?this.error=!0:(e.values[n].visit(this),this.mergeIn(t,this.values),this.values["background-color"]&&n!=e.values.length-1&&(this.error=!0)),this.error)return null;this.values={};for(const e in t)this.values[e]="background-color"==e?t[e].pop():new Lt(t[e]);return null}},FONT:class extends Ch{constructor(){super()}init(e,t){super.init(e,t),this.propList.push("font-family","line-height","font-size")}validateList(e){let t=super.validateList(e);if(t+2>e.length)return this.error=!0,t;this.error=!1;const n=this.validatorSet.validators;if(!e[t].visit(n["font-size"]))return this.error=!0,t;if(this.values["font-size"]=e[t++],e[t]===St){if(t++,t+2>e.length)return this.error=!0,t;if(!e[t].visit(n["line-height"]))return this.error=!0,t;this.values["line-height"]=e[t++]}const i=t==e.length-1?e[t]:new kt(e.slice(t,e.length));return i.visit(n["font-family"])?(this.values["font-family"]=i,e.length):(this.error=!0,t)}visitCommaList(e){if(e.values[0].visit(this),this.error)return null;const t=[this.values["font-family"]];for(let n=1;n<e.values.length;n++)t.push(e.values[n]);const n=new Lt(t);return n.visit(this.validatorSet.validators["font-family"])?this.values["font-family"]=n:this.error=!0,null}visitIdent(e){const t=this.validatorSet.systemFonts[e.name];if(t)for(const e in t)this.values[e]=t[e];else this.error=!0;return null}}};class Ih{constructor(){this.validators={},this.prefixes={},this.defaultValues={},this.namedValidators={},this.systemFonts={},this.shorthands={},this.layoutProps={},this.backgroundProps={}}addReplacement(e,t){let n;if(t.type==On.NUMERIC)n=new xt(t.num,t.text);else if(t.type==On.HASH)n=Li(t.text);else{if(t.type!=On.IDENT)throw new Error("unexpected replacement");n=Tt(t.text)}if(e.isPrimitive()){const t=e.nodes[0].validator.idents;for(const e in t)t[e]=n;return e}throw new Error("unexpected replacement")}newGroup(e,t){const n=new ch;if("||"==e){for(let e=0;e<t.length;e++){const i=new ch;i.startClause(e),i.addGroup(t[e],ah.FOLLOW),i.endClause(e),n.addGroup(i,0==e?ah.FOLLOW:ah.ALTERNATE)}const e=new ch;return e.startSpecialGroup(),e.addGroup(n,ah.REPEATED),e.endSpecialGroup(),e}{let i;switch(e){case" ":i=ah.FOLLOW;break;case"|":case"||":i=ah.ALTERNATE;break;default:throw new Error("unexpected op")}for(let e=0;e<t.length;e++)n.addGroup(t[e],0==e?ah.FOLLOW:i);return n}}addCounts(e,t,n){const i=new ch;for(let n=0;n<t;n++)i.addGroup(e.clone(),ah.FOLLOW);if(n==Number.POSITIVE_INFINITY)i.addGroup(e,ah.REPEATED);else for(let o=t;o<n;o++)i.addGroup(e.clone(),ah.OPTIONAL);return i}primitive(e){const t=new ch;return t.addPrimitive(e),t}newFunc(e,t){let n;switch(e){case"COMMA":n=new bh(t);break;case"SPACE":n=new mh(t);break;default:n=new wh(e.toLowerCase(),t)}return this.primitive(n)}initBuiltInValidators(){this.namedValidators.HASHCOLOR=this.primitive(new dh(64,ph,ph)),this.namedValidators.POS_INT=this.primitive(new dh(32,ph,ph)),this.namedValidators.POS_NUM=this.primitive(new dh(16,ph,ph)),this.namedValidators.POS_PERCENTAGE=this.primitive(new dh(8,ph,{"%":Et})),this.namedValidators.NEGATIVE=this.primitive(new dh(256,ph,ph)),this.namedValidators.ZERO=this.primitive(new dh(512,ph,ph)),this.namedValidators.ZERO_PERCENTAGE=this.primitive(new dh(1024,ph,ph)),this.namedValidators.POS_LENGTH=this.primitive(new dh(8,ph,{em:Et,ex:Et,ch:Et,rem:Et,vw:Et,vh:Et,vi:Et,vb:Et,vmin:Et,vmax:Et,pvw:Et,pvh:Et,pvi:Et,pvb:Et,pvmin:Et,pvmax:Et,cm:Et,mm:Et,in:Et,px:Et,pt:Et,pc:Et,q:Et})),this.namedValidators.POS_ANGLE=this.primitive(new dh(8,ph,{deg:Et,grad:Et,rad:Et,turn:Et})),this.namedValidators.POS_TIME=this.primitive(new dh(8,ph,{s:Et,ms:Et})),this.namedValidators.FREQUENCY=this.primitive(new dh(8,ph,{Hz:Et,kHz:Et})),this.namedValidators.RESOLUTION=this.primitive(new dh(8,ph,{dpi:Et,dpcm:Et,dppx:Et})),this.namedValidators.URI=this.primitive(new dh(128,ph,ph)),this.namedValidators.IDENT=this.primitive(new dh(4,ph,ph)),this.namedValidators.STRING=this.primitive(new dh(2,ph,ph)),this.namedValidators.SLASH=this.primitive(new dh(2048,ph,ph));const e={"font-family":Tt("sans-serif")};this.systemFonts.caption=e,this.systemFonts.icon=e,this.systemFonts.menu=e,this.systemFonts["message-box"]=e,this.systemFonts["small-caption"]=e,this.systemFonts["status-bar"]=e}isBuiltIn(e){return!!e.match(/^[A-Z_0-9]+$/)}readNameAndPrefixes(e,t){let n=e.token();if(n.type==On.EOF)return null;const i={"":!0};if(n.type==On.O_BRK){do{if(e.consume(),n=e.token(),n.type!=On.IDENT)throw new Error("Prefix name expected");i[n.text]=!0,e.consume(),n=e.token()}while(n.type==On.COMMA);if(n.type!=On.C_BRK)throw new Error("']' expected");e.consume(),n=e.token()}if(n.type!=On.IDENT)throw new Error("Property name expected");if(2==t?"SHORTHANDS"==n.text:"DEFAULTS"==n.text)return e.consume(),null;const o=n.text;if(e.consume(),2!=t){if(e.token().type!=On.EQ)throw new Error("'=' expected");this.isBuiltIn(o)||(this.prefixes[o]=i)}else if(e.token().type!=On.COLON)throw new Error("':' expected");return o}parseValidators(e){for(;;){const t=this.readNameAndPrefixes(e,1);if(!t)return;let n=[];const i=[];let o,s="",r=!0;const a=this,l=()=>{if(0==n.length)throw new Error("No values");return 1==n.length?n[0]:a.newGroup(s,n)},h=e=>{if(r)throw new Error(`'${e}': unexpected`);if(s&&s!=e)throw new Error(`mixed operators: '${e}' and '${s}'`);s=e,r=!0};let c=null;for(;!c;){e.consume();let t=e.token();switch(t.type){case On.IDENT:if(r||h(" "),this.isBuiltIn(t.text)){const e=this.namedValidators[t.text];if(!e)throw new Error(`'${t.text}' unexpected`);n.push(e.clone())}else{const e={};e[t.text.toLowerCase()]=Tt(t.text),n.push(this.primitive(new dh(0,e,ph)))}r=!1;break;case On.INT:{const e={};e[`${t.num}`]=new Pt(t.num),n.push(this.primitive(new dh(0,e,ph))),r=!1;break}case On.BAR:h("|");break;case On.BAR_BAR:h("||");break;case On.O_BRK:r||h(" "),i.push({vals:n,op:s,b:"["}),s="",n=[],r=!0;break;case On.FUNC:r||h(" "),i.push({vals:n,op:s,b:"(",fn:t.text}),s="",n=[],r=!0;break;case On.C_BRK:{o=l();const e=i.pop();if("["!=e.b)throw new Error("']' unexpected");n=e.vals,n.push(o),s=e.op,r=!1;break}case On.C_PAR:{o=l();const e=i.pop();if("("!=e.b)throw new Error("')' unexpected");n=e.vals,n.push(this.newFunc(e.fn,o)),s=e.op,r=!1;break}case On.COLON:if(r)throw new Error("':' unexpected");e.consume(),n.push(this.addReplacement(n.pop(),e.token()));break;case On.QMARK:if(r)throw new Error("'?' unexpected");n.push(this.addCounts(n.pop(),0,1));break;case On.STAR:if(r)throw new Error("'*' unexpected");n.push(this.addCounts(n.pop(),0,Number.POSITIVE_INFINITY));break;case On.PLUS:if(r)throw new Error("'+' unexpected");n.push(this.addCounts(n.pop(),1,Number.POSITIVE_INFINITY));break;case On.O_BRC:{if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");const i=t.num;let o=i;if(e.consume(),t=e.token(),t.type==On.COMMA){if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");o=t.num,e.consume(),t=e.token()}if(t.type!=On.C_BRC)throw new Error("'}' expected");n.push(this.addCounts(n.pop(),i,o));break}case On.SEMICOL:if(c=l(),i.length>0)throw new Error(`unclosed '${i.pop().b}'`);break;default:throw new Error("unexpected token")}}e.consume(),this.isBuiltIn(t)?this.namedValidators[t]=c:c.isSimple()?this.validators[t]=c.nodes[0].validator:this.validators[t]=new mh(c)}}parseDefaults(e){for(;;){const t=this.readNameAndPrefixes(e,2);if(!t)return;const n=[];for(;;){e.consume();const t=e.token();if(t.type==On.SEMICOL){e.consume();break}switch(t.type){case On.IDENT:n.push(Tt(t.text));break;case On.NUM:n.push(new It(t.num));break;case On.INT:n.push(new Pt(t.num));break;case On.NUMERIC:n.push(new xt(t.num,t.text));break;default:throw new Error("unexpected token")}}this.defaultValues[t]=n.length>1?new kt(n):n[0]}}parseShorthands(e){for(;;){const t=this.readNameAndPrefixes(e,3);if(!t)return;let n,i=e.nthToken(1);i.type==On.IDENT&&xh[i.text]?(n=new xh[i.text],e.consume()):n=new Ch,n.setOwner(this);let o=!1,s=[],r=!1;const a=[],l=[];for(;!o;)switch(e.consume(),i=e.token(),i.type){case On.IDENT:if(this.validators[i.text])s.push(n.syntaxNodeForProperty(i.text)),l.push(i.text);else{if(!(this.shorthands[i.text]instanceof Th))throw new Error(`'${i.text}' is neither a simple property nor an inset shorthand`);{const e=this.shorthands[i.text];s.push(e.createSyntaxNode()),l.push(...e.propList)}}break;case On.SLASH:if(s.length>0||r)throw new Error("unexpected slash");r=!0;break;case On.O_BRK:a.push({slash:r,syntax:s}),s=[],r=!1;break;case On.C_BRK:{const e=new Nh(s,r),t=a.pop();s=t.syntax,r=t.slash,s.push(e);break}case On.SEMICOL:o=!0,e.consume();break;default:throw new Error("unexpected token")}n.init(s,l),this.shorthands[t]=n}}parse(e){const t=new li(e,null);this.parseValidators(t),this.parseDefaults(t),this.parseShorthands(t),this.backgroundProps=this.makePropSet(["background"]),this.layoutProps=this.makePropSet(["margin","border","padding","columns","column-gap","column-rule","column-fill"])}makePropSet(e){const t={};for(const n of e){const e=this.shorthands[n],i=e?e.propList:[n];for(const e of i){const n=this.defaultValues[e];n?t[e]=n:c.warn("Unknown property in makePropSet:",e)}}return t}validatePropertyAndHandleShorthand(e,t,n,i){let o="";const s=e,r=(e=e.toLowerCase()).match(/^-([a-z]+)-([-a-z0-9]+)$/);r&&(o=r[1],e=r[2]);const a=this.prefixes[e];if(!a||!a[o])return void i.unknownProperty(s,t);const l=this.validators[e];if(l){const o=t===Mt.inherit||t.isExpr()?t:t.visit(l);o?i.simpleProperty(e,o,n):i.invalidPropertyValue(s,t)}else{const o=this.shorthands[e].clone();t===Mt.inherit?o.propagateInherit(n,i):(t.visit(o),o.finish(n,i)||i.invalidPropertyValue(s,t))}}}function Ph(){const e=new Ih;return e.initBuiltInValidators(),e.parse("/*\n * Copyright 2013 Google, Inc.\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * CSS property validation.\n */\nNUM = POS_NUM | ZERO | NEGATIVE;\nNNEG_NUM = POS_NUM | ZERO;\nINT = POS_INT | ZERO | NEGATIVE;\nNNEG_INT = POS_INT | ZERO;\nPERCENTAGE = POS_PERCENTAGE | ZERO | NEGATIVE;\nSTRICT_PERCENTAGE = POS_PERCENTAGE | ZERO_PERCENTAGE | NEGATIVE;\nNNEG_PERCENTAGE = POS_PERCENTAGE | ZERO;\nLENGTH = POS_LENGTH | ZERO | NEGATIVE;\nNNEG_LENGTH = POS_LENGTH | ZERO | NEGATIVE;\nPLENGTH = LENGTH | PERCENTAGE;\nPPLENGTH = POS_LENGTH | ZERO | POS_PERCENTAGE;\nALENGTH = LENGTH | auto;\nAPLENGTH = PLENGTH | auto;\nPAPLENGTH = PPLENGTH | auto;\nANGLE = POS_ANGLE | ZERO | NEGATIVE;\nLENGTH_OR_NUM = LENGTH | NUM;\nANGLE_OR_NUM = ANGLE | NUM;\nSCOLOR = HASHCOLOR | aliceblue: #F0F8FF | antiquewhite: #FAEBD7 | aqua: #00FFFF | aquamarine: #7FFFD4 | azure: #F0FFFF |\n    beige: #F5F5DC | bisque: #FFE4C4 | black: #000000 | blanchedalmond: #FFEBCD | blue: #0000FF | blueviolet: #8A2BE2 | brown: #A52A2A |\n    burlywood: #DEB887 | cadetblue: #5F9EA0 | chartreuse: #7FFF00 | chocolate: #D2691E | coral: #FF7F50 | cornflowerblue: #6495ED |\n    cornsilk: #FFF8DC | crimson: #DC143C | cyan: #00FFFF | darkblue: #00008B | darkcyan: #008B8B | darkgoldenrod: #B8860B |\n    darkgray: #A9A9A9 | darkgreen: #006400 | darkgrey: #A9A9A9 | darkkhaki: #BDB76B | darkmagenta: #8B008B | darkolivegreen: #556B2F |\n    darkorange: #FF8C00 | darkorchid: #9932CC | darkred: #8B0000 | darksalmon: #E9967A | darkseagreen: #8FBC8F | darkslateblue: #483D8B |\n    darkslategray: #2F4F4F | darkslategrey: #2F4F4F | darkturquoise: #00CED1 | darkviolet: #9400D3 | deeppink: #FF1493 |\n    deepskyblue: #00BFFF | dimgray: #696969 | dimgrey: #696969 | dodgerblue: #1E90FF | firebrick: #B22222 | floralwhite: #FFFAF0 |\n    forestgreen: #228B22 | fuchsia: #FF00FF | gainsboro: #DCDCDC | ghostwhite: #F8F8FF | gold: #FFD700 | goldenrod: #DAA520 |\n    gray: #808080 | green: #008000 | greenyellow: #ADFF2F | grey: #808080 | honeydew: #F0FFF0 | hotpink: #FF69B4 | indianred: #CD5C5C |\n    indigo: #4B0082 | ivory: #FFFFF0 | khaki: #F0E68C | lavender: #E6E6FA | lavenderblush: #FFF0F5 | lawngreen: #7CFC00 |\n    lemonchiffon: #FFFACD | lightblue: #ADD8E6 | lightcoral: #F08080 | lightcyan: #E0FFFF | lightgoldenrodyellow: #FAFAD2 |\n    lightgray: #D3D3D3 | lightgreen: #90EE90 | lightgrey: #D3D3D3 | lightpink: #FFB6C1 | lightsalmon: #FFA07A | lightseagreen: #20B2AA |\n    lightskyblue: #87CEFA | lightslategray: #778899 | lightslategrey: #778899 | lightsteelblue: #B0C4DE | lightyellow: #FFFFE0 |\n    lime: #00FF00 | limegreen: #32CD32 | linen: #FAF0E6 | magenta: #FF00FF | maroon: #800000 | mediumaquamarine: #66CDAA |\n    mediumblue: #0000CD | mediumorchid: #BA55D3 | mediumpurple: #9370DB | mediumseagreen: #3CB371 | mediumslateblue: #7B68EE |\n    mediumspringgreen: #00FA9A | mediumturquoise: #48D1CC | mediumvioletred: #C71585 | midnightblue: #191970 | mintcream: #F5FFFA |\n    mistyrose: #FFE4E1 | moccasin: #FFE4B5 | navajowhite: #FFDEAD | navy: #000080 | oldlace: #FDF5E6 | olive: #808000 |\n    olivedrab: #6B8E23 | orange: #FFA500 | orangered: #FF4500 | orchid: #DA70D6 | palegoldenrod: #EEE8AA | palegreen: #98FB98 |\n    paleturquoise: #AFEEEE | palevioletred: #DB7093 | papayawhip: #FFEFD5 | peachpuff: #FFDAB9 | peru: #CD853F | pink: #FFC0CB |\n    plum: #DDA0DD | powderblue: #B0E0E6 | purple: #800080 | rebeccapurple: #663399 | red: #FF0000 | rosybrown: #BC8F8F | royalblue: #4169E1 |\n    saddlebrown: #8B4513 | salmon: #FA8072 | sandybrown: #F4A460 | seagreen: #2E8B57 | seashell: #FFF5EE | sienna: #A0522D |\n    silver: #C0C0C0 | skyblue: #87CEEB | slateblue: #6A5ACD | slategray: #708090 | slategrey: #708090 | snow: #FFFAFA |\n    springgreen: #00FF7F | steelblue: #4682B4 | tan: #D2B48C | teal: #008080 | thistle: #D8BFD8 | tomato: #FF6347 |\n    turquoise: #40E0D0 | violet: #EE82EE | wheat: #F5DEB3 | white: #FFFFFF | whitesmoke: #F5F5F5 | yellow: #FFFF00 |\n    yellowgreen: #9ACD32 | transparent | currentcolor;\nRGBCOLOR = rgb(INT{3}) | rgb(STRICT_PERCENTAGE{3});\nRGBACOLOR = rgba(NUM{4}) | rgba(STRICT_PERCENTAGE{3} NUM);\nHSLCOLOR = hsl(NUM PERCENTAGE{2});\nHSLACOLOR = hsl(NUM PERCENTAGE{2} NUM);\nCOLOR = SCOLOR | RGBCOLOR | RGBACOLOR | HSLCOLOR | HSLACOLOR;\nBG_POSITION_TERM = PLENGTH | left | center | right | top | bottom;\nSIDE_OR_CORNER =  [left | right] || [top | bottom];\nCOLOR_STOP = SPACE(COLOR [PERCENTAGE | LENGTH]?);\nLINEAR_GRADIENT = linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |\n                  repeating-linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |;\nGRADIENT_EXTENT = closest-corner | closest-side | farthest-corner | farthest-side;\nGRADIENT_POSITION = at BG_POSITION_TERM{1,4};\nGRADIENT_SHAPE = SPACE(circle LENGTH? GRADIENT_POSITION?) | SPACE(ellipse PLENGTH{2}? GRADIENT_POSITION?)| SPACE([circle | ellipse] GRADIENT_EXTENT? GRADIENT_POSITION?);\nRADIAL_GRADIENT = radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+) |\n                  repeating-radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+);\nURI_OR_NONE = URI | none;\nIMAGE =  URI | LINEAR_GRADIENT | RADIAL_GRADIENT | none;\nazimuth = ANGLE | [[ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards;\nbackground-attachment = COMMA( [scroll | fixed | local]+ );\nbackground-color = COLOR;\nbackground-image = COMMA( IMAGE+ );\nbackground-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\nbackground-repeat = COMMA( [repeat | repeat-x | repeat-y | no-repeat]+ );\nborder-collapse = collapse | separate;\nBORDER_SIDE_COLOR = COLOR;\nBORDER_SIDE_STYLE = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset;\nBORDER_SIDE_WIDTH = thin: 1px | medium: 3px | thick: 5px | NNEG_LENGTH;\nborder-spacing = LENGTH LENGTH?;\nborder-top-color = BORDER_SIDE_COLOR;\nborder-right-color = BORDER_SIDE_COLOR;\nborder-bottom-color = BORDER_SIDE_COLOR;\nborder-left-color = BORDER_SIDE_COLOR;\nborder-top-style = BORDER_SIDE_STYLE;\nborder-right-style = BORDER_SIDE_STYLE;\nborder-bottom-style = BORDER_SIDE_STYLE;\nborder-left-style = BORDER_SIDE_STYLE;\nborder-top-width = BORDER_SIDE_WIDTH;\nborder-right-width = BORDER_SIDE_WIDTH;\nborder-bottom-width = BORDER_SIDE_WIDTH;\nborder-left-width = BORDER_SIDE_WIDTH;\nBORDER_RADIUS = PLENGTH{1,2};\nborder-top-left-radius = BORDER_RADIUS;\nborder-top-right-radius = BORDER_RADIUS;\nborder-bottom-right-radius = BORDER_RADIUS;\nborder-bottom-left-radius = BORDER_RADIUS;\nborder-image-source = IMAGE;\nborder-image-slice = [NUM | PERCENTAGE]{1,4} || fill; /* relaxed */\nborder-image-width = [NUM | PLENGTH | auto]{1,4};\nborder-image-outset = [NUM | LENGTH]{1,4};\nborder-image-repeat = [ stretch | repeat | round | space ]{1,2};\nbottom = APLENGTH;\ncaption-side = top | bottom;\nclear = none | left | right | top | bottom | both | all | same;\nclip = rect(ALENGTH{4}) | rect(SPACE(ALENGTH{4})) | auto;\ncolor = COLOR;\nLIST_STYLE_TYPE = disc | circle | square | decimal | decimal-leading-zero | lower-roman |\n    upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha |\n    upper-alpha | russian | upper-russian | lower-russian | cjk-ideographic | trad-chinese-informal |\n    hebrew | none;\nTYPE_OR_UNIT_IN_ATTR = string | color | url | integer | number | length | angle | time | frequency;\nATTR = attr(SPACE(IDENT TYPE_OR_UNIT_IN_ATTR?) [ STRING | IDENT | COLOR | INT | NUM | PLENGTH | ANGLE | POS_TIME | FREQUENCY]?);\nCONTENT = normal | none |\n    [ STRING | URI | counter(IDENT LIST_STYLE_TYPE?) |\n    counters(IDENT STRING LIST_STYLE_TYPE?) | ATTR |\n    target-counter([ STRING | URI ] IDENT LIST_STYLE_TYPE?) |\n    target-counter(ATTR IDENT LIST_STYLE_TYPE?) |\n    target-counters([ STRING | URI ] IDENT STRING LIST_STYLE_TYPE?) |\n    target-counters(ATTR IDENT STRING LIST_STYLE_TYPE?) |\n    open-quote | close-quote | no-open-quote | no-close-quote ]+;\ncontent = CONTENT;\nCOUNTER = [ IDENT INT? ]+ | none;\ncounter-increment = COUNTER;\ncounter-reset = COUNTER;\ncounter-set = COUNTER;\ncue-after = URI_OR_NONE;\ncue-before = URI_OR_NONE;\ncursor = COMMA(URI* [ auto | crosshair | default | pointer | move | e-resize | ne-resize | nw-resize |\n    n-resize | se-resize | sw-resize | s-resize | w-resize | text | wait | help | progress ]);\ndirection = ltr | rtl;\ndisplay = inline | block | list-item | inline-block | table | inline-table | table-row-group |\n    table-header-group | table-footer-group | table-row | table-column-group | table-column |\n    table-cell | table-caption | none | oeb-page-head | oeb-page-foot | flex | inline-flex |\n    ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | run-in | compact | marker;\nelevation = ANGLE | below | level | above | higher | lower;\nempty-cells = show | hide;\nFAMILY = SPACE(IDENT+) | STRING;\nFAMILY_LIST = COMMA( FAMILY+ );\nfont-family = FAMILY_LIST;\nfont-size = xx-small | x-small | small | medium | large | x-large | xx-large | larger | smaller | PPLENGTH | POS_NUM;\nfont-style = normal | italic | oblique;\nfont-variant = normal | small-caps;\nfont-weight = normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\nheight = PAPLENGTH | POS_NUM ;\nleft = APLENGTH;\nletter-spacing = normal | LENGTH_OR_NUM;\nline-height = normal | POS_NUM | PPLENGTH;\nlist-style-image = IMAGE;\nlist-style-position = inside | outside;\nlist-style-type = LIST_STYLE_TYPE;\nmargin-right = APLENGTH;\nmargin-left = APLENGTH;\nmargin-top = APLENGTH;\nmargin-bottom = APLENGTH;\nNPLENGTH = none | PLENGTH;\nmax-height = NPLENGTH;\nmax-width = NPLENGTH;\nmin-height = auto | PLENGTH;\nmin-width = auto | PLENGTH;\norphans = POS_INT;\noutline-offset = LENGTH;\noutline-color = COLOR | invert;\noutline-style = BORDER_SIDE_STYLE;\noutline-width = BORDER_SIDE_WIDTH;\noverflow = visible | hidden | scroll | auto;\npadding-right = PPLENGTH;\npadding-left = PPLENGTH;\npadding-top = PPLENGTH;\npadding-bottom = PPLENGTH;\nPAGE_BREAK = auto | always | avoid | left | right | recto | verso;\npage-break-after = PAGE_BREAK;\npage-break-before = PAGE_BREAK;\npage-break-inside = avoid | auto;\nPAUSE = POS_TIME | ZERO | POS_PERCENTAGE;\npause-after = PAUSE;\npause-before = PAUSE;\npitch-range = NUM;\npitch = FREQUENCY | x-low | low | medium | high | x-high;\nplay-during = [URI [ mix || repeat ]?] | auto | none;\nposition = static | relative | absolute | fixed;\nquotes = [STRING STRING]+ | none;\nrichness = NUM;\nright = APLENGTH;\nspeak-header = once | always;\nspeak-numeral = digits | continuous;\nspeak-punctuation = code | none;\nspeech-rate = NUM | x-slow | slow | medium | fast | x-fast | faster | slower;\nstress = NUM;\ntable-layout = auto | fixed;\ntext-align = left | right | center | justify | start | end;\ntext-decoration = none | [ underline || overline || line-through || blink ];\ntext-indent = PLENGTH;\ntext-transform = capitalize | uppercase | lowercase | none;\ntop = APLENGTH;\nvertical-align = baseline | sub | super | top | text-top | middle | bottom | text-bottom | PLENGTH;\nvisibility = visible | hidden | collapse;\nvoice-family = FAMILY_LIST;\nvolume = NUM | PERCENTAGE | silent | x-soft | soft | medium | loud | x-loud;\nwhite-space = normal | pre | nowrap | pre-wrap | pre-line;\nwidows = POS_INT;\nwidth = PAPLENGTH | POS_NUM ;\nword-spacing = normal | LENGTH_OR_NUM;\nz-index = auto | INT;\n\n[epub,moz,ms,webkit]hyphens = auto | manual | none;\n[webkit]hyphenate-character = auto | STRING;\n\n/* css-logical */\nmargin-block-start = APLENGTH;\nmargin-block-end = APLENGTH;\nmargin-inline-start = APLENGTH;\nmargin-inline-end = APLENGTH;\npadding-block-start = APLENGTH;\npadding-block-end = APLENGTH;\npadding-inline-start = APLENGTH;\npadding-inline-end = APLENGTH;\nborder-block-start-color = BORDER_SIDE_COLOR;\nborder-block-end-color = BORDER_SIDE_COLOR;\nborder-inline-start-color = BORDER_SIDE_COLOR;\nborder-inline-end-color = BORDER_SIDE_COLOR;\nborder-block-start-style = BORDER_SIDE_STYLE;\nborder-block-end-style = BORDER_SIDE_STYLE;\nborder-inline-start-style = BORDER_SIDE_STYLE;\nborder-inline-end-style = BORDER_SIDE_STYLE;\nborder-block-start-width = BORDER_SIDE_WIDTH;\nborder-block-end-width = BORDER_SIDE_WIDTH;\nborder-inline-start-width = BORDER_SIDE_WIDTH;\nborder-inline-end-width = BORDER_SIDE_WIDTH;\nblock-start = APLENGTH;\nblock-end = APLENGTH;\ninline-start = APLENGTH;\ninline-end = APLENGTH;\nblock-size = PAPLENGTH | POS_NUM;\ninline-size = PAPLENGTH | POS_NUM;\nmax-block-size = NPLENGTH;\nmax-inline-size = NPLENGTH;\nmin-block-size = auto | PLENGTH;\nmin-inline-size = auto | PLENGTH;\n\nSHAPE = auto | rectangle( PLENGTH{4} ) |  ellipse( PLENGTH{4} ) |  circle( PLENGTH{3} ) |\n    polygon( SPACE(PLENGTH+)+ );\n[epubx]shape-inside = SHAPE;\n[epubx,webkit]shape-outside = SHAPE;\n[epubx,ms]wrap-flow = auto | both | start | end | maximum | clear | around /* epub al */;\n\nTRANSFORM_FUNCTION = matrix(NUM{6}) | translate(PLENGTH{1,2}) | translateX(PLENGTH) | translateY(PLENGTH) |\n scale(NUM{1,2}) | scaleX(NUM) | scaleY(NUM) | rotate(ANGLE) | skewX(ANGLE) | skewY(ANGLE);\n[epub,ms]transform = none | TRANSFORM_FUNCTION+;\n[epub,ms]transform-origin = [[[ top | bottom | left | right] PLENGTH?] | center | PLENGTH]{1,2}; /* relaxed */\n\nBOX = border-box | padding-box | content-box;\nSHADOW = SPACE(inset || LENGTH{2,4} || COLOR); /* relaxed */\n[webkit]background-size = COMMA( SPACE( [PLENGTH | auto ]{1,2} | cover | contain)+ );\n[webkit]background-origin = COMMA( BOX+ );\n[webkit]background-clip = COMMA( BOX+ );\n[webkit]box-shadow = none | COMMA( SHADOW+ );\ntext-shadow = none |  COMMA( SHADOW+ );\n[webkit]box-decoration-break = slice | clone;\nFILTER_FUNCTION = blur(LENGTH) | brightness(NUM | PERCENTAGE) | contrast(NUM | PERCENTAGE) | drop-shadow(SPACE(LENGTH{2,3} COLOR?))\n                | grayscale(NUM | PERCENTAGE) | hue-rotate(ANGLE) | invert(NUM | PERCENTAGE) | opacity(NUM | PERCENTAGE)\n                | saturate(NUM | PERCENTAGE) | sepia(NUM | PERCENTAGE);\nFILTER_FUNCTION_LIST = FILTER_FUNCTION+;\n[webkit]filter = none | FILTER_FUNCTION_LIST;\n\nopacity = NUM;\n\n[moz,webkit]column-width = LENGTH | auto;\n[moz,webkit]column-count = INT | auto;\n[moz,webkit]column-gap = LENGTH | normal;\n[moz,webkit]column-rule-color = COLOR;\n[moz,webkit]column-rule-style = BORDER_SIDE_STYLE;\n[moz,webkit]column-rule-width = BORDER_SIDE_WIDTH;\nBREAK = auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region;\nbreak-before = BREAK;\nbreak-after = BREAK;\nbreak-inside = auto | avoid | avoid-page | avoid-column | avoid-region;\n[webkit]column-span = none | auto | all;\n[moz]column-fill = auto | balance | balance-all;\n\nsrc = COMMA([SPACE(URI format(STRING+)?) | local(FAMILY)]+); /* for font-face */\n\n[epubx,webkit]flow-from = IDENT;\n[epubx,webkit]flow-into = IDENT;\n[epubx]flow-linger = INT | none;\n[epubx]flow-priority = INT;\n[epubx]flow-options = none | [ exclusive || last || static ];\n[epubx]page = INT | auto;\n[epubx]min-page-width = LENGTH;\n[epubx]min-page-height = LENGTH;\n[epubx]required = true | false;\n[epubx]enabled = true | false;\n[epubx]conflicting-partitions = COMMA(IDENT+);\n[epubx]required-partitions = COMMA(IDENT+);\n[epubx]snap-height = LENGTH | none;\n[epubx]snap-width = LENGTH | none;\n[epubx]flow-consume = all | some;\n[epubx]utilization = NUM;\n[epubx]text-zoom = font-size | scale;\n\n[adapt]template = URI_OR_NONE;\n[adapt]behavior = IDENT;\n\n/* CSS Fonts */\nfont-size-adjust = none | NNEG_NUM;\n[webkit]font-kerning = auto | normal | none;\nfont-variant-east-asian = normal | [[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby];\nfont-feature-settings = COMMA( SPACE( STRING [ on | off | INT ]? )+ );\nfont-stretch = normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded;\n\n/* CSS Images */\nimage-resolution = RESOLUTION;\nobject-fit = fill | contain | cover | none | scale-down;\nobject-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\n\n/* CSS Paged Media */\nPAGE_SIZE = a5 | a4 | a3 | b5 | b4 | jis-b5 | jis-b4 | letter | legal | ledger;\nbleed = auto | LENGTH;\nmarks = none | [ crop || cross ];\nsize = POS_LENGTH{1,2} | auto | [ PAGE_SIZE || [ portrait | landscape ] ];\n\n/* CSS Page Floats */\nfloat-reference = inline | column | region | page;\nfloat = block-start | block-end | inline-start | inline-end | snap-block | snap-inline | left | right | top | bottom | none | footnote;\nfloat-min-wrap-block = PPLENGTH;\n\n/* CSS Ruby */\nruby-align = start | center | space-between | space-around;\nruby-position = over | under | inter-character;\n\n/* CSS Size Adjust */\n[moz,ms]text-size-adjust = auto | none | POS_PERCENTAGE;\n\n/* CSS Text */\n[ms,webkit]line-break = auto | loose | normal | strict;\noverflow-wrap = normal | break-word;\n[moz]tab-size = NNEG_INT | NNEG_LENGTH;\n[moz,ms]text-align-last = auto | start | end | left | right | center | justify;\n[ms]text-justify = auto | none | inter-word | inter-character | inter-ideograph /* specified in UA stylesheet for IE */;\n[ms]word-break = normal | keep-all | break-all | break-word;\n[ms]word-wrap = normal | break-word;\n\n/* CSS Text Decoration */\n[webkit]text-decoration-color = COLOR;\n[webkit]text-decoration-line = none | [ underline || overline || line-through || blink ];\n[webkit]text-decoration-skip = none | [ objects || spaces || ink || edges || box-decoration ];\n[webkit]text-decoration-style = solid | double | dotted | dashed | wavy;\n[epub,webkit]text-emphasis-color = COLOR;\n[webkit]text-emphasis-position = [ over | under ] [ right | left ];\n[epub,webkit]text-emphasis-style = none | [[ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]] | STRING;\n[ms,webkit]text-underline-position = auto | [ under || [ left | right ]];\n\n/* CSS Transforms */\n[ms,webkit]backface-visibility = visible | hidden;\n\n/* CSS UI */\nbox-sizing = content-box | padding-box | border-box;\n[ms]text-overflow = [clip | ellipsis | STRING]{1,2};\n\n/* CSS Writing Modes */\n[webkit]text-combine = none | horizontal;\n[epub,ms]text-combine-horizontal = none | all | [ digits POS_INT? ]; /* relaxed */\ntext-combine-upright = none | all | [ digits POS_INT? ]; /* relaxed */\n[epub,webkit]text-orientation = mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation /* the following values are kept for backward-compatibility */ | vertical-right | rotate-right | rotate-left | rotate-normal | auto;\nunicode-bidi = normal | embed | isolate | bidi-override | isolate-override | plaintext;\n[epub,webkit]writing-mode = horizontal-tb | vertical-rl | lr-tb | rl-tb | tb-rl | lr | rl | tb;\n\n/* CSS Flex box */\nFLEX_BASIS = content | PAPLENGTH;\nflex-direction = row | row-reverse | column | column-reverse;\nflex-wrap = nowrap | wrap | wrap-reverse;\norder = INT;\nflex-grow = NNEG_NUM;\nflex-shrink = NNEG_NUM;\nflex-basis = FLEX_BASIS;\nflex = none | [ [ NNEG_NUM NNEG_NUM? ] || FLEX_BASIS ];\njustify-content = flex-start | flex-end | center | space-between | space-around;\nalign-items = flex-start | flex-end | center | baseline | stretch;\nalign-self = auto | flex-start | flex-end | center | baseline | stretch;\nalign-content = flex-start | flex-end | center | space-between | space-around | stretch;\n\n/* Pointer Events */\n[ms]touch-action = auto | none | [ pan-x || pan-y ] | manipulation;\n\n/* SVG 2 */\nOPACITY_VALUE = NUM | PERCENTAGE;\nDASH_ARRAY = COMMA( SPACE( [ LENGTH | PERCENTAGE | NUM ]+ )+ );\nPAINT = none | child | child(INT) | COLOR | SPACE( URI [none | COLOR]? ) | context-fill | context-stroke;\ncolor-interpolation = auto | sRGB | linearRGB;\ncolor-rendering = auto | optimizeSpeed | optimizeQuality;\nfill = PAINT;\nfill-opacity = OPACITY_VALUE;\nfill-rule = nonzero | evenodd;\nglyph-orientation-vertical = auto | NUM | ANGLE;\nimage-rendering = auto | optimizeSpeed | optimizeQuality | crisp-edges | pixelated;\nmarker-start = none | URI;\nmarker-mid = none | URI;\nmarker-end = none | URI;\npointer-events = bounding-box | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | none;\npaint-order = normal | [ fill || stroke || markers ];\nshape-rendering = auto | optimizeSpeed | crispEdges | geometricPrecision;\nstop-color = COLOR;\nstop-opacity = OPACITY_VALUE;\nstroke = PAINT;\nstroke-dasharray = none | DASH_ARRAY;\nstroke-dashoffset = PERCENTAGE | LENGTH_OR_NUM;\nstroke-linecap = butt | round | square;\nstroke-linejoin = miter | round | bevel;\nstroke-miterlimit = NUM;\nstroke-opacity = OPACITY_VALUE;\nstroke-width = PERCENTAGE | LENGTH_OR_NUM;\ntext-anchor = start | middle | end;\ntext-rendering = auto | optimizeSpeed | optimizeLegibility | geometricPrecision;\nvector-effect = none | SPACE( [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]? );\n\n/* SVG 1.1 */\nalignment-baseline = auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical;\nbaseline-shift = baseline | sub | super | PERCENTAGE | LENGTH_OR_NUM;\ndominant-baseline = auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge;\nmask = none | URI;\n\n/* css-masking-1 */\nSHAPE_RADIUS = PLENGTH | closest-side | farthest-side;\nFILL_RULE = nonzero | evenodd;\nSHAPE_BOX = BOX | margin-box;\nGEOMETRY_BOX = SHAPE_BOX | fill-box | stroke-box | view-box;\nBASIC_SHAPE =\n    inset( SPACE( PLENGTH{1,4} [ round PLENGTH{1,4} [ SLASH PLENGTH{1,4} ]? ]? ) )\n  | circle(  SPACE( [SHAPE_RADIUS]?    [at BG_POSITION_TERM{1,4}]? ) )\n  | ellipse( SPACE( SHAPE_RADIUS{2}? [at BG_POSITION_TERM{1,4}]? ) )\n  | polygon( FILL_RULE? COMMA( SPACE( PLENGTH{2} )+ )+ );\n[webkit]clip-path = none | URI | [ BASIC_SHAPE || GEOMETRY_BOX ];\nclip-rule = nonzero | evenodd;\n\n/* filters */\nflood-color = COLOR;\nflood-opacity = OPACITY_VALUE;\nlighting-color = COLOR;\n\n/* compositing-1 */\nBLEND_MODE = normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity;\nmix-blend-mode = BLEND_MODE;\nisolation = auto | isolate;\nbackground-blend-mode = COMMA( BLEND_MODE+ );\n\n/* CSS GCPM */\nfootnote-policy = auto | line;\n\n[viv]repeat-on-break = auto | none | header | footer;\n\nDEFAULTS\n\nbackground-attachment: scroll;\nbackground-color: transparent;\nbackground-image: none;\nbackground-repeat: repeat;\nbackground-position: 0% 0%;\nbackground-clip: border-box;\nbackground-origin: padding-box;\nbackground-size: auto;\nborder-top-color: currentColor;\nborder-right-color: currentColor;\nborder-bottom-color: currentColor;\nborder-left-color: currentColor;\nborder-top-style: none;\nborder-right-style: none;\nborder-bottom-style: none;\nborder-left-style: none;\nborder-top-width: 3px;\nborder-right-width: 3px;\nborder-bottom-width: 3px;\nborder-left-width: 3px;\nborder-top-left-radius: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\nborder-bottom-left-radius: 0;\nborder-image-source: none;\nborder-image-slice: 100%;\nborder-image-width: 1;\nborder-image-outset: 0;\nborder-image-repeat: stretch;\ncolumn-count: auto;\ncolumn-gap: normal;\ncolumn-width: auto;\ncolumn-rule-color: currentColor;\ncolumn-rule-style: none;\ncolumn-rule-width: 3px;\ncolumn-fill: balance;\noutline-color: currentColor;\noutline-style: none;\noutline-width: 3px;\nflex-direction: row;\nflex-wrap: nowrap;\nfont-family: serif;\nfont-style: normal;\nfont-size: medium;\nfont-variant: normal;\nfont-weight: normal;\nfont-stretch: normal;\nline-height: normal;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: auto;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: auto;\npadding-bottom: auto;\npadding-left: auto;\npadding-right: auto;\npadding-top: auto;\ntext-emphasis-color: currentColor;\ntext-emphasis-style: none;\nmarker-start: none;\nmarker-mid: none;\nmarker-end: none;\n\n/* css-logical */\nborder-block-start-color: currentColor;\nborder-block-end-color: currentColor;\nborder-inline-start-color: currentColor;\nborder-inline-end-color: currentColor;\nborder-block-start-style: none;\nborder-block-end-style: none;\nborder-inline-start-style: none;\nborder-inline-end-style: none;\nborder-block-start-width: 3px;\nborder-block-end-width: 3px;\nborder-inline-start-width: 3px;\nborder-inline-end-width: 3px;\n\nSHORTHANDS\n\nbackground = COMMA background-image [background-position [ / background-size ]] background-repeat\n     background-attachment [background-origin background-clip] background-color; /* background-color is a special case, see the code */\nborder-top = border-top-width border-top-style border-top-color;\nborder-right = border-right-width border-right-style border-right-color;\nborder-bottom = border-bottom-width border-bottom-style border-bottom-color;\nborder-left = border-left-width border-left-style border-left-color;\nborder-width = INSETS border-top-width border-right-width border-bottom-width border-left-width;\nborder-style = INSETS border-top-style border-right-style border-bottom-style border-left-style;\nborder-color = INSETS border-top-color border-right-color border-bottom-color border-left-color;\nborder = border-width border-style border-color;\nborder-image = border-image-source border-image-slice [ / border-image-width [ / border-image-outset ] ]\n     border-image-repeat;\nborder-radius = INSETS_SLASH border-top-left-radius border-top-right-radius\n     border-bottom-right-radius border-bottom-left-radius;\n[moz,webkit]columns = column-width column-count;\n[moz,webkit]column-rule = column-rule-width column-rule-style column-rule-color;\nflex-flow = flex-direction flex-wrap;\noeb-column-number = column-count;\noutline = outline-width outline-style outline-color;\nlist-style = list-style-type list-style-position list-style-image;\nmargin = INSETS margin-top margin-right margin-bottom margin-left;\npadding = INSETS padding-top padding-right padding-bottom padding-left;\npause = INSETS pause-before pause-after;\nfont = FONT font-style font-variant font-weight font-stretch /* font-size line-height font-family are special-cased */;\n[epub,webkit]text-emphasis = text-emphasis-style text-emphasis-color;\nmarker = INSETS marker-start marker-mid marker-end;\n\n/* css-logical */\nmargin-block = INSETS margin-block-start margin-block-end;\nmargin-inline = INSETS margin-inline-start margin-inline-end;\npadding-block = INSETS padding-block-start padding-block-end;\npadding-inline = INSETS padding-inline-start padding-inline-end;\nborder-block-width = INSETS border-block-start-width border-block-end-width;\nborder-block-style = INSETS border-block-start-style border-block-end-style;\nborder-block-color = INSETS border-block-start-color border-block-end-color;\nborder-inline-width = INSETS border-inline-start-width border-inline-end-width;\nborder-inline-style = INSETS border-inline-start-style border-inline-end-style;\nborder-inline-color = INSETS border-inline-start-color border-inline-end-color;\nborder-block = border-block-width border-block-style border-block-color;\nborder-inline = border-inline-width border-inline-style border-inline-color;\nborder-block-start = border-block-start-width border-block-start-style border-block-start-color;\nborder-block-end = border-block-end-width border-block-end-style border-block-end-color;\nborder-inline-start = border-inline-start-width border-inline-start-style border-inline-start-color;\nborder-inline-end = border-inline-end-width border-inline-end-style border-inline-end-color;\ninset-block-start = block-start;\ninset-block-end = block-end;\ninset-inline-start = inline-start;\ninset-inline-end = inline-end;\ninset-block = INSETS block-start block-end;\ninset-inline = INSETS inline-start inline-end;\n\n/* old names  */\n[adapt,webkit]margin-before = margin-block-start;\n[adapt,webkit]margin-after = margin-block-end;\n[adapt,webkit]margin-start = margin-inline-start;\n[adapt,webkit]margin-end = margin-inline-end;\n[adapt,webkit]padding-before = padding-block-start;\n[adapt,webkit]padding-after = padding-block-end;\n[adapt,webkit]padding-start = padding-inline-start;\n[adapt,webkit]padding-end = padding-inline-end;\n[adapt,webkit]border-before-color = border-block-start-color;\n[adapt,webkit]border-after-color = border-block-end-color;\n[adapt,webkit]border-start-color = border-inline-start-color;\n[adapt,webkit]border-end-color = border-inline-end-color;\n[adapt,webkit]border-before-style = border-block-start-style;\n[adapt,webkit]border-after-style = border-block-end-style;\n[adapt,webkit]border-start-style = border-inline-start-style;\n[adapt,webkit]border-end-style = border-inline-end-style;\n[adapt,webkit]border-before-width = border-block-start-width;\n[adapt,webkit]border-after-width = border-block-end-width;\n[adapt,webkit]border-start-width = border-inline-start-width;\n[adapt,webkit]border-end-width = border-inline-end-width;\n[adapt,webkit]before = block-start;\n[adapt,webkit]after = block-end;\n[adapt,webkit]start = inline-start;\n[adapt,webkit]end = inline-end;\n"),e}const Ah={"font-style":Mt.normal,"font-variant":Mt.normal,"font-weight":Mt.normal},Oh=`OTTO${(new Date).valueOf()}`;let Rh=1;function kh(e,t){const n={};for(const i in e)n[i]=Ro(e,i).evaluate(t,i);return function(e){for(const t in Ah)e[t]||(e[t]=Ah[t])}(n),n}class Lh{constructor(e){this.properties=e,this.blobURLs=[],this.blobs=[],this.fontTraitKey=function(e){const t=new $;for(const n in Ah)t.append(" "),t.append(e[n].toString());return t.toString()}(this.properties),this.src=this.properties.src?this.properties.src.toString():null;const t=this.properties["font-family"];this.family=t?t.stringValue():null}traitsEqual(e){return this.fontTraitKey==e.fontTraitKey}makeAtRule(e,t){const n=new $;n.append("@font-face {\n  font-family: "),n.append(this.family),n.append(";\n  ");for(const e in Ah)n.append(e),n.append(": "),this.properties[e].appendTo(n,!0),n.append(";\n  ");if(t){n.append('src: url("');const e=(i=t,(window.URL||window.webkitURL).createObjectURL(i));n.append(e),this.blobURLs.push(e),this.blobs.push(t),n.append('")')}else n.append("src: "),n.append(e);var i;return n.append(";\n}\n"),n.toString()}}class Fh{constructor(e){this.deobfuscator=e,this.familyMap={}}registerFamily(e,t){const n=e.family,i=this.familyMap[n],o=t.family;if(i){if(i!=o)throw new Error(`E_FONT_FAMILY_INCONSISTENT ${e.family}`)}else this.familyMap[n]=o}filterFontFamily(e){if(e instanceof Lt){const t=e.values,n=[];for(const e of t){const t=this.familyMap[e.stringValue()];t&&n.push(Tt(t)),n.push(e)}return new Lt(n)}{const t=this.familyMap[e.stringValue()];return t?new Lt([Tt(t),e]):e}}}class Dh{constructor(e,t,n){this.head=e,this.body=t,this.srcURLMap={},this.familyCounter=0,this.familyPrefix=n||"Fnt_"}getViewFontFamily(e,t){const n=e.family;let i=t.familyMap[n];return i||(i=this.familyPrefix+ ++this.familyCounter,t.familyMap[n]=i,i)}initFont(e,t,n){const i=di("initFont"),o=this,s=e.src,r={};for(const t in Ah)r[t]=e.properties[t];const a=o.getViewFontFamily(e,n);r["font-family"]=Tt(a);const l=new Lh(r),h=o.body.ownerDocument.createElement("span");h.textContent="M";const u=(new Date).valueOf()+1e3,d=o.head.ownerDocument.createElement("style"),p=Oh+Rh++;d.textContent=l.makeAtRule("",Oi([p])),o.head.appendChild(d),o.body.appendChild(h),h.style.visibility="hidden",h.style.fontFamily=a;for(const e in Ah)V(h,e,r[e].toString());const f=h.getBoundingClientRect(),g=f.right-f.left,m=f.bottom-f.top;d.textContent=l.makeAtRule(s,t),c.info("Starting to load font:",s);let b=!1;return i.loop(()=>{const e=h.getBoundingClientRect(),t=e.right-e.left,n=e.bottom-e.top;return g!=t||m!=n?(b=!0,pi(!1)):(new Date).valueOf()>u?pi(!1):i.sleep(10)}).then(()=>{b?c.info("Loaded font:",s):c.warn("Failed to load font:",s),o.body.removeChild(h),i.finish(l)}),i.result()}loadFont(e,t){const n=e.src;let i=this.srcURLMap[n];const o=this;return i?i.piggyback(i=>{const o=i;o.traitsEqual(e)?(t.registerFamily(e,o),c.warn("Found already-loaded font:",n)):c.warn("E_FONT_FACE_INCOMPATIBLE",e.src)}):(i=new Ci(()=>{const i=di("loadFont"),s=t.deobfuscator?t.deobfuscator(n):null;return s?Ai(n,Ii.BLOB).then(n=>{n.responseBlob?s(n.responseBlob).then(n=>{o.initFont(e,n,t).thenFinish(i)}):i.finish(null)}):o.initFont(e,null,t).thenFinish(i),i.result()},`loadFont ${n}`),this.srcURLMap[n]=i,i.start()),i}findOrLoadFonts(e,t){const n=[];for(const i of e)i.src&&i.family?n.push(this.loadFont(i,t)):c.warn("E_FONT_FACE_INVALID");return Ti(n)}}let _h=1;class Bh{constructor(e,t,n,i,o){this.name=t,this.pseudoName=n,this.classes=i,this.parent=o,this.specified={},this.children=[],this.pageMaster=null,this.index=0,this._scope=e,this.key=`p${_h++}`,o&&(this.index=o.children.length,o.children.push(this))}get scope(){return this._scope}createInstance(e){throw new Error("E_UNEXPECTED_CALL")}clone(e){throw new Error("E_UNEXPECTED_CALL")}copySpecified(e){const t=this.specified,n=e.specified;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}cloneChildren(e){for(let t=0;t<this.children.length;t++)this.children[t].clone({parent:e})}}class Mh extends Bh{constructor(e){super(e,null,null,[],null),this.specified.width=new Co(zt,0),this.specified.height=new Co(Vt,0)}}class Uh extends xe{constructor(e,t){super(e,(function(e,t){const i=e.match(/^([^.]+)\.([^.]+)$/);if(i){const e=n.pageMaster.keyMap[i[1]];if(e){const n=this.lookupInstance(e);if(n)return t?n.resolveFunc(i[2]):n.resolveName(i[2])}}return null})),this.pageMaster=t;const n=this}}class zh extends Bh{constructor(e,t,n,i,o,s,r){super(e,t,n,i,o),this.condition=s,this.specificity=r,this.keyMap={},e instanceof Uh||(this._scope=new Uh(e,this)),this.pageMaster=this,this.specified.width=new Co(zt,0),this.specified.height=new Co(Vt,0),this.specified["wrap-flow"]=new Co(Mt.auto,0),this.specified.position=new Co(Mt.relative,0),this.specified.overflow=new Co(Mt.visible,0)}createInstance(e){return new nc(e,this)}clone(e){const t=new zh(this.scope,this.name,e.pseudoName||this.pseudoName,this.classes,this.parent,this.condition,this.specificity);return this.copySpecified(t),this.cloneChildren(t),t}resetScope(){this.scope.pageMaster=this}}class Vh extends Bh{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key),this.specified["wrap-flow"]=new Co(Mt.auto,0)}createInstance(e){return new ic(e,this)}clone(e){const t=new Vh(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}class Hh extends Bh{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key)}createInstance(e){return new oc(e,this)}clone(e){const t=new Hh(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}function Gh(e,t,n){return t&&t!==Mt.auto?t.toExpr(e,n):null}function $h(e,t,n){return t&&t!==Mt.auto?t.toExpr(e,n):e.zero}function Wh(e,t,n){return t?t===Mt.auto?null:t.toExpr(e,n):e.zero}function Xh(e,t,n,i){return t&&n!==Mt.none?t.toExpr(e,i):e.zero}function jh(e,t,n){return t?t===Mt._true?e._true:t===Mt._false?e._false:t.toExpr(e,e.zero):n}class Kh{constructor(e,t){this.parentInstance=e,this.pageBox=t,this.cascaded={},this.style={},this.autoWidth=null,this.autoHeight=null,this.children=[],this.isAutoWidth=!1,this.isAutoHeight=!1,this.isTopDependentOnAutoHeight=!1,this.isRightDependentOnAutoWidth=!1,this.calculatedWidth=0,this.calculatedHeight=0,this.pageMasterInstance=null,this.namedValues={},this.namedFuncs={},this.vertical=!1,this.rtl=!1,this.suppressEmptyBoxGeneration=!1,e&&e.children.push(this)}reset(){this.calculatedWidth=0,this.calculatedHeight=0}addNamedValues(e,t){const n=this.resolveName(e),i=this.resolveName(t);if(!n||!i)throw new Error("E_INTERNAL");return ut(this.pageBox.scope,n,i)}resolveName(e){let t=this.namedValues[e];if(t)return t;const n=this.style[e];switch(n&&(t=n.toExpr(this.pageBox.scope,this.pageBox.scope.zero)),e){case"margin-left-edge":t=this.resolveName("left");break;case"margin-top-edge":t=this.resolveName("top");break;case"margin-right-edge":t=this.addNamedValues("border-right-edge","margin-right");break;case"margin-bottom-edge":t=this.addNamedValues("border-bottom-edge","margin-bottom");break;case"border-left-edge":t=this.addNamedValues("margin-left-edge","margin-left");break;case"border-top-edge":t=this.addNamedValues("margin-top-edge","margin-top");break;case"border-right-edge":t=this.addNamedValues("padding-right-edge","border-right-width");break;case"border-bottom-edge":t=this.addNamedValues("padding-bottom-edge","border-bottom-width");break;case"padding-left-edge":t=this.addNamedValues("border-left-edge","border-left-width");break;case"padding-top-edge":t=this.addNamedValues("border-top-edge","border-top-width");break;case"padding-right-edge":t=this.addNamedValues("right-edge","padding-right");break;case"padding-bottom-edge":t=this.addNamedValues("bottom-edge","padding-bottom");break;case"left-edge":t=this.addNamedValues("padding-left-edge","padding-left");break;case"top-edge":t=this.addNamedValues("padding-top-edge","padding-top");break;case"right-edge":t=this.addNamedValues("left-edge","width");break;case"bottom-edge":t=this.addNamedValues("top-edge","height")}if(!t){let n;if("extent"==e)n=this.vertical?"width":"height";else if("measure"==e)n=this.vertical?"height":"width";else{const t=this.vertical?yo:So;n=e;for(const e in t)n=n.replace(e,t[e])}n!=e&&(t=this.resolveName(n))}return t&&(this.namedValues[e]=t),t}resolveFunc(e){let t=this.namedFuncs[e];if(t)return t;switch(e){case"columns":{const e=this.pageBox.scope,n=new ht(e,0),i=this.resolveName("column-count"),o=this.resolveName("column-width"),s=this.resolveName("column-gap");t=dt(e,pt(e,new st(e,"min",[n,i]),ut(e,o,s)),s);break}}return t&&(this.namedFuncs[e]=t),t}initEnabled(){const e=this.pageBox.scope,t=this.style;let n=jh(e,t.enabled,e._true);const i=Gh(e,t.page,e.zero);if(i){const t=new nt(e,"page-number");n=ct(e,n,new Ke(e,i,t))}const o=Gh(e,t["min-page-width"],e.zero);o&&(n=ct(e,n,new je(e,new nt(e,"page-width"),o)));const s=Gh(e,t["min-page-height"],e.zero);s&&(n=ct(e,n,new je(e,new nt(e,"page-height"),s))),n=this.boxSpecificEnabled(n),t.enabled=new Dt(n)}boxSpecificEnabled(e){return e}initHorizontal(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null;let i=Gh(e,t.left,n),o=Gh(e,t["margin-left"],n);const s=Xh(e,t["border-left-width"],t["border-left-style"],n),r=$h(e,t["padding-left"],n);let a=Gh(e,t.width,n),l=Gh(e,t["max-width"],n);const h=$h(e,t["padding-right"],n),c=Xh(e,t["border-right-width"],t["border-right-style"],n);let u=Gh(e,t["margin-right"],n),d=Gh(e,t.right,n);const p=ut(e,s,r),f=ut(e,s,h);if(i&&d&&a){let t=dt(e,n,ut(e,a,ut(e,ut(e,i,p),f)));o?u?d=dt(e,t,u):u=dt(e,t,ut(e,d,o)):(t=dt(e,t,d),u?o=dt(e,t,u):(o=pt(e,t,new at(e,.5)),u=o))}else{o||(o=e.zero),u||(u=e.zero),i||d||a||(i=e.zero),i||a?i||d?a||d||(a=this.autoWidth,this.isAutoWidth=!0):i=e.zero:(a=this.autoWidth,this.isAutoWidth=!0);const s=dt(e,n,ut(e,ut(e,o,p),ut(e,u,f)));this.isAutoWidth&&(l||(l=dt(e,s,i||d)),this.vertical||!Gh(e,t["column-width"],null)&&!Gh(e,t["column-count"],null)||(a=l,this.isAutoWidth=!1)),i?a?d||(d=dt(e,s,ut(e,i,a))):a=dt(e,s,ut(e,i,d)):i=dt(e,s,ut(e,d,a))}const g=$h(e,t["snap-width"]||(this.parentInstance?this.parentInstance.style["snap-width"]:null),n);t.left=new Dt(i),t["margin-left"]=new Dt(o),t["border-left-width"]=new Dt(s),t["padding-left"]=new Dt(r),t.width=new Dt(a),t["max-width"]=new Dt(l||a),t["padding-right"]=new Dt(h),t["border-right-width"]=new Dt(c),t["margin-right"]=new Dt(u),t.right=new Dt(d),t["snap-width"]=new Dt(g)}initVertical(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,i=this.parentInstance?this.parentInstance.style.height.toExpr(e,null):null;let o=Gh(e,t.top,i),s=Gh(e,t["margin-top"],n);const r=Xh(e,t["border-top-width"],t["border-top-style"],n),a=$h(e,t["padding-top"],n);let l=Gh(e,t.height,i),h=Gh(e,t["max-height"],i);const c=$h(e,t["padding-bottom"],n),u=Xh(e,t["border-bottom-width"],t["border-bottom-style"],n);let d=Gh(e,t["margin-bottom"],n),p=Gh(e,t.bottom,i);const f=ut(e,r,a),g=ut(e,u,c);if(o&&p&&l){let t=dt(e,i,ut(e,l,ut(e,ut(e,o,f),g)));s?d?p=dt(e,t,s):d=dt(e,t,ut(e,p,s)):(t=dt(e,t,p),d?s=dt(e,t,d):(s=pt(e,t,new at(e,.5)),d=s))}else{s||(s=e.zero),d||(d=e.zero),o||p||l||(o=e.zero),o||l?o||p?l||p||(l=this.autoHeight,this.isAutoHeight=!0):o=e.zero:(l=this.autoHeight,this.isAutoHeight=!0);const n=dt(e,i,ut(e,ut(e,s,f),ut(e,d,g)));this.isAutoHeight&&(h||(h=dt(e,n,o||p)),this.vertical&&(Gh(e,t["column-width"],null)||Gh(e,t["column-count"],null))&&(l=h,this.isAutoHeight=!1)),o?l?p||(p=dt(e,n,ut(e,o,l))):l=dt(e,n,ut(e,p,o)):o=dt(e,n,ut(e,p,l))}const m=$h(e,t["snap-height"]||(this.parentInstance?this.parentInstance.style["snap-height"]:null),n);t.top=new Dt(o),t["margin-top"]=new Dt(s),t["border-top-width"]=new Dt(r),t["padding-top"]=new Dt(a),t.height=new Dt(l),t["max-height"]=new Dt(h||l),t["padding-bottom"]=new Dt(c),t["border-bottom-width"]=new Dt(u),t["margin-bottom"]=new Dt(d),t.bottom=new Dt(p),t["snap-height"]=new Dt(m)}initColumns(){const e=this.pageBox.scope,t=this.style,n=Gh(e,t[this.vertical?"height":"width"],null);let i=Gh(e,t["column-width"],n),o=Gh(e,t["column-count"],null),s=function(e,t,n){return t&&t!==Mt.normal?t.toExpr(e,null):null}(e,t["column-gap"]);s||(s=new tt(e,1,"em")),i&&!o&&(o=new st(e,"floor",[ft(e,ut(e,n,s),ut(e,i,s))]),o=new st(e,"max",[e.one,o])),o||(o=e.one),i=dt(e,ft(e,ut(e,n,s),o),s),t["column-width"]=new Dt(i),t["column-count"]=new Dt(o),t["column-gap"]=new Dt(s)}depends(e,t,n){return this.style[e].toExpr(this.pageBox.scope,null).depend(t,n)}init(e){e.registerInstance(this.pageBox.key,this);const t=this.pageBox.scope,n=this.style,i=this,o=this.parentInstance?this.parentInstance.getActiveRegions(e):null,s=Ys(this.cascaded,e,o,!1);this.vertical=js(s,e,!!this.parentInstance&&this.parentInstance.vertical),this.rtl=Ks(s,e,!!this.parentInstance&&this.parentInstance.rtl),Qs(s,n,this.vertical,this.rtl,(e,t)=>t.value),this.autoWidth=new ot(t,()=>i.calculatedWidth,"autoWidth"),this.autoHeight=new ot(t,()=>i.calculatedHeight,"autoHeight"),this.initHorizontal(),this.initVertical(),this.initColumns(),this.initEnabled()}getProp(e,t){let n=this.style[t];return n&&(n=ro(e,n,t)),n}getPropAsNumber(e,t){let n=this.style[t];return n&&(n=ro(e,n,t)),_t(n,e)}getSpecial(e,t){const n=_o(this.cascaded,t);if(n){const t=[];for(let i=0;i<n.length;i++){const o=n[i].evaluate(e,"");o&&o!==Et&&t.push(o)}if(t.length)return t}return null}getActiveRegions(e){const t=this.getSpecial(e,"region-id");if(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n].toString();return e}return null}propagateProperty(e,t,n,i){this.propagatePropertyToElement(e,t.element,n,i)}propagatePropertyToElement(e,t,n,i){let o=this.getProp(e,n);o&&(o.isNumeric()&&Ae(o.unit)&&(o=Bt(o,e)),"font-family"===n&&(o=i.filterFontFamily(o)),V(t,n,o.toString()))}propagateDelayedProperty(e,t,n,i){const o=this.getProp(e,n);o&&i.push(new Ir(t.element,n,o))}assignLeftPosition(e,t){const n=this.getPropAsNumber(e,"left"),i=this.getPropAsNumber(e,"margin-left"),o=this.getPropAsNumber(e,"padding-left"),s=this.getPropAsNumber(e,"border-left-width"),r=this.getPropAsNumber(e,"width");t.setHorizontalPosition(n,r),V(t.element,"margin-left",`${i}px`),V(t.element,"padding-left",`${o}px`),V(t.element,"border-left-width",`${s}px`),t.marginLeft=i,t.borderLeft=s,t.paddingLeft=o}assignRightPosition(e,t){const n=this.getPropAsNumber(e,"right"),i=this.getPropAsNumber(e,"snap-height"),o=this.getPropAsNumber(e,"margin-right");let s=this.getPropAsNumber(e,"padding-right");const r=this.getPropAsNumber(e,"border-right-width");if(V(t.element,"margin-right",`${o}px`),V(t.element,"padding-right",`${s}px`),V(t.element,"border-right-width",`${r}px`),t.marginRight=o,t.borderRight=r,this.vertical&&i>0){const e=n+t.getInsetRight(),o=e-Math.floor(e/i)*i;o>0&&(t.snapOffsetX=i-o,s+=t.snapOffsetX)}t.paddingRight=s,t.snapWidth=i}assignTopPosition(e,t){const n=this.getPropAsNumber(e,"snap-height"),i=this.getPropAsNumber(e,"top"),o=this.getPropAsNumber(e,"margin-top");let s=this.getPropAsNumber(e,"padding-top");const r=this.getPropAsNumber(e,"border-top-width");if(t.top=i,t.marginTop=o,t.borderTop=r,t.snapHeight=n,!this.vertical&&n>0){const e=i+t.getInsetTop(),o=e-Math.floor(e/n)*n;o>0&&(t.snapOffsetY=n-o,s+=t.snapOffsetY)}t.paddingTop=s,V(t.element,"top",`${i}px`),V(t.element,"margin-top",`${o}px`),V(t.element,"padding-top",`${s}px`),V(t.element,"border-top-width",`${r}px`)}assignBottomPosition(e,t){const n=this.getPropAsNumber(e,"margin-bottom"),i=this.getPropAsNumber(e,"padding-bottom"),o=this.getPropAsNumber(e,"border-bottom-width"),s=this.getPropAsNumber(e,"height")-t.snapOffsetY;V(t.element,"height",`${s}px`),V(t.element,"margin-bottom",`${n}px`),V(t.element,"padding-bottom",`${i}px`),V(t.element,"border-bottom-width",`${o}px`),t.height=s-t.snapOffsetY,t.marginBottom=n,t.borderBottom=o,t.paddingBottom=i}assignBeforePosition(e,t){this.vertical?this.assignRightPosition(e,t):this.assignTopPosition(e,t)}assignAfterPosition(e,t){this.vertical?this.assignLeftPosition(e,t):this.assignBottomPosition(e,t)}assignStartEndPosition(e,t){this.vertical?(this.assignTopPosition(e,t),this.assignBottomPosition(e,t)):(this.assignRightPosition(e,t),this.assignLeftPosition(e,t))}sizeWithMaxHeight(e,t){V(t.element,"border-top-width","0px");let n=this.getPropAsNumber(e,"max-height");this.isTopDependentOnAutoHeight?t.setVerticalPosition(0,n):(this.assignTopPosition(e,t),n-=t.snapOffsetY,t.height=n,V(t.element,"height",`${n}px`))}sizeWithMaxWidth(e,t){V(t.element,"border-left-width","0px");let n=this.getPropAsNumber(e,"max-width");if(this.isRightDependentOnAutoWidth)t.setHorizontalPosition(0,n);else{this.assignRightPosition(e,t),n-=t.snapOffsetX,t.width=n;const i=this.getPropAsNumber(e,"right");V(t.element,"right",`${i}px`),V(t.element,"width",`${n}px`)}}prepareContainer(e,t,n,i,o){this.parentInstance&&this.vertical==this.parentInstance.vertical||V(t.element,"writing-mode",this.vertical?"vertical-rl":"horizontal-tb"),(this.vertical?this.isAutoWidth:this.isAutoHeight)?this.vertical?this.sizeWithMaxWidth(e,t):this.sizeWithMaxHeight(e,t):(this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),(this.vertical?this.isAutoHeight:this.isAutoWidth)?this.vertical?this.sizeWithMaxHeight(e,t):this.sizeWithMaxWidth(e,t):this.assignStartEndPosition(e,t);for(let n=0;n<Yh.length;n++)this.propagateProperty(e,t,Yh[n],i)}transferContentProps(e,t,n,i){for(let n=0;n<Zh.length;n++)this.propagateProperty(e,t,Zh[n],i)}transferSinglUriContentProps(e,t,n){for(let i=0;i<Qh.length;i++)this.propagatePropertyToElement(e,t,Qh[i],n)}finishContainer(e,t,n,i,o,s,r){this.vertical?this.calculatedWidth=t.computedBlockSize+t.snapOffsetX:this.calculatedHeight=t.computedBlockSize+t.snapOffsetY;const a=(this.vertical||!i)&&this.isAutoHeight,l=(!this.vertical||!i)&&this.isAutoWidth;let h=null;if((l||a)&&(l&&V(t.element,"width","auto"),a&&V(t.element,"height","auto"),h=s.getElementClientRect(i?i.element:t.element),l&&(this.calculatedWidth=Math.ceil(h.right-h.left-t.paddingLeft-t.borderLeft-t.paddingRight-t.borderRight),this.vertical&&(this.calculatedWidth+=t.snapOffsetX)),a&&(this.calculatedHeight=h.bottom-h.top-t.paddingTop-t.borderTop-t.paddingBottom-t.borderBottom,this.vertical||(this.calculatedHeight+=t.snapOffsetY))),(this.vertical?this.isAutoHeight:this.isAutoWidth)&&this.assignStartEndPosition(e,t),(this.vertical?this.isAutoWidth:this.isAutoHeight)&&((this.vertical?this.isRightDependentOnAutoWidth:this.isTopDependentOnAutoHeight)&&this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),o>1){const n=this.getPropAsNumber(e,"column-rule-width"),i=this.getProp(e,"column-rule-style"),s=this.getProp(e,"column-rule-color");if(n>0&&i&&i!=Mt.none&&s!=Mt.transparent){const r=this.getPropAsNumber(e,"column-gap"),a=this.vertical?t.height:t.width,l=this.vertical?"border-top":"border-left";for(let e=1;e<o;e++){const h=(a+r)*e/o-r/2+t.paddingLeft-n/2,c=t.height+t.paddingTop+t.paddingBottom,u=t.element.ownerDocument.createElement("div");V(u,"position","absolute"),V(u,this.vertical?"left":"top","0px"),V(u,this.vertical?"top":"left",`${h}px`),V(u,this.vertical?"height":"width","0px"),V(u,this.vertical?"width":"height",`${c}px`),V(u,l,`${n}px ${i.toString()}${s?` ${s.toString()}`:""}`),t.element.insertBefore(u,t.element.firstChild)}}}for(let n=0;n<qh.length;n++)this.propagateProperty(e,t,qh[n],r);for(let i=0;i<Jh.length;i++)this.propagateDelayedProperty(e,t,Jh[i],n.delayedItems)}applyCascadeAndInit(e,t){const n=this.cascaded,i=this.pageBox.specified;for(const e in i)Ao(e)&&ko(n,e,Ro(i,e));if(this.pageBox.pseudoName==ec)for(const e in t)(e.match(/^background-/)||"writing-mode"==e)&&(n[e]=t[e]);if("layout-host"==this.pageBox.pseudoName)for(const e in t)e.match(/^background-/)||"writing-mode"==e||(n[e]=t[e]);e.pushRule(this.pageBox.classes,null,n),n.content&&(n.content=n.content.filterValue(new xs(e,null,e.counterResolver))),this.init(e.context);for(const n of this.pageBox.children)n.createInstance(this).applyCascadeAndInit(e,t);e.popRule()}resolveAutoSizing(e){this.isAutoWidth&&(this.isRightDependentOnAutoWidth=this.depends("right",this.autoWidth,e)||this.depends("margin-right",this.autoWidth,e)||this.depends("border-right-width",this.autoWidth,e)||this.depends("padding-right",this.autoWidth,e)),this.isAutoHeight&&(this.isTopDependentOnAutoHeight=this.depends("top",this.autoHeight,e)||this.depends("margin-top",this.autoHeight,e)||this.depends("border-top-width",this.autoHeight,e)||this.depends("padding-top",this.autoHeight,e));for(const t of this.children)t.resolveAutoSizing(e)}}const Yh=["border-left-style","border-right-style","border-top-style","border-bottom-style","border-left-color","border-right-color","border-top-color","border-bottom-color","outline-style","outline-color","outline-width","overflow","visibility"],qh=["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat","background-attachment","background-color","background-image","background-repeat","background-position","background-clip","background-origin","background-size","opacity","z-index","background-blend-mode","isolation","mix-blend-mode","filter"],Zh=["color","font-family","font-size","font-style","font-weight","font-variant","line-height","letter-spacing","text-align","text-decoration","text-indent","text-transform","white-space","word-spacing","font-feature-settings","font-kerning","font-size-adjust","font-variant-east-asian","font-stretch","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-shadow","text-underline-position"],Qh=["width","height","image-resolution","object-fit","object-position"],Jh=["transform","transform-origin"],ec="background-host";class tc extends Kh{constructor(e){super(null,e)}applyCascadeAndInit(e,t){super.applyCascadeAndInit(e,t),this.children.sort((e,t)=>t.pageBox.specificity-e.pageBox.specificity||e.pageBox.index-t.pageBox.index)}}class nc extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=this}boxSpecificEnabled(e){const t=this.pageBox.pageMaster;return t.condition&&(e=ct(t.scope,e,t.condition)),e}adjustPageLayout(e,t,n){}}class ic extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}}class oc extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}processPartitionList(e,t,n){let i=null;if(t instanceof Ct&&(i=[t]),t instanceof Lt&&(i=t.values),i){const t=this.pageBox.scope;for(let o=0;o<i.length;o++)if(i[o]instanceof Ct){const s=Ce(i[o].name,"enabled");let r=new nt(t,s);n&&(r=new Me(t,r)),e=ct(t,e,r)}}return e}boxSpecificEnabled(e){const t=this.pageBox.scope,n=this.style,i=jh(t,n.required,t._false)!==t._false;if(i||this.isAutoHeight){const i=function(e,t,n){return t?t.toExpr(e,e.zero):new at(e,"body")}(t,n["flow-from"]);e=ct(t,e,new st(t,"has-content",[i]))}if(e=this.processPartitionList(e,n["required-partitions"],!1),e=this.processPartitionList(e,n["conflicting-partitions"],!0),i){const n=this.pageMasterInstance.style.enabled;let i=n?n.toExpr(t,null):t._true;i=ct(t,i,e),this.pageMasterInstance.style.enabled=new Dt(i)}return e}prepareContainer(e,t,n,i,o){V(t.element,"overflow","hidden"),super.prepareContainer(e,t,n,i,o)}}class sc extends Bi{constructor(e,t,n,i){super(e,t,!1),this.target=n,this.validatorSet=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}simpleProperty(e,t,n){this.target.specified[e]=new Co(t,n?50331648:67108864)}}class rc extends sc{constructor(e,t,n,i){super(e,t,n,i)}}class ac extends sc{constructor(e,t,n,i){super(e,t,n,i),n.specified.width=new Co(Ut,0),n.specified.height=new Co(Ut,0)}startPartitionRule(e,t,n){const i=new Hh(this.scope,e,t,n,this.target),o=new rc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Vh(this.scope,e,t,n,this.target),o=new ac(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}class lc extends sc{constructor(e,t,n,i){super(e,t,n,i)}startPartitionRule(e,t,n){const i=new Hh(this.scope,e,t,n,this.target),o=new rc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Vh(this.scope,e,t,n,this.target),o=new ac(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}function hc(e){let n=e["writing-mode"];n=n&&n.value;let i=e.direction;return i=i&&i.value,n===Mt.vertical_lr||n!==Mt.vertical_rl&&i!==Mt.rtl?t.PageProgression.LTR:t.PageProgression.RTL}const cc={a5:{width:new xt(148,"mm"),height:new xt(210,"mm")},a4:{width:new xt(210,"mm"),height:new xt(297,"mm")},a3:{width:new xt(297,"mm"),height:new xt(420,"mm")},b5:{width:new xt(176,"mm"),height:new xt(250,"mm")},b4:{width:new xt(250,"mm"),height:new xt(353,"mm")},"jis-b5":{width:new xt(182,"mm"),height:new xt(257,"mm")},"jis-b4":{width:new xt(257,"mm"),height:new xt(364,"mm")},letter:{width:new xt(8.5,"in"),height:new xt(11,"in")},legal:{width:new xt(8.5,"in"),height:new xt(14,"in")},ledger:{width:new xt(11,"in"),height:new xt(17,"in")}},uc=new xt(.24,"pt"),dc=new xt(3,"mm"),pc=new xt(10,"mm"),fc=new xt(13,"mm");function gc(e){const t={width:zt,height:Vt,bleed:Ht,bleedOffset:Ht},n=e.size;if(n&&n.value!==Mt.auto){const e=n.value;let i,o;if(e.isSpaceList()?(i=e.values[0],o=e.values[1]):(i=e,o=null),i.isNumeric())t.width=i,t.height=o||i;else{const e=i.name&&cc[i.name.toLowerCase()];e&&(o&&o===Mt.landscape?(t.width=e.height,t.height=e.width):(t.width=e.width,t.height=e.height))}}const i=e.marks;i&&i.value!==Mt.none&&(t.bleedOffset=fc);const o=e.bleed;if(o&&o.value!==Mt.auto)o.value&&o.value.isNumeric()&&(t.bleed=o.value);else if(i){let e=!1;e=i.value.isSpaceList()?i.value.values.some(e=>e===Mt.crop):i.value===Mt.crop,e&&(t.bleed=new xt(6,"pt"))}return t}function mc(e,t){const n={},i=e.bleed.num*t.queryUnitSize(e.bleed.unit,!1),o=e.bleedOffset.num*t.queryUnitSize(e.bleedOffset.unit,!1),s=i+o,r=e.width;r===zt?t.pref.defaultPaperSize?n.pageWidth=t.pref.defaultPaperSize.width*t.queryUnitSize("px",!1):n.pageWidth=(t.pref.spreadView?Math.floor(t.viewportWidth/2)-t.pref.pageBorder:t.viewportWidth)-2*s:n.pageWidth=r.num*t.queryUnitSize(r.unit,!1);const a=e.height;return a===Vt?t.pref.defaultPaperSize?n.pageHeight=t.pref.defaultPaperSize.height*t.queryUnitSize("px",!1):n.pageHeight=t.viewportHeight-2*s:n.pageHeight=a.num*t.queryUnitSize(a.unit,!1),n.bleed=i,n.bleedOffset=o,n.cropOffset=s,n}function bc(e,t,n){const i=e.createElementNS(F.SVG,"svg");return i.setAttribute("width",t),i.setAttribute("height",n),i.style.position="absolute",i}function wc(e,t,n){n=n||"polyline";const i=e.createElementNS(F.SVG,n);return i.setAttribute("stroke","black"),i.setAttribute("stroke-width",t),i.setAttribute("fill","none"),i}var Ec,yc;!function(e){e.TOP_LEFT="top left",e.TOP_RIGHT="top right",e.BOTTOM_LEFT="bottom left",e.BOTTOM_RIGHT="bottom right"}(Ec||(Ec={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(yc||(yc={}));const Sc=(()=>{const e={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0};return["left","right","top","bottom","before","after","start","end","block-start","block-end","inline-start","inline-end"].forEach(t=>{e[`margin-${t}`]=!0,e[`padding-${t}`]=!0,e[`border-${t}-width`]=!0,e[`border-${t}-style`]=!0,e[`border-${t}-color`]=!0}),e})();var Nc;!function(e){e.START="start",e.CENTER="center",e.END="end"}(Nc||(Nc={}));const vc={"top-left-corner":{order:1,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!0,positionAlongVariableDimension:null},"top-left":{order:2,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.START},"top-center":{order:3,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"top-right":{order:4,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"top-right-corner":{order:5,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"right-top":{order:6,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.START},"right-middle":{order:7,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.CENTER},"right-bottom":{order:8,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.END},"bottom-right-corner":{order:9,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"bottom-right":{order:10,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"bottom-center":{order:11,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"bottom-left":{order:12,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.START},"bottom-left-corner":{order:13,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"left-bottom":{order:14,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"left-middle":{order:15,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"left-top":{order:16,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.START}},Cc=(()=>{const e=vc;return Object.keys(e).sort((t,n)=>e[t].order-e[n].order)})();class Tc extends zh{constructor(e,t,n){super(e,null,"vivliostyle-page-rule-master",[],t,null,0),this.pageMarginBoxes={};const i=gc(n),o=new xc(this.scope,this,n,i);this.bodyPartitionKey=o.key,this.createPageMarginBoxes(n),this.applySpecified(n,i)}createPageMarginBoxes(e){const t=e._marginBoxes;if(t){const n=this;Cc.forEach(i=>{t[i]&&(n.pageMarginBoxes[i]=new Ic(n.scope,n,i,e))})}}applySpecified(e,t){this.specified.position=new Co(Mt.relative,0),this.specified.width=new Co(t.width,0),this.specified.height=new Co(t.height,0);for(const t in e)Sc[t]||"background-clip"===t||(this.specified[t]=e[t])}createInstance(e){return new Pc(e,this)}}class xc extends Hh{constructor(e,t,n,i){super(e,null,null,[],t),this.pageSize=i,this.specified["z-index"]=new Co(new Pt(0),0),this.applySpecified(n)}applySpecified(e){this.specified["flow-from"]=new Co(Tt("body"),0),this.specified.position=new Co(Mt.absolute,0),this.specified.overflow=new Co(Mt.visible,0);for(const t in Sc)Sc.hasOwnProperty(t)&&(this.specified[t]=e[t])}createInstance(e){return new kc(e,this)}}class Ic extends Hh{constructor(e,t,n,i){super(e,null,null,[],t),this.marginBoxName=n,this.applySpecified(i)}applySpecified(e){const t=e._marginBoxes[this.marginBoxName];for(const n in e){const i=e[n],o=t[n];(po[n]||o&&o.value===Mt.inherit)&&(this.specified[n]=i)}for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n&&n.value!==Mt.inherit&&(this.specified[e]=n)}}createInstance(e){return new Lc(e,this)}}class Pc extends nc{constructor(e,t){super(e,t),this.pageAreaDimension=null,this.pageMarginBoxInstances={}}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"writing-mode":case"direction":n[e]=t[e]}super.applyCascadeAndInit(e,t)}initHorizontal(){const e=this.style;e.left=Ht,e["margin-left"]=Ht,e["border-left-width"]=Ht,e["padding-left"]=Ht,e["padding-right"]=Ht,e["border-right-width"]=Ht,e["margin-right"]=Ht,e.right=Ht}initVertical(){const e=this.style;e.top=Ht,e["margin-top"]=Ht,e["border-top-width"]=Ht,e["padding-top"]=Ht,e["padding-bottom"]=Ht,e["border-bottom-width"]=Ht,e["margin-bottom"]=Ht,e.bottom=Ht}setPageAreaDimension(e){this.pageAreaDimension=e;const t=this.style;t.width=new Dt(e.borderBoxWidth),t.height=new Dt(e.borderBoxHeight),t["padding-left"]=new Dt(e.marginLeft),t["padding-right"]=new Dt(e.marginRight),t["padding-top"]=new Dt(e.marginTop),t["padding-bottom"]=new Dt(e.marginBottom)}adjustPageLayout(e,t,n){const i=t.marginBoxes,o={start:this.pageAreaDimension.marginLeft,end:this.pageAreaDimension.marginRight,extent:this.pageAreaDimension.borderBoxWidth},s={start:this.pageAreaDimension.marginTop,end:this.pageAreaDimension.marginBottom,extent:this.pageAreaDimension.borderBoxHeight};this.sizeMarginBoxesAlongVariableDimension(i.top,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.bottom,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.left,!1,s,e,n),this.sizeMarginBoxesAlongVariableDimension(i.right,!1,s,e,n)}sizeMarginBoxesAlongVariableDimension(e,t,n,i,o){const s=Nc.START,r=Nc.CENTER,a=Nc.END,l=this.pageBox.scope,h={},c={},u={};for(const n in e){const i=vc[n];if(i){const s=e[n],r=this.pageMarginBoxInstances[n],a=new Ac(s,r.style,t,l,o);h[i.positionAlongVariableDimension]=s,c[i.positionAlongVariableDimension]=r,u[i.positionAlongVariableDimension]=a}}const d={start:n.start.evaluate(i),end:n.end.evaluate(i),extent:n.extent.evaluate(i)};let p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1;const g={};Object.keys(h).forEach(e=>{const s=e,r=Gh(l,c[s].style[t?"max-width":"max-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]>e){const n=u[s]=new Rc(h[s],c[s].style,t,l,o,e);g[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1,[s,r,a].forEach(e=>{p[e]=g[e]||p[e]}));const m={};Object.keys(h).forEach(e=>{const s=e,r=Gh(l,c[s].style[t?"min-width":"min-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]<e){const n=u[s]=new Rc(h[s],c[s].style,t,l,o,e);m[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),[s,r,a].forEach(e=>{p[e]=m[e]||p[e]}));const b=d.start+d.extent,w=d.start+(d.start+d.extent);[s,r,a].forEach(e=>{const n=p[e];if(n){const i=h[e];let o=0;switch(e){case s:o=t?i.left:i.top;break;case r:o=(w-n)/2;break;case a:o=b-n}t?i.setHorizontalPosition(o,n-i.getInsetLeft()-i.getInsetRight()):i.setVerticalPosition(o,n-i.getInsetTop()-i.getInsetBottom())}})}getSizesOfMarginBoxesAlongVariableDimension(e,t){const n=e[Nc.START],i=e[Nc.CENTER],o=e[Nc.END],s={};if(i){const e=[n,o].filter(e=>e),r=e.length?new Oc(e):null,a=this.distributeAutoMarginBoxSizes(i,r,t);a.xSize&&(s[Nc.CENTER]=a.xSize);const l=(t-(a.xSize||i.getOuterSize()))/2;n&&n.hasAutoSize()&&(s[Nc.START]=l),o&&o.hasAutoSize()&&(s[Nc.END]=l)}else{const e=this.distributeAutoMarginBoxSizes(n,o,t);e.xSize&&(s[Nc.START]=e.xSize),e.ySize&&(s[Nc.END]=e.ySize)}return s}distributeAutoMarginBoxSizes(e,t,n){const i={xSize:null,ySize:null};if(e&&t)if(e.hasAutoSize()&&t.hasAutoSize()){const o=e.getOuterMaxContentSize(),s=t.getOuterMaxContentSize();if(o>0&&s>0){const r=o+s;if(r<n)i.xSize=n*o/r;else{const s=e.getOuterMinContentSize(),a=s+t.getOuterMinContentSize();a<n?i.xSize=s+(n-a)*(o-s)/(r-a):a>0&&(i.xSize=n*s/a)}i.xSize>0&&(i.ySize=n-i.xSize)}else o>0?i.xSize=n:s>0&&(i.ySize=n)}else e.hasAutoSize()?i.xSize=Math.max(n-t.getOuterSize(),0):t.hasAutoSize()&&(i.ySize=Math.max(n-e.getOuterSize(),0));else e?e.hasAutoSize()&&(i.xSize=n):t&&t.hasAutoSize()&&(i.ySize=n);return i}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),t.element.setAttribute("data-vivliostyle-page-box",!0)}}class Ac{constructor(e,t,n,i,o){this.container=e,this.isHorizontal=n,this.clientLayout=o,this.size=null,this.hasAutoSize_=!Gh(i,t[n?"width":"height"],new tt(i,0,"px"))}hasAutoSize(){return this.hasAutoSize_}getSize(){if(!this.size){const e=this.isHorizontal?[or.MAX_CONTENT_WIDTH,or.MIN_CONTENT_WIDTH]:[or.MAX_CONTENT_HEIGHT,or.MIN_CONTENT_HEIGHT];this.size=sr(this.clientLayout,this.container.element,e)}return this.size}getOuterMaxContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[or.MAX_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[or.MAX_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterMinContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[or.MIN_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[or.MIN_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.container.width+this.container.getInsetRight():this.container.getInsetTop()+this.container.height+this.container.getInsetBottom()}}class Oc{constructor(e){this.params=e}hasAutoSize(){return this.params.some(e=>e.hasAutoSize())}getOuterMaxContentSize(){const e=this.params.map(e=>e.getOuterMaxContentSize());return Math.max.apply(null,e)*e.length}getOuterMinContentSize(){const e=this.params.map(e=>e.getOuterMinContentSize());return Math.max.apply(null,e)*e.length}getOuterSize(){const e=this.params.map(e=>e.getOuterSize());return Math.max.apply(null,e)*e.length}}class Rc extends Ac{constructor(e,t,n,i,o,s){super(e,t,n,i,o),this.fixedSize=s}hasAutoSize(){return!1}getOuterMaxContentSize(){return this.getOuterSize()}getOuterMinContentSize(){return this.getOuterSize()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.fixedSize+this.container.getInsetRight():this.container.getInsetTop()+this.fixedSize+this.container.getInsetBottom()}}class kc extends oc{constructor(e,t){super(e,t),this.borderBoxWidth=null,this.borderBoxHeight=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(e.match(/^column.*$/)||e.match(/^background-/))&&(n[e]=t[e]);super.applyCascadeAndInit(e,t),this.parentInstance.setPageAreaDimension({borderBoxWidth:this.borderBoxWidth,borderBoxHeight:this.borderBoxHeight,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft})}initHorizontal(){const e=this.resolvePageBoxDimensions({start:"left",end:"right",extent:"width"});this.borderBoxWidth=e.borderBoxExtent,this.marginLeft=e.marginStart,this.marginRight=e.marginEnd}initVertical(){const e=this.resolvePageBoxDimensions({start:"top",end:"bottom",extent:"height"});this.borderBoxHeight=e.borderBoxExtent,this.marginTop=e.marginStart,this.marginBottom=e.marginEnd}resolvePageBoxDimensions(e){const t=this.style,n=this.pageBox.pageSize,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a=n[r].toExpr(i,null);let l=Gh(i,t[r],a),h=Gh(i,t[`margin-${o}`],a),c=Gh(i,t[`margin-${s}`],a);const u=$h(i,t[`padding-${o}`],a),d=$h(i,t[`padding-${s}`],a),p=Xh(i,t[`border-${o}-width`],t[`border-${o}-style`],a),f=Xh(i,t[`border-${s}-width`],t[`border-${s}-style`],a);let g=dt(i,a,ut(i,ut(i,p,u),ut(i,f,d)));return l?(g=dt(i,g,l),h||c?h?c=dt(i,g,h):h=dt(i,g,c):(h=pt(i,g,new at(i,.5)),c=h)):(h||(h=i.zero),c||(c=i.zero),l=dt(i,g,ut(i,h,c))),t[o]=new Dt(h),t[s]=new Dt(c),t[`margin-${o}`]=Ht,t[`margin-${s}`]=Ht,t[`padding-${o}`]=new Dt(u),t[`padding-${s}`]=new Dt(d),t[`border-${o}-width`]=new Dt(p),t[`border-${s}-width`]=new Dt(f),t[r]=new Dt(l),t[`max-${r}`]=new Dt(l),{borderBoxExtent:dt(i,a,ut(i,h,c)),marginStart:h,marginEnd:c}}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),n.pageAreaElement=t.element,e.pageAreaWidth=parseFloat(n.pageAreaElement.style.width),e.pageAreaHeight=parseFloat(n.pageAreaElement.style.height)}}class Lc extends oc{constructor(e,t){super(e,t),this.suppressEmptyBoxGeneration=!0;const n=t.marginBoxName;this.boxInfo=vc[n],e.pageMarginBoxInstances[n]=this}prepareContainer(e,t,n,i,o){this.applyVerticalAlign(e,t.element),super.prepareContainer(e,t,n,i,o)}applyVerticalAlign(e,t){V(t,"display","flex");const n=this.getProp(e,"vertical-align");let i=null;n===Tt("middle")?i="center":n===Tt("top")?i="flex-start":n===Tt("bottom")&&(i="flex-end"),i&&(V(t,"flex-flow",this.vertical?"row":"column"),V(t,"justify-content",i))}positionAlongVariableDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a="left"===o,l=a?t.borderBoxWidth:t.borderBoxHeight,h=Gh(i,n[r],l),c=a?t.marginLeft:t.marginTop;if(this.boxInfo.positionAlongVariableDimension===Nc.START)n[o]=new Dt(c);else if(h){const e=$h(i,n[`margin-${o}`],l),t=$h(i,n[`margin-${s}`],l),r=$h(i,n[`padding-${o}`],l),a=$h(i,n[`padding-${s}`],l),u=Xh(i,n[`border-${o}-width`],n[`border-${o}-style`],l),d=Xh(i,n[`border-${s}-width`],n[`border-${s}-style`],l),p=ut(i,h,ut(i,ut(i,r,a),ut(i,ut(i,u,d),ut(i,e,t))));switch(this.boxInfo.positionAlongVariableDimension){case Nc.CENTER:n[o]=new Dt(ut(i,c,ft(i,dt(i,l,p),new at(i,2))));break;case Nc.END:n[o]=new Dt(dt(i,ut(i,c,l),p))}}}positionAndSizeAlongFixedDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.inside,s=e.outside,r=e.extent,a=t[`margin${s.charAt(0).toUpperCase()}${s.substring(1)}`],l=Wh(i,n[`margin-${o}`],a),h=Wh(i,n[`margin-${s}`],a),c=$h(i,n[`padding-${o}`],a),u=$h(i,n[`padding-${s}`],a),d=Xh(i,n[`border-${o}-width`],n[`border-${o}-style`],a),p=Xh(i,n[`border-${s}-width`],n[`border-${s}-style`],a),f=Gh(i,n[r],a);let g=null;function m(e){if(g)return g;g={extent:f?f.evaluate(e):null,marginInside:l?l.evaluate(e):null,marginOutside:h?h.evaluate(e):null};const t=a.evaluate(e);let n=0;return[d,c,u,p].forEach(t=>{t&&(n+=t.evaluate(e))}),(null===g.marginInside||null===g.marginOutside)&&n+g.extent+g.marginInside+g.marginOutside>t&&(null===g.marginInside&&(g.marginInside=0),null===g.marginOutside&&(g.marginOutside=0)),null!==g.extent&&null!==g.marginInside&&null!==g.marginOutside&&(g.marginOutside=null),null===g.extent&&null!==g.marginInside&&null!==g.marginOutside?g.extent=t-n-g.marginInside-g.marginOutside:null!==g.extent&&null===g.marginInside&&null!==g.marginOutside?g.marginInside=t-n-g.extent-g.marginOutside:null!==g.extent&&null!==g.marginInside&&null===g.marginOutside?g.marginOutside=t-n-g.extent-g.marginInside:null===g.extent?(g.marginInside=g.marginOutside=0,g.extent=t-n):g.marginInside=g.marginOutside=(t-n-g.extent)/2,g}n[r]=new Dt(new ot(i,(function(){const e=m(this).extent;return null===e?0:e}),r)),n[`margin-${o}`]=new Dt(new ot(i,(function(){const e=m(this).marginInside;return null===e?0:e}),`margin-${o}`)),n[`margin-${s}`]=new Dt(new ot(i,(function(){const e=m(this).marginOutside;return null===e?0:e}),`margin-${s}`)),"left"===o?n.left=new Dt(ut(i,t.marginLeft,t.borderBoxWidth)):"top"===o&&(n.top=new Dt(ut(i,t.marginTop,t.borderBoxHeight)))}initHorizontal(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInLeftColumn?this.positionAndSizeAlongFixedDimension({inside:"right",outside:"left",extent:"width"},e):this.boxInfo.isInRightColumn?this.positionAndSizeAlongFixedDimension({inside:"left",outside:"right",extent:"width"},e):this.positionAlongVariableDimension({start:"left",end:"right",extent:"width"},e)}initVertical(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInTopRow?this.positionAndSizeAlongFixedDimension({inside:"bottom",outside:"top",extent:"height"},e):this.boxInfo.isInBottomRow?this.positionAndSizeAlongFixedDimension({inside:"top",outside:"bottom",extent:"height"},e):this.positionAlongVariableDimension({start:"top",end:"bottom",extent:"height"},e)}finishContainer(e,t,n,i,o,s,r){super.finishContainer(e,t,n,i,o,s,r);const a=n.marginBoxes,l=this.pageBox.marginBoxName,h=this.boxInfo;h.isInLeftColumn||h.isInRightColumn?h.isInTopRow||h.isInBottomRow||(h.isInLeftColumn?a.left[l]=t:h.isInRightColumn&&(a.right[l]=t)):h.isInTopRow?a.top[l]=t:h.isInBottomRow&&(a.bottom[l]=t)}}class Fc{constructor(e,t,n,i,o){this.cascadeInstance=e,this.pageScope=t,this.rootPageBoxInstance=n,this.context=i,this.docElementStyle=o,this.pageMasterCache={},this.definePageProgression()}definePageProgression(){const e=this.pageScope,n=new nt(e,"page-number"),i=new Ke(e,new et(e,n,new at(e,2)),e.zero);e.defineName("recto-page",new Me(e,i)),e.defineName("verso-page",i),(this.context.pageProgression||hc(this.docElementStyle))===t.PageProgression.LTR?(e.defineName("left-page",i),e.defineName("right-page",new Me(e,i))):(e.defineName("left-page",new Me(e,i)),e.defineName("right-page",i))}getCascadedPageStyle(){const e={};return this.cascadeInstance.pushRule([],"",e),this.cascadeInstance.popRule(),e}getPageRulePageMaster(e,t){const n=e.pageBox;if(0===Object.keys(t).length)return n.resetScope(),e;const i=this.makeCacheKey(t,n);let o=this.pageMasterCache[i];return o||(o=n.pseudoName===ec?this.generatePageRuleMaster(t):this.generateCascadedPageMaster(t,n),this.pageMasterCache[i]=o),o.pageBox.resetScope(),o}makeCacheKey(e,t){const n=this.makeCascadeValueObjectKey(e);return`${t.key}^${n}`}makeCascadeValueObjectKey(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];let o;o=i instanceof Co?`${i.value}`:this.makeCascadeValueObjectKey(i),t.push(n+o+(i.priority||""))}return t.sort().join("^")}generatePageRuleMaster(e){const t=new Tc(this.pageScope,this.rootPageBoxInstance.pageBox,e).createInstance(this.rootPageBoxInstance);return t.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),t.resolveAutoSizing(this.context),t}generateCascadedPageMaster(e,t){const n=t.clone({pseudoName:"vivliostyle-page-rule-master"}),i=n.specified,o=e.size;if(o){const t=gc(e),n=o.priority;i.width=xo(this.context,i.width,new Co(t.width,n)),i.height=xo(this.context,i.height,new Co(t.height,n))}["counter-reset","counter-increment"].forEach(t=>{i[t]&&(e[t]=i[t])});const s=n.createInstance(this.rootPageBoxInstance);return s.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),s.resolveAutoSizing(this.context),s}}class Dc extends Xo{constructor(e){super(),this.pageType=e}apply(e){e.currentPageType===this.pageType&&this.chained.apply(e)}getPriority(){return 3}makePrimary(e){return this.chained&&e.insertInTable(e.pagetypes,this.pageType,this.chained),!0}}class _c extends Xo{constructor(e){super(),this.scope=e}apply(e){1===new nt(this.scope,"page-number").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 2}}class Bc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"left-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Mc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"right-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Uc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"recto-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class zc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"verso-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Vc extends Wo{constructor(e,t){super(e,t,null,null,null)}apply(e){!function(e,t,n,i,o){Mo(e,t,n,i,null,null,null);const s=n._marginBoxes;if(s){const n=Fo(t,"_marginBoxes");for(const t in s)if(s.hasOwnProperty(t)){let o=n[t];o||(o={},n[t]=o),Mo(e,o,s[t],i,null,null,null)}}}(e.context,e.currentStyle,this.style,this.specificity)}}class Hc extends Ms{constructor(e,t,n,i,o){super(e,t,null,n,null,i,!1),this.pageProps=o,this.currentPageSelectors=[],this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}startPageRule(){this.startSelectorRule()}tagSelector(e,t){this.currentNamedPageSelector=t,t&&(this.chain.push(new Dc(t)),this.specificity+=65536)}pseudoclassSelector(e,t){switch(t&&this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}(${t.join("")})`),this.currentPseudoPageClassSelectors.push(`:${e}`),e.toLowerCase()){case"first":this.chain.push(new _c(this.scope)),this.specificity+=256;break;case"left":this.chain.push(new Bc(this.scope)),this.specificity+=1;break;case"right":this.chain.push(new Mc(this.scope)),this.specificity+=1;break;case"recto":this.chain.push(new Uc(this.scope)),this.specificity+=1;break;case"verso":this.chain.push(new zc(this.scope)),this.specificity+=1;break;default:this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}`)}}finishSelector(){let e;e=this.currentNamedPageSelector||this.currentPseudoPageClassSelectors.length?[this.currentNamedPageSelector].concat(this.currentPseudoPageClassSelectors.sort()):null,this.currentPageSelectors.push({selectors:e,specificity:this.specificity}),this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}nextSelector(){this.finishSelector(),super.nextSelector()}startRuleBody(){this.finishSelector(),super.startRuleBody()}simpleProperty(e,t,n){if(("bleed"===e||"marks"===e)&&!this.currentPageSelectors.some(e=>null===e.selectors))return;super.simpleProperty(e,t,n);const i=Ro(this.elementStyle,e),o=this.pageProps;if("bleed"===e||"marks"===e)o[""]||(o[""]={}),Object.keys(o).forEach(t=>{ko(o[t],e,i)});else if("size"===e){const t=o[""];this.currentPageSelectors.forEach(n=>{let s=new Co(i.value,i.priority+n.specificity);const r=n.selectors?n.selectors.join(""):"";let a=o[r];if(a){const t=Ro(a,e);s=t?xo(null,s,t):s,ko(a,e,s)}else a=o[r]={},ko(a,e,s),t&&["bleed","marks"].forEach(e=>{t[e]&&ko(a,e,t[e])},this)})}}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.pagetypes,"*",e)}makeApplyRuleAction(e){return new Vc(this.elementStyle,e)}startPageMarginBoxRule(e){const t=Fo(this.elementStyle,"_marginBoxes");let n=t[e];n||(n={},t[e]=n);const i=new Gc(this.scope,this.owner,this.validatorSet,n);this.owner.pushHandler(i)}}class Gc extends Bi{constructor(e,t,n,i){super(e,t,!1),this.validatorSet=n,this.boxStyle=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=new Co(t,i);ko(this.boxStyle,e,o)}}const $c=(e,t,n)=>e.replace(/[uU][rR][lL]\(\s*"((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"\r\n])+)"/gm,(e,i)=>`url("${n.transformURL(i,t)}"`).replace(/[uU][rR][lL]\(\s*'((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^'\r\n])+)'/gm,(e,i)=>`url('${n.transformURL(i,t)}'`).replace(/[uU][rR][lL]\(\s*((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"'\r\n\)\s])+)/gm,(e,i)=>`url(${n.transformURL(i,t)}`),Wc={},Xc={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent","border-top-left-radius":"0px","border-top-right-radius":"0px"},jc={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent","border-top-right-radius":"0px","border-bottom-right-radius":"0px"},Kc={"margin-top":"0px"},Yc={"margin-right":"0px"};class qc extends ne{constructor(e,t,n,i,o,s,r,a,l,h,c,u,d){super(),this.flowName=e,this.context=t,this.viewport=n,this.styler=i,this.regionIds=o,this.xmldoc=s,this.docFaces=r,this.footnoteStyle=a,this.stylerProducer=l,this.page=h,this.customRenderer=c,this.fallbackMap=u,this.documentURLTransformer=d,this.nodeContext=null,this.viewRoot=null,this.isFootnote=!1,this.sourceNode=null,this.offsetInNode=0,this.viewNode=null,this.document=n.document,this.exprContentListener=i.counterListener.getExprContentListener()}clone(){return new qc(this.flowName,this.context,this.viewport,this.styler,this.regionIds,this.xmldoc,this.docFaces,this.footnoteStyle,this.stylerProducer,this.page,this.customRenderer,this.fallbackMap,this.documentURLTransformer)}createPseudoelementShadow(e,t,n,i,o,s,r,a){const l=this.getPseudoMap(n,this.regionIds,this.isFootnote,this.nodeContext,s);if(!l)return a;const h=[],c=Ga.createElementNS(F.SHADOW,"root");let u=c;for(const e of $a){let n;if(e){if(!l[e])continue;if(!("footnote-marker"!=e||t&&this.isFootnote))continue;if(e.match(/^first-/)){const e=i.display;if(!e||e===Mt.inline)continue}if("before"===e||"after"===e){const t=l[e].content;if(!t||t===Mt.normal||t===Mt.none)continue}h.push(e),n=Ga.createElementNS(F.XHTML,"span"),Xa(n,e)}else n=Ga.createElementNS(F.SHADOW,"content");u.appendChild(n),e.match(/^first-/)&&(u=n)}if(!h.length)return a;const d=new ja(e,n,o,s,this.exprContentListener);return new Gr(e,c,null,r,a,Hr.ROOTLESS,d)}getPseudoMap(e,t,n,i,o){const s=Lo(e,"_pseudos");if(!s)return null;const r={};for(const e in s){const i=r[e]={};Zs(i,s[e],o),Xs(i,o,s[e]),qs(s[e],t,n,(e,t)=>{Zs(i,t,o),Ws(t,e=>{Zs(i,e,o)})})}return r}createRefShadow(e,t,n,i,o){const s=this,r=di("createRefShadow");return s.xmldoc.store.load(e).then(a=>{const l=a;if(l){const r=l.getElement(e);if(r){const e=s.stylerProducer.getStylerForDoc(l);o=new Gr(n,r,l,i,o,t,e)}}r.finish(o)}),r.result()}createShadows(e,t,n,i,o,s,r){const a=this,l=di("createShadows"),h=i.template;let c;if(h instanceof Ot){const t=h.url;c=a.createRefShadow(t,Hr.ROOTLESS,e,r,null)}else c=pi(null);return c.then(h=>{let c=null;if(e.namespaceURI==F.SHADOW&&"include"==e.localName){let t=e.getAttribute("href"),n=null;t?n=r?r.xmldoc:a.xmldoc:r&&(t=r.owner.namespaceURI==F.XHTML?r.owner.getAttribute("href"):r.owner.getAttributeNS(F.XLINK,"href"),n=r.parentShadow?r.parentShadow.xmldoc:a.xmldoc),t&&(t=k(t,n.url),c=a.createRefShadow(t,Hr.ROOTED,e,r,h))}null==c&&(c=pi(h));let u=null;c.then(t=>{if(i.display===Mt.table_cell){const n=k("user-agent.xml#table-cell",O);u=a.createRefShadow(n,Hr.ROOTLESS,e,r,t)}else u=pi(t)}),u.then(h=>{h=a.createPseudoelementShadow(e,t,n,i,o,s,r,h),l.finish(h)})}),l.result()}setViewRoot(e,t){this.viewRoot=e,this.isFootnote=t}computeStyle(e,t,n,i){const o=this.context,s=Ys(n,o,this.regionIds,this.isFootnote,this.nodeContext);e=js(s,o,e),t=Ks(s,o,t);const r=this;Qs(s,i,e,t,(e,t)=>{let n=t.evaluate(o,e);return"font-family"==e&&(n=r.docFaces.filterFontFamily(n)),n});const a=i.position,l=i.float,h=Ra(i.display||Mt.inline,a,l,this.sourceNode===this.xmldoc.root);return["display","position","float"].forEach(e=>{h[e]&&(i[e]=h[e])}),e}inheritFromSourceParent(e){let t=this.nodeContext.sourceNode;const n=[];let i=null,o=this.nodeContext.shadowContext,s=-1;for(;t&&1==t.nodeType;){const e=o&&o.root==t;if(!e||o.type==Hr.ROOTLESS){const e=(o?o.styler:this.styler).getStyle(t,!1);n.push(e),i=i||G(t)}e?(t=o.owner,o=o.parentShadow):(t=t.parentNode,s++)}const r=0===s,a=this.context.queryUnitSize("em",r),l={"font-size":new Co(new xt(a,"px"),0)},h=new zo(l,this.context);for(let e=n.length-1;e>=0;--e){const t=n[e],i=[];for(const e in t)Oo(e)&&i.push(e);i.sort($t);for(const e of i){h.setPropName(e);const n=Ro(t,e);n.value!==Mt.inherit&&(l[e]=n.filterValue(h))}}for(const t in e)Oo(t)||(l[t]=e[t]);return{lang:i,elementStyle:l}}resolveURL(e){return e=k(e,this.xmldoc.url),this.fallbackMap[e]||e}inheritLangAttribute(){this.nodeContext.lang=G(this.nodeContext.sourceNode)||this.nodeContext.parent&&this.nodeContext.parent.lang||this.nodeContext.lang}transferPolyfilledInheritedProps(e){const n=g(t.HOOKS.POLYFILLED_INHERITED_PROPS).reduce((e,t)=>e.concat(t()),[].concat(fo)).filter(t=>e[t]);if(n.length){let t=this.nodeContext.inheritedProps;if(this.nodeContext.parent){t=this.nodeContext.inheritedProps={};for(const e in this.nodeContext.parent.inheritedProps)t[e]=this.nodeContext.parent.inheritedProps[e]}n.forEach(n=>{const i=e[n];if(i){if(i instanceof Pt)t[n]=i.num;else if(i instanceof Ct)t[n]=i.name;else if(i instanceof xt){const e=i;switch(e.unit){case"dpi":case"dpcm":case"dppx":t[n]=e.num*Pe[e.unit]}}else t[n]=i;delete e[n]}})}}resolveFormattingContext(e,n,i,o,s,r){const a=g(t.HOOKS.RESOLVE_FORMATTING_CONTEXT);for(let t=0;t<a.length;t++){const l=a[t](e,n,i,o,s,r);if(l)return void(e.formattingContext=l)}}createElementView(e,t){const n=this;let i=!0;const o=di("createElementView");let s=n.sourceNode;const r=n.nodeContext.shadowContext?n.nodeContext.shadowContext.styler:n.styler;let a=r.getStyle(s,!1);if(!n.nodeContext.shadowContext){const e=this.xmldoc.getElementOffset(s);co.registerFragmentIndex(e,n.nodeContext.fragmentIndex,0)}const l={};if(!n.nodeContext.parent){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}const h=a["float-reference"]&&function(e){switch(e){case"inline":return ea.INLINE;case"column":return ea.COLUMN;case"region":return ea.REGION;case"page":return ea.PAGE;default:throw new Error(`Unknown float-reference: ${e}`)}}(a["float-reference"].value.toString());if(n.nodeContext.parent&&h&&ta(h)){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}n.nodeContext.vertical=n.computeStyle(n.nodeContext.vertical,"rtl"===n.nodeContext.direction,a,l),r.processContent(s,l),this.transferPolyfilledInheritedProps(l),this.inheritLangAttribute(),l.direction&&(n.nodeContext.direction=l.direction.toString());const c=l["flow-into"];if(c&&c.toString()!=n.flowName)return o.finish(!1),o.result();let u=l.display;if(u===Mt.none)return o.finish(!1),o.result();const d=null==n.nodeContext.parent;return n.nodeContext.flexContainer=u===Mt.flex,n.createShadows(s,d,a,l,r,n.context,n.nodeContext.shadowContext).then(c=>{n.nodeContext.nodeShadow=c;const p=l.position;let f=l.float,g=l.clear;const m=n.nodeContext.vertical?Mt.vertical_rl:Mt.horizontal_tb,b=n.nodeContext.parent?n.nodeContext.parent.vertical?Mt.vertical_rl:Mt.horizontal_tb:m,w=function(e){return"true"===e.getAttribute("data-vivliostyle-flow-root")}(s);n.nodeContext.establishesBFC=function(e,t,n,i,o,s,r){return o=o||s||Mt.horizontal_tb,!!r||!!n&&n!==Mt.none||Oa(t)||e===Mt.inline_block||e===Mt.table_cell||e===Mt.table_caption||e==Mt.flex||(e===Mt.block||e===Mt.list_item)&&!!i&&i!==Mt.visible||!!s&&o!==s}(u,p,f,l.overflow,m,b,w),n.nodeContext.containingBlockForAbsolute=function(e){return e===Mt.relative||e===Mt.absolute||e===Mt.fixed}(p),!n.nodeContext.isInsideBFC()||f===Mt.footnote||h&&ta(h)||(f=null,g=null);let E=f===Mt.left||f===Mt.right||f===Mt.top||f===Mt.bottom||f===Mt.inline_start||f===Mt.inline_end||f===Mt.block_start||f===Mt.block_end||f===Mt.snap_block||f===Mt.footnote;f&&(delete l.float,f===Mt.footnote&&(n.isFootnote?(E=!1,l.display=Mt.block):l.display=Mt.inline)),g&&(g===Mt.inherit&&n.nodeContext.parent&&n.nodeContext.parent.clearSide&&(g=Tt(n.nodeContext.parent.clearSide)),g!==Mt.left&&g!==Mt.right&&g!==Mt.top&&g!==Mt.bottom&&g!==Mt.both&&g!==Mt.all&&g!==Mt.same||(delete l.clear,l.display&&l.display!=Mt.inline&&(n.nodeContext.clearSide=g.toString())));const y=u===Mt.list_item&&l["ua-list-item-count"];if((E||l["break-inside"]&&l["break-inside"]!==Mt.auto)&&n.nodeContext.breakPenalty++,u&&u!==Mt.inline&&La(u)&&n.nodeContext.breakPenalty++,n.nodeContext.inline=!E&&!u||La(u)||function(e){switch(e.toString()){case"ruby-base":case"ruby-text":case"ruby-base-container":case"ruby-text-container":return!0;default:return!1}}(u),n.nodeContext.display=u?u.toString():"inline",n.nodeContext.floatSide=E?f.toString():null,n.nodeContext.floatReference=h||ea.INLINE,n.nodeContext.floatMinWrapBlock=l["float-min-wrap-block"]||null,n.nodeContext.columnSpan=l["column-span"],!n.nodeContext.inline){const e=l["break-after"];e&&(n.nodeContext.breakAfter=e.toString());const t=l["break-before"];t&&(n.nodeContext.breakBefore=t.toString())}n.nodeContext.verticalAlign=l["vertical-align"]&&l["vertical-align"].toString()||"baseline",n.nodeContext.captionSide=l["caption-side"]&&l["caption-side"].toString()||"top";const S=l["border-collapse"];if(!S||S===Tt("separate")){const e=l["border-spacing"];let t,i;e&&(e.isSpaceList()?(t=e.values[0],i=e.values[1]):t=i=e,t.isNumeric()&&(n.nodeContext.inlineBorderSpacing=_t(t,n.context)),i.isNumeric()&&(n.nodeContext.blockBorderSpacing=_t(i,n.context)))}n.nodeContext.footnotePolicy=l["footnote-policy"];const N=l["x-first-pseudo"];if(N){const e=n.nodeContext.parent?n.nodeContext.parent.firstPseudo:null;n.nodeContext.firstPseudo=new Wr(e,N.num)}n.nodeContext.inline||n.processAfterIfcontinues(s,a,r,n.context);const v=l["white-space"];if(v){const e=kr(v.toString());null!==e&&(n.nodeContext.whitespace=e)}const C=l["hyphenate-character"];C&&C!==Mt.auto&&(n.nodeContext.hyphenateCharacter=C.str);const T=l["word-break"],x=l["overflow-wrap"]||["word-wrap"];n.nodeContext.breakWord=T===Mt.break_all||x===Mt.break_word,n.resolveFormattingContext(n.nodeContext,e,u,p,f,d),n.nodeContext.parent&&n.nodeContext.parent.formattingContext&&(e=n.nodeContext.parent.formattingContext.isFirstTime(n.nodeContext,e)),n.nodeContext.inline||(n.nodeContext.repeatOnBreak=n.processRepeatOnBreak(l),n.findAndProcessRepeatingElements(s,r));let I=!1,P=null;const A=[];let O,R=s.namespaceURI,k=s.localName;if(R==F.XHTML)"html"==k||"body"==k||"script"==k||"link"==k||"meta"==k?k="div":"vide_"==k?k="video":"audi_"==k?k="audio":"object"==k&&(I=!!n.customRenderer),s.getAttribute("data-adapt-pseudo")&&a.content&&a.content.value&&a.content.value.url&&(k="img");else if(R==F.epub)k="span",R=F.XHTML;else if(R==F.FB2){if(R=F.XHTML,"image"==k){k="div";const e=s.getAttributeNS(F.XLINK,"href");if(e&&"#"==e.charAt(0)){const t=n.xmldoc.getElement(e);if(t){P=n.createElement(R,"img");const e=`data:${t.getAttribute("content-type")||"image/jpeg"};base64,${t.textContent.replace(/[ \t\n\t]/g,"")}`;A.push(xi(P,e))}}}else k=Zc[k];k||(k=n.nodeContext.inline?"span":"div")}else if(R==F.NCX)if(R=F.XHTML,"ncx"==k||"navPoint"==k)k="div";else if("navLabel"==k){k="span";const e=s.parentNode;if(e){let t=null;for(let n=e.firstChild;n;n=n.nextSibling){if(1!=n.nodeType)continue;const e=n;if(e.namespaceURI==F.NCX&&"content"==e.localName){t=e.getAttribute("src");break}}t&&(k="a",s=s.ownerDocument.createElementNS(R,"a"),s.setAttribute("href",t))}}else k="span";else R==F.SHADOW?(R=F.XHTML,k=n.nodeContext.inline?"span":"div"):I=!!n.customRenderer;if(y)e?k="li":(k="div",u=Mt.block,l.display=u);else if("body"==k||"li"==k)k="div";else if("q"==k)k="span";else if("a"==k){const e=l["hyperlink-processing"];e&&"normal"!=e.toString()&&(k="span")}if(l.behavior&&"none"!=l.behavior.toString()&&n.customRenderer&&(I=!0),s.dataset&&"true"===s.getAttribute("data-math-typeset")&&(I=!0),I){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:null;O=n.customRenderer(s,e,l)}else O=pi(null);O.then(r=>{var a;r?I&&(i="true"==r.getAttribute("data-adapt-process-children")):r=n.createElement(R,k),"a"==k&&r.addEventListener("click",n.page.hrefHandler,!1),P&&(n.applyPseudoelementStyle(n.nodeContext,"inner",P),r.appendChild(P)),"iframe"==r.localName&&r.namespaceURI==F.XHTML&&(a=r).addEventListener("load",()=>{a.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(e,t){switch(e){case"mouse-events":return!0}return!1}}},!1);const h=n.nodeContext.inheritedProps["image-resolution"],c=[],u=l.width,d=l.height,p=s.getAttribute("width"),f=s.getAttribute("height"),g=u===Mt.auto||!u&&!p,m=d===Mt.auto||!d&&!f;if(s.namespaceURI!=F.FB2||"td"==k){const t=s.attributes,i=t.length;let o=null;for(let s=0;s<i;s++){const i=t[s],a=i.namespaceURI;let l=i.localName,h=i.nodeValue;if(a){if("http://www.w3.org/2000/xmlns/"==a)continue;a==F.XLINK&&"href"==l&&(h=n.resolveURL(h))}else{if(l.match(/^on/))continue;if("style"==l)continue;if(("id"==l||"name"==l)&&e){h=n.documentURLTransformer.transformFragment(h,n.xmldoc.url),r.setAttribute(l,h),n.page.registerElementWithId(r,h);continue}if("src"==l||"href"==l||"poster"==l?(h=n.resolveURL(h),"href"===l&&(h=n.documentURLTransformer.transformURL(h,n.xmldoc.url))):"srcset"==l&&(h=h.split(",").map(e=>n.resolveURL(e.trim())).join(",")),"poster"===l&&"video"===k&&R===F.XHTML&&g&&m){const e=new Image,t=xi(e,h);A.push(t),c.push({image:e,element:r,fetcher:t})}}if(R==F.SVG&&/^[A-Z\-]+$/.test(l)&&(l=l.toLowerCase()),n.isSVGUrlAttribute(l)&&(h=$c(h,n.xmldoc.url,n.documentURLTransformer)),a){const e=Wc[a];e&&(l=`${e}:${l}`)}"src"!=l||a||"img"!=k&&"input"!=k||R!=F.XHTML?"href"==l&&"image"==k&&R==F.SVG&&a==F.XLINK?n.page.fetchers.push(xi(r,h)):a?r.setAttributeNS(a,l,h):r.setAttribute(l,h):o=h}if(o){const e="input"===k?new Image:r,t=xi(e,o);e!==r&&(r.src=o),g||m?(g&&m&&h&&1!==h&&c.push({image:e,element:r,fetcher:t}),A.push(t)):n.page.fetchers.push(t)}}delete l.content;const b=l["list-style-image"];if(b&&b instanceof Ot){const e=b.url;A.push(xi(new Image,e))}if(n.preprocessElementStyle(l),n.applyComputedStyles(r,l),!n.nodeContext.inline){let i=null;if(e?t&&(i=n.nodeContext.vertical?Yc:Kc):i="clone"!==n.nodeContext.inheritedProps["box-decoration-break"]?n.nodeContext.vertical?jc:Xc:n.nodeContext.vertical?Yc:Kc,i)for(const e in i)V(r,e,i[e])}y&&r.setAttribute("value",l["ua-list-item-count"].stringValue()),n.viewNode=r,A.length?Ti(A).then(()=>{h>0&&n.modifyElemDimensionWithImageResolution(c,h,l,n.nodeContext.vertical),o.finish(i)}):o.timeSlice().then(()=>{o.finish(i)})})}),o.result()}processAfterIfcontinues(e,t,n,i){const o=this.getPseudoMap(t,this.regionIds,this.isFootnote,this.nodeContext,i);if(o&&o["after-if-continues"]&&o["after-if-continues"].content){const o=new ja(e,t,n,i,this.exprContentListener);this.nodeContext.afterIfContinues=new Ya(e,o)}}isSVGUrlAttribute(e){return qc.SVG_URL_ATTRIBUTES.includes(e.toLowerCase())}modifyElemDimensionWithImageResolution(e,t,n,i){const o=this;e.forEach(e=>{if("load"===e.fetcher.get().get()){const s=e.image;let r=s.width/t,a=s.height/t;const l=e.element;if(r>0&&a>0)if(n["box-sizing"]===Mt.border_box&&(n["border-left-style"]!==Mt.none&&(r+=_t(n["border-left-width"],o.context)),n["border-right-style"]!==Mt.none&&(r+=_t(n["border-right-width"],o.context)),n["border-top-style"]!==Mt.none&&(a+=_t(n["border-top-width"],o.context)),n["border-bottom-style"]!==Mt.none&&(a+=_t(n["border-bottom-width"],o.context))),t>1){const e=n["max-width"]||Mt.none,t=n["max-height"]||Mt.none;if(e===Mt.none&&t===Mt.none)V(l,"max-width",`${r}px`);else if(e!==Mt.none&&t===Mt.none)V(l,"width",`${r}px`);else if(e===Mt.none&&t!==Mt.none)V(l,"height",`${a}px`);else{e.isNumeric(),t.isNumeric();const n=e,s=t;"%"!==n.unit?V(l,"max-width",`${Math.min(r,_t(n,o.context))}px`):"%"!==s.unit?V(l,"max-height",`${Math.min(a,_t(s,o.context))}px`):i?V(l,"height",`${a}px`):V(l,"width",`${r}px`)}}else if(t<1){const e=n["min-width"]||Ht,t=n["min-height"]||Ht;e.isNumeric(),e.isNumeric();const s=e,h=t;0===s.num&&0===h.num?V(l,"min-width",`${r}px`):0!==s.num&&0===h.num?V(l,"width",`${r}px`):0===s.num&&0!==h.num?V(l,"height",`${a}px`):"%"!==s.unit?V(l,"min-width",`${Math.max(r,_t(s,o.context))}px`):"%"!==h.unit?V(l,"min-height",`${Math.max(a,_t(h,o.context))}px`):i?V(l,"height",`${a}px`):V(l,"width",`${r}px`)}}})}preprocessElementStyle(e){const n=this;g(t.HOOKS.PREPROCESS_ELEMENT_STYLE).forEach(t=>{t(n.nodeContext,e)})}findAndProcessRepeatingElements(e,t){for(let n=e.firstChild;n;n=n.nextSibling){if(1!==n.nodeType)continue;const e={},i=t.getStyle(n,!1);if(this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,i,e),!this.processRepeatOnBreak(e))continue;if(this.nodeContext.formattingContext instanceof dl&&!this.nodeContext.belongsTo(this.nodeContext.formattingContext))return;const o=this.nodeContext.parent,s=o&&o.formattingContext;return this.nodeContext.formattingContext=new dl(s,this.nodeContext.sourceNode),void this.nodeContext.formattingContext.initializeRepetitiveElements(this.nodeContext.vertical)}}processRepeatOnBreak(e){let t=e["repeat-on-break"];return t!==Mt.none&&(t===Mt.auto&&(t=e.display===Mt.table_header_group?Mt.header:e.display===Mt.table_footer_group?Mt.footer:Mt.none),t&&t!==Mt.none)?t.toString():null}createTextNodeView(){const e=this,t=di("createTextNodeView");return this.preprocessTextContent().then(()=>{const n=e.offsetInNode||0,i=vr(e.nodeContext.preprocessedTextContent).substr(n);e.viewNode=document.createTextNode(i),t.finish(!0)}),t.result()}preprocessTextContent(){if(null!=this.nodeContext.preprocessedTextContent)return pi(!0);const e=this;let n,i=n=e.sourceNode.textContent;const o=di("preprocessTextContent"),s=g(t.HOOKS.PREPROCESS_TEXT_CONTENT);let r=0;return o.loop(()=>r>=s.length?pi(!1):s[r++](e.nodeContext,i).thenAsync(e=>(i=e,pi(!0)))).then(()=>{e.nodeContext.preprocessedTextContent=Nr(n,i,0),o.finish(!0)}),o.result()}createNodeView(e,t){const n=this,i=di("createNodeView");let o,s=!0;return 1==n.sourceNode.nodeType?o=n.createElementView(e,t):8==n.sourceNode.nodeType?(n.viewNode=null,o=pi(!0)):o=n.createTextNodeView(),o.then(e=>{if(s=e,n.nodeContext.viewNode=n.viewNode,n.viewNode){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:n.viewRoot;e&&e.appendChild(n.viewNode)}i.finish(s)}),i.result()}setCurrent(e,t,n){return this.nodeContext=e,e?(this.sourceNode=e.sourceNode,this.offsetInNode=e.offsetInNode):(this.sourceNode=null,this.offsetInNode=-1),this.viewNode=null,this.nodeContext?this.createNodeView(t,!!n):pi(!0)}processShadowContent(e){if(null==e.shadowContext||"content"!=e.sourceNode.localName||e.sourceNode.namespaceURI!=F.SHADOW)return e;const t=e.boxOffset,n=e.shadowContext,i=e.parent;let o,s,r;n.subShadow?(r=n.subShadow,o=n.root,s=n.type,s==Hr.ROOTLESS&&(o=o.firstChild)):(r=n.parentShadow,o=n.owner.firstChild,s=Hr.ROOTLESS);const a=e.sourceNode.nextSibling;if(a?(e.sourceNode=a,e.resetView()):e.shadowSibling?e=e.shadowSibling:o?e=null:(e=e.parent.modify()).after=!0,o){const n=new Xr(o,i,t);return n.shadowContext=r,n.shadowType=s,n.shadowSibling=e,n}return e.boxOffset=t,e}nextPositionInTree(e){let t=e.boxOffset+1;if(e.after){if(!e.parent)return null;if(e.shadowType!=Hr.ROOTED){const n=e.sourceNode.nextSibling;if(n)return(e=e.modify()).boxOffset=t,e.sourceNode=n,e.resetView(),this.processShadowContent(e)}return e.shadowSibling?((e=e.shadowSibling.modify()).boxOffset=t,e):((e=e.parent.modify()).boxOffset=t,e.after=!0,e)}{if(e.nodeShadow){let n=e.nodeShadow.root;if(e.nodeShadow.type==Hr.ROOTLESS&&(n=n.firstChild),n){const i=new Xr(n,e,t);return i.shadowContext=e.nodeShadow,i.shadowType=e.nodeShadow.type,this.processShadowContent(i)}}const n=e.sourceNode.firstChild;return n?this.processShadowContent(new Xr(n,e,t)):(1!=e.sourceNode.nodeType&&(t+=vr(e.preprocessedTextContent).length-1-e.offsetInNode),(e=e.modify()).boxOffset=t,e.after=!0,e)}}isTransclusion(e,t,n){const i=Ro(t,"hyperlink-processing");if(!i)return!1;const o=i.evaluate(this.context,"hyperlink-processing");return!!o&&o.toString()==n}nextInTree(e,t){let n=this.nextPositionInTree(e);if(!n||n.after)return pi(n);const i=di("nextInTree");return this.setCurrent(n,!0,t).then(e=>{n.viewNode&&e||(n=n.modify(),n.after=!0,n.viewNode||(n.inline=!0)),this.dispatchEvent({type:"nextInTree",nodeContext:n}),i.finish(n)}),i.result()}addImageFetchers(e){if(e instanceof Lt){const t=e.values;for(let e=0;e<t.length;e++)this.addImageFetchers(t[e])}else if(e instanceof Ot){const t=e.url;this.page.fetchers.push(xi(new Image,t))}}applyComputedStyles(e,t){const n=t["background-image"];n&&this.addImageFetchers(n);const i=t.position===Mt.relative;for(const n in t){if(Qc[n])continue;let o=t[n];o=o.visit(new yn(this.xmldoc.url,this.documentURLTransformer)),o.isNumeric()&&Ae(o.unit)&&(o=Bt(o,this.context)),Tr[n]||i&&xr[n]?this.page.delayedItems.push(new Ir(e,n,o)):V(e,n,o.toString())}}applyPseudoelementStyle(e,t,n){if(e.after)return;const i=this.sourceNode;let o=(e.shadowContext?e.shadowContext.styler:this.styler).getStyle(i,!1);const s=Lo(o,"_pseudos");if(!s)return;if(o=s[t],!o)return;const r={};e.vertical=this.computeStyle(e.vertical,"rtl"===e.direction,o,r);const a=r.content;Jr(a)&&(a.visit(new Qr(n,this.context,a,this.exprContentListener)),delete r.content),this.applyComputedStyles(n,r)}peelOff(e,t){const n=di("peelOff"),i=e.firstPseudo;let o=e.offsetInNode;const s=e.after;if(t>0){const n=e.viewNode.textContent;e.viewNode.textContent=n.substr(0,t),o+=t}else if(!s&&e.viewNode&&0==o){const t=e.viewNode.parentNode;t&&t.removeChild(e.viewNode)}const r=e.boxOffset+t,a=[];for(;e.firstPseudo===i;)a.push(e),e=e.parent;let l=a.pop(),h=l.shadowSibling;const c=this;return n.loop(()=>{for(;a.length>0;){l=a.pop(),e=new Xr(l.sourceNode,e,r),0==a.length&&(e.offsetInNode=o,e.after=s),e.shadowType=l.shadowType,e.shadowContext=l.shadowContext,e.nodeShadow=l.nodeShadow,e.shadowSibling=l.shadowSibling?l.shadowSibling:h,h=null;const t=c.setCurrent(e,!1);if(t.isPending())return t}return pi(!1)}).then(()=>{n.finish(e)}),n.result()}createElement(e,t){return e==F.XHTML?this.document.createElement(t):this.document.createElementNS(e,t)}applyFootnoteStyle(e,t,n){const i={},o=Lo(this.footnoteStyle,"_pseudos");if(e=this.computeStyle(e,t,this.footnoteStyle,i),o&&o.before){const i={},s=this.createElement(F.XHTML,"span");Xa(s,"before"),n.appendChild(s),this.computeStyle(e,t,o.before,i),delete i.content,this.applyComputedStyles(s,i)}return delete i.content,this.applyComputedStyles(n,i),e}processFragmentedBlockEdge(e){e&&e.walkUpBlocks(e=>{const t=e.inheritedProps["box-decoration-break"];if(!t||"slice"===t){const t=e.viewNode;e.vertical?(V(t,"padding-left","0"),V(t,"border-left","none"),V(t,"border-top-left-radius","0"),V(t,"border-bottom-left-radius","0")):(V(t,"padding-bottom","0"),V(t,"border-bottom","none"),V(t,"border-bottom-left-radius","0"),V(t,"border-bottom-right-radius","0"))}})}convertLengthToPx(e,t,n){const i=e.num,o=e.unit;if(function(e){switch(e.toLowerCase()){case"em":case"ex":case"rem":return!0;default:return!1}}(o)){let i=t;for(;i&&1!==i.nodeType;)i=i.parentNode;const o=parseFloat(n.getElementComputedStyle(i)["font-size"]);return this.context,Vo(e,o,this.context).num}{const t=this.context.queryUnitSize(o,!1);return t?i*t:e}}isSameNodePositionStep(e,t){if(e.shadowContext){if(!t.shadowContext)return!1;const n=1===e.node.nodeType?e.node:e.node.parentElement,i=1===t.node.nodeType?t.node:t.node.parentElement;return e.shadowContext.owner===t.shadowContext.owner&&Wa(n)===Wa(i)}return e.node===t.node}isSameNodePosition(e,t){return e.offsetInNode===t.offsetInNode&&e.after==t.after&&e.steps.length===t.steps.length&&e.steps.every((e,n)=>{const i=t.steps[n];return this.isSameNodePositionStep(e,i)})}isPseudoelement(e){return!!Wa(e)}}qc.SVG_URL_ATTRIBUTES=["color-profile","clip-path","cursor","filter","marker","marker-start","marker-end","marker-mid","fill","stroke","mask"];const Zc={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"},Qc={"box-decoration-break":!0,"float-min-wrap-block":!0,"float-reference":!0,"flow-into":!0,"flow-linger":!0,"flow-options":!0,"flow-priority":!0,"footnote-policy":!0,page:!0};class Jc{constructor(e){this.layoutBox=e.layoutBox,this.window=e.window}subtractOffsets(e,t){const n=t.left,i=t.top;return{left:e.left-n,top:e.top-i,right:e.right-n,bottom:e.bottom-i,width:e.width,height:e.height}}getRangeClientRects(e){const t=e.getClientRects(),n=this.layoutBox.getBoundingClientRect();return Array.from(t).map(e=>this.subtractOffsets(e,n))}getElementClientRect(e){const t=e.getBoundingClientRect(),n=this.layoutBox.getBoundingClientRect();return this.subtractOffsets(t,n)}getElementComputedStyle(e){return this.window.getComputedStyle(e,null)}}class eu{constructor(e,t,n,i,o){this.window=e,this.fontSize=t,this.document=e.document,this.root=n||this.document.body;let s=this.root.firstElementChild;s||(s=this.document.createElement("div"),s.setAttribute("data-vivliostyle-outer-zoom-box","true"),this.root.appendChild(s));let r=s.firstElementChild;r||(r=this.document.createElement("div"),r.setAttribute("data-vivliostyle-spread-container","true"),s.appendChild(r));let a=s.nextElementSibling;a||(a=this.document.createElement("div"),a.setAttribute("data-vivliostyle-layout-box","true"),this.root.appendChild(a)),this.outerZoomBox=s,this.contentContainer=r,this.layoutBox=a;const l=new Jc(this).getElementComputedStyle(this.root);this.width=i||parseFloat(l.width)||e.innerWidth,this.height=o||parseFloat(l.height)||e.innerHeight}resetZoom(){V(this.outerZoomBox,"width",""),V(this.outerZoomBox,"height",""),V(this.contentContainer,"width",""),V(this.contentContainer,"height",""),V(this.contentContainer,"transform","")}zoom(e,t,n){V(this.outerZoomBox,"width",`${e*n}px`),V(this.outerZoomBox,"height",`${t*n}px`),V(this.contentContainer,"width",`${e}px`),V(this.contentContainer,"height",`${t}px`),V(this.contentContainer,"transform",`scale(${n})`)}clear(){const e=this.root;for(;e.lastChild;)e.removeChild(e.lastChild)}}class tu{constructor(e,t,n){this.store=e,this.url=t,this.document=n,this.lang=null,this.totalOffset=-1,this.lastOffset=1,this.root=n.documentElement;let i=null,o=null;if(this.root.namespaceURI==F.XHTML){for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;if(t.namespaceURI==F.XHTML)switch(t.localName){case"head":o=t;break;case"body":i=t}}this.lang=this.root.getAttribute("lang")}else if(this.root.namespaceURI==F.FB2){o=this.root;for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;t.namespaceURI==F.FB2&&"body"==t.localName&&(i=t)}const e=this.doc().child("FictionBook").child("description").child("title-info").child("lang").textContent();e.length>0&&(this.lang=e[0])}else if(this.root.namespaceURI==F.SSE)for(let e=this.root.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;"meta"===t?o=e:"body"===t&&(i=e)}this.body=i,this.head=o,this.last=this.root,this.last.setAttribute("data-adapt-eloff","0")}doc(){return new au([this.document])}getElementOffset(e){const t=e.getAttribute("data-adapt-eloff");if(t)return parseInt(t,10);let n=this.lastOffset,i=this.last;for(;i!=e;){let e=i.firstChild;if(!e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,null==i)throw new Error("Internal error");i=e,1==e.nodeType?(e.setAttribute("data-adapt-eloff",n.toString()),++n):n+=e.textContent.length}return this.lastOffset=n,this.last=e,n-1}getNodeOffset(e,t,n){let i=0,o=e,s=null;if(1==o.nodeType){if(!n)return this.getElementOffset(o)}else{if(i=t,s=o.previousSibling,!s)return o=o.parentNode,i+=1,this.getElementOffset(o)+i;o=s}for(;;){for(;o.lastChild;)o=o.lastChild;if(1==o.nodeType)break;if(i+=o.textContent.length,s=o.previousSibling,!s){o=o.parentNode;break}o=s}return i+=1,this.getElementOffset(o)+i}getTotalOffset(){return this.totalOffset<0&&(this.totalOffset=this.getNodeOffset(this.root,0,!0)),this.totalOffset}getNodeByOffset(e){let t;const n=this;let i=this.root;for(;;){if(t=this.getElementOffset(i),t>=e)return i;const o=i.children;if(!o)break;const s=Q(o.length,t=>{const i=o[t];return n.getElementOffset(i)>e});if(0==s)break;i=o[s-1]}let o=t+1,s=i,r=s.firstChild||s.nextSibling,a=null;for(;;){if(r){if(1==r.nodeType)break;if(s=r,a=s,o+=r.textContent.length,o>e)break}else if(s=s.parentNode,!s)break;r=s.nextSibling}return a||i}buildIdMap(e){const t=e.getAttribute("id");t&&!this.idMap[t]&&(this.idMap[t]=e);const n=e.getAttributeNS(F.XML,"id");n&&!this.idMap[n]&&(this.idMap[n]=e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)this.buildIdMap(t)}getElement(e){const t=e.match(/([^#]*)#(.+)$/);if(!t||t[1]&&t[1]!=this.url)return null;const n=t[2];let i=this.document.getElementById(n);return!i&&this.document.getElementsByName&&(i=this.document.getElementsByName(n)[0]),i||(this.idMap||(this.idMap={},this.buildIdMap(this.document.documentElement)),i=this.idMap[n]),i}}var nu;function iu(e,t,n){const i=n||new DOMParser;let o;try{o=i.parseFromString(e,t)}catch(e){}if(!o)return null;{const e=o.documentElement,t="parsererror";if(e.localName===t)return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(n.localName===t)return null}return o}function ou(e,t){let n=e.responseXML;if(!n){const t=new DOMParser,i=e.responseText;if(i){const o=function(e){const t=e.contentType;if(t){const e=Object.keys(nu);for(let n=0;n<e.length;n++)if(nu[e[n]]===t)return t;if(t.match(/\+xml$/))return nu.APPLICATION_XML}const n=e.url.match(/\.([^./]+)$/);if(n)switch(n[1]){case"html":case"htm":return nu.TEXT_HTML;case"xhtml":case"xht":return nu.APPLICATION_XHTML_XML;case"svg":case"svgz":return nu.IMAGE_SVG_XML;case"opf":case"xml":return nu.APPLICATION_XML}return null}(e);if(n=iu(i,o||nu.APPLICATION_XML,t),n&&!o){const e=n.documentElement;"html"!==e.localName.toLowerCase()||e.namespaceURI?"svg"===e.localName.toLowerCase()&&n.contentType!==nu.IMAGE_SVG_XML&&(n=iu(i,nu.IMAGE_SVG_XML,t)):n=iu(i,nu.TEXT_HTML,t)}n||(n=iu(i,nu.TEXT_HTML,t))}}return pi(n?new tu(t,e.url,n):null)}!function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML_XML="application/xhtml_xml",e.IMAGE_SVG_XML="image/svg+xml"}(nu||(nu={}));class su{constructor(e){this.fn=e}check(e){return this.fn(e)}withAttribute(e,t){const n=this;return new su(i=>n.check(i)&&1==i.nodeType&&i.getAttribute(e)==t)}withChild(e,t){const n=this;return new su(i=>{if(!n.check(i))return!1;let o=new au([i]);return o=o.child(e),t&&(o=o.predicate(t)),o.size()>0})}}const ru=new su(e=>!0);class au{constructor(e){this.nodes=e}asArray(){return this.nodes}size(){return this.nodes.length}predicate(e){const t=[];for(const n of this.nodes)e.check(n)&&t.push(n);return new au(t)}forEachNode(e){const t=[],n=e=>{t.push(e)};for(let t=0;t<this.nodes.length;t++)e(this.nodes[t],n);return new au(t)}forEach(e){const t=[];for(let n=0;n<this.nodes.length;n++)t.push(e(this.nodes[n]));return t}forEachNonNull(e){const t=[];for(let n=0;n<this.nodes.length;n++){const i=e(this.nodes[n]);null!=i&&t.push(i)}return t}child(e){return this.forEachNode((t,n)=>{for(let i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&i.localName==e&&n(i)})}childElements(){return this.forEachNode((e,t)=>{for(let n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t(n)})}attribute(e){return this.forEachNonNull(t=>1==t.nodeType?t.getAttribute(e):null)}textContent(){return this.forEach(e=>e.textContent)}}const lu=new Ci(()=>{const e=di("uaStylesheetBase"),t=Ph(),n=k("user-agent-base.css",O),i=new Ms(null,null,null,null,null,t,!0);var o;return i.startStylesheet(Pi.USER_AGENT),o=i.cascade,Bs=o,no('@namespace html "http://www.w3.org/1999/xhtml";\n\nhtml|html,\nhtml|address,\nhtml|blockquote,\nhtml|body,\nhtml|dd,\nhtml|div,\nhtml|dl,\nhtml|dt,\nhtml|fieldset,\nhtml|form,\nhtml|frame,\nhtml|frameset,\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|noframes,\nhtml|ol,\nhtml|p,\nhtml|ul,\nhtml|center,\nhtml|dir,\nhtml|hr,\nhtml|menu,\nhtml|pre,\nhtml|article,\nhtml|section,\nhtml|nav,\nhtml|aside,\nhtml|hgroup,\nhtml|footer,\nhtml|header,\nhtml|figure,\nhtml|figcaption,\nhtml|main {\n  display: block;\n  unicode-bidi: normal;\n}\nhtml|li {\n  display: list-item;\n}\nhtml|head {\n  display: none !important;\n}\nhtml|table {\n  display: table;\n}\nhtml|tr {\n  display: table-row;\n}\nhtml|thead {\n  display: table-header-group;\n  break-after: avoid;\n}\nhtml|tbody {\n  display: table-row-group;\n}\nhtml|tfoot {\n  display: table-footer-group;\n  break-before: avoid;\n}\nhtml|col {\n  display: table-column;\n}\nhtml|colgroup {\n  display: table-column-group;\n}\nhtml|td,\nhtml|th {\n  display: table-cell;\n}\nhtml|caption {\n  display: table-caption;\n  text-align: center;\n}\nhtml|th {\n  font-weight: bolder;\n  text-align: center;\n}\nhtml|script {\n  display: none;\n}\nhtml|body {\n  margin: 8px;\n}\nhtml|h1 {\n  font-size: 2em;\n  margin-block-start: 0.67em;\n  margin-block-end: 0.67em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h2 {\n  font-size: 1.5em;\n  margin-block-start: 0.75em;\n  margin-block-end: 0.75em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h3 {\n  font-size: 1.17em;\n  margin-block-start: 0.83em;\n  margin-block-end: 0.83em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h4,\nhtml|p,\nhtml|blockquote,\nhtml|ul,\nhtml|fieldset,\nhtml|form,\nhtml|ol,\nhtml|dl,\nhtml|dir,\nhtml|menu,\nhtml|h5,\nhtml|h6 {\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h5 {\n  font-size: 0.83em;\n}\nhtml|h6 {\n  font-size: 0.75em;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|b,\nhtml|strong {\n  font-weight: bolder;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6 {\n  break-after: avoid;\n}\nhtml|blockquote {\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  margin-inline-start: 40px;\n  margin-inline-end: 40px;\n}\nhtml|i,\nhtml|cite,\nhtml|em,\nhtml|var,\nhtml|address {\n  font-style: italic;\n}\nhtml|pre,\nhtml|tt,\nhtml|code,\nhtml|kbd,\nhtml|samp {\n  font-family: monospace;\n}\nhtml|pre {\n  white-space: pre;\n}\nhtml|button,\nhtml|textarea,\nhtml|input,\nhtml|select {\n  display: inline-block;\n}\nhtml|big {\n  font-size: 1.17em;\n}\nhtml|small,\nhtml|sub,\nhtml|sup {\n  font-size: 0.83em;\n}\nhtml|sub {\n  vertical-align: sub;\n}\nhtml|sup {\n  vertical-align: super;\n}\nhtml|table {\n  border-spacing: 2px;\n}\nhtml|thead,\nhtml|tbody,\nhtml|tfoot {\n  vertical-align: middle;\n}\n/* for XHTML tables without tbody */\nhtml|table > html|tr {\n  vertical-align: middle;\n}\nhtml|td,\nhtml|th {\n  vertical-align: inherit;\n}\nhtml|s,\nhtml|strike,\nhtml|del {\n  text-decoration: line-through;\n}\nhtml|hr {\n  border: 1px inset;\n}\nhtml|ol,\nhtml|ul,\nhtml|dir,\nhtml|menu,\nhtml|dd {\n  margin: 0px;\n  margin-inline-start: 40px;\n}\nhtml|ol {\n  list-style-type: decimal;\n}\nhtml|ol html|ul,\nhtml|ul html|ol,\nhtml|ul html|ul,\nhtml|ol html|ol {\n  margin-top: 0;\n  margin-bottom: 0;\n}\nhtml|u,\nhtml|ins {\n  text-decoration: underline;\n}\nhtml|center {\n  text-align: center;\n}\nhtml|q:before {\n  content: open-quote;\n}\nhtml|q:after {\n  content: close-quote;\n}\n\nhtml|audio,\nhtml|video {\n  break-inside: avoid;\n}\n\nhtml|ruby {\n  display: ruby;\n}\nhtml|rp {\n  display: none;\n}\nhtml|rbc {\n  display: ruby-base-container;\n}\nhtml|rtc {\n  display: ruby-text-container;\n}\nhtml|rb {\n  display: ruby-base;\n  white-space: nowrap;\n}\nhtml|rt {\n  display: ruby-text;\n}\nhtml|ruby,\nhtml|rb,\nhtml|rt,\nhtml|rbc,\nhtml|rtc {\n  unicode-bidi: isolate;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-variant-east-asian: ruby;\n  text-emphasis: none;\n  white-space: nowrap;\n  line-height: 1;\n}\n\nhtml|rtc:lang(zh),\nhtml|rt:lang(zh) {\n  ruby-align: center;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-size: 50%;\n}\n\nhtml|rtc:lang(zh-TW),\nhtml|rt:lang(zh-TW) {\n  font-size: 30%;\n}\n\nhtml|rtc > html|rt,\nhtml|rtc > html|rt:lang(zh-TW) {\n  font-size: 100%;\n}\n\n/* Bidi settings */\nhtml|bdo[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\nhtml|bdo[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: bidi-override;\n}\nhtml|*[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: embed;\n}\nhtml|*[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: embed;\n}\n\n/*------------------ epub-specific ---------------------*/\n\n@namespace epub "http://www.idpf.org/2007/ops";\n\nhtml|a[epub|type="noteref"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n}\n\nhtml|a[epub|type="noteref"]:href-epub-type(footnote) {\n  -adapt-template: url(user-agent.xml#footnote);\n  text-decoration: none;\n}\n\nhtml|aside[epub|type="footnote"] {\n  display: none;\n}\n\nhtml|aside[epub|type="footnote"]:footnote-content {\n  display: block;\n  margin: 0.25em;\n  font-size: 1.2em;\n  line-height: 1.2;\n}\n\nepub|trigger {\n  display: none;\n}\n\nepub|switch {\n  display: inline;\n}\n\nepub|default {\n  display: inline;\n}\n\nepub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] {\n  display: inline;\n}\n\nepub|case[required-namespace::supported] ~ epub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] ~ epub|default {\n  display: none;\n}\n\n/*--------------- ncx and toc ----------------------*/\n\n@namespace ncx "http://www.daisy.org/z3986/2005/ncx/";\n\nncx|ncx {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nncx|content {\n  display: none;\n}\n\nbody > * {\n  -adapt-behavior: body-child;\n}\n\n[role="doc-toc"],\n[role="directory"],\nnav,\n.toc,\n#toc,\n#table-of-contents,\n#contents {\n  -adapt-behavior: toc-root;\n}\n\n[role="doc-toc"] a,\n[role="directory"] a,\nnav a,\n.toc a,\n#toc a,\nncx|navLabel {\n  -adapt-behavior: toc-node-anchor;\n}\n\n[role="doc-toc"] li,\n[role="directory"] li,\nnav li,\n.toc li,\n#toc li,\nncx|navPoint {\n  -adapt-behavior: toc-node;\n}\n\n[role="doc-toc"] li > *:first-child,\n[role="directory"] li > *:first-child,\nnav li > *:first-child,\n.toc li > *:first-child,\n#toc li > *:first-child {\n  -adapt-behavior: toc-node-first-child;\n}\n\n[role="doc-toc"] ol,\n[role="directory"] ol,\nnav ol,\n.toc ol,\n#toc ol,\n[role="doc-toc"] ul,\n[role="directory"] ul,\nnav ul,\n.toc ul,\n#toc ul,\nol[role="doc-toc"],\nol[role="directory"],\nol.toc,\nol#toc,\nul[role="doc-toc"],\nul[role="directory"],\nul.toc,\nul#toc {\n  -adapt-behavior: toc-container;\n}\n\n/*---------------- fb2 ---------------------*/\n\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nfb2|FictionBook {\n  display: block;\n}\n\nfb2|body {\n  font-family: serif;\n  margin: 8px;\n  column-width: 25em;\n}\n\nfb2|a {\n  line-height: 0.1;\n  vertical-align: super;\n  font-size: 0.7em;\n}\n\nfb2|sub {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|sup {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|table {\n  display: table;\n  font-size: 0.8em;\n  font-family: sans-serif;\n  margin: 0.5em;\n  border-collapse: collapse;\n  border: 1px solid black;\n}\n\nfb2|td {\n  border: 1px solid black;\n  padding: 0.3em;\n}\n\nfb2|th {\n  font-weight: bold;\n  text-align: center;\n  border: 1px solid black;\n  background-color: #cee;\n  padding: 0.3em;\n}\n\nfb2|code {\n  font-family: monospace;\n}\n\nfb2|p {\n  display: block;\n  margin: 0px;\n  text-indent: 1.5em;\n  text-align: justify;\n}\n\nfb2|title fb2|p {\n  margin: 0px 0px 0.5em 0px;\n  text-indent: 0px;\n  text-align: inherit;\n}\n\nfb2|title {\n  font-size: 2.2em;\n  font-weight: bold;\n  break-inside: avoid;\n  break-after: avoid;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n  display: block;\n}\n\nfb2|section {\n  display: block;\n}\n\nfb2|section fb2|title {\n  font-size: 1.8em;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n}\n\nfb2|section fb2|section fb2|title {\n  font-size: 1.5em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.5625em;\n}\n\nfb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.3em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.923em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.2em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.083em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.1em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.272em;\n}\n\nfb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|title {\n  text-align: left;\n  margin: 1em 0px 0.5em 2.5em;\n}\n\nfb2|epigraph {\n  text-align: left;\n  font-style: italic;\n  margin: 1em 1em 2em 30%;\n  display: block;\n}\n\nfb2|image {\n  text-align: center;\n  padding: 3px;\n}\n\nfb2|image::inner {\n  max-width: 95%;\n}\n\nfb2|image::after {\n  display: block;\n  content: attr(title);\n}\n\nfb2|v {\n  text-indent: -1em;\n  padding-left: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|poem {\n  margin: 0.5em 0px 0.5em 2em;\n  display: block;\n}\nfb2|date {\n  margin: 0.5em 0px 0.5em 50%;\n  font-style: italic;\n  display: block;\n}\nfb2|stanza {\n  margin: 0.5em 0px;\n  break-inside: avoid;\n  display: block;\n}\nfb2|empty-line {\n  height: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|cite {\n  margin: 0.5em 0px 0.5em 1em;\n  font-size: 0.95em;\n  display: block;\n}\nfb2|subtitle {\n  text-indent: 0px;\n  text-align: center;\n  font-style: italic;\n  font-weight: bold;\n  margin: 0.5em 2em;\n  break-inside: avoid;\n  break-after: avoid;\n  display: block;\n}\nfb2|annotation {\n  margin: 1em 0px 1em 2em;\n  text-indent: 0px;\n  font-style: italic;\n  display: block;\n}\nfb2|text-author {\n  text-indent: 0px;\n  margin: 0.2em 0px 0px 3em;\n  display: block;\n}\nfb2|emphasis {\n  font-style: italic;\n}\nfb2|strong {\n  font-weight: bold;\n}\nfb2|strikethrough {\n  text-decoration: line-through;\n}\nfb2|*.italic {\n  font-style: italic;\n}\nfb2|*.bold {\n  font-weight: bold;\n}\n\nfb2|binary,\nfb2|description,\nfb2|stylesheet {\n  display: none;\n}\n\nfb2|a[type="note"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n  text-decoration: none;\n  -adapt-template: url(user-agent.xml#footnote);\n}\n\nfb2|body[name="notes"] {\n  display: none;\n}\n\nfb2|body[name="notes"] fb2|title {\n  display: inline;\n  vertical-align: super;\n  line-height: 0.01;\n  text-align: left;\n  font-size: 0.75em;\n  font-weight: bold;\n  margin: 0px;\n}\n\nfb2|body[name="notes"] fb2|p {\n  text-indent: 0px;\n  display: inline; /* for now */\n}\n\nfb2|body[name="notes"] fb2|p + fb2|p {\n  display: block;\n}\n\nfb2|body[name="notes"] fb2|section {\n  text-indent: 0px;\n  line-height: 1.2;\n  font-size: 1.2em;\n}\n',i,n,null,null).thenFinish(e),e.result()},"uaStylesheetBaseFetcher");class hu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.rootScope=t,this.pageScope=n,this.cascade=i,this.rootBox=o,this.fontFaces=s,this.footnoteProps=r,this.flowProps=a,this.viewportProps=l,this.pageProps=h,this.fontDeobfuscator=e.fontDeobfuscator,this.validatorSet=e.validatorSet,this.pageScope.defineBuiltIn("has-content",(function(e){e=e;const t=this.currentLayoutPosition,n=t.firstFlowChunkOfFlow(e);return this.matchPageSide(t.startSideOfFlow(e))&&t.hasContent(e,this.lookupOffset)&&!!n&&!this.flowChunkIsAfterParentFlowForcedBreak(n)})),this.pageScope.defineName("page-number",new ot(this.pageScope,(function(){return this.pageNumberOffset+this.currentLayoutPosition.page}),"page-number"))}sizeViewport(e,t,n,i){if(this.viewportProps.length){const o=new Oe(this.rootScope,e,t,n),s=function(e,t){const n={};for(let i=0;i<t.length;i++)Mo(e,n,t[i],0,null,null,null);return n}(o,this.viewportProps),r=s.width,a=s.height,l=s["text-zoom"];let h=1;if(r&&a||l){const s=Pe.em;if((l?l.evaluate(o,"text-zoom"):null)===Mt.scale&&(h=s/n,n=s,e*=h,t*=h),r&&a){const e=_t(r.evaluate(o,"width"),o),t=_t(a.evaluate(o,"height"),o);if(e>0&&t>0)return{width:i&&i.spreadView?2*(e+i.pageBorder):e,height:t,fontSize:n}}}}return{width:e,height:t,fontSize:n}}}class cu extends Oe{constructor(e,t,n,i,o,s,r,a,l,h,c,u){super(e.rootScope,i.width,i.height,i.fontSize),this.style=e,this.xmldoc=t,this.viewport=i,this.clientLayout=o,this.fontMapper=s,this.customRenderer=r,this.fallbackMap=a,this.pageNumberOffset=l,this.documentURLTransformer=h,this.counterStore=c,this.primaryFlows={body:!0},this.rootPageBoxInstance=null,this.styler=null,this.stylerMap=null,this.currentLayoutPosition=null,this.layoutPositionAtPageStart=null,this.lookupOffset=0,this.pageBoxInstances={},this.pageManager=null,this.pageBreaks={},this.pageProgression=null,this.pageSheetSize={},this.pageSheetHeight=0,this.pageSheetWidth=0,this.lang=t.lang||n,this.faces=new Fh(this.style.fontDeobfuscator),this.rootPageFloatLayoutContext=new ra(null,null,null,null,null,null,null),this.pageProgression=u||null;for(const t in e.flowProps){const n=Ro(e.flowProps[t],"flow-consume");n&&(n.evaluate(this,"flow-consume")==Mt.all?this.primaryFlows[t]=!0:delete this.primaryFlows[t])}}init(){const e=this,t=di("StyleInstance.init"),n=e.counterStore.createCounterListener(e.xmldoc.url),i=e.counterStore.createCounterResolver(e.xmldoc.url,e.style.rootScope,e.style.pageScope);e.styler=new sh(e.xmldoc,e.style.cascade,e.style.rootScope,e,this.primaryFlows,e.style.validatorSet,n,i),i.setStyler(e.styler),e.styler.resetFlowChunkStream(e),e.stylerMap={},e.stylerMap[e.xmldoc.url]=e.styler;const o=e.styler.getTopContainerStyle();e.pageProgression||(e.pageProgression=hc(o));const s=this.style.rootBox;this.rootPageBoxInstance=new tc(s);const r=this.style.cascade.createInstance(e,n,i,this.lang);this.rootPageBoxInstance.applyCascadeAndInit(r,o),this.rootPageBoxInstance.resolveAutoSizing(e),this.pageManager=new Fc(r,this.style.pageScope,this.rootPageBoxInstance,e,o);const a=[];for(const t of e.style.fontFaces){if(t.condition&&!t.condition.evaluate(e))continue;const n=kh(t.properties,e),i=new Lh(n);a.push(i)}e.fontMapper.findOrLoadFonts(a,e.faces).thenFinish(t);const l=e.style.pageProps;return Object.keys(l).forEach(e=>{const t=mc(gc(l[e]),this);this.pageSheetSize[e]={width:t.pageWidth+2*t.cropOffset,height:t.pageHeight+2*t.cropOffset}}),t.result()}getStylerForDoc(e){let t=this.stylerMap[e.url];if(!t){const n=this.style.store.getStyleForDoc(e),i=new Oe(n.rootScope,this.pageWidth(),this.pageHeight(),this.initialFontSize),o=this.counterStore.createCounterListener(e.url),s=this.counterStore.createCounterResolver(e.url,n.rootScope,n.pageScope);t=new sh(e,n.cascade,n.rootScope,i,this.primaryFlows,n.validatorSet,o,s),this.stylerMap[e.url]=t}return t}registerInstance(e,t){this.pageBoxInstances[e]=t}lookupInstance(e){return this.pageBoxInstances[e]}encounteredFlowChunk(e,t){const n=this.currentLayoutPosition;if(n){n.flows[e.flowName]?t=n.flows[e.flowName]:n.flows[e.flowName]=t;let i=n.flowPositions[e.flowName];i||(i=new Yr,n.flowPositions[e.flowName]=i);const o={steps:[{node:e.element,shadowType:Hr.NONE,shadowContext:null,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:0}],offsetInNode:0,after:!1,preprocessedTextContent:null},s=new jr(o),r=new Kr(s,e);i.positions.push(r)}}getConsumedOffset(e){let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.positions.length;n++){const i=e.positions[n].chunkPosition.primary;let o=i.steps[0].node,s=i.offsetInNode,r=i.after,a=0;for(;o.ownerDocument!=this.xmldoc.document;)a++,o=i.steps[a].node,r=!1,s=0;const l=this.xmldoc.getNodeOffset(o,s,r);l<t&&(t=l)}return t}getPosition(e,t){if(!e)return 0;let n=Number.POSITIVE_INFINITY;for(const i in this.primaryFlows){let o=e.flowPositions[i];if(t||o&&0!=o.positions.length||!this.currentLayoutPosition||(this.styler.styleUntilFlowIsReached(i),o=this.currentLayoutPosition.flowPositions[i],e!=this.currentLayoutPosition&&o&&(o=o.clone(),e.flowPositions[i]=o)),o){const e=this.getConsumedOffset(o);e<n&&(n=e)}}return n}dumpLocation(e){c.debug("Location - page",this.currentLayoutPosition.page),c.debug("  current:",e),c.debug("  lookup:",this.lookupOffset);for(const e in this.currentLayoutPosition.flowPositions){const t=this.currentLayoutPosition.flowPositions[e];for(const n of t.positions)c.debug("  Chunk",`${e}:`,n.flowChunk.startOffset)}}matchPageSide(e){switch(e){case"left":case"right":case"recto":case"verso":return new nt(this.style.pageScope,`${e}-page`).evaluate(this);default:return!0}}updateStartSide(e){for(const t in e.flowPositions){const n=e.flowPositions[t];if(n&&n.positions.length>0){const e=n.positions[0].flowChunk;if(this.getConsumedOffset(n)===e.startOffset){const e=n.positions[0].flowChunk.breakBefore,t=Ea(n.startSide);n.startSide=wa(ba(t,e))}}}}selectPageMaster(e){const t=this,n=this.currentLayoutPosition,i=this.getPosition(n);if(i==Number.POSITIVE_INFINITY)return null;const o=this.rootPageBoxInstance.children;let s;for(let r=0;r<o.length;r++){if(s=o[r],"vivliostyle-page-rule-master"===s.pageBox.pseudoName)continue;let a=1;const l=s.getProp(t,"utilization");l&&l.isNum()&&(a=l.num);const h=t.queryUnitSize("em",!1),c=t.pageWidth()*t.pageHeight(),u=Math.ceil(a*c/(h*h));this.lookupOffset=this.styler.styleUntil(i,u),this.updateStartSide(n),this.layoutPositionAtPageStart=n.clone(),this.initLingering(),t.clearScope(this.style.pageScope);const d=s.getProp(t,"enabled");if(!d||d===Mt._true)return this.pageManager.getPageRulePageMaster(s,e)}throw new Error("No enabled page masters")}flowChunkIsAfterParentFlowForcedBreak(e){const t=this.layoutPositionAtPageStart.flows,n=t[e.flowName].parentFlowName;if(n){const i=e.startOffset,o=t[n].forcedBreakOffsets;if(!o.length||i<o[0])return!1;const s=Q(o.length,e=>o[e]>i)-1,r=o[s],a=this.layoutPositionAtPageStart.flowPositions[n],l=this.getConsumedOffset(a);return!(r<l)&&(l<r||!this.matchPageSide(a.startSide))}return!1}setFormattingContextToColumn(e,t){const n=this.currentLayoutPosition.flows[t];n.formattingContext||(n.formattingContext=new _a(null)),e.flowRootFormattingContext=n.formattingContext}layoutDeferredPageFloats(e){const t=e.pageFloatLayoutContext,n=t.getDeferredPageFloatContinuations(),i=di("layoutDeferredPageFloats");let o=!1,s=0;return i.loopWithFrame(i=>{if(s===n.length)return void i.breakLoop();const r=n[s++],a=r.float,l=(new la).findByFloat(a),h=l.findPageFloatFragment(a,t);if(!h||!h.hasFloat(a))return t.isForbidden(a)||t.hasPrecedingFloatsDeferredToNext(a)?(t.deferPageFloat(r),void i.breakLoop()):void e.layoutPageFloatInner(r,l,null,h).then(e=>{if(!e)return void i.breakLoop();const n=t.parent.isInvalidated();n?i.breakLoop():(t.isInvalidated()&&!n&&(o=!0,t.validate()),i.continueLoop())});i.continueLoop()}).then(()=>{o&&t.invalidate(),i.finish(!0)}),i.result()}getLastAfterPositionIfDeferredFloatsExists(e,t){if(e.pageFloatLayoutContext.getPageFloatContinuationsDeferredToNext().length>0){if(e.lastAfterPosition){let n;return t?(n=t.clone(),n.primary=e.lastAfterPosition):n=new jr(e.lastAfterPosition),n}return null}return null}layoutColumn(e,t){const n=this.currentLayoutPosition.flowPositions[t];if(!n||!this.matchPageSide(n.startSide))return pi(!0);n.startSide="any",this.setFormattingContextToColumn(e,t),e.init(),this.primaryFlows[t]&&e.bands.length>0&&(e.forceNonfitting=!1);const i=this,o=di("layoutColumn");return this.layoutDeferredPageFloats(e).then(()=>{if(e.pageFloatLayoutContext.isInvalidated())return void o.finish(!0);const s=[],r=[];let a=!0;o.loopWithFrame(o=>{if(e.pageFloatLayoutContext.hasContinuingFloatFragmentsInFlow(t))o.breakLoop();else{for(;n.positions.length-r.length>0;){let t=0;for(;r.includes(t);)t++;let l=n.positions[t];if(l.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(l.flowChunk))break;for(let e=t+1;e<n.positions.length;e++){if(r.includes(e))continue;const o=n.positions[e];if(o.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(o.flowChunk))break;o.flowChunk.isBetter(l.flowChunk)&&(l=o,t=e)}const h=l.flowChunk;let c=!0;if(e.layout(l.chunkPosition,a,n.breakAfter).then(u=>{if(e.pageFloatLayoutContext.isInvalidated())o.breakLoop();else{if(a=!1,l.flowChunk.repeated&&(null===u||h.exclusive)&&s.push(t),h.exclusive)return r.push(t),void o.breakLoop();{const a=!!u||!!e.pageBreakType,h=i.getLastAfterPositionIfDeferredFloatsExists(e,u);if(e.pageBreakType&&h?(l.chunkPosition=h,n.breakAfter=e.pageBreakType,e.pageBreakType=null):(r.push(t),(u||h)&&(l.chunkPosition=u||h,s.push(t)),e.pageBreakType&&(n.startSide=wa(e.pageBreakType))),a)return void o.breakLoop()}e.forceNonfitting=!1,c?c=!1:o.continueLoop()}}),c)return void(c=!1)}o.breakLoop()}}).then(()=>{if(!e.pageFloatLayoutContext.isInvalidated()){n.positions=n.positions.filter((e,t)=>s.includes(t)||!r.includes(t)),"column"===n.breakAfter&&(n.breakAfter=null),e.saveDistanceToBlockEndFloats();const t=e.pageFloatLayoutContext.getMaxReachedAfterEdge();e.updateMaxReachedAfterEdge(t)}o.finish(!0)})}),o.result()}createLayoutConstraint(e){const t=this.currentLayoutPosition.page-1,n=this.counterStore.createLayoutConstraint(t);return new tl([n].concat(e.getLayoutConstraints()))}createAndLayoutColumn(e,t,n,i,o,s,r,a,l,h,c,u,d,p){const f=this,g=e.vertical?e.isAutoWidth&&e.isRightDependentOnAutoWidth:e.isAutoHeight&&e.isTopDependentOnAutoHeight,m=o.element,b=new ra(a,ea.COLUMN,null,r,null,null,null),w=f.currentLayoutPosition.clone(),E=di("createAndLayoutColumn");let y;return E.loopWithFrame(e=>{const E=f.createLayoutConstraint(b);if(l>1){const e=f.viewport.document.createElement("div");if(V(e,"position","absolute"),m.appendChild(e),y=new ol(e,d,f.clientLayout,E,b),y.forceNonfitting=p,y.vertical=o.vertical,y.snapHeight=o.snapHeight,y.snapWidth=o.snapWidth,o.vertical){const e=s*(c+h)+o.paddingTop;y.setHorizontalPosition(o.paddingLeft,o.width),y.setVerticalPosition(e,c)}else{const e=s*(c+h)+o.paddingLeft;y.setVerticalPosition(o.paddingTop,o.height),y.setHorizontalPosition(e,c)}y.originX=t,y.originY=n}else y=new ol(m,d,f.clientLayout,E,b),y.copyFrom(o);y.exclusions=g?[]:i.concat(),y.innerShape=u,b.setContainer(y),y.width>=0?f.layoutColumn(y,r).then(()=>{b.isInvalidated()||b.finish(),y.pageFloatLayoutContext.isInvalidated()&&!a.isInvalidated()?(y.pageFloatLayoutContext.validate(),f.currentLayoutPosition=w.clone(),y.element!==m&&m.removeChild(y.element),e.continueLoop()):e.breakLoop()}):(b.finish(),e.breakLoop())}).then(()=>{E.finish(y)}),E.result()}setPagePageFloatLayoutContextContainer(e,t,n){(t instanceof kc||t instanceof nc&&!(t instanceof Pc))&&e.setContainer(n)}getRegionPageFloatLayoutContext(e,t,n,i){const o=t.getProp(this,"writing-mode")||null,s=t.getProp(this,"direction")||null;return new ra(e,ea.REGION,n,i,null,o,s)}layoutFlowColumnsWithBalancing(e,t,n,i,o,s,r,a,l){const h=this,c=h.currentLayoutPosition.clone(),u=h.getRegionPageFloatLayoutContext(s,t,r,a);let d=!0;function p(){return h.currentLayoutPosition=c.clone(),h.layoutFlowColumns(e,t,n,i,o,s,u,r,a,l,d).thenAsync(e=>pi(e?{columns:e,position:h.currentLayoutPosition}:null))}return p().thenAsync(e=>{if(!e)return pi(null);if(l<=1)return pi(e.columns);const n=t.getProp(h,"column-fill")||Mt.balance,i=h.currentLayoutPosition.flowPositions[a],o=function(e,t,n,i,o,s,r){if(t===Mt.auto)return null;{const a=0===r.positions.length,l=s[s.length-1],h=!(!l||!l.pageBreakType);return a||h?new Ql(n,i,o,e):t===Mt.balance_all?new eh(n,i,o):null}}(l,n,p,u,r,e.columns,i);return o?(d=!1,s.lock(),u.lock(),o.balanceColumns(e).thenAsync(e=>(s.unlock(),s.validate(),u.unlock(),h.currentLayoutPosition=e.position,pi(e.columns)))):pi(e.columns)})}layoutFlowColumns(e,t,n,i,o,s,r,a,l,h,c){const u=this,d=di("layoutFlowColumns"),p=u.currentLayoutPosition.clone(),f=t.getPropAsNumber(u,"column-gap"),g=h>1?t.getPropAsNumber(u,"column-width"):a.width,m=t.getActiveRegions(u),b=bn(t.getProp(u,"shape-inside"),0,0,a.width,a.height,u),w=new qc(l,u,u.viewport,u.styler,m,u.xmldoc,u.faces,u.style.footnoteProps,u,e,u.customRenderer,u.fallbackMap,this.documentURLTransformer);let E=0,y=null,S=[];return d.loopWithFrame(e=>{u.createAndLayoutColumn(t,n,i,o,a,E++,l,r,h,f,g,b,w,c).then(t=>s.isInvalidated()?(S=null,void e.breakLoop()):(!(t.pageBreakType&&"column"!==t.pageBreakType)&&E!==h||r.isInvalidated()||r.finish(),r.isInvalidated()?(E=0,u.currentLayoutPosition=p.clone(),r.validate(),void(r.isLocked()?(S=null,e.breakLoop()):e.continueLoop())):(y=t,S[E-1]=y,y.pageBreakType&&"column"!=y.pageBreakType&&(E=h,"region"!=y.pageBreakType&&(u.pageBreaks[l]=!0)),void(E<h?e.continueLoop():e.breakLoop()))))}).then(()=>{d.finish(S)}),d.result()}layoutContainer(e,t,n,i,o,s,r){const a=this;t.reset();const l=t.getProp(a,"enabled");if(l&&l!==Mt._true)return pi(!0);const h=di("layoutContainer"),c=t.getProp(a,"wrap-flow")===Mt.auto,u=t.getProp(a,"flow-from"),d=a.viewport.document.createElement("div"),p=t.getProp(a,"position");V(d,"position",p?p.name:"absolute"),n.insertBefore(d,n.firstChild);let f,g=new Zr(d);g.vertical=t.vertical,g.exclusions=s,t.prepareContainer(a,g,e,a.faces,a.clientLayout),g.originX=i,g.originY=o,i+=g.left+g.marginLeft+g.borderLeft,o+=g.top+g.marginTop+g.borderTop,this.setPagePageFloatLayoutContextContainer(r,t,g);let m=!1;if(u&&u.isIdent())if(a.pageBreaks[u.toString()])r.isInvalidated()||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=pi(!0);else{const n=di("layoutContainer.inner"),l=u.toString(),h=t.getPropAsNumber(a,"column-count");a.layoutFlowColumnsWithBalancing(e,t,i,o,s,r,g,l,h).then(i=>{if(!r.isInvalidated()){const n=i[0];n.element===d&&(g=n),g.computedBlockSize=Math.max.apply(null,i.map(e=>e.computedBlockSize)),t.finishContainer(a,g,e,n,h,a.clientLayout,a.faces);const o=a.currentLayoutPosition.flowPositions[l];o&&"region"===o.breakAfter&&(o.breakAfter=null)}n.finish(!0)}),f=n.result()}else{const i=t.getProp(a,"content");if(i&&Jr(i)){let n="span";i.url&&(n="img");const o=a.viewport.document.createElement(n);i.visit(new Qr(o,a,i,a.counterStore.getExprContentListener())),d.appendChild(o),"img"==n&&t.transferSinglUriContentProps(a,o,a.faces),t.transferContentProps(a,g,e,a.faces)}else t.suppressEmptyBoxGeneration&&(n.removeChild(d),m=!0);m||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=pi(!0)}return f.then(()=>{if(r.isInvalidated())return void h.finish(!0);if(!t.isAutoHeight||Math.floor(g.computedBlockSize)>0){if(!m&&!c){const e=t.getProp(a,"shape-outside"),n=g.getOuterShape(e,a);s.push(n)}}else if(0==t.children.length)return n.removeChild(d),void h.finish(!0);let l=t.children.length-1;h.loop(()=>{for(;l>=0;){const n=t.children[l--],h=a.layoutContainer(e,n,d,i,o,s,r);if(h.isPending())return h.thenAsync(()=>pi(!r.isInvalidated()));if(r.isInvalidated())break}return pi(!1)}).then(()=>{h.finish(!0)})}),h.result()}processLinger(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage>=0&&i.flowChunk.startPage+i.flowChunk.linger-1<=e&&n.positions.splice(t,1)}}}initLingering(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage<0&&i.flowChunk.startOffset<this.lookupOffset&&(i.flowChunk.startPage=e)}}}noMorePrimaryFlows(e){for(const t in this.primaryFlows){const n=e.flowPositions[t];if(n&&n.positions.length>0)return!1}return!0}layoutNextPage(e,n){const i=this,o=e.container===e.bleedBox;i.pageBreaks={},n?(i.currentLayoutPosition=n.clone(),i.styler.replayFlowElementsFromOffset(n.highestSeenOffset)):(i.currentLayoutPosition=new qr,i.styler.replayFlowElementsFromOffset(-1)),this.lang&&e.bleedBox.setAttribute("lang",this.lang),(n=i.currentLayoutPosition).page++,i.clearScope(i.style.pageScope),i.layoutPositionAtPageStart=n.clone();const s=o?{}:i.pageManager.getCascadedPageStyle(),r=i.selectPageMaster(s);if(!r)return pi(null);let a=0;if(!o){e.setAutoPageWidth(r.pageBox.specified.width.value===zt),e.setAutoPageHeight(r.pageBox.specified.height.value===Vt),i.counterStore.setCurrentPage(e),i.counterStore.updatePageCounters(s,i);const t=mc(gc(s),this);i.setPageSizeAndBleed(t,e),function(e,t,n,i){let o=!1,s=!1;const r=e.marks;if(r){const e=r.value;e.isSpaceList()?e.values.forEach(e=>{e===Mt.crop?o=!0:e===Mt.cross&&(s=!0)}):e===Mt.crop?o=!0:e===Mt.cross&&(s=!0)}if(!o&&!s)return;const a=n.container,l=a.ownerDocument,h=t.bleed,c=_t(uc,i),u=_t(dc,i),d=_t(pc,i);if(h){const t=e["background-color"];t&&t.value&&(n.bleedBox.style.backgroundColor=t.value.stringValue())}o&&Object.keys(Ec).forEach(e=>{const t=Ec[e],n=function(e,t,n,i,o,s){let r=i;r<=o+2*Pe.mm&&(r=o+i/2);const a=Math.max(i,r),l=o+a+n/2,h=bc(e,l,l);let c=[[0,o+i],[i,o+i],[i,o+i-r]],u=c.map(e=>[e[1],e[0]]);t!==Ec.TOP_RIGHT&&t!==Ec.BOTTOM_RIGHT||(c=c.map(e=>[o+a-e[0],e[1]]),u=u.map(e=>[o+a-e[0],e[1]])),t!==Ec.BOTTOM_LEFT&&t!==Ec.BOTTOM_RIGHT||(c=c.map(e=>[e[0],o+a-e[1]]),u=u.map(e=>[e[0],o+a-e[1]]));const d=wc(e,n);d.setAttribute("points",c.map(e=>e.join(",")).join(" ")),h.appendChild(d);const p=wc(e,n);return p.setAttribute("points",u.map(e=>e.join(",")).join(" ")),h.appendChild(p),t.split(" ").forEach(e=>{h.style[e]=`${s}px`}),h}(l,t,c,d,h,u);a.appendChild(n)}),s&&Object.keys(yc).forEach(e=>{const t=yc[e],n=function(e,t,n,i,o){const s=2*i;let r,a;t===yc.TOP||t===yc.BOTTOM?(r=s,a=i):(r=i,a=s);const l=bc(e,r,a),h=wc(e,n);h.setAttribute("points",`0,${a/2} ${r},${a/2}`),l.appendChild(h);const c=wc(e,n);c.setAttribute("points",`${r/2},0 ${r/2},${a}`),l.appendChild(c);const u=wc(e,n,"circle");let d;switch(u.setAttribute("cx",r/2),u.setAttribute("cy",a/2),u.setAttribute("r",i/4),l.appendChild(u),t){case yc.TOP:d=yc.BOTTOM;break;case yc.BOTTOM:d=yc.TOP;break;case yc.LEFT:d=yc.RIGHT;break;case yc.RIGHT:d=yc.LEFT}return Object.keys(yc).forEach(e=>{const n=yc[e];n===t?l.style[n]=`${o}px`:n!==d&&(l.style[n]="0",l.style[`margin-${n}`]="auto")}),l}(l,t,c,d,u);a.appendChild(n)})}(s,t,e,this),a=t.bleedOffset+t.bleed}const l=!o&&r.getProp(i,"writing-mode")||Mt.horizontal_tb;this.pageVertical=l!=Mt.horizontal_tb;const h=r.getProp(i,"direction")||Mt.ltr,c=new ra(i.rootPageFloatLayoutContext,ea.PAGE,null,null,null,l,h),u=di("layoutNextPage");return u.loopWithFrame(t=>{i.layoutContainer(e,r,e.bleedBox,a,a,[],c).then(()=>{c.isInvalidated()||c.finish(),c.isInvalidated()?(i.currentLayoutPosition=i.layoutPositionAtPageStart.clone(),c.validate(),t.continueLoop()):t.breakLoop()})}).then(()=>{if(r.adjustPageLayout(i,e,i.clientLayout),!o){const o=new nt(r.pageBox.scope,"left-page");e.side=o.evaluate(i)?t.PageSide.LEFT:t.PageSide.RIGHT,i.processLinger(),n=i.currentLayoutPosition,Object.keys(n.flowPositions).forEach(e=>{const t=n.flowPositions[e],o=t.breakAfter;!o||"page"!==o&&i.matchPageSide(o)||(t.breakAfter=null)})}i.currentLayoutPosition=i.layoutPositionAtPageStart=null,n.highestSeenOffset=i.styler.getReachedOffset();const s=i.style.store.getTriggersForDoc(i.xmldoc);e.finish(s,i.clientLayout),i.noMorePrimaryFlows(n)&&(n=null),u.finish(n)}),u.result()}setPageSizeAndBleed(e,t){this.actualPageWidth=e.pageWidth,this.actualPageHeight=e.pageHeight,this.pageSheetWidth=e.pageWidth+2*e.cropOffset,this.pageSheetHeight=e.pageHeight+2*e.cropOffset,t.container.style.width=`${this.pageSheetWidth}px`,t.container.style.height=`${this.pageSheetHeight}px`,t.bleedBox.style.left=`${e.bleedOffset}px`,t.bleedBox.style.right=`${e.bleedOffset}px`,t.bleedBox.style.top=`${e.bleedOffset}px`,t.bleedBox.style.bottom=`${e.bleedOffset}px`,t.bleedBox.style.padding=`${e.bleed}px`,t.bleedBox.style.paddingTop=`${e.bleed+.01}px`}}class uu extends Ms{constructor(e,t,n,i){super(e.rootScope,e,t,n,i,e.validatorSet,!n),this.masterHandler=e,this.insideRegion=!1}startPageTemplateRule(){}startPageMasterRule(e,t,n){const i=new zh(this.masterHandler.pageScope,e,t,n,this.masterHandler.rootBox,this.condition,this.owner.getBaseSpecificity());this.masterHandler.pushHandler(new lc(i.scope,this.masterHandler,i,this.validatorSet))}startWhenRule(e){let t=e.expr;null!=this.condition&&(t=ct(this.scope,this.condition,t)),this.masterHandler.pushHandler(new uu(this.masterHandler,t,this,this.regionId))}startDefineRule(){this.masterHandler.pushHandler(new Hs(this.scope,this.owner))}startFontFaceRule(){const e={};this.masterHandler.fontFaces.push({properties:e,condition:this.condition}),this.masterHandler.pushHandler(new Gs(this.scope,this.owner,null,e,this.masterHandler.validatorSet))}startFlowRule(e){let t=this.masterHandler.flowProps[e];t||(t={},this.masterHandler.flowProps[e]=t),this.masterHandler.pushHandler(new Gs(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startViewportRule(){const e={};this.masterHandler.viewportProps.push(e),this.masterHandler.pushHandler(new Gs(this.scope,this.owner,this.condition,e,this.masterHandler.validatorSet))}startFootnoteRule(e){let t=this.masterHandler.footnoteProps;if(e){const n=Fo(t,"_pseudos");t=n[e],t||(t={},n[e]=t)}this.masterHandler.pushHandler(new Gs(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startRegionRule(){this.insideRegion=!0,this.startSelectorRule()}startPageRule(){const e=new Hc(this.masterHandler.pageScope,this.masterHandler,this,this.validatorSet,this.masterHandler.pageProps);this.masterHandler.pushHandler(e),e.startPageRule()}startRuleBody(){if(Ms.prototype.startRuleBody.call(this),this.insideRegion){this.insideRegion=!1;const e=`R${this.masterHandler.regionCount++}`;this.special("region-id",Tt(e)),this.endRule();const t=new uu(this.masterHandler,this.condition,this,e);this.masterHandler.pushHandler(t),t.startRuleBody()}}}function du(e){let t=e.getAttribute("content");if(!t)return"";const n={};let i;for(;null!=(i=t.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)t=t.substr(i[0].length),n[i[1]]=i[2];const o=n.width-0,s=n.height-0;return o&&s?`@-epubx-viewport{width:${o}px;height:${s}px;}`:""}class pu extends Di{constructor(e){super(),this.validatorSet=e,this.regionCount=0,this.fontFaces=[],this.footnoteProps={},this.flowProps={},this.viewportProps=[],this.pageProps={},this.rootScope=new xe(null),this.pageScope=new xe(this.rootScope),this.rootBox=new Mh(this.rootScope),this.cascadeParserHandler=new uu(this,null,null,null),this.slave=this.cascadeParserHandler}error(e,t){c.warn("CSS parser:",e)}}function fu(e,t){return t.parseOPSResource(e)}class gu extends Ri{constructor(e){super(fu,Ii.DOCUMENT),this.fontDeobfuscator=e,this.styleByKey={},this.styleFetcherByKey={},this.styleByDocURL={},this.triggersByDocURL={},this.validatorSet=null,this.styleSheets=[],this.triggerSingleDocumentPreprocessing=!1}init(e,t){this.setStyleSheets(e,t);const n=k("user-agent.xml",O),i=di("OPSDocStore.init");return this.validatorSet=Ph(),lu.get().then(()=>{this.load(n).then(()=>{this.triggerSingleDocumentPreprocessing=!0,i.finish(!0)})}),i.result()}getStyleForDoc(e){return this.styleByDocURL[e.url]}getTriggersForDoc(e){return this.triggersByDocURL[e.url]}setStyleSheets(e,t){this.clearStyleSheets(),e&&e.forEach(this.addAuthorStyleSheet,this),t&&t.forEach(this.addUserStyleSheet,this)}clearStyleSheets(){this.styleSheets.splice(0)}addAuthorStyleSheet(e){let t=e.url;t&&(t=k(L(t),P)),this.styleSheets.push({url:t,text:e.text,flavor:Pi.AUTHOR,classes:null,media:null})}addUserStyleSheet(e){let t=e.url;t&&(t=k(L(t),P)),this.styleSheets.push({url:t,text:e.text,flavor:Pi.USER,classes:null,media:null})}parseOPSResource(e){const n=di("OPSDocStore.load"),i=this,o=e.url,s=o.endsWith("?viv-toc-box");return ou(e,i).then(e=>{if(!e)return void n.finish(null);if(i.triggerSingleDocumentPreprocessing){const n=g(t.HOOKS.PREPROCESS_SINGLE_DOCUMENT);for(let t=0;t<n.length;t++)try{n[t](e.document)}catch(e){c.warn("Error during single document preprocessing:",e)}}const r=[],a=e.document.getElementsByTagNameNS(F.epub,"trigger");for(let e=0;e<a.length;e++){const t=a[e],n=t.getAttributeNS(F.EV,"observer"),i=t.getAttributeNS(F.EV,"event"),o=t.getAttribute("action"),s=t.getAttribute("ref");n&&i&&o&&s&&r.push({observer:n,event:i,action:o,ref:s})}i.triggersByDocURL[o]=r;const l=[],h=k("user-agent-page.css",O);l.push({url:h,text:'@namespace html "http://www.w3.org/1999/xhtml";\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nhtml|body,\nfb2|body {\n  hyphens: -epubx-expr(pref-hyphenate? "auto": "manual");\n}\n\n@-adapt-footnote-area {\n  display: block;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n}\n\n@-adapt-footnote-area ::before {\n  display: block;\n  border-block-start-width: 1px;\n  border-block-start-style: solid;\n  border-block-start-color: black;\n  margin-block-end: 0.4em;\n  margin-inline-start: 0;\n  margin-inline-end: 60%;\n}\n\n/* default page master */\n@-epubx-page-master :background-host {\n  @-epubx-partition :layout-host {\n    -epubx-flow-from: body;\n    top: -epubx-expr(header.margin-bottom-edge);\n    bottom: -epubx-expr(page-height - footer.margin-top-edge);\n    left: 0px;\n    right: 0px;\n    column-width: 25em;\n  }\n  @-epubx-partition footer :oeb-page-foot {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-foot;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n  @-epubx-partition header :oeb-page-head {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-head;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n@page {\n  @top-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @top-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @top-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @left-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @left-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @left-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @right-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @right-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @right-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @bottom-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @bottom-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @bottom-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n}\n\n@media print {\n  @page {\n    margin: 10%;\n  }\n}\n',flavor:Pi.USER_AGENT,classes:null,media:null});const u=e.head;if(!s&&u)for(let e=u.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e,n=t.namespaceURI,i=t.localName;if(n==F.XHTML)if("style"==i){const e=t.getAttribute("class"),n=t.getAttribute("media"),i=t.getAttribute("title");l.push({url:o,text:t.textContent,flavor:Pi.AUTHOR,classes:i?e:null,media:n})}else if("link"==i){const e=t.getAttribute("rel"),n=t.getAttribute("class"),i=t.getAttribute("media");if("stylesheet"==e||"alternate stylesheet"==e&&n){let e=t.getAttribute("href");e=k(e,o);const s=t.getAttribute("title");l.push({url:e,text:null,classes:s?n:null,media:i,flavor:Pi.AUTHOR})}}else"meta"==i&&"viewport"==t.getAttribute("name")&&l.push({url:o,text:du(t),flavor:Pi.AUTHOR,classes:null,media:null});else if(n==F.FB2)"stylesheet"==i&&"text/css"==t.getAttribute("type")&&l.push({url:o,text:t.textContent,flavor:Pi.AUTHOR,classes:null,media:null});else if(n==F.SSE&&"property"===i){const e=t.getElementsByTagName("name")[0];if(e&&"stylesheet"===e.textContent){const e=t.getElementsByTagName("value")[0];if(e){const t=k(e.textContent,o);l.push({url:t,text:null,classes:null,media:null,flavor:Pi.AUTHOR})}}}}if(!s)for(let e=0;e<i.styleSheets.length;e++)l.push(i.styleSheets[e]);let d="";for(let e=0;e<l.length;e++)d+=l[e].url,d+="^",l[e].text&&(d+=l[e].text),d+="^";let p=i.styleByKey[d];if(p)return i.styleByDocURL[o]=p,void n.finish(e);let f=i.styleFetcherByKey[d];f||(f=new Ci(()=>{const e=di("fetchStylesheet");let t=0;const n=new pu(i.validatorSet);return e.loop(()=>{if(t<l.length){const e=l[t++];return n.startStylesheet(e.flavor),null!==e.text?no(e.text,n,e.url,e.classes,e.media).thenReturn(!0):io(e.url,n,e.classes,e.media)}return pi(!1)}).then(()=>{const t=n.cascadeParserHandler.finish();p=new hu(i,n.rootScope,n.pageScope,t,n.rootBox,n.fontFaces,n.footnoteProps,n.flowProps,n.viewportProps,n.pageProps),i.styleByKey[d]=p,delete i.styleFetcherByKey[d],e.finish(p)}),e.result()},`FetchStylesheet ${o}`),i.styleFetcherByKey[d]=f,f.start()),f.get().then(t=>{i.styleByDocURL[o]=t,n.finish(e)})}),n.result()}}function mu(e){return String.fromCharCode(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}function bu(e){return(255&e.charCodeAt(0))<<24|(255&e.charCodeAt(1))<<16|(255&e.charCodeAt(2))<<8|255&e.charCodeAt(3)}function wu(e){const t=new $;t.append(e);let n=55-e.length&63;for(t.append("");n>0;)n--,t.append("\0");t.append("\0\0\0\0"),t.append(mu(8*e.length)),e=t.toString();const i=[1732584193,4023233417,2562383102,271733878,3285377520],o=[];let s;for(let t=0;t<e.length;t+=64){for(s=0;s<16;s++)o[s]=bu(e.substr(t+4*s,4));for(;s<80;s++){const e=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=e<<1|e>>>31}let n,r=i[0],a=i[1],l=i[2],h=i[3],c=i[4];for(s=0;s<80;s++)n=s<20?1518500249+(a&l|~a&h):s<40?1859775393+(a^l^h):s<60?2400959708+(a&l|a&h|l&h):3395469782+(a^l^h),n+=(r<<5|r>>>27)+c+o[s],c=h,h=l,l=a<<30|a>>>2,a=r,r=n;i[0]=i[0]+r|0,i[1]=i[1]+a|0,i[2]=i[2]+l|0,i[3]=i[3]+h|0,i[4]=i[4]+c|0}return i}class Eu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.url=t,this.lang=n,this.clientLayout=i,this.fontMapper=o,this.rendererFactory=r,this.fallbackMap=a,this.documentURLTransformer=l,this.counterStore=h,this.page=null,this.instance=null,this.pref=we(s),this.pref.spreadView=!1}setAutoHeight(e,t){if(0!=t--)for(let n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){const e=n;"auto"!=H(e,"height","auto")&&(V(e,"height","auto"),this.setAutoHeight(e,t)),"absolute"==H(e,"position","static")&&(V(e,"position","relative"),this.setAutoHeight(e,t))}}makeCustomRenderer(e){const t=this.rendererFactory.makeCustomRenderer(e);return(e,n,i)=>{const o=i.behavior;if(o)switch(o.toString()){case"body-child":e.parentElement.getAttribute("data-vivliostyle-primary-entry")&&(e.querySelector("[role=doc-toc], [role=directory], nav li a, .toc, #toc")||(i.display=Mt.none));break;case"toc-node-anchor":i.color=Mt.inherit,i["text-decoration"]=Mt.none;break;case"toc-node":i.display=Mt.block,i.margin=Ht,i.padding=Ht,i["padding-inline-start"]=new xt(1.25,"em");break;case"toc-node-first-child":i.display=Mt.inline_block,i.margin=new xt(.2,"em"),i["vertical-align"]=Mt.top,i.color=Mt.inherit,i["text-decoration"]=Mt.none}if(!o||"toc-node"!=o.toString()&&"toc-container"!=o.toString())return t(e,n,i);const s=e.firstChild;s&&1!==s.nodeType&&""===s.textContent.trim()&&e.replaceChild(e.ownerDocument.createComment(s.textContent),s);const r=n.getAttribute("data-adapt-class");if("toc-node"==r){const e=n.firstChild;"▸"!=e.textContent&&(e.textContent="▸",V(e,"cursor","pointer"),e.addEventListener("click",yu,!1),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"0px"!==n.style.height&&(e.tabIndex=0))}const a=n.ownerDocument.createElement("div");if(a.setAttribute("data-adapt-process-children","true"),"toc-node"==o.toString()){const t=n.ownerDocument.createElement("div");if(t.textContent="▹",V(t,"margin","0.2em 0 0 -1em"),V(t,"margin-inline-start","-1em"),V(t,"margin-inline-end","0"),V(t,"display","inline-block"),V(t,"width","1em"),V(t,"text-align","center"),V(t,"vertical-align","top"),V(t,"cursor","default"),V(t,"font-family","Menlo,sans-serif"),a.appendChild(t),V(a,"overflow","hidden"),a.setAttribute("data-adapt-class","toc-node"),a.setAttribute("role","treeitem"),"toc-node"==r||"toc-container"==r){V(a,"height","0px");const t=e.firstElementChild;t&&"a"===t.localName&&(t.tabIndex=-1)}else n.setAttribute("role","tree")}else"toc-node"==r&&(a.setAttribute("data-adapt-class","toc-container"),a.setAttribute("role","group"),a.setAttribute("aria-hidden","true"));return pi(a)}}showTOC(e,t,n,i,o){if(this.page)return pi(this.page);const s=this,r=di("showTOC"),a=new Or(e,e);this.page=a;const l=this.url+"?viv-toc-box";return this.store.load(l).then(i=>{const l=this.store.resources[this.url];l&&l.body&&l.body.getAttribute("data-vivliostyle-primary-entry")&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const h=s.store.getStyleForDoc(i),c=h.sizeViewport(n,1e5,o);t=new eu(t.window,c.fontSize,t.root,c.width,c.height);const u=s.makeCustomRenderer(i),d=new cu(h,i,s.lang,t,s.clientLayout,s.fontMapper,u,s.fallbackMap,0,s.documentURLTransformer,s.counterStore);s.instance=d,d.pref=s.pref,d.init().then(()=>{d.layoutNextPage(a,null).then(()=>{Array.from(a.container.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*[style*='display: none']")).forEach(e=>{e.setAttribute("aria-hidden","true"),e.setAttribute("hidden","hidden")}),s.setAutoHeight(e,2),r.finish(a)})})}),r.result()}hideTOC(){this.page&&(this.page.container.style.visibility="hidden",this.page.container.setAttribute("aria-hidden","true"))}isTOCVisible(){return!!this.page&&"visible"===this.page.container.style.visibility}}function yu(e){const t=e.target,n="▸"==t.textContent;t.textContent=n?"▾":"▸";const i=t.parentNode;t.setAttribute("aria-expanded",n?"true":"false"),i.setAttribute("aria-expanded",n?"true":"false");let o=i.firstChild;for(;o;){if(1===o.nodeType){const e=o,t=e.getAttribute("data-adapt-class");if("toc-container"===t){if(e.setAttribute("aria-hidden",n?"false":"true"),e.firstChild){o=e.firstChild;continue}}else if("toc-node"===t&&(e.style.height=n?"auto":"0px",e.children.length>=2&&(e.children[1].tabIndex=n?0:-1),e.children.length>=3&&(e.children[0].tabIndex=n?0:-1,!n))){const t=e.children[0];if("▾"==t.textContent){t.textContent="▸",t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),o=e.children[2];continue}}}for(;!o.nextSibling&&o.parentNode!==i;)o=o.parentNode;o=o.nextSibling}e.stopPropagation()}class Su extends gu{constructor(){super(null),this.opfByURL={},this.primaryOPFByEPubURL={},this.deobfuscators={},this.documents={},this.fontDeobfuscator=this.makeDeobfuscatorFactory(),this.plainXMLStore=new Ri(ou,Ii.DOCUMENT),this.jsonStore=new Ri(ki,Ii.TEXT)}makeDeobfuscatorFactory(){const e=this;return t=>e.deobfuscators[t]}loadAsPlainXML(e,t,n){return this.plainXMLStore.load(e,t,n)}startLoadingAsPlainXML(e){this.plainXMLStore.fetch(e)}loadAsJSON(e,t,n){return this.jsonStore.load(e,t,n)}startLoadingAsJSON(e){this.jsonStore.fetch(e)}loadPubDoc(e,t){const n=di("loadPubDoc");return Ai(e,null,"HEAD").then(i=>{if(i.status>=400)this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(c.error(`Failed to fetch a source document from ${e} (${i.status}${i.statusText?" "+i.statusText:""})`),n.finish(null))});else if(i.status||i.responseXML||i.responseText||i.responseBlob||i.contentType||/\/[^/.]+(?:[#?]|$)/.test(e)&&(e=e.replace(/([#?]|$)/,"/$1")),"application/oebps-package+xml"==i.contentType||/\.opf(?:[#?]|$)/.test(e)){const[,i,o]=e.match(/^((?:.*\/)?)([^/]*)$/);this.loadOPF(i,o,t).thenFinish(n)}else"application/ld+json"==i.contentType||"application/webpub+json"==i.contentType||"application/audiobook+json"==i.contentType||"application/json"==i.contentType||/\.json(?:ld)?(?:[#?]|$)/.test(e)?this.loadAsJSON(e,!0).then(t=>{if(!t)return c.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`),void n.finish(null);const i=new Ou(this,e);i.initWithWebPubManifest(t).then(()=>{n.finish(i)})}):this.loadWebPub(e).then(i=>{i?n.finish(i):this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(c.error(`Failed to load ${e}.`),n.finish(null))})})}),n.result()}loadEPUBDoc(e,t){const n=di("loadEPUBDoc");e.endsWith("/")||(e+="/"),t&&this.startLoadingAsJSON(e+"?r=list"),this.startLoadingAsPlainXML(e+"META-INF/encryption.xml");const i=e+"META-INF/container.xml";return this.loadAsPlainXML(i).then(i=>{if(i){const o=i.doc().child("container").child("rootfiles").child("rootfile").attribute("full-path");for(const i of o)if(i)return void this.loadOPF(e,i,t).thenFinish(n);n.finish(null)}}),n.result()}loadOPF(e,t,n){const i=this,o=e+t;let s=i.opfByURL[o];if(s)return pi(s);const r=di("loadOPF");return i.loadAsPlainXML(o,!0,`Failed to fetch EPUB OPF ${o}`).then(t=>{t?i.loadAsPlainXML(`${e}META-INF/encryption.xml`).then(a=>{(n?i.loadAsJSON(`${e}?r=list`):pi(null)).then(n=>{s=new Ou(i,e),s.initWithXMLDoc(t,a,n,`${e}?r=manifest`).then(()=>{i.opfByURL[o]=s,i.primaryOPFByEPubURL[e]=s,r.finish(s)})})}):c.error(`Received an empty response for EPUB OPF ${o}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),r.result()}loadWebPub(e){const t=di("loadWebPub");return this.load(e).then(n=>{if(n)if(n.document.querySelector("a[href='META-INF/'],a[href$='/META-INF/']"))t.finish(null);else{const i=n.document,o=new Ou(this,e);i.body&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const s=i.querySelector("link[rel='publication'],link[rel='manifest'][type='application/webpub+json']");if(s){const n=s.getAttribute("href");if(/^#/.test(n)){const e=x(i.getElementById(n.substr(1)).textContent);o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})}else this.loadAsJSON(k(s.getAttribute("href"),e)).then(e=>{o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})})}else o.initWithWebPubManifest({},i).then(()=>{o.xhtmlToc&&o.xhtmlToc.src===n.url&&(i.querySelector("[role=doc-toc], [role=directory], nav, .toc, #toc")||(o.xhtmlToc=null)),t.finish(o)})}else c.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),t.result()}addDocument(e,t){const n=di("EPUBDocStore.load"),i=I(e);return(this.documents[i]=this.parseOPSResource({status:200,statusText:"",url:i,contentType:t.contentType,responseText:null,responseXML:t,responseBlob:null})).thenFinish(n),n.result()}load(e){const t=I(e);let n=this.documents[t];if(n)return n.isPending()?n:pi(n.get());{const e=di("EPUBDocStore.load");return n=super.load(t,!0,`Failed to fetch a source document from ${t}`),n.then(n=>{n?e.finish(n):t.startsWith("data:")?c.error(`Failed to load ${t}. Invalid data.`):t.startsWith("http:")&&P.startsWith("https:")?c.error(`Failed to load ${t}. Mixed Content ("http:" content on "https:" context) is not allowed.`):c.error(`Received an empty response for ${t}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),e.result()}}}class Nu{constructor(){this.id=null,this.src="",this.mediaType=null,this.title=null,this.itemRefElement=null,this.spineIndex=-1,this.compressedSize=0,this.compressed=null,this.epage=0,this.epageCount=0,this.startPage=null,this.skipPagesBefore=null,this.itemProperties=T}initWithElement(e,t){this.id=e.getAttribute("id"),this.src=k(e.getAttribute("href"),t),this.mediaType=e.getAttribute("media-type");const n=e.getAttribute("properties");n&&(this.itemProperties=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;return t}(n.split(/\s+/)))}initWithParam(e){this.spineIndex=e.index,this.id=`item${e.index+1}`,this.src=e.url,this.startPage=e.startPage,this.skipPagesBefore=e.skipPagesBefore}}function vu(e){return e.id}const Cu={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",rendition:"http://www.idpf.org/vocab/rendition/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#"},Tu="http://idpf.org/epub/vocab/package/#",xu={language:`${Cu.dcterms}language`,title:`${Cu.dcterms}title`,creator:`${Cu.dcterms}creator`,layout:`${Cu.rendition}layout`,titleType:`${Tu}title-type`,displaySeq:`${Tu}display-seq`,alternateScript:`${Tu}alternate-script`};function Iu(e,t){const n={};return(i,o)=>{let s,r;const a=i.r||n,l=o.r||n;if(e==xu.title&&(s="main"==a[xu.titleType],r="main"==l[xu.titleType],s!=r))return s?-1:1;let h=parseInt(a[xu.displaySeq],10);isNaN(h)&&(h=Number.MAX_VALUE);let c=parseInt(l[xu.displaySeq],10);return isNaN(c)&&(c=Number.MAX_VALUE),h!=c?h-c:e!=xu.language&&t&&(s=(a[xu.language]||a[xu.alternateScript])==t,r=(l[xu.language]||l[xu.alternateScript])==t,s!=r)?s?-1:1:i.o-o.o}}function Pu(){const e=window.MathJax;return e?e.Hub:null}const Au={"application/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0};class Ou{constructor(e,t){this.store=e,this.pubURL=t,this.opfXML=null,this.encXML=null,this.items=null,this.spine=null,this.itemMap=null,this.itemMapByPath=null,this.uid=null,this.bindings={},this.lang=null,this.epageCount=0,this.prePaginated=!1,this.epageIsRenderedPage=!0,this.epageCountCallback=null,this.metadata={},this.ncxToc=null,this.xhtmlToc=null,this.cover=null,this.fallbackMap={},this.pageProgression=null,this.documentURLTransformer=this.createDocumentURLTransformer(),Pu()&&(go[F.MATHML]=!0)}createDocumentURLTransformer(){const e=this;return new class{transformFragment(e,t){return"viv-id-"+q(t+(e?`#${e}`:""),":")}transformURL(t,n){const i=t.match(/^([^#]*)#?(.*)$/);if(i){const t=i[1]||n,o=i[2];if(t&&e.items.some(e=>e.src===t))return`#${this.transformFragment(o,t)}`}return t}restoreURL(e){"#"===e.charAt(0)&&(e=e.substring(1)),0===e.indexOf("viv-id-")&&(e=e.substring("viv-id-".length));const t=function(e,t){t="string"==typeof t?t:"\\u";const n=new RegExp(`${Z(t)}[0-9a-fA-F]{4}`,"g");return e.replace(n,(function(e){return function(e,t){return t="string"==typeof t?t:"\\u",0===e.indexOf(t)?String.fromCharCode(parseInt(e.substring(t.length),16)):e}(e,t)}))}(e,":").match(/^([^#]*)#?(.*)$/);return t?[t[1],t[2]]:[]}}}getMetadata(){return this.metadata}getPathFromURL(e){if(e.startsWith("data:"))return e===this.pubURL?"":e;if(this.pubURL){let t=k("",this.pubURL);return e===t||e+"/"===t?"":("/"!=t.charAt(t.length-1)&&(t+="/"),e.substr(0,t.length)==t?decodeURI(e.substr(t.length)):null)}return e}initWithXMLDoc(e,t,n,o){const s=this;this.opfXML=e,this.encXML=t;const r=e.doc().child("package"),a=r.attribute("unique-identifier")[0];if(a){const t=e.getElement(`${e.url}#${a}`);t&&(this.uid=t.textContent.replace(/[ \n\r\t]/g,""))}const l={};this.items=r.child("manifest").child("item").asArray().map(t=>{const n=new Nu,i=t;n.initWithElement(i,e.url);const o=i.getAttribute("fallback");return o&&!Au[n.mediaType]&&(l[n.src]=o),!s.xhtmlToc&&n.itemProperties.nav&&(s.xhtmlToc=n),!s.cover&&n.itemProperties["cover-image"]&&(s.cover=n),n}),this.itemMap=ee(this.items,vu),this.itemMapByPath=ee(this.items,e=>s.getPathFromURL(e.src));for(const e in l){let t=e;for(;;){const n=this.itemMap[l[t]];if(!n)break;if(Au[n.mediaType]){this.fallbackMap[e]=n.src;break}t=n.src}}this.spine=r.child("spine").child("itemref").asArray().map((e,t)=>{const n=e,i=n.getAttribute("idref"),o=s.itemMap[i];return o&&(o.itemRefElement=n,o.spineIndex=t),o});const h=r.child("spine").attribute("toc")[0];h&&(this.ncxToc=this.itemMap[h]);const c=r.child("spine").attribute("page-progression-direction")[0];c&&(this.pageProgression=i(c));const u=t?t.doc().child("encryption").child("EncryptedData").predicate(ru.withChild("EncryptionMethod",ru.withAttribute("Algorithm","http://www.idpf.org/2008/embedding"))).child("CipherData").child("CipherReference").attribute("URI"):[],d=r.child("bindings").child("mediaType").asArray();for(let e=0;e<d.length;e++){const t=d[e].getAttribute("handler"),n=d[e].getAttribute("media-type");n&&t&&this.itemMap[t]&&(this.bindings[n]=this.itemMap[t].src)}if(this.metadata=function(e,t){let n;if(t){n={};for(const e in Cu)n[e]=Cu[e];let e;for(;null!=(e=t.match(/^\s*([A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)t=t.substr(e[0].length),n[e[1]]=e[2]}else n=Cu;const i=e=>{if(e){const t=e.match(/^\s*(([^:]*):)?(\S+)\s*$/);if(t){const e=t[2]?n[t[2]]:Tu;if(e)return e+t[3]}}return null};let o=1;const s=e.childElements().forEachNonNull(e=>{if("meta"==e.localName){const t=i(e.getAttribute("property"));if(t)return{name:t,value:e.textContent,id:e.getAttribute("id"),order:o++,refines:e.getAttribute("refines"),lang:null,scheme:i(e.getAttribute("scheme"))}}else if(e.namespaceURI==F.DC)return{name:Cu.dcterms+e.localName,order:o++,lang:e.getAttribute("xml:lang"),value:e.textContent,id:e.getAttribute("id"),refines:null,scheme:null};return null}),r=te(s,e=>e.refines),a=e=>function(e,t){const n={};for(const i in e)n[i]=t(e[i],i);return n}(e,(e,t)=>e.map(e=>{const t={v:e.value,o:e.order};if(e.schema&&(t.s=e.scheme),e.id||e.lang){let n=r[e.id];if(n||e.lang){if(e.lang){const t={name:xu.language,value:e.lang,lang:null,id:null,refines:e.id,scheme:null,order:e.order};n?n.push(t):n=[t]}const i=te(n,e=>e.name);t.r=a(i)}}return t})),l=a(te(s,e=>e.refines?null:e.name));let h=null;l[xu.language]&&(h=l[xu.language][0].v);const c=e=>{for(const t in e){const n=e[t];n.sort(Iu(t,h));for(let e=0;e<n.length;e++){const t=n[e].r;t&&c(t)}}};return c(l),l}(r.child("metadata"),r.attribute("prefix")[0]),this.metadata[xu.language]&&(this.lang=this.metadata[xu.language][0].v),this.metadata[xu.layout]&&(this.prePaginated="pre-paginated"===this.metadata[xu.layout][0].v),!n){if(u.length>0&&this.uid){const e=function(e){const t=function(e){const t=wu(e),n=[];for(const e of t)n.push(e>>>24&255,e>>>16&255,e>>>8&255,255&e);return n}(e);return e=>{const n=di("deobfuscator");let i,o;return e.slice?(i=e.slice(0,1040),o=e.slice(1040,e.size)):(i=e.webkitSlice(0,1040),o=e.webkitSlice(1040,e.size-1040)),function(e){const t=di("readBlob"),n=new FileReader,i=t.suspend(n);return n.addEventListener("load",()=>{i.schedule(n.result)},!1),n.readAsArrayBuffer(e),t.result()}(i).then(e=>{const i=new DataView(e);for(let e=0;e<i.byteLength;e++){let n=i.getUint8(e);n^=t[e%20],i.setUint8(e,n)}n.finish(Oi([i,o]))}),n.result()}}(this.uid);for(let t=0;t<u.length;t++)this.store.deobfuscators[this.pubURL+u[t]]=e}return this.prePaginated&&this.assignAutoPages(),pi(!0)}const p=new $,f={};if(u.length>0&&this.uid){const e=`1040:${function(e){const t=function(e){const t=wu(e),n=new $;for(let e=0;e<t.length;e++)n.append(mu(t[e]));return n.toString()}(e),n=new $;for(let e=0;e<t.length;e++)n.append((256|t.charCodeAt(e)).toString(16).substr(1));return n.toString()}(this.uid)}`;for(let t=0;t<u.length;t++)f[u[t]]=e}for(let e=0;e<n.length;e++){const t=n[e],i=t.n;if(i){const e=decodeURI(i),n=this.itemMapByPath[e];let o=null;n&&(n.compressed=0!=t.m,n.compressedSize=t.c,n.mediaType&&(o=n.mediaType.replace(/\s+/g,"")));const s=f[e];(o||s)&&(p.append(i),p.append(" "),p.append(o||"application/octet-stream"),s&&(p.append(" "),p.append(s)),p.append("\n"))}}return s.assignAutoPages(),Ai(o,Ii.DEFAULT,"POST",p.toString(),"text/plain")}assignAutoPages(){let e=0;for(const t of this.spine){const n=this.prePaginated?1:Math.ceil(t.compressedSize/1024);t.epage=e,t.epageCount=n,e+=n}this.epageCount=e,this.epageCountCallback&&this.epageCountCallback(this.epageCount)}setEPageCountMode(e){this.epageIsRenderedPage=e||this.prePaginated}countEPages(e){if(this.epageCountCallback=e,this.epageIsRenderedPage)return this.prePaginated&&0==this.epageCount&&this.assignAutoPages(),pi(!0);let t=0,n=0;const i=di("countEPages");return i.loopWithFrame(e=>{if(n===this.spine.length)return void e.breakLoop();const i=this.spine[n++];i.epage=t,this.store.load(i.src).then(n=>{let o=1800;const s=n.lang||this.lang;s&&s.match(/^(ja|ko|zh)/)&&(o/=3),i.epageCount=Math.ceil(n.getTotalOffset()/o),t+=i.epageCount,this.epageCount=t,this.epageCountCallback&&this.epageCountCallback(this.epageCount),e.continueLoop()})}).thenFinish(i),i.result()}initWithChapters(e,t){this.itemMap={},this.itemMapByPath={},this.items=[],this.spine=this.items;const n=this.opfXML=new tu(null,"",(new DOMParser).parseFromString("<spine></spine>","text/xml"));return e.forEach(e=>{const t=new Nu;t.initWithParam(e);const i=n.document.createElement("itemref");i.setAttribute("idref",t.id),n.root.appendChild(i),t.itemRefElement=i,this.itemMap[t.id]=t;let o=this.getPathFromURL(e.url);null==o&&(o=e.url),this.itemMapByPath[o]=t,this.items.push(t)}),t?this.store.addDocument(e[0].url,t):pi(null)}initWithWebPubManifest(e,t){e.readingProgression&&(this.pageProgression=e.readingProgression),void 0===this.metadata&&(this.metadata={});const n=t&&t.title||e.name||e.metadata&&e.metadata.title;n&&(this.metadata[xu.title]=[{v:n}]);const i=this.getPathFromURL(this.pubURL);if(!e.readingOrder&&t&&null!==i){e.readingOrder=[encodeURI(i)];const n="[role=doc-toc] a[href],[role=directory] a[href],nav li a[href],.toc a[href],#toc a[href]";Array.from(t.querySelectorAll(n)).forEach(t=>{const n=I(k(t.getAttribute("href"),this.pubURL)),i=this.getPathFromURL(n),o=null!==i?encodeURI(i):n;-1==e.readingOrder.indexOf(o)&&e.readingOrder.push(o)})}const o=[];let s=0,r=-1;[e.readingOrder,e.resources].forEach(t=>{t instanceof Array&&t.forEach(t=>{const n=e.readingOrder.includes(t),i="string"==typeof t?t:t.url||t.href,a="string"==typeof t?"":t.encodingFormat||t.href&&t.type||"";if(n||"text/html"===a||"application/xhtml+xml"===a||/(^|\/)([^/]+\.(x?html|htm|xht)|[^/.]*)([#?]|$)/.test(i)){const e={url:k(L(i),this.pubURL),index:s++,startPage:null,skipPagesBefore:null};"contents"===t.rel&&-1===r&&(r=e.index),o.push(e)}})});const a=di("initWithWebPubManifest");return this.initWithChapters(o).then(()=>{-1!==r&&(this.xhtmlToc=this.items[r]),this.xhtmlToc||(this.xhtmlToc=this.itemMapByPath[i]),a.finish(!0)}),a.result()}getCFI(e,t){const n=this.spine[e],i=di("getCFI");return this.store.load(n.src).then(e=>{const o=e.getNodeByOffset(t);let s=null;if(o){const i=e.getNodeOffset(o,0,!1),r=t-i,a=new be;a.prependPathFromNode(o,r,!1,null),n.itemRefElement&&a.prependPathFromNode(n.itemRefElement,0,!1,null),s=a.toString()}i.finish(s)}),i.result()}resolveFragment(e){const t=this;return fi("resolveFragment",n=>{if(!e)return void n.finish(null);let i,o=new be;if(o.fromString(e),t.opfXML){const e=o.navigate(t.opfXML.document);if(1!=e.node.nodeType||e.after||!e.ref)return void n.finish(null);const s=e.node,r=s.getAttribute("idref");if("itemref"!=s.localName||!r||!t.itemMap[r])return void n.finish(null);i=t.itemMap[r],o=e.ref}else i=t.spine[0];t.store.load(i.src).then(e=>{const t=o.navigate(e.document),s=e.getNodeOffset(t.node,t.offset,t.after);n.finish({spineIndex:i.spineIndex,offsetInItem:s,pageIndex:-1})})},(t,n)=>{c.warn(n,"Cannot resolve fragment:",e),t.finish(null)})}resolveEPage(e){const t=this;return fi("resolveEPage",n=>{if(e<=0)return void n.finish({spineIndex:0,offsetInItem:0,pageIndex:-1});if(t.epageIsRenderedPage){let i=t.spine.findIndex(t=>0==t.epage&&0==t.epageCount||t.epage<=e&&t.epage+t.epageCount>e);-1==i&&(i=t.spine.length-1);let o=t.spine[i];o&&0!=o.epageCount||(o=t.spine[--i]);const s=Math.floor(e-o.epage);return void n.finish({spineIndex:i,offsetInItem:-1,pageIndex:s})}let i=Q(t.spine.length,n=>{const i=t.spine[n];return i.epage+i.epageCount>e});i==t.spine.length&&i--;const o=t.spine[i];t.store.load(o.src).then(t=>{(e-=o.epage)>o.epageCount&&(e=o.epageCount);let s=0;if(e>0){const n=t.getTotalOffset();s=Math.round(n*e/o.epageCount),s==n&&s--}n.finish({spineIndex:i,offsetInItem:s,pageIndex:-1})})},(t,n)=>{c.warn(n,"Cannot resolve epage:",e),t.finish(null)})}getEPageFromPosition(e){const t=this.spine[e.spineIndex];if(this.epageIsRenderedPage)return pi(t.epage+e.pageIndex);if(e.offsetInItem<=0)return pi(t.epage);const n=di("getEPage");return this.store.load(t.src).then(i=>{const o=i.getTotalOffset(),s=Math.min(o,e.offsetInItem);n.finish(t.epage+s*t.epageCount/o)}),n.result()}}const Ru=(e,t)=>({page:e,position:{spineIndex:e.spineIndex,pageIndex:t,offsetInItem:e.offset}});class ku{constructor(e,t,n,i,o){this.opf=e,this.viewport=t,this.fontMapper=n,this.pageSheetSizeReporter=o,this.spineItems=[],this.spineItemLoadingContinuations=[],this.tocAutohide=!1,this.pref=we(i),this.clientLayout=new Jc(t),this.counterStore=new Tn(e.documentURLTransformer)}getPage(e){const t=this.spineItems[e.spineIndex];return t?t.pages[e.pageIndex]:null}getCurrentPageProgression(e){if(this.opf.pageProgression)return this.opf.pageProgression;{const t=this.spineItems[e?e.spineIndex:0];return t?t.instance.pageProgression:null}}finishPageContainer(e,t,n){t.container.style.display="none",t.container.style.visibility="visible",t.container.style.position="",t.container.style.top="",t.container.style.left="",t.container.setAttribute("data-vivliostyle-page-side",t.side);const i=e.pages[n];if(t.isFirstPage=0==e.item.spineIndex&&0==n,e.pages[n]=t,this.opf.epageIsRenderedPage){if(0==n&&e.item.spineIndex>0){const t=this.opf.spine[e.item.spineIndex-1];e.item.epage=t.epage+t.epageCount}e.item.epageCount=e.pages.length,this.opf.epageCount=this.opf.spine.reduce((e,t)=>e+t.epageCount,0),this.opf.epageCountCallback&&this.opf.epageCountCallback(this.opf.epageCount)}if(i)e.instance.viewport.contentContainer.replaceChild(t.container,i.container),i.dispatchEvent({type:"replaced",target:null,currentTarget:null,preventDefault:null,newPage:t});else{let i=null;if(n>0)i=e.pages[n-1].container.nextElementSibling;else for(let t=e.item.spineIndex+1;t<this.spineItems.length;t++){const e=this.spineItems[t];if(e&&e.pages[0]){i=e.pages[0].container;break}}e.instance.viewport.contentContainer.insertBefore(t.container,i)}this.pageSheetSizeReporter({width:e.instance.pageSheetWidth,height:e.instance.pageSheetHeight},e.instance.pageSheetSize,e.item.spineIndex,e.instance.pageNumberOffset+n)}renderSinglePage(e,t){const n=di("renderSinglePage");let i=this.makePage(e,t);const o=this;return e.instance.layoutNextPage(i,t).then(s=>{const r=(t=s)?t.page-1:e.layoutPositions.length-1;o.finishPageContainer(e,i,r),o.counterStore.finishPage(i.spineIndex,r);let a=null;if(t){const n=e.layoutPositions[t.page];e.layoutPositions[t.page]=t,n&&e.pages[t.page]&&(t.isSamePosition(n)||(a=o.renderSinglePage(e,t)))}a||(a=pi(!0)),a.then(()=>{const s=o.counterStore.getUnresolvedRefsToPage(i);let a=0;n.loopWithFrame(e=>{if(a++,a>s.length)return void e.breakLoop();const t=s[a-1];t.refs=t.refs.filter(e=>!e.isResolved()),0!==t.refs.length?o.getPageViewItem(t.spineIndex).then(n=>{if(!n)return void e.continueLoop();o.counterStore.pushPageCounters(t.pageCounters),o.counterStore.pushReferencesToSolve(t.refs);const s=n.layoutPositions[t.pageIndex];o.renderSinglePage(n,s).then(t=>{o.counterStore.popPageCounters(),o.counterStore.popReferencesToSolve();const n=t.pageAndPosition.position;n.spineIndex===i.spineIndex&&n.pageIndex===r&&(i=t.pageAndPosition.page),e.continueLoop()})}):e.continueLoop()}).then(()=>{i.container.parentElement||(i=e.pages[r]),i.isLastPage=!t&&e.item.spineIndex===o.opf.spine.length-1,i.isLastPage&&(o.viewport,o.counterStore.finishLastPage(o.viewport)),n.finish({pageAndPosition:Ru(i,r),nextLayoutPosition:t})})})}),n.result()}normalizeSeekPosition(e,t){let n=e.pageIndex,i=-1;if(n<0){i=e.offsetInItem;const o=Q(t.layoutPositions.length,e=>t.instance.getPosition(t.layoutPositions[e],!0)>i);n=o===t.layoutPositions.length?t.complete?t.layoutPositions.length-1:Number.POSITIVE_INFINITY:o-1}else n===Number.POSITIVE_INFINITY&&-1!==e.offsetInItem&&(i=e.offsetInItem);return{spineIndex:e.spineIndex,pageIndex:n,offsetInItem:i}}findPage(e,t){const n=this,i=di("findPage");return n.getPageViewItem(e.spineIndex).then(o=>{if(!o)return void i.finish(null);let s,r=null;i.loopWithFrame(a=>{const l=n.normalizeSeekPosition(e,o);s=l.pageIndex,r=o.pages[s],r?a.breakLoop():o.complete?(s=o.layoutPositions.length-1,r=o.pages[s],a.breakLoop()):t?n.renderPage(l).then(e=>{e&&(r=e.page,s=e.position.pageIndex),a.breakLoop()}):i.sleep(100).then(()=>{a.continueLoop()})}).then(()=>{i.finish(Ru(r,s))})}),i.result()}renderPage(e){const t=this,n=di("renderPage");return t.getPageViewItem(e.spineIndex).then(i=>{if(!i)return void n.finish(null);const o=t.normalizeSeekPosition(e,i);let s=o.pageIndex;const r=o.offsetInItem;let a=i.pages[s];a?n.finish(Ru(a,s)):n.loopWithFrame(e=>{if(s<i.layoutPositions.length)return void e.breakLoop();if(i.complete)return s=i.layoutPositions.length-1,void e.breakLoop();let n=i.layoutPositions[i.layoutPositions.length-1];t.renderSinglePage(i,n).then(t=>{const o=t.pageAndPosition.page;if(n=t.nextLayoutPosition,n){if(r>=0&&i.instance.getPosition(n)>r)return a=o,s=i.layoutPositions.length-2,void e.breakLoop();e.continueLoop()}else a=o,s=t.pageAndPosition.position.pageIndex,i.complete=!0,e.breakLoop()})}).then(()=>{a=a||i.pages[s];const e=i.layoutPositions[s];a?n.finish(Ru(a,s)):t.renderSinglePage(i,e).then(e=>{e.nextLayoutPosition||(i.complete=!0),n.finish(e.pageAndPosition)})})}),n.result()}renderAllPages(){return this.renderPagesUpto({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},!1)}renderPagesUpto(e,t){const n=this,i=di("renderPagesUpto");e||(e={spineIndex:0,pageIndex:0,offsetInItem:0});const o=e.spineIndex,s=e.pageIndex;let r,a=0;return t&&(a=o),i.loopWithFrame(t=>{const i={spineIndex:a,pageIndex:a===o?s:Number.POSITIVE_INFINITY,offsetInItem:a===o?e.offsetInItem:-1};n.renderPage(i).then(e=>{r=e,++a>o?t.breakLoop():t.continueLoop()})}).then(()=>{i.finish(r)}),i.result()}firstPage(e,t){return this.findPage({spineIndex:0,pageIndex:0,offsetInItem:-1},t)}lastPage(e,t){return this.findPage({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},t)}nextPage(e,t){const n=this;let i=e.spineIndex,o=e.pageIndex;const s=di("nextPage");return n.getPageViewItem(i).then(e=>{if(e){if(e.complete&&o==e.layoutPositions.length-1){if(i>=n.opf.spine.length-1)return void s.finish(null);i++,o=0;const t=this.spineItems[i],r=t&&t.pages[0],a=e.pages[e.pages.length-1];r&&a&&r.side==a.side&&(t.pages.forEach(e=>{e.container&&e.container.remove()}),this.spineItems[i]=null,this.spineItemLoadingContinuations[i]=null)}else o++;n.findPage({spineIndex:i,pageIndex:o,offsetInItem:-1},t).thenFinish(s)}else s.finish(null)}),s.result()}previousPage(e,t){let n=e.spineIndex,i=e.pageIndex;if(0==i){if(0==n)return pi(null);n--,i=Number.POSITIVE_INFINITY}else i--;return this.findPage({spineIndex:n,pageIndex:i,offsetInItem:-1},t)}isRectoPage(e,n){const i=e.side===t.PageSide.LEFT,o=this.getCurrentPageProgression(n)===t.PageProgression.LTR;return!i&&o||i&&!o}getSpread(e,n){const i=di("getCurrentSpread"),o=this.getPage(e);if(!o)return pi({left:null,right:null});const s=o.side===t.PageSide.LEFT;let r;return r=this.isRectoPage(o,e)?this.previousPage(e,n):this.nextPage(e,n),r.then(t=>{const n=this.getPage(e);let o=t&&t.page;o&&o.side===n.side&&(o=null),s?i.finish({left:n,right:o}):i.finish({left:o,right:n})}),i.result()}nextSpread(e,t){const n=this.getPage(e);if(!n)return pi(null);const i=this.isRectoPage(n,e),o=this.nextPage(e,t);if(i)return o;{const e=this;return o.thenAsync(i=>{if(i){if(i.page.side===n.side)return o;const s=e.nextPage(i.position,t);return s.thenAsync(e=>e?s:o)}return pi(null)})}}previousSpread(e,t){const n=this.getPage(e);if(!n)return pi(null);const i=this.isRectoPage(n,e),o=this.previousPage(e,t),s=n.container.previousElementSibling;if(i){const e=this;return o.thenAsync(i=>i?i.page.side===n.side||i.page.container!==s?o:e.previousPage(i.position,t):pi(null))}return o}navigateToEPage(e,t,n){const i=di("navigateToEPage"),o=this;return this.opf.resolveEPage(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateToFragment(e,t,n){const i=di("navigateToCFI"),o=this;return o.opf.resolveFragment(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateTo(e,t,n){c.debug("Navigate to",e);let i=this.opf.getPathFromURL(I(e));if(!i){if(this.opf.opfXML&&e.match(/^#epubcfi\(/))i=this.opf.getPathFromURL(this.opf.opfXML.url);else if("#"===e.charAt(0)){const t=this.opf.documentURLTransformer.restoreURL(e);this.opf.opfXML?(i=this.opf.getPathFromURL(t[0]),null==i&&(i=t[0])):i=t[0],e=t[0]+(t[1]?`#${t[1]}`:"")}if(null==i)return pi(null)}const o=this.opf.itemMapByPath[i];if(!o){if(this.opf.opfXML&&i==this.opf.getPathFromURL(this.opf.opfXML.url)){const i=e.indexOf("#");if(i>=0)return this.navigateToFragment(e.substr(i+1),t,n)}return pi(null)}const s=di("navigateTo"),r=this;return r.getPageViewItem(o.spineIndex).then(i=>{if(!i)return void s.finish(null);const a=i.xmldoc.getElement(e);a?r.findPage({spineIndex:o.spineIndex,pageIndex:-1,offsetInItem:i.xmldoc.getElementOffset(a)},n).thenFinish(s):t.spineIndex!==o.spineIndex?r.findPage({spineIndex:o.spineIndex,pageIndex:0,offsetInItem:-1},n).thenFinish(s):s.finish(null)}),s.result()}makePage(e,n){const i=e.instance.viewport,o=i.document.createElement("div");o.setAttribute("data-vivliostyle-page-container","true"),o.setAttribute("role","region"),o.style.position="absolute",o.style.top="0",o.style.left="0",t.isDebug||(o.style.visibility="hidden",o.setAttribute("aria-hidden","true")),i.layoutBox.appendChild(o);const s=i.document.createElement("div");s.setAttribute("data-vivliostyle-bleed-box","true"),o.appendChild(s);const r=new Or(o,s);if(r.spineIndex=e.item.spineIndex,r.position=n,r.offset=e.instance.getPosition(n),0===r.offset){const t=this.opf.documentURLTransformer.transformFragment("",e.item.src);s.setAttribute("id",t),r.registerElementWithId(s,t)}if(i!==this.viewport){const e=Se(this.viewport.width,this.viewport.height,i.width,i.height),t=oo(null,new li(e,null),"");r.delayedItems.push(new Ir(o,"transform",t))}return r}makeObjectView(e,t,n,i){let o=t.getAttribute("data"),s=null;if(o){o=k(o,e.url);let n=t.getAttribute("media-type");if(!n){const e=this.opf.getPathFromURL(o);if(e){const t=this.opf.itemMapByPath[e];t&&(n=t.mediaType)}}if(n){const e=this.opf.bindings[n];if(e){s=this.viewport.document.createElement("iframe"),s.style.border="none";const i=K(o),r=K(n),a=new $;a.append(e),a.append("?src="),a.append(i),a.append("&type="),a.append(r);for(let e=t.firstChild;e;e=e.nextSibling)if(1==e.nodeType){const t=e;if("param"==t.localName&&t.namespaceURI==F.XHTML){const e=t.getAttribute("name"),n=t.getAttribute("value");e&&n&&(a.append("&"),a.append(encodeURIComponent(e)),a.append("="),a.append(encodeURIComponent(n)))}}s.setAttribute("src",a.toString());const l=t.getAttribute("width");l&&s.setAttribute("width",l);const h=t.getAttribute("height");h&&s.setAttribute("height",h)}}}return s||(s=this.viewport.document.createElement("span"),s.setAttribute("data-adapt-process-children","true")),pi(s)}makeMathJaxView(e,t,n,i){const o=Pu();if(o){const i=n.ownerDocument,s=i.createElement("span");n.appendChild(s);const r=i.importNode(t,!0);this.resolveURLsInMathML(r,e),s.appendChild(r);const a=o.queue;a.Push(["Typeset",o,s]);const l=di("makeMathJaxView"),h=l.suspend();return a.Push(()=>{h.schedule(s)}),l.result()}return pi(null)}resolveURLsInMathML(e,t){if(null!=e){if(1===e.nodeType&&"mglyph"===e.tagName){const n=Array.from(e.attributes);for(const i of n){if("src"!==i.name)continue;const n=k(i.nodeValue,t.url);i.namespaceURI?e.setAttributeNS(i.namespaceURI,i.name,n):e.setAttribute(i.name,n)}}e.firstChild&&this.resolveURLsInMathML(e.firstChild,t),e.nextSibling&&this.resolveURLsInMathML(e.nextSibling,t)}}makeSSEView(e,t,n,i){const o=n?n.ownerDocument:this.viewport.document,s=t.localName;let r;switch(s){case"t":case"tab":case"ec":case"nt":case"fraction":case"comment":case"mark":r="span";break;case"ruby":case"rp":case"rt":r=s;break;default:r="div"}const a=o.createElement(r);return a.setAttribute("data-adapt-process-children","true"),pi(a)}makeCustomRenderer(e){const t=this;return(n,i,o)=>"object"==n.localName&&n.namespaceURI==F.XHTML?t.makeObjectView(e,n,i,o):n.namespaceURI==F.MATHML?t.makeMathJaxView(e,n,i,o):n.namespaceURI==F.SSE?t.makeSSEView(e,n,i,o):n.dataset&&"true"==n.dataset.mathTypeset?t.makeMathJaxView(e,n,i,o):pi(null)}getPageViewItem(e){const t=this;if(-1===e||e>=t.opf.spine.length)return pi(null);let n=t.spineItems[e];if(n)return pi(n);const i=di("getPageViewItem");let o=this.spineItemLoadingContinuations[e];if(o){const e=i.suspend();return o.push(e),i.result()}o=this.spineItemLoadingContinuations[e]=[];const s=t.opf.spine[e],r=t.opf.store;return r.load(s.src).then(a=>{s.title=a.document.title;const l=r.getStyleForDoc(a),h=t.makeCustomRenderer(a);let c=t.viewport;const u=l.sizeViewport(c.width,c.height,c.fontSize,t.pref);u.width==c.width&&u.height==c.height&&u.fontSize==c.fontSize||(c=new eu(c.window,u.fontSize,c.root,u.width,u.height));const d=t.spineItems[e-1];let p;null!==s.startPage?p=s.startPage-1:(!(e>0)||d&&d.complete?p=d?d.instance.pageNumberOffset+d.pages.length:0:(p=s.epage||e,t.opf.prePaginated||p%2!=0||p++),null!==s.skipPagesBefore&&(p+=s.skipPagesBefore)),t.counterStore.forceSetPageCounter(p);const f=new cu(l,a,t.opf.lang,c,t.clientLayout,t.fontMapper,h,t.opf.fallbackMap,p,t.opf.documentURLTransformer,t.counterStore,t.opf.pageProgression);f.pref=t.pref;const g=t.opf.metadata&&t.opf.metadata[xu.title];f.pubTitle=g&&g[0]&&g[0].v||"",f.docTitle=s.title||"",f.init().then(()=>{n={item:s,xmldoc:a,instance:f,layoutPositions:[null],pages:[],complete:!1},t.spineItems[e]=n,i.finish(n),o.forEach(e=>{e.schedule(n)})})}),i.result()}removeRenderedPages(){const e=this.spineItems;for(const t of e)t&&t.pages.splice(0);this.viewport.clear()}hasAutoSizedPages(){const e=this.spineItems;for(const t of e)if(t){const e=t.pages;for(const t of e)if(t.isAutoPageWidth&&t.isAutoPageHeight)return!0}return!1}hasPages(){return this.spineItems.some(e=>e&&e.pages.length>0)}showTOC(e){const t=this.opf,n=t.xhtmlToc||t.ncxToc;if(this.tocAutohide=e,!n)return pi(null);if(this.tocView&&this.tocView.page)return this.tocView.page.container.style.visibility="visible",this.tocView.page.container.setAttribute("aria-hidden","false"),pi(this.tocView.page);const i=di("showTOC");this.tocView||(this.tocView=new Eu(t.store,n.src,t.lang,this.clientLayout,this.fontMapper,this.pref,this,t.fallbackMap,t.documentURLTransformer,this.counterStore));const o=this.viewport,s=Math.min(350,Math.round(.67*o.width)-16),r=o.height-6,a=o.document.createElement("div");return o.root.appendChild(a),a.style.visibility="hidden",a.style.width=`${s+10}px`,a.style.maxHeight=`${r}px`,a.setAttribute("data-vivliostyle-toc-box","true"),a.setAttribute("role","navigation"),this.tocView.showTOC(a,o,s,r,this.viewport.fontSize).then(e=>{a.style.visibility="visible",a.setAttribute("aria-hidden","false"),i.finish(e)}),i.result()}hideTOC(){this.tocView&&this.tocView.hideTOC()}isTOCVisible(){return!!this.tocView&&this.tocView.isTOCVisible()}}var Lu,Fu;!function(e){e.SINGLE_PAGE="singlePage",e.SPREAD="spread",e.AUTO_SPREAD="autoSpread"}(Lu||(Lu={}));class Du{constructor(e,n,i,o){this.window=e,this.viewportElement=n,this.instanceId=i,this.callbackFn=o,this.pageSheetSizeAlreadySet=!1,this.renderTask=null;const s=this;n.setAttribute("data-vivliostyle-viewer-viewport",!0),t.isDebug&&n.setAttribute("data-vivliostyle-debug",!0),n.setAttribute("data-vivliostyle-viewer-status","loading");const r=e.document;this.fontMapper=new Dh(r.head,n),this.init(),this.kick=()=>{},this.sendCommand=()=>{},this.resizeListener=()=>{s.needResize=!0,s.kick()},this.pageReplacedListener=this.pageReplacedListener.bind(this),this.hyperlinkListener=e=>{},this.pageRuleStyleElement=r.getElementById("vivliostyle-page-rules"),this.actions={loadPublication:this.loadPublication,loadXML:this.loadXML,configure:this.configure,moveTo:this.moveTo,toc:this.showTOC},this.addLogListeners()}init(){this.readyState=t.ReadyState.LOADING,this.packageURL=[],this.opf=null,this.haveZipMetadata=!1,this.touchActive=!1,this.touchX=0,this.touchY=0,this.needResize=!1,this.needRefresh=!1,this.viewportSize=null,this.currentPage=null,this.currentSpread=null,this.pagePosition=null,this.fontSize=16,this.zoom=1,this.fitToScreen=!1,this.pageViewMode=Lu.SINGLE_PAGE,this.waitForLoading=!1,this.renderAllPages=!0,this.pref={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},this.pageSizes=[]}addLogListeners(){const e=a;c.addListener(e.DEBUG,e=>{this.callback({t:"debug",content:e})}),c.addListener(e.INFO,e=>{this.callback({t:"info",content:e})}),c.addListener(e.WARN,e=>{this.callback({t:"warn",content:e})}),c.addListener(e.ERROR,e=>{this.callback({t:"error",content:e})})}callback(e){e.i=this.instanceId,this.callbackFn(e)}setReadyState(e){this.readyState!==e&&(this.readyState=e,this.viewportElement.setAttribute("data-vivliostyle-viewer-status",e),this.callback({t:"readystatechange"}))}loadPublication(e){v.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.fragment,o=!!e.zipmeta,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=di("loadPublication"),l=this;return l.configure(e).then(()=>{const e=new Su;e.init(s,r).then(()=>{const t=k(L(n),l.window.location.href);l.packageURL=[t],e.loadPubDoc(t,o).then(e=>{e?(l.opf=e,l.render(i).then(()=>{a.finish(!0)})):a.finish(!1)})})}),a.result()}loadXML(e){v.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.document,o=e.fragment,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=di("loadXML"),l=this;return l.configure(e).then(()=>{const e=new Su;e.init(s,r).then(()=>{const t=n.map((e,t)=>({url:k(L(e.url),l.window.location.href),index:t,startPage:e.startPage,skipPagesBefore:e.skipPagesBefore}));l.packageURL=t.map(e=>e.url),l.opf=new Ou(e,""),l.opf.initWithChapters(t,i).then(()=>{l.render(o).then(()=>{a.finish(!0)})})})}),a.result()}render(e){this.cancelRenderingTask();const t=this;let n;return n=e?this.opf.resolveFragment(e).thenAsync(e=>(t.pagePosition=e,pi(!0))):pi(!0),n.thenAsync(()=>(v.registerEndTiming("beforeRender"),t.resize()))}resolveLength(e){const t=parseFloat(e);let n;if("string"==typeof e&&(n=e.match(/[a-z]+$/))){const e=n[0];if("em"===e||"rem"===e)return t*this.fontSize;if("ex"===e)return t*Pe.ex*this.fontSize/Pe.em;const i=Pe[e];if(i)return t*i}return t}configure(e){if("boolean"==typeof e.autoresize&&(e.autoresize?(this.viewportSize=null,this.window.addEventListener("resize",this.resizeListener,!1),this.needResize=!0):this.window.removeEventListener("resize",this.resizeListener,!1)),"number"==typeof e.fontSize){const t=e.fontSize;t>=5&&t<=72&&this.fontSize!=t&&(this.fontSize=t,this.needResize=!0)}if("object"==typeof e.viewport&&e.viewport){const t=e.viewport,n={marginLeft:this.resolveLength(t["margin-left"])||0,marginRight:this.resolveLength(t["margin-right"])||0,marginTop:this.resolveLength(t["margin-top"])||0,marginBottom:this.resolveLength(t["margin-bottom"])||0,width:this.resolveLength(t.width)||0,height:this.resolveLength(t.height)||0};(n.width>=200||n.height>=200)&&(this.window.removeEventListener("resize",this.resizeListener,!1),this.viewportSize=n,this.needResize=!0)}return"boolean"==typeof e.hyphenate&&(this.pref.hyphenate=e.hyphenate,this.needResize=!0),"boolean"==typeof e.horizontal&&(this.pref.horizontal=e.horizontal,this.needResize=!0),"boolean"==typeof e.nightMode&&(this.pref.nightMode=e.nightMode,this.needResize=!0),"number"==typeof e.lineHeight&&(this.pref.lineHeight=e.lineHeight,this.needResize=!0),"number"==typeof e.columnWidth&&(this.pref.columnWidth=e.columnWidth,this.needResize=!0),"string"==typeof e.fontFamily&&(this.pref.fontFamily=e.fontFamily,this.needResize=!0),"boolean"==typeof e.load&&(this.waitForLoading=e.load),"boolean"==typeof e.renderAllPages&&(this.renderAllPages=e.renderAllPages),"string"==typeof e.userAgentRootURL&&(A(e.userAgentRootURL.replace(/resources\/?$/,"")),R(e.userAgentRootURL)),"string"==typeof e.rootURL&&(A(e.rootURL),R(`${P}resources/`)),"string"==typeof e.pageViewMode&&e.pageViewMode!==this.pageViewMode&&(this.pageViewMode=e.pageViewMode,this.needResize=!0),"number"==typeof e.pageBorder&&e.pageBorder!==this.pref.pageBorder&&(this.viewport=null,this.pref.pageBorder=e.pageBorder,this.needResize=!0),"number"==typeof e.zoom&&e.zoom!==this.zoom&&(this.zoom=e.zoom,this.needRefresh=!0),"boolean"==typeof e.fitToScreen&&e.fitToScreen!==this.fitToScreen&&(this.fitToScreen=e.fitToScreen,this.needRefresh=!0),"object"==typeof e.defaultPaperSize&&"number"==typeof e.defaultPaperSize.width&&"number"==typeof e.defaultPaperSize.height&&(this.viewport=null,this.pref.defaultPaperSize=e.defaultPaperSize,this.needResize=!0),this.configurePlugins(e),pi(!0)}configurePlugins(e){g(t.HOOKS.CONFIGURATION).forEach(t=>{const n=t(e);this.needResize=n.needResize||this.needResize,this.needRefresh=n.needRefresh||this.needRefresh})}pageReplacedListener(e){const t=this.currentPage,n=this.currentSpread,i=e.target;n?n.left!==i&&n.right!==i||this.showCurrent(e.newPage):t===e.target&&this.showCurrent(e.newPage)}forCurrentPages(e){const t=[];this.currentPage&&t.push(this.currentPage),this.currentSpread&&(t.push(this.currentSpread.left),t.push(this.currentSpread.right)),t.forEach(t=>{t&&e(t)})}removePageListeners(){this.forCurrentPages(e=>{e.removeEventListener("hyperlink",this.hyperlinkListener,!1),e.removeEventListener("replaced",this.pageReplacedListener,!1)})}hidePages(){this.removePageListeners(),this.forCurrentPages(e=>{V(e.container,"display","none"),e.container.setAttribute("aria-hidden","true")}),this.currentPage=null,this.currentSpread=null}showSinglePage(e){e.addEventListener("hyperlink",this.hyperlinkListener,!1),e.addEventListener("replaced",this.pageReplacedListener,!1),V(e.container,"visibility","visible"),V(e.container,"display","block"),e.container.setAttribute("aria-hidden","false")}showPage(e){this.hidePages(),this.currentPage=e,e.container.style.marginLeft="",e.container.style.marginRight="",this.showSinglePage(e)}showSpread(e){if(this.hidePages(),this.currentSpread=e,e.left&&e.right){let t=parseFloat(e.left.container.style.width),n=parseFloat(e.right.container.style.width);t&&n&&t!==n&&(t<n?e.left.container.style.marginLeft=`${n-t}px`:e.right.container.style.marginRight=`${t-n}px`)}e.left&&(this.showSinglePage(e.left),e.right?e.left.container.removeAttribute("data-vivliostyle-unpaired-page"):e.left.container.setAttribute("data-vivliostyle-unpaired-page",!0)),e.right&&(this.showSinglePage(e.right),e.left?e.right.container.removeAttribute("data-vivliostyle-unpaired-page"):e.right.container.setAttribute("data-vivliostyle-unpaired-page",!0))}reportPosition(){const e=di("reportPosition"),t=this;return t.pagePosition,t.opf.getCFI(this.pagePosition.spineIndex,this.pagePosition.offsetInItem).then(n=>{const i=t.currentPage;(t.waitForLoading&&i.fetchers.length>0?Ti(i.fetchers):pi(!0)).then(()=>{t.sendLocationNotification(i,n).thenFinish(e)})}),e.result()}createViewport(){const e=this.viewportElement;if(this.viewportSize){const t=this.viewportSize;return e.style.marginLeft=`${t.marginLeft}px`,e.style.marginRight=`${t.marginRight}px`,e.style.marginTop=`${t.marginTop}px`,e.style.marginBottom=`${t.marginBottom}px`,new eu(this.window,this.fontSize,e,t.width,t.height)}return new eu(this.window,this.fontSize,e)}resolveSpreadView(e){switch(this.pageViewMode){case Lu.SINGLE_PAGE:return!1;case Lu.SPREAD:return!0;case Lu.AUTO_SPREAD:default:return e.width/e.height>=1.45&&e.width>800}}updateSpreadView(e){this.pref.spreadView=e,this.viewportElement.setAttribute("data-vivliostyle-spread-view",e.toString())}sizeIsGood(){const e=this.createViewport(),t=this.resolveSpreadView(e),n=this.pref.spreadView!==t;return this.updateSpreadView(t),!(this.viewportSize||!this.viewport||this.viewport.fontSize!=this.fontSize||(n||e.width!=this.viewport.width||e.height!=this.viewport.height)&&(n||e.width!=this.viewport.width||e.height==this.viewport.height||!/Android|iPhone|iPad|iPod/.test(navigator.userAgent))&&(!this.opfView||!this.opfView.hasPages()||this.opfView.hasAutoSizedPages()||(this.viewport.width=e.width,this.viewport.height=e.height,this.needRefresh=!0,0)))}setPageSize(e,t,n,i){this.pageSizes[i]=e,this.setPageSizePageRules(t,n,i)}setPageSizePageRules(e,t,n){if(!this.pageSheetSizeAlreadySet&&this.pageRuleStyleElement){let t="";Object.keys(e).forEach(n=>{t+=`@page ${n}{margin:0;size:`;const i=e[n];t+=`${i.width}px ${i.height}px;}`}),this.pageRuleStyleElement.textContent=t,this.pageSheetSizeAlreadySet=!0}}removePageSizePageRules(){this.pageRuleStyleElement&&(this.pageRuleStyleElement.textContent="",this.pageSheetSizeAlreadySet=!1)}reset(){let e=!1,t=!1;this.opfView&&(e=this.opfView.isTOCVisible(),t=this.opfView.tocAutohide,this.opfView.hideTOC(),this.opfView.removeRenderedPages()),this.removePageSizePageRules(),this.viewport=this.createViewport(),this.viewport.resetZoom(),this.opfView=new ku(this.opf,this.viewport,this.fontMapper,this.pref,this.setPageSize.bind(this)),e&&this.sendCommand({a:"toc",v:"show",autohide:t})}showCurrent(e,t){this.needRefresh=!1,this.removePageListeners();const n=this;return this.pref.spreadView?this.opfView.getSpread(this.pagePosition,t).thenAsync(t=>(n.showSpread(t),n.setSpreadZoom(t),n.currentPage=e,pi(null))):(this.showPage(e),this.setPageZoom(e),this.currentPage=e,pi(null))}setPageZoom(e){const t=this.getAdjustedZoomFactor(e.dimensions);this.viewport.zoom(e.dimensions.width,e.dimensions.height,t)}setSpreadZoom(e){const t=this.getSpreadDimensions(e);this.viewport.zoom(t.width,t.height,this.getAdjustedZoomFactor(t))}getAdjustedZoomFactor(e){return this.fitToScreen?this.calculateZoomFactorToFitInsideViewPort(e):this.zoom}getSpreadDimensions(e){let t=0,n=0;return e.left&&(t+=e.left.dimensions.width,n=e.left.dimensions.height),e.right&&(t+=e.right.dimensions.width,n=Math.max(n,e.right.dimensions.height)),e.left&&e.right&&(t+=2*this.pref.pageBorder,t+=Math.abs(e.left.dimensions.width-e.right.dimensions.width)),{width:t,height:n}}queryZoomFactor(e){if(!this.currentPage)throw new Error("no page exists.");switch(e){case Fu.FIT_INSIDE_VIEWPORT:{let e;return this.pref.spreadView?(this.currentSpread,e=this.getSpreadDimensions(this.currentSpread)):e=this.currentPage.dimensions,this.calculateZoomFactorToFitInsideViewPort(e)}default:throw new Error(`unknown zoom type: ${e}`)}}calculateZoomFactorToFitInsideViewPort(e){const t=this.viewport.width/e.width,n=this.viewport.height/e.height;return Math.min(t,n)}cancelRenderingTask(){this.renderTask&&this.renderTask.interrupt(new _u),this.renderTask=null}resize(){if(this.needResize=!1,this.needRefresh=!1,this.sizeIsGood())return pi(!0);const e=this;this.setReadyState(t.ReadyState.LOADING),this.cancelRenderingTask();const n=ui().getScheduler().run(()=>fi("resize",i=>{e.opf?(e.renderTask=n,v.registerStartTiming("render (resize)"),e.reset(),e.pagePosition&&(0==e.pagePosition.pageIndex&&0==e.pagePosition.offsetInItem||(e.pagePosition.pageIndex=-1)),e.opf.setEPageCountMode(e.renderAllPages),e.opfView.renderPagesUpto(e.pagePosition,!e.renderAllPages).then(o=>{o?(e.pagePosition=o.position,e.showCurrent(o.page,!0).then(()=>{e.setReadyState(t.ReadyState.INTERACTIVE),e.opf.countEPages(t=>{const n={t:"nav",epageCount:t,first:e.currentPage.isFirstPage,last:e.currentPage.isLastPage,metadata:e.opf.metadata,docTitle:e.opf.spine[e.pagePosition.spineIndex].title};(e.currentPage.isFirstPage||0==e.pagePosition.pageIndex&&e.opf.spine[e.pagePosition.spineIndex].epage)&&(n.epage=e.opf.spine[e.pagePosition.spineIndex].epage),e.callback(n)}).then(()=>{e.reportPosition().then(o=>{(e.renderAllPages?e.opfView.renderAllPages():pi(null)).then(()=>{e.renderTask===n&&(e.renderTask=null),v.registerEndTiming("render (resize)"),e.renderAllPages&&e.setReadyState(t.ReadyState.COMPLETE),e.callback({t:"loaded"}),i.finish(o)})})})})):i.finish(!1)})):i.finish(!1)},(e,t)=>{if(!(t instanceof _u))throw t;v.registerEndTiming("render (resize)"),c.debug(t.message)}));return pi(!0)}sendLocationNotification(e,t){const n=di("sendLocationNotification"),i={t:"nav",first:e.isFirstPage,last:e.isLastPage,metadata:this.opf.metadata,docTitle:this.opf.spine[e.spineIndex].title},o=this;return this.opf.getEPageFromPosition(o.pagePosition).then(e=>{i.epage=e,i.epageCount=o.opf.epageCount,t&&(i.cfi=t),o.callback(i),n.finish(!0)}),n.result()}getCurrentPageProgression(){return this.opfView?this.opfView.getCurrentPageProgression(this.pagePosition):null}moveTo(e){let n;const i=this;if(this.readyState!==t.ReadyState.COMPLETE&&"next"!==e.where&&this.setReadyState(t.ReadyState.LOADING),"string"==typeof e.where){let t;switch(e.where){case"next":t=this.pref.spreadView?this.opfView.nextSpread:this.opfView.nextPage;break;case"previous":t=this.pref.spreadView?this.opfView.previousSpread:this.opfView.previousPage;break;case"last":t=this.opfView.lastPage;break;case"first":t=this.opfView.firstPage;break;default:return pi(!0)}t&&(n=()=>t.call(i.opfView,i.pagePosition,!i.renderAllPages))}else if("number"==typeof e.epage){const t=e.epage;n=()=>i.opfView.navigateToEPage(t,i.pagePosition,!i.renderAllPages)}else{if("string"!=typeof e.url)return pi(!0);{const t=e.url;n=()=>i.opfView.navigateTo(t,i.pagePosition,!i.renderAllPages)}}const o=di("moveTo");return n.call(i.opfView).then(e=>{let n;if(e){i.pagePosition=e.position;const t=di("moveTo.showCurrent");n=t.result(),i.showCurrent(e.page,!i.renderAllPages).then(()=>{i.reportPosition().thenFinish(t)})}else n=pi(!0);n.then(e=>{i.readyState===t.ReadyState.LOADING&&i.setReadyState(t.ReadyState.INTERACTIVE),o.finish(e)})}),o.result()}showTOC(e){const t=!!e.autohide,n=e.v,i=this.opfView.isTOCVisible(),o=t!=this.opfView.tocAutohide&&"hide"!=n;if(i){if("show"==n&&!o)return pi(!0)}else if("hide"==n)return pi(!0);if(i&&"show"!=n)return this.opfView.hideTOC(),pi(!0);{const e=this,n=di("showTOC");return this.opfView.showTOC(t).then(i=>{if(i){if(o&&(i.listeners={}),t){const t=()=>{e.opfView.hideTOC()};i.addEventListener("hyperlink",t,!1)}i.addEventListener("hyperlink",e.hyperlinkListener,!1)}n.finish(!0)}),n.result()}}runCommand(e){const t=this,n=e.a||"";return fi("runCommand",i=>{const o=t.actions[n];o?o.call(t,e).then(()=>{t.callback({t:"done",a:n}),i.finish(!0)}):(c.error("No such action:",n),i.finish(!0))},(e,t)=>{c.error(t,"Error during action:",n),e.finish(!0)})}initEmbed(e){let t=Bu(e),n=null;const i=this;(function(e,t){(hi?hi.getScheduler():ci||new bi(new mi)).run(e,t)})(()=>{const e=di("commandLoop"),o=ui().getScheduler();return i.hyperlinkListener=e=>{const t=e,n="#"===t.href.charAt(0)||i.packageURL.some(e=>t.href.substr(0,e.length)==e);if(n){e.preventDefault();const s={t:"hyperlink",href:t.href,internal:n};o.run(()=>(i.callback(s),pi(!0)))}},e.loopWithFrame(e=>{if(i.needResize)i.resize().then(()=>{e.continueLoop()});else if(i.needRefresh)i.currentPage&&i.showCurrent(i.currentPage).then(()=>{e.continueLoop()});else if(t){const n=t;t=null,i.runCommand(n).then(()=>{e.continueLoop()})}else{const t=di("waitForCommand");n=t.suspend(self),t.result().then(()=>{e.continueLoop()})}}).thenFinish(e),e.result()}),i.kick=()=>{const e=n;e&&(n=null,e.schedule(!0))},i.sendCommand=e=>!t&&(t=Bu(e),i.kick(),!0),this.window.adapt_command=i.sendCommand}}!function(e){e.FIT_INSIDE_VIEWPORT="fit inside viewport"}(Fu||(Fu={}));class _u extends Error{constructor(){super(),this.name="RenderingCanceledError",this.message="Page rendering has been canceled",Object.setPrototypeOf(this,_u.prototype),this.stack=(new Error).stack}}function Bu(e){return"string"==typeof e?x(e):e}const Mu=t.PageProgression;function Uu(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];switch(n){case"autoResize":t.autoresize=i;break;case"pageBorderWidth":t.pageBorder=i;break;default:t[n]=i}}),t}class zu{constructor(e,t){this.settings=e,this.initialized=!1,n(e.debug),this.adaptViewer_=new Du(e.window||window,e.viewportElement,"main",this.dispatcher.bind(this)),this.options={autoResize:!0,fontSize:16,pageBorderWidth:1,renderAllPages:!0,pageViewMode:Lu.AUTO_SPREAD,zoom:1,fitToScreen:!1,defaultPaperSize:void 0},t&&this.setOptions(t),this.eventTarget=new ne,Object.defineProperty(this,"readyState",{get(){return this.adaptViewer_.readyState}})}setOptions(e){const t=Object.assign({a:"configure"},Uu(e));this.adaptViewer_.sendCommand(t),Object.assign(this.options,e)}dispatcher(e){const t={type:e.t},n=e;Object.keys(n).forEach(e=>{"t"!==e&&(t[e]=n[e])}),this.eventTarget.dispatchEvent(t)}addListener(e,t){this.eventTarget.addEventListener(e,t,!1)}removeListener(e,t){this.eventTarget.removeEventListener(e,t,!1)}loadDocument(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(e,null,t,n)}loadPublication(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(null,e,t,n)}loadDocumentOrPublication(e,t,n,i){const o=n||{};function s(e){return e?e.map(e=>({url:e.url||null,text:e.text||null})):void 0}const r=s(o.authorStyleSheet),a=s(o.userStyleSheet);i&&Object.assign(this.options,i);const l=Object.assign({a:e?"loadXML":"loadPublication",userAgentRootURL:this.settings.userAgentRootURL,url:Vu(e)||t,document:o.documentObject,fragment:o.fragment,authorStyleSheet:r,userStyleSheet:a},Uu(this.options));this.initialized?this.adaptViewer_.sendCommand(l):(this.initialized=!0,this.adaptViewer_.initEmbed(l))}getCurrentPageProgression(){return this.adaptViewer_.getCurrentPageProgression()}resolveNavigation(e){switch(e){case t.Navigation.LEFT:return this.getCurrentPageProgression()===Mu.LTR?t.Navigation.PREVIOUS:t.Navigation.NEXT;case t.Navigation.RIGHT:return this.getCurrentPageProgression()===Mu.LTR?t.Navigation.NEXT:t.Navigation.PREVIOUS;default:return e}}navigateToPage(e,n){e===t.Navigation.EPAGE?this.adaptViewer_.sendCommand({a:"moveTo",epage:n}):this.adaptViewer_.sendCommand({a:"moveTo",where:this.resolveNavigation(e)})}navigateToInternalUrl(e){this.adaptViewer_.sendCommand({a:"moveTo",url:e})}isTOCVisible(){return this.adaptViewer_.opfView&&this.adaptViewer_.opfView.opf&&(this.adaptViewer_.opfView.opf.xhtmlToc||this.adaptViewer_.opfView.opf.ncxToc)?!!this.adaptViewer_.opfView.isTOCVisible():null}showTOC(e,t){const n=null==e?"toggle":e?"show":"hide";this.adaptViewer_.sendCommand({a:"toc",v:n,autohide:t})}queryZoomFactor(e){return this.adaptViewer_.queryZoomFactor(e)}getPageSizes(){return this.adaptViewer_.pageSizes}}function Vu(e){function t(e){return"number"==typeof e?e:null}function n(e){return"string"==typeof e?{url:e,startPage:null,skipPagesBefore:null}:{url:e.url,startPage:t(e.startPage),skipPagesBefore:t(e.skipPagesBefore)}}return Array.isArray(e)?e.map(n):e?[n(e)]:null}var Hu;(Hu=t.Navigation||(t.Navigation={})).PREVIOUS="previous",Hu.NEXT="next",Hu.LEFT="left",Hu.RIGHT="right",Hu.FIRST="first",Hu.LAST="last",Hu.EPAGE="epage";const Gu=Fu,$u=Lu,Wu={CoreViewer:zu,PageViewMode:$u,ZoomType:Gu};v.forceRegisterEndTiming("load_vivliostyle");class Xu{constructor(e,{title:t="",printCallback:n=(e=>e.print()),hideIframe:i=!0,removeIframe:o=!0}){this.htmlDoc=e,this.title=t,this.printCallback=n,this.hideIframe=i,this.removeIframe=o}init(){this.iframe=document.createElement("iframe"),this.hideIframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.iframe.style.borderWidth="0"),this.window=window,this.window.printInstance=this,this.iframe.srcdoc=`\n      <!DOCTYPE html>\n      <html data-vivliostyle-paginated="true">\n        <head>\n          <meta charset='utf-8'/>\n          <meta name='viewport' content='width=device-width, initial-scale=1.0'/>\n          <title>${this.title}</title>\n          <style>/*\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n[data-vivliostyle-layout-box] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: -1;\n}\n\n[data-vivliostyle-debug] [data-vivliostyle-layout-box] {\n    right: auto;\n    bottom: auto;\n    overflow: visible;\n    z-index: auto;\n}\n\n[data-vivliostyle-page-container] {\n    position: relative;\n    overflow: hidden;\n}\n\n[data-vivliostyle-bleed-box] {\n    position: absolute;\n    overflow: hidden;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n}\n\n[data-vivliostyle-page-box] ~ [data-vivliostyle-page-box] {\n    display: none;\n}\n\n[data-vivliostyle-toc-box] {\n    position: absolute;\n    left: 3px;\n    top: 3px;\n    overflow: scroll;\n    overflow-x: hidden;\n    background: rgba(248,248,248,0.9);\n    border-radius: 2px;\n    box-shadow: 1px 1px 2px rgba(0,0,0,0.4);\n}\n\n@media print {\n    [data-vivliostyle-toc-box] {\n        display: none;\n    }\n\n    [data-vivliostyle-outer-zoom-box], [data-vivliostyle-spread-container] {\n        width: 100% !important;\n        height: 100% !important;\n    }\n\n    [data-vivliostyle-spread-container], [data-vivliostyle-page-container] {\n        -moz-transform: none !important;\n        -ms-transform: none !important;\n        -webkit-transform: none !important;\n        transform: none !important;\n    }\n\n    [data-vivliostyle-page-container] {\n        display: block !important;\n        max-width: 100%;\n        height: 100% !important;\n        max-height: 100%;\n    }\n\n    /* Workaround for Chrome printing problem */\n    /* [data-vivliostyle-page-box] {\n        padding-bottom: 0 !important;\n        overflow: visible !important;\n    } */\n    [data-vivliostyle-bleed-box] > div > div::before {\n        display: block;\n        content: "";\n        padding-top: 0.015625px;\n        margin-bottom: -0.015625px;\n    }\n\n    /* Gecko-only hack, see https://bugzilla.mozilla.org/show_bug.cgi?id=267029#c17 */\n    @-moz-document regexp('.*') {\n        [data-vivliostyle-page-container]:nth-last-child(n+2) {\n            top: -1px;\n            margin-top: 1px;\n            margin-bottom: -1px;\n        }\n    }\n}\n</style>\n          <style>/*\n * Copyright 2017 Trim-marks Inc.\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@media screen {\n\n    [data-vivliostyle-viewer-viewport] {\n        background: #AAAAAA;\n    }\n\n    [data-vivliostyle-page-container] {\n        background: white;\n    }\n\n    [data-vivliostyle-viewer-viewport] {\n        display: -webkit-flex;\n        display: flex;\n        overflow: auto;\n        position: relative;\n    }\n\n    [data-vivliostyle-outer-zoom-box] {\n        margin: auto;\n        overflow: hidden;\n        -webkit-flex: none;\n        flex: none;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-spread-container] {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex: none;\n        flex: none;\n        -webkit-justify-content: center;\n        justify-content: center;\n        -moz-transform-origin: left top;\n        -ms-transform-origin: left top;\n        -webkit-transform-origin: left top;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=ltr] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row;\n        flex-direction: row;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=rtl] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-page-container] {\n        margin: 0 auto;\n        -webkit-flex: none;\n        flex: none;\n        transform-origin: center top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=left] {\n        margin-right: 1px;\n        transform-origin: right top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=right] {\n        margin-left: 1px;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-unpaired-page=true] {\n        margin-left: auto;\n        margin-right: auto;\n        transform-origin: center top;\n    }\n\n}\n</style>\n          <style>\n            html[data-vivliostyle-paginated] {\n              width: 100%;\n              height: 100%;\n            }\n            html[data-vivliostyle-paginated] body,\n            html[data-vivliostyle-paginated] [data-vivliostyle-viewer-viewport] {\n              width: 100% !important;\n              height: 100% !important;\n            }\n            html[data-vivliostyle-paginated],\n            html[data-vivliostyle-paginated] body {\n              margin: 0;\n              padding: 0;\n            }\n          </style>\n          <style id='vivliostyle-page-rules'></style>\n        </head>\n        <body onload='parent.printInstance.runInIframe(window)'>\n          <div id="vivliostyle-viewer-viewport"></div>\n        </body>\n      </html>`,document.body.appendChild(this.iframe)}runInIframe(e){return this.iframeWin=e,this.preparePrint().then(()=>this.browserPrint()).then(()=>this.cleanUp())}preparePrint(){this.iframeWin.document.title=this.title;const e=new Blob([this.htmlDoc],{type:"text/html"}),t=URL.createObjectURL(e),n=new zu({viewportElement:this.iframeWin.document.body.firstElementChild,window:this.iframeWin,debug:!0},{defaultPaperSize:{width:794,height:1122}});return new Promise(e=>{n.addListener("readystatechange",()=>{"complete"===n.readyState&&e()}),n.loadDocument({url:t})})}browserPrint(){this.printCallback(this.iframeWin)}cleanUp(){delete this.window.printInstance,this.removeIframe&&this.iframe.parentElement.removeChild(this.iframe)}}t.CoreViewer=zu,t.PageViewMode=$u,t.Profiler=b,t.ZoomType=Gu,t.constants=r,t.getHooksForName=g,t.pageProgressionOf=i,t.plugin=m,t.printHTML=function(e,t){new Xu(e,t).init()},t.profile=C,t.profiler=v,t.registerHook=p,t.removeHook=f,t.setDebug=n,t.viewer=Wu})),s=(t=o)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=o.isDebug,a=o.PageProgression,l=o.PageSide,h=o.ReadyState,c=o.HOOKS,u=o.Navigation,d=o.CoreViewer,p=o.PageViewMode,f=o.Profiler,g=o.ZoomType,m=o.constants,b=o.getHooksForName,w=o.pageProgressionOf,E=o.plugin,y=o.printHTML,S=o.profile,N=o.profiler,v=o.registerHook,C=o.removeHook,T=o.setDebug,x=o.viewer,I=Object.freeze({__proto__:null,default:s,__moduleExports:o,isDebug:r,PageProgression:a,PageSide:l,ReadyState:h,HOOKS:c,Navigation:u,CoreViewer:d,PageViewMode:p,Profiler:f,ZoomType:g,constants:m,getHooksForName:b,pageProgressionOf:w,plugin:E,printHTML:y,profile:S,profiler:N,registerHook:v,removeHook:C,setDebug:T,viewer:x});!function(e){e.Default="",e.Auto="auto",e.Preset="preset",e.Custom="custom",e.Zero="0"}(n||(n={}));const P=[{name:"A5",description:"A5"},{name:"A4",description:"A4"},{name:"A3",description:"A3"},{name:"B5",description:"B5 (ISO)"},{name:"B4",description:"B4 (ISO)"},{name:"JIS-B5",description:"B5 (JIS)"},{name:"JIS-B4",description:"B4 (JIS)"},{name:"letter",description:"letter"},{name:"legal",description:"legal"},{name:"ledger",description:"ledger"}],A={customWidth:"210mm",customHeight:"297mm",customMargin:"10%",baseFontSize:"12pt",baseLineHeight:"1.2",baseFontFamily:"serif",viewerFontSize:16};class O{constructor(e){this.PresetSize=O.PresetSize,this.pageSizeMode=i.observable(n.Default),this.presetSize=i.observable(P[1]),this.isLandscape=i.observable(!1),this.customWidth=i.observable(A.customWidth),this.customHeight=i.observable(A.customHeight),this.pageSizeImportant=i.observable(!1),this.pageMarginMode=i.observable(n.Default),this.customMargin=i.observable(A.customMargin),this.pageMarginImportant=i.observable(!1),this.firstPageMarginZero=i.observable(!1),this.firstPageMarginZeroImportant=i.observable(!1),this.forceHtmlBodyMarginZero=i.observable(!1),this.widowsOrphans=i.observable(""),this.widowsOrphansImportant=i.observable(!1),this.imageMaxSizeToFitPage=i.observable(!1),this.imageMaxSizeToFitPageImportant=i.observable(!1),this.imageKeepAspectRatio=i.observable(!1),this.imageKeepAspectRatioImportant=i.observable(!1),this.baseFontSize=i.observable(A.baseFontSize),this.baseFontSizeSpecified=i.observable(!1),this.baseFontSizeImportant=i.observable(!1),this.baseLineHeight=i.observable(A.baseLineHeight),this.baseLineHeightSpecified=i.observable(!1),this.baseLineHeightImportant=i.observable(!1),this.baseFontFamily=i.observable(A.baseFontFamily),this.baseFontFamilySpecified=i.observable(!1),this.baseFontFamilyImportant=i.observable(!1),this.allImportant=i.observable(!1),this.pageOtherStyle=i.observable(""),this.firstPageOtherStyle=i.observable(""),this.rootOtherStyle=i.observable(""),this.beforeOtherStyle=i.observable(""),this.afterOtherStyle=i.observable(""),this.viewerFontSize=null,this.setViewerFontSizeObservable=e=>{this.viewerFontSize=e;const t=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];t&&(t.value=this.fontSizePxToPercent(Number(e()),100,5).toString())},this.viewerFontSizePercent=i.pureComputed({read(){if(!this.viewerFontSize)return 100;return this.fontSizePxToPercent(Number(this.viewerFontSize()),100,5)},write(e){if(!this.viewerFontSize)return;const t=parseFloat(String(e));let n=t&&this.fontSizePercentToPx(t);if(!n||n<5||n>72){const e=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];e&&(e.value="100"),n=A.viewerFontSize}this.viewerFontSize(Number(n))},owner:this}),this.cssText=i.pureComputed({read:this.toCSSText,write:this.fromCSSText,owner:this}),this.allImportant.subscribe(e=>{this.pageSizeImportant(e),this.pageMarginImportant(e),this.firstPageMarginZeroImportant(e),this.widowsOrphansImportant(e),this.imageMaxSizeToFitPageImportant(e),this.imageKeepAspectRatioImportant(e),this.baseFontSizeImportant(e),this.baseLineHeightImportant(e),this.baseFontFamilyImportant(e)}),this.pageStyleRegExp=new RegExp("^((?:\\n|.)*?)\\/\\*<viewer>\\*\\/\\s*(?:@page\\s*\\{\\s*(?:size:\\s*([^\\s!;{}]+)(?:\\s+([^\\s!;{}]+))?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:margin:\\s*([^\\s!;{}]+(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?(?:@page\\s*:first\\s*\\{\\s*(margin:\\s*0(?:\\w+|%)?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?((?:html|:root),\\s*body\\s*\\{\\s*margin:\\s*0(?:\\w+|%)?\\s*!important(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:(?:html|:root)\\s*\\{\\s*(?:font-size:\\s*(calc\\([^()]+\\)|[^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:line-height:\\s*([^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:font-family:\\s*([^!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?([^{}]*)\\}\\s*)?(?:body\\s*\\{\\s*(?:[-\\w]+:\\s*inherit\\s*!important(?:;|(?=[\\s{}]))\\s*)+\\}\\s*)?(?:\\*\\s*\\{\\s*widows:\\s*(1|999)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*orphans:\\s*\\19\\s*\\20(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:img,\\s*svg\\s*\\{\\s*(max-inline-size:\\s*100%\\s*(!important)?(?:;|(?=[\\s{}]))\\s*max-block-size:\\s*100vb\\s*\\22(?:;|(?=[\\s{}]))\\s*)?(object-fit:\\s*contain\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?\\}\\s*)?((?:\\n|.)*)$"),e&&this.copyFrom(e)}fontSizePxToPercent(e,t,n){let i=e/A.viewerFontSize*(t||100);return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fontSizePercentToPx(e,t,n){let i=e/(t||100)*A.viewerFontSize;return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fromCSSText(e){const t=this.pageStyleRegExp.exec(e);if(t){const[,e,i,o,s,r,a,l,h,c,u,d,p,f,g,m,b,w,E,y,S,N,v,C,T,x]=t;let I=x,A=b,O=p,R=u,k=l,L=E,F=i,D=o,_=0,B=0;if(this.beforeOtherStyle(e),"landscape"==F||"portrait"==F?(this.isLandscape("landscape"==F),F=D,D=null):"landscape"!=D&&"portrait"!=D||(this.isLandscape("landscape"==D),D=null),null!=F){if(null==D)if("auto"==F)this.pageSizeMode(n.Auto);else{const e=P.find(e=>e.name.toLowerCase()==F.toLowerCase());e?(this.pageSizeMode(n.Preset),this.presetSize(e)):(this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(F))}else this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(D);this.pageSizeImportant(!!s),s?_++:B++}else this.pageSizeMode(n.Default);null!=r?(this.pageMarginMode("0"==r?n.Zero:n.Custom),"0"==r?this.pageMarginMode(n.Zero):(this.pageMarginMode(n.Custom),this.customMargin(r)),this.pageMarginImportant(!!a),a?_++:B++):this.pageMarginMode(n.Default),k=k||"",this.pageOtherStyle(k),h?(this.firstPageMarginZero(!0),this.firstPageMarginZeroImportant(!!c),c?_++:B++):this.firstPageMarginZero(!1),R=R||"",this.firstPageOtherStyle(R),d?this.forceHtmlBodyMarginZero(!0):this.forceHtmlBodyMarginZero(!1),null!=O?(O=O.replace(/^\s*calc\([.\d]+\s*\*\s*([.\d]+\w+)\)\s*$/,"$1"),this.baseFontSizeSpecified(!0),this.baseFontSize(O),this.baseFontSizeImportant(!!f),f?_++:B++):this.baseFontSizeSpecified(!1),null!=g?(this.baseLineHeightSpecified(!0),this.baseLineHeight(g),this.baseLineHeightImportant(!!m),m?_++:B++):this.baseLineHeightSpecified(!1),null!=A?(A=A.trim(),this.baseFontFamilySpecified(!0),this.baseFontFamily(A),this.baseFontFamilyImportant(!!w),w?_++:B++):this.baseFontFamilySpecified(!1),L=L||"",this.rootOtherStyle(L),null!=y?(this.widowsOrphans(y),this.widowsOrphansImportant(!!S),S?_++:B++):this.widowsOrphans(n.Default),N?(this.imageMaxSizeToFitPage(!0),this.imageMaxSizeToFitPageImportant(!!v),v?_++:B++):this.imageMaxSizeToFitPage(!1),C?(this.imageKeepAspectRatio(!0),this.imageKeepAspectRatioImportant(!!T),T?_++:B++):this.imageKeepAspectRatio(!1),I=I.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"",this.afterOtherStyle(I),this.allImportant(_>0&&0==B)}else{const t=e.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"";this.afterOtherStyle(t)}}toCSSText(){function e(e){return e?" !important":""}let t=this.beforeOtherStyle();if(t+="/*<viewer>*/\n",this.pageSizeMode()!=n.Default||this.pageMarginMode()!=n.Default||this.pageOtherStyle()){if(t+="@page { ",this.pageSizeMode()!=n.Default){switch(t+="size: ",this.pageSizeMode()){case n.Auto:t+="auto";break;case n.Preset:t+=this.presetSize().name,this.isLandscape()&&(t+=" landscape");break;case n.Custom:t+=`${this.customWidth()} ${this.customHeight()}`;break;default:throw new Error(`Unknown pageSizeMode ${this.pageSizeMode()}`)}t+=`${e(this.pageSizeImportant())}; `}if(this.pageMarginMode()!=n.Default){switch(t+="margin: ",this.pageMarginMode()){case n.Auto:t+="auto";break;case n.Zero:t+="0";break;case n.Custom:t+=`${this.customMargin()}`;break;default:throw new Error(`Unknown pageMarginMode ${this.pageMarginMode()}`)}t+=`${e(this.pageMarginImportant())}; `}t+=this.pageOtherStyle(),t+="}\n"}if((this.firstPageMarginZero()||this.firstPageOtherStyle())&&(t+="@page :first { ",this.firstPageMarginZero()&&(t+=`margin: 0${e(this.firstPageMarginZeroImportant())}; `),t+=this.firstPageOtherStyle(),t+="}\n"),this.forceHtmlBodyMarginZero()&&(t+=":root, body { margin: 0 !important; }\n"),this.baseFontSizeSpecified()||this.baseLineHeightSpecified()||this.baseFontFamilySpecified()||this.rootOtherStyle()){t+=":root { ";const n=this.baseFontSize();if(this.baseFontSizeSpecified())if(this.viewerFontSize&&this.viewerFontSize()!=A.viewerFontSize&&!n.endsWith("%")){t+=`font-size: calc(${this.fontSizePxToPercent(Number(this.viewerFontSize()),1,5)} * ${n})${e(this.baseFontSizeImportant())}; `}else t+=`font-size: ${this.baseFontSize()}${e(this.baseFontSizeImportant())}; `;this.baseLineHeightSpecified()&&(t+=`line-height: ${this.baseLineHeight()}${e(this.baseLineHeightImportant())}; `),this.baseFontFamilySpecified()&&(t+=`font-family: ${this.baseFontFamily()}${e(this.baseFontFamilyImportant())}; `),t+=this.rootOtherStyle(),t+="}\n"}return(this.baseFontSizeSpecified()&&this.baseFontSizeImportant()||this.baseLineHeightSpecified()&&this.baseLineHeightImportant()||this.baseFontFamilySpecified()&&this.baseFontFamilyImportant())&&(t+="body { ",this.baseFontSizeSpecified()&&this.baseFontSizeImportant()&&(t+="font-size: inherit !important; "),this.baseLineHeightSpecified()&&this.baseLineHeightImportant()&&(t+="line-height: inherit !important; "),this.baseFontFamilySpecified()&&this.baseFontFamilyImportant()&&(t+="font-family: inherit !important; "),t+="}\n"),this.widowsOrphans()&&(t+="* { ",t+=`widows: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+=`orphans: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+="}\n"),(this.imageMaxSizeToFitPage()||this.imageKeepAspectRatio())&&(t+="img, svg { ",this.imageMaxSizeToFitPage()&&(t+=`max-inline-size: 100%${e(this.imageMaxSizeToFitPageImportant())}; `,t+=`max-block-size: 100vb${e(this.imageMaxSizeToFitPageImportant())}; `),this.imageKeepAspectRatio()&&(t+=`object-fit: contain${e(this.imageKeepAspectRatioImportant())}; `),t+="}\n"),t+="/*</viewer>*/\n",t+=this.afterOtherStyle(),t}copyFrom(e){this.pageSizeMode(e.pageSizeMode()),this.presetSize(e.presetSize()),this.isLandscape(e.isLandscape()),this.customWidth(e.customWidth()),this.customHeight(e.customHeight()),this.pageSizeImportant(e.pageSizeImportant()),this.pageMarginMode(e.pageMarginMode()),this.customMargin(e.customMargin()),this.pageMarginImportant(e.pageMarginImportant()),this.firstPageMarginZero(e.firstPageMarginZero()),this.firstPageMarginZeroImportant(e.firstPageMarginZeroImportant()),this.forceHtmlBodyMarginZero(e.forceHtmlBodyMarginZero()),this.widowsOrphans(e.widowsOrphans()),this.widowsOrphansImportant(e.widowsOrphansImportant()),this.imageMaxSizeToFitPage(e.imageMaxSizeToFitPage()),this.imageMaxSizeToFitPageImportant(e.imageMaxSizeToFitPageImportant()),this.imageKeepAspectRatio(e.imageKeepAspectRatio()),this.imageKeepAspectRatioImportant(e.imageKeepAspectRatioImportant()),this.baseFontSize(e.baseFontSize()),this.baseFontSizeSpecified(e.baseFontSizeSpecified()),this.baseFontSizeImportant(e.baseFontSizeImportant()),this.baseLineHeight(e.baseLineHeight()),this.baseLineHeightSpecified(e.baseLineHeightSpecified()),this.baseLineHeightImportant(e.baseLineHeightImportant()),this.baseFontFamily(e.baseFontFamily()),this.baseFontFamilySpecified(e.baseFontFamilySpecified()),this.baseFontFamilyImportant(e.baseFontFamilyImportant()),this.allImportant(e.allImportant()),this.pageOtherStyle(e.pageOtherStyle()),this.firstPageOtherStyle(e.firstPageOtherStyle()),this.rootOtherStyle(e.rootOtherStyle()),this.beforeOtherStyle(e.beforeOtherStyle()),this.afterOtherStyle(e.afterOtherStyle()),this.viewerFontSize&&e.viewerFontSize&&this.viewerFontSize(e.viewerFontSize())}equivalentTo(e){return this.pageSizeMode()===e.pageSizeMode()&&((this.pageSizeMode()!==n.Preset||this.presetSize()===e.presetSize())&&((this.pageSizeMode()!==n.Preset||this.isLandscape()===e.isLandscape())&&((this.pageSizeMode()!==n.Custom||this.customWidth()===e.customWidth())&&((this.pageSizeMode()!==n.Custom||this.customHeight()===e.customHeight())&&(this.pageSizeImportant()===e.pageSizeImportant()&&(this.pageMarginMode()===e.pageMarginMode()&&((this.pageMarginMode()!==n.Custom||this.customMargin()===e.customMargin())&&(this.pageMarginImportant()===e.pageMarginImportant()&&(this.firstPageMarginZero()===e.firstPageMarginZero()&&(this.firstPageMarginZeroImportant()===e.firstPageMarginZeroImportant()&&(this.forceHtmlBodyMarginZero()===e.forceHtmlBodyMarginZero()&&(this.widowsOrphans()===e.widowsOrphans()&&(this.widowsOrphansImportant()===e.widowsOrphansImportant()&&(this.imageMaxSizeToFitPage()===e.imageMaxSizeToFitPage()&&(this.imageMaxSizeToFitPageImportant()===e.imageMaxSizeToFitPageImportant()&&(this.imageKeepAspectRatio()===e.imageKeepAspectRatio()&&(this.imageKeepAspectRatioImportant()===e.imageKeepAspectRatioImportant()&&(this.baseFontSizeSpecified()===e.baseFontSizeSpecified()&&((!this.baseFontSizeSpecified()||this.baseFontSize()===e.baseFontSize())&&(this.baseFontSizeImportant()===e.baseFontSizeImportant()&&(this.baseLineHeightSpecified()===e.baseLineHeightSpecified()&&((!this.baseLineHeightSpecified()||this.baseLineHeight()===e.baseLineHeight())&&(this.baseLineHeightImportant()===e.baseLineHeightImportant()&&(this.baseFontFamilySpecified()===e.baseFontFamilySpecified()&&((!this.baseFontFamilySpecified()||this.baseFontFamily()===e.baseFontFamily())&&(this.baseFontFamilyImportant()===e.baseFontFamilyImportant()&&(this.allImportant()===e.allImportant()&&(this.pageOtherStyle()===e.pageOtherStyle()&&(this.firstPageOtherStyle()===e.firstPageOtherStyle()&&(this.rootOtherStyle()===e.rootOtherStyle()&&(this.beforeOtherStyle()===e.beforeOtherStyle()&&(this.afterOtherStyle()===e.afterOtherStyle()&&!(!this.viewerFontSize!=!e.viewerFontSize||this.viewerFontSize&&this.viewerFontSize()!==e.viewerFontSize())))))))))))))))))))))))))))))))))}}O.Mode=n,O.Constants=A,O.PresetSize=P;var R={escapeUnicodeChar:e=>`\\u${(65536|e.charCodeAt(0)).toString(16).substring(1)}`,escapeUnicodeString(e){return e.replace(/[^-a-zA-Z0-9_]/g,this.escapeUnicodeChar)},percentEncodeAmpersandAndUnencodedPercent:e=>e.replace(/%(?![0-9A-Fa-f]{2})/g,"%25").replace(/&/g,"%26"),percentEncodeAmpersandAndPercent:e=>e.replace(/%/g,"%25").replace(/&/g,"%26"),percentDecodeAmpersandAndPercent:e=>e.replace(/%26/g,"&").replace(/%25/g,"%"),percentEncodeForDataURI:e=>encodeURI(e).replace(/#/g,"%23").replace(/&/g,"%26")};function k(e){return new RegExp(`[#&]${R.escapeUnicodeString(e)}=([^&]*)`,"g")}const L=new class{constructor(){this.history=window?window.history:null,this.location=window?window.location:{href:""},this.storedUrl=this.location.href}getBaseURL(){let e=this.location.href;return e=e.replace(/#.*$/,""),e.replace(/\/[^/]*$/,"/")}hasParameter(e){const t=this.location.href;return k(e).test(t)}getParameter(e){const t=this.location.href,n=k(e),i=[];let o;for(;o=n.exec(t);)i.push(o[1]);return i}setParameter(e,t,n){const i=this.location.href;let o;const s=k(e);let r=s.exec(i);if(r&&n)for(;n-- >=1;)r=s.exec(i);if(r){const e=r[1].length,n=r.index+r[0].length-e;o=i.substring(0,n)+t+i.substring(n+e)}else o=`${i+(i.match(/[#&]$/)?"":i.match(/#/)?"&":"#")+e}=${t}`,"src"===e&&(o=o.replace(/#(?!src)(.*?)&(src=[^&]*)/,"#$2&$1"));null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",o):this.location.href=o,this.storedUrl=o}removeParameter(e,t){const n=this.location.href;let i;const o=k(e);let s=o.exec(n);if(s&&t&&(s=o.exec(n)),s){for(i=n;s;s=o.exec(i)){const e=s.index+s[0].length;i="#"==s[0].charAt(0)?i.substring(0,s.index+1)+i.substring(e+1):i.substring(0,s.index)+i.substring(e),o.lastIndex-=s[0].length}i=i.replace(/^(.*?)[#&]$/,"$1"),null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",i):this.location.href=i}this.storedUrl=i}};class F{constructor(){const e=function(){const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x"),i=L.getParameter("bookMode")[0],o=L.getParameter("f")[0],s=L.getParameter("style"),r=L.getParameter("userStyle");return{srcUrls:e.length?e:t.length?t:n.length?n:null,bookMode:"true"===i||"false"!==i&&!!t.length,fragment:o||null,authorStyleSheet:s.length?s:[],userStyleSheet:r.length?r:[]}}();this.srcUrls=i.observable(e.srcUrls||null),this.bookMode=i.observable(e.bookMode),this.fragment=i.observable(e.fragment||""),this.authorStyleSheet=i.observable(e.authorStyleSheet),this.userStyleSheet=i.observable(e.userStyleSheet),this.pageStyle=new O,this.dataUserStyleIndex=-1,this.bookMode.subscribe(e=>{e?L.setParameter("bookMode",e.toString()):L.removeParameter("bookMode")}),this.fragment.subscribe(e=>{if(/^epubcfi\(\/([246]\/)?2!\)/.test(e))L.removeParameter("f");else{const t=e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent);L.setParameter("f",t)}}),e.userStyleSheet.find((e,t)=>{if(/^data:,.*?\/\*(?:<|%3C)viewer(?:>|%3E)\*\//.test(e)){this.dataUserStyleIndex=t;const n=e.replace(/^data:,/,"").replace(/%(?![0-9A-Fa-f]{2})/g,"%25"),i=decodeURIComponent(n);return this.pageStyle.cssText(i),!0}return!1}),this.pageStyle.cssText.subscribe(e=>{this.updateUserStyleSheetFromCSSText(e)})}toObject(){function e(e){return e.map(e=>({url:e}))}const t=e(this.userStyleSheet());return this.pageStyle.pageSizeMode()==O.Mode.Default&&t.unshift({text:"@page{size:auto}"}),{fragment:this.fragment(),authorStyleSheet:e(this.authorStyleSheet()),userStyleSheet:t}}updateUserStyleSheetFromCSSText(e){null==e&&(e=this.pageStyle.toCSSText());const t=this.userStyleSheet();if((!e||/^\s*(\/\*.*?\*\/\s*)*$/.test(e))&&t.length<=(-1==this.dataUserStyleIndex?0:1))return t.pop(),this.dataUserStyleIndex=-1,this.userStyleSheet(t),void L.removeParameter("userStyle");const n="data:,"+R.percentEncodeForDataURI(e.trim());-1==this.dataUserStyleIndex?(t.push(n),this.dataUserStyleIndex=t.length-1):t[this.dataUserStyleIndex]=n,this.userStyleSheet(t),L.setParameter("userStyle",n,this.dataUserStyleIndex)}}class D{toSpreadViewString(){switch(this){case _.SPREAD:return"true";case _.SINGLE_PAGE:return"false";case _.AUTO_SPREAD:return"auto";default:throw new Error("Invalid PageViewMode")}}toString(){switch(this){case _.SPREAD:return"spread";case _.SINGLE_PAGE:return"singlePage";case _.AUTO_SPREAD:return"autoSpread";default:throw new Error("Invalid PageViewMode")}}}const _={AUTO_SPREAD:new D,SINGLE_PAGE:new D,SPREAD:new D,defaultMode(){return this.AUTO_SPREAD},fromSpreadViewString(e){switch(e){case"true":return this.SPREAD;case"false":return this.SINGLE_PAGE;case"auto":default:return this.AUTO_SPREAD}},of(e){switch(e){case p.SPREAD:return this.SPREAD;case p.SINGLE_PAGE:return this.SINGLE_PAGE;case p.AUTO_SPREAD:return this.AUTO_SPREAD;default:throw new Error(`Invalid PageViewMode name: ${e}`)}}};class B{constructor(e){this.zoom=e}get fitToScreen(){return null}getCurrentZoomFactor(e){return 1}toggleFitToScreen(){return new B(1)}zoomIn(e){return new U(1.25*this.getCurrentZoomFactor(e))}zoomOut(e){return new U(.8*this.getCurrentZoomFactor(e))}zoomToActualSize(){return new U(1)}static createDefaultOptions(){return new M}static createFromZoomFactor(e){return new U(e)}}class M extends B{constructor(){super(1)}get fitToScreen(){return!0}toggleFitToScreen(){return new U(1)}getCurrentZoomFactor(e){return e.queryZoomFactor(g.FIT_INSIDE_VIEWPORT)}}class U extends B{get fitToScreen(){return!1}toggleFitToScreen(){return new M}getCurrentZoomFactor(){return this.zoom}}function z(){return{renderAllPages:!0,fontSize:16,profile:!1,pageViewMode:_.defaultMode(),zoom:B.createDefaultOptions()}}class V{constructor(e){if(this.renderAllPages=i.observable(),this.fontSize=i.observable(),this.profile=i.observable(),this.pageViewMode=i.observable(),this.zoom=i.observable(),e)this.copyFrom(e);else{const e=z(),t=function(){const e=L.getParameter("renderAllPages")[0],t=L.getParameter("fontSize")[0],n=/^([\d.]+)(?:(%25|%)|\/([\d.]+))?$/.exec(t);let i=null;if(n){const[,e,t,o]=n;i=parseFloat(e),(t||o)&&(i=16*i/(t?100:parseFloat(o))),i<5&&(i=5),i>72&&(i=72)}return{renderAllPages:"true"===e||"false"!==e&&(!L.hasParameter("b")&&null),fontSize:i,profile:"true"===L.getParameter("profile")[0],pageViewMode:_.fromSpreadViewString(L.getParameter("spread")[0]),zoom:void 0}}();this.renderAllPages(null!==t.renderAllPages?t.renderAllPages:e.renderAllPages),this.fontSize(t.fontSize||e.fontSize),this.profile(t.profile||e.profile),this.pageViewMode(t.pageViewMode||e.pageViewMode),this.zoom(e.zoom),this.pageViewMode.subscribe(t=>{t===e.pageViewMode?L.removeParameter("spread"):L.setParameter("spread",t.toSpreadViewString())}),this.renderAllPages.subscribe(t=>{t===e.renderAllPages?L.removeParameter("renderAllPages"):L.setParameter("renderAllPages",t.toString())}),this.fontSize.subscribe(t=>{"number"==typeof t&&(t=t.toPrecision(10).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),Number(t)==e.fontSize?L.removeParameter("fontSize"):L.setParameter("fontSize",`${t}/${e.fontSize}`)})}}copyFrom(e){this.renderAllPages(e.renderAllPages()),this.fontSize(e.fontSize()),this.profile(e.profile()),this.pageViewMode(e.pageViewMode()),this.zoom(e.zoom())}toObject(){return{renderAllPages:this.renderAllPages(),fontSize:Number(this.fontSize()),pageViewMode:this.pageViewMode().toString(),fitToScreen:this.zoom().fitToScreen,zoom:this.zoom().zoom}}}V.getDefaultValues=z;var H,G=i.observableArray();!function(e){e.Debug="debug",e.Info="info",e.Warn="warn",e.Error="error"}(H||(H={}));class ${constructor(){this.logLevel=H.Error}static getLogger(){return new $}setLogLevel(e){this.logLevel=e}debug(e){this.logLevel===H.Debug&&G.push({type:"debug",content:e})}info(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info||G.push({type:"info",content:e})}warn(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn||G.push({type:"warn",content:e})}error(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn&&this.logLevel!==H.Error||G.push({type:"error",content:e})}}const W={readonlyObservable(e){const t=i.observable(e);return{getter:i.pureComputed(()=>t()),value:t}}};class X{constructor(e,t){this.viewerOptions_=t,this.documentOptions_=null,this.coreViewer_=new d(e,t.toObject());const n=this.state_={status:W.readonlyObservable(h.LOADING),pageProgression:W.readonlyObservable(a.LTR)};this.state={status:n.status.getter.extend({rateLimit:{timeout:100,method:"notifyWhenChangesStop"},notify:"always"}),navigatable:i.pureComputed(()=>n.status.value()&&n.status.value()!==h.LOADING),pageProgression:n.pageProgression.getter},this.epage=i.observable(),this.epageCount=i.observable(),this.firstPage=i.observable(),this.lastPage=i.observable(),this.tocVisible=i.observable(),this.tocPinned=i.observable(),this.inputUrl=i.observable(""),this.setupViewerEventHandler(),this.setupViewerOptionSubscriptions()}setupViewerEventHandler(){const e=$.getLogger();this.coreViewer_.addListener("debug",t=>{e.debug(t.content)}),this.coreViewer_.addListener("info",t=>{e.info(t.content)}),this.coreViewer_.addListener("warn",t=>{e.warn(t.content)}),this.coreViewer_.addListener("error",t=>{e.error(t.content)}),this.coreViewer_.addListener("readystatechange",()=>{const e=this.coreViewer_.readyState;e!==h.INTERACTIVE&&e!==h.COMPLETE||this.state_.pageProgression.value(this.coreViewer_.getCurrentPageProgression()),this.state_.status.value(e)}),this.coreViewer_.addListener("loaded",()=>{this.viewerOptions_.profile()&&N.printTimings()}),this.coreViewer_.addListener("nav",e=>{const{cfi:t,first:n,last:i,epage:o,epageCount:s,metadata:r,docTitle:a}=e;if(t&&this.documentOptions_.fragment(t),void 0!==n&&this.firstPage(n),void 0!==i&&this.lastPage(i),void 0!==o&&this.epage(o),void 0!==s&&this.epageCount(s),r||a){const e=r&&r["http://purl.org/dc/terms/title"],t=e&&e[0]&&e[0].v;t?!a||a===t||this.firstPage()||/\.xhtml$/.test(a)?document.title=t:document.title=`${a} | ${t}`:document.title=a||"Vivliostyle Viewer"}const l=this.tocVisible(),h=this.coreViewer_.isTOCVisible();l&&!h||this.tocVisible(h)}),this.coreViewer_.addListener("hyperlink",e=>{e.internal?(this.navigateToInternalUrl(e.href),this.tocVisible()&&this.tocVisible(!1),document.getElementById("vivliostyle-viewer-viewport").focus()):window.location.href=e.href})}setupViewerOptionSubscriptions(){i.computed((function(){const e=this.viewerOptions_.toObject();this.coreViewer_.setOptions(e)}),this).extend({rateLimit:0})}loadDocument(e,t){this.state_.status.value(h.LOADING),t&&this.viewerOptions_.copyFrom(t),this.documentOptions_=e,e.srcUrls()?e.bookMode()?this.coreViewer_.loadPublication(e.srcUrls()[0],e.toObject(),this.viewerOptions_.toObject()):this.coreViewer_.loadDocument(e.srcUrls(),e.toObject(),this.viewerOptions_.toObject()):this.state_.status.value("")}navigateToPrevious(){this.coreViewer_.navigateToPage(u.PREVIOUS)}navigateToNext(){this.coreViewer_.navigateToPage(u.NEXT)}navigateToLeft(){this.coreViewer_.navigateToPage(u.LEFT)}navigateToRight(){this.coreViewer_.navigateToPage(u.RIGHT)}navigateToFirst(){this.coreViewer_.navigateToPage(u.FIRST)}navigateToLast(){this.coreViewer_.navigateToPage(u.LAST)}navigateToEPage(e){this.coreViewer_.navigateToPage(u.EPAGE,e)}navigateToInternalUrl(e){this.coreViewer_.navigateToInternalUrl(e)}queryZoomFactor(e){return this.coreViewer_.queryZoomFactor(e)}epageToPageNumber(e){if(!e&&0!=e)return;return Math.round(e+1)}epageFromPageNumber(e){if(!e&&0!=e)return;return e-1}showTOC(e,t){if(null==this.coreViewer_.isTOCVisible())return;const n=null==e?!this.tocVisible():e;this.tocVisible(n),this.tocPinned(!!n&&!t),this.coreViewer_.showTOC(n,t)}}const j={Unidentified:"Unidentified",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Home:"Home",End:"End",PageDown:"PageDown",PageUp:"PageUp",Escape:"Escape",Enter:"Enter",Space:" "};var K={Keys:j,identifyKeyFromEvent:function(e){const t=e.key,n=e.keyIdentifier,i=e.location;return t===j.ArrowDown||"Down"===t||"Down"===n?e.metaKey?j.End:j.ArrowDown:t===j.ArrowLeft||"Left"===t||"Left"===n?j.ArrowLeft:t===j.ArrowRight||"Right"===t||"Right"===n?j.ArrowRight:t===j.ArrowUp||"Up"===t||"Up"===n?e.metaKey?j.Home:j.ArrowUp:t===j.Escape||"Esc"===t||"U+001B"===n?j.Escape:t===j.Enter||"Enter"===n?j.Enter:t===j.Space||"U+0020"===n?j.Space:"0"===t||"U+0030"===n?"0":"+"===t||"Add"===t||"U+002B"===n||"U+00BB"===n||"U+004B"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"+":"-"===t||"Subtract"===t||"U+002D"===n||"U+00BD"===n||"U+004D"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"-":t||n||j.Unidentified}};const{Keys:Y}=K;class q{constructor(e,t,n,o){this.viewerOptions_=e,this.viewer_=t,this.settingsPanel_=n,this.justClicked=!1,this.isDisabled=i.pureComputed(()=>this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()||!this.viewer_.state.navigatable());const s=i.pureComputed(()=>o.disablePageNavigation||this.isDisabled());s.subscribe(e=>{const t=document.getElementById("vivliostyle-page-number");t&&(t.disabled=e)}),this.isPageNumberDisabled=i.pureComputed(()=>s()),this.isNavigateToPreviousDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&this.viewer_.firstPage()),this.isNavigateToNextDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&((!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)&&this.viewer_.lastPage())),this.isNavigateToLeftDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToPreviousDisabled():this.isNavigateToNextDisabled())),this.isNavigateToRightDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToNextDisabled():this.isNavigateToPreviousDisabled())),this.isNavigateToFirstDisabled=this.isNavigateToPreviousDisabled,this.isNavigateToLastDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&(!(!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)||this.viewer_.lastPage())),this.hidePageNavigation=!!o.disablePageNavigation;const r=i.pureComputed(()=>o.disableZoom||this.isDisabled());this.isZoomOutDisabled=r,this.isZoomInDisabled=r,this.isZoomToActualSizeDisabled=r,this.isToggleFitToScreenDisabled=r,this.hideZoom=!!o.disableZoom,this.fitToScreen=i.pureComputed(()=>e.zoom().fitToScreen);const l=i.pureComputed(()=>o.disableFontSizeChange||this.isDisabled());this.isIncreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()>=72),this.isDecreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()<=5),this.isDefaultFontSizeDisabled=l,this.hideFontSizeChange=!!o.disableFontSizeChange,this.isTOCToggleDisabled=i.pureComputed(()=>o.disableTOCNavigation||this.isDisabled()||null==this.viewer_.tocVisible()),this.hideTOCNavigation=!!o.disableTOCNavigation,this.pageNumber=i.pureComputed({read(){return this.viewer_.epageToPageNumber(this.viewer_.epage())},write(e){const t=this.viewer_.epage(),n=this.viewer_.epageToPageNumber(t);let i=parseFloat(e.toString().replace(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)))||0;if(/^[-+]/.test(e.toString())&&(i=n+i),i<1)i=1;else{const e=this.viewer_.epageCount();this.viewerOptions_.renderAllPages()?i>e&&(i=e):i>e+1&&(i=e+1)}const o=this.viewer_.epageFromPageNumber(i),s=document.getElementById("vivliostyle-page-number");s.value=i.toString(),this.viewer_.navigateToEPage(o),setTimeout(()=>{this.viewer_.state.status()!=h.LOADING&&this.viewer_.epage()===t&&(s.value=n.toString()),document.getElementById("vivliostyle-viewer-viewport").focus()},10)},owner:this}),this.totalPages=i.pureComputed(()=>{let e=this.viewer_.epageCount();if(!e)return e;const t=Number(this.pageNumber());return this.viewer_.lastPage()?e=t:t>=e&&e++,e}),["navigateToPrevious","navigateToNext","navigateToLeft","navigateToRight","navigateToFirst","navigateToLast","zoomIn","zoomOut","zoomToActualSize","toggleFitToScreen","increaseFontSize","decreaseFontSize","defaultFontSize","onclickViewport","toggleTOC"].forEach(e=>{this[e]=this[e].bind(this)})}static PREVIOUS(e){throw new Error("Method not implemented.")}static NEXT(e){throw new Error("Method not implemented.")}static LEFT(e){throw new Error("Method not implemented.")}static RIGHT(e){throw new Error("Method not implemented.")}static FIRST(e){throw new Error("Method not implemented.")}static LAST(e){throw new Error("Method not implemented.")}static EPAGE(e,t){throw new Error("Method not implemented.")}navigateToPrevious(){return!this.isNavigateToPreviousDisabled()&&(this.viewer_.navigateToPrevious(),!0)}navigateToNext(){return!this.isNavigateToNextDisabled()&&(this.viewer_.navigateToNext(),!0)}navigateToLeft(){return!this.isNavigateToLeftDisabled()&&(this.viewer_.navigateToLeft(),!0)}navigateToRight(){return!this.isNavigateToRightDisabled()&&(this.viewer_.navigateToRight(),!0)}navigateToFirst(){return!this.isNavigateToFirstDisabled()&&(this.viewer_.navigateToFirst(),!0)}navigateToLast(){return!this.isNavigateToLastDisabled()&&(this.viewer_.navigateToLast(),!0)}zoomIn(){if(this.isZoomInDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomIn(this.viewer_)),!0}}zoomOut(){if(this.isZoomOutDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomOut(this.viewer_)),!0}}zoomToActualSize(){if(this.isZoomToActualSizeDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomToActualSize()),!0}}toggleFitToScreen(){if(this.isToggleFitToScreenDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.toggleFitToScreen()),!0}}increaseFontSize(){if(this.isIncreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e<10?Math.floor(e)+1:e<20?2*(Math.floor(e/2)+1):e<40?4*(Math.floor(e/4)+1):e<72?8*(Math.floor(e/8)+1):72,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}decreaseFontSize(){if(this.isDecreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e>40?8*(Math.ceil(e/8)-1):e>20?4*(Math.ceil(e/4)-1):e>10?2*(Math.ceil(e/2)-1):e>5?Math.ceil(e)-1:5,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}defaultFontSize(){if(this.isDefaultFontSizeDisabled())return!1;{const e=V.getDefaultValues().fontSize;return this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}updateFontSizeSettings(){this.settingsPanel_.state.viewerOptions.fontSize(this.viewerOptions_.fontSize()),this.viewer_.documentOptions_.pageStyle.baseFontSizeSpecified()&&(this.viewer_.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.viewer_.documentOptions_,this.viewerOptions_))}onclickViewport(){if(this.settingsPanel_.justClicked)return!0;if(this.viewer_.tocVisible()&&!this.viewer_.tocPinned()){const e=document.querySelector("[data-vivliostyle-toc-box]");e&&!e.contains(document.activeElement)&&this.toggleTOC()}return this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()&&this.settingsPanel_.close(),!0}toggleTOC(){if(this.isTOCToggleDisabled())return!1;{let e=null;return this.viewer_.tocVisible()?this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(null!==e&&(clearInterval(e),e=null),this.viewer_.showTOC(!1),this.justClicked=!0,setTimeout(()=>{this.justClicked&&(document.getElementById("vivliostyle-viewer-viewport").focus(),this.justClicked=!1)},300)):(this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(this.viewer_.showTOC(!0,!0),this.justClicked=!0),e=setInterval(()=>{const t=document.querySelector("[data-vivliostyle-toc-box]");t&&"visible"===t.style.visibility&&(t.tabIndex=0,t.focus(),clearInterval(e),e=null),this.justClicked=!1},300)),!0}}navigateTOC(e){const t=Array.from(document.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) [tabindex='0'],[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) a[href]:not([tabindex='-1'])"));let n=t.indexOf(document.activeElement);const i=e=>t[e]&&"button"===t[e].getAttribute("role"),o=e=>t[e]&&"true"===t[e].getAttribute("aria-expanded");switch(e){case Y.ArrowLeft:if(-1==n){n=t.length-1;break}if(!i(n)&&i(n-1)&&n--,i(n)&&o(n))t[n].click();else for(let e=n-1;e>=0;e--)if(i(e)&&t[e].parentElement.contains(t[n])){n=e;break}break;case Y.ArrowRight:if(-1==n){n=0;break}!i(n)&&i(n-1)&&n--,i(n)&&(o(n)?n+=2:t[n].click());break;case Y.ArrowDown:n++;break;case Y.ArrowUp:if(-1==n){n=t.length-1;break}n>0&&i(--n)&&n--;break;case Y.Home:n=0;break;case Y.End:n=t.length-1;break;case Y.Space:!i(n)&&i(n-1)&&n--,i(n)&&t[n].click()}return i(n)&&n++,t[n]&&t[n].focus(),!0}handleKey(e){if(this.settingsPanel_.opened()&&this.settingsPanel_.settingsToggle.contains(document.activeElement))return!0;const t=document.getElementById("vivliostyle-page-number"),n=document.getElementById("vivliostyle-viewer-viewport"),i=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight,s=t===document.activeElement,r=this.viewer_.tocVisible()&&!s&&n!=document.activeElement;switch(e){case"+":return s||!this.increaseFontSize();case"-":return s||!this.decreaseFontSize();case"0":return s||!this.defaultFontSize();case"1":return s||!this.zoomToActualSize();case Y.ArrowLeft:return r?!this.navigateTOC(e):s||i||!this.navigateToLeft();case Y.ArrowRight:return r?!this.navigateTOC(e):s||i||!this.navigateToRight();case Y.ArrowDown:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToNext());case Y.ArrowUp:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToPrevious());case Y.PageDown:return!!r||(n.focus(),!this.navigateToNext());case Y.PageUp:return!!r||(n.focus(),!this.navigateToPrevious());case Y.Home:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToFirst());case Y.End:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToLast());case"o":case"O":return n.focus(),!this.zoomOut();case"i":case"I":return n.focus(),!this.zoomIn();case"f":case"F":return n.focus(),!this.toggleFitToScreen();case"g":case"G":return t.focus(),!1;case"t":case"T":return n.focus(),!this.toggleTOC();case Y.Escape:return this.viewer_.tocVisible()?!this.toggleTOC():(n.focus(),!0);case Y.Space:return r?!this.navigateTOC(e):"button"!==document.activeElement.getAttribute("role")||(document.activeElement.click(),!1);default:return!0}}}const{Keys:Z}=K;class Q{constructor(e,t,n,o,s){this.viewerOptions_=e,this.documentOptions_=t,this.viewer_=n,this.isPageStyleChangeDisabled=!!s.disablePageStyleChange,this.isOverrideDocumentStyleSheetDisabled=this.isPageStyleChangeDisabled,this.isPageViewModeChangeDisabled=!!s.disablePageViewModeChange,this.isBookModeChangeDisabled=!!s.disableBookModeChange,this.isRenderAllPagesChangeDisabled=!!s.disableRenderAllPagesChange,this.justClicked=!1,this.settingsToggle=document.getElementById("vivliostyle-menu-item_settings-toggle"),this.opened=i.observable(!1),this.pinned=i.observable(!1),this.state={viewerOptions:new V(e),pageStyle:new O(t.pageStyle),pageViewMode:i.pureComputed({read:()=>this.state.viewerOptions.pageViewMode().toString(),write:e=>{this.state.viewerOptions.pageViewMode(_.of(e))}}),bookMode:i.observable(t.bookMode()),renderAllPages:i.pureComputed({read:()=>this.state.viewerOptions.renderAllPages(),write:e=>{this.state.viewerOptions.renderAllPages(e)}})},this.state.pageStyle.setViewerFontSizeObservable(this.state.viewerOptions.fontSize),this.defaultPageStyle=new O,["close","toggle","apply","cancel","resetUserStyle"].forEach((function(e){this[e]=this[e].bind(this)}),this),o.visible.subscribe((function(e){e&&this.close()}),this),this.state.bookMode.subscribe(e=>{t.bookMode(e)}),this.state.renderAllPages.subscribe(t=>{e.renderAllPages(t)})}close(){this.opened(!1),this.pinned(!1);const e=document.getElementById("vivliostyle-viewer-viewport");return e&&e.focus(),!0}toggle(){this.opened()?this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.close(),this.justClicked=!0,setTimeout(()=>{this.justClicked=!1},300)):(this.viewer_.tocPinned()||this.viewer_.showTOC(!1),this.opened(!0),this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.pinned(!1),this.justClicked=!0,this.focusToFirstItem(),setTimeout(()=>{this.justClicked=!1},300)))}apply(){this.documentOptions_.pageStyle.copyFrom(this.state.pageStyle),this.documentOptions_.pageStyle.baseFontSizeSpecified()&&this.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.documentOptions_,this.state.viewerOptions),this.pinned()?this.focusToFirstItem():this.close()}cancel(){this.state.viewerOptions.copyFrom(this.viewerOptions_),this.state.pageStyle.copyFrom(this.documentOptions_.pageStyle),this.close()}resetUserStyle(){return this.state.pageStyle.copyFrom(this.defaultPageStyle),this.state.viewerOptions.fontSize(V.getDefaultValues().fontSize),setTimeout(()=>{document.getElementsByName("vivliostyle-settings_reset-user-style")[0].checked=!1},200),!0}focusToFirstItem(e){const t=e||this.settingsToggle,n=["input","textarea","summary"].includes(t.localName)?t:Array.from(t.getElementsByTagName("input")).find(e=>!e.disabled&&("radio"!=e.type||e.checked));if(n){for(let e=n.parentElement;e&&e!=this.settingsToggle;e=e.parentElement)"details"==e.localName&&(e.open=!0);n.focus()}}handleKey(e){const t=this.opened()&&this.settingsToggle.contains(document.activeElement),n=t&&("text"==document.activeElement.type||"select"==document.activeElement.localName),i=t&&"textarea"==document.activeElement.localName,o=t&&!n&&!i;switch(e){case Z.Escape:return this.opened()&&(this.cancel(),this.close()),!0;case"s":case"S":return!(!this.opened()||o||!t)||(this.toggle(),!1);case"p":case"P":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-and-rendering").firstElementChild),!1);case"v":case"V":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-mode")),!1);case"b":case"B":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_book-mode")[0]),!1);case"a":case"A":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_render-all-pages")[0]),!1);case"u":case"U":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_user-style").firstElementChild),!1);case"z":case"Z":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-size")),!1);case"m":case"M":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-margin")),!1);case"k":case"K":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-breaks")),!1);case"i":case"I":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_images")),!1);case"t":case"T":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_text")),!1);case"o":case"O":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_override-document-stylesheets")[0]),!1);case"c":case"C":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_css-details")[0]),!1);case"r":case"R":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_reset-user-style")[0]),!1);case Z.Enter:return!(n||o&&"vivliostyle-menu-button_apply"!==document.activeElement.id&&"vivliostyle-menu-button_reset"!==document.activeElement.id)||(document.getElementById("vivliostyle-menu-button_apply").focus(),!1);default:return!0}}}class J{constructor(e){this.list=e,this.visible=i.pureComputed(()=>e().length>0)}getDisplayMessage(e){const t=e.error;let n=t&&(t.toString()||t.frameTrace||t.stack);return n&&(n=n.split("\n",1)[0]),n||(n=e.messages.join("\n")),n}}function ee(){this.documentOptions=new F,this.viewerOptions=new V,this.documentOptions.pageStyle.setViewerFontSizeObservable(this.viewerOptions.fontSize),this.viewerOptions.profile()&&I.profiler.enable(),this.isDebug="true"===L.getParameter("debug")[0],this.viewerSettings={userAgentRootURL:`${L.getBaseURL()}resources/`,viewportElement:document.getElementById("vivliostyle-viewer-viewport"),debug:this.isDebug};const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x");e.length||(t.length?(L.setParameter("src",t[0]),L.setParameter("bookMode","true"),L.hasParameter("renderAllPages")||L.setParameter("renderAllPages","false")):n.length&&n.forEach((e,t)=>{L.setParameter("src",e,t)})),L.removeParameter("b"),L.removeParameter("x"),L.removeParameter("f",!0),L.removeParameter("spread",!0),L.removeParameter("bookMode",!0),L.removeParameter("renderAllPages",!0),L.removeParameter("fontSize",!0),L.removeParameter("profile",!0),L.removeParameter("debug",!0),this.viewer=new X(this.viewerSettings,this.viewerOptions),this.viewer.inputUrl.subscribe(e=>{""!=e?(L.hasParameter("src")||L.history.pushState&&L.history.pushState(null,""),e=e.startsWith("<")?"data:,"+R.percentEncodeForDataURI(e):R.percentEncodeAmpersandAndUnencodedPercent(e),L.setParameter("src",e),this.documentOptions.srcUrls(L.getParameter("src"))):L.removeParameter("src")}),this.messageDialog=new J(G);this.settingsPanel=new Q(this.viewerOptions,this.documentOptions,this.viewer,this.messageDialog,{disablePageStyleChange:!1,disablePageViewModeChange:!1,disableBookModeChange:!1,disableRenderAllPagesChange:!1});this.navigation=new q(this.viewerOptions,this.viewer,this.settingsPanel,{disableTOCNavigation:!1,disablePageNavigation:!1,disableZoom:!1,disableFontSizeChange:!1}),this.handleKey=(e,t)=>{const n=K.identifyKeyFromEvent(t);if("vivliostyle-input-url"===document.activeElement.id)return"Enter"!==n||13!==t.keyCode||(this.viewer.loadDocument(this.documentOptions),!1);if("Home"!==n&&"End"!==n&&(t.ctrlKey||t.metaKey)||t.altKey||t.shiftKey)return!0;let i=this.settingsPanel.handleKey(n);return i&&(i=this.navigation.handleKey(n)),i},this.viewer.loadDocument(this.documentOptions),window.onhashchange=()=>{window.location.href!=L.storedUrl&&window.location.reload()}}const te="ontouchstart"in window;i.bindingHandlers.menuButton={init(e,t){i.unwrap(t())&&(te?(e.addEventListener("touchstart",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!0)}),e.addEventListener("touchend",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!1)})):(e.addEventListener("mouseover",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!0)}),e.addEventListener("mousedown",()=>{i.utils.toggleDomNodeCssClass(e,"active",!0)}),e.addEventListener("mouseup",()=>{i.utils.toggleDomNodeCssClass(e,"active",!1)}),e.addEventListener("mouseout",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!1),i.utils.toggleDomNodeCssClass(e,"active",!1),window.getSelection().removeAllRanges()})))}};const ne="ontouchstart"in window;let ie=null,oe=null,se=null;i.bindingHandlers.swipePages={init(e,t){ne&&i.unwrap(t())&&(e.addEventListener("touchstart",e=>{if(e.touches.length>1)return;if(window.visualViewport&&window.visualViewport.scale>1)return;const t=document.getElementById("vivliostyle-viewer-viewport");t&&t.scrollWidth>t.clientWidth||(ie=e.touches[0].clientX,oe=e.touches[0].clientY)}),e.addEventListener("touchmove",e=>{if(!(e.touches.length>1)&&null!==ie&&null!==oe){const t=e.touches[0].clientX-ie,n=e.touches[0].clientY-oe;Math.abs(t)>Math.abs(n)&&(se=t<0?document.getElementById("vivliostyle-page-navigation-right"):document.getElementById("vivliostyle-page-navigation-left")),Math.abs(t)+Math.abs(n)>=16&&(se&&(se.click(),i.utils.toggleDomNodeCssClass(se,"active",!0)),ie=null,oe=null)}}),e.addEventListener("touchend",()=>{se&&i.utils.toggleDomNodeCssClass(se,"active",!1),se=null,ie=null,oe=null}))}},{start(){function e(){i.applyBindings(new ee)}window.__loaded?e():window.onload=e}}.start()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml2bGlvc3R5bGUtdmlld2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3BhZ2Utc3R5bGUudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMva25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvbnN0YW50cy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xvZ2dpbmcudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wbHVnaW4udHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wcm9maWxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvYmFzZS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NmaS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2V4cHJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZ2VvbWV0cnktdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wcm9wLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY291bnRlcnMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdG9rZW5pemVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdGFzay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Rhc2stdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL25ldC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wYXJzZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9tYXRjaGVycy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1jYXNjYWRlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLWxvZ2ljYWwtdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3NpemluZy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LWRpZmYvZGlmZi5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3R5cGVzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZGlmZi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Z0cmVlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcGFnZS1mbG9hdHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9mb290bm90ZXMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC1oZWxwZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay1wb3NpdGlvbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Rpc3BsYXkudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9sYXlvdXQtcHJvY2Vzc29yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXJldHJ5ZXJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXV0aWwudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGFyZWQudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wc2V1ZG8tZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3JlcGV0aXRpdmUtZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3RhYmxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbWF0aC11dGlsLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY29sdW1ucy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1zdHlsZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdmFsaWRhdG9yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZm9udC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3BhZ2UtbWFzdGVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLXBhZ2UudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS91cmxzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdmdlbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3htbC1kb2MudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9vcHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGExLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdG9jLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZXB1Yi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2FkYXB0aXZlLXZpZXdlci50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvcmUtdmlld2VyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcHJpbnQudHMiLCIuLi8uLi9zcmMvdXRpbHMvc3RyaW5nLXV0aWwudHMiLCIuLi8uLi9zcmMvc3RvcmVzL3VybC1wYXJhbWV0ZXJzLnRzIiwiLi4vLi4vc3JjL21vZGVscy9kb2N1bWVudC1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy9wYWdlLXZpZXctbW9kZS50cyIsIi4uLy4uL3NyYy9tb2RlbHMvem9vbS1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy92aWV3ZXItb3B0aW9ucy50cyIsIi4uLy4uL3NyYy9sb2dnaW5nL2xvZ2dlci50cyIsIi4uLy4uL3NyYy9tb2RlbHMvbWVzc2FnZS1xdWV1ZS50cyIsIi4uLy4uL3NyYy91dGlscy9vYnNlcnZhYmxlLXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy92aWV3ZXIudHMiLCIuLi8uLi9zcmMvdXRpbHMva2V5LXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9uYXZpZ2F0aW9uLnRzIiwiLi4vLi4vc3JjL3ZpZXdtb2RlbHMvc2V0dGluZ3MtcGFuZWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9tZXNzYWdlLWRpYWxvZy50cyIsIi4uLy4uL3NyYy92aWV3bW9kZWxzL3ZpZXdlci1hcHAudHMiLCIuLi8uLi9zcmMvYmluZGluZ3MvbWVudUJ1dHRvbi50cyIsIi4uLy4uL3NyYy9iaW5kaW5ncy9zd2lwZVBhZ2VzLnRzIiwiLi4vLi4vc3JjL3Zpdmxpb3N0eWxlLXZpZXdlci50cyIsIi4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxudHlwZSBQcmVzZXRTaXplID0geyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfTtcbnR5cGUgQ29uc3RhbnRzID0ge1xuICBjdXN0b21XaWR0aDogc3RyaW5nO1xuICBjdXN0b21IZWlnaHQ6IHN0cmluZztcbiAgY3VzdG9tTWFyZ2luOiBzdHJpbmc7XG4gIGJhc2VGb250U2l6ZTogc3RyaW5nO1xuICBiYXNlTGluZUhlaWdodDogc3RyaW5nO1xuICBiYXNlRm9udEZhbWlseTogc3RyaW5nO1xuICB2aWV3ZXJGb250U2l6ZTogbnVtYmVyO1xufTtcblxuZW51bSBNb2RlIHtcbiAgRGVmYXVsdCA9IFwiXCIsXG4gIEF1dG8gPSBcImF1dG9cIixcbiAgUHJlc2V0ID0gXCJwcmVzZXRcIixcbiAgQ3VzdG9tID0gXCJjdXN0b21cIixcbiAgWmVybyA9IFwiMFwiLFxufVxuXG5jb25zdCBQUkVTRVRfU0laRTogQXJyYXk8UHJlc2V0U2l6ZT4gPSBbXG4gIHsgbmFtZTogXCJBNVwiLCBkZXNjcmlwdGlvbjogXCJBNVwiIH0sXG4gIHsgbmFtZTogXCJBNFwiLCBkZXNjcmlwdGlvbjogXCJBNFwiIH0sXG4gIHsgbmFtZTogXCJBM1wiLCBkZXNjcmlwdGlvbjogXCJBM1wiIH0sXG4gIHsgbmFtZTogXCJCNVwiLCBkZXNjcmlwdGlvbjogXCJCNSAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJCNFwiLCBkZXNjcmlwdGlvbjogXCJCNCAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJKSVMtQjVcIiwgZGVzY3JpcHRpb246IFwiQjUgKEpJUylcIiB9LFxuICB7IG5hbWU6IFwiSklTLUI0XCIsIGRlc2NyaXB0aW9uOiBcIkI0IChKSVMpXCIgfSxcbiAgeyBuYW1lOiBcImxldHRlclwiLCBkZXNjcmlwdGlvbjogXCJsZXR0ZXJcIiB9LFxuICB7IG5hbWU6IFwibGVnYWxcIiwgZGVzY3JpcHRpb246IFwibGVnYWxcIiB9LFxuICB7IG5hbWU6IFwibGVkZ2VyXCIsIGRlc2NyaXB0aW9uOiBcImxlZGdlclwiIH0sXG5dO1xuXG5jb25zdCBDT05TVEFOVFM6IENvbnN0YW50cyA9IHtcbiAgY3VzdG9tV2lkdGg6IFwiMjEwbW1cIixcbiAgY3VzdG9tSGVpZ2h0OiBcIjI5N21tXCIsXG4gIGN1c3RvbU1hcmdpbjogXCIxMCVcIixcbiAgYmFzZUZvbnRTaXplOiBcIjEycHRcIixcbiAgYmFzZUxpbmVIZWlnaHQ6IFwiMS4yXCIsXG4gIGJhc2VGb250RmFtaWx5OiBcInNlcmlmXCIsXG4gIHZpZXdlckZvbnRTaXplOiAxNixcbn07XG5cbmNsYXNzIFBhZ2VTdHlsZSB7XG4gIHBhZ2VTaXplTW9kZTogT2JzZXJ2YWJsZTxNb2RlPjtcbiAgcHJlc2V0U2l6ZTogT2JzZXJ2YWJsZTxQcmVzZXRTaXplPjtcbiAgaXNMYW5kc2NhcGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGN1c3RvbVdpZHRoOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGN1c3RvbUhlaWdodDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlU2l6ZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZU1hcmdpbk1vZGU6IE9ic2VydmFibGU8TW9kZT47XG4gIGN1c3RvbU1hcmdpbjogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlTWFyZ2luSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb3JjZUh0bWxCb2R5TWFyZ2luWmVybzogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgd2lkb3dzT3JwaGFuczogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICB3aWRvd3NPcnBoYW5zSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbWFnZU1heFNpemVUb0ZpdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgaW1hZ2VLZWVwQXNwZWN0UmF0aW86IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRTaXplU3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemVJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VMaW5lSGVpZ2h0OiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlTGluZUhlaWdodEltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgYmFzZUZvbnRGYW1pbHk6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VGb250RmFtaWx5SW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBhbGxJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHBhZ2VPdGhlclN0eWxlOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGZpcnN0UGFnZU90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgcm9vdE90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmVmb3JlT3RoZXJTdHlsZTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhZnRlck90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICBjc3NUZXh0OiBQdXJlQ29tcHV0ZWQ8c3RyaW5nPjtcbiAgc2V0Vmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiAoXG4gICAgdmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiBudWxsIHwgT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+LFxuICApID0+IHZvaWQ7XG4gIHBhZ2VTdHlsZVJlZ0V4cDogUmVnRXhwO1xuICB2aWV3ZXJGb250U2l6ZTogbnVsbCB8IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdmlld2VyRm9udFNpemVQZXJjZW50OiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcblxuICBzdGF0aWMgTW9kZSA9IE1vZGU7XG4gIHN0YXRpYyBDb25zdGFudHMgPSBDT05TVEFOVFM7XG4gIHN0YXRpYyBQcmVzZXRTaXplID0gUFJFU0VUX1NJWkU7XG4gIFByZXNldFNpemUgPSBQYWdlU3R5bGUuUHJlc2V0U2l6ZTtcblxuICBjb25zdHJ1Y3RvcihwYWdlU3R5bGU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5wYWdlU2l6ZU1vZGUgPSBrby5vYnNlcnZhYmxlKE1vZGUuRGVmYXVsdCk7XG4gICAgdGhpcy5wcmVzZXRTaXplID0ga28ub2JzZXJ2YWJsZShQUkVTRVRfU0laRVsxXSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuY3VzdG9tV2lkdGggPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21XaWR0aCk7XG4gICAgdGhpcy5jdXN0b21IZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21IZWlnaHQpO1xuICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlID0ga28ub2JzZXJ2YWJsZShNb2RlLkRlZmF1bHQpO1xuICAgIHRoaXMuY3VzdG9tTWFyZ2luID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuY3VzdG9tTWFyZ2luKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8gPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZSA9IGtvLm9ic2VydmFibGUoQ09OU1RBTlRTLmJhc2VGb250U2l6ZSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5iYXNlTGluZUhlaWdodCk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5ID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuYmFzZUZvbnRGYW1pbHkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VPdGhlclN0eWxlID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMucm9vdE90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMuYmVmb3JlT3RoZXJTdHlsZSA9IGtvLm9ic2VydmFibGUoXCJcIik7XG4gICAgdGhpcy5hZnRlck90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy52aWV3ZXJGb250U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUgPSAodmlld2VyRm9udFNpemVPYnNlcnZhYmxlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnZpZXdlckZvbnRTaXplID0gdmlld2VyRm9udFNpemVPYnNlcnZhYmxlO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3ZpZXdlci1mb250LXNpemVcIixcbiAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0udmFsdWUgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSgpKSxcbiAgICAgICAgICAxMDAsXG4gICAgICAgICAgNSxcbiAgICAgICAgKS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnZpZXdlckZvbnRTaXplUGVyY2VudCA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHRoaXMudmlld2VyRm9udFNpemUoKSksXG4gICAgICAgICAgMTAwLFxuICAgICAgICAgIDUsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBwZXJjZW50O1xuICAgICAgfSxcbiAgICAgIHdyaXRlKHZpZXdlckZvbnRTaXplUGVyY2VudCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IHBhcnNlRmxvYXQoU3RyaW5nKHZpZXdlckZvbnRTaXplUGVyY2VudCkpO1xuICAgICAgICBsZXQgZm9udFNpemUgPSBwZXJjZW50ICYmIHRoaXMuZm9udFNpemVQZXJjZW50VG9QeChwZXJjZW50KTtcbiAgICAgICAgaWYgKCFmb250U2l6ZSB8fCBmb250U2l6ZSA8IDUgfHwgZm9udFNpemUgPiA3Mikge1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfdmlld2VyLWZvbnQtc2l6ZVwiLFxuICAgICAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IFwiMTAwXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvbnRTaXplID0gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld2VyRm9udFNpemUoTnVtYmVyKGZvbnRTaXplKSk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLmNzc1RleHQgPSBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgcmVhZDogdGhpcy50b0NTU1RleHQsXG4gICAgICB3cml0ZTogdGhpcy5mcm9tQ1NTVGV4dCxcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hbGxJbXBvcnRhbnQuc3Vic2NyaWJlKChhbGxJbXBvcnRhbnQpID0+IHtcbiAgICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodEltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYWdlU3R5bGVSZWdFeHAgPSBuZXcgUmVnRXhwKFxuICAgICAgLy8gMS4gYmVmb3JlT3RoZXJTdHlsZSxcbiAgICAgIFwiXigoPzpcXFxcbnwuKSo/KVxcXFwvXFxcXCo8dmlld2VyPlxcXFwqXFxcXC9cXFxccyooPzpAcGFnZVxcXFxzKlxcXFx7XFxcXHMqXCIgK1xuICAgICAgICAvLyAyLiBzaXplVywgc2l6ZUgsIHNpemVJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86c2l6ZTpcXFxccyooW15cXFxccyE7e31dKykoPzpcXFxccysoW15cXFxccyE7e31dKykpP1xcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDUuIHBhZ2VNYXJnaW4sIHBhZ2VNYXJnaW5JbXBvcnRhbnQsXG4gICAgICAgIFwiKD86bWFyZ2luOlxcXFxzKihbXlxcXFxzITt7fV0rKD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDcuIHBhZ2VPdGhlclN0eWxlLFxuICAgICAgICBcIigoPzpbXnt9XSt8XFxcXHtbXnt9XSpcXFxcfSkqKVxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDguIGZpcnN0UGFnZU1hcmdpblplcm8sIGZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQsIGZpcnN0UGFnZU90aGVyU3R5bGUsXG4gICAgICAgIFwiKD86QHBhZ2VcXFxccyo6Zmlyc3RcXFxccypcXFxce1xcXFxzKihtYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KCg/Oltee31dK3xcXFxce1tee31dKlxcXFx9KSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTEuIGZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvLFxuICAgICAgICBcIigoPzpodG1sfDpyb290KSxcXFxccypib2R5XFxcXHMqXFxcXHtcXFxccyptYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKlxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDEyLiBiYXNlRm9udFNpemUsIGJhc2VGb250U2l6ZUltcG9ydGFudCwgYmFzZUxpbmVIZWlnaHQsIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LCBiYXNlRm9udEZhbWlseSwgYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQsIHJvb3RPdGhlclN0eWxlLFxuICAgICAgICBcIig/Oig/Omh0bWx8OnJvb3QpXFxcXHMqXFxcXHtcXFxccyooPzpmb250LXNpemU6XFxcXHMqKGNhbGNcXFxcKFteKCldK1xcXFwpfFteXFxcXHMhO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyg/OmxpbmUtaGVpZ2h0OlxcXFxzKihbXlxcXFxzITt7fV0rKVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT8oPzpmb250LWZhbWlseTpcXFxccyooW14hO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyhbXnt9XSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gYm9keSB7Zm9udC1zaXplOiBpbmhlcml0ICFpbXBvcnRhbnQ7fSBldGMuXG4gICAgICAgIFwiKD86Ym9keVxcXFxzKlxcXFx7XFxcXHMqKD86Wy1cXFxcd10rOlxcXFxzKmluaGVyaXRcXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKikrXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTkuIHdpZG93c09ycGhhbnMsIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86XFxcXCpcXFxccypcXFxce1xcXFxzKndpZG93czpcXFxccyooMXw5OTkpXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccypvcnBoYW5zOlxcXFxzKlxcXFwxOVxcXFxzKlxcXFwyMCg/Ojt8KD89W1xcXFxze31dKSlcXFxccypcXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyMS4gaW1hZ2VNYXhTaXplVG9GaXRQYWdlLCBpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQsIGltYWdlS2VlcEFzcGVjdFJhdGlvLCBpbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCxcbiAgICAgICAgXCIoPzppbWcsXFxcXHMqc3ZnXFxcXHMqXFxcXHtcXFxccyoobWF4LWlubGluZS1zaXplOlxcXFxzKjEwMCVcXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKm1heC1ibG9jay1zaXplOlxcXFxzKjEwMHZiXFxcXHMqXFxcXDIyKD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KG9iamVjdC1maXQ6XFxcXHMqY29udGFpblxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyNS4gYWZ0ZXJPdGhlclN0eWxlXG4gICAgICAgIFwiKCg/OlxcXFxufC4pKikkXCIsXG4gICAgKTtcblxuICAgIGlmIChwYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuY29weUZyb20ocGFnZVN0eWxlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHB4IEZvbnQgc2l6ZSBpbiBweCB1bml0XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY2VudCBXaGVuIF9OXyAoZS5nLiAxKSBpcyBzcGVjaWZpZWQsIGdldCBcInBlciBfTl9cIiB2YWx1ZSBpbnN0ZWFkIG9mIHBlcmNlbnRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBwcmVjaXNpb24gV2hlbiBzcGVjaWZpZWQsIGNvbnZlcnRzIHJlc3VsdCBudW1iZXIgdG8gc3RyaW5nIHdpdGggbWF4IF9wcmVjaXNpb25fIGRpZ2l0c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gY29udmVydGVkIHBlcmNlbnQgKG9yIHBlciBfTl8pIHZhbHVlLiBSZXR1cm5zIHN0cmluZyB3aGVuIG9wdF9wcmVjaXNpb24gaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgZm9udFNpemVQeFRvUGVyY2VudChcbiAgICBweDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBwZXJjZW50OiBudW1iZXIgfCBzdHJpbmcgPVxuICAgICAgKHB4IC8gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplKSAqIChjZW50IHx8IDEwMCk7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcGVyY2VudCA9IHBlcmNlbnRcbiAgICAgICAgLnRvUHJlY2lzaW9uKHByZWNpc2lvbilcbiAgICAgICAgLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgRm9udCBzaXplIGluIHBlcmNlbnQgKG9yIHBlciBfTl8pIHVuaXRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjZW50IFdoZW4gX05fIChlLmcuIDEpIGlzIHNwZWNpZmllZCwgY29udmVydHMgZnJvbWcgXCJwZXIgX05fXCIgdmFsdWUgaW5zdGVhZCBvZiBwZXJjZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gcHJlY2lzaW9uIFdoZW4gc3BlY2lmaWVkLCBjb252ZXJ0cyByZXN1bHQgbnVtYmVyIHRvIHN0cmluZyB3aXRoIG1heCBfcHJlY2lzaW9uXyBkaWdpdHNcbiAgICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IGNvbnZlcnRlZCBmb250IHNpemUgaW4gcHggdW5pdC4gUmV0dXJucyBzdHJpbmcgd2hlbiBvcHRfcHJlY2lzaW9uIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGZvbnRTaXplUGVyY2VudFRvUHgoXG4gICAgcGVyY2VudDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBweDogbnVtYmVyIHwgc3RyaW5nID1cbiAgICAgIChwZXJjZW50IC8gKGNlbnQgfHwgMTAwKSkgKiBDT05TVEFOVFMudmlld2VyRm9udFNpemU7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcHggPSBweC50b1ByZWNpc2lvbihwcmVjaXNpb24pLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHB4O1xuICB9XG5cbiAgZnJvbUNTU1RleHQoY3NzVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgciA9IHRoaXMucGFnZVN0eWxlUmVnRXhwLmV4ZWMoY3NzVGV4dCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgLFxuICAgICAgICBiZWZvcmVPdGhlclN0eWxlLFxuICAgICAgICBzaXplV18sXG4gICAgICAgIHNpemVIXyxcbiAgICAgICAgc2l6ZUltcG9ydGFudCxcbiAgICAgICAgcGFnZU1hcmdpbixcbiAgICAgICAgcGFnZU1hcmdpbkltcG9ydGFudCxcbiAgICAgICAgcGFnZU90aGVyU3R5bGVfLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50LFxuICAgICAgICBmaXJzdFBhZ2VPdGhlclN0eWxlXyxcbiAgICAgICAgZm9yY2VIdG1sQm9keU1hcmdpblplcm8sXG4gICAgICAgIGJhc2VGb250U2l6ZV8sXG4gICAgICAgIGJhc2VGb250U2l6ZUltcG9ydGFudCxcbiAgICAgICAgYmFzZUxpbmVIZWlnaHQsXG4gICAgICAgIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LFxuICAgICAgICBiYXNlRm9udEZhbWlseV8sXG4gICAgICAgIGJhc2VGb250RmFtaWx5SW1wb3J0YW50LFxuICAgICAgICByb290T3RoZXJTdHlsZV8sXG4gICAgICAgIHdpZG93c09ycGhhbnMsXG4gICAgICAgIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIGltYWdlTWF4U2l6ZVRvRml0UGFnZSxcbiAgICAgICAgaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50LFxuICAgICAgICBpbWFnZUtlZXBBc3BlY3RSYXRpbyxcbiAgICAgICAgaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQsXG4gICAgICAgIGFmdGVyT3RoZXJTdHlsZV8sXG4gICAgICBdID0gcjtcbiAgICAgIGxldCBhZnRlck90aGVyU3R5bGUgPSBhZnRlck90aGVyU3R5bGVfO1xuICAgICAgbGV0IGJhc2VGb250RmFtaWx5ID0gYmFzZUZvbnRGYW1pbHlfO1xuICAgICAgbGV0IGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZV87XG4gICAgICBsZXQgZmlyc3RQYWdlT3RoZXJTdHlsZSA9IGZpcnN0UGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHJvb3RPdGhlclN0eWxlID0gcm9vdE90aGVyU3R5bGVfO1xuICAgICAgbGV0IHNpemVXID0gc2l6ZVdfO1xuICAgICAgbGV0IHNpemVIID0gc2l6ZUhfO1xuXG4gICAgICBsZXQgY291bnRJbXBvcnRhbnQgPSAwO1xuICAgICAgbGV0IGNvdW50Tm90SW1wb3J0YW50ID0gMDtcblxuICAgICAgdGhpcy5iZWZvcmVPdGhlclN0eWxlKGJlZm9yZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoc2l6ZVcgPT0gXCJsYW5kc2NhcGVcIiB8fCBzaXplVyA9PSBcInBvcnRyYWl0XCIpIHtcbiAgICAgICAgdGhpcy5pc0xhbmRzY2FwZShzaXplVyA9PSBcImxhbmRzY2FwZVwiKTtcbiAgICAgICAgc2l6ZVcgPSBzaXplSDtcbiAgICAgICAgc2l6ZUggPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzaXplSCA9PSBcImxhbmRzY2FwZVwiIHx8IHNpemVIID09IFwicG9ydHJhaXRcIikge1xuICAgICAgICB0aGlzLmlzTGFuZHNjYXBlKHNpemVIID09IFwibGFuZHNjYXBlXCIpO1xuICAgICAgICBzaXplSCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZVcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoc2l6ZUggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzaXplVyA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5BdXRvKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0U2l6ZSA9IFBSRVNFVF9TSVpFLmZpbmQoXG4gICAgICAgICAgICAgIChwcmVzZXRTaXplKSA9PlxuICAgICAgICAgICAgICAgIHByZXNldFNpemUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNpemVXLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHByZXNldFNpemUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5QcmVzZXQpO1xuICAgICAgICAgICAgICB0aGlzLnByZXNldFNpemUocHJlc2V0U2l6ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplTW9kZShNb2RlLkN1c3RvbSk7XG4gICAgICAgICAgICAgIHRoaXMuY3VzdG9tV2lkdGgoc2l6ZVcpO1xuICAgICAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGFnZVNpemVNb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbVdpZHRoKHNpemVXKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplSCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlU2l6ZUltcG9ydGFudCghIXNpemVJbXBvcnRhbnQpO1xuICAgICAgICBpZiAoc2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlTWFyZ2luICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYWdlTWFyZ2luTW9kZShwYWdlTWFyZ2luID09IFwiMFwiID8gTW9kZS5aZXJvIDogTW9kZS5DdXN0b20pO1xuICAgICAgICBpZiAocGFnZU1hcmdpbiA9PSBcIjBcIikge1xuICAgICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5aZXJvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbU1hcmdpbihwYWdlTWFyZ2luKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoISFwYWdlTWFyZ2luSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKHBhZ2VNYXJnaW5JbXBvcnRhbnQpIGNvdW50SW1wb3J0YW50Kys7XG4gICAgICAgIGVsc2UgY291bnROb3RJbXBvcnRhbnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGUgfHwgXCJcIjtcbiAgICAgIHRoaXMucGFnZU90aGVyU3R5bGUocGFnZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCghIWZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQpO1xuICAgICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGZpcnN0UGFnZU90aGVyU3R5bGUgPSBmaXJzdFBhZ2VPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoZmlyc3RQYWdlT3RoZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmb3JjZUh0bWxCb2R5TWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybyhmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiYXNlRm9udFNpemUgIT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIG1heSBiZSBjYWxjKCkgZS5nLiBcImNhbGMoMS4yNSAqIDEycHQpXCIgd2hlbiB2aWV3ZXIgZm9udCBzaXplIGlzIDEyNSUuXG4gICAgICAgIGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZS5yZXBsYWNlKFxuICAgICAgICAgIC9eXFxzKmNhbGNcXChbLlxcZF0rXFxzKlxcKlxccyooWy5cXGRdK1xcdyspXFwpXFxzKiQvLFxuICAgICAgICAgIFwiJDFcIixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplKGJhc2VGb250U2l6ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCEhYmFzZUZvbnRTaXplSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGJhc2VGb250U2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VMaW5lSGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodChiYXNlTGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoISFiYXNlTGluZUhlaWdodEltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlTGluZUhlaWdodEltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUZvbnRGYW1pbHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlRm9udEZhbWlseSA9IGJhc2VGb250RmFtaWx5LnRyaW0oKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseShiYXNlRm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoISFiYXNlRm9udEZhbWlseUltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlRm9udEZhbWlseUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICByb290T3RoZXJTdHlsZSA9IHJvb3RPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKHJvb3RPdGhlclN0eWxlKTtcblxuICAgICAgaWYgKHdpZG93c09ycGhhbnMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndpZG93c09ycGhhbnMod2lkb3dzT3JwaGFucyk7XG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCghIXdpZG93c09ycGhhbnNJbXBvcnRhbnQpO1xuICAgICAgICBpZiAod2lkb3dzT3JwaGFuc0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zKE1vZGUuRGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbWFnZU1heFNpemVUb0ZpdFBhZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UodHJ1ZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KCEhaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1hZ2VLZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyh0cnVlKTtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCghIWltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KSBjb3VudEltcG9ydGFudCsrO1xuICAgICAgICBlbHNlIGNvdW50Tm90SW1wb3J0YW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgYWZ0ZXJPdGhlclN0eWxlID1cbiAgICAgICAgYWZ0ZXJPdGhlclN0eWxlLnJlcGxhY2UoL1xcL1xcKjxcXC8/dmlld2VyPlxcKlxcL1xcbj8vZywgXCJcIikgfHwgXCJcIjtcbiAgICAgIHRoaXMuYWZ0ZXJPdGhlclN0eWxlKGFmdGVyT3RoZXJTdHlsZSk7XG5cbiAgICAgIHRoaXMuYWxsSW1wb3J0YW50KGNvdW50SW1wb3J0YW50ID4gMCAmJiBjb3VudE5vdEltcG9ydGFudCA9PSAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBub3QgbWF0Y2hcbiAgICAgIGNvbnN0IGFmdGVyT3RoZXJTdHlsZSA9XG4gICAgICAgIGNzc1RleHQucmVwbGFjZSgvXFwvXFwqPFxcLz92aWV3ZXI+XFwqXFwvXFxuPy9nLCBcIlwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5hZnRlck90aGVyU3R5bGUoYWZ0ZXJPdGhlclN0eWxlKTtcbiAgICB9XG4gIH1cblxuICB0b0NTU1RleHQoKTogc3RyaW5nIHtcbiAgICBmdW5jdGlvbiBpbXAoaW1wb3J0YW50KTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBpbXBvcnRhbnQgPyBcIiAhaW1wb3J0YW50XCIgOiBcIlwiO1xuICAgIH1cblxuICAgIGxldCBjc3NUZXh0ID0gdGhpcy5iZWZvcmVPdGhlclN0eWxlKCk7XG4gICAgY3NzVGV4dCArPSBcIi8qPHZpZXdlcj4qL1xcblwiO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJAcGFnZSB7IFwiO1xuICAgICAgaWYgKHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJzaXplOiBcIjtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMucGFnZVNpemVNb2RlKCkpIHtcbiAgICAgICAgICBjYXNlIE1vZGUuQXV0bzpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gXCJhdXRvXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIE1vZGUuUHJlc2V0OlxuICAgICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnByZXNldFNpemUoKS5uYW1lO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMYW5kc2NhcGUoKSkge1xuICAgICAgICAgICAgICBjc3NUZXh0ICs9IFwiIGxhbmRzY2FwZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21XaWR0aCgpfSAke3RoaXMuY3VzdG9tSGVpZ2h0KCl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFnZVNpemVNb2RlICR7dGhpcy5wYWdlU2l6ZU1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkpfTsgYDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJtYXJnaW46IFwiO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wYWdlTWFyZ2luTW9kZSgpKSB7XG4gICAgICAgICAgY2FzZSBNb2RlLkF1dG86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiYXV0b1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLlplcm86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21NYXJnaW4oKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYWdlTWFyZ2luTW9kZSAke3RoaXMucGFnZU1hcmdpbk1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnBhZ2VPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8oKSB8fCB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIkBwYWdlIDpmaXJzdCB7IFwiO1xuICAgICAgaWYgKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG1hcmdpbjogMCR7aW1wKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCgpKX07IGA7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IHRoaXMuZmlyc3RQYWdlT3RoZXJTdHlsZSgpO1xuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKSB7XG4gICAgICBjc3NUZXh0ICs9IFwiOnJvb3QsIGJvZHkgeyBtYXJnaW46IDAgIWltcG9ydGFudDsgfVxcblwiO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgfHxcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSB8fFxuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpIHx8XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCI6cm9vdCB7IFwiO1xuICAgICAgY29uc3QgYmFzZUZvbnRTaXplID0gdGhpcy5iYXNlRm9udFNpemUoKTtcbiAgICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnZpZXdlckZvbnRTaXplICYmXG4gICAgICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9IENPTlNUQU5UUy52aWV3ZXJGb250U2l6ZSAmJlxuICAgICAgICAgICFiYXNlRm9udFNpemUuZW5kc1dpdGgoXCIlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHBlck9uZSA9IHRoaXMuZm9udFNpemVQeFRvUGVyY2VudChcbiAgICAgICAgICAgIE51bWJlcih0aGlzLnZpZXdlckZvbnRTaXplKCkpLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6IGNhbGMoJHtwZXJPbmV9ICogJHtiYXNlRm9udFNpemV9KSR7aW1wKFxuICAgICAgICAgICAgdGhpcy5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSxcbiAgICAgICAgICApfTsgYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6ICR7dGhpcy5iYXNlRm9udFNpemUoKX0ke2ltcChcbiAgICAgICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCksXG4gICAgICAgICAgKX07IGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpIHtcbiAgICAgICAgY3NzVGV4dCArPSBgbGluZS1oZWlnaHQ6ICR7dGhpcy5iYXNlTGluZUhlaWdodCgpfSR7aW1wKFxuICAgICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYGZvbnQtZmFtaWx5OiAke3RoaXMuYmFzZUZvbnRGYW1pbHkoKX0ke2ltcChcbiAgICAgICAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnJvb3RPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB8fFxuICAgICAgKHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpIHx8XG4gICAgICAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSlcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJib2R5IHsgXCI7XG4gICAgICBpZiAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJmb250LXNpemU6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwibGluZS1oZWlnaHQ6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwiZm9udC1mYW1pbHk6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpZG93c09ycGhhbnMoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIiogeyBcIjtcbiAgICAgIGNzc1RleHQgKz0gYHdpZG93czogJHt0aGlzLndpZG93c09ycGhhbnMoKX0ke2ltcChcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCksXG4gICAgICApfTsgYDtcbiAgICAgIGNzc1RleHQgKz0gYG9ycGhhbnM6ICR7dGhpcy53aWRvd3NPcnBoYW5zKCl9JHtpbXAoXG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCgpLFxuICAgICAgKX07IGA7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpIHx8IHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSkge1xuICAgICAgY3NzVGV4dCArPSBcImltZywgc3ZnIHsgXCI7XG4gICAgICBpZiAodGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IGBtYXgtaW5saW5lLXNpemU6IDEwMCUke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpLFxuICAgICAgICApfTsgYDtcbiAgICAgICAgY3NzVGV4dCArPSBgbWF4LWJsb2NrLXNpemU6IDEwMHZiJHtpbXAoXG4gICAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG9iamVjdC1maXQ6IGNvbnRhaW4ke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBjc3NUZXh0ICs9IFwiLyo8L3ZpZXdlcj4qL1xcblwiO1xuICAgIGNzc1RleHQgKz0gdGhpcy5hZnRlck90aGVyU3R5bGUoKTtcblxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9XG5cbiAgY29weUZyb20ob3RoZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2VTaXplTW9kZShvdGhlci5wYWdlU2l6ZU1vZGUoKSk7XG4gICAgdGhpcy5wcmVzZXRTaXplKG90aGVyLnByZXNldFNpemUoKSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZShvdGhlci5pc0xhbmRzY2FwZSgpKTtcbiAgICB0aGlzLmN1c3RvbVdpZHRoKG90aGVyLmN1c3RvbVdpZHRoKCkpO1xuICAgIHRoaXMuY3VzdG9tSGVpZ2h0KG90aGVyLmN1c3RvbUhlaWdodCgpKTtcbiAgICB0aGlzLnBhZ2VTaXplSW1wb3J0YW50KG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbk1vZGUob3RoZXIucGFnZU1hcmdpbk1vZGUoKSk7XG4gICAgdGhpcy5jdXN0b21NYXJnaW4ob3RoZXIuY3VzdG9tTWFyZ2luKCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChvdGhlci5wYWdlTWFyZ2luSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybyhvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvKCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudChvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZm9yY2VIdG1sQm9keU1hcmdpblplcm8ob3RoZXIuZm9yY2VIdG1sQm9keU1hcmdpblplcm8oKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zKG90aGVyLndpZG93c09ycGhhbnMoKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2Uob3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlKCkpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KG90aGVyLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpKTtcbiAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKG90aGVyLmltYWdlS2VlcEFzcGVjdFJhdGlvKCkpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQob3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemUob3RoZXIuYmFzZUZvbnRTaXplKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodChvdGhlci5iYXNlTGluZUhlaWdodCgpKTtcbiAgICB0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKG90aGVyLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQob3RoZXIuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udEZhbWlseShvdGhlci5iYXNlRm9udEZhbWlseSgpKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKG90aGVyLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQob3RoZXIuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQob3RoZXIuYWxsSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU90aGVyU3R5bGUob3RoZXIucGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5maXJzdFBhZ2VPdGhlclN0eWxlKG90aGVyLmZpcnN0UGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5yb290T3RoZXJTdHlsZShvdGhlci5yb290T3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmJlZm9yZU90aGVyU3R5bGUob3RoZXIuYmVmb3JlT3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmFmdGVyT3RoZXJTdHlsZShvdGhlci5hZnRlck90aGVyU3R5bGUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXJGb250U2l6ZSAmJiBvdGhlci52aWV3ZXJGb250U2l6ZSkge1xuICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZShvdGhlci52aWV3ZXJGb250U2l6ZSgpKTtcbiAgICB9XG4gIH1cblxuICBlcXVpdmFsZW50VG8ob3RoZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYWdlU2l6ZU1vZGUoKSAhPT0gb3RoZXIucGFnZVNpemVNb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5wcmVzZXRTaXplKCkgIT09IG90aGVyLnByZXNldFNpemUoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5pc0xhbmRzY2FwZSgpICE9PSBvdGhlci5pc0xhbmRzY2FwZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbVdpZHRoKCkgIT09IG90aGVyLmN1c3RvbVdpZHRoKClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoKSA9PT0gTW9kZS5DdXN0b20gJiZcbiAgICAgIHRoaXMuY3VzdG9tSGVpZ2h0KCkgIT09IG90aGVyLmN1c3RvbUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT09IG90aGVyLnBhZ2VNYXJnaW5Nb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbU1hcmdpbigpICE9PSBvdGhlci5jdXN0b21NYXJnaW4oKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5wYWdlTWFyZ2luSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKCkgIT09IG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKSAhPT1cbiAgICAgIG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpICE9PSBvdGhlci5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMud2lkb3dzT3JwaGFucygpICE9PSBvdGhlci53aWRvd3NPcnBoYW5zKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCkgIT09IG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpICE9PSBvdGhlci5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpICE9PVxuICAgICAgb3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSAhPT0gb3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCkgIT09XG4gICAgICBvdGhlci5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJlxuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkgIT09IG90aGVyLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHkoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHkoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYWxsSW1wb3J0YW50KCkgIT09IG90aGVyLmFsbEltcG9ydGFudCgpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMucGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIucGFnZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIuZmlyc3RQYWdlT3RoZXJTdHlsZSgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnJvb3RPdGhlclN0eWxlKCkgIT09IG90aGVyLnJvb3RPdGhlclN0eWxlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iZWZvcmVPdGhlclN0eWxlKCkgIT09IG90aGVyLmJlZm9yZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmFmdGVyT3RoZXJTdHlsZSgpICE9PSBvdGhlci5hZnRlck90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMudmlld2VyRm9udFNpemUgIT09ICFvdGhlci52aWV3ZXJGb250U2l6ZSB8fFxuICAgICAgKHRoaXMudmlld2VyRm9udFNpemUgJiYgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9PSBvdGhlci52aWV3ZXJGb250U2l6ZSgpKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VTdHlsZTtcbiIsIi8qIVxuICogS25vY2tvdXQgSmF2YVNjcmlwdCBsaWJyYXJ5IHYzLjUuMVxuICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG4oZnVuY3Rpb24oKSB7KGZ1bmN0aW9uKG4pe3ZhciBBPXRoaXN8fCgwLGV2YWwpKFwidGhpc1wiKSx3PUEuZG9jdW1lbnQsUj1BLm5hdmlnYXRvcix2PUEualF1ZXJ5LEg9QS5KU09OO3Z8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgalF1ZXJ5fHwodj1qUXVlcnkpOyhmdW5jdGlvbihuKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJyZXF1aXJlXCJdLG4pOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGU/bihtb2R1bGUuZXhwb3J0c3x8ZXhwb3J0cyk6bihBLmtvPXt9KX0pKGZ1bmN0aW9uKFMsVCl7ZnVuY3Rpb24gSyhhLGMpe3JldHVybiBudWxsPT09YXx8dHlwZW9mIGEgaW4gVz9hPT09YzohMX1mdW5jdGlvbiBYKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZHx8KGQ9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW47YigpfSxjKSl9fWZ1bmN0aW9uIFkoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCk7XG5kPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLnBjKGEpOnRoaXMuZ2IoYSxjKTp0aGlzLnFjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnFkLGU9ZFtyXTtlLnJhfHwodGhpcy5RYiYmdGhpcy5tYltjXT8oZC51YyhjLGEsdGhpcy5tYltjXSksdGhpcy5tYltjXT1udWxsLC0tdGhpcy5RYik6ZS5JW2NdfHxkLnVjKGMsYSxlLko/e2RhOmF9OmQuJGMoYSkpLGEuSmEmJmEuZ2QoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLkw9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjFcIjthLmIoXCJ2ZXJzaW9uXCIsXG5hLnZlcnNpb24pO2Eub3B0aW9ucz17ZGVmZXJVcGRhdGVzOiExLHVzZU9ubHlOYXRpdmVFdmVudHM6ITEsZm9yZWFjaEhpZGVzRGVzdHJveWVkOiExfTthLmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjIGluIGEpZi5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBjKGEsYil7aWYoYilmb3IodmFyIGMgaW4gYilmLmNhbGwoYixjKSYmKGFbY109YltjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgbD1iW2NdLm1hdGNoKHEpfHxbXTthLmEuRChkLm1hdGNoKHEpLGZ1bmN0aW9uKGIpe2EuYS5OYShsLGIsZSl9KTtiW2NdPWwuam9pbihcIiBcIil9dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnPXtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSxoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wsbT17fSxrPXt9O21bUiYmL0ZpcmVmb3hcXC8yL2kudGVzdChSLnVzZXJBZ2VudCk/XG5cIktleWJvYXJkRXZlbnRcIjpcIlVJRXZlbnRzXCJdPVtcImtleXVwXCIsXCJrZXlkb3duXCIsXCJrZXlwcmVzc1wiXTttLk1vdXNlRXZlbnRzPVwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmVcIi5zcGxpdChcIiBcIik7YihtLGZ1bmN0aW9uKGEsYil7aWYoYi5sZW5ndGgpZm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWtbYltjXV09YX0pO3ZhciBsPXtwcm9wZXJ0eWNoYW5nZTohMH0scD13JiZmdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7Yi5pbm5lckhUTUw9XCJcXHgzYyEtLVtpZiBndCBJRSBcIisgKythK1wiXT48aT48L2k+PCFbZW5kaWZdLS1cXHgzZVwiLGNbMF07KTtyZXR1cm4gNDxhP2E6bn0oKSxxPS9cXFMrL2csdDtyZXR1cm57SmM6W1wiYXV0aGVudGljaXR5X3Rva2VuXCIsL15fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbihfLiopPyQvXSxcbkQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIG59LFBhOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx3YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuRChiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWQucHVzaChiLmNhbGwoYyxhW2VdLGUpKTtyZXR1cm4gZH0samI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWIuY2FsbChjLGFbZV0sZSkmJmQucHVzaChhW2VdKTtyZXR1cm4gZH0sTmI6ZnVuY3Rpb24oYSxiKXtpZihiIGluc3RhbmNlb2YgQXJyYXkpYS5wdXNoLmFwcGx5KGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS5wdXNoKGJbY10pO3JldHVybiBhfSxOYTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkEoYS5hLmJjKGIpLGMpOzA+ZT9kJiZiLnB1c2goYyk6ZHx8Yi5zcGxpY2UoZSwxKX0sQmE6ZyxleHRlbmQ6YyxzZXRQcm90b3R5cGVPZjpkLEFiOmc/ZDpjLFA6YixHYTpmdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9e30sZTtmb3IoZSBpbiBhKWYuY2FsbChhLGUpJiYoZFtlXT1cbmIuY2FsbChjLGFbZV0sZSxhKSk7cmV0dXJuIGR9LFRiOmZ1bmN0aW9uKGIpe2Zvcig7Yi5maXJzdENoaWxkOylhLnJlbW92ZU5vZGUoYi5maXJzdENoaWxkKX0sWWI6ZnVuY3Rpb24oYil7Yj1hLmEubGEoYik7Zm9yKHZhciBjPShiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHcpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyljLmFwcGVuZENoaWxkKGEub2EoYltkXSkpO3JldHVybiBjfSxDYTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGgsbD1bXTtkPGU7ZCsrKXt2YXIgaz1iW2RdLmNsb25lTm9kZSghMCk7bC5wdXNoKGM/YS5vYShrKTprKX1yZXR1cm4gbH0sdmE6ZnVuY3Rpb24oYixjKXthLmEuVGIoYik7aWYoYylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBlbmRDaGlsZChjW2RdKX0sWGM6ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm5vZGVUeXBlP1tiXTpiO2lmKDA8ZC5sZW5ndGgpe2Zvcih2YXIgZT1kWzBdLFxubD1lLnBhcmVudE5vZGUsaz0wLGY9Yy5sZW5ndGg7azxmO2srKylsLmluc2VydEJlZm9yZShjW2tdLGUpO2s9MDtmb3IoZj1kLmxlbmd0aDtrPGY7aysrKWEucmVtb3ZlTm9kZShkW2tdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFpjOmZ1bmN0aW9uKGEsYil7Nz5wP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LERiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PW4/XCJcIjphLnRyaW0/XG5hLnRyaW0oKTphLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxVZDpmdW5jdGlvbihhLGIpe2E9YXx8XCJcIjtyZXR1cm4gYi5sZW5ndGg+YS5sZW5ndGg/ITE6YS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifSx2ZDpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKDExPT09YS5ub2RlVHlwZSlyZXR1cm4hMTtpZihiLmNvbnRhaW5zKXJldHVybiBiLmNvbnRhaW5zKDEhPT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiAxNj09KGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpO2Zvcig7YSYmYSE9YjspYT1hLnBhcmVudE5vZGU7cmV0dXJuISFhfSxTYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5hLnZkKGIsYi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9LGtkOmZ1bmN0aW9uKGIpe3JldHVybiEhYS5hLkxiKGIsYS5hLlNiKX0sUjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmXG5hLnRhZ05hbWUmJmEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSxBYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5vbkVycm9yP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChjKXt0aHJvdyBhLm9uRXJyb3ImJmEub25FcnJvcihjKSxjO319OmJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2V0VGltZW91dChhLmEuQWMoYiksYyl9LEdjOmZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uRXJyb3ImJmEub25FcnJvcihiKTt0aHJvdyBiO30sMCl9LEI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5BYyhkKTtkPWxbY107aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fGR8fCF2KWlmKGR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIuYWRkRXZlbnRMaXN0ZW5lcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5hdHRhY2hFdmVudCl7dmFyIGs9ZnVuY3Rpb24oYSl7ZS5jYWxsKGIsYSl9LGY9XCJvblwiK2M7Yi5hdHRhY2hFdmVudChmLFxuayk7YS5hLksuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQoZixrKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSB0fHwodD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVt0XShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlIoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiBiLmRpc3BhdGNoRXZlbnQpZD13LmNyZWF0ZUV2ZW50KGtbY118fFwiSFRNTEV2ZW50c1wiKSxkLmluaXRFdmVudChjLCEwLCEwLEEsMCwwLDAsMCwwLCExLCExLCExLCExLDAsYiksYi5kaXNwYXRjaEV2ZW50KGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGUgc3VwcGxpZWQgZWxlbWVudCBkb2Vzbid0IHN1cHBvcnQgZGlzcGF0Y2hFdmVudFwiKTtlbHNlIGlmKGQmJmIuY2xpY2spYi5jbGljaygpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZmlyZUV2ZW50KWIuZmlyZUV2ZW50KFwib25cIitjKTtlbHNlIHRocm93IEVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdHJpZ2dlcmluZyBldmVudHNcIik7ZWxzZSB2KGIpLnRyaWdnZXIoYyl9LGY6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iKCk6Yn0sYmM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iLnYoKTpifSxFYjpmdW5jdGlvbihiLGMsZCl7dmFyIGw7YyYmKFwib2JqZWN0XCI9PT10eXBlb2YgYi5jbGFzc0xpc3Q/XG4obD1iLmNsYXNzTGlzdFtkP1wiYWRkXCI6XCJyZW1vdmVcIl0sYS5hLkQoYy5tYXRjaChxKSxmdW5jdGlvbihhKXtsLmNhbGwoYi5jbGFzc0xpc3QsYSl9KSk6XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNsYXNzTmFtZS5iYXNlVmFsP2UoYi5jbGFzc05hbWUsXCJiYXNlVmFsXCIsYyxkKTplKGIsXCJjbGFzc05hbWVcIixjLGQpKX0sQmI6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO3ZhciBlPWEuaC5maXJzdENoaWxkKGIpOyFlfHwzIT1lLm5vZGVUeXBlfHxhLmgubmV4dFNpYmxpbmcoZSk/YS5oLnZhKGIsW2Iub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKV0pOmUuZGF0YT1kO2EuYS5BZChiKX0sWWM6ZnVuY3Rpb24oYSxiKXthLm5hbWU9YjtpZig3Pj1wKXRyeXt2YXIgYz1hLm5hbWUucmVwbGFjZSgvWyY8PidcIl0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifSk7YS5tZXJnZUF0dHJpYnV0ZXMody5jcmVhdGVFbGVtZW50KFwiPGlucHV0IG5hbWU9J1wiK1xuYytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0sQWQ6ZnVuY3Rpb24oYSl7OTw9cCYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx3ZDpmdW5jdGlvbihhKXtpZihwKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxQZDpmdW5jdGlvbihiLGMpe2I9YS5hLmYoYik7Yz1hLmEuZihjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWmQ6Nj09PXAsJGQ6Nz09PXAsVzpwLExjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5lPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PT1jfTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KGEubmFtZSl9LGw9W10saz1kLmxlbmd0aC0xOzA8PWs7ay0tKWUoZFtrXSkmJmwucHVzaChkW2tdKTtyZXR1cm4gbH0sTmQ6ZnVuY3Rpb24oYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEuYS5EYihiKSk/SCYmSC5wYXJzZT9ILnBhcnNlKGIpOihuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYikpKCk6bnVsbH0saGM6ZnVuY3Rpb24oYixjLGQpe2lmKCFIfHwhSC5zdHJpbmdpZnkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBKU09OLnN0cmluZ2lmeSgpLiBTb21lIGJyb3dzZXJzIChlLmcuLCBJRSA8IDgpIGRvbid0IHN1cHBvcnQgaXQgbmF0aXZlbHksIGJ1dCB5b3UgY2FuIG92ZXJjb21lIHRoaXMgYnkgYWRkaW5nIGEgc2NyaXB0IHJlZmVyZW5jZSB0byBqc29uMi5qcywgZG93bmxvYWRhYmxlIGZyb20gaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1wiKTtcbnJldHVybiBILnN0cmluZ2lmeShhLmEuZihiKSxjLGQpfSxPZDpmdW5jdGlvbihjLGQsZSl7ZT1lfHx7fTt2YXIgbD1lLnBhcmFtc3x8e30saz1lLmluY2x1ZGVGaWVsZHN8fHRoaXMuSmMsZj1jO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZcImZvcm1cIj09PWEuYS5SKGMpKWZvcih2YXIgZj1jLmFjdGlvbixoPWsubGVuZ3RoLTE7MDw9aDtoLS0pZm9yKHZhciBnPWEuYS5MYyhjLGtbaF0pLG09Zy5sZW5ndGgtMTswPD1tO20tLSlsW2dbbV0ubmFtZV09Z1ttXS52YWx1ZTtkPWEuYS5mKGQpO3ZhciBwPXcuY3JlYXRlRWxlbWVudChcImZvcm1cIik7cC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3AuYWN0aW9uPWY7cC5tZXRob2Q9XCJwb3N0XCI7Zm9yKHZhciBxIGluIGQpYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxjLnR5cGU9XCJoaWRkZW5cIixjLm5hbWU9cSxjLnZhbHVlPWEuYS5oYyhhLmEuZihkW3FdKSkscC5hcHBlbmRDaGlsZChjKTtiKGwsZnVuY3Rpb24oYSxiKXt2YXIgYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtwLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKHApO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKHApOnAuc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkQpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmpiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLndjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5OYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLlBhKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuYS5hLkRhKTthLmIoXCJ1dGlscy5leHRlbmRcIixhLmEuZXh0ZW5kKTthLmIoXCJ1dGlscy5maWVsZHNJbmNsdWRlZFdpdGhKc29uUG9zdFwiLGEuYS5KYyk7YS5iKFwidXRpbHMuZ2V0Rm9ybUZpZWxkc1wiLGEuYS5MYyk7YS5iKFwidXRpbHMub2JqZWN0TWFwXCIsYS5hLkdhKTthLmIoXCJ1dGlscy5wZWVrT2JzZXJ2YWJsZVwiLGEuYS5iYyk7YS5iKFwidXRpbHMucG9zdEpzb25cIixhLmEuT2QpO2EuYihcInV0aWxzLnBhcnNlSnNvblwiLGEuYS5OZCk7YS5iKFwidXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXJcIixhLmEuQik7YS5iKFwidXRpbHMuc3RyaW5naWZ5SnNvblwiLGEuYS5oYyk7YS5iKFwidXRpbHMucmFuZ2VcIixhLmEuUGQpO2EuYihcInV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzc1wiLGEuYS5FYik7YS5iKFwidXRpbHMudHJpZ2dlckV2ZW50XCIsYS5hLkZiKTthLmIoXCJ1dGlscy51bndyYXBPYnNlcnZhYmxlXCIsYS5hLmYpO2EuYihcInV0aWxzLm9iamVjdEZvckVhY2hcIixhLmEuUCk7YS5iKFwidXRpbHMuYWRkT3JSZW1vdmVJdGVtXCIsXG5hLmEuTmEpO2EuYihcInV0aWxzLnNldFRleHRDb250ZW50XCIsYS5hLkJiKTthLmIoXCJ1bndyYXBcIixhLmEuZik7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX07dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gYy5hcHBseShhLGUpfX0pO2EuYS5nPW5ldyBmdW5jdGlvbigpe3ZhciBiPTAsYz1cIl9fa29fX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9e30sZSxmO2EuYS5XPyhlPWZ1bmN0aW9uKGEsZSl7dmFyIGY9YVtjXTtpZighZnx8XCJudWxsXCI9PT1mfHwhZFtmXSl7aWYoIWUpcmV0dXJuIG47Zj1hW2NdPVwia29cIitiKys7ZFtmXT1cbnt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PW4pKSYmKGFbYl09Yyl9LFViOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuSz1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5kPT09biYmYyYmKGQ9W10sYS5hLmcuc2V0KGIsZSxkKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYyhjKXt2YXIgZT1iKGMsITEpO2lmKGUpZm9yKHZhciBlPWUuc2xpY2UoMCksaz0wO2s8ZS5sZW5ndGg7aysrKWVba10oYyk7YS5hLmcuY2xlYXIoYyk7YS5hLksuY2xlYW5FeHRlcm5hbERhdGEoYyk7Z1tjLm5vZGVUeXBlXSYmZChjLmNoaWxkTm9kZXMsITApfWZ1bmN0aW9uIGQoYixkKXtmb3IodmFyIGU9W10sbCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWR8fDg9PT1iW2ZdLm5vZGVUeXBlKWlmKGMoZVtlLmxlbmd0aF09bD1iW2ZdKSxiW2ZdIT09bClmb3IoO2YtLSYmLTE9PWEuYS5BKGUsYltmXSk7KTt9dmFyIGU9YS5hLmcuWigpLGY9ezE6ITAsODohMCw5OiEwfSxnPXsxOiEwLDk6ITB9O3JldHVybnt6YTpmdW5jdGlvbihhLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YihhLCEwKS5wdXNoKGMpfSx5YjpmdW5jdGlvbihjLFxuZCl7dmFyIGY9YihjLCExKTtmJiYoYS5hLlBhKGYsZCksMD09Zi5sZW5ndGgmJmEuYS5nLnNldChjLGUsbikpfSxvYTpmdW5jdGlvbihiKXthLnUuRyhmdW5jdGlvbigpe2ZbYi5ub2RlVHlwZV0mJihjKGIpLGdbYi5ub2RlVHlwZV0mJmQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikpKX0pO3JldHVybiBifSxyZW1vdmVOb2RlOmZ1bmN0aW9uKGIpe2Eub2EoYik7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9LGNsZWFuRXh0ZXJuYWxEYXRhOmZ1bmN0aW9uKGEpe3YmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYuY2xlYW5EYXRhJiZ2LmNsZWFuRGF0YShbYV0pfX19O2Eub2E9YS5hLksub2E7YS5yZW1vdmVOb2RlPWEuYS5LLnJlbW92ZU5vZGU7YS5iKFwiY2xlYW5Ob2RlXCIsYS5vYSk7YS5iKFwicmVtb3ZlTm9kZVwiLGEucmVtb3ZlTm9kZSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsXCIsYS5hLkspO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2tcIixcbmEuYS5LLnphKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWwucmVtb3ZlRGlzcG9zZUNhbGxiYWNrXCIsYS5hLksueWIpOyhmdW5jdGlvbigpe3ZhciBiPVswLFwiXCIsXCJcIl0sYz1bMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGQ9WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxlPVsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGY9e3RoZWFkOmMsdGJvZHk6Yyx0Zm9vdDpjLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6ZCx0aDpkLG9wdGlvbjplLG9wdGdyb3VwOmV9LGc9OD49YS5hLlc7YS5hLnVhPWZ1bmN0aW9uKGMsZCl7dmFyIGU7aWYodilpZih2LnBhcnNlSFRNTCllPXYucGFyc2VIVE1MKGMsZCl8fFtdO2Vsc2V7aWYoKGU9di5jbGVhbihbY10sZCkpJiZlWzBdKXtmb3IodmFyIGw9ZVswXTtsLnBhcmVudE5vZGUmJjExIT09bC5wYXJlbnROb2RlLm5vZGVUeXBlOylsPWwucGFyZW50Tm9kZTtcbmwucGFyZW50Tm9kZSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpfX1lbHNleyhlPWQpfHwoZT13KTt2YXIgbD1lLnBhcmVudFdpbmRvd3x8ZS5kZWZhdWx0Vmlld3x8QSxwPWEuYS5EYihjKS50b0xvd2VyQ2FzZSgpLHE9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ7dD0ocD1wLm1hdGNoKC9eKD86XFx4M2MhLS0uKj8tLVxceDNlXFxzKj8pKj88KFthLXpdKylbXFxzPl0vKSkmJmZbcFsxXV18fGI7cD10WzBdO3Q9XCJpZ25vcmVkPGRpdj5cIit0WzFdK2MrdFsyXStcIjwvZGl2PlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGwuaW5uZXJTaGl2P3EuYXBwZW5kQ2hpbGQobC5pbm5lclNoaXYodCkpOihnJiZlLmJvZHkuYXBwZW5kQ2hpbGQocSkscS5pbm5lckhUTUw9dCxnJiZxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocSkpO2Zvcig7cC0tOylxPXEubGFzdENoaWxkO2U9YS5hLmxhKHEubGFzdENoaWxkLmNoaWxkTm9kZXMpfXJldHVybiBlfTthLmEuTWQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEudWEoYixcbmMpO3JldHVybiBkLmxlbmd0aCYmZFswXS5wYXJlbnRFbGVtZW50fHxhLmEuWWIoZCl9O2EuYS5mYz1mdW5jdGlvbihiLGMpe2EuYS5UYihiKTtjPWEuYS5mKGMpO2lmKG51bGwhPT1jJiZjIT09bilpZihcInN0cmluZ1wiIT10eXBlb2YgYyYmKGM9Yy50b1N0cmluZygpKSx2KXYoYikuaHRtbChjKTtlbHNlIGZvcih2YXIgZD1hLmEudWEoYyxiLm93bmVyRG9jdW1lbnQpLGU9MDtlPGQubGVuZ3RoO2UrKyliLmFwcGVuZENoaWxkKGRbZV0pfX0pKCk7YS5iKFwidXRpbHMucGFyc2VIdG1sRnJhZ21lbnRcIixhLmEudWEpO2EuYihcInV0aWxzLnNldEh0bWxcIixhLmEuZmMpO2EuYWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZSl7aWYoYylpZig4PT1jLm5vZGVUeXBlKXt2YXIgZj1hLmFhLlVjKGMubm9kZVZhbHVlKTtudWxsIT1mJiZlLnB1c2goe3VkOmMsS2Q6Zn0pfWVsc2UgaWYoMT09Yy5ub2RlVHlwZSlmb3IodmFyIGY9MCxnPWMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2Y8aDtmKyspYihnW2ZdLFxuZSl9dmFyIGM9e307cmV0dXJue1hiOmZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgRXJyb3IoXCJZb3UgY2FuIG9ubHkgcGFzcyBhIGZ1bmN0aW9uIHRvIGtvLm1lbW9pemF0aW9uLm1lbW9pemUoKVwiKTt2YXIgYj0oNDI5NDk2NzI5NiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpKyg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7Y1tiXT1hO3JldHVyblwiXFx4M2MhLS1ba29fbWVtbzpcIitiK1wiXS0tXFx4M2VcIn0sYmQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj1jW2FdO2lmKGY9PT1uKXRocm93IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhbnkgbWVtbyB3aXRoIElEIFwiK2ErXCIuIFBlcmhhcHMgaXQncyBhbHJlYWR5IGJlZW4gdW5tZW1vaXplZC5cIik7dHJ5e3JldHVybiBmLmFwcGx5KG51bGwsYnx8W10pLCEwfWZpbmFsbHl7ZGVsZXRlIGNbYV19fSxjZDpmdW5jdGlvbihjLGUpe3ZhciBmPVxuW107YihjLGYpO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIG09ZltnXS51ZCxrPVttXTtlJiZhLmEuTmIoayxlKTthLmFhLmJkKGZbZ10uS2Qsayk7bS5ub2RlVmFsdWU9XCJcIjttLnBhcmVudE5vZGUmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKX19LFVjOmZ1bmN0aW9uKGEpe3JldHVybihhPWEubWF0Y2goL15cXFtrb19tZW1vXFw6KC4qPylcXF0kLykpP2FbMV06bnVsbH19fSgpO2EuYihcIm1lbW9pemF0aW9uXCIsYS5hYSk7YS5iKFwibWVtb2l6YXRpb24ubWVtb2l6ZVwiLGEuYWEuWGIpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZVwiLGEuYWEuYmQpO2EuYihcIm1lbW9pemF0aW9uLnBhcnNlTWVtb1RleHRcIixhLmFhLlVjKTthLmIoXCJtZW1vaXphdGlvbi51bm1lbW9pemVEb21Ob2RlQW5kRGVzY2VuZGFudHNcIixhLmFhLmNkKTthLm5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGYpZm9yKHZhciBiPWYsYz0wLGQ7aDxmOylpZihkPWVbaCsrXSl7aWYoaD5iKXtpZig1RTM8PVxuKytjKXtoPWY7YS5hLkdjKEVycm9yKFwiJ1RvbyBtdWNoIHJlY3Vyc2lvbicgYWZ0ZXIgcHJvY2Vzc2luZyBcIitjK1wiIHRhc2sgZ3JvdXBzLlwiKSk7YnJlYWt9Yj1mfXRyeXtkKCl9Y2F0Y2gocCl7YS5hLkdjKHApfX19ZnVuY3Rpb24gYygpe2IoKTtoPWY9ZS5sZW5ndGg9MH12YXIgZCxlPVtdLGY9MCxnPTEsaD0wO0EuTXV0YXRpb25PYnNlcnZlcj9kPWZ1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoYSkpLm9ic2VydmUoYix7YXR0cmlidXRlczohMH0pO3JldHVybiBmdW5jdGlvbigpe2IuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKX19KGMpOmQ9dyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj13LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3cuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpO1xuYj1udWxsO2EoKX07dy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX07cmV0dXJue3NjaGVkdWxlcjpkLHpiOmZ1bmN0aW9uKGIpe2Z8fGEubmEuc2NoZWR1bGVyKGMpO2VbZisrXT1iO3JldHVybiBnKyt9LGNhbmNlbDpmdW5jdGlvbihhKXthPWEtKGctZik7YT49aCYmYTxmJiYoZVthXT1udWxsKX0scmVzZXRGb3JUZXN0aW5nOmZ1bmN0aW9uKCl7dmFyIGE9Zi1oO2g9Zj1lLmxlbmd0aD0wO3JldHVybiBhfSxTZDpifX0oKTthLmIoXCJ0YXNrc1wiLGEubmEpO2EuYihcInRhc2tzLnNjaGVkdWxlXCIsYS5uYS56Yik7YS5iKFwidGFza3MucnVuRWFybHlcIixhLm5hLlNkKTthLlRhPXt0aHJvdHRsZTpmdW5jdGlvbihiLGMpe2IudGhyb3R0bGVFdmFsdWF0aW9uPWM7dmFyIGQ9bnVsbDtyZXR1cm4gYS4kKHtyZWFkOmIsd3JpdGU6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGQpO2Q9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUpfSxcbmMpfX0pfSxyYXRlTGltaXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY7XCJudW1iZXJcIj09dHlwZW9mIGM/ZD1jOihkPWMudGltZW91dCxlPWMubWV0aG9kKTthLkhiPSExO2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOlwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCI9PWU/WTpYO2EudWIoZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSxkLGMpfSl9LGRlZmVycmVkOmZ1bmN0aW9uKGIsYyl7aWYoITAhPT1jKXRocm93IEVycm9yKFwiVGhlICdkZWZlcnJlZCcgZXh0ZW5kZXIgb25seSBhY2NlcHRzIHRoZSB2YWx1ZSAndHJ1ZScsIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCB0byB0dXJuIGRlZmVycmFsIG9mZiBvbmNlIGVuYWJsZWQuXCIpO2IuSGJ8fChiLkhiPSEwLGIudWIoZnVuY3Rpb24oYyl7dmFyIGUsZj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighZil7YS5uYS5jYW5jZWwoZSk7ZT1hLm5hLnpiKGMpO3RyeXtmPSEwLGIubm90aWZ5U3Vic2NyaWJlcnMobixcImRpcnR5XCIpfWZpbmFsbHl7Zj1cbiExfX19fSkpfSxub3RpZnk6ZnVuY3Rpb24oYSxjKXthLmVxdWFsaXR5Q29tcGFyZXI9XCJhbHdheXNcIj09Yz9udWxsOkt9fTt2YXIgVz17dW5kZWZpbmVkOjEsXCJib29sZWFuXCI6MSxudW1iZXI6MSxzdHJpbmc6MX07YS5iKFwiZXh0ZW5kZXJzXCIsYS5UYSk7YS5pYz1mdW5jdGlvbihiLGMsZCl7dGhpcy5kYT1iO3RoaXMubGM9Yzt0aGlzLm1jPWQ7dGhpcy5JYj0hMTt0aGlzLmZiPXRoaXMuSmI9bnVsbDthLkwodGhpcyxcImRpc3Bvc2VcIix0aGlzLnMpO2EuTCh0aGlzLFwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkXCIsdGhpcy5sKX07YS5pYy5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuSWJ8fCh0aGlzLmZiJiZhLmEuSy55Yih0aGlzLkpiLHRoaXMuZmIpLHRoaXMuSWI9ITAsdGhpcy5tYygpLHRoaXMuZGE9dGhpcy5sYz10aGlzLm1jPXRoaXMuSmI9dGhpcy5mYj1udWxsKX07YS5pYy5wcm90b3R5cGUubD1mdW5jdGlvbihiKXt0aGlzLkpiPWI7YS5hLksuemEoYix0aGlzLmZiPXRoaXMucy5iaW5kKHRoaXMpKX07XG5hLlQ9ZnVuY3Rpb24oKXthLmEuQWIodGhpcyxEKTtELnFiKHRoaXMpfTt2YXIgRD17cWI6ZnVuY3Rpb24oYSl7YS5VPXtjaGFuZ2U6W119O2Euc2M9MX0sc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2Q9ZHx8XCJjaGFuZ2VcIjt2YXIgZj1uZXcgYS5pYyhlLGM/Yi5iaW5kKGMpOmIsZnVuY3Rpb24oKXthLmEuUGEoZS5VW2RdLGYpO2UuaGImJmUuaGIoZCl9KTtlLlFhJiZlLlFhKGQpO2UuVVtkXXx8KGUuVVtkXT1bXSk7ZS5VW2RdLnB1c2goZik7cmV0dXJuIGZ9LG5vdGlmeVN1YnNjcmliZXJzOmZ1bmN0aW9uKGIsYyl7Yz1jfHxcImNoYW5nZVwiO1wiY2hhbmdlXCI9PT1jJiZ0aGlzLkdiKCk7aWYodGhpcy5XYShjKSl7dmFyIGQ9XCJjaGFuZ2VcIj09PWMmJnRoaXMuZWR8fHRoaXMuVVtjXS5zbGljZSgwKTt0cnl7YS51LnhjKCk7Zm9yKHZhciBlPTAsZjtmPWRbZV07KytlKWYuSWJ8fGYubGMoYil9ZmluYWxseXthLnUuZW5kKCl9fX0sb2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY30sXG5EZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vYigpIT09YX0sR2I6ZnVuY3Rpb24oKXsrK3RoaXMuc2N9LHViOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1hLk8oYyksZSxmLGcsaCxtO2MuZ2J8fChjLmdiPWMubm90aWZ5U3Vic2NyaWJlcnMsYy5ub3RpZnlTdWJzY3JpYmVycz1aKTt2YXIgaz1iKGZ1bmN0aW9uKCl7Yy5KYT0hMTtkJiZoPT09YyYmKGg9Yy5uYz9jLm5jKCk6YygpKTt2YXIgYT1mfHxtJiZjLnNiKGcsaCk7bT1mPWU9ITE7YSYmYy5nYihnPWgpfSk7Yy5xYz1mdW5jdGlvbihhLGIpe2ImJmMuSmF8fChtPSFiKTtjLmVkPWMuVS5jaGFuZ2Uuc2xpY2UoMCk7Yy5KYT1lPSEwO2g9YTtrKCl9O2MucGM9ZnVuY3Rpb24oYSl7ZXx8KGc9YSxjLmdiKGEsXCJiZWZvcmVDaGFuZ2VcIikpfTtjLnJjPWZ1bmN0aW9uKCl7bT0hMH07Yy5nZD1mdW5jdGlvbigpe2Muc2IoZyxjLnYoITApKSYmKGY9ITApfX0sV2E6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVVthXSYmdGhpcy5VW2FdLmxlbmd0aH0sXG5CZDpmdW5jdGlvbihiKXtpZihiKXJldHVybiB0aGlzLlVbYl0mJnRoaXMuVVtiXS5sZW5ndGh8fDA7dmFyIGM9MDthLmEuUCh0aGlzLlUsZnVuY3Rpb24oYSxiKXtcImRpcnR5XCIhPT1hJiYoYys9Yi5sZW5ndGgpfSk7cmV0dXJuIGN9LHNiOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIXRoaXMuZXF1YWxpdHlDb21wYXJlcnx8IXRoaXMuZXF1YWxpdHlDb21wYXJlcihhLGMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCJ9LGV4dGVuZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJmEuYS5QKGIsZnVuY3Rpb24oYixlKXt2YXIgZj1hLlRhW2JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihjPWYoYyxlKXx8Yyl9KTtyZXR1cm4gY319O2EuTChELFwiaW5pdFwiLEQucWIpO2EuTChELFwic3Vic2NyaWJlXCIsRC5zdWJzY3JpYmUpO2EuTChELFwiZXh0ZW5kXCIsRC5leHRlbmQpO2EuTChELFwiZ2V0U3Vic2NyaXB0aW9uc0NvdW50XCIsRC5CZCk7YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRCxcbkZ1bmN0aW9uLnByb3RvdHlwZSk7YS5ULmZuPUQ7YS5RYz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5zdWJzY3JpYmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEubm90aWZ5U3Vic2NyaWJlcnN9O2EuYihcInN1YnNjcmliYWJsZVwiLGEuVCk7YS5iKFwiaXNTdWJzY3JpYmFibGVcIixhLlFjKTthLlM9YS51PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtkLnB1c2goZSk7ZT1hfWZ1bmN0aW9uIGMoKXtlPWQucG9wKCl9dmFyIGQ9W10sZSxmPTA7cmV0dXJue3hjOmIsZW5kOmMsY2M6ZnVuY3Rpb24oYil7aWYoZSl7aWYoIWEuUWMoYikpdGhyb3cgRXJyb3IoXCJPbmx5IHN1YnNjcmliYWJsZSB0aGluZ3MgY2FuIGFjdCBhcyBkZXBlbmRlbmNpZXNcIik7ZS5vZC5jYWxsKGUucGQsYixiLmZkfHwoYi5mZD0rK2YpKX19LEc6ZnVuY3Rpb24oYSxkLGUpe3RyeXtyZXR1cm4gYigpLGEuYXBwbHkoZCxlfHxbXSl9ZmluYWxseXtjKCl9fSxxYTpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUuby5xYSgpfSxcblZhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLlZhKCl9LFlhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5ZYX0sbzpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUub319fSgpO2EuYihcImNvbXB1dGVkQ29udGV4dFwiLGEuUyk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50XCIsYS5TLnFhKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzXCIsYS5TLlZhKTthLmIoXCJjb21wdXRlZENvbnRleHQuaXNJbml0aWFsXCIsYS5TLllhKTthLmIoXCJjb21wdXRlZENvbnRleHQucmVnaXN0ZXJEZXBlbmRlbmN5XCIsYS5TLmNjKTthLmIoXCJpZ25vcmVEZXBlbmRlbmNpZXNcIixhLllkPWEudS5HKTt2YXIgST1hLmEuRGEoXCJfbGF0ZXN0VmFsdWVcIik7YS50YT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXJldHVybiBjLnNiKGNbSV0sYXJndW1lbnRzWzBdKSYmKGMueWEoKSxjW0ldPWFyZ3VtZW50c1swXSxjLnhhKCkpLHRoaXM7XG5hLnUuY2MoYyk7cmV0dXJuIGNbSV19Y1tJXT1iO2EuYS5CYXx8YS5hLmV4dGVuZChjLGEuVC5mbik7YS5ULmZuLnFiKGMpO2EuYS5BYihjLEYpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoYywhMCk7cmV0dXJuIGN9O3ZhciBGPXtlcXVhbGl0eUNvbXBhcmVyOkssdjpmdW5jdGlvbigpe3JldHVybiB0aGlzW0ldfSx4YTpmdW5jdGlvbigpe3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSxcInNwZWN0YXRlXCIpO3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSl9LHlhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwiYmVmb3JlQ2hhbmdlXCIpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRixhLlQuZm4pO3ZhciBHPWEudGEuTWE9XCJfX2tvX3Byb3RvX19cIjtGW0ddPWEudGE7YS5PPWZ1bmN0aW9uKGIpe2lmKChiPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmJbR10pJiZiIT09RltHXSYmYiE9PWEuby5mbltHXSl0aHJvdyBFcnJvcihcIkludmFsaWQgb2JqZWN0IHRoYXQgbG9va3MgbGlrZSBhbiBvYnNlcnZhYmxlOyBwb3NzaWJseSBmcm9tIGFub3RoZXIgS25vY2tvdXQgaW5zdGFuY2VcIik7XG5yZXR1cm4hIWJ9O2EuWmE9ZnVuY3Rpb24oYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGJbR109PT1GW0ddfHxiW0ddPT09YS5vLmZuW0ddJiZiLk5jKX07YS5iKFwib2JzZXJ2YWJsZVwiLGEudGEpO2EuYihcImlzT2JzZXJ2YWJsZVwiLGEuTyk7YS5iKFwiaXNXcml0ZWFibGVPYnNlcnZhYmxlXCIsYS5aYSk7YS5iKFwiaXNXcml0YWJsZU9ic2VydmFibGVcIixhLlphKTthLmIoXCJvYnNlcnZhYmxlLmZuXCIsRik7YS5MKEYsXCJwZWVrXCIsRi52KTthLkwoRixcInZhbHVlSGFzTXV0YXRlZFwiLEYueGEpO2EuTChGLFwidmFsdWVXaWxsTXV0YXRlXCIsRi55YSk7YS5IYT1mdW5jdGlvbihiKXtiPWJ8fFtdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBifHwhKFwibGVuZ3RoXCJpbiBiKSl0aHJvdyBFcnJvcihcIlRoZSBhcmd1bWVudCBwYXNzZWQgd2hlbiBpbml0aWFsaXppbmcgYW4gb2JzZXJ2YWJsZSBhcnJheSBtdXN0IGJlIGFuIGFycmF5LCBvciBudWxsLCBvciB1bmRlZmluZWQuXCIpO2I9YS50YShiKTthLmEuQWIoYixcbmEuSGEuZm4pO3JldHVybiBiLmV4dGVuZCh7dHJhY2tBcnJheUNoYW5nZXM6ITB9KX07YS5IYS5mbj17cmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLnYoKSxkPVtdLGU9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5PKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06YixmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZShnKSl7MD09PWQubGVuZ3RoJiZ0aGlzLnlhKCk7aWYoY1tmXSE9PWcpdGhyb3cgRXJyb3IoXCJBcnJheSBtb2RpZmllZCBkdXJpbmcgcmVtb3ZlOyBjYW5ub3QgcmVtb3ZlIGl0ZW1cIik7ZC5wdXNoKGcpO2Muc3BsaWNlKGYsMSk7Zi0tfX1kLmxlbmd0aCYmdGhpcy54YSgpO3JldHVybiBkfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYil7aWYoYj09PW4pe3ZhciBjPXRoaXMudigpLGQ9Yy5zbGljZSgwKTt0aGlzLnlhKCk7Yy5zcGxpY2UoMCxjLmxlbmd0aCk7dGhpcy54YSgpO3JldHVybiBkfXJldHVybiBiP3RoaXMucmVtb3ZlKGZ1bmN0aW9uKGMpe3JldHVybiAwPD1cbmEuYS5BKGIsYyl9KTpbXX0sZGVzdHJveTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnYoKSxkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTyhiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmI7dGhpcy55YSgpO2Zvcih2YXIgZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZj1jW2VdO2QoZikmJihmLl9kZXN0cm95PSEwKX10aGlzLnhhKCl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1uP3RoaXMuZGVzdHJveShmdW5jdGlvbigpe3JldHVybiEwfSk6Yj90aGlzLmRlc3Ryb3koZnVuY3Rpb24oYyl7cmV0dXJuIDA8PWEuYS5BKGIsYyl9KTpbXX0saW5kZXhPZjpmdW5jdGlvbihiKXt2YXIgYz10aGlzKCk7cmV0dXJuIGEuYS5BKGMsYil9LHJlcGxhY2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmluZGV4T2YoYSk7MDw9ZCYmKHRoaXMueWEoKSx0aGlzLnYoKVtkXT1jLHRoaXMueGEoKSl9LHNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzKCkuc2xpY2UoMCk7XG5yZXR1cm4gYT9jLnNvcnQoYSk6Yy5zb3J0KCl9LHJldmVyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKS5zbGljZSgwKS5yZXZlcnNlKCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihhLkhhLmZuLGEudGEuZm4pO2EuYS5EKFwicG9wIHB1c2ggcmV2ZXJzZSBzaGlmdCBzb3J0IHNwbGljZSB1bnNoaWZ0XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe2EuSGEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnYoKTt0aGlzLnlhKCk7dGhpcy56YyhhLGIsYXJndW1lbnRzKTt2YXIgZD1hW2JdLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLnhhKCk7cmV0dXJuIGQ9PT1hP3RoaXM6ZH19KTthLmEuRChbXCJzbGljZVwiXSxmdW5jdGlvbihiKXthLkhhLmZuW2JdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcygpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KTthLlBjPWZ1bmN0aW9uKGIpe3JldHVybiBhLk8oYikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIucmVtb3ZlJiZcImZ1bmN0aW9uXCI9PVxudHlwZW9mIGIucHVzaH07YS5iKFwib2JzZXJ2YWJsZUFycmF5XCIsYS5IYSk7YS5iKFwiaXNPYnNlcnZhYmxlQXJyYXlcIixhLlBjKTthLlRhLnRyYWNrQXJyYXlDaGFuZ2VzPWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGMoKXtpZihtKXt2YXIgZD1bXS5jb25jYXQoYi52KCl8fFtdKSxlO2lmKGIuV2EoXCJhcnJheUNoYW5nZVwiKSl7aWYoIWZ8fDE8bSlmPWEuYS5QYihrLGQsYi5PYik7ZT1mfWs9ZDtmPW51bGw7bT0wO2UmJmUubGVuZ3RoJiZiLm5vdGlmeVN1YnNjcmliZXJzKGUsXCJhcnJheUNoYW5nZVwiKX19ZT9jKCk6KGU9ITAsaD1iLnN1YnNjcmliZShmdW5jdGlvbigpeysrbX0sbnVsbCxcInNwZWN0YXRlXCIpLGs9W10uY29uY2F0KGIudigpfHxbXSksZj1udWxsLGc9Yi5zdWJzY3JpYmUoYykpfWIuT2I9e307YyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJmEuYS5leHRlbmQoYi5PYixjKTtiLk9iLnNwYXJzZT0hMDtpZighYi56Yyl7dmFyIGU9ITEsZj1udWxsLGcsaCxtPTAsXG5rLGw9Yi5RYSxwPWIuaGI7Yi5RYT1mdW5jdGlvbihhKXtsJiZsLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCI9PT1hJiZkKCl9O2IuaGI9ZnVuY3Rpb24oYSl7cCYmcC5jYWxsKGIsYSk7XCJhcnJheUNoYW5nZVwiIT09YXx8Yi5XYShcImFycmF5Q2hhbmdlXCIpfHwoZyYmZy5zKCksaCYmaC5zKCksaD1nPW51bGwsZT0hMSxrPW4pfTtiLnpjPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4ga1trLmxlbmd0aF09e3N0YXR1czphLHZhbHVlOmIsaW5kZXg6Y319aWYoZSYmIW0pe3ZhciBrPVtdLHA9Yi5sZW5ndGgsZz1kLmxlbmd0aCxoPTA7c3dpdGNoKGMpe2Nhc2UgXCJwdXNoXCI6aD1wO2Nhc2UgXCJ1bnNoaWZ0XCI6Zm9yKGM9MDtjPGc7YysrKWwoXCJhZGRlZFwiLGRbY10saCtjKTticmVhaztjYXNlIFwicG9wXCI6aD1wLTE7Y2FzZSBcInNoaWZ0XCI6cCYmbChcImRlbGV0ZWRcIixiW2hdLGgpO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP3ArZFswXTpcbmRbMF0pLHApO2Zvcih2YXIgcD0xPT09Zz9wOk1hdGgubWluKGMrKGRbMV18fDApLHApLGc9YytnLTIsaD1NYXRoLm1heChwLGcpLFU9W10sTD1bXSxuPTI7YzxoOysrYywrK24pYzxwJiZMLnB1c2gobChcImRlbGV0ZWRcIixiW2NdLGMpKSxjPGcmJlUucHVzaChsKFwiYWRkZWRcIixkW25dLGMpKTthLmEuS2MoTCxVKTticmVhaztkZWZhdWx0OnJldHVybn1mPWt9fX19O3ZhciByPWEuYS5EYShcIl9zdGF0ZVwiKTthLm89YS4kPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZilmLmFwcGx5KGcubmIsYXJndW1lbnRzKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IHdyaXRlIGEgdmFsdWUgdG8gYSBrby5jb21wdXRlZCB1bmxlc3MgeW91IHNwZWNpZnkgYSAnd3JpdGUnIG9wdGlvbi4gSWYgeW91IHdpc2ggdG8gcmVhZCB0aGUgY3VycmVudCB2YWx1ZSwgZG9uJ3QgcGFzcyBhbnkgcGFyYW1ldGVycy5cIik7cmV0dXJuIHRoaXN9Zy5yYXx8XG5hLnUuY2MoZSk7KGcua2F8fGcuSiYmZS5YYSgpKSYmZS5oYSgpO3JldHVybiBnLlh9XCJvYmplY3RcIj09PXR5cGVvZiBiP2Q9YjooZD1kfHx7fSxiJiYoZC5yZWFkPWIpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnJlYWQpdGhyb3cgRXJyb3IoXCJQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga28uY29tcHV0ZWRcIik7dmFyIGY9ZC53cml0ZSxnPXtYOm4sc2E6ITAsa2E6ITAscmI6ITEsamM6ITEscmE6ITEsd2I6ITEsSjohMSxXYzpkLnJlYWQsbmI6Y3x8ZC5vd25lcixsOmQuZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkfHxkLmx8fG51bGwsU2E6ZC5kaXNwb3NlV2hlbnx8ZC5TYSxSYjpudWxsLEk6e30sVjowLEljOm51bGx9O2Vbcl09ZztlLk5jPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmO2EuYS5CYXx8YS5hLmV4dGVuZChlLGEuVC5mbik7YS5ULmZuLnFiKGUpO2EuYS5BYihlLEMpO2QucHVyZT8oZy53Yj0hMCxnLko9ITAsYS5hLmV4dGVuZChlLGRhKSk6XG5kLmRlZmVyRXZhbHVhdGlvbiYmYS5hLmV4dGVuZChlLGVhKTthLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLlRhLmRlZmVycmVkKGUsITApO2cubCYmKGcuamM9ITAsZy5sLm5vZGVUeXBlfHwoZy5sPW51bGwpKTtnLkp8fGQuZGVmZXJFdmFsdWF0aW9ufHxlLmhhKCk7Zy5sJiZlLmphKCkmJmEuYS5LLnphKGcubCxnLlJiPWZ1bmN0aW9uKCl7ZS5zKCl9KTtyZXR1cm4gZX07dmFyIEM9e2VxdWFsaXR5Q29tcGFyZXI6SyxxYTpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdLlZ9LFZhOmZ1bmN0aW9uKCl7dmFyIGI9W107YS5hLlAodGhpc1tyXS5JLGZ1bmN0aW9uKGEsZCl7YltkLkthXT1kLmRhfSk7cmV0dXJuIGJ9LFZiOmZ1bmN0aW9uKGIpe2lmKCF0aGlzW3JdLlYpcmV0dXJuITE7dmFyIGM9dGhpcy5WYSgpO3JldHVybi0xIT09YS5hLkEoYyxiKT8hMDohIWEuYS5MYihjLGZ1bmN0aW9uKGEpe3JldHVybiBhLlZiJiZhLlZiKGIpfSl9LHVjOmZ1bmN0aW9uKGEsYyxkKXtpZih0aGlzW3JdLndiJiZcbmM9PT10aGlzKXRocm93IEVycm9yKFwiQSAncHVyZScgY29tcHV0ZWQgbXVzdCBub3QgYmUgY2FsbGVkIHJlY3Vyc2l2ZWx5XCIpO3RoaXNbcl0uSVthXT1kO2QuS2E9dGhpc1tyXS5WKys7ZC5MYT1jLm9iKCl9LFhhOmZ1bmN0aW9uKCl7dmFyIGEsYyxkPXRoaXNbcl0uSTtmb3IoYSBpbiBkKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGEpJiYoYz1kW2FdLHRoaXMuSWEmJmMuZGEuSmF8fGMuZGEuRGQoYy5MYSkpKXJldHVybiEwfSxKZDpmdW5jdGlvbigpe3RoaXMuSWEmJiF0aGlzW3JdLnJiJiZ0aGlzLklhKCExKX0samE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW3JdO3JldHVybiBhLmthfHwwPGEuVn0sUmQ6ZnVuY3Rpb24oKXt0aGlzLkphP3RoaXNbcl0ua2EmJih0aGlzW3JdLnNhPSEwKTp0aGlzLkhjKCl9LCRjOmZ1bmN0aW9uKGEpe2lmKGEuSGIpe3ZhciBjPWEuc3Vic2NyaWJlKHRoaXMuSmQsdGhpcyxcImRpcnR5XCIpLGQ9YS5zdWJzY3JpYmUodGhpcy5SZCxcbnRoaXMpO3JldHVybntkYTphLHM6ZnVuY3Rpb24oKXtjLnMoKTtkLnMoKX19fXJldHVybiBhLnN1YnNjcmliZSh0aGlzLkhjLHRoaXMpfSxIYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLnRocm90dGxlRXZhbHVhdGlvbjtjJiYwPD1jPyhjbGVhclRpbWVvdXQodGhpc1tyXS5JYyksdGhpc1tyXS5JYz1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGEoITApfSxjKSk6Yi5JYT9iLklhKCEwKTpiLmhhKCEwKX0saGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPWMuU2EsZT0hMTtpZighYy5yYiYmIWMucmEpe2lmKGMubCYmIWEuYS5TYihjLmwpfHxkJiZkKCkpe2lmKCFjLmpjKXt0aGlzLnMoKTtyZXR1cm59fWVsc2UgYy5qYz0hMTtjLnJiPSEwO3RyeXtlPXRoaXMuemQoYil9ZmluYWxseXtjLnJiPSExfXJldHVybiBlfX0semQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPSExLGU9Yy53Yj9uOiFjLlYsZD17cWQ6dGhpcyxtYjpjLkksUWI6Yy5WfTthLnUueGMoe3BkOmQsXG5vZDpiYSxvOnRoaXMsWWE6ZX0pO2MuST17fTtjLlY9MDt2YXIgZj10aGlzLnlkKGMsZCk7Yy5WP2Q9dGhpcy5zYihjLlgsZik6KHRoaXMucygpLGQ9ITApO2QmJihjLko/dGhpcy5HYigpOnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwiYmVmb3JlQ2hhbmdlXCIpLGMuWD1mLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwic3BlY3RhdGVcIiksIWMuSiYmYiYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgpLHRoaXMucmMmJnRoaXMucmMoKSk7ZSYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJhd2FrZVwiKTtyZXR1cm4gZH0seWQ6ZnVuY3Rpb24oYixjKXt0cnl7dmFyIGQ9Yi5XYztyZXR1cm4gYi5uYj9kLmNhbGwoYi5uYik6ZCgpfWZpbmFsbHl7YS51LmVuZCgpLGMuUWImJiFiLkomJmEuYS5QKGMubWIsYWEpLGIuc2E9Yi5rYT0hMX19LHY6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpc1tyXTsoYy5rYSYmKGF8fCFjLlYpfHxjLkomJnRoaXMuWGEoKSkmJnRoaXMuaGEoKTtyZXR1cm4gYy5YfSxcbnViOmZ1bmN0aW9uKGIpe2EuVC5mbi51Yi5jYWxsKHRoaXMsYik7dGhpcy5uYz1mdW5jdGlvbigpe3RoaXNbcl0uSnx8KHRoaXNbcl0uc2E/dGhpcy5oYSgpOnRoaXNbcl0ua2E9ITEpO3JldHVybiB0aGlzW3JdLlh9O3RoaXMuSWE9ZnVuY3Rpb24oYSl7dGhpcy5wYyh0aGlzW3JdLlgpO3RoaXNbcl0ua2E9ITA7YSYmKHRoaXNbcl0uc2E9ITApO3RoaXMucWModGhpcywhYSl9fSxzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTshYi5KJiZiLkkmJmEuYS5QKGIuSSxmdW5jdGlvbihhLGIpe2IucyYmYi5zKCl9KTtiLmwmJmIuUmImJmEuYS5LLnliKGIubCxiLlJiKTtiLkk9bjtiLlY9MDtiLnJhPSEwO2Iuc2E9ITE7Yi5rYT0hMTtiLko9ITE7Yi5sPW47Yi5TYT1uO2IuV2M9bjt0aGlzLk5jfHwoYi5uYj1uKX19LGRhPXtRYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Y1tyXTtpZighZC5yYSYmZC5KJiZcImNoYW5nZVwiPT1iKXtkLko9ITE7aWYoZC5zYXx8Yy5YYSgpKWQuST1udWxsLGQuVj1cbjAsYy5oYSgpJiZjLkdiKCk7ZWxzZXt2YXIgZT1bXTthLmEuUChkLkksZnVuY3Rpb24oYSxiKXtlW2IuS2FdPWF9KTthLmEuRChlLGZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5JW2FdLG09Yy4kYyhlLmRhKTttLkthPWI7bS5MYT1lLkxhO2QuSVthXT1tfSk7Yy5YYSgpJiZjLmhhKCkmJmMuR2IoKX1kLnJhfHxjLm5vdGlmeVN1YnNjcmliZXJzKGQuWCxcImF3YWtlXCIpfX0saGI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXTtjLnJhfHxcImNoYW5nZVwiIT1ifHx0aGlzLldhKFwiY2hhbmdlXCIpfHwoYS5hLlAoYy5JLGZ1bmN0aW9uKGEsYil7Yi5zJiYoYy5JW2FdPXtkYTpiLmRhLEthOmIuS2EsTGE6Yi5MYX0sYi5zKCkpfSksYy5KPSEwLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMobixcImFzbGVlcFwiKSl9LG9iOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTtiLkomJihiLnNhfHx0aGlzLlhhKCkpJiZ0aGlzLmhhKCk7cmV0dXJuIGEuVC5mbi5vYi5jYWxsKHRoaXMpfX0sZWE9e1FhOmZ1bmN0aW9uKGEpe1wiY2hhbmdlXCIhPVxuYSYmXCJiZWZvcmVDaGFuZ2VcIiE9YXx8dGhpcy52KCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihDLGEuVC5mbik7dmFyIE49YS50YS5NYTtDW05dPWEubzthLk9jPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmFbTl09PT1DW05dfTthLkZkPWZ1bmN0aW9uKGIpe3JldHVybiBhLk9jKGIpJiZiW3JdJiZiW3JdLndifTthLmIoXCJjb21wdXRlZFwiLGEubyk7YS5iKFwiZGVwZW5kZW50T2JzZXJ2YWJsZVwiLGEubyk7YS5iKFwiaXNDb21wdXRlZFwiLGEuT2MpO2EuYihcImlzUHVyZUNvbXB1dGVkXCIsYS5GZCk7YS5iKFwiY29tcHV0ZWQuZm5cIixDKTthLkwoQyxcInBlZWtcIixDLnYpO2EuTChDLFwiZGlzcG9zZVwiLEMucyk7YS5MKEMsXCJpc0FjdGl2ZVwiLEMuamEpO2EuTChDLFwiZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixDLnFhKTthLkwoQyxcImdldERlcGVuZGVuY2llc1wiLEMuVmEpO2EueGI9ZnVuY3Rpb24oYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYS5vKGIsXG5jLHtwdXJlOiEwfSk7Yj1hLmEuZXh0ZW5kKHt9LGIpO2IucHVyZT0hMDtyZXR1cm4gYS5vKGIsYyl9O2EuYihcInB1cmVDb21wdXRlZFwiLGEueGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxmLGcpe2c9Z3x8bmV3IGQ7YT1mKGEpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhfHxudWxsPT09YXx8YT09PW58fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbilyZXR1cm4gYTt2YXIgaD1hIGluc3RhbmNlb2YgQXJyYXk/W106e307Zy5zYXZlKGEsaCk7YyhhLGZ1bmN0aW9uKGMpe3ZhciBkPWYoYVtjXSk7c3dpdGNoKHR5cGVvZiBkKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcImZ1bmN0aW9uXCI6aFtjXT1kO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjpjYXNlIFwidW5kZWZpbmVkXCI6dmFyIGw9Zy5nZXQoZCk7aFtjXT1sIT09XG5uP2w6YihkLGYsZyl9fSk7cmV0dXJuIGh9ZnVuY3Rpb24gYyhhLGIpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihjKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmYihcInRvSlNPTlwiKX1lbHNlIGZvcihjIGluIGEpYihjKX1mdW5jdGlvbiBkKCl7dGhpcy5rZXlzPVtdO3RoaXMudmFsdWVzPVtdfWEuYWQ9ZnVuY3Rpb24oYyl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBFcnJvcihcIldoZW4gY2FsbGluZyBrby50b0pTLCBwYXNzIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gY29udmVydC5cIik7cmV0dXJuIGIoYyxmdW5jdGlvbihiKXtmb3IodmFyIGM9MDthLk8oYikmJjEwPmM7YysrKWI9YigpO3JldHVybiBifSl9O2EudG9KU09OPWZ1bmN0aW9uKGIsYyxkKXtiPWEuYWQoYik7cmV0dXJuIGEuYS5oYyhiLGMsZCl9O2QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLHNhdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuQSh0aGlzLmtleXMsXG5iKTswPD1kP3RoaXMudmFsdWVzW2RdPWM6KHRoaXMua2V5cy5wdXNoKGIpLHRoaXMudmFsdWVzLnB1c2goYykpfSxnZXQ6ZnVuY3Rpb24oYil7Yj1hLmEuQSh0aGlzLmtleXMsYik7cmV0dXJuIDA8PWI/dGhpcy52YWx1ZXNbYl06bn19fSkoKTthLmIoXCJ0b0pTXCIsYS5hZCk7YS5iKFwidG9KU09OXCIsYS50b0pTT04pO2EuV2Q9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYyl7dmFyIGU9YS54YihiLGQpLmV4dGVuZCh7bWE6XCJhbHdheXNcIn0pLGg9ZS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7YSYmKGgucygpLGMoYSkpfSk7ZS5ub3RpZnlTdWJzY3JpYmVycyhlLnYoKSk7cmV0dXJuIGh9cmV0dXJuXCJmdW5jdGlvblwiIT09dHlwZW9mIFByb21pc2V8fGM/ZShjLmJpbmQoZCkpOm5ldyBQcm9taXNlKGUpfTthLmIoXCJ3aGVuXCIsYS5XZCk7KGZ1bmN0aW9uKCl7YS53PXtNOmZ1bmN0aW9uKGIpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcIm9wdGlvblwiOnJldHVybiEwPT09Yi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9cbmEuYS5nLmdldChiLGEuYy5vcHRpb25zLiRiKTo3Pj1hLmEuVz9iLmdldEF0dHJpYnV0ZU5vZGUoXCJ2YWx1ZVwiKSYmYi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0OmIudmFsdWU7Y2FzZSBcInNlbGVjdFwiOnJldHVybiAwPD1iLnNlbGVjdGVkSW5kZXg/YS53Lk0oYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0pOm47ZGVmYXVsdDpyZXR1cm4gYi52YWx1ZX19LGNiOmZ1bmN0aW9uKGIsYyxkKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJvcHRpb25cIjpcInN0cmluZ1wiPT09dHlwZW9mIGM/KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLG4pLFwiX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX19cImluIGImJmRlbGV0ZSBiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fLGIudmFsdWU9Yyk6KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLGMpLGIuX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX189ITAsYi52YWx1ZT1cIm51bWJlclwiPT09XG50eXBlb2YgYz9jOlwiXCIpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjppZihcIlwiPT09Y3x8bnVsbD09PWMpYz1uO2Zvcih2YXIgZT0tMSxmPTAsZz1iLm9wdGlvbnMubGVuZ3RoLGg7ZjxnOysrZilpZihoPWEudy5NKGIub3B0aW9uc1tmXSksaD09Y3x8XCJcIj09PWgmJmM9PT1uKXtlPWY7YnJlYWt9aWYoZHx8MDw9ZXx8Yz09PW4mJjE8Yi5zaXplKWIuc2VsZWN0ZWRJbmRleD1lLDY9PT1hLmEuVyYmYS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNlbGVjdGVkSW5kZXg9ZX0sMCk7YnJlYWs7ZGVmYXVsdDppZihudWxsPT09Y3x8Yz09PW4pYz1cIlwiO2IudmFsdWU9Y319fX0pKCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9uc1wiLGEudyk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy5yZWFkVmFsdWVcIixhLncuTSk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlXCIsYS53LmNiKTthLm09ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe2I9YS5hLkRiKGIpOzEyMz09PWIuY2hhckNvZGVBdCgwKSYmKGI9Yi5zbGljZSgxLFxuLTEpKTtiKz1cIlxcbixcIjt2YXIgYz1bXSxkPWIubWF0Y2goZSkscCxxPVtdLGg9MDtpZigxPGQubGVuZ3RoKXtmb3IodmFyIHg9MCxCO0I9ZFt4XTsrK3gpe3ZhciB1PUIuY2hhckNvZGVBdCgwKTtpZig0ND09PXUpe2lmKDA+PWgpe2MucHVzaChwJiZxLmxlbmd0aD97a2V5OnAsdmFsdWU6cS5qb2luKFwiXCIpfTp7dW5rbm93bjpwfHxxLmpvaW4oXCJcIil9KTtwPWg9MDtxPVtdO2NvbnRpbnVlfX1lbHNlIGlmKDU4PT09dSl7aWYoIWgmJiFwJiYxPT09cS5sZW5ndGgpe3A9cS5wb3AoKTtjb250aW51ZX19ZWxzZSBpZig0Nz09PXUmJjE8Qi5sZW5ndGgmJig0Nz09PUIuY2hhckNvZGVBdCgxKXx8NDI9PT1CLmNoYXJDb2RlQXQoMSkpKWNvbnRpbnVlO2Vsc2UgNDc9PT11JiZ4JiYxPEIubGVuZ3RoPyh1PWRbeC0xXS5tYXRjaChmKSkmJiFnW3VbMF1dJiYoYj1iLnN1YnN0cihiLmluZGV4T2YoQikrMSksZD1iLm1hdGNoKGUpLHg9LTEsQj1cIi9cIik6NDA9PT11fHwxMjM9PT11fHw5MT09PXU/KytoOlxuNDE9PT11fHwxMjU9PT11fHw5Mz09PXU/LS1oOnB8fHEubGVuZ3RofHwzNCE9PXUmJjM5IT09dXx8KEI9Qi5zbGljZSgxLC0xKSk7cS5wdXNoKEIpfWlmKDA8aCl0aHJvdyBFcnJvcihcIlVuYmFsYW5jZWQgcGFyZW50aGVzZXMsIGJyYWNlcywgb3IgYnJhY2tldHNcIik7fXJldHVybiBjfXZhciBjPVtcInRydWVcIixcImZhbHNlXCIsXCJudWxsXCIsXCJ1bmRlZmluZWRcIl0sZD0vXig/OlskX2Etel1bJFxcd10qfCguKykoXFwuXFxzKlskX2Etel1bJFxcd10qfFxcWy4rXFxdKSkkL2ksZT1SZWdFeHAoXCJcXFwiKD86XFxcXFxcXFwufFteXFxcIl0pKlxcXCJ8Jyg/OlxcXFxcXFxcLnxbXiddKSonfGAoPzpcXFxcXFxcXC58W15gXSkqYHwvXFxcXCooPzpbXipdfFxcXFwqK1teKi9dKSpcXFxcKisvfC8vLipcXG58Lyg/OlxcXFxcXFxcLnxbXi9dKSsvdyp8W15cXFxcczosL11bXixcXFwiJ2B7fSgpLzpbXFxcXF1dKlteXFxcXHMsXFxcIidge30oKS86W1xcXFxdXXxbXlxcXFxzXVwiLFwiZ1wiKSxmPS9bXFxdKVwiJ0EtWmEtejAtOV8kXSskLyxnPXtcImluXCI6MSxcInJldHVyblwiOjEsXCJ0eXBlb2ZcIjoxfSxcbmg9e307cmV0dXJue1JhOltdLHdhOmgsYWM6Yix2YjpmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGwoYixlKXt2YXIgZjtpZigheCl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihiKTtpZihrJiZrLnByZXByb2Nlc3MmJiEoZT1rLnByZXByb2Nlc3MoZSxiLGwpKSlyZXR1cm47aWYoaz1oW2JdKWY9ZSwwPD1hLmEuQShjLGYpP2Y9ITE6KGs9Zi5tYXRjaChkKSxmPW51bGw9PT1rPyExOmtbMV0/XCJPYmplY3QoXCIra1sxXStcIilcIitrWzJdOmYpLGs9ZjtrJiZxLnB1c2goXCInXCIrKFwic3RyaW5nXCI9PXR5cGVvZiBoW2JdP2hbYl06YikrXCInOmZ1bmN0aW9uKF96KXtcIitmK1wiPV96fVwiKX1nJiYoZT1cImZ1bmN0aW9uKCl7cmV0dXJuIFwiK2UrXCIgfVwiKTtwLnB1c2goXCInXCIrYitcIic6XCIrZSl9Zj1mfHx7fTt2YXIgcD1bXSxxPVtdLGc9Zi52YWx1ZUFjY2Vzc29ycyx4PWYuYmluZGluZ1BhcmFtcyxCPVwic3RyaW5nXCI9PT10eXBlb2YgZT9iKGUpOmU7YS5hLkQoQixmdW5jdGlvbihhKXtsKGEua2V5fHxhLnVua25vd24sXG5hLnZhbHVlKX0pO3EubGVuZ3RoJiZsKFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIixcIntcIitxLmpvaW4oXCIsXCIpK1wiIH1cIik7cmV0dXJuIHAuam9pbihcIixcIil9LElkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXS5rZXk9PWIpcmV0dXJuITA7cmV0dXJuITF9LGViOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYiYmYS5PKGIpKSFhLlphKGIpfHxmJiZiLnYoKT09PWV8fGIoZSk7ZWxzZSBpZigoYj1jLmdldChcIl9rb19wcm9wZXJ0eV93cml0ZXJzXCIpKSYmYltkXSliW2RdKGUpfX19KCk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZ1wiLGEubSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5iaW5kaW5nUmV3cml0ZVZhbGlkYXRvcnNcIixhLm0uUmEpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucGFyc2VPYmplY3RMaXRlcmFsXCIsYS5tLmFjKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLnByZVByb2Nlc3NCaW5kaW5nc1wiLGEubS52Yik7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5fdHdvV2F5QmluZGluZ3NcIixcbmEubS53YSk7YS5iKFwianNvbkV4cHJlc3Npb25SZXdyaXRpbmdcIixhLm0pO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nLmluc2VydFByb3BlcnR5QWNjZXNzb3JzSW50b0pzb25cIixhLm0udmIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmcudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gOD09YS5ub2RlVHlwZSYmaC50ZXN0KGY/YS50ZXh0OmEubm9kZVZhbHVlKX1mdW5jdGlvbiBkKGQsZSl7Zm9yKHZhciBmPWQsaD0xLGc9W107Zj1mLm5leHRTaWJsaW5nOyl7aWYoYyhmKSYmKGEuYS5nLnNldChmLGssITApLGgtLSwwPT09aCkpcmV0dXJuIGc7Zy5wdXNoKGYpO2IoZikmJmgrK31pZighZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGNsb3NpbmcgY29tbWVudCB0YWcgdG8gbWF0Y2g6IFwiK2Qubm9kZVZhbHVlKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEsYil7dmFyIGM9ZChhLGIpO3JldHVybiBjP1xuMDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdLm5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmc6bnVsbH12YXIgZj13JiZcIlxceDNjIS0tdGVzdC0tXFx4M2VcIj09PXcuY3JlYXRlQ29tbWVudChcInRlc3RcIikudGV4dCxnPWY/L15cXHgzYyEtLVxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKi0tXFx4M2UkLzovXlxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKiQvLGg9Zj8vXlxceDNjIS0tXFxzKlxcL2tvXFxzKi0tXFx4M2UkLzovXlxccypcXC9rb1xccyokLyxtPXt1bDohMCxvbDohMH0saz1cIl9fa29fbWF0Y2hlZEVuZENvbW1lbnRfX1wiO2EuaD17ZWE6e30sY2hpbGROb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYihhKT9kKGEpOmEuY2hpbGROb2Rlc30sRWE6ZnVuY3Rpb24oYyl7aWYoYihjKSl7Yz1hLmguY2hpbGROb2RlcyhjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5yZW1vdmVOb2RlKGNbZF0pfWVsc2UgYS5hLlRiKGMpfSx2YTpmdW5jdGlvbihjLGQpe2lmKGIoYykpe2EuaC5FYShjKTtmb3IodmFyIGU9XG5jLm5leHRTaWJsaW5nLGY9MCxrPWQubGVuZ3RoO2Y8aztmKyspZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2ZdLGUpfWVsc2UgYS5hLnZhKGMsZCl9LFZjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7YihhKT8oZD1hLm5leHRTaWJsaW5nLGE9YS5wYXJlbnROb2RlKTpkPWEuZmlyc3RDaGlsZDtkP2MhPT1kJiZhLmluc2VydEJlZm9yZShjLGQpOmEuYXBwZW5kQ2hpbGQoYyl9LFdiOmZ1bmN0aW9uKGMsZCxlKXtlPyhlPWUubmV4dFNpYmxpbmcsYihjKSYmKGM9Yy5wYXJlbnROb2RlKSxlP2QhPT1lJiZjLmluc2VydEJlZm9yZShkLGUpOmMuYXBwZW5kQ2hpbGQoZCkpOmEuaC5WYyhjLGQpfSxmaXJzdENoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSkpcmV0dXJuIWEubmV4dFNpYmxpbmd8fGMoYS5uZXh0U2libGluZyk/bnVsbDphLm5leHRTaWJsaW5nO2lmKGEuZmlyc3RDaGlsZCYmYyhhLmZpcnN0Q2hpbGQpKXRocm93IEVycm9yKFwiRm91bmQgaW52YWxpZCBlbmQgY29tbWVudCwgYXMgdGhlIGZpcnN0IGNoaWxkIG9mIFwiK1xuYSk7cmV0dXJuIGEuZmlyc3RDaGlsZH0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZCl7YihkKSYmKGQ9ZShkKSk7aWYoZC5uZXh0U2libGluZyYmYyhkLm5leHRTaWJsaW5nKSl7dmFyIGY9ZC5uZXh0U2libGluZztpZihjKGYpJiYhYS5hLmcuZ2V0KGYsaykpdGhyb3cgRXJyb3IoXCJGb3VuZCBlbmQgY29tbWVudCB3aXRob3V0IGEgbWF0Y2hpbmcgb3BlbmluZyBjb21tZW50LCBhcyBjaGlsZCBvZiBcIitkKTtyZXR1cm4gbnVsbH1yZXR1cm4gZC5uZXh0U2libGluZ30sQ2Q6YixWZDpmdW5jdGlvbihhKXtyZXR1cm4oYT0oZj9hLnRleHQ6YS5ub2RlVmFsdWUpLm1hdGNoKGcpKT9hWzFdOm51bGx9LFNjOmZ1bmN0aW9uKGQpe2lmKG1bYS5hLlIoZCldKXt2YXIgZj1kLmZpcnN0Q2hpbGQ7aWYoZil7ZG8gaWYoMT09PWYubm9kZVR5cGUpe3ZhciBrO2s9Zi5maXJzdENoaWxkO3ZhciBoPW51bGw7aWYoayl7ZG8gaWYoaCloLnB1c2goayk7ZWxzZSBpZihiKGspKXt2YXIgZz1lKGssITApO2c/az1cbmc6aD1ba119ZWxzZSBjKGspJiYoaD1ba10pO3doaWxlKGs9ay5uZXh0U2libGluZyl9aWYoaz1oKWZvcihoPWYubmV4dFNpYmxpbmcsZz0wO2c8ay5sZW5ndGg7ZysrKWg/ZC5pbnNlcnRCZWZvcmUoa1tnXSxoKTpkLmFwcGVuZENoaWxkKGtbZ10pfXdoaWxlKGY9Zi5uZXh0U2libGluZyl9fX19fSkoKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHNcIixhLmgpO2EuYihcInZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NcIixhLmguZWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5lbXB0eU5vZGVcIixhLmguRWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5pbnNlcnRBZnRlclwiLGEuaC5XYik7YS5iKFwidmlydHVhbEVsZW1lbnRzLnByZXBlbmRcIixhLmguVmMpO2EuYihcInZpcnR1YWxFbGVtZW50cy5zZXREb21Ob2RlQ2hpbGRyZW5cIixhLmgudmEpOyhmdW5jdGlvbigpe2EuZ2E9ZnVuY3Rpb24oKXt0aGlzLm5kPXt9fTthLmEuZXh0ZW5kKGEuZ2EucHJvdG90eXBlLHtub2RlSGFzQmluZGluZ3M6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gbnVsbCE9XG5iLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKXx8YS5qLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGIpO2Nhc2UgODpyZXR1cm4gYS5oLkNkKGIpO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRCaW5kaW5nczpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZ2V0QmluZGluZ3NTdHJpbmcoYixjKSxkPWQ/dGhpcy5wYXJzZUJpbmRpbmdzU3RyaW5nKGQsYyxiKTpudWxsO3JldHVybiBhLmoudGMoZCxiLGMsITEpfSxnZXRCaW5kaW5nQWNjZXNzb3JzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIse3ZhbHVlQWNjZXNzb3JzOiEwfSk6bnVsbDtyZXR1cm4gYS5qLnRjKGQsYixjLCEwKX0sZ2V0QmluZGluZ3NTdHJpbmc6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik7Y2FzZSA4OnJldHVybiBhLmguVmQoYik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxucGFyc2VCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiLGMsZCxlKXt0cnl7dmFyIGY9dGhpcy5uZCxnPWIrKGUmJmUudmFsdWVBY2Nlc3NvcnN8fFwiXCIpLGg7aWYoIShoPWZbZ10pKXt2YXIgbSxrPVwid2l0aCgkY29udGV4dCl7d2l0aCgkZGF0YXx8e30pe3JldHVybntcIithLm0udmIoYixlKStcIn19fVwiO209bmV3IEZ1bmN0aW9uKFwiJGNvbnRleHRcIixcIiRlbGVtZW50XCIsayk7aD1mW2ddPW19cmV0dXJuIGgoYyxkKX1jYXRjaChsKXt0aHJvdyBsLm1lc3NhZ2U9XCJVbmFibGUgdG8gcGFyc2UgYmluZGluZ3MuXFxuQmluZGluZ3MgdmFsdWU6IFwiK2IrXCJcXG5NZXNzYWdlOiBcIitsLm1lc3NhZ2UsbDt9fX0pO2EuZ2EuaW5zdGFuY2U9bmV3IGEuZ2F9KSgpO2EuYihcImJpbmRpbmdQcm92aWRlclwiLGEuZ2EpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7dmFyIGM9KGI9YS5hLmcuZ2V0KGIseikpJiZiLk47YyYmKGIuTj1udWxsLGMuVGMoKSl9ZnVuY3Rpb24gYyhjLGQsZSl7dGhpcy5ub2RlPWM7dGhpcy55Yz1cbmQ7dGhpcy5rYj1bXTt0aGlzLkg9ITE7ZC5OfHxhLmEuSy56YShjLGIpO2UmJmUuTiYmKGUuTi5rYi5wdXNoKGMpLHRoaXMuS2I9ZSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSgpfWZ1bmN0aW9uIGYoYil7cmV0dXJuIGEuYS5HYShhLnUuRyhiKSxmdW5jdGlvbihhLGMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiKClbY119fSl9ZnVuY3Rpb24gZyhiLGMsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGI/ZihiLmJpbmQobnVsbCxjLGUpKTphLmEuR2EoYixkKX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGYodGhpcy5nZXRCaW5kaW5ncy5iaW5kKHRoaXMsYSxiKSl9ZnVuY3Rpb24gbShiLGMpe3ZhciBkPWEuaC5maXJzdENoaWxkKGMpO2lmKGQpe3ZhciBlLGY9YS5nYS5pbnN0YW5jZSxsPWYucHJlcHJvY2Vzc05vZGU7aWYobCl7Zm9yKDtlPWQ7KWQ9YS5oLm5leHRTaWJsaW5nKGUpLGwuY2FsbChmLGUpO1xuZD1hLmguZmlyc3RDaGlsZChjKX1mb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksayhiLGUpfWEuaS5tYShjLGEuaS5IKX1mdW5jdGlvbiBrKGIsYyl7dmFyIGQ9YixlPTE9PT1jLm5vZGVUeXBlO2UmJmEuaC5TYyhjKTtpZihlfHxhLmdhLmluc3RhbmNlLm5vZGVIYXNCaW5kaW5ncyhjKSlkPXAoYyxudWxsLGIpLmJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM7ZCYmIXVbYS5hLlIoYyldJiZtKGQsYyl9ZnVuY3Rpb24gbChiKXt2YXIgYz1bXSxkPXt9LGU9W107YS5hLlAoYixmdW5jdGlvbiBjYShmKXtpZighZFtmXSl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihmKTtrJiYoay5hZnRlciYmKGUucHVzaChmKSxhLmEuRChrLmFmdGVyLGZ1bmN0aW9uKGMpe2lmKGJbY10pe2lmKC0xIT09YS5hLkEoZSxjKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21iaW5lIHRoZSBmb2xsb3dpbmcgYmluZGluZ3MsIGJlY2F1c2UgdGhleSBoYXZlIGEgY3ljbGljIGRlcGVuZGVuY3k6IFwiK2Uuam9pbihcIiwgXCIpKTtcbmNhKGMpfX0pLGUubGVuZ3RoLS0pLGMucHVzaCh7a2V5OmYsTWM6a30pKTtkW2ZdPSEwfX0pO3JldHVybiBjfWZ1bmN0aW9uIHAoYixjLGQpe3ZhciBmPWEuYS5nLlViKGIseix7fSksaz1mLmhkO2lmKCFjKXtpZihrKXRocm93IEVycm9yKFwiWW91IGNhbm5vdCBhcHBseSBiaW5kaW5ncyBtdWx0aXBsZSB0aW1lcyB0byB0aGUgc2FtZSBlbGVtZW50LlwiKTtmLmhkPSEwfWt8fChmLmNvbnRleHQ9ZCk7Zi5aYnx8KGYuWmI9e30pO3ZhciBnO2lmKGMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjKWc9YztlbHNle3ZhciBwPWEuZ2EuaW5zdGFuY2UscT1wLmdldEJpbmRpbmdBY2Nlc3NvcnN8fGgsbT1hLiQoZnVuY3Rpb24oKXtpZihnPWM/YyhkLGIpOnEuY2FsbChwLGIsZCkpe2lmKGRbdF0pZFt0XSgpO2lmKGRbQl0pZFtCXSgpfXJldHVybiBnfSxudWxsLHtsOmJ9KTtnJiZtLmphKCl8fChtPW51bGwpfXZhciB4PWQsdTtpZihnKXt2YXIgSj1mdW5jdGlvbigpe3JldHVybiBhLmEuR2EobT9tKCk6XG5nLGUpfSxyPW0/ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUobSgpW2FdKX19OmZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTtKLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZ1thXSYmZShyKGEpKX07Si5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ307YS5pLkggaW4gZyYmYS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmkuSF0pKCk7aWYoYyl7dmFyIGQ9YS5oLmNoaWxkTm9kZXMoYik7ZC5sZW5ndGgmJmMoZCxhLkVjKGRbMF0pKX19KTthLmkucGEgaW4gZyYmKHg9YS5pLkNiKGIsZCksYS5pLnN1YnNjcmliZShiLGEuaS5wYSxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5pLnBhXSkoKTtjJiZhLmguZmlyc3RDaGlsZChiKSYmYyhiKX0pKTtmPWwoZyk7YS5hLkQoZixmdW5jdGlvbihjKXt2YXIgZD1jLk1jLmluaXQsZT1jLk1jLnVwZGF0ZSxmPWMua2V5O2lmKDg9PT1iLm5vZGVUeXBlJiYhYS5oLmVhW2ZdKXRocm93IEVycm9yKFwiVGhlIGJpbmRpbmcgJ1wiK1xuZitcIicgY2Fubm90IGJlIHVzZWQgd2l0aCB2aXJ0dWFsIGVsZW1lbnRzXCIpO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiZhLnUuRyhmdW5jdGlvbigpe3ZhciBhPWQoYixyKGYpLEoseC4kZGF0YSx4KTtpZihhJiZhLmNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzKXtpZih1IT09bil0aHJvdyBFcnJvcihcIk11bHRpcGxlIGJpbmRpbmdzIChcIit1K1wiIGFuZCBcIitmK1wiKSBhcmUgdHJ5aW5nIHRvIGNvbnRyb2wgZGVzY2VuZGFudCBiaW5kaW5ncyBvZiB0aGUgc2FtZSBlbGVtZW50LiBZb3UgY2Fubm90IHVzZSB0aGVzZSBiaW5kaW5ncyB0b2dldGhlciBvbiB0aGUgc2FtZSBlbGVtZW50LlwiKTt1PWZ9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmYS4kKGZ1bmN0aW9uKCl7ZShiLHIoZiksSix4LiRkYXRhLHgpfSxudWxsLHtsOmJ9KX1jYXRjaChrKXt0aHJvdyBrLm1lc3NhZ2U9J1VuYWJsZSB0byBwcm9jZXNzIGJpbmRpbmcgXCInK2YrXCI6IFwiK2dbZl0rJ1wiXFxuTWVzc2FnZTogJytrLm1lc3NhZ2UsXG5rO319KX1mPXU9PT1uO3JldHVybntzaG91bGRCaW5kRGVzY2VuZGFudHM6ZixiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzOmYmJnh9fWZ1bmN0aW9uIHEoYixjKXtyZXR1cm4gYiYmYiBpbnN0YW5jZW9mIGEuZmE/YjpuZXcgYS5mYShiLG4sbixjKX12YXIgdD1hLmEuRGEoXCJfc3Vic2NyaWJhYmxlXCIpLHg9YS5hLkRhKFwiX2FuY2VzdG9yQmluZGluZ0luZm9cIiksQj1hLmEuRGEoXCJfZGF0YURlcGVuZGVuY3lcIik7YS5jPXt9O3ZhciB1PXtzY3JpcHQ6ITAsdGV4dGFyZWE6ITAsdGVtcGxhdGU6ITB9O2EuZ2V0QmluZGluZ0hhbmRsZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY1tiXX07dmFyIEo9e307YS5mYT1mdW5jdGlvbihiLGMsZCxlLGYpe2Z1bmN0aW9uIGsoKXt2YXIgYj1wP2goKTpoLGY9YS5hLmYoYik7Yz8oYS5hLmV4dGVuZChsLGMpLHggaW4gYyYmKGxbeF09Y1t4XSkpOihsLiRwYXJlbnRzPVtdLGwuJHJvb3Q9ZixsLmtvPWEpO2xbdF09cTtnP2Y9bC4kZGF0YToobC4kcmF3RGF0YT1cbmIsbC4kZGF0YT1mKTtkJiYobFtkXT1mKTtlJiZlKGwsYyxmKTtpZihjJiZjW3RdJiYhYS5TLm8oKS5WYihjW3RdKSljW3RdKCk7bSYmKGxbQl09bSk7cmV0dXJuIGwuJGRhdGF9dmFyIGw9dGhpcyxnPWI9PT1KLGg9Zz9uOmIscD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYhYS5PKGgpLHEsbT1mJiZmLmRhdGFEZXBlbmRlbmN5O2YmJmYuZXhwb3J0RGVwZW5kZW5jaWVzP2soKToocT1hLnhiKGspLHEudigpLHEuamEoKT9xLmVxdWFsaXR5Q29tcGFyZXI9bnVsbDpsW3RdPW4pfTthLmZhLnByb3RvdHlwZS5jcmVhdGVDaGlsZENvbnRleHQ9ZnVuY3Rpb24oYixjLGQsZSl7IWUmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoZT1jLGM9ZS5hcyxkPWUuZXh0ZW5kKTtpZihjJiZlJiZlLm5vQ2hpbGRDb250ZXh0KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYhYS5PKGIpO3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihhKXtkJiZkKGEpO2FbY109Zj9iKCk6Yn0sZSl9cmV0dXJuIG5ldyBhLmZhKGIsXG50aGlzLGMsZnVuY3Rpb24oYSxiKXthLiRwYXJlbnRDb250ZXh0PWI7YS4kcGFyZW50PWIuJGRhdGE7YS4kcGFyZW50cz0oYi4kcGFyZW50c3x8W10pLnNsaWNlKDApO2EuJHBhcmVudHMudW5zaGlmdChhLiRwYXJlbnQpO2QmJmQoYSl9LGUpfTthLmZhLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuZmEoSix0aGlzLG51bGwsZnVuY3Rpb24oYyl7YS5hLmV4dGVuZChjLFwiZnVuY3Rpb25cIj09dHlwZW9mIGI/YihjKTpiKX0sYyl9O3ZhciB6PWEuYS5nLlooKTtjLnByb3RvdHlwZS5UYz1mdW5jdGlvbigpe3RoaXMuS2ImJnRoaXMuS2IuTiYmdGhpcy5LYi5OLnNkKHRoaXMubm9kZSl9O2MucHJvdG90eXBlLnNkPWZ1bmN0aW9uKGIpe2EuYS5QYSh0aGlzLmtiLGIpOyF0aGlzLmtiLmxlbmd0aCYmdGhpcy5IJiZ0aGlzLkNjKCl9O2MucHJvdG90eXBlLkNjPWZ1bmN0aW9uKCl7dGhpcy5IPSEwO3RoaXMueWMuTiYmIXRoaXMua2IubGVuZ3RoJiYodGhpcy55Yy5OPVxubnVsbCxhLmEuSy55Yih0aGlzLm5vZGUsYiksYS5pLm1hKHRoaXMubm9kZSxhLmkucGEpLHRoaXMuVGMoKSl9O2EuaT17SDpcImNoaWxkcmVuQ29tcGxldGVcIixwYTpcImRlc2NlbmRhbnRzQ29tcGxldGVcIixzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgaz1hLmEuZy5VYihiLHose30pO2suRmF8fChrLkZhPW5ldyBhLlQpO2YmJmYubm90aWZ5SW1tZWRpYXRlbHkmJmsuWmJbY10mJmEudS5HKGQsZSxbYl0pO3JldHVybiBrLkZhLnN1YnNjcmliZShkLGUsYyl9LG1hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIseik7aWYoZCYmKGQuWmJbY109ITAsZC5GYSYmZC5GYS5ub3RpZnlTdWJzY3JpYmVycyhiLGMpLGM9PWEuaS5IKSlpZihkLk4pZC5OLkNjKCk7ZWxzZSBpZihkLk49PT1uJiZkLkZhJiZkLkZhLldhKGEuaS5wYSkpdGhyb3cgRXJyb3IoXCJkZXNjZW5kYW50c0NvbXBsZXRlIGV2ZW50IG5vdCBzdXBwb3J0ZWQgZm9yIGJpbmRpbmdzIG9uIHRoaXMgbm9kZVwiKTtcbn0sQ2I6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5VYihiLHose30pO2UuTnx8KGUuTj1uZXcgYyhiLGUsZFt4XSkpO3JldHVybiBkW3hdPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt4XT1lfSl9fTthLlRkPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuYS5nLmdldChiLHopKSYmYi5jb250ZXh0fTthLmliPWZ1bmN0aW9uKGIsYyxkKXsxPT09Yi5ub2RlVHlwZSYmYS5oLlNjKGIpO3JldHVybiBwKGIsYyxxKGQpKX07YS5sZD1mdW5jdGlvbihiLGMsZCl7ZD1xKGQpO3JldHVybiBhLmliKGIsZyhjLGQsYiksZCl9O2EuT2E9ZnVuY3Rpb24oYSxiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fG0ocShhKSxiKX07YS52Yz1mdW5jdGlvbihhLGIsYyl7IXYmJkEualF1ZXJ5JiYodj1BLmpRdWVyeSk7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXtpZihiPXcuYm9keSwhYil0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGNvdWxkIG5vdCBmaW5kIGRvY3VtZW50LmJvZHk7IGhhcyB0aGUgZG9jdW1lbnQgYmVlbiBsb2FkZWQ/XCIpO1xufWVsc2UgaWYoIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgeW91ciB2aWV3IG1vZGVsOyBzZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIERPTSBub2RlXCIpO2socShhLGMpLGIpfTthLkRjPWZ1bmN0aW9uKGIpe3JldHVybiFifHwxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGU/bjphLlRkKGIpfTthLkVjPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuRGMoYikpP2IuJGRhdGE6bn07YS5iKFwiYmluZGluZ0hhbmRsZXJzXCIsYS5jKTthLmIoXCJiaW5kaW5nRXZlbnRcIixhLmkpO2EuYihcImJpbmRpbmdFdmVudC5zdWJzY3JpYmVcIixhLmkuc3Vic2NyaWJlKTthLmIoXCJiaW5kaW5nRXZlbnQuc3RhcnRQb3NzaWJseUFzeW5jQ29udGVudEJpbmRpbmdcIixhLmkuQ2IpO2EuYihcImFwcGx5QmluZGluZ3NcIixhLnZjKTthLmIoXCJhcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50c1wiLGEuT2EpO1xuYS5iKFwiYXBwbHlCaW5kaW5nQWNjZXNzb3JzVG9Ob2RlXCIsYS5pYik7YS5iKFwiYXBwbHlCaW5kaW5nc1RvTm9kZVwiLGEubGQpO2EuYihcImNvbnRleHRGb3JcIixhLkRjKTthLmIoXCJkYXRhRm9yXCIsYS5FYyl9KSgpOyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMsZSl7dmFyIGs9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsYyk/ZltjXTpiLGw7az9rLnN1YnNjcmliZShlKTooaz1mW2NdPW5ldyBhLlQsay5zdWJzY3JpYmUoZSksZChjLGZ1bmN0aW9uKGIsZCl7dmFyIGU9ISghZHx8IWQuc3luY2hyb25vdXMpO2dbY109e2RlZmluaXRpb246YixHZDplfTtkZWxldGUgZltjXTtsfHxlP2subm90aWZ5U3Vic2NyaWJlcnMoYik6YS5uYS56YihmdW5jdGlvbigpe2subm90aWZ5U3Vic2NyaWJlcnMoYil9KX0pLGw9ITApfWZ1bmN0aW9uIGQoYSxiKXtlKFwiZ2V0Q29uZmlnXCIsW2FdLGZ1bmN0aW9uKGMpe2M/ZShcImxvYWRDb21wb25lbnRcIixbYSxjXSxmdW5jdGlvbihhKXtiKGEsXG5jKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsbCl7bHx8KGw9YS5qLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWwuc2hpZnQoKTtpZihnKXt2YXIgcT1nW2NdO2lmKHEpe3ZhciB0PSExO2lmKHEuYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXt0P2YobnVsbCk6bnVsbCE9PWE/ZihhKTplKGMsZCxmLGwpfSkpIT09YiYmKHQ9ITAsIWcuc3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBsb2FkZXJzIG11c3Qgc3VwcGx5IHZhbHVlcyBieSBpbnZva2luZyB0aGUgY2FsbGJhY2ssIG5vdCBieSByZXR1cm5pbmcgdmFsdWVzIHN5bmNocm9ub3VzbHkuXCIpO31lbHNlIGUoYyxkLGYsbCl9ZWxzZSBmKG51bGwpfXZhciBmPXt9LGc9e307YS5qPXtnZXQ6ZnVuY3Rpb24oZCxlKXt2YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxkKT9nW2RdOmI7Zj9mLkdkP2EudS5HKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6XG5hLm5hLnpiKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6YyhkLGUpfSxCYzpmdW5jdGlvbihhKXtkZWxldGUgZ1thXX0sb2M6ZX07YS5qLmxvYWRlcnM9W107YS5iKFwiY29tcG9uZW50c1wiLGEuaik7YS5iKFwiY29tcG9uZW50cy5nZXRcIixhLmouZ2V0KTthLmIoXCJjb21wb25lbnRzLmNsZWFyQ2FjaGVkRGVmaW5pdGlvblwiLGEuai5CYyl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsZSl7ZnVuY3Rpb24gZygpezA9PT0tLUImJmUoaCl9dmFyIGg9e30sQj0yLHU9ZC50ZW1wbGF0ZTtkPWQudmlld01vZGVsO3U/ZihjLHUsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFRlbXBsYXRlXCIsW2IsY10sZnVuY3Rpb24oYSl7aC50ZW1wbGF0ZT1hO2coKX0pfSk6ZygpO2Q/ZihjLGQsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFZpZXdNb2RlbFwiLFtiLGNdLGZ1bmN0aW9uKGEpe2hbbV09YTtnKCl9KX0pOmcoKX1mdW5jdGlvbiBjKGEsYixkKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0pO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYlttXSlkKGJbbV0pO2Vsc2UgaWYoXCJpbnN0YW5jZVwiaW4gYil7dmFyIGU9Yi5pbnN0YW5jZTtkKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1lbHNlXCJ2aWV3TW9kZWxcImluIGI/YyhhLGIudmlld01vZGVsLGQpOmEoXCJVbmtub3duIHZpZXdNb2RlbCB2YWx1ZTogXCIrYil9ZnVuY3Rpb24gZChiKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJzY3JpcHRcIjpyZXR1cm4gYS5hLnVhKGIudGV4dCk7Y2FzZSBcInRleHRhcmVhXCI6cmV0dXJuIGEuYS51YShiLnZhbHVlKTtjYXNlIFwidGVtcGxhdGVcIjppZihlKGIuY29udGVudCkpcmV0dXJuIGEuYS5DYShiLmNvbnRlbnQuY2hpbGROb2Rlcyl9cmV0dXJuIGEuYS5DYShiLmNoaWxkTm9kZXMpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEEuRG9jdW1lbnRGcmFnbWVudD9hIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudDphJiYxMT09PWEubm9kZVR5cGV9ZnVuY3Rpb24gZihhLGIsYyl7XCJzdHJpbmdcIj09PXR5cGVvZiBiLnJlcXVpcmU/XG5UfHxBLnJlcXVpcmU/KFR8fEEucmVxdWlyZSkoW2IucmVxdWlyZV0sZnVuY3Rpb24oYSl7YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLlhkJiZhW1wiZGVmYXVsdFwiXSYmKGE9YVtcImRlZmF1bHRcIl0pO2MoYSl9KTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2ErXCInOiBcIitiKTt9fXZhciBoPXt9O2Euai5yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIGZvciBcIitiKTtpZihhLmoudGIoYikpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgXCIrYitcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7aFtiXT1jfTthLmoudGI9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGEpfTthLmoudW5yZWdpc3Rlcj1mdW5jdGlvbihiKXtkZWxldGUgaFtiXTtcbmEuai5CYyhiKX07YS5qLkZjPXtnZXRDb25maWc6ZnVuY3Rpb24oYixjKXtjKGEuai50YihiKT9oW2JdOm51bGwpfSxsb2FkQ29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1nKGEpO2YoZSxjLGZ1bmN0aW9uKGMpe2IoYSxlLGMsZCl9KX0sbG9hZFRlbXBsYXRlOmZ1bmN0aW9uKGIsYyxmKXtiPWcoYik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKWYoYS5hLnVhKGMpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBBcnJheSlmKGMpO2Vsc2UgaWYoZShjKSlmKGEuYS5sYShjLmNoaWxkTm9kZXMpKTtlbHNlIGlmKGMuZWxlbWVudClpZihjPWMuZWxlbWVudCxBLkhUTUxFbGVtZW50P2MgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDpjJiZjLnRhZ05hbWUmJjE9PT1jLm5vZGVUeXBlKWYoZChjKSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpe3ZhciBoPXcuZ2V0RWxlbWVudEJ5SWQoYyk7aD9mKGQoaCkpOmIoXCJDYW5ub3QgZmluZCBlbGVtZW50IHdpdGggSUQgXCIrYyl9ZWxzZSBiKFwiVW5rbm93biBlbGVtZW50IHR5cGU6IFwiK1xuYyk7ZWxzZSBiKFwiVW5rbm93biB0ZW1wbGF0ZSB2YWx1ZTogXCIrYyl9LGxvYWRWaWV3TW9kZWw6ZnVuY3Rpb24oYSxiLGQpe2MoZyhhKSxiLGQpfX07dmFyIG09XCJjcmVhdGVWaWV3TW9kZWxcIjthLmIoXCJjb21wb25lbnRzLnJlZ2lzdGVyXCIsYS5qLnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmlzUmVnaXN0ZXJlZFwiLGEuai50Yik7YS5iKFwiY29tcG9uZW50cy51bnJlZ2lzdGVyXCIsYS5qLnVucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuZGVmYXVsdExvYWRlclwiLGEuai5GYyk7YS5qLmxvYWRlcnMucHVzaChhLmouRmMpO2Euai5kZD1ofSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZSl7dmFyIGY9Yi5nZXRBdHRyaWJ1dGUoXCJwYXJhbXNcIik7aWYoZil7dmFyIGY9Yy5wYXJzZUJpbmRpbmdzU3RyaW5nKGYsZSxiLHt2YWx1ZUFjY2Vzc29yczohMCxiaW5kaW5nUGFyYW1zOiEwfSksZj1hLmEuR2EoZixmdW5jdGlvbihjKXtyZXR1cm4gYS5vKGMsbnVsbCx7bDpifSl9KSxnPWEuYS5HYShmLFxuZnVuY3Rpb24oYyl7dmFyIGU9Yy52KCk7cmV0dXJuIGMuamEoKT9hLm8oe3JlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLmYoYygpKX0sd3JpdGU6YS5aYShlKSYmZnVuY3Rpb24oYSl7YygpKGEpfSxsOmJ9KTplfSk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGcsXCIkcmF3XCIpfHwoZy4kcmF3PWYpO3JldHVybiBnfXJldHVybnskcmF3Ont9fX1hLmouZ2V0Q29tcG9uZW50TmFtZUZvck5vZGU9ZnVuY3Rpb24oYil7dmFyIGM9YS5hLlIoYik7aWYoYS5qLnRiKGMpJiYoLTEhPWMuaW5kZXhPZihcIi1cIil8fFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCI9PVwiXCIrYnx8OD49YS5hLlcmJmIudGFnTmFtZT09PWMpKXJldHVybiBjfTthLmoudGM9ZnVuY3Rpb24oYyxlLGYsZyl7aWYoMT09PWUubm9kZVR5cGUpe3ZhciBoPWEuai5nZXRDb21wb25lbnROYW1lRm9yTm9kZShlKTtpZihoKXtjPWN8fHt9O2lmKGMuY29tcG9uZW50KXRocm93IEVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImNvbXBvbmVudFwiIGJpbmRpbmcgb24gYSBjdXN0b20gZWxlbWVudCBtYXRjaGluZyBhIGNvbXBvbmVudCcpO1xudmFyIG09e25hbWU6aCxwYXJhbXM6YihlLGYpfTtjLmNvbXBvbmVudD1nP2Z1bmN0aW9uKCl7cmV0dXJuIG19Om19fXJldHVybiBjfTt2YXIgYz1uZXcgYS5nYTs5PmEuYS5XJiYoYS5qLnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmoucmVnaXN0ZXIpLHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1iKCksZj1hLmouZGQsZztmb3IoZyBpbiBmKTtyZXR1cm4gY319KHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCkpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXtjPWMudGVtcGxhdGU7aWYoIWMpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2IrXCInIGhhcyBubyB0ZW1wbGF0ZVwiKTtiPWEuYS5DYShjKTthLmgudmEoZCxiKX1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1hLmNyZWF0ZVZpZXdNb2RlbDtyZXR1cm4gZD9kLmNhbGwoYSxcbmIsYyk6Yn12YXIgZD0wO2EuYy5jb21wb25lbnQ9e2luaXQ6ZnVuY3Rpb24oZSxmLGcsaCxtKXtmdW5jdGlvbiBrKCl7dmFyIGE9bCYmbC5kaXNwb3NlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiZhLmNhbGwobCk7cSYmcS5zKCk7cD1sPXE9bnVsbH12YXIgbCxwLHEsdD1hLmEubGEoYS5oLmNoaWxkTm9kZXMoZSkpO2EuaC5FYShlKTthLmEuSy56YShlLGspO2EubyhmdW5jdGlvbigpe3ZhciBnPWEuYS5mKGYoKSksaCx1O1wic3RyaW5nXCI9PT10eXBlb2YgZz9oPWc6KGg9YS5hLmYoZy5uYW1lKSx1PWEuYS5mKGcucGFyYW1zKSk7aWYoIWgpdGhyb3cgRXJyb3IoXCJObyBjb21wb25lbnQgbmFtZSBzcGVjaWZpZWRcIik7dmFyIG49YS5pLkNiKGUsbSksej1wPSsrZDthLmouZ2V0KGgsZnVuY3Rpb24oZCl7aWYocD09PXope2soKTtpZighZCl0aHJvdyBFcnJvcihcIlVua25vd24gY29tcG9uZW50ICdcIitoK1wiJ1wiKTtiKGgsZCxlKTt2YXIgZj1jKGQsdSx7ZWxlbWVudDplLHRlbXBsYXRlTm9kZXM6dH0pO1xuZD1uLmNyZWF0ZUNoaWxkQ29udGV4dChmLHtleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kY29tcG9uZW50PWY7YS4kY29tcG9uZW50VGVtcGxhdGVOb2Rlcz10fX0pO2YmJmYua29EZXNjZW5kYW50c0NvbXBsZXRlJiYocT1hLmkuc3Vic2NyaWJlKGUsYS5pLnBhLGYua29EZXNjZW5kYW50c0NvbXBsZXRlLGYpKTtsPWY7YS5PYShkLGUpfX0pfSxudWxsLHtsOmV9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmNvbXBvbmVudD0hMH0pKCk7dmFyIFY9e1wiY2xhc3NcIjpcImNsYXNzTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCJ9O2EuYy5hdHRyPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpfHx7fTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTt2YXIgZz1jLmluZGV4T2YoXCI6XCIpLGc9XCJsb29rdXBOYW1lc3BhY2VVUklcImluIGImJjA8ZyYmYi5sb29rdXBOYW1lc3BhY2VVUkkoYy5zdWJzdHIoMCxnKSksaD0hMT09PWR8fG51bGw9PT1cbmR8fGQ9PT1uO2g/Zz9iLnJlbW92ZUF0dHJpYnV0ZU5TKGcsYyk6Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6ZD1kLnRvU3RyaW5nKCk7OD49YS5hLlcmJmMgaW4gVj8oYz1WW2NdLGg/Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6YltjXT1kKTpofHwoZz9iLnNldEF0dHJpYnV0ZU5TKGcsYyxkKTpiLnNldEF0dHJpYnV0ZShjLGQpKTtcIm5hbWVcIj09PWMmJmEuYS5ZYyhiLGg/XCJcIjpkKX0pfX07KGZ1bmN0aW9uKCl7YS5jLmNoZWNrZWQ9e2FmdGVyOltcInZhbHVlXCIsXCJhdHRyXCJdLGluaXQ6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1iLmNoZWNrZWQsZj1nKCk7aWYoIWEuUy5ZYSgpJiYoZXx8IW0mJiFhLlMucWEoKSkpe3ZhciBrPWEudS5HKGMpO2lmKGwpe3ZhciBxPXA/ay52KCk6ayx6PXQ7dD1mO3ohPT1mP2UmJihhLmEuTmEocSxmLCEwKSxhLmEuTmEocSx6LCExKSk6YS5hLk5hKHEsZixlKTtwJiZhLlphKGspJiZrKHEpfWVsc2UgaCYmKGY9PT1uP2Y9ZTplfHwoZj1uKSksYS5tLmViKGssXG5kLFwiY2hlY2tlZFwiLGYsITApfX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmYoYygpKSxlPWcoKTtsPyhiLmNoZWNrZWQ9MDw9YS5hLkEoZCxlKSx0PWUpOmIuY2hlY2tlZD1oJiZlPT09bj8hIWQ6ZygpPT09ZH12YXIgZz1hLnhiKGZ1bmN0aW9uKCl7aWYoZC5oYXMoXCJjaGVja2VkVmFsdWVcIikpcmV0dXJuIGEuYS5mKGQuZ2V0KFwiY2hlY2tlZFZhbHVlXCIpKTtpZihxKXJldHVybiBkLmhhcyhcInZhbHVlXCIpP2EuYS5mKGQuZ2V0KFwidmFsdWVcIikpOmIudmFsdWV9KSxoPVwiY2hlY2tib3hcIj09Yi50eXBlLG09XCJyYWRpb1wiPT1iLnR5cGU7aWYoaHx8bSl7dmFyIGs9YygpLGw9aCYmYS5hLmYoaylpbnN0YW5jZW9mIEFycmF5LHA9IShsJiZrLnB1c2gmJmsuc3BsaWNlKSxxPW18fGwsdD1sP2coKTpuO20mJiFiLm5hbWUmJmEuYy51bmlxdWVOYW1lLmluaXQoYixmdW5jdGlvbigpe3JldHVybiEwfSk7YS5vKGUsbnVsbCx7bDpifSk7YS5hLkIoYixcImNsaWNrXCIsZSk7YS5vKGYsbnVsbCx7bDpifSk7XG5rPW59fX07YS5tLndhLmNoZWNrZWQ9ITA7YS5jLmNoZWNrZWRWYWx1ZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7Yi52YWx1ZT1hLmEuZihjKCkpfX19KSgpO2EuY1tcImNsYXNzXCJdPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuRGIoYS5hLmYoYygpKSk7YS5hLkViKGIsYi5fX2tvX19jc3NWYWx1ZSwhMSk7Yi5fX2tvX19jc3NWYWx1ZT1kO2EuYS5FYihiLGQsITApfX07YS5jLmNzcz17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQ/YS5hLlAoZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmYoZCk7YS5hLkViKGIsYyxkKX0pOmEuY1tcImNsYXNzXCJdLnVwZGF0ZShiLGMpfX07YS5jLmVuYWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtkJiZiLmRpc2FibGVkP2IucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik6ZHx8Yi5kaXNhYmxlZHx8KGIuZGlzYWJsZWQ9ITApfX07YS5jLmRpc2FibGU9XG57dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5jLmVuYWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTthLmMuZXZlbnQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1jKCl8fHt9O2EuYS5QKGcsZnVuY3Rpb24oZyl7XCJzdHJpbmdcIj09dHlwZW9mIGcmJmEuYS5CKGIsZyxmdW5jdGlvbihiKXt2YXIgayxsPWMoKVtnXTtpZihsKXt0cnl7dmFyIHA9YS5hLmxhKGFyZ3VtZW50cyk7ZT1mLiRkYXRhO3AudW5zaGlmdChlKTtrPWwuYXBwbHkoZSxwKX1maW5hbGx5eyEwIT09ayYmKGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEpfSExPT09ZC5nZXQoZytcIkJ1YmJsZVwiKSYmKGIuY2FuY2VsQnViYmxlPSEwLGIuc3RvcFByb3BhZ2F0aW9uJiZiLnN0b3BQcm9wYWdhdGlvbigpKX19KX0pfX07YS5jLmZvcmVhY2g9e1JjOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxkPWEuYS5iYyhjKTtcbmlmKCFkfHxcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgpcmV0dXJue2ZvcmVhY2g6Yyx0ZW1wbGF0ZUVuZ2luZTphLmJhLk1hfTthLmEuZihjKTtyZXR1cm57Zm9yZWFjaDpkLmRhdGEsYXM6ZC5hcyxub0NoaWxkQ29udGV4dDpkLm5vQ2hpbGRDb250ZXh0LGluY2x1ZGVEZXN0cm95ZWQ6ZC5pbmNsdWRlRGVzdHJveWVkLGFmdGVyQWRkOmQuYWZ0ZXJBZGQsYmVmb3JlUmVtb3ZlOmQuYmVmb3JlUmVtb3ZlLGFmdGVyUmVuZGVyOmQuYWZ0ZXJSZW5kZXIsYmVmb3JlTW92ZTpkLmJlZm9yZU1vdmUsYWZ0ZXJNb3ZlOmQuYWZ0ZXJNb3ZlLHRlbXBsYXRlRW5naW5lOmEuYmEuTWF9fX0saW5pdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmMudGVtcGxhdGUuaW5pdChiLGEuYy5mb3JlYWNoLlJjKGMpKX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIGEuYy50ZW1wbGF0ZS51cGRhdGUoYixhLmMuZm9yZWFjaC5SYyhjKSxkLGUsZil9fTthLm0uUmEuZm9yZWFjaD0hMTthLmguZWEuZm9yZWFjaD1cbiEwO2EuYy5oYXNmb2N1cz17aW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShlKXtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMDt2YXIgZj1iLm93bmVyRG9jdW1lbnQ7aWYoXCJhY3RpdmVFbGVtZW50XCJpbiBmKXt2YXIgZzt0cnl7Zz1mLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobCl7Zz1mLmJvZHl9ZT1nPT09Yn1mPWMoKTthLm0uZWIoZixkLFwiaGFzZm9jdXNcIixlLCEwKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ZTtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMX12YXIgZj1lLmJpbmQobnVsbCwhMCksZz1lLmJpbmQobnVsbCwhMSk7YS5hLkIoYixcImZvY3VzXCIsZik7YS5hLkIoYixcImZvY3VzaW5cIixmKTthLmEuQihiLFwiYmx1clwiLGcpO2EuYS5CKGIsXCJmb2N1c291dFwiLGcpO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT0hMX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFhLmEuZihjKCkpO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nfHxiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9PT1cbmR8fChkP2IuZm9jdXMoKTpiLmJsdXIoKSwhZCYmYi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlJiZiLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cygpLGEudS5HKGEuYS5GYixudWxsLFtiLGQ/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiXSkpfX07YS5tLndhLmhhc2ZvY3VzPSEwO2EuYy5oYXNGb2N1cz1hLmMuaGFzZm9jdXM7YS5tLndhLmhhc0ZvY3VzPVwiaGFzZm9jdXNcIjthLmMuaHRtbD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5mYyhiLGMoKSl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlKXthLmNbYl09e2luaXQ6ZnVuY3Rpb24oYixjLGgsbSxrKXt2YXIgbCxwLHE9e30sdCx4LG47aWYoZCl7bT1oLmdldChcImFzXCIpO3ZhciB1PWguZ2V0KFwibm9DaGlsZENvbnRleHRcIik7bj0hKG0mJnUpO3E9e2FzOm0sbm9DaGlsZENvbnRleHQ6dSxleHBvcnREZXBlbmRlbmNpZXM6bn19eD0odD1cblwicmVuZGVyXCI9PWguZ2V0KFwiY29tcGxldGVPblwiKSl8fGguaGFzKGEuaS5wYSk7YS5vKGZ1bmN0aW9uKCl7dmFyIGg9YS5hLmYoYygpKSxtPSFlIT09IWgsdT0hcCxyO2lmKG58fG0hPT1sKXt4JiYoaz1hLmkuQ2IoYixrKSk7aWYobSl7aWYoIWR8fG4pcS5kYXRhRGVwZW5kZW5jeT1hLlMubygpO3I9ZD9rLmNyZWF0ZUNoaWxkQ29udGV4dChcImZ1bmN0aW9uXCI9PXR5cGVvZiBoP2g6YyxxKTphLlMucWEoKT9rLmV4dGVuZChudWxsLHEpOmt9dSYmYS5TLnFhKCkmJihwPWEuYS5DYShhLmguY2hpbGROb2RlcyhiKSwhMCkpO20/KHV8fGEuaC52YShiLGEuYS5DYShwKSksYS5PYShyLGIpKTooYS5oLkVhKGIpLHR8fGEuaS5tYShiLGEuaS5IKSk7bD1tfX0sbnVsbCx7bDpifSk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EubS5SYVtiXT0hMTthLmguZWFbYl09ITB9YihcImlmXCIpO2IoXCJpZm5vdFwiLCExLCEwKTtiKFwid2l0aFwiLCEwKX0pKCk7YS5jLmxldD17aW5pdDpmdW5jdGlvbihiLFxuYyxkLGUsZil7Yz1mLmV4dGVuZChjKTthLk9hKGMsYik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS5sZXQ9ITA7dmFyIFE9e307YS5jLm9wdGlvbnM9e2luaXQ6ZnVuY3Rpb24oYil7aWYoXCJzZWxlY3RcIiE9PWEuYS5SKGIpKXRocm93IEVycm9yKFwib3B0aW9ucyBiaW5kaW5nIGFwcGxpZXMgb25seSB0byBTRUxFQ1QgZWxlbWVudHNcIik7Zm9yKDswPGIubGVuZ3RoOyliLnJlbW92ZSgwKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYS5hLmpiKGIub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPXR5cGVvZiBiO3JldHVyblwiZnVuY3Rpb25cIj09ZD9iKGEpOlwic3RyaW5nXCI9PWQ/YVtiXTpjfWZ1bmN0aW9uIGcoYyxkKXtpZih4JiZsKWEuaS5tYShiLGEuaS5IKTtlbHNlIGlmKHQubGVuZ3RoKXt2YXIgZT1cbjA8PWEuYS5BKHQsYS53Lk0oZFswXSkpO2EuYS5aYyhkWzBdLGUpO3gmJiFlJiZhLnUuRyhhLmEuRmIsbnVsbCxbYixcImNoYW5nZVwiXSl9fXZhciBoPWIubXVsdGlwbGUsbT0wIT1iLmxlbmd0aCYmaD9iLnNjcm9sbFRvcDpudWxsLGs9YS5hLmYoYygpKSxsPWQuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpJiZkLmhhcyhcInZhbHVlXCIpLHA9ZC5nZXQoXCJvcHRpb25zSW5jbHVkZURlc3Ryb3llZFwiKTtjPXt9O3ZhciBxLHQ9W107bHx8KGg/dD1hLmEuTWIoZSgpLGEudy5NKTowPD1iLnNlbGVjdGVkSW5kZXgmJnQucHVzaChhLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkpKTtrJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGsubGVuZ3RoJiYoaz1ba10pLHE9YS5hLmpiKGssZnVuY3Rpb24oYil7cmV0dXJuIHB8fGI9PT1ufHxudWxsPT09Ynx8IWEuYS5mKGIuX2Rlc3Ryb3kpfSksZC5oYXMoXCJvcHRpb25zQ2FwdGlvblwiKSYmKGs9YS5hLmYoZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksbnVsbCE9PVxuayYmayE9PW4mJnEudW5zaGlmdChRKSkpO3ZhciB4PSExO2MuYmVmb3JlUmVtb3ZlPWZ1bmN0aW9uKGEpe2IucmVtb3ZlQ2hpbGQoYSl9O2s9ZztkLmhhcyhcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIikmJihrPWZ1bmN0aW9uKGIsYyl7ZygwLGMpO2EudS5HKGQuZ2V0KFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpLG51bGwsW2NbMF0sYiE9PVE/YjpuXSl9KTthLmEuZWMoYixxLGZ1bmN0aW9uKGMsZSxnKXtnLmxlbmd0aCYmKHQ9IWwmJmdbMF0uc2VsZWN0ZWQ/W2Eudy5NKGdbMF0pXTpbXSx4PSEwKTtlPWIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2M9PT1RPyhhLmEuQmIoZSxkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxhLncuY2IoZSxuKSk6KGc9ZihjLGQuZ2V0KFwib3B0aW9uc1ZhbHVlXCIpLGMpLGEudy5jYihlLGEuYS5mKGcpKSxjPWYoYyxkLmdldChcIm9wdGlvbnNUZXh0XCIpLGcpLFxuYS5hLkJiKGUsYykpO3JldHVybltlXX0sYyxrKTtpZighbCl7dmFyIEI7aD9CPXQubGVuZ3RoJiZlKCkubGVuZ3RoPHQubGVuZ3RoOkI9dC5sZW5ndGgmJjA8PWIuc2VsZWN0ZWRJbmRleD9hLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkhPT10WzBdOnQubGVuZ3RofHwwPD1iLnNlbGVjdGVkSW5kZXg7QiYmYS51LkcoYS5hLkZiLG51bGwsW2IsXCJjaGFuZ2VcIl0pfShsfHxhLlMuWWEoKSkmJmEuaS5tYShiLGEuaS5IKTthLmEud2QoYik7bSYmMjA8TWF0aC5hYnMobS1iLnNjcm9sbFRvcCkmJihiLnNjcm9sbFRvcD1tKX19O2EuYy5vcHRpb25zLiRiPWEuYS5nLlooKTthLmMuc2VsZWN0ZWRPcHRpb25zPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7dmFyIGU9YygpLGY9W107YS5hLkQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZmLnB1c2goYS53Lk0oYikpfSk7YS5tLmViKGUsZCxcInNlbGVjdGVkT3B0aW9uc1wiLFxuZil9ZnVuY3Rpb24gZigpe3ZhciBkPWEuYS5mKGMoKSksZT1iLnNjcm9sbFRvcDtkJiZcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgmJmEuYS5EKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9MDw9YS5hLkEoZCxhLncuTShiKSk7Yi5zZWxlY3RlZCE9YyYmYS5hLlpjKGIsYyl9KTtiLnNjcm9sbFRvcD1lfWlmKFwic2VsZWN0XCIhPWEuYS5SKGIpKXRocm93IEVycm9yKFwic2VsZWN0ZWRPcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTt2YXIgZzthLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXtnP2UoKTooYS5hLkIoYixcImNoYW5nZVwiLGUpLGc9YS5vKGYsbnVsbCx7bDpifSkpfSxudWxsLHtub3RpZnlJbW1lZGlhdGVseTohMH0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt9fTthLm0ud2Euc2VsZWN0ZWRPcHRpb25zPSEwO2EuYy5zdHlsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpfHxcbnt9KTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTtpZihudWxsPT09ZHx8ZD09PW58fCExPT09ZClkPVwiXCI7aWYodil2KGIpLmNzcyhjLGQpO2Vsc2UgaWYoL14tLS8udGVzdChjKSliLnN0eWxlLnNldFByb3BlcnR5KGMsZCk7ZWxzZXtjPWMucmVwbGFjZSgvLShcXHcpL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7dmFyIGc9Yi5zdHlsZVtjXTtiLnN0eWxlW2NdPWQ7ZD09PWd8fGIuc3R5bGVbY10hPWd8fGlzTmFOKGQpfHwoYi5zdHlsZVtjXT1kK1wicHhcIil9fSl9fTthLmMuc3VibWl0PXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYygpKXRocm93IEVycm9yKFwiVGhlIHZhbHVlIGZvciBhIHN1Ym1pdCBiaW5kaW5nIG11c3QgYmUgYSBmdW5jdGlvblwiKTthLmEuQihiLFwic3VibWl0XCIsZnVuY3Rpb24oYSl7dmFyIGQsZT1jKCk7dHJ5e2Q9ZS5jYWxsKGYuJGRhdGEsYil9ZmluYWxseXshMCE9PWQmJihhLnByZXZlbnREZWZhdWx0P1xuYS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfX0pfX07YS5jLnRleHQ9e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmEuQmIoYixjKCkpfX07YS5oLmVhLnRleHQ9ITA7KGZ1bmN0aW9uKCl7aWYoQSYmQS5uYXZpZ2F0b3Ipe3ZhciBiPWZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHBhcnNlRmxvYXQoYVsxXSl9LGM9QS5uYXZpZ2F0b3IudXNlckFnZW50LGQsZSxmLGcsaDsoZD1BLm9wZXJhJiZBLm9wZXJhLnZlcnNpb24mJnBhcnNlSW50KEEub3BlcmEudmVyc2lvbigpKSl8fChoPWIoYy5tYXRjaCgvRWRnZVxcLyhbXiBdKykkLykpKXx8YihjLm1hdGNoKC9DaHJvbWVcXC8oW14gXSspLykpfHwoZT1iKGMubWF0Y2goL1ZlcnNpb25cXC8oW14gXSspIFNhZmFyaS8pKSl8fChmPWIoYy5tYXRjaCgvRmlyZWZveFxcLyhbXiBdKykvKSkpfHwoZz1hLmEuV3x8YihjLm1hdGNoKC9NU0lFIChbXiBdKykvKSkpfHxcbihnPWIoYy5tYXRjaCgvcnY6KFteICldKykvKSkpfWlmKDg8PWcmJjEwPmcpdmFyIG09YS5hLmcuWigpLGs9YS5hLmcuWigpLGw9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hY3RpdmVFbGVtZW50OyhjPWMmJmEuYS5nLmdldChjLGspKSYmYyhiKX0scD1mdW5jdGlvbihiLGMpe3ZhciBkPWIub3duZXJEb2N1bWVudDthLmEuZy5nZXQoZCxtKXx8KGEuYS5nLnNldChkLG0sITApLGEuYS5CKGQsXCJzZWxlY3Rpb25jaGFuZ2VcIixsKSk7YS5hLmcuc2V0KGIsayxjKX07YS5jLnRleHRJbnB1dD17aW5pdDpmdW5jdGlvbihiLGMsayl7ZnVuY3Rpb24gbChjLGQpe2EuYS5CKGIsYyxkKX1mdW5jdGlvbiBtKCl7dmFyIGQ9YS5hLmYoYygpKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO0whPT1uJiZkPT09TD9hLmEuc2V0VGltZW91dChtLDQpOmIudmFsdWUhPT1kJiYoeT0hMCxiLnZhbHVlPWQseT0hMSx2PWIudmFsdWUpfWZ1bmN0aW9uIHIoKXt3fHwoTD1iLnZhbHVlLHc9YS5hLnNldFRpbWVvdXQoeixcbjQpKX1mdW5jdGlvbiB6KCl7Y2xlYXJUaW1lb3V0KHcpO0w9dz1uO3ZhciBkPWIudmFsdWU7diE9PWQmJih2PWQsYS5tLmViKGMoKSxrLFwidGV4dElucHV0XCIsZCkpfXZhciB2PWIudmFsdWUsdyxMLEE9OT09YS5hLlc/cjp6LHk9ITE7ZyYmbChcImtleXByZXNzXCIseik7MTE+ZyYmbChcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7eXx8XCJ2YWx1ZVwiIT09YS5wcm9wZXJ0eU5hbWV8fEEoYSl9KTs4PT1nJiYobChcImtleXVwXCIseiksbChcImtleWRvd25cIix6KSk7cCYmKHAoYixBKSxsKFwiZHJhZ2VuZFwiLHIpKTsoIWd8fDk8PWcpJiZsKFwiaW5wdXRcIixBKTs1PmUmJlwidGV4dGFyZWFcIj09PWEuYS5SKGIpPyhsKFwia2V5ZG93blwiLHIpLGwoXCJwYXN0ZVwiLHIpLGwoXCJjdXRcIixyKSk6MTE+ZD9sKFwia2V5ZG93blwiLHIpOjQ+Zj8obChcIkRPTUF1dG9Db21wbGV0ZVwiLHopLGwoXCJkcmFnZHJvcFwiLHopLGwoXCJkcm9wXCIseikpOmgmJlwibnVtYmVyXCI9PT1iLnR5cGUmJmwoXCJrZXlkb3duXCIscik7bChcImNoYW5nZVwiLFxueik7bChcImJsdXJcIix6KTthLm8obSxudWxsLHtsOmJ9KX19O2EubS53YS50ZXh0SW5wdXQ9ITA7YS5jLnRleHRpbnB1dD17cHJlcHJvY2VzczpmdW5jdGlvbihhLGIsYyl7YyhcInRleHRJbnB1dFwiLGEpfX19KSgpO2EuYy51bmlxdWVOYW1lPXtpbml0OmZ1bmN0aW9uKGIsYyl7aWYoYygpKXt2YXIgZD1cImtvX3VuaXF1ZV9cIisgKythLmMudW5pcXVlTmFtZS5yZDthLmEuWWMoYixkKX19fTthLmMudW5pcXVlTmFtZS5yZD0wO2EuYy51c2luZz17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO2QuaGFzKFwiYXNcIikmJihnPXthczpkLmdldChcImFzXCIpLG5vQ2hpbGRDb250ZXh0OmQuZ2V0KFwibm9DaGlsZENvbnRleHRcIil9KTtjPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMsZyk7YS5PYShjLGIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEudXNpbmc9ITA7YS5jLnZhbHVlPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuUihiKSxmPVwiaW5wdXRcIj09XG5lO2lmKCFmfHxcImNoZWNrYm94XCIhPWIudHlwZSYmXCJyYWRpb1wiIT1iLnR5cGUpe3ZhciBnPVtdLGg9ZC5nZXQoXCJ2YWx1ZVVwZGF0ZVwiKSxtPSExLGs9bnVsbDtoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGg/Zz1baF06Zz1hLmEud2MoaCksYS5hLlBhKGcsXCJjaGFuZ2VcIikpO3ZhciBsPWZ1bmN0aW9uKCl7az1udWxsO209ITE7dmFyIGU9YygpLGY9YS53Lk0oYik7YS5tLmViKGUsZCxcInZhbHVlXCIsZil9OyFhLmEuV3x8IWZ8fFwidGV4dFwiIT1iLnR5cGV8fFwib2ZmXCI9PWIuYXV0b2NvbXBsZXRlfHxiLmZvcm0mJlwib2ZmXCI9PWIuZm9ybS5hdXRvY29tcGxldGV8fC0xIT1hLmEuQShnLFwicHJvcGVydHljaGFuZ2VcIil8fChhLmEuQihiLFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbigpe209ITB9KSxhLmEuQihiLFwiZm9jdXNcIixmdW5jdGlvbigpe209ITF9KSxhLmEuQihiLFwiYmx1clwiLGZ1bmN0aW9uKCl7bSYmbCgpfSkpO2EuYS5EKGcsZnVuY3Rpb24oYyl7dmFyIGQ9bDthLmEuVWQoYyxcImFmdGVyXCIpJiZcbihkPWZ1bmN0aW9uKCl7az1hLncuTShiKTthLmEuc2V0VGltZW91dChsLDApfSxjPWMuc3Vic3RyaW5nKDUpKTthLmEuQihiLGMsZCl9KTt2YXIgcDtwPWYmJlwiZmlsZVwiPT1iLnR5cGU/ZnVuY3Rpb24oKXt2YXIgZD1hLmEuZihjKCkpO251bGw9PT1kfHxkPT09bnx8XCJcIj09PWQ/Yi52YWx1ZT1cIlwiOmEudS5HKGwpfTpmdW5jdGlvbigpe3ZhciBmPWEuYS5mKGMoKSksZz1hLncuTShiKTtpZihudWxsIT09ayYmZj09PWspYS5hLnNldFRpbWVvdXQocCwwKTtlbHNlIGlmKGYhPT1nfHxnPT09bilcInNlbGVjdFwiPT09ZT8oZz1kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKSxhLncuY2IoYixmLGcpLGd8fGY9PT1hLncuTShiKXx8YS51LkcobCkpOmEudy5jYihiLGYpfTtpZihcInNlbGVjdFwiPT09ZSl7dmFyIHE7YS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7cT9kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKT9wKCk6bCgpOihhLmEuQihiLFwiY2hhbmdlXCIsbCkscT1hLm8ocCxudWxsLHtsOmJ9KSl9LFxubnVsbCx7bm90aWZ5SW1tZWRpYXRlbHk6ITB9KX1lbHNlIGEuYS5CKGIsXCJjaGFuZ2VcIixsKSxhLm8ocCxudWxsLHtsOmJ9KX1lbHNlIGEuaWIoYix7Y2hlY2tlZFZhbHVlOmN9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7fX07YS5tLndhLnZhbHVlPSEwO2EuYy52aXNpYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpLGU9XCJub25lXCIhPWIuc3R5bGUuZGlzcGxheTtkJiYhZT9iLnN0eWxlLmRpc3BsYXk9XCJcIjohZCYmZSYmKGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fTthLmMuaGlkZGVuPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmMudmlzaWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTsoZnVuY3Rpb24oYil7YS5jW2JdPXtpbml0OmZ1bmN0aW9uKGMsZCxlLGYsZyl7cmV0dXJuIGEuYy5ldmVudC5pbml0LmNhbGwodGhpcyxjLGZ1bmN0aW9uKCl7dmFyIGE9e307YVtiXT1kKCk7cmV0dXJuIGF9LGUsZixnKX19fSkoXCJjbGlja1wiKTtcbmEuY2E9ZnVuY3Rpb24oKXt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSByZW5kZXJUZW1wbGF0ZVNvdXJjZVwiKTt9O2EuY2EucHJvdG90eXBlLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrXCIpO307YS5jYS5wcm90b3R5cGUubWFrZVRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2M9Y3x8dzt2YXIgZD1jLmdldEVsZW1lbnRCeUlkKGIpO2lmKCFkKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGVtcGxhdGUgd2l0aCBJRCBcIitiKTtyZXR1cm4gbmV3IGEuQy5GKGQpfWlmKDE9PWIubm9kZVR5cGV8fDg9PWIubm9kZVR5cGUpcmV0dXJuIG5ldyBhLkMuaWEoYik7dGhyb3cgRXJyb3IoXCJVbmtub3duIHRlbXBsYXRlIHR5cGU6IFwiK2IpO307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGU9XG5mdW5jdGlvbihhLGMsZCxlKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZSk7cmV0dXJuIHRoaXMucmVuZGVyVGVtcGxhdGVTb3VyY2UoYSxjLGQsZSl9O2EuY2EucHJvdG90eXBlLmlzVGVtcGxhdGVSZXdyaXR0ZW49ZnVuY3Rpb24oYSxjKXtyZXR1cm4hMT09PXRoaXMuYWxsb3dUZW1wbGF0ZVJld3JpdGluZz8hMDp0aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGMpLmRhdGEoXCJpc1Jld3JpdHRlblwiKX07YS5jYS5wcm90b3R5cGUucmV3cml0ZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYyxkKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZCk7Yz1jKGEudGV4dCgpKTthLnRleHQoYyk7YS5kYXRhKFwiaXNSZXdyaXR0ZW5cIiwhMCl9O2EuYihcInRlbXBsYXRlRW5naW5lXCIsYS5jYSk7YS5rYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCl7Yj1hLm0uYWMoYik7Zm9yKHZhciBtPWEubS5SYSxrPTA7azxiLmxlbmd0aDtrKyspe3ZhciBsPWJba10ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLFxubCkpe3ZhciBwPW1bbF07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHApe2lmKGw9cChiW2tdLnZhbHVlKSl0aHJvdyBFcnJvcihsKTt9ZWxzZSBpZighcCl0aHJvdyBFcnJvcihcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgdGhlICdcIitsK1wiJyBiaW5kaW5nIHdpdGhpbiBpdHMgdGVtcGxhdGVzXCIpO319ZD1cImtvLl9fdHJfYW1idG5zKGZ1bmN0aW9uKCRjb250ZXh0LCRlbGVtZW50KXtyZXR1cm4oZnVuY3Rpb24oKXtyZXR1cm57IFwiK2EubS52YihiLHt2YWx1ZUFjY2Vzc29yczohMH0pK1wiIH0gfSkoKX0sJ1wiK2QudG9Mb3dlckNhc2UoKStcIicpXCI7cmV0dXJuIGguY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrKGQpK2N9dmFyIGM9Lyg8KFthLXpdK1xcZCopKD86XFxzKyg/IWRhdGEtYmluZFxccyo9XFxzKilbYS16MC05XFwtXSsoPzo9KD86XFxcIlteXFxcIl0qXFxcInxcXCdbXlxcJ10qXFwnfFtePl0qKSk/KSpcXHMrKWRhdGEtYmluZFxccyo9XFxzKihbXCInXSkoW1xcc1xcU10qPylcXDMvZ2ksXG5kPS9cXHgzYyEtLVxccyprb1xcYlxccyooW1xcc1xcU10qPylcXHMqLS1cXHgzZS9nO3JldHVybnt4ZDpmdW5jdGlvbihiLGMsZCl7Yy5pc1RlbXBsYXRlUmV3cml0dGVuKGIsZCl8fGMucmV3cml0ZVRlbXBsYXRlKGIsZnVuY3Rpb24oYil7cmV0dXJuIGEua2MuTGQoYixjKX0sZCl9LExkOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUsbCl7cmV0dXJuIGIobCxjLGQsZil9KS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjLFwiXFx4M2MhLS0ga28gLS1cXHgzZVwiLFwiI2NvbW1lbnRcIixmKX0pfSxtZDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmFhLlhiKGZ1bmN0aW9uKGQsaCl7dmFyIG09ZC5uZXh0U2libGluZzttJiZtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jJiZhLmliKG0sYixoKX0pfX19KCk7YS5iKFwiX190cl9hbWJ0bnNcIixhLmtjLm1kKTsoZnVuY3Rpb24oKXthLkM9e307YS5DLkY9ZnVuY3Rpb24oYil7aWYodGhpcy5GPWIpe3ZhciBjPVxuYS5hLlIoYik7dGhpcy5hYj1cInNjcmlwdFwiPT09Yz8xOlwidGV4dGFyZWFcIj09PWM/MjpcInRlbXBsYXRlXCI9PWMmJmIuY29udGVudCYmMTE9PT1iLmNvbnRlbnQubm9kZVR5cGU/Mzo0fX07YS5DLkYucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYj0xPT09dGhpcy5hYj9cInRleHRcIjoyPT09dGhpcy5hYj9cInZhbHVlXCI6XCJpbm5lckhUTUxcIjtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLkZbYl07dmFyIGM9YXJndW1lbnRzWzBdO1wiaW5uZXJIVE1MXCI9PT1iP2EuYS5mYyh0aGlzLkYsYyk6dGhpcy5GW2JdPWN9O3ZhciBiPWEuYS5nLlooKStcIl9cIjthLkMuRi5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbihjKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS5hLmcuZ2V0KHRoaXMuRixiK2MpO2EuYS5nLnNldCh0aGlzLkYsYitjLGFyZ3VtZW50c1sxXSl9O3ZhciBjPWEuYS5nLlooKTthLkMuRi5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLkY7XG5pZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hLmEuZy5nZXQoYixjKXx8e30sZj1lLmxifHwoMz09PXRoaXMuYWI/Yi5jb250ZW50OjQ9PT10aGlzLmFiP2I6bik7aWYoIWZ8fGUuamQpe3ZhciBnPXRoaXMudGV4dCgpO2cmJmchPT1lLmJiJiYoZj1hLmEuTWQoZyxiLm93bmVyRG9jdW1lbnQpLGEuYS5nLnNldChiLGMse2xiOmYsYmI6ZyxqZDohMH0pKX1yZXR1cm4gZn1lPWFyZ3VtZW50c1swXTt0aGlzLmFiIT09biYmdGhpcy50ZXh0KFwiXCIpO2EuYS5nLnNldChiLGMse2xiOmV9KX07YS5DLmlhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hfTthLkMuaWEucHJvdG90eXBlPW5ldyBhLkMuRjthLkMuaWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuQy5pYTthLkMuaWEucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYj1hLmEuZy5nZXQodGhpcy5GLGMpfHx7fTtiLmJiPT09biYmYi5sYiYmKGIuYmI9Yi5sYi5pbm5lckhUTUwpO3JldHVybiBiLmJifWEuYS5nLnNldCh0aGlzLkYsXG5jLHtiYjphcmd1bWVudHNbMF19KX07YS5iKFwidGVtcGxhdGVTb3VyY2VzXCIsYS5DKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuZG9tRWxlbWVudFwiLGEuQy5GKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuYW5vbnltb3VzVGVtcGxhdGVcIixhLkMuaWEpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXt2YXIgZTtmb3IoYz1hLmgubmV4dFNpYmxpbmcoYyk7YiYmKGU9YikhPT1jOyliPWEuaC5uZXh0U2libGluZyhlKSxkKGUsYil9ZnVuY3Rpb24gYyhjLGQpe2lmKGMubGVuZ3RoKXt2YXIgZT1jWzBdLGY9Y1tjLmxlbmd0aC0xXSxnPWUucGFyZW50Tm9kZSxoPWEuZ2EuaW5zdGFuY2UsbT1oLnByZXByb2Nlc3NOb2RlO2lmKG0pe2IoZSxmLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcmV2aW91c1NpYmxpbmcsZD1tLmNhbGwoaCxhKTtkJiYoYT09PWUmJihlPWRbMF18fGIpLGE9PT1mJiYoZj1kW2QubGVuZ3RoLTFdfHxjKSl9KTtjLmxlbmd0aD0wO2lmKCFlKXJldHVybjtlPT09Zj9jLnB1c2goZSk6XG4oYy5wdXNoKGUsZiksYS5hLlVhKGMsZykpfWIoZSxmLGZ1bmN0aW9uKGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8YS52YyhkLGIpfSk7YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLmFhLmNkKGIsW2RdKX0pO2EuYS5VYShjLGcpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm5vZGVUeXBlP2E6MDxhLmxlbmd0aD9hWzBdOm51bGx9ZnVuY3Rpb24gZShiLGUsZixoLG0pe209bXx8e307dmFyIG49KGImJmQoYil8fGZ8fHt9KS5vd25lckRvY3VtZW50LEI9bS50ZW1wbGF0ZUVuZ2luZXx8ZzthLmtjLnhkKGYsQixuKTtmPUIucmVuZGVyVGVtcGxhdGUoZixoLG0sbik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGYubGVuZ3RofHwwPGYubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgZlswXS5ub2RlVHlwZSl0aHJvdyBFcnJvcihcIlRlbXBsYXRlIGVuZ2luZSBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBET00gbm9kZXNcIik7bj0hMTtzd2l0Y2goZSl7Y2FzZSBcInJlcGxhY2VDaGlsZHJlblwiOmEuaC52YShiLFxuZik7bj0hMDticmVhaztjYXNlIFwicmVwbGFjZU5vZGVcIjphLmEuWGMoYixmKTtuPSEwO2JyZWFrO2Nhc2UgXCJpZ25vcmVUYXJnZXROb2RlXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gcmVuZGVyTW9kZTogXCIrZSk7fW4mJihjKGYsaCksbS5hZnRlclJlbmRlciYmYS51LkcobS5hZnRlclJlbmRlcixudWxsLFtmLGhbbS5hc3x8XCIkZGF0YVwiXV0pLFwicmVwbGFjZUNoaWxkcmVuXCI9PWUmJmEuaS5tYShiLGEuaS5IKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZihiLGMsZCl7cmV0dXJuIGEuTyhiKT9iKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihjLGQpOmJ9dmFyIGc7YS5nYz1mdW5jdGlvbihiKXtpZihiIT1uJiYhKGIgaW5zdGFuY2VvZiBhLmNhKSl0aHJvdyBFcnJvcihcInRlbXBsYXRlRW5naW5lIG11c3QgaW5oZXJpdCBmcm9tIGtvLnRlbXBsYXRlRW5naW5lXCIpO2c9Yn07YS5kYz1mdW5jdGlvbihiLGMsaCxtLHQpe2g9aHx8e307aWYoKGgudGVtcGxhdGVFbmdpbmV8fGcpPT1cbm4pdGhyb3cgRXJyb3IoXCJTZXQgYSB0ZW1wbGF0ZSBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgcmVuZGVyVGVtcGxhdGVcIik7dD10fHxcInJlcGxhY2VDaGlsZHJlblwiO2lmKG0pe3ZhciB4PWQobSk7cmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBnPWMmJmMgaW5zdGFuY2VvZiBhLmZhP2M6bmV3IGEuZmEoYyxudWxsLG51bGwsbnVsbCx7ZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSksbj1mKGIsZy4kZGF0YSxnKSxnPWUobSx0LG4sZyxoKTtcInJlcGxhY2VOb2RlXCI9PXQmJihtPWcseD1kKG0pKX0sbnVsbCx7U2E6ZnVuY3Rpb24oKXtyZXR1cm4heHx8IWEuYS5TYih4KX0sbDp4JiZcInJlcGxhY2VOb2RlXCI9PXQ/eC5wYXJlbnROb2RlOnh9KX1yZXR1cm4gYS5hYS5YYihmdW5jdGlvbihkKXthLmRjKGIsYyxoLGQsXCJyZXBsYWNlTm9kZVwiKX0pfTthLlFkPWZ1bmN0aW9uKGIsZCxnLGgsbSl7ZnVuY3Rpb24geChiLGMpe2EudS5HKGEuYS5lYyxudWxsLFtoLGIsdSxnLHIsY10pO2EuaS5tYShoLGEuaS5IKX1cbmZ1bmN0aW9uIHIoYSxiKXtjKGIsdik7Zy5hZnRlclJlbmRlciYmZy5hZnRlclJlbmRlcihiLGEpO3Y9bnVsbH1mdW5jdGlvbiB1KGEsYyl7dj1tLmNyZWF0ZUNoaWxkQ29udGV4dChhLHthczp6LG5vQ2hpbGRDb250ZXh0Omcubm9DaGlsZENvbnRleHQsZXh0ZW5kOmZ1bmN0aW9uKGEpe2EuJGluZGV4PWM7eiYmKGFbeitcIkluZGV4XCJdPWMpfX0pO3ZhciBkPWYoYixhLHYpO3JldHVybiBlKGgsXCJpZ25vcmVUYXJnZXROb2RlXCIsZCx2LGcpfXZhciB2LHo9Zy5hcyx3PSExPT09Zy5pbmNsdWRlRGVzdHJveWVkfHxhLm9wdGlvbnMuZm9yZWFjaEhpZGVzRGVzdHJveWVkJiYhZy5pbmNsdWRlRGVzdHJveWVkO2lmKHd8fGcuYmVmb3JlUmVtb3ZlfHwhYS5QYyhkKSlyZXR1cm4gYS4kKGZ1bmN0aW9uKCl7dmFyIGI9YS5hLmYoZCl8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBiLmxlbmd0aCYmKGI9W2JdKTt3JiYoYj1hLmEuamIoYixmdW5jdGlvbihiKXtyZXR1cm4gYj09PW58fG51bGw9PT1ifHxcbiFhLmEuZihiLl9kZXN0cm95KX0pKTt4KGIpfSxudWxsLHtsOmh9KTt4KGQudigpKTt2YXIgQT1kLnN1YnNjcmliZShmdW5jdGlvbihhKXt4KGQoKSxhKX0sbnVsbCxcImFycmF5Q2hhbmdlXCIpO0EubChoKTtyZXR1cm4gQX07dmFyIGg9YS5hLmcuWigpLG09YS5hLmcuWigpO2EuYy50ZW1wbGF0ZT17aW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fFwibmFtZVwiaW4gZClhLmguRWEoYik7ZWxzZSBpZihcIm5vZGVzXCJpbiBkKXtkPWQubm9kZXN8fFtdO2lmKGEuTyhkKSl0aHJvdyBFcnJvcignVGhlIFwibm9kZXNcIiBvcHRpb24gbXVzdCBiZSBhIHBsYWluLCBub24tb2JzZXJ2YWJsZSBhcnJheS4nKTt2YXIgZT1kWzBdJiZkWzBdLnBhcmVudE5vZGU7ZSYmYS5hLmcuZ2V0KGUsbSl8fChlPWEuYS5ZYihkKSxhLmEuZy5zZXQoZSxtLCEwKSk7KG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpfWVsc2UgaWYoZD1hLmguY2hpbGROb2RlcyhiKSwwPGQubGVuZ3RoKWU9XG5hLmEuWWIoZCksKG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpO2Vsc2UgdGhyb3cgRXJyb3IoXCJBbm9ueW1vdXMgdGVtcGxhdGUgZGVmaW5lZCwgYnV0IG5vIHRlbXBsYXRlIGNvbnRlbnQgd2FzIHByb3ZpZGVkXCIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKTtjPWEuYS5mKGcpO2Q9ITA7ZT1udWxsO1wic3RyaW5nXCI9PXR5cGVvZiBjP2M9e306KGc9XCJuYW1lXCJpbiBjP2MubmFtZTpiLFwiaWZcImluIGMmJihkPWEuYS5mKGNbXCJpZlwiXSkpLGQmJlwiaWZub3RcImluIGMmJihkPSFhLmEuZihjLmlmbm90KSksZCYmIWcmJihkPSExKSk7XCJmb3JlYWNoXCJpbiBjP2U9YS5RZChnLGQmJmMuZm9yZWFjaHx8W10sYyxiLGYpOmQ/KGQ9ZixcImRhdGFcImluIGMmJihkPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMuZGF0YSx7YXM6Yy5hcyxub0NoaWxkQ29udGV4dDpjLm5vQ2hpbGRDb250ZXh0LGV4cG9ydERlcGVuZGVuY2llczohMH0pKSxcbmU9YS5kYyhnLGQsYyxiKSk6YS5oLkVhKGIpO2Y9ZTsoYz1hLmEuZy5nZXQoYixoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMucyYmYy5zKCk7YS5hLmcuc2V0KGIsaCwhZnx8Zi5qYSYmIWYuamEoKT9uOmYpfX07YS5tLlJhLnRlbXBsYXRlPWZ1bmN0aW9uKGIpe2I9YS5tLmFjKGIpO3JldHVybiAxPT1iLmxlbmd0aCYmYlswXS51bmtub3dufHxhLm0uSWQoYixcIm5hbWVcIik/bnVsbDpcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgYW5vbnltb3VzIHRlbXBsYXRlcyBuZXN0ZWQgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIn07YS5oLmVhLnRlbXBsYXRlPSEwfSkoKTthLmIoXCJzZXRUZW1wbGF0ZUVuZ2luZVwiLGEuZ2MpO2EuYihcInJlbmRlclRlbXBsYXRlXCIsYS5kYyk7YS5hLktjPWZ1bmN0aW9uKGEsYyxkKXtpZihhLmxlbmd0aCYmYy5sZW5ndGgpe3ZhciBlLGYsZyxoLG07Zm9yKGU9Zj0wOyghZHx8ZTxkKSYmKGg9YVtmXSk7KytmKXtmb3IoZz0wO209Y1tnXTsrK2cpaWYoaC52YWx1ZT09PVxubS52YWx1ZSl7aC5tb3ZlZD1tLmluZGV4O20ubW92ZWQ9aC5pbmRleDtjLnNwbGljZShnLDEpO2U9Zz0wO2JyZWFrfWUrPWd9fX07YS5hLlBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGQsZSxmLGcpe3ZhciBoPU1hdGgubWluLG09TWF0aC5tYXgsaz1bXSxsLHA9Yi5sZW5ndGgscSxuPWQubGVuZ3RoLHI9bi1wfHwxLHY9cCtuKzEsdSx3LHo7Zm9yKGw9MDtsPD1wO2wrKylmb3Iodz11LGsucHVzaCh1PVtdKSx6PWgobixsK3IpLHE9bSgwLGwtMSk7cTw9ejtxKyspdVtxXT1xP2w/YltsLTFdPT09ZFtxLTFdP3dbcS0xXTpoKHdbcV18fHYsdVtxLTFdfHx2KSsxOnErMTpsKzE7aD1bXTttPVtdO3I9W107bD1wO2ZvcihxPW47bHx8cTspbj1rW2xdW3FdLTEscSYmbj09PWtbbF1bcS0xXT9tLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czplLHZhbHVlOmRbLS1xXSxpbmRleDpxfSk6bCYmbj09PWtbbC0xXVtxXT9yLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czpmLHZhbHVlOmJbLS1sXSxpbmRleDpsfSk6XG4oLS1xLC0tbCxnLnNwYXJzZXx8aC5wdXNoKHtzdGF0dXM6XCJyZXRhaW5lZFwiLHZhbHVlOmRbcV19KSk7YS5hLktjKHIsbSwhZy5kb250TGltaXRNb3ZlcyYmMTAqcCk7cmV0dXJuIGgucmV2ZXJzZSgpfXJldHVybiBmdW5jdGlvbihhLGQsZSl7ZT1cImJvb2xlYW5cIj09PXR5cGVvZiBlP3tkb250TGltaXRNb3ZlczplfTplfHx7fTthPWF8fFtdO2Q9ZHx8W107cmV0dXJuIGEubGVuZ3RoPGQubGVuZ3RoP2IoYSxkLFwiYWRkZWRcIixcImRlbGV0ZWRcIixlKTpiKGQsYSxcImRlbGV0ZWRcIixcImFkZGVkXCIsZSl9fSgpO2EuYihcInV0aWxzLmNvbXBhcmVBcnJheXNcIixhLmEuUGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCxtKXt2YXIgaz1bXSxsPWEuJChmdW5jdGlvbigpe3ZhciBsPWMoZCxtLGEuYS5VYShrLGIpKXx8W107MDxrLmxlbmd0aCYmKGEuYS5YYyhrLGwpLGgmJmEudS5HKGgsbnVsbCxbZCxsLG1dKSk7ay5sZW5ndGg9MDthLmEuTmIoayxsKX0sbnVsbCx7bDpiLFNhOmZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5rZChrKX19KTtcbnJldHVybntZOmssJDpsLmphKCk/bDpufX12YXIgYz1hLmEuZy5aKCksZD1hLmEuZy5aKCk7YS5hLmVjPWZ1bmN0aW9uKGUsZixnLGgsbSxrKXtmdW5jdGlvbiBsKGIpe3k9e0FhOmIscGI6YS50YSh3KyspfTt2LnB1c2goeSk7cnx8Ri5wdXNoKHkpfWZ1bmN0aW9uIHAoYil7eT10W2JdO3chPT15LnBiLnYoKSYmRC5wdXNoKHkpO3kucGIodysrKTthLmEuVWEoeS5ZLGUpO3YucHVzaCh5KX1mdW5jdGlvbiBxKGIsYyl7aWYoYilmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hLkQoY1tkXS5ZLGZ1bmN0aW9uKGEpe2IoYSxkLGNbZF0uQWEpfSl9Zj1mfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZi5sZW5ndGgmJihmPVtmXSk7aD1ofHx7fTt2YXIgdD1hLmEuZy5nZXQoZSxjKSxyPSF0LHY9W10sdT0wLHc9MCx6PVtdLEE9W10sQz1bXSxEPVtdLEY9W10seSxJPTA7aWYocilhLmEuRChmLGwpO2Vsc2V7aWYoIWt8fHQmJnQuX2NvdW50V2FpdGluZ0ZvclJlbW92ZSl7dmFyIEU9XG5hLmEuTWIodCxmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pO2s9YS5hLlBiKEUsZix7ZG9udExpbWl0TW92ZXM6aC5kb250TGltaXRNb3ZlcyxzcGFyc2U6ITB9KX1mb3IodmFyIEU9MCxHLEgsSztHPWtbRV07RSsrKXN3aXRjaChIPUcubW92ZWQsSz1HLmluZGV4LEcuc3RhdHVzKXtjYXNlIFwiZGVsZXRlZFwiOmZvcig7dTxLOylwKHUrKyk7SD09PW4mJih5PXRbdV0seS4kJiYoeS4kLnMoKSx5LiQ9biksYS5hLlVhKHkuWSxlKS5sZW5ndGgmJihoLmJlZm9yZVJlbW92ZSYmKHYucHVzaCh5KSxJKysseS5BYT09PWQ/eT1udWxsOkMucHVzaCh5KSkseSYmei5wdXNoLmFwcGx5KHoseS5ZKSkpO3UrKzticmVhaztjYXNlIFwiYWRkZWRcIjpmb3IoO3c8SzspcCh1KyspO0ghPT1uPyhBLnB1c2godi5sZW5ndGgpLHAoSCkpOmwoRy52YWx1ZSl9Zm9yKDt3PGYubGVuZ3RoOylwKHUrKyk7di5fY291bnRXYWl0aW5nRm9yUmVtb3ZlPUl9YS5hLmcuc2V0KGUsYyx2KTtxKGguYmVmb3JlTW92ZSxEKTthLmEuRCh6LFxuaC5iZWZvcmVSZW1vdmU/YS5vYTphLnJlbW92ZU5vZGUpO3ZhciBNLE8sUDt0cnl7UD1lLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChOKXt9aWYoQS5sZW5ndGgpZm9yKDsoRT1BLnNoaWZ0KCkpIT1uOyl7eT12W0VdO2ZvcihNPW47RTspaWYoKE89dlstLUVdLlkpJiZPLmxlbmd0aCl7TT1PW08ubGVuZ3RoLTFdO2JyZWFrfWZvcihmPTA7dT15LllbZl07TT11LGYrKylhLmguV2IoZSx1LE0pfWZvcihFPTA7eT12W0VdO0UrKyl7eS5ZfHxhLmEuZXh0ZW5kKHksYihlLGcseS5BYSxtLHkucGIpKTtmb3IoZj0wO3U9eS5ZW2ZdO009dSxmKyspYS5oLldiKGUsdSxNKTsheS5FZCYmbSYmKG0oeS5BYSx5LlkseS5wYikseS5FZD0hMCxNPXkuWVt5LlkubGVuZ3RoLTFdKX1QJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9UCYmUC5mb2N1cygpO3EoaC5iZWZvcmVSZW1vdmUsQyk7Zm9yKEU9MDtFPEMubGVuZ3RoOysrRSlDW0VdLkFhPWQ7cShoLmFmdGVyTW92ZSxEKTtcbnEoaC5hZnRlckFkZCxGKX19KSgpO2EuYihcInV0aWxzLnNldERvbU5vZGVDaGlsZHJlbkZyb21BcnJheU1hcHBpbmdcIixhLmEuZWMpO2EuYmE9ZnVuY3Rpb24oKXt0aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc9ITF9O2EuYmEucHJvdG90eXBlPW5ldyBhLmNhO2EuYmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuYmE7YS5iYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjLGQsZSl7aWYoYz0oOT5hLmEuVz8wOmIubm9kZXMpP2Iubm9kZXMoKTpudWxsKXJldHVybiBhLmEubGEoYy5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXMpO2I9Yi50ZXh0KCk7cmV0dXJuIGEuYS51YShiLGUpfTthLmJhLk1hPW5ldyBhLmJhO2EuZ2MoYS5iYS5NYSk7YS5iKFwibmF0aXZlVGVtcGxhdGVFbmdpbmVcIixhLmJhKTsoZnVuY3Rpb24oKXthLiRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5IZD1mdW5jdGlvbigpe2lmKCF2fHwhdi50bXBsKXJldHVybiAwO3RyeXtpZigwPD12LnRtcGwudGFnLnRtcGwub3Blbi50b1N0cmluZygpLmluZGV4T2YoXCJfX1wiKSlyZXR1cm4gMn1jYXRjaChhKXt9cmV0dXJuIDF9KCk7XG50aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3YuZnJhZ21lbnRzPXt9O3JldHVybiBlfTt0aGlzLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbihhKXtyZXR1cm5cInt7a29fY29kZSAoKGZ1bmN0aW9uKCkgeyByZXR1cm4gXCIrXG5hK1wiIH0pKCkpIH19XCJ9O3RoaXMuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt3LndyaXRlKFwiPHNjcmlwdCB0eXBlPSd0ZXh0L2h0bWwnIGlkPSdcIithK1wiJz5cIitiK1wiXFx4M2Mvc2NyaXB0PlwiKX07MDxhJiYodi50bXBsLnRhZy5rb19jb2RlPXtvcGVuOlwiX18ucHVzaCgkMSB8fCAnJyk7XCJ9LHYudG1wbC50YWcua29fd2l0aD17b3BlbjpcIndpdGgoJDEpIHtcIixjbG9zZTpcIn0gXCJ9KX07YS4kYS5wcm90b3R5cGU9bmV3IGEuY2E7YS4kYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS4kYTt2YXIgYj1uZXcgYS4kYTswPGIuSGQmJmEuZ2MoYik7YS5iKFwianF1ZXJ5VG1wbFRlbXBsYXRlRW5naW5lXCIsYS4kYSl9KSgpfSl9KSgpO30pKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHNcbiAqL1xuXG4vKipcbiAqIERlYnVnIGZsYWcuXG4gKi9cbmV4cG9ydCBsZXQgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gIGlzRGVidWcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBQYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VQcm9ncmVzc2lvbiB7XG4gIExUUiA9IFwibHRyXCIsXG4gIFJUTCA9IFwicnRsXCIsXG59XG5cbi8qKlxuICogUmV0dXJuIFBhZ2VQcm9ncmVzc2lvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlUHJvZ3Jlc3Npb25PZihzdHI6IHN0cmluZyk6IFBhZ2VQcm9ncmVzc2lvbiB7XG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSBcImx0clwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gICAgY2FzZSBcInJ0bFwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5SVEw7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBQYWdlUHJvZ3Jlc3Npb246ICR7c3RyfWApO1xuICB9XG59XG5cbi8qKlxuICogUGFnZSBzaWRlIChsZWZ0L3JpZ2h0KS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VTaWRlIHtcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbn1cblxuLyoqXG4gKiBWaWV3ZXIgcmVhZHkgc3RhdGUuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBSZWFkeVN0YXRlIHtcbiAgTE9BRElORyA9IFwibG9hZGluZ1wiLFxuICBJTlRFUkFDVElWRSA9IFwiaW50ZXJhY3RpdmVcIixcbiAgQ09NUExFVEUgPSBcImNvbXBsZXRlXCIsXG59XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBQYWdlU2lkZSxcbiAgUmVhZHlTdGF0ZSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMb2dnaW5nIC0gTG9nZ2luZyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBMb2cgbGV2ZWwuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gMSxcbiAgSU5GTyxcbiAgV0FSTixcbiAgRVJST1IsXG59XG5cbmV4cG9ydCB0eXBlIEVycm9ySW5mbyA9IHtcbiAgZXJyb3I6IEVycm9yO1xuICBtZXNzYWdlczogYW55W107XG59O1xuXG4vKipcbiAqIENsYXNzIGxvZ2dpbmcgZXJyb3IsIHdhcm5pbmcsIGluZm9ybWF0aW9uIG9yIGRlYnVnIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IHsgW2tleSBpbiBMb2dMZXZlbF0/OiAoKHAxOiBFcnJvckluZm8pID0+IHZvaWQpW10gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0X2NvbnNvbGU/OiBDb25zb2xlKSB7fVxuXG4gIHByaXZhdGUgY29uc29sZURlYnVnKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5kZWJ1ZyguLi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5sb2coLi4ubXNnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVJbmZvKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuaW5mbykge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLmluZm8oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuaW5mbyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVXYXJuKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUud2Fybikge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLndhcm4oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVFcnJvcihtc2c6IGFueVtdKSB7XG4gICAgaWYgKHRoaXMub3B0X2NvbnNvbGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdF9jb25zb2xlLmVycm9yKSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUuZXJyb3IoLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoLi4ubXNnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyTGlzdGVuZXJzKGxldmVsOiBMb2dMZXZlbCwgYXJnczogRXJyb3JJbmZvKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lcihhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiBpbnZva2VkIHdoZW4gYSBsb2cgZXZlbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGxldmVsXG4gICAqIG9jY3Vycy5cbiAgICovXG4gIGFkZExpc3RlbmVyKGxldmVsOiBMb2dMZXZlbCwgbGlzdGVuZXI6IChwMTogRXJyb3JJbmZvKSA9PiB2b2lkKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2xldmVsXTtcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdID0gW107XG4gICAgfVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGRlYnVnKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZURlYnVnKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5ERUJVRywgYXJncyk7XG4gIH1cblxuICBpbmZvKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUluZm8oYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZShhcmdzKSk7XG4gICAgdGhpcy50cmlnZ2VyTGlzdGVuZXJzKExvZ0xldmVsLklORk8sIGFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi52YXJfYXJnczogYW55W10pIHtcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzVG9FcnJvckluZm8oYXJndW1lbnRzKTtcbiAgICB0aGlzLmNvbnNvbGVXYXJuKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5XQVJOLCBhcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUVycm9yKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5FUlJPUiwgYXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gYXJnc1xuICovXG5mdW5jdGlvbiBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmdzOiBJQXJndW1lbnRzKTogRXJyb3JJbmZvIHtcbiAgY29uc3QgYSA9IEFycmF5LmZyb20oYXJncyk7XG4gIGxldCBlOiBFcnJvciA9IG51bGw7XG4gIGlmIChhWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlID0gYS5zaGlmdCgpO1xuICB9XG4gIHJldHVybiB7IGVycm9yOiBlLCBtZXNzYWdlczogYSB9O1xufVxuXG5mdW5jdGlvbiBidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlKGFyZ3M6IEVycm9ySW5mbyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZSA9IGFyZ3MuZXJyb3I7XG4gIGNvbnN0IHN0YWNrID0gZSAmJiAoZVtcImZyYW1lVHJhY2VcIl0gfHwgZVtcInN0YWNrXCJdKTtcbiAgbGV0IG1lc3NhZ2VzID0gW10uY29uY2F0KGFyZ3NbXCJtZXNzYWdlc1wiXSk7XG4gIGlmIChlKSB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtcIlxcblwiXSk7XG4gICAgfVxuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtlW1widG9TdHJpbmdcIl0oKV0pO1xuICAgIGlmIChzdGFjaykge1xuICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5jb25jYXQoW1wiXFxuXCJdKS5jb25jYXQoc3RhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQbHVnaW4gLSBQbHVnaW4gbWVjaGFuaXNtXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBUeXBlIG9mIGltcGxlbWVudGVkIGhvb2tzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gSE9PS1Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgcHJvcGVydHkgZGVjbGFyYXRpb24gaXMgcGFyc2VkLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge3N0cmluZ30gbmFtZTogUHJvcGVydHkgbmFtZVxuICAgKiAgIHshQ3NzLlZhbH0gdmFsdWU6IFByb3BlcnR5IHZhbHVlXG4gICAqICAge2Jvb2xlYW59IGltcG9ydGFudDogV2hldGhlciAnIWltcG9ydGFudCcgZmxhZyBpcyBwcmVzZW50IG9yIG5vdFxuICAgKiBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmUgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUgd2l0aCB0aGUgc2FtZVxuICAgKiB0eXBlIGFzIHRoZSBhYm92ZS4gVGhlIGRlY2xhcmF0aW9uIGlzIHRoZW4gcmVwbGFjZWQgYnkgdGhlIHJldHVybmVkIHZhbHVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgbm90IGRpcmVjdGx5IHBhc3NlZCB0byB0aGlzIGhvb2suXG4gICAqIEFmdGVyIHRoZSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgaW50ZXJwcmV0ZWQgYW5kIGJyb2tlbiBpbnRvXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLCB0aGUgaG9vayBpcyBjYWxsZWQgZm9yIGVhY2ggb2YgdGhlXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgU0lNUExFX1BST1BFUlRZID0gXCJTSU1QTEVfUFJPUEVSVFlcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgZG9jdW1lbnQgKGkuZS4gYSBzaW5nbGUgc3BpbmUgaXRlbSkgaGFzIGJlZW4gZmV0Y2hlZCxcbiAgICogYmVmb3JlIHBhcnNpbmcuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIHRoZSBEb2N1bWVudCBvYmplY3QuXG4gICAqL1xuICBQUkVQUk9DRVNTX1NJTkdMRV9ET0NVTUVOVCA9IFwiUFJFUFJPQ0VTU19TSU5HTEVfRE9DVU1FTlRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBjcmVhdGluZyBhIHRleHQgbm9kZSBmb3IgbW9kaWZ5aW5nIGEgdGV4dCBjb250ZW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge1Z0cmVlLk5vZGVDb250ZXh0fSBub2RlQ29udGV4dFxuICAgKiAgIHtzdHJpbmd9IHNvdXJjZVRleHRDb250ZW50XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0byByZXR1cm4gYVxuICAgKiBUYXNrLlJlc3VsdC48c3RyaW5nPi4gVGhlIHRleHQgY29udGVudCBpcyB0aGVuIHJlcGxhY2VkIGJ5IHRoZVxuICAgKiByZXR1cm5lZCB2YWx1ZS5cbiAgICovXG4gIFBSRVBST0NFU1NfVEVYVF9DT05URU5UID0gXCJQUkVQUk9DRVNTX1RFWFRfQ09OVEVOVFwiLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIGNyZWF0aW5nIGEgZWxlbWVudCBmb3IgbW9kaWZ5aW5nIGEgZWxlbWVudCBzdHlsZS5cbiAgICpcbiAgICogVGhlIGhvb2sgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIHtWdHJlZS5Ob2RlQ29udGV4dH0gbm9kZUNvbnRleHRcbiAgICogICB7IU9iamVjdH0gc3R5bGVcbiAgICovXG4gIFBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSA9IFwiUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgZ2V0aW5nIENzc0Nhc2NhZGUucG9seWZpbGxlZEluaGVyaXRlZFByb3BzLlxuICAgKlxuICAgKiBUaGUgaG9vayByZXR1cm4gYSBhcnJheSBvZiBwb2x5ZmlsbGVkIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lLlxuICAgKi9cbiAgUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMgPSBcIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgVmlld2VyIGlzIGNvbmZpZ3VyZWQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogIHtCYXNlLkpTT059IGNvbW1hbmRcbiAgICovXG4gIENPTkZJR1VSQVRJT04gPSBcIkNPTkZJR1VSQVRJT05cIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgdGV4dCBub2RlIGJyZWFrZXJcbiAgICogd2hpY2ggZGV0ZWN0cyBhbiBhY2NlcHRhYmxlIGJyZWFrcG9pbnQgYW5kIGJyZWFrIHRleHQgbm9kZSBhdCB0aGlzIHBvaW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0b1xuICAgKiByZXR1cm4gYW4gaW5zdG5jZSBvZiB7TGF5b3V0LlRleHROb2RlQnJlYWtlcn0gb3IgbnVsbC5cbiAgICovXG4gIFJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIgPSBcIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVJcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqICAgbm9kZUNvbnRleHQ6IGEgTm9kZUNvbnRleHQgb2JqZWN0XG4gICAqICAgZmlyc3RUaW1lOiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzIG5vZGUgaXMgZW5jb3VudGVyZWRcbiAgICogZm9yIHRoZSBmaXJzdCB0aW1lIG9yIG5vdCBkaXNwbGF5OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdkaXNwbGF5JyB2YWx1ZSBvZiB0aGUgbm9kZSBwb3NpdGlvbjogYW4gQ3NzLklkZW50IHZhbHVlIHJlcHJlc2VudGluZ1xuICAgKiAncG9zaXRpb24nIHZhbHVlIG9mIHRoZSBub2RlIGZsb2F0OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdmbG9hdCcgdmFsdWUgb2YgdGhlIG5vZGUgaXNSb290OiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzXG4gICAqIG5vZGUgaXMgYSByb290IChvZiBhIGZsb3cpIG9yIG5vdCBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmVcbiAgICogZXhwZWN0ZWQgdG8gcmV0dXJuIGEgZm9ybWF0dGluZyBjb250ZXh0IGZvciB0aGUgTm9kZUNvbnRleHQuXG4gICAqL1xuICBSRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCA9IFwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgbGF5b3V0IHByb2Nlc3NvciAoTGF5b3V0UHJvY2Vzc29yKSBmb3JcbiAgICogYSBmb3JtYXR0aW5nIGNvbnRleHQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGEgZm9ybWF0dGluZyBjb250ZXh0XG4gICAqIChWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCkuIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZFxuICAgKiB0byByZXR1cm4gYSBsYXlvdXQgcHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIFJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiA9IFwiUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBsYWlkIG91dCBhIGJsb2NrIGNvbnRlbnRzLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqICB7QXJyYXkuPFZ0cmVlLk5vZGVDb250ZXh0Pn0gY2hlY2tQb2ludHNcbiAgICogIHtMYXlvdXQuQ29sdW1ufSBjb2x1bW5cbiAgICovXG4gIFBPU1RfTEFZT1VUX0JMT0NLID0gXCJQT1NUX0xBWU9VVF9CTE9DS1wiLFxufVxuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rID0gKHAxOiBEb2N1bWVudCkgPT4gYW55O1xuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzVGV4dENvbnRlbnRIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBzdHJpbmcsXG4pID0+IFRhc2suUmVzdWx0PHN0cmluZz47XG5cbmV4cG9ydCB0eXBlIFByZVByb2Nlc3NFbGVtZW50U3R5bGVIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBvYmplY3QsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2sgPSAoKSA9PiBzdHJpbmdbXTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkhvb2sgPSAoXG4gIHAxOiBCYXNlLkpTT04sXG4pID0+IHtcbiAgbmVlZFJlc2l6ZTogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVUZXh0Tm9kZUJyZWFrZXJIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4pID0+IExheW91dC5UZXh0Tm9kZUJyZWFrZXI7XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgcDI6IGJvb2xlYW4sXG4gIHAzOiBDc3MuSWRlbnQsXG4gIHA0OiBDc3MuSWRlbnQsXG4gIHA1OiBDc3MuSWRlbnQsXG4gIHA2OiBib29sZWFuLFxuKSA9PiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IHR5cGUgUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbikgPT4gTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvcjtcblxuZXhwb3J0IHR5cGUgUG9zdExheW91dEJsb2NrSG9vayA9IChcbiAgcDE6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBwMjogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgcDM6IExheW91dC5Db2x1bW4sXG4pID0+IHZvaWQ7XG5cbmNvbnN0IGhvb2tzID0ge307XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBhIGhvb2sgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGUgcmVnaXN0ZXJlZCBmdW5jdGlvbiBpcyBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5ncyBieSB0aGUgY29yZSBjb2RlLlxuICogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24gZGVwZW5kIG9uIHRoZSBob29rLlxuICogV2hlbiBtdWx0aXBsZSBmdW5jdGlvbnMgYXJlIHJlZ2lzdGVyZWQsIHRoZXkgYXJlIGNhbGxlZCBieSB0aGUgb3JkZXIgaW4gd2hpY2hcbiAqIHRoZXkgYXJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBob29rLlxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIHJlZ2lzdGVyZWQgdG8gdGhlIGhvb2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckhvb2sobmFtZTogc3RyaW5nLCBmbjogKC4uLnAxKSA9PiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFIT09LU1tuYW1lXSkge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obmV3IEVycm9yKGBTa2lwcGluZyB1bmtub3duIHBsdWdpbiBob29rICcke25hbWV9Jy5gKSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICAgIGlmICghaG9va3NGb3JOYW1lKSB7XG4gICAgICBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXSA9IFtdO1xuICAgIH1cbiAgICBob29rc0Zvck5hbWUucHVzaChmbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBmdW5jdGlvbiBhbHJlYWR5IHJlZ2lzdGVyZWQgdG8gdGhlIHNwZWNpZmllZCBuYW1lLlxuICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHNhbWUgZnVuY3Rpb24gYXJlIHJlZ2lzdGVyZWQgbXVsdGlwbGUgdGltZXMsIHRoaXNcbiAqIG1ldGhvZCByZW1vdmVzIG9ubHkgdGhlIGZpcnN0IG9uZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGhvb2suXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBob29rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSG9vayhuYW1lOiBzdHJpbmcsIGZuOiAoLi4ucDEpID0+IGFueSk6IHZvaWQge1xuICBpZiAoIUhPT0tTW25hbWVdKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihuZXcgRXJyb3IoYElnbm9yaW5nIHVua25vd24gcGx1Z2luIGhvb2sgJyR7bmFtZX0nLmApKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXTtcbiAgICBpZiAoaG9va3NGb3JOYW1lKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGhvb2tzRm9yTmFtZS5pbmRleE9mKGZuKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGhvb2tzRm9yTmFtZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgaG9va3MgcmVnaXN0ZXJlZCB0byB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZXJuYWwgdXNlIChmcm9tIHRoZSBjb3JlIGNvZGUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9va3NGb3JOYW1lKG5hbWU6IHN0cmluZyk6ICgoLi4ucDEpID0+IGFueSlbXSB7XG4gIGNvbnN0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICByZXR1cm4gaG9va3NGb3JOYW1lIHx8IFtdO1xufVxuXG4vKipcbiAqIFB1YmlsYyBtZW1iZXJzIG9mIHRoZSBidW5kbGVkIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB7XG4gIHJlZ2lzdGVySG9vayxcbiAgcmVtb3ZlSG9vayxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQcm9maWxlIC0gVXRpbGl0eSBmb3IgcHJvZmlsaW5nXG4gKi9cbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIFBlcmZvcm1hbmNlIHByb2ZpbGVyIG1lYXN1cmluZyBleGVjdXRpb24gdGltZSBvZiB0aGUgc2NyaXB0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZmlsZXIge1xuICB0aW1lc3RhbXBzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfSA9IHt9O1xuICBwcml2YXRlIHJlZ2lzdGVyVGltaW5nOiAocDE6IHN0cmluZywgcDI6IHN0cmluZywgcDM/OiBudW1iZXIpID0+IGFueTtcbiAgcmVnaXN0ZXJTdGFydFRpbWluZzogKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKSA9PiBhbnk7XG4gIHJlZ2lzdGVyRW5kVGltaW5nOiAobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGVyZm9ybWFuY2VJbnN0YW5jZTogUGVyZm9ybWFuY2UpIHtcbiAgICB0aGlzLnJlZ2lzdGVyVGltaW5nID0gbm9vcDtcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcInJlZ2lzdGVyU3RhcnRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPSBub29wO1xuICAgIHRoaXNbXCJyZWdpc3RlckVuZFRpbWluZ1wiXSA9IHRoaXMucmVnaXN0ZXJFbmRUaW1pbmcgPSBub29wO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudCwgZXZlbiBpZiBwcm9maWxlIGlzIGRpc2FibGVkLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIGV2ZW50XG4gICAqIEBwYXJhbSB0aW1lc3RhbXAgVXNlZCBhcyB0aGUgYWN0dWFsIHRpbWVzdGFtcCBvZiB0aGUgZXZlbnQgaWYgc3BlY2lmaWVkLFxuICAgKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gICAqL1xuICBmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwic3RhcnRcIiwgdGltZXN0YW1wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgZW5kIHRpbWluZyBvZiBzb21lIGV2ZW50LCBldmVuIGlmIHByb2ZpbGUgaXMgZGlzYWJsZWQuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gICAqICAgICBpbnN0ZWFkIG9mIFwibm93XCJcbiAgICovXG4gIGZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwiZW5kXCIsIHRpbWVzdGFtcCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHJlZ2lzdGVyZWQgdGltaW5ncyAoc3RhcnQvZW5kL2R1cmF0aW9uKS5cbiAgICogQWxsIHZhbHVlcyBhcmUgcHJpbnRlZCBpbiBtcyB1bml0LlxuICAgKi9cbiAgcHJpbnRUaW1pbmdzKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aGlzLnRpbWVzdGFtcHM7XG4gICAgbGV0IHN0ID0gXCJcIjtcbiAgICBPYmplY3Qua2V5cyh0aW1lc3RhbXBzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdGFtcHMgPSB0aW1lc3RhbXBzW25hbWVdO1xuICAgICAgY29uc3QgbCA9IHN0YW1wcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCB0ID0gc3RhbXBzW2ldO1xuICAgICAgICBzdCArPSBuYW1lO1xuICAgICAgICBpZiAobCA+IDEpIHtcbiAgICAgICAgICBzdCArPSBgKCR7aX0pYDtcbiAgICAgICAgfVxuICAgICAgICBzdCArPSBgID0+IHN0YXJ0OiAke3RbXCJzdGFydFwiXX0sIGVuZDogJHt0W1wiZW5kXCJdfSwgZHVyYXRpb246ICR7XG4gICAgICAgICAgdFtcImVuZFwiXSAtIHRbXCJzdGFydFwiXVxuICAgICAgICB9XFxuYDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKHN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHByb2ZpbGluZy5cbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5yZWdpc3RlclRpbWluZyA9IG5vb3A7XG5cbiAgICAvLyBoYWNrIHRvIGV4cG9ydCAobm9uLXByb3RvdHlwZSkgbWV0aG9kc1xuICAgIHRoaXNbXCJyZWdpc3RlclN0YXJ0VGltaW5nXCJdID0gdGhpcy5yZWdpc3RlclN0YXJ0VGltaW5nID0gbm9vcDtcbiAgICB0aGlzW1wicmVnaXN0ZXJFbmRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyRW5kVGltaW5nID0gbm9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgcHJvZmlsaW5nLlxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMucmVnaXN0ZXJUaW1pbmcgPSByZWdpc3RlclRpbWluZztcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcbiAgICAgIFwicmVnaXN0ZXJTdGFydFRpbWluZ1wiXG4gICAgXSA9IHRoaXMucmVnaXN0ZXJTdGFydFRpbWluZyA9IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gICAgdGhpc1tcInJlZ2lzdGVyRW5kVGltaW5nXCJdID0gdGhpcy5yZWdpc3RlckVuZFRpbWluZyA9IHJlZ2lzdGVyRW5kVGltaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgcHJvZmlsaW5nIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKi9cbiAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPT09IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHt9XG5cbi8qKlxuICogUmVnaXN0ZXJzIHN0YXJ0L2VuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHN0YXJ0RW5kIEVpdGhlciBvZiBcInN0YXJ0XCIgb3IgXCJlbmRcIlxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyVGltaW5nKFxuICBuYW1lOiBzdHJpbmcsXG4gIHN0YXJ0RW5kOiBzdHJpbmcsXG4gIHRpbWVzdGFtcD86IG51bWJlcixcbik6IHZvaWQge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHRpbWVzdGFtcCA9IHRoaXMucGVyZm9ybWFuY2VJbnN0YW5jZS5ub3coKTtcbiAgfVxuICBsZXQgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXTtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXSA9IFtdO1xuICB9XG4gIGxldCB0O1xuICBjb25zdCBsID0gdGltZXN0YW1wcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0ID0gdGltZXN0YW1wc1tpXTtcbiAgICBpZiAodCAmJiAhdFtzdGFydEVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0ID0gbnVsbDtcbiAgfVxuICBpZiAoIXQpIHtcbiAgICB0ID0ge307XG4gICAgdGltZXN0YW1wcy5wdXNoKHQpO1xuICB9XG4gIHRbc3RhcnRFbmRdID0gdGltZXN0YW1wO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpOiB2b2lkIHtcbiAgdGhpcy5yZWdpc3RlclRpbWluZyhuYW1lLCBcInN0YXJ0XCIsIHRpbWVzdGFtcCk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGVuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRW5kVGltaW5nKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKTogdm9pZCB7XG4gIHRoaXMucmVnaXN0ZXJUaW1pbmcobmFtZSwgXCJlbmRcIiwgdGltZXN0YW1wKTtcbn1cbmNvbnN0IGZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSA9IHsgbm93OiBEYXRlLm5vdyB9IGFzIFBlcmZvcm1hbmNlO1xuY29uc3QgcGVyZm9ybWFuY2VJbnN0YW5jZSA9IHdpbmRvdyAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnQgY29uc3QgcHJvZmlsZXIgPSBuZXcgUHJvZmlsZXIoXG4gIHBlcmZvcm1hbmNlSW5zdGFuY2UgfHwgZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlLFxuKTtcbnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyhcImxvYWRfdml2bGlvc3R5bGVcIik7XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSB7XG4gIHByb2ZpbGVyOiB7XG4gICAgcmVnaXN0ZXJTdGFydFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyxcbiAgICByZWdpc3RlckVuZFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcsXG4gICAgcHJpbnRUaW1pbmdzOiBwcm9maWxlci5wcmludFRpbWluZ3MsXG4gICAgZGlzYWJsZTogcHJvZmlsZXIuZGlzYWJsZSxcbiAgICBlbmFibGU6IHByb2ZpbGVyLmVuYWJsZSxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgLSBDb21tb24gdXRpbGl0aWVzLlxuICovXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuXG5leHBvcnQgbGV0IGVtcHR5T2JqID0ge307XG5cbmV4cG9ydCB0eXBlIEpTT04gPSBhbnk7XG5cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9TdHJpbmcoanNvbjogSlNPTik6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSlNPTihzdHI6IHN0cmluZyk6IEpTT04ge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopLyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMV07XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRnJhZ21lbnRBbmRRdWVyeSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jP10qKS8pO1xuICBpZiAocikge1xuICAgIHJldHVybiByWzFdO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogQmFzZSBVUkwgcmVsYXRpdmUgdG8gd2hpY2ggVVJMcyBvZiByZXNvdXJjZXMgYXJlIHJlc29sdmVkLlxuICovXG5leHBvcnQgbGV0IGJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbmV4cG9ydCBmdW5jdGlvbiBzZXRCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgYmFzZVVSTCA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEJhc2UgVVJMIHJlbGF0aXZlIHRvIHdoaWNoIFVSTHMgb2YgcmVzb3VyY2VzIHN1Y2ggYXMgdmFsaWRhdGlvbi50eHQgYW5kXG4gKiB1c2VyLWFnZW50LmNzcyBhcmUgcmVzb2x2ZWQuXG4gKi9cbmV4cG9ydCBsZXQgcmVzb3VyY2VCYXNlVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzb3VyY2VCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgcmVzb3VyY2VCYXNlVVJMID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHJlbFVSTCByZWxhdGl2ZSBVUkxcbiAqIEBwYXJhbSBiYXNlVVJMIGJhc2UgKGFic29sdXRlKSBVUkxcbiAqIEByZXR1cm4gcmVzb2x2ZWQgKGFic29sdXRlKSBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVUkwocmVsVVJMOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICgvXmRhdGE6L2kudGVzdChiYXNlVVJMKSkge1xuICAgIHJldHVybiByZWxVUkwgfHwgYmFzZVVSTDtcbiAgfVxuICBpZiAoIWJhc2VVUkwgfHwgcmVsVVJMLm1hdGNoKC9eXFx3ezIsfTovKSkge1xuICAgIGlmIChyZWxVUkwudG9Mb3dlckNhc2UoKS5tYXRjaChcIl5qYXZhc2NyaXB0OlwiKSkge1xuICAgICAgcmV0dXJuIFwiI1wiO1xuICAgIH1cbiAgICBpZiAocmVsVVJMLm1hdGNoKC9eXFx3ezIsfTpcXC9cXC9bXlxcL10rJC8pKSB7XG4gICAgICByZWxVUkwgPSBgJHtyZWxVUkx9L2A7XG4gICAgfVxuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGJhc2VVUkwubWF0Y2goL15cXHd7Mix9OlxcL1xcL1teXFwvXSskLykpIHtcbiAgICBiYXNlVVJMID0gYCR7YmFzZVVSTH0vYDtcbiAgfVxuICBsZXQgcjogc3RyaW5nW107XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC9cXC8vKSkge1xuICAgIHIgPSBiYXNlVVJMLm1hdGNoKC9eKFxcd3syLH06KVxcL1xcLy8pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gclsxXSArIHJlbFVSTDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbFVSTDtcbiAgfVxuICBpZiAocmVsVVJMLm1hdGNoKC9eXFwvLykpIHtcbiAgICByID0gYmFzZVVSTC5tYXRjaCgvXihcXHd7Mix9OlxcL1xcL1teXFwvXSspXFwvLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByWzFdICsgcmVsVVJMO1xuICAgIH1cbiAgICByZXR1cm4gcmVsVVJMO1xuICB9XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC4oXFwvfCQpLykpIHtcbiAgICByZWxVUkwgPSByZWxVUkwuc3Vic3RyKDIpOyAvLyAnLi9mb28nID0+ICdmb28nXG4gIH1cbiAgYmFzZVVSTCA9IHN0cmlwRnJhZ21lbnRBbmRRdWVyeShiYXNlVVJMKTtcbiAgaWYgKHJlbFVSTC5tYXRjaCgvXiMvKSkge1xuICAgIHJldHVybiBiYXNlVVJMICsgcmVsVVJMO1xuICB9XG4gIGxldCBpID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi9cIik7XG4gIGlmIChpIDwgMCkge1xuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGkgPCBiYXNlVVJMLmxlbmd0aCAtIDEpIHtcbiAgICBjb25zdCBqID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGogPCBpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIGxhc3QgcGFydCB3aXRob3V0ICcuJyB0byBiZSBhIGRpcmVjdG9yeSBuYW1lLlxuICAgICAgaWYgKHJlbFVSTCA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgfVxuICAgICAgYmFzZVVSTCArPSBcIi9cIjtcbiAgICAgIGkgPSBiYXNlVVJMLmxlbmd0aCAtIDE7XG4gICAgfVxuICB9XG4gIGxldCB1cmwgPSBiYXNlVVJMLnN1YnN0cigwLCBpICsgMSkgKyByZWxVUkw7XG4gIGxldCB1cmxPcHRpb24gPSBcIlwiO1xuICByID0gdXJsLm1hdGNoKC9eKFtePyNdKikoWz8jXS4qKSQvKTtcbiAgaWYgKHIpIHtcbiAgICB1cmwgPSByWzFdO1xuICAgIHVybE9wdGlvbiA9IHJbMl07XG4gIH1cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGkgPSB1cmwuaW5kZXhPZihcIi8uLi9cIik7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGogPSB1cmwubGFzdEluZGV4T2YoXCIvXCIsIGkgLSAxKTtcbiAgICBpZiAoaiA8PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdXJsID0gdXJsLnN1YnN0cigwLCBqKSArIHVybC5zdWJzdHIoaSArIDMpO1xuICB9XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKFxcLlxcLykrL2csIFwiL1wiKSArIHVybE9wdGlvbjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIGNvbnZlcnRlZCBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTcGVjaWFsVVJMKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIGlmIChcbiAgICAociA9IC9eKGh0dHBzPzopXFwvXFwvZ2l0aHViXFwuY29tXFwvKFteL10rXFwvW14vXSspXFwvKGJsb2JcXC98dHJlZVxcL3xyYXdcXC8pPyguKikkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgR2l0SHViIFVSTCB0byBHaXRIdWIgcmF3IFVSTFxuICAgIHVybCA9IGAke3JbMV19Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7clsyXX0vJHtyWzNdID8gXCJcIiA6IFwibWFzdGVyL1wifSR7XG4gICAgICByWzRdXG4gICAgfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL3d3d1xcLmFvem9yYVxcLmdyXFwuanBcXC8oY2FyZHNcXC9bXi9dK1xcL2ZpbGVzXFwvW14vLl0rXFwuaHRtbCkkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgQW96b3JhYnVua28gKFgpSFRNTCBVUkwgdG8gR2l0SHViIHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hb3pvcmFidW5rby9hb3pvcmFidW5rby9tYXN0ZXIvJHtyWzJdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL2dpc3RcXC5naXRodWJcXC5jb21cXC8oW14vXStcXC9cXHcrKShcXC98JCkocmF3KFxcL3wkKSk/KC4qKSQvLmV4ZWMoXG4gICAgICB1cmwsXG4gICAgKSlcbiAgKSB7XG4gICAgLy8gQ29udmVydCBHaXN0IFVSTCB0byBHaXN0IHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vJHtyWzJdfS9yYXcvJHtyWzZdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcLyg/OlteLy5dK1xcLik/anNiaW5cXC5jb21cXC8oPyEoPzpibG9nfGhlbHApXFxiKShcXHcrKSgoXFwvXFxkKyk/KS4qJC8uZXhlYyhcbiAgICAgIHVybCxcbiAgICApKVxuICApIHtcbiAgICAvLyBDb252ZXJ0IEpTIEJpbiBVUkwgdG8gSlMgQmluIG91dHB1dCBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vb3V0cHV0LmpzYmluLmNvbS8ke3JbMl19JHtyWzNdfS9gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIFZhcmlvdXMgbmFtZXNwYWNlcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE5TIHtcbiAgRkIyID0gXCJodHRwOi8vd3d3LmdyaWJ1c2VyLnJ1L3htbC9maWN0aW9uYm9vay8yLjBcIixcbiAgZXB1YiA9IFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wc1wiLFxuICBFViA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS94bWwtZXZlbnRzXCIsXG4gIE1BVEhNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICBYTUwgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICBYSFRNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICBYTElOSyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICBTSEFET1cgPSBcImh0dHA6Ly93d3cucHlyb3h5LmNvbS9ucy9zaGFkb3dcIixcbiAgU1ZHID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICBEQyA9IFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIixcbiAgTkNYID0gXCJodHRwOi8vd3d3LmRhaXN5Lm9yZy96Mzk4Ni8yMDA1L25jeC9cIixcbiAgU1NFID0gXCJodHRwOi8vZXhhbXBsZS5jb20vc3NlXCIsIC8vIHRlbXBvcmFyeSBkdW1teSBuYW1lc3BhY2Vcbn1cblxuLyoqXG4gKiBAcGFyYW0gbmFtZSBwYXJhbWV0ZXIgbmFtZVxuICogQHBhcmFtIG9wdF91cmwgVVJMOyB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkIGlmIG5vdCBwcm92aWRlZFxuICogQHJldHVybiBwYXJhbWV0ZXIgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTFBhcmFtKG5hbWU6IHN0cmluZywgb3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCByZyA9IG5ldyBSZWdFeHAoYCMoLiomKT8ke2VzY2FwZVJlZ0V4cChuYW1lKX09KFteIyZdKilgKTtcbiAgY29uc3QgdXJsID0gb3B0X3VybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgY29uc3QgciA9IHVybC5tYXRjaChyZyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMl07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIG5hbWUgcGFyYW1ldGVyIG5hbWVcbiAqIEBwYXJhbSB2YWx1ZSBwYXJhbWV0ZXIgdmFsdWVcbiAqIEByZXR1cm4gbmV3IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VVJMUGFyYW0odXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJnID0gbmV3IFJlZ0V4cChgIyguKiYpPyR7ZXNjYXBlUmVnRXhwKG5hbWUpfT0oW14jJl0qKWApO1xuICBjb25zdCByID0gdXJsLm1hdGNoKHJnKTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBsZW5ndGggPSByWzJdLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aCAtIGxlbmd0aDtcbiAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBpbmRleCkgKyB2YWx1ZSArIHVybC5zdWJzdHIoaW5kZXggKyBsZW5ndGgpO1xuICB9XG4gIGlmICghdXJsLm1hdGNoKC8jLykpIHtcbiAgICByZXR1cm4gYCR7dXJsfSMke25hbWV9PSR7dmFsdWV9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dXJsfSYke25hbWV9PSR7dmFsdWV9YDtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4gP3N0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcodjogYW55KTogYW55IHtcbiAgaWYgKHYgPT0gbnVsbCkge1xuICAgIHJldHVybiB2O1xuICB9XG4gIHJldHVybiB2LnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIC0xIHdoZW4gdGhpcyBsZXNzIHRoZW4gb3RoZXIsIDAgd2hlbiB0aGlzIGVxdWFscyBvdGhlclxuICAgKi9cbiAgY29tcGFyZShvdGhlcjogQ29tcGFyYWJsZSk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIHByaW9yaXR5IHF1ZXVlLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIHF1ZXVlOiBDb21wYXJhYmxlW10gPSBbbnVsbF07XG5cbiAgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGFkZChpdGVtOiBDb21wYXJhYmxlKTogdm9pZCB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKGluZGV4ID4gMSkge1xuICAgICAgY29uc3QgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gMik7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgIGlmIChwYXJlbnQuY29tcGFyZShpdGVtKSA+IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtpbmRleF0gPSBpdGVtO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHBhcmVudDtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfVxuICAgIHRoaXMucXVldWVbMV0gPSBpdGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaGlnaGVzdCBwcmlvcml0eSBDb21wYXJhYmxlLlxuICAgKi9cbiAgcGVlaygpOiBDb21wYXJhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5xdWV1ZVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGhpZ2hlc3QtcHJpb3JpdHkgaXRlbSBmcm9tIHRoZSBxdWV1ZS5cbiAgICogQHJldHVybiByZW1vdmVkIGl0ZW0uXG4gICAqL1xuICByZW1vdmUoKTogQ29tcGFyYWJsZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWV1ZVsxXSBhcyBDb21wYXJhYmxlO1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLnF1ZXVlLnBvcCgpIGFzIENvbXBhcmFibGU7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucXVldWUubGVuZ3RoO1xuICAgIGlmIChzaXplID4gMSkge1xuICAgICAgbGV0IGluZGV4ID0gMTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGxldCBjaGlsZEluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBzaXplKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVbY2hpbGRJbmRleF0uY29tcGFyZShjdXJyKSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGlsZEluZGV4ICsgMSA8IHNpemUgJiZcbiAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoXG4gICAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gYXMgQ29tcGFyYWJsZSxcbiAgICAgICAgICAgICkgPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGlsZEluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNoaWxkSW5kZXggKyAxIDwgc2l6ZSAmJlxuICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoY3VycikgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIGNoaWxkSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHRoaXMucXVldWVbY2hpbGRJbmRleF07XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMucXVldWVbaW5kZXhdID0gY3VycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBwcmVmaXggUHJlZml4IChjb250YWluaW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGh5cGhlbnMpXG4gKiBAcGFyYW0gY3NzUHJvcE5hbWUgQ1NTIHByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm4gSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NUb0pTUHJvcChwcmVmaXg6IHN0cmluZywgY3NzUHJvcE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChwcmVmaXgpIHtcbiAgICBjc3NQcm9wTmFtZSA9IGAtJHtjc3NQcm9wTmFtZX1gO1xuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC8tL2csIFwiXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwibW96XCIpIHtcbiAgICAgIHByZWZpeCA9IFwiTW96XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgcHJlZml4ICtcbiAgICBjc3NQcm9wTmFtZS5yZXBsYWNlKC8tW2Etel0vZywgKHR4dCkgPT4gdHh0LnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpKVxuICApO1xufVxuXG5leHBvcnQgY29uc3Qga25vd25QcmVmaXhlcyA9IFtcIlwiLCBcIi13ZWJraXQtXCIsIFwiLW1vei1cIiwgXCItbXMtXCIsIFwiLW8tXCIsIFwiLWVwdWItXCJdO1xuXG5leHBvcnQgY29uc3QgcHJvcE5hbWVNYXAgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcbiAgcHJlZml4OiBzdHJpbmcsXG4gIHByb3A6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICAvLyBTcGVjaWFsIGNhc2VcbiAgaWYgKHByb3AgPT09IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICBjb25zdCBwcm9iZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwiLW1zLVwiKSB7XG4gICAgICBwcm9iZS5zdHlsZS5zZXRQcm9wZXJ0eShwcmVmaXggKyBwcm9wLCBcInRiLXJsXCIpO1xuICAgICAgcmV0dXJuIHByb2JlLnN0eWxlW1wid3JpdGluZy1tb2RlXCJdID09PSBcInRiLXJsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2JlLnN0eWxlLnNldFByb3BlcnR5KHByZWZpeCArIHByb3AsIFwidmVydGljYWwtcmxcIik7XG4gICAgICByZXR1cm4gcHJvYmUuc3R5bGVbcHJlZml4ICsgcHJvcF0gPT09IFwidmVydGljYWwtcmxcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHlsZVtjc3NUb0pTUHJvcChwcmVmaXgsIHByb3ApXSA9PT0gXCJzdHJpbmdcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3A6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gIGxldCBwcmVmaXhlZCA9IHByb3BOYW1lTWFwW3Byb3BdO1xuICBpZiAocHJlZml4ZWQgfHwgcHJlZml4ZWQgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIG1lYW5zIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHByb3BlcnR5XG4gICAgcmV0dXJuIHByZWZpeGVkO1xuICB9XG4gIHN3aXRjaCAocHJvcCkge1xuICAgIGNhc2UgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBTYWZhcmlcbiAgICAgIGlmIChcbiAgICAgICAgY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLXdlYmtpdC1cIiwgXCJ0ZXh0LWNvbWJpbmVcIikgJiZcbiAgICAgICAgIWNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIlwiLCBcInRleHQtY29tYmluZS11cHJpZ2h0XCIpXG4gICAgICApIHtcbiAgICAgICAgcHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LXRleHQtY29tYmluZVwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtdGV4dC1jb21iaW5lXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIndyaXRpbmctbW9kZVwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy1tcy13cml0aW5nLW1vZGUnIHRvICd3cml0aW5nLW1vZGUnXG4gICAgICBpZiAoY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLW1zLVwiLCBcIndyaXRpbmctbW9kZVwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi1tcy13cml0aW5nLW1vZGVcIl07XG4gICAgICAgIHJldHVybiBbXCItbXMtd3JpdGluZy1tb2RlXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZpbHRlclwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy13ZWJraXQtZmlsdGVyJyB0byAnZmlsdGVyJ1xuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiZmlsdGVyXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1maWx0ZXJcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LWZpbHRlclwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjbGlwLXBhdGhcIjpcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgY2hyb21lLlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiY2xpcC1wYXRoXCIpKSB7XG4gICAgICAgIHJldHVybiAocHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LWNsaXAtcGF0aFwiLCBcImNsaXAtcGF0aFwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibWFyZ2luLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLXN0YXJ0XCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1tYXJnaW4tc3RhcnRcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LW1hcmdpbi1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJtYXJnaW4taW5saW5lLWVuZFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLWVuZFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwicGFkZGluZy1zdGFydFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1lbmRcIjpcbiAgICAgIGlmIChjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQoXCItd2Via2l0LVwiLCBcInBhZGRpbmctZW5kXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1wYWRkaW5nLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1lbmRcIl07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICBmb3IgKGNvbnN0IHByZWZpeCBvZiBrbm93blByZWZpeGVzKSB7XG4gICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChwcmVmaXgsIHByb3ApKSB7XG4gICAgICBwcmVmaXhlZCA9IHByZWZpeCArIHByb3A7XG4gICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtwcmVmaXhlZF07XG4gICAgICByZXR1cm4gW3ByZWZpeGVkXTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJQcm9wZXJ0eSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyOiBcIiwgcHJvcCk7XG4gIHByb3BOYW1lTWFwW3Byb3BdID0gbnVsbDtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICB2YWx1ZTogc3RyaW5nLFxuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWVzID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3ApO1xuICAgIGlmICghcHJlZml4ZWRQcm9wZXJ0eU5hbWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZWZpeGVkUHJvcGVydHlOYW1lcy5mb3JFYWNoKChwcmVmaXhlZCkgPT4ge1xuICAgICAgaWYgKHByZWZpeGVkID09PSBcIi1tcy13cml0aW5nLW1vZGVcIikge1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImhvcml6b250YWwtdGJcIjpcbiAgICAgICAgICAgIHZhbHVlID0gXCJsci10YlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZlcnRpY2FsLXJsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwidGItcmxcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbC1sclwiOlxuICAgICAgICAgICAgdmFsdWUgPSBcInRiLWxyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcmVmaXhlZCA9PT0gXCItd2Via2l0LXRleHQtY29tYmluZVwiKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiYWxsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbGVtICYmIChlbGVtIGFzIEhUTUxFbGVtZW50KS5zdHlsZSkge1xuICAgICAgICAoZWxlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkocHJlZml4ZWQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICBvcHRfdmFsdWU/OiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICB0cnkge1xuICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBwcm9wTmFtZU1hcFtwcm9wXTtcbiAgICByZXR1cm4gKGVsZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXG4gICAgICBwcm9wZXJ0eU5hbWVzID8gcHJvcGVydHlOYW1lc1swXSA6IHByb3AsXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICByZXR1cm4gb3B0X3ZhbHVlIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgbGFuZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoTlMuWE1MLCBcImxhbmdcIik7XG4gIGlmICghbGFuZyAmJiBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBOUy5YSFRNTCkge1xuICAgIGxhbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gIH1cbiAgcmV0dXJuIGxhbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIGFwcGVuZChzdHI6IHN0cmluZyk6IFN0cmluZ0J1ZmZlciB7XG4gICAgdGhpcy5saXN0LnB1c2goc3RyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLmxpc3Quam9pbihcIlwiKTtcbiAgICB0aGlzLmxpc3QgPSBbc3RyXTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gbm90IGNhbGxlZCBmb3Igc3Vycm9nYXRlIHBhaXJzLCBubyBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZW1cbiAgcmV0dXJuIGBcXFxcJHtzdHIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNil9IGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1NJZGVudChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKC9bXi1fYS16QS1aMC05XFx1MDA4MC1cXHVGRkZGXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTU1N0cihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcdTAwMDAtXFx1MDAxRlwiXFxcXF0vZywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodFVSTEVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xccysmPz0jXFx1MDA3Ri1cXHVGRkZGXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGV0dGVyKGNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhY2gubWF0Y2goXG4gICAgL15bYS16QS1aXFx1MDA5RVxcdTAwOUZcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyNEZcXHUwMzdCLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwNDgyXFx1MDQ4QS1cXHUwNTI3XSQvLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ2hhclRvSGV4KHN0cjogc3RyaW5nLCBwcmVmaXg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBwcmVmaXggPSB0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiID8gcHJlZml4IDogXCJcXFxcdVwiO1xuICByZXR1cm4gcHJlZml4ICsgKDY1NTM2IHwgc3RyLmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVOYW1lU3RyVG9IZXgoc3RyOiBzdHJpbmcsIHByZWZpeD86IHN0cmluZyk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIGVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiBlc2NhcGVDaGFyVG9IZXgocywgcHJlZml4KTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIGVzY2FwZUNoYXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVzY2FwZU5hbWVTdHJUb0hleChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVDaGFyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcbiAgaWYgKHN0ci5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChzdHIuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpLCAxNikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlU3RyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcblxuICBmdW5jdGlvbiB1bmVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiB1bmVzY2FwZUNoYXJGcm9tSGV4KHMsIHByZWZpeCk7XG4gIH1cbiAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtlc2NhcGVSZWdFeHAocHJlZml4KX1bMC05YS1mQS1GXXs0fWAsIFwiZ1wiKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4cCwgdW5lc2NhcGVDaGFyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBnb29kIGlzIGRlZmluZWQgZm9yIGludHMgZnJvbSAwIHRvIGhpZ2gtMS4gSXQgaXMgc3VjaCB0aGF0IGZvclxuICogZWFjaCBpIGJldHdlZW4gMSBhbmQgaGlnaC0xICFnb29kKGktMSkgfHwgZ29vZChpKSBpcyB0cnVlLiBJbiBvdGhlciB3b3JkcyxcbiAqIGl0IGdvZXMgbGlrZSBmYWxzZSAuLi4gZmFsc2UgdHJ1ZSAuLi4gdHJ1ZS5cbiAqIEZpbmQgaSBzdWNoIHRoYXQgKGkgPT0gMCB8fCAhZ29vZChpLTEpKSAmJiAoaSA9PSBoIHx8IGdvb2QoaSkpXG4gKiBJbiBvdGhlciB3b3JkcywgZ29vZChpKSBpcyB0aGUgXCJmaXJzdFwiIGdvb2QgPSB0cnVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKFxuICBoaWdoOiBudW1iZXIsXG4gIGdvb2Q6IChwMTogbnVtYmVyKSA9PiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgbGV0IGwgPSAwO1xuICBsZXQgaCA9IGhpZ2g7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobCA8PSBoKTtcbiAgICBBc3NlcnRzLmFzc2VydChsID09IDAgfHwgIWdvb2QobCAtIDEpKTtcbiAgICBBc3NlcnRzLmFzc2VydChoID09IGhpZ2ggfHwgZ29vZChoKSk7XG4gICAgaWYgKGwgPT0gaCkge1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNvbnN0IG0gPSAobCArIGgpID4+IDE7XG4gICAgaWYgKGdvb2QobSkpIHtcbiAgICAgIGggPSBtO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBudW1iZXJzIGxvdyB0byBoaWdoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJDb21wYXJlKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5leHBvcnQgY29uc3QgYmFzZTY0Q2hhcnMgPVxuICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEJhc2U2NChzYjogU3RyaW5nQnVmZmVyLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGxlbmd0aDMgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDMpICogMztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGgzOyBpICs9IDMpIHtcbiAgICBjb25zdCBjMSA9IGRhdGEuY2hhckNvZGVBdChpKSAmIDI1NTtcbiAgICBjb25zdCBjMiA9IGRhdGEuY2hhckNvZGVBdChpICsgMSkgJiAyNTU7XG4gICAgY29uc3QgYzMgPSBkYXRhLmNoYXJDb2RlQXQoaSArIDIpICYgMjU1O1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzEgPj4gMikpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMSA8PCA0KSB8IChjMiA+PiA0KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMiA8PCAyKSB8IChjMyA+PiA2KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzMgJiA2MykpO1xuICB9XG4gIHN3aXRjaCAobGVuZ3RoIC0gbGVuZ3RoMykge1xuICAgIGNhc2UgMToge1xuICAgICAgY29uc3QgcDEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHAxID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKHAxIDw8IDQpICYgNjMpKTtcbiAgICAgIHNiLmFwcGVuZChcIj09XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgMjoge1xuICAgICAgY29uc3QgcTEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBjb25zdCBxMiA9IGRhdGEuY2hhckNvZGVBdChsZW5ndGgzICsgMSkgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHExID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChxMSA8PCA0KSB8IChxMiA+PiA0KSkgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKGJhc2U2NENoYXJzLmNoYXJBdCgocTIgPDwgMikgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKFwiPVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gRmlyc3QgZW5jb3VudGVyZWQgaXRlbSB3aW5zIG9uIGNvbGxpc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGggZW1wdHkgYW5kIG51bGwga2V5cyBhcmUgZHJvcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVCB9IHtcbiAgY29uc3QgbWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSA9IHt9O1xuICBmb3IgKGNvbnN0IHYgb2YgYXJyKSB7XG4gICAgY29uc3Qgazogc3RyaW5nIHwgbnVsbCA9IGtleSh2KTtcbiAgICBpZiAoayAmJiAhbWFwW2tdKSB7XG4gICAgICBtYXBba10gPSB2O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2Ygc3RyaW5ncyB0byBhbiBvYmplY3Qgd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBzZXQgdG9cbiAqIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVRvU2V0KGFycjogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHNldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHNldFthcnJbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gUmVwZWF0ZWQgaW5kaWNlcyBhcmUgYWxsIGNvbWJpbmVkIGludG9cbiAqIGFycmF5cy4gRWxlbWVudHMgd2l0aCBlbXB0eSBhbmQgbnVsbCBrZXlzIGFyZSBkcm9wcGVkLiBPcmRlcmluZyBvZiB0aGVcbiAqIGVsZW1lbnRzIGluIGFycmF5cyBpcyBwcmVzZXJ2ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVFtdIH0ge1xuICBjb25zdCBtYXA6IHsgW2tleTogc3RyaW5nXTogVFtdIH0gPSB7fTtcbiAgZm9yIChjb25zdCB2IG9mIGFycikge1xuICAgIGNvbnN0IGsgPSBrZXkodik7XG4gICAgaWYgKGspIHtcbiAgICAgIGlmIChtYXBba10pIHtcbiAgICAgICAgbWFwW2tdLnB1c2godik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBba10gPSBbdl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQXBwbHkgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBvZiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gZm4gc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmo8UCwgUj4oXG4gIG9iajogeyBba2V5OiBzdHJpbmddOiBQIH0sXG4gIGZuOiAocDE6IFAsIHAyOiBzdHJpbmcpID0+IFIsXG4pOiB7IFtrZXk6IHN0cmluZ106IFIgfSB7XG4gIGNvbnN0IHJlczogeyBba2V5OiBzdHJpbmddOiBSIH0gPSB7fTtcbiAgZm9yIChjb25zdCBuIGluIG9iaikge1xuICAgIHJlc1tuXSA9IGZuKG9ialtuXSwgbik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFNpemUob2JqOiBvYmplY3QpOiBudW1iZXIge1xuICBsZXQgbiA9IDA7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnQgPSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdGFyZ2V0PztcbiAgY3VycmVudFRhcmdldD87XG4gIHByZXZlbnREZWZhdWx0PztcbiAgbmV3UGFnZT87XG4gIGFuY2hvckVsZW1lbnQ/O1xuICBocmVmPztcbiAgY29udGVudD87XG59O1xuXG5leHBvcnQgdHlwZSBFdmVudExpc3RlbmVyID0gKHAxOiBFdmVudCkgPT4gdm9pZDtcblxuLyoqXG4gKiBFeHRlbWVseSBzaW1wbGUtbWluZGVkIEV2ZW50VGFyZ2V0IGltcGxlbWVudGF0aW9uLiBDb25zaWRlciB1c2luZ1xuICogZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQgaWYgeW91IGFyZSB1c2luZyBDbG9zdXJlIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVFdmVudFRhcmdldCB7XG4gIGxpc3RlbmVyczogeyBba2V5OiBzdHJpbmddOiBFdmVudExpc3RlbmVyW10gfSA9IHt9O1xuXG4gIGRpc3BhdGNoRXZlbnQoZXZ0OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1tldnQudHlwZV07XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGV2dC50YXJnZXQgPSB0aGlzO1xuICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RbaV0oZXZ0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcixcbiAgICBjYXB0dXJlPzogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKGNhcHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGlzdCA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBsaXN0LnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXSA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChjYXB0dXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IHR5cGUgRXZlbnRUYXJnZXQgPSBTaW1wbGVFdmVudFRhcmdldDtcblxuZXhwb3J0IGxldCBoYXNMU2hhcGVGbG9hdEJ1ZzogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGlzIGEgYnVnIHdpdGggTC1zaGFwZSBmbG9hdHMgb3ZlcmxhcHBpbmcgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTFNoYXBlRmxvYXRCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc0xTaGFwZUZsb2F0QnVnID09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGNvbnN0IGYxID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgZjEuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIGYxLnN0eWxlLmhlaWdodCA9IFwiMTRweFwiO1xuICAgIGYxLnN0eWxlLmNzc0Zsb2F0ID0gXCJsZWZ0XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGYxKTtcbiAgICBjb25zdCBmMiA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGYyLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuY3NzRmxvYXQgPSBcImxlZnRcIjtcbiAgICBmMi5zdHlsZS5jbGVhciA9IFwibGVmdFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmMik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGxlZnRFZGdlID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBoYXNMU2hhcGVGbG9hdEJ1ZyA9IGxlZnRFZGdlIDwgNDA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNMU2hhcGVGbG9hdEJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNWZXJ0aWNhbEJCb3hCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIGJ1ZyB3aXRoIHRoZSBib3VuZGluZyBib3hlcyBvZiB2ZXJ0aWNhbCB0ZXh0IGNoYXJhY3RlcnMuXG4gKiBUaG91Z2ggbWV0aG9kIHVzZWQgdG8gYmUgdXNlZCBjaGVjayBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0IHRoZSBidWcgaGFzXG4gKiBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCB0byBjaGVjayBGaXJlZm94IGJ1ZzpcbiAqICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE1OTMwOVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tWZXJ0aWNhbEJCb3hCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc1ZlcnRpY2FsQkJveEJ1ZyA9PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIHNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgXCJ3cml0aW5nLW1vZGVcIiwgXCJ2ZXJ0aWNhbC1ybFwiKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGJveCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGhhc1ZlcnRpY2FsQkJveEJ1ZyA9IGJveC5yaWdodCAtIGJveC5sZWZ0IDwgMTA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNWZXJ0aWNhbEJCb3hCdWc7XG59XG5cbmV4cG9ydCBsZXQgaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zyhib2R5OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICBpZiAoaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgfCBcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDApO1xuICAgIHJhbmdlLnNldEVuZCh0LCAzKTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWcgPSBib3gucmlnaHQgPCAyNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnKFxuICBib2R5OiBIVE1MRWxlbWVudCxcbik6IGJvb2xlYW4ge1xuICBpZiAoaGFzU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYS1cIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDIpO1xuICAgIHJhbmdlLnNldEVuZCh0LCA0KTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcgPSBib3gucmlnaHQgPCAzNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGJvZHk6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGlmIChoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWcgPT09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjQwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9IFwianVzdGlmeVwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICBjb25zdCB0ID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiYSBhLVwiKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KFwid2JyXCIpKTtcbiAgICBjb25zdCBpbmxpbmVCbG9jayA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS53aWR0aCA9IFwiNDBweFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmxpbmVCbG9jayk7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydCh0LCAyKTtcbiAgICByYW5nZS5zZXRFbmQodCwgNCk7XG4gICAgY29uc3QgYm94ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaGFzU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnID0gYm94LnJpZ2h0IDwgMzc7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENmaSAtIFN1cHBvcnQgZm9yIEVQVUIgQ2Fub25pY2FsIEZyYWdtZW50IElkZW50aWZpZXJzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUG9zaXRpb24gPSB7XG4gIG5vZGU6IE5vZGU7XG4gIG9mZnNldDogbnVtYmVyO1xuICBhZnRlcjogYm9vbGVhbjtcbiAgc2lkZUJpYXM6IHN0cmluZyB8IG51bGw7XG4gIHJlZjogRnJhZ21lbnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWQobm9kZTogTm9kZSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgY29uc3QgaWR0eHQgPSAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWR0eHQgJiYgaWR0eHQubWF0Y2goL15bLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSskLykpIHtcbiAgICAgIHJldHVybiBpZHR4dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYF4ke2NofWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXFtcXF1cXChcXCksPTteXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlQ2hhcihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIuc3Vic3RyKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXF5bXFxbXFxdXFwoXFwpLD07Xl0vZywgdW5lc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXh0VmFsKGV4dHN0cjogc3RyaW5nKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZG8ge1xuICAgIGNvbnN0IHIgPSBleHRzdHIubWF0Y2goL14oXFxeLHxbXixdKSovKTtcbiAgICBjb25zdCBwID0gdW5lc2NhcGUoclswXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCArIDEpO1xuICAgIGlmICghZXh0c3RyICYmICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gocCk7XG4gIH0gd2hpbGUgKGV4dHN0cik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV4dChleHRzdHI6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSB7XG4gIGNvbnN0IGV4dCA9IHt9O1xuICB3aGlsZSAoZXh0c3RyKSB7XG4gICAgY29uc3QgciA9IGV4dHN0ci5tYXRjaCgvXjsoW147PV0rKT0oKFteO118XFxeOykqKS8pO1xuICAgIGlmICghcikge1xuICAgICAgcmV0dXJuIGV4dDtcbiAgICB9XG4gICAgZXh0W3JbMV1dID0gcGFyc2VFeHRWYWwoclsyXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwIHtcbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZDtcblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgUmVmU3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBhcHBlbmRUbyhzYjogQmFzZS5TdHJpbmdCdWZmZXIpIHtcbiAgICBzYi5hcHBlbmQoXCIhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlUbyhwb3M6IFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlsZFN0ZXAgaW1wbGVtZW50cyBTdGVwIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKHNiOiBCYXNlLlN0cmluZ0J1ZmZlcik6IHZvaWQge1xuICAgIHNiLmFwcGVuZChcIi9cIik7XG4gICAgc2IuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMuaWQgfHwgdGhpcy5zaWRlQmlhcykge1xuICAgICAgc2IuYXBwZW5kKFwiW1wiKTtcbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAocG9zLm5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0VMRU1FTlRcIik7XG4gICAgfVxuICAgIGNvbnN0IGVsZW0gPSBwb3Mubm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudHMgPSBlbGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudENvdW50ID0gY2hpbGRFbGVtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBNYXRoLmZsb29yKHRoaXMuaW5kZXggLyAyKSAtIDE7XG4gICAgaWYgKGNoaWxkSW5kZXggPCAwIHx8IGNoaWxkRWxlbWVudENvdW50ID09IDApIHtcbiAgICAgIGNoaWxkID0gZWxlbS5maXJzdENoaWxkO1xuICAgICAgcG9zLm5vZGUgPSBjaGlsZCB8fCBlbGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZCA9IGNoaWxkRWxlbWVudHNbTWF0aC5taW4oY2hpbGRJbmRleCwgY2hpbGRFbGVtZW50Q291bnQgLSAxKV07XG4gICAgICBpZiAodGhpcy5pbmRleCAmIDEpIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcy5ub2RlID0gY2hpbGQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkICYmIChwb3MuYWZ0ZXIgfHwgdGhpcy5pZCAhPSBnZXRJZChwb3Mubm9kZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9JRF9NSVNNQVRDSFwiKTtcbiAgICB9XG4gICAgcG9zLnNpZGVCaWFzID0gdGhpcy5zaWRlQmlhcztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2Zmc2V0U3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRCZWZvcmU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRBZnRlcjogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lkZUJpYXM6IHN0cmluZyB8IG51bGwsXG4gICkge31cblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5vZmZzZXQgPiAwICYmICFwb3MuYWZ0ZXIpIHtcbiAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgIGxldCBub2RlID0gcG9zLm5vZGU7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmIChub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICgzIDw9IG5vZGVUeXBlICYmIG5vZGVUeXBlIDw9IDUpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKG9mZnNldCA8PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCAtPSB0ZXh0TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICB9XG4gICAgICBwb3Mubm9kZSA9IG5vZGU7XG4gICAgICBwb3Mub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBwb3Muc2lkZUJpYXMgPSB0aGlzLnNpZGVCaWFzO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZCB7XG4gICAgc2IuYXBwZW5kKFwiOlwiKTtcbiAgICBzYi5hcHBlbmQodGhpcy5vZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlciB8fCB0aGlzLnNpZGVCaWFzKSB7XG4gICAgICBzYi5hcHBlbmQoXCJbXCIpO1xuICAgICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlcikge1xuICAgICAgICBpZiAodGhpcy50ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgc2IuYXBwZW5kKGVzY2FwZSh0aGlzLnRleHRCZWZvcmUpKTtcbiAgICAgICAgfVxuICAgICAgICBzYi5hcHBlbmQoXCIsXCIpO1xuICAgICAgICBpZiAodGhpcy50ZXh0QWZ0ZXIpIHtcbiAgICAgICAgICBzYi5hcHBlbmQoZXNjYXBlKHRoaXMudGV4dEFmdGVyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYWdtZW50IHtcbiAgc3RlcHM6IFN0ZXBbXSA9IG51bGw7XG5cbiAgZnJvbVN0cmluZyhmcmFnc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgciA9IGZyYWdzdHIubWF0Y2goL14jP2VwdWJjZmlcXCgoLiopXFwpJC8pO1xuICAgIGlmICghcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0NGSVwiKTtcbiAgICB9XG4gICAgY29uc3Qgc3RyID0gclsxXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGV4dDoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKHN0ci5jaGFyQXQoaSkpIHtcbiAgICAgICAgY2FzZSBcIi9cIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWyhbLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSspKDsoW15cXF1dfFxcXlxcXSkqKT9cXF0pPy8sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTlVNQkVSX0VYUEVDVEVEXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpICs9IHJbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGNvbnN0IGlkID0gclszXTtcbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzRdKTtcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBDaGlsZFN0ZXAoaW5kZXgsIGlkLCBCYXNlLmFzU3RyaW5nKGV4dFtcInNcIl0pKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWygoKFteXFxdOyxdfFxcXltcXF07LF0pKikoLCgoW15cXF07LF18XFxeW1xcXTssXSkqKSk/KSg7KFteXV18XFxeXFxdKSopP1xcXSk/LyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9OVU1CRVJfRVhQRUNURURcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkgKz0gclswXS5sZW5ndGg7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGxldCB0ZXh0QmVmb3JlID0gcls0XTtcbiAgICAgICAgICBpZiAodGV4dEJlZm9yZSkge1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHVuZXNjYXBlKHRleHRCZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdGV4dEFmdGVyID0gcls3XTtcbiAgICAgICAgICBpZiAodGV4dEFmdGVyKSB7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB1bmVzY2FwZSh0ZXh0QWZ0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzEwXSk7XG4gICAgICAgICAgc3RlcHMucHVzaChcbiAgICAgICAgICAgIG5ldyBPZmZzZXRTdGVwKFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRleHRCZWZvcmUsXG4gICAgICAgICAgICAgIHRleHRBZnRlcixcbiAgICAgICAgICAgICAgQmFzZS5hc1N0cmluZyhleHRbXCJzXCJdKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiIVwiOlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBSZWZTdGVwKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiflwiOlxuICAgICAgICBjYXNlIFwiQFwiOlxuXG4gICAgICAgIC8vIFRpbWUvc3BhY2UgdGVybWludXM7IG9ubHkgdXNlZnVsIGZvciBoaWdobGlnaHRzL3NlbGVjdGlvbnMgd2hpY2ggYXJlXG4gICAgICAgIC8vIG5vdCB5ZXQgc3VwcG9ydGVkLCBza2lwIGZvciBub3cuIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgdGhpcy5zdGVwcyA9IHN0ZXBzO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9QQVJTRV9FUlJPUlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZShkb2M6IERvY3VtZW50KTogUG9zaXRpb24ge1xuICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgIG5vZGU6IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBzaWRlQmlhczogbnVsbCxcbiAgICAgIHJlZjogbnVsbCxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnN0ZXBzW2ldLmFwcGx5VG8ocG9zKSkge1xuICAgICAgICBwb3MucmVmID0gbmV3IEZyYWdtZW50KCk7XG4gICAgICAgIHBvcy5yZWYuc3RlcHMgPSB0aGlzLnN0ZXBzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICB0cmltKHRleHQ6IHN0cmluZywgYWZ0ZXI6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAgIC5tYXRjaChcbiAgICAgICAgYWZ0ZXJcbiAgICAgICAgICA/IC9eWyAtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl17MCw4fS9cbiAgICAgICAgICA6IC9bIC1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXswLDh9JC8sXG4gICAgICApWzBdXG4gICAgICAucmVwbGFjZSgvXlxccy8sIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFxzJC8sIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZnJvbSBhIG5vZGUgYW5kIGFuIG9mZnNldC5cbiAgICovXG4gIHByZXBlbmRQYXRoRnJvbU5vZGUoXG4gICAgbm9kZTogTm9kZSxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhZnRlcjogYm9vbGVhbixcbiAgICBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gXCJcIjtcbiAgICBsZXQgdGV4dEFmdGVyID0gXCJcIjtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMzogLy8gVGV4dCBub2Rlc1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNToge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCF0ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgICAgIHRleHRCZWZvcmUgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWZ0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHRleHQuc3Vic3RyKDAsIG9mZnNldCk7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB0ZXh0LnN1YnN0cihvZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA4OiAvLyBDb21tZW50IE5vZGVcbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdGV4dEJlZm9yZSB8fCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIHRleHRCZWZvcmUgPSB0aGlzLnRyaW0odGV4dEJlZm9yZSwgZmFsc2UpO1xuICAgICAgdGV4dEFmdGVyID0gdGhpcy50cmltKHRleHRBZnRlciwgdHJ1ZSk7XG4gICAgICBzdGVwcy5wdXNoKG5ldyBPZmZzZXRTdGVwKG9mZnNldCwgdGV4dEJlZm9yZSwgdGV4dEFmdGVyLCBzaWRlQmlhcykpO1xuICAgICAgc2lkZUJpYXMgPSBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgPT0gOSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gYWZ0ZXIgPyBudWxsIDogZ2V0SWQobm9kZSk7XG4gICAgICBsZXQgaW5kZXggPSBhZnRlciA/IDEgOiAwO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgc3RlcHMucHVzaChuZXcgQ2hpbGRTdGVwKGluZGV4LCBpZCwgc2lkZUJpYXMpKTtcbiAgICAgIHNpZGVCaWFzID0gbnVsbDtcbiAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgfVxuICAgIHN0ZXBzLnJldmVyc2UoKTtcbiAgICBpZiAodGhpcy5zdGVwcykge1xuICAgICAgc3RlcHMucHVzaChuZXcgUmVmU3RlcCgpKTtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcy5jb25jYXQodGhpcy5zdGVwcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5zdGVwcykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiZXB1YmNmaShcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBzW2ldLmFwcGVuZFRvKHNiKTtcbiAgICB9XG4gICAgc2IuYXBwZW5kKFwiKVwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFeHBycyAtIGAtZXB1YngtZXhwcmAgQWRhcHRpdmUgTGF5b3V0IGV4cHJlc3Npb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXMgPSB7XG4gIGZvbnRGYW1pbHk6IHN0cmluZztcbiAgbGluZUhlaWdodDogbnVtYmVyO1xuICBtYXJnaW46IG51bWJlcjtcbiAgaHlwaGVuYXRlOiBib29sZWFuO1xuICBjb2x1bW5XaWR0aDogbnVtYmVyO1xuICBob3Jpem9udGFsOiBib29sZWFuO1xuICBuaWdodE1vZGU6IGJvb2xlYW47XG4gIHNwcmVhZFZpZXc6IGJvb2xlYW47XG4gIHBhZ2VCb3JkZXI6IG51bWJlcjtcbiAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICBkZWZhdWx0UGFwZXJTaXplPzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UHJlZmVyZW5jZXMoKTogUHJlZmVyZW5jZXMge1xuICByZXR1cm4ge1xuICAgIGZvbnRGYW1pbHk6IFwic2VyaWZcIixcbiAgICBsaW5lSGVpZ2h0OiAxLjI1LFxuICAgIG1hcmdpbjogOCxcbiAgICBoeXBoZW5hdGU6IGZhbHNlLFxuICAgIGNvbHVtbldpZHRoOiAyNSxcbiAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICBuaWdodE1vZGU6IGZhbHNlLFxuICAgIHNwcmVhZFZpZXc6IGZhbHNlLFxuICAgIHBhZ2VCb3JkZXI6IDEsXG4gICAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgdml2bGlvc3R5bGU6IHRydWUsIHByaW50OiB0cnVlIH0sXG4gICAgZGVmYXVsdFBhcGVyU2l6ZTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVQcmVmZXJlbmNlcyhwcmVmOiBQcmVmZXJlbmNlcyk6IFByZWZlcmVuY2VzIHtcbiAgcmV0dXJuIHtcbiAgICBmb250RmFtaWx5OiBwcmVmLmZvbnRGYW1pbHksXG4gICAgbGluZUhlaWdodDogcHJlZi5saW5lSGVpZ2h0LFxuICAgIG1hcmdpbjogcHJlZi5tYXJnaW4sXG4gICAgaHlwaGVuYXRlOiBwcmVmLmh5cGhlbmF0ZSxcbiAgICBjb2x1bW5XaWR0aDogcHJlZi5jb2x1bW5XaWR0aCxcbiAgICBob3Jpem9udGFsOiBwcmVmLmhvcml6b250YWwsXG4gICAgbmlnaHRNb2RlOiBwcmVmLm5pZ2h0TW9kZSxcbiAgICBzcHJlYWRWaWV3OiBwcmVmLnNwcmVhZFZpZXcsXG4gICAgcGFnZUJvcmRlcjogcHJlZi5wYWdlQm9yZGVyLFxuICAgIGVuYWJsZWRNZWRpYVR5cGVzOiBPYmplY3QuYXNzaWduKHt9LCBwcmVmLmVuYWJsZWRNZWRpYVR5cGVzKSxcbiAgICBkZWZhdWx0UGFwZXJTaXplOiBwcmVmLmRlZmF1bHRQYXBlclNpemVcbiAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcHJlZi5kZWZhdWx0UGFwZXJTaXplKVxuICAgICAgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSA9IGRlZmF1bHRQcmVmZXJlbmNlcygpO1xuXG5pbnRlcmZhY2UgUGVuZGluZyB7fVxudHlwZSBTcGVjaWFsID0gUGVuZGluZztcblxuLyoqXG4gKiBTcGVjaWFsIG1hcmtlciB2YWx1ZSB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBleHByZXNzaW9uIHJlc3VsdCBpcyBiZWluZ1xuICogY2FsY3VsYXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNwZWNpYWwgPSB7XG4gIFBFTkRJTkc6IHt9IGFzIFBlbmRpbmcsXG59O1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBQZW5kaW5nUmVzdWx0ID0gU3BlY2lhbCB8IFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxldHRlcmJveChcbiAgdmlld1c6IG51bWJlcixcbiAgdmlld0g6IG51bWJlcixcbiAgb2JqVzogbnVtYmVyLFxuICBvYmpIOiBudW1iZXIsXG4pOiBzdHJpbmcge1xuICBjb25zdCBzY2FsZSA9IE1hdGgubWluKCh2aWV3VyAtIDApIC8gb2JqVywgKHZpZXdIIC0gMCkgLyBvYmpIKTtcbiAgcmV0dXJuIGBtYXRyaXgoJHtzY2FsZX0sMCwwLCR7c2NhbGV9LDAsMClgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1Mgc3RyaW5nIHdpdGggdmFsdWUgc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NTdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYFwiJHtCYXNlLmVzY2FwZUNTU1N0cihgJHtzdHJ9YCl9XCJgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1MgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzSWRlbnQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIEJhc2UuZXNjYXBlQ1NTSWRlbnQoYCR7bmFtZX1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWFsaWZpZWROYW1lKFxuICBvYmpOYW1lOiBzdHJpbmcgfCBudWxsLFxuICBtZW1iZXJOYW1lOiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAob2JqTmFtZSkge1xuICAgIHJldHVybiBgJHtCYXNlLmVzY2FwZUNTU0lkZW50KG9iak5hbWUpfS4ke0Jhc2UuZXNjYXBlQ1NTSWRlbnQobWVtYmVyTmFtZSl9YDtcbiAgfVxuICByZXR1cm4gQmFzZS5lc2NhcGVDU1NJZGVudChtZW1iZXJOYW1lKTtcbn1cblxuZXhwb3J0IGxldCBuZXh0S2V5SW5kZXg6IG51bWJlciA9IDA7XG5cbi8qKlxuICogTGV4aWNhbCBzY29wZSBvZiB0aGUgZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExleGljYWxTY29wZSB7XG4gIHNjb3BlS2V5OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBMZXhpY2FsU2NvcGVbXSA9IFtdO1xuICB6ZXJvOiBDb25zdDtcbiAgb25lOiBDb25zdDtcbiAgX3RydWU6IENvbnN0O1xuICBfZmFsc2U6IENvbnN0O1xuICB2YWx1ZXM6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgZnVuY3M6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgYnVpbHRJbnM6IHsgW2tleTogc3RyaW5nXTogKC4uLnAxOiBSZXN1bHRbXSkgPT4gUmVzdWx0IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGFyZW50OiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlc29sdmVyPzogKHAxOiBzdHJpbmcsIHAyOiBib29sZWFuKSA9PiBWYWwsXG4gICkge1xuICAgIHRoaXMuc2NvcGVLZXkgPSBgUyR7bmV4dEtleUluZGV4Kyt9YDtcbiAgICB0aGlzLnplcm8gPSBuZXcgQ29uc3QodGhpcywgMCk7XG4gICAgdGhpcy5vbmUgPSBuZXcgQ29uc3QodGhpcywgMSk7XG4gICAgdGhpcy5fdHJ1ZSA9IG5ldyBDb25zdCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLl9mYWxzZSA9IG5ldyBDb25zdCh0aGlzLCBmYWxzZSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAvLyByb290IHNjb3BlXG4gICAgICBjb25zdCBidWlsdElucyA9IHRoaXMuYnVpbHRJbnM7XG4gICAgICBidWlsdEluc1tcImZsb29yXCJdID0gTWF0aC5mbG9vcjtcbiAgICAgIGJ1aWx0SW5zW1wiY2VpbFwiXSA9IE1hdGguY2VpbDtcbiAgICAgIGJ1aWx0SW5zW1wicm91bmRcIl0gPSBNYXRoLnJvdW5kO1xuICAgICAgYnVpbHRJbnNbXCJzcXJ0XCJdID0gTWF0aC5zcXJ0O1xuICAgICAgYnVpbHRJbnNbXCJtaW5cIl0gPSBNYXRoLm1pbjtcbiAgICAgIGJ1aWx0SW5zW1wibWF4XCJdID0gTWF0aC5tYXg7XG4gICAgICBidWlsdEluc1tcImxldHRlcmJveFwiXSA9IGxldHRlcmJveDtcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLXN0cmluZ1wiXSA9IGNzc1N0cmluZztcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLW5hbWVcIl0gPSBjc3NJZGVudDtcbiAgICAgIGJ1aWx0SW5zW1widHlwZW9mXCJdID0gKHgpID0+IHR5cGVvZiB4O1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2Utd2lkdGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlV2lkdGgoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2UtaGVpZ2h0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZUhlaWdodCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1mb250LWZhbWlseVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuZm9udEZhbWlseTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbmlnaHQtbW9kZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYubmlnaHRNb2RlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1oeXBoZW5hdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmh5cGhlbmF0ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbWFyZ2luXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5tYXJnaW47XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWxpbmUtaGVpZ2h0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5saW5lSGVpZ2h0O1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1jb2x1bW4td2lkdGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmNvbHVtbldpZHRoICogdGhpcy5mb250U2l6ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtaG9yaXpvbnRhbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuaG9yaXpvbnRhbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtc3ByZWFkLXZpZXdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLnNwcmVhZFZpZXc7XG4gICAgICB9KTtcblxuICAgICAgLy8gRm9yIGVudihwdWItdGl0bGUpIGFuZCBlbnYoZG9jLXRpdGxlKVxuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInB1Yi10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5wdWJUaXRsZSA/IHRoaXMucHViVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcImRvYy10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5kb2NUaXRsZSA/IHRoaXMuZG9jVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZUJ1aWx0SW5OYW1lKG5hbWU6IHN0cmluZywgZm46ICgpID0+IFJlc3VsdCkge1xuICAgIHRoaXMudmFsdWVzW25hbWVdID0gbmV3IE5hdGl2ZSh0aGlzLCBmbiwgbmFtZSk7XG4gIH1cblxuICBkZWZpbmVOYW1lKHF1YWxpZmllZE5hbWU6IHN0cmluZywgdmFsOiBWYWwpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlc1txdWFsaWZpZWROYW1lXSA9IHZhbDtcbiAgfVxuXG4gIGRlZmluZUZ1bmMocXVhbGlmaWVkTmFtZTogc3RyaW5nLCB2YWw6IFZhbCk6IHZvaWQge1xuICAgIHRoaXMuZnVuY3NbcXVhbGlmaWVkTmFtZV0gPSB2YWw7XG4gIH1cblxuICBkZWZpbmVCdWlsdEluKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZm46ICguLi5wMTogUmVzdWx0W10pID0+IFJlc3VsdCk6IHZvaWQge1xuICAgIHRoaXMuYnVpbHRJbnNbcXVhbGlmaWVkTmFtZV0gPSBmbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInB4XCI6XG4gICAgY2FzZSBcImluXCI6XG4gICAgY2FzZSBcInB0XCI6XG4gICAgY2FzZSBcInBjXCI6XG4gICAgY2FzZSBcImNtXCI6XG4gICAgY2FzZSBcIm1tXCI6XG4gICAgY2FzZSBcInFcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInZ3XCI6XG4gICAgY2FzZSBcInZoXCI6XG4gICAgY2FzZSBcInZpXCI6XG4gICAgY2FzZSBcInZiXCI6XG4gICAgY2FzZSBcInZtaW5cIjpcbiAgICBjYXNlIFwidm1heFwiOlxuICAgIGNhc2UgXCJwdndcIjpcbiAgICBjYXNlIFwicHZoXCI6XG4gICAgY2FzZSBcInB2aVwiOlxuICAgIGNhc2UgXCJwdmJcIjpcbiAgICBjYXNlIFwicHZtaW5cIjpcbiAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9udFJlbGF0aXZlTGVuZ3RoVW5pdCh1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlIFwiZW1cIjpcbiAgICBjYXNlIFwiZXhcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VW5pdFNpemVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICBweDogMSxcbiAgaW46IDk2LFxuICBwdDogNCAvIDMsXG4gIHBjOiA5NiAvIDYsXG4gIGNtOiA5NiAvIDIuNTQsXG4gIG1tOiA5NiAvIDI1LjQsXG4gIHE6IDk2IC8gMi41NCAvIDQwLFxuICBlbTogMTYsXG4gIHJlbTogMTYsXG4gIGV4OiA4LFxuICAvLyA8cmVzb2x1dGlvbj5cbiAgZHBweDogMSxcbiAgZHBpOiAxIC8gOTYsXG4gIGRwY206IDIuNTQgLyA5Nixcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiBhIHVuaXQgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBweCBiZWZvcmUgYXBwbGllZCB0byB0aGUgcmF3IERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZWRVbml0Q29udmVyc2lvbih1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0KSB7XG4gICAgY2FzZSBcInFcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNjb3BlQ29udGV4dCA9IHtcbiAgW2tleTogc3RyaW5nXTogUmVzdWx0O1xufTtcblxuLyoqXG4gKiBSdW4tdGltZSBpbnN0YW5jZSBvZiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IHtcbiAgcHJvdGVjdGVkIGFjdHVhbFBhZ2VXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VXaWR0aDogKCkgPT4gbnVtYmVyO1xuICBwcm90ZWN0ZWQgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VIZWlnaHQ6ICgpID0+IG51bWJlcjtcbiAgaW5pdGlhbEZvbnRTaXplOiBudW1iZXI7XG4gIHJvb3RGb250U2l6ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGZvbnRTaXplOiAoKSA9PiBudW1iZXI7XG4gIHByZWY6IFByZWZlcmVuY2VzO1xuICBzY29wZXM6IHsgW2tleTogc3RyaW5nXTogU2NvcGVDb250ZXh0IH0gPSB7fTtcbiAgcGFnZUFyZWFXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VBcmVhSGVpZ2h0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcGFnZVZlcnRpY2FsOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHB1YlRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZG9jVGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb290U2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEhlaWdodDogbnVtYmVyLFxuICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucGFnZVdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuYWN0dWFsUGFnZVdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdHVhbFBhZ2VXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgID8gTWF0aC5mbG9vcih2aWV3cG9ydFdpZHRoIC8gMikgLSB0aGlzLnByZWYucGFnZUJvcmRlclxuICAgICAgICAgIDogdmlld3BvcnRXaWR0aDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucGFnZUhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmFjdHVhbFBhZ2VIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0dWFsUGFnZUhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2aWV3cG9ydEhlaWdodDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaW5pdGlhbEZvbnRTaXplID0gZm9udFNpemU7XG4gICAgdGhpcy5mb250U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnJvb3RGb250U2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Rm9udFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9udFNpemU7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnByZWYgPSBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2NvcGVDb250ZXh0KHNjb3BlOiBMZXhpY2FsU2NvcGUpOiBTY29wZUNvbnRleHQge1xuICAgIGxldCBzID0gdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldO1xuICAgIGlmICghcykge1xuICAgICAgcyA9IHt9O1xuICAgICAgdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldID0gcztcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBjbGVhclNjb3BlKHNjb3BlOiBMZXhpY2FsU2NvcGUpOiB2b2lkIHtcbiAgICB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV0gPSB7fTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHNjb3BlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7XG4gICAgICB0aGlzLmNsZWFyU2NvcGUoc2NvcGUuY2hpbGRyZW5ba10pO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXJ5VW5pdFNpemUodW5pdDogc3RyaW5nLCBpc1Jvb3Q6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmIChpc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0KHVuaXQpKSB7XG4gICAgICBjb25zdCBwdncgPSB0aGlzLnBhZ2VXaWR0aCgpIC8gMTAwO1xuICAgICAgY29uc3QgcHZoID0gdGhpcy5wYWdlSGVpZ2h0KCkgLyAxMDA7XG4gICAgICBjb25zdCB2dyA9IHRoaXMucGFnZUFyZWFXaWR0aCAhPSBudWxsID8gdGhpcy5wYWdlQXJlYVdpZHRoIC8gMTAwIDogcHZ3O1xuICAgICAgY29uc3QgdmggPSB0aGlzLnBhZ2VBcmVhSGVpZ2h0ICE9IG51bGwgPyB0aGlzLnBhZ2VBcmVhSGVpZ2h0IC8gMTAwIDogcHZoO1xuXG4gICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSBcInZ3XCI6XG4gICAgICAgICAgcmV0dXJuIHZ3O1xuICAgICAgICBjYXNlIFwidmhcIjpcbiAgICAgICAgICByZXR1cm4gdmg7XG4gICAgICAgIGNhc2UgXCJ2aVwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZoIDogdnc7XG4gICAgICAgIGNhc2UgXCJ2YlwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZ3IDogdmg7XG4gICAgICAgIGNhc2UgXCJ2bWluXCI6XG4gICAgICAgICAgcmV0dXJuIHZ3IDwgdmggPyB2dyA6IHZoO1xuICAgICAgICBjYXNlIFwidm1heFwiOlxuICAgICAgICAgIHJldHVybiB2dyA+IHZoID8gdncgOiB2aDtcbiAgICAgICAgY2FzZSBcInB2d1wiOlxuICAgICAgICAgIHJldHVybiBwdnc7XG4gICAgICAgIGNhc2UgXCJwdmhcIjpcbiAgICAgICAgICByZXR1cm4gcHZoO1xuICAgICAgICBjYXNlIFwicHZpXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZoIDogcHZ3O1xuICAgICAgICBjYXNlIFwicHZiXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtaW5cIjpcbiAgICAgICAgICByZXR1cm4gcHZ3IDwgcHZoID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgICAgICByZXR1cm4gcHZ3ID4gcHZoID8gcHZ3IDogcHZoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5pdCA9PSBcImVtXCIgfHwgdW5pdCA9PSBcInJlbVwiKSB7XG4gICAgICByZXR1cm4gaXNSb290ID8gdGhpcy5pbml0aWFsRm9udFNpemUgOiB0aGlzLmZvbnRTaXplKCk7XG4gICAgfVxuICAgIGlmICh1bml0ID09IFwiZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGRlZmF1bHRVbml0U2l6ZXNbXCJleFwiXSAqXG4gICAgICAgICAgKGlzUm9vdCA/IHRoaXMuaW5pdGlhbEZvbnRTaXplIDogdGhpcy5mb250U2l6ZSgpKSkgL1xuICAgICAgICBkZWZhdWx0VW5pdFNpemVzW1wiZW1cIl1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICB9XG5cbiAgZXZhbE5hbWUoc2NvcGU6IExleGljYWxTY29wZSwgcXVhbGlmaWVkTmFtZTogc3RyaW5nKTogVmFsIHtcbiAgICBkbyB7XG4gICAgICBsZXQgdmFsID0gc2NvcGUudmFsdWVzW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlLnJlc29sdmVyLmNhbGwodGhpcywgcXVhbGlmaWVkTmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTmFtZSAnJHtxdWFsaWZpZWROYW1lfScgaXMgdW5kZWZpbmVkYCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vQnVpbHRJbkV2YWwgZG9uJ3QgZXZhbHVhdGUgYnVpbHQtaW5zIChmb3IgZGVwZW5kZW5jeSBjYWxjdWxhdGlvbnMpXG4gICAqL1xuICBldmFsQ2FsbChcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBwYXJhbXM6IFZhbFtdLFxuICAgIG5vQnVpbHRJbkV2YWw6IGJvb2xlYW4sXG4gICk6IFZhbCB7XG4gICAgZG8ge1xuICAgICAgbGV0IGJvZHkgPSBzY29wZS5mdW5jc1txdWFsaWZpZWROYW1lXTtcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5OyAvLyB3aWxsIGJlIGV4cGFuZGVkIGJ5IGNhbGxlZVxuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIGJvZHkgPSBzY29wZS5yZXNvbHZlci5jYWxsKHRoaXMsIHF1YWxpZmllZE5hbWUsIHRydWUpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBmbiA9IHNjb3BlLmJ1aWx0SW5zW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIGlmIChub0J1aWx0SW5FdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5KHBhcmFtcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBwYXJhbXNbaV0uZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdChzY29wZSwgZm4uYXBwbHkodGhpcywgYXJncykpO1xuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gJyR7cXVhbGlmaWVkTmFtZX0nIGlzIHVuZGVmaW5lZGApO1xuICB9XG5cbiAgZXZhbE1lZGlhTmFtZShuYW1lOiBzdHJpbmcsIG5vdDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuYWJsZWQgPSBuYW1lID09PSBcImFsbFwiIHx8ICEhdGhpcy5wcmVmLmVuYWJsZWRNZWRpYVR5cGVzW25hbWVdO1xuICAgIHJldHVybiBub3QgPyAhZW5hYmxlZCA6IGVuYWJsZWQ7XG4gIH1cblxuICBldmFsTWVkaWFUZXN0KGZlYXR1cmU6IHN0cmluZywgdmFsdWU6IFZhbCk6IGJvb2xlYW4ge1xuICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgIGNvbnN0IHIgPSBmZWF0dXJlLm1hdGNoKC9eKG1pbnxtYXgpLSguKikkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHByZWZpeCA9IHJbMV07XG4gICAgICBmZWF0dXJlID0gclsyXTtcbiAgICB9XG4gICAgbGV0IHJlcTogUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGFjdHVhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2Utd2lkdGhcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2UtaGVpZ2h0XCI6XG4gICAgICBjYXNlIFwiY29sb3JcIjpcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVxID0gdmFsdWUuZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHN3aXRjaCAoZmVhdHVyZSkge1xuICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHRoaXMucGFnZVdpZHRoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLXdpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLWhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLnBpeGVsRGVwdGg7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9IG51bGwgJiYgcmVxICE9IG51bGwpIHtcbiAgICAgIHN3aXRjaCAocHJlZml4KSB7XG4gICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICByZXR1cm4gYWN0dWFsID49IHJlcTtcbiAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPD0gcmVxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPT0gcmVxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0dWFsICE9IG51bGwgJiYgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjdHVhbCAhPT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcXVlcnlWYWwoc2NvcGU6IExleGljYWxTY29wZSwga2V5OiBzdHJpbmcpOiBSZXN1bHQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV07XG4gICAgcmV0dXJuIHMgPyBzW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzdG9yZVZhbChzY29wZTogTGV4aWNhbFNjb3BlLCBrZXk6IHN0cmluZywgdmFsOiBSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLmdldFNjb3BlQ29udGV4dChzY29wZSlba2V5XSA9IHZhbDtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0gbmFtZSByZXNvbHV0aW9uIC0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5Q2FjaGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBTcGVjaWFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFZhbCB7XG4gIGtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzY29wZTogTGV4aWNhbFNjb3BlKSB7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMua2V5ID0gYF8ke25leHRLZXlJbmRleCsrfWA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIHRoaXMuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIgPT09IHRoaXM7XG4gIH1cblxuICBkZXBlbmRPdXRlcihcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IGRlcGVuZGVuY3lDYWNoZVt0aGlzLmtleV07XG4gICAgaWYgKGNhY2hlZCAhPSBudWxsKSB7XG4gICAgICBpZiAoY2FjaGVkID09PSBTcGVjaWFsLlBFTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlZCBhcyBib29sZWFuO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXBlbmRlbmN5Q2FjaGVbdGhpcy5rZXldID0gU3BlY2lhbC5QRU5ESU5HO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kZXBlbmRDb3JlKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICAgICAgZGVwZW5kZW5jeUNhY2hlW3RoaXMua2V5XSA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZGVwZW5kKG90aGVyOiBWYWwsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwge30pO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbnRleHQucXVlcnlWYWwodGhpcy5zY29wZSwgdGhpcy5rZXkpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb3JlKGNvbnRleHQpO1xuICAgIGNvbnRleHQuc3RvcmVWYWwodGhpcy5zY29wZSwgdGhpcy5rZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzTWVkaWFOYW1lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlZml4IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE9wKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZfQUJTVFJBQ1RcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy52YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuZXZhbFByZWZpeCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fCB0aGlzLnZhbC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy52YWwuYXBwZW5kVG8oYnVmLCAxMCk7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLnZhbC5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsID09PSB0aGlzLnZhbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSh0aGlzLnNjb3BlLCB2YWwpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmZpeCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBsaHM6IFZhbCwgcHVibGljIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICByZXR1cm4gdGhpcy5ldmFsSW5maXgobGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5saHMuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSkgfHxcbiAgICAgIHRoaXMucmhzLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzLmdldFByaW9yaXR5KCk7XG4gICAgaWYgKHRoaXNQcmlvcml0eSA8PSBwcmlvcml0eSkge1xuICAgICAgYnVmLmFwcGVuZChcIihcIik7XG4gICAgfVxuICAgIHRoaXMubGhzLmFwcGVuZFRvKGJ1ZiwgdGhpc1ByaW9yaXR5KTtcbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy5yaHMuYXBwZW5kVG8oYnVmLCB0aGlzUHJpb3JpdHkpO1xuICAgIGlmICh0aGlzUHJpb3JpdHkgPD0gcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAobGhzID09PSB0aGlzLmxocyAmJiByaHMgPT09IHRoaXMucmhzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgciA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkpKHRoaXMuc2NvcGUsIGxocywgcmhzKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9naWNhbCBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhcmlzb24gZXh0ZW5kcyBJbmZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGl2ZSBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlIGV4dGVuZHMgSW5maXgge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm90IGV4dGVuZHMgUHJlZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgdmFsOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgdmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbFByZWZpeCh2YWw6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuICF2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZSBleHRlbmRzIFByZWZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAtdmFsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmQgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiJiZcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgJiYgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZE1lZGlhIGV4dGVuZHMgQW5kIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIGFuZCBcIjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3IgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwifHxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgfHwgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yTWVkaWEgZXh0ZW5kcyBPciB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiwgXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEx0IGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPCByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjw9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzIDw9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3QgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA+IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2UgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPj1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPj0gcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFcSBleHRlbmRzIENvbXBhcmlzb24ge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI9PVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA9PSByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiE9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzICE9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkIGV4dGVuZHMgQWRkaXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIrXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpICsgcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdCBleHRlbmRzIEFkZGl0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIC0gXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC0gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBseSBleHRlbmRzIE11bHRpcGxpY2F0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiKlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIChsaHMgYXMgYW55KSAqIChyaHMgYXMgYW55KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGl2aWRlIGV4dGVuZHMgTXVsdGlwbGljYXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC8gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bG8gZXh0ZW5kcyBNdWx0aXBsaWNhdGl2ZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAobGhzIGFzIGFueSkgJSAocmhzIGFzIGFueSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOdW1lcmljYWwgdmFsdWUgd2l0aCBhIHVuaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOdW1lcmljIGV4dGVuZHMgVmFsIHtcbiAgdW5pdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBudW06IG51bWJlciwgdW5pdDogc3RyaW5nKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICAgIHRoaXMudW5pdCA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLnVuaXQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodGhpcy51bml0LCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqIEBwYXJhbSBxdWFsaWZpZWROYW1lIENTUy1lc2NhcGVkIG5hbWUgc2VxdWVuY2Ugc2VwYXJhdGVkIGJ5IGRvdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCh0aGlzLnF1YWxpZmllZE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbHVhdGVDb3JlKGNvbnRleHQ6IENvbnRleHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBjb250ZXh0LmV2YWxOYW1lKHRoaXMuc2NvcGUsIHRoaXMucXVhbGlmaWVkTmFtZSkuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8XG4gICAgICBjb250ZXh0XG4gICAgICAgIC5ldmFsTmFtZSh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUpXG4gICAgICAgIC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhTmFtZSBleHRlbmRzIFZhbCB7XG4gIC8vIEZJWE1FOiBUaGlzIHByb3BlcnR5IGlzIGFkZGVkIHRvIHJlZHVjZSBUeXBlU2NyaXB0IGVycm9yIG9uIGBkZXBlbmRDb3JlYFxuICAvLyBidXQgaXQgaXMgbmV2ZXIgaW5pdGlhbGl6ZWQuIElzIGl0IHJlYWxseSBjb3JyZWN0IGNvZGU/XG4gIHZhbHVlOiBWYWw7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIG5vdDogYm9vbGVhbiwgcHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub3QpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCJub3QgXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTSWRlbnQodGhpcy5uYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhTmFtZSh0aGlzLm5hbWUsIHRoaXMubm90KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgb3RoZXIgPT09IHRoaXMgfHwgdGhpcy52YWx1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc01lZGlhTmFtZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdmFsdWUgdGhhdCBpcyBjYWxjdWxhdGVkIGJ5IGNhbGxpbmcgYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLiBOb3RlIHRoYXQgdGhlXG4gKiByZXN1bHQgaXMgY2FjaGVkIGFuZCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBiZXR3ZWVuIGFueVxuICogY2xlYXJzIGZvciBpdHMgc2NvcGUgaW4gdGhlIGNvbnRleHQuXG4gKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gY2FsbC5cbiAqIEBwYXJhbSBzdHIgYSB3YXkgdG8gcmVwcmVzZW50IHRoaXMgdmFsdWUgaW4gdG9TdHJpbmcoKSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgTmF0aXZlIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgZm46ICgpID0+IFJlc3VsdCxcbiAgICBwdWJsaWMgc3RyOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5mbi5jYWxsKGNvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRWYWxBcnJheShidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBhcnI6IFZhbFtdKTogdm9pZCB7XG4gIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpKSB7XG4gICAgICBidWYuYXBwZW5kKFwiLFwiKTtcbiAgICB9XG4gICAgYXJyW2ldLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gIH1cbiAgYnVmLmFwcGVuZChcIilcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRWYWxBcnJheShcbiAgY29udGV4dDogQ29udGV4dCxcbiAgYXJyOiBWYWxbXSxcbiAgcGFyYW1zOiBWYWxbXSxcbik6IFZhbFtdIHtcbiAgbGV0IGV4cGFuZGVkOiBWYWxbXSA9IGFycjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwID0gYXJyW2ldLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGlmIChhcnIgIT09IGV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZFtpXSA9IHA7XG4gICAgfSBlbHNlIGlmIChwICE9PSBhcnJbaV0pIHtcbiAgICAgIGV4cGFuZGVkID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xuICAgICAgICBleHBhbmRlZFtqXSA9IGFycltqXTtcbiAgICAgIH1cbiAgICAgIGV4cGFuZGVkW2ldID0gcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGFuZGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbFZhbEFycmF5KGNvbnRleHQ6IENvbnRleHQsIGFycjogVmFsW10pOiBSZXN1bHRbXSB7XG4gIGNvbnN0IHJlc3VsdDogUmVzdWx0W10gPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBhcnJbaV0uZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNsYXNzIENhbGwgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHBhcmFtczogVmFsW10sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMucXVhbGlmaWVkTmFtZSk7XG4gICAgYXBwZW5kVmFsQXJyYXkoYnVmLCB0aGlzLnBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgYm9keSA9IGNvbnRleHQuZXZhbENhbGwoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5xdWFsaWZpZWROYW1lLFxuICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIHJldHVybiBib2R5LmV4cGFuZChjb250ZXh0LCB0aGlzLnBhcmFtcykuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKG90aGVyID09PSB0aGlzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucGFyYW1zW2ldLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBib2R5ID0gY29udGV4dC5ldmFsQ2FsbChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLnF1YWxpZmllZE5hbWUsXG4gICAgICB0aGlzLnBhcmFtcyxcbiAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIC8vIE5vIGV4cGFuc2lvbiBoZXJlIVxuICAgIHJldHVybiBib2R5LmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IGV4cGFuZGVkUGFyYW1zID0gZXhwYW5kVmFsQXJyYXkoY29udGV4dCwgdGhpcy5wYXJhbXMsIHBhcmFtcyk7XG4gICAgaWYgKGV4cGFuZGVkUGFyYW1zID09PSB0aGlzLnBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FsbCh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUsIGV4cGFuZGVkUGFyYW1zKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIGNvbmQ6IFZhbCxcbiAgICBwdWJsaWMgaWZUcnVlOiBWYWwsXG4gICAgcHVibGljIGlmRmFsc2U6IFZhbCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbmQuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiP1wiKTtcbiAgICB0aGlzLmlmVHJ1ZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGJ1Zi5hcHBlbmQoXCI6XCIpO1xuICAgIHRoaXMuaWZGYWxzZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBpZiAodGhpcy5jb25kLmV2YWx1YXRlKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZlRydWUuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmlmRmFsc2UuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5jb25kLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpIHx8XG4gICAgICB0aGlzLmlmVHJ1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKSB8fFxuICAgICAgdGhpcy5pZkZhbHNlLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBjb25kID0gdGhpcy5jb25kLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmVHJ1ZSA9IHRoaXMuaWZUcnVlLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmRmFsc2UgPSB0aGlzLmlmRmFsc2UuZXhwYW5kKGNvbnRleHQsIHBhcmFtcyk7XG4gICAgaWYgKFxuICAgICAgY29uZCA9PT0gdGhpcy5jb25kICYmXG4gICAgICBpZlRydWUgPT09IHRoaXMuaWZUcnVlICYmXG4gICAgICBpZkZhbHNlID09PSB0aGlzLmlmRmFsc2VcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IENvbmQodGhpcy5zY29wZSwgY29uZCwgaWZUcnVlLCBpZkZhbHNlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgdmFsOiBSZXN1bHQpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoICh0eXBlb2YgdGhpcy52YWwpIHtcbiAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGJ1Zi5hcHBlbmQodGhpcy52YWwudG9TdHJpbmcoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTU3RyKHRoaXMudmFsKSk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJ1wiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy52YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhVGVzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBuYW1lOiBNZWRpYU5hbWUsIHB1YmxpYyB2YWx1ZTogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NTdHIodGhpcy5uYW1lLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiOlwiKTtcbiAgICB0aGlzLnZhbHVlLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhVGVzdCh0aGlzLm5hbWUubmFtZSwgdGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8IHRoaXMudmFsdWUuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZS5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IE1lZGlhVGVzdCh0aGlzLnNjb3BlLCB0aGlzLm5hbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgaW5kZXg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKFwiJFwiKTtcbiAgICBidWYuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBleHBhbmQoY29udGV4dDogQ29udGV4dCwgcGFyYW1zOiBWYWxbXSk6IFZhbCB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1t0aGlzLmluZGV4XTtcbiAgICBpZiAoIXYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyYW1ldGVyIG1pc3Npbmc6ICR7dGhpcy5pbmRleH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHYgYXMgVmFsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmQoc2NvcGU6IExleGljYWxTY29wZSwgdjE6IFZhbCwgdjI6IFZhbCk6IFZhbCB7XG4gIGlmIChcbiAgICB2MSA9PT0gc2NvcGUuX2ZhbHNlIHx8XG4gICAgdjEgPT09IHNjb3BlLnplcm8gfHxcbiAgICB2MiA9PSBzY29wZS5fZmFsc2UgfHxcbiAgICB2MiA9PSBzY29wZS56ZXJvXG4gICkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5fdHJ1ZSB8fCB2MSA9PT0gc2NvcGUub25lKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuX3RydWUgfHwgdjIgPT09IHNjb3BlLm9uZSkge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFuZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuemVybykge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFkZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIG5ldyBOZWdhdGUoc2NvcGUsIHYyKTtcbiAgfVxuICBpZiAodjIgPT09IHNjb3BlLnplcm8pIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBTdWJ0cmFjdChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvIHx8IHYyID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjI7XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBNdWx0aXBseShzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBEaXZpZGUoc2NvcGUsIHYxLCB2Mik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzcyAtIENTUyBWYWx1ZXMgYW5kIHV0aWxpdGllcyB0byBoYW5kbGUgdGhlbS5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlzaXRvciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBhbnkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udmlzaXQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRFbXB0eShlbXB0eTogVmFsKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19FTVBUWV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0U2xhc2goc2xhc2g6IFZhbCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU0xBU0hfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU1RSX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJZGVudChpZGVudDogSWRlbnQpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0lERU5UX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IE51bWVyaWMpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX05VTUVSSUNfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdE51bShudW06IE51bSk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfTlVNX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiB0aGlzLnZpc2l0TnVtKG51bSk7XG4gIH1cblxuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFVSTCh1cmw6IFVSTCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfVVJMX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogU3BhY2VMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19MSVNUX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ29tbWFMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT01NQV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0RnVuYyhmdW5jOiBGdW5jKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19GVU5DX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRFeHByKGV4cHI6IEV4cHIpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0VYUFJfTk9UX0FMTE9XRURcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBWYWxbXSB7XG4gICAgbGV0IGFycjogVmFsW10gPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSB2YWx1ZXNbaV07XG4gICAgICBjb25zdCBhZnRlciA9IGJlZm9yZS52aXNpdCh0aGlzKTtcbiAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgYXJyW2ldID0gYWZ0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGJlZm9yZSAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgYXJyID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGk7IGsrKykge1xuICAgICAgICAgIGFycltrXSA9IHZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgICBhcnJbaV0gPSBhZnRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyciB8fCB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IElkZW50KTogVmFsIHtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBWYWwpOiBWYWwge1xuICAgIHJldHVybiBzbGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBOdW1lcmljKTogVmFsIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogTnVtKTogVmFsIHtcbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiBudW07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBVUkwpOiBWYWwge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBTcGFjZUxpc3QpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTcGFjZUxpc3QodmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENvbW1hTGlzdCk6IFZhbCB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbW1hTGlzdCh2YWx1ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IEZ1bmMpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jKGZ1bmMubmFtZSwgdmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBFeHByKTogVmFsIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFsIHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgdHJ1ZSk7XG4gICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICB9XG5cbiAgc3RyaW5nVmFsdWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgZmFsc2UpO1xuICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIltlcnJvcl1cIik7XG4gIH1cblxuICBpc0V4cHIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzTnVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzSWRlbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNTcGFjZUxpc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eSBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIGVtcHR5OiBFbXB0eTtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBFbXB0eSB7XG4gICAgaWYgKCF0aGlzLmVtcHR5KSB7XG4gICAgICB0aGlzLmVtcHR5ID0gbmV3IEVtcHR5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVtcHR5O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbXB0eSh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZW1wdHk6IEVtcHR5ID0gRW1wdHkuaW5zdGFuY2U7XG5cbmV4cG9ydCBjbGFzcyBTbGFzaCBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIHNsYXNoOiBTbGFzaDtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBTbGFzaCB7XG4gICAgaWYgKCF0aGlzLnNsYXNoKSB7XG4gICAgICB0aGlzLnNsYXNoID0gbmV3IFNsYXNoKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNsYXNoO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIi9cIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIvXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNsYXNoKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzbGFzaDogU2xhc2ggPSBTbGFzaC5pbnN0YW5jZTtcblxuZXhwb3J0IGNsYXNzIFN0ciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdHI6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRvU3RyaW5nKSB7XG4gICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnN0cikpO1xuICAgICAgYnVmLmFwcGVuZCgnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmFwcGVuZCh0aGlzLnN0cik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFN0cih0aGlzKTtcbiAgfVxufVxuXG5jb25zdCBuYW1lVGFibGUgPSB7fTtcblxuZXhwb3J0IGNsYXNzIElkZW50IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKG5hbWVUYWJsZVtuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9JTlZBTElEX0NBTExcIik7XG4gICAgfVxuICAgIG5hbWVUYWJsZVtuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0b1N0cmluZykge1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU0lkZW50KHRoaXMubmFtZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYuYXBwZW5kKHRoaXMubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdElkZW50KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNJZGVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZShuYW1lOiBzdHJpbmcpOiBJZGVudCB7XG4gIGxldCByID0gbmFtZVRhYmxlW25hbWVdO1xuICBpZiAoIXIpIHtcbiAgICByID0gbmV3IElkZW50KG5hbWUpO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgY2xhc3MgTnVtZXJpYyBleHRlbmRzIFZhbCB7XG4gIHVuaXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIsIHVuaXQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51bml0ID0gdW5pdC50b0xvd2VyQ2FzZSgpOyAvLyB1bml0cyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBpbiBDU1NcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgaWYgKHRoaXMubnVtID09IDApIHtcbiAgICAgIHJldHVybiBzY29wZS56ZXJvO1xuICAgIH1cbiAgICBpZiAocmVmICYmIHRoaXMudW5pdCA9PSBcIiVcIikge1xuICAgICAgaWYgKHRoaXMubnVtID09IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFeHBycy5NdWx0aXBseShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHJlZixcbiAgICAgICAgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSAvIDEwMCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIHRoaXMubnVtLCB0aGlzLnVuaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgdG9TdHJpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQodGhpcy51bml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdW1lcmljKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBpZiAodGhpcy5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgfVxuICAgIGlmICh0aGlzLm51bSA9PSAxKSB7XG4gICAgICByZXR1cm4gc2NvcGUub25lO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQodGhpcy5udW0udG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TnVtKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW0oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludCBleHRlbmRzIE51bSB7XG4gIGNvbnN0cnVjdG9yKG51bTogbnVtYmVyKSB7XG4gICAgc3VwZXIobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnQodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJnYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIiNcIik7XG4gICAgY29uc3Qgc3RyID0gdGhpcy5yZ2IudG9TdHJpbmcoMTYpO1xuICAgIGJ1Zi5hcHBlbmQoXCIwMDAwMDBcIi5zdWJzdHIoc3RyLmxlbmd0aCkpO1xuICAgIGJ1Zi5hcHBlbmQoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb2xvcih0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVVJMIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCgndXJsKFwiJyk7XG4gICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnVybCkpO1xuICAgIGJ1Zi5hcHBlbmQoJ1wiKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFVSTCh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kTGlzdChcbiAgYnVmOiBCYXNlLlN0cmluZ0J1ZmZlcixcbiAgdmFsdWVzOiBWYWxbXSxcbiAgc2VwYXJhdG9yOiBzdHJpbmcsXG4gIHRvU3RyaW5nOiBib29sZWFuLFxuKTogdm9pZCB7XG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gIHZhbHVlc1swXS5hcHBlbmRUbyhidWYsIHRvU3RyaW5nKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJ1Zi5hcHBlbmQoc2VwYXJhdG9yKTtcbiAgICB2YWx1ZXNbaV0uYXBwZW5kVG8oYnVmLCB0b1N0cmluZyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZXM6IFZhbFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYXBwZW5kTGlzdChidWYsIHRoaXMudmFsdWVzLCBcIiBcIiwgdG9TdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNwYWNlTGlzdCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzU3BhY2VMaXN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYUxpc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGFwcGVuZExpc3QoYnVmLCB0aGlzLnZhbHVlcywgXCIsXCIsIHRvU3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb21tYUxpc3QodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmMgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiKFwiKTtcbiAgICBhcHBlbmRMaXN0KGJ1ZiwgdGhpcy52YWx1ZXMsIFwiLFwiLCB0b1N0cmluZyk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RnVuYyh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhwciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBleHByOiBFeHBycy5WYWwpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMuZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIi1lcHVieC1leHByKFwiKTtcbiAgICB0aGlzLmV4cHIuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiKVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFeHByKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNFeHByKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWw6IFZhbCwgY29udGV4dDogRXhwcnMuQ29udGV4dCk6IG51bWJlciB7XG4gIGlmICh2YWwpIHtcbiAgICBpZiAodmFsLmlzTnVtZXJpYygpKSB7XG4gICAgICBjb25zdCBudW1lcmljID0gdmFsIGFzIE51bWVyaWM7XG4gICAgICByZXR1cm4gY29udGV4dC5xdWVyeVVuaXRTaXplKG51bWVyaWMudW5pdCwgZmFsc2UpICogbnVtZXJpYy5udW07XG4gICAgfVxuICAgIGlmICh2YWwuaXNOdW0oKSkge1xuICAgICAgcmV0dXJuICh2YWwgYXMgTnVtKS5udW07XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgbnVtZXJpYyB2YWx1ZSB0byBweFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydE51bWVyaWNUb1B4KHZhbDogVmFsLCBjb250ZXh0OiBFeHBycy5Db250ZXh0KTogTnVtZXJpYyB7XG4gIHJldHVybiBuZXcgTnVtZXJpYyh0b051bWJlcih2YWwsIGNvbnRleHQpLCBcInB4XCIpO1xufVxuXG5leHBvcnQgY29uc3QgaWRlbnQ6IHsgW2tleTogc3RyaW5nXTogSWRlbnQgfSA9IHtcbiAgYWJzb2x1dGU6IGdldE5hbWUoXCJhYnNvbHV0ZVwiKSxcbiAgYWxsOiBnZXROYW1lKFwiYWxsXCIpLFxuICBhbHdheXM6IGdldE5hbWUoXCJhbHdheXNcIiksXG4gIGF1dG86IGdldE5hbWUoXCJhdXRvXCIpLFxuICBhdm9pZDogZ2V0TmFtZShcImF2b2lkXCIpLFxuICBiYWxhbmNlOiBnZXROYW1lKFwiYmFsYW5jZVwiKSxcbiAgYmFsYW5jZV9hbGw6IGdldE5hbWUoXCJiYWxhbmNlLWFsbFwiKSxcbiAgYmxvY2s6IGdldE5hbWUoXCJibG9ja1wiKSxcbiAgYmxvY2tfZW5kOiBnZXROYW1lKFwiYmxvY2stZW5kXCIpLFxuICBibG9ja19zdGFydDogZ2V0TmFtZShcImJsb2NrLXN0YXJ0XCIpLFxuICBib3RoOiBnZXROYW1lKFwiYm90aFwiKSxcbiAgYm90dG9tOiBnZXROYW1lKFwiYm90dG9tXCIpLFxuICBib3JkZXJfYm94OiBnZXROYW1lKFwiYm9yZGVyLWJveFwiKSxcbiAgYnJlYWtfYWxsOiBnZXROYW1lKFwiYnJlYWstYWxsXCIpLFxuICBicmVha193b3JkOiBnZXROYW1lKFwiYnJlYWstd29yZFwiKSxcbiAgY3JvcDogZ2V0TmFtZShcImNyb3BcIiksXG4gIGNyb3NzOiBnZXROYW1lKFwiY3Jvc3NcIiksXG4gIGNvbHVtbjogZ2V0TmFtZShcImNvbHVtblwiKSxcbiAgZXhjbHVzaXZlOiBnZXROYW1lKFwiZXhjbHVzaXZlXCIpLFxuICBfZmFsc2U6IGdldE5hbWUoXCJmYWxzZVwiKSxcbiAgZml4ZWQ6IGdldE5hbWUoXCJmaXhlZFwiKSxcbiAgZmxleDogZ2V0TmFtZShcImZsZXhcIiksXG4gIGZvb3Rub3RlOiBnZXROYW1lKFwiZm9vdG5vdGVcIiksXG4gIGZvb3RlcjogZ2V0TmFtZShcImZvb3RlclwiKSxcbiAgaGVhZGVyOiBnZXROYW1lKFwiaGVhZGVyXCIpLFxuICBoaWRkZW46IGdldE5hbWUoXCJoaWRkZW5cIiksXG4gIGhvcml6b250YWxfdGI6IGdldE5hbWUoXCJob3Jpem9udGFsLXRiXCIpLFxuICBpbmhlcml0OiBnZXROYW1lKFwiaW5oZXJpdFwiKSxcbiAgaW5saW5lOiBnZXROYW1lKFwiaW5saW5lXCIpLFxuICBpbmxpbmVfYmxvY2s6IGdldE5hbWUoXCJpbmxpbmUtYmxvY2tcIiksXG4gIGlubGluZV9lbmQ6IGdldE5hbWUoXCJpbmxpbmUtZW5kXCIpLFxuICBpbmxpbmVfc3RhcnQ6IGdldE5hbWUoXCJpbmxpbmUtc3RhcnRcIiksXG4gIGxhbmRzY2FwZTogZ2V0TmFtZShcImxhbmRzY2FwZVwiKSxcbiAgbGVmdDogZ2V0TmFtZShcImxlZnRcIiksXG4gIGxpbmU6IGdldE5hbWUoXCJsaW5lXCIpLFxuICBsaXN0X2l0ZW06IGdldE5hbWUoXCJsaXN0LWl0ZW1cIiksXG4gIGx0cjogZ2V0TmFtZShcImx0clwiKSxcbiAgbWFudWFsOiBnZXROYW1lKFwibWFudWFsXCIpLFxuICBub25lOiBnZXROYW1lKFwibm9uZVwiKSxcbiAgbm9ybWFsOiBnZXROYW1lKFwibm9ybWFsXCIpLFxuICBvZWJfcGFnZV9mb290OiBnZXROYW1lKFwib2ViLXBhZ2UtZm9vdFwiKSxcbiAgb2ViX3BhZ2VfaGVhZDogZ2V0TmFtZShcIm9lYi1wYWdlLWhlYWRcIiksXG4gIHBhZ2U6IGdldE5hbWUoXCJwYWdlXCIpLFxuICByZWxhdGl2ZTogZ2V0TmFtZShcInJlbGF0aXZlXCIpLFxuICByaWdodDogZ2V0TmFtZShcInJpZ2h0XCIpLFxuICBzYW1lOiBnZXROYW1lKFwic2FtZVwiKSxcbiAgc2NhbGU6IGdldE5hbWUoXCJzY2FsZVwiKSxcbiAgc25hcF9ibG9jazogZ2V0TmFtZShcInNuYXAtYmxvY2tcIiksXG4gIHNwcmVhZDogZ2V0TmFtZShcInNwcmVhZFwiKSxcbiAgX3N0YXRpYzogZ2V0TmFtZShcInN0YXRpY1wiKSxcbiAgcnRsOiBnZXROYW1lKFwicnRsXCIpLFxuICB0YWJsZTogZ2V0TmFtZShcInRhYmxlXCIpLFxuICB0YWJsZV9jYXB0aW9uOiBnZXROYW1lKFwidGFibGUtY2FwdGlvblwiKSxcbiAgdGFibGVfY2VsbDogZ2V0TmFtZShcInRhYmxlLWNlbGxcIiksXG4gIHRhYmxlX2Zvb3Rlcl9ncm91cDogZ2V0TmFtZShcInRhYmxlLWZvb3Rlci1ncm91cFwiKSxcbiAgdGFibGVfaGVhZGVyX2dyb3VwOiBnZXROYW1lKFwidGFibGUtaGVhZGVyLWdyb3VwXCIpLFxuICB0YWJsZV9yb3c6IGdldE5hbWUoXCJ0YWJsZS1yb3dcIiksXG4gIHRvcDogZ2V0TmFtZShcInRvcFwiKSxcbiAgdHJhbnNwYXJlbnQ6IGdldE5hbWUoXCJ0cmFuc3BhcmVudFwiKSxcbiAgdmVydGljYWxfbHI6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1sclwiKSxcbiAgdmVydGljYWxfcmw6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1ybFwiKSxcbiAgdmlzaWJsZTogZ2V0TmFtZShcInZpc2libGVcIiksXG4gIF90cnVlOiBnZXROYW1lKFwidHJ1ZVwiKSxcbn07XG5cbmV4cG9ydCBjb25zdCBodW5kcmVkUGVyY2VudDogTnVtZXJpYyA9IG5ldyBOdW1lcmljKDEwMCwgXCIlXCIpO1xuXG5leHBvcnQgY29uc3QgZnVsbFdpZHRoOiBOdW1lcmljID0gbmV3IE51bWVyaWMoMTAwLCBcInB2d1wiKTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxIZWlnaHQ6IE51bWVyaWMgPSBuZXcgTnVtZXJpYygxMDAsIFwicHZoXCIpO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1plcm86IE51bWVyaWMgPSBuZXcgTnVtZXJpYygwLCBcInB4XCIpO1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc2luZ09yZGVyID0ge1xuICBcImZvbnQtc2l6ZVwiOiAxLFxuICBjb2xvcjogMixcbn07XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBwcm9wZXJ0eSBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgcHJvY2Vzc2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzaW5nT3JkZXJGbihuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgbjEgPSBwcm9jZXNzaW5nT3JkZXJbbmFtZTFdIHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIGNvbnN0IG4yID0gcHJvY2Vzc2luZ09yZGVyW25hbWUyXSB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbjEgLSBuMjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgR2VvbWV0cnlVdGlsIC0gR2VvbWV0cmljIHV0aWxpdGllcy5cbiAqL1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHgxOiBudW1iZXIsXG4gICAgcHVibGljIHkxOiBudW1iZXIsXG4gICAgcHVibGljIHgyOiBudW1iZXIsXG4gICAgcHVibGljIHkyOiBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikge31cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0cyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIsXG4gICAgcHVibGljIHRvcDogbnVtYmVyLFxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyLFxuICAgIHB1YmxpYyBib3R0b206IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsb3c6IFBvaW50LFxuICAgIHB1YmxpYyBoaWdoOiBQb2ludCxcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICkge31cbn1cblxuLyoqXG4gKiBBIHNpbmdsZSBiYW5kIGZvciBleGNsdXNpb24gcmVzdWx0LiBMZWZ0IGZsb2F0IGlzIGZyb20gdGhlIGxlZnQgYm94IGVkZ2VcbiAqIHRvIHgxLiBSaWdodCBmbG9hdCBpcyBmcm9tIHgyIHRvIHRoZSByaWdodCBib3ggZWRnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhbmQge1xuICAvKiogTGVmdCBmbG9hdC4gKi9cbiAgbGVmdDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBSaWdodCBmbG9hdC4gKi9cbiAgcmlnaHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgeTE6IG51bWJlcixcbiAgICBwdWJsaWMgeTI6IG51bWJlcixcbiAgICBwdWJsaWMgeDE6IG51bWJlcixcbiAgICBwdWJsaWMgeDI6IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudENvbXBhcmUoczE6IFNlZ21lbnQsIHMyOiBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIHMxLmxvdy55IC0gczIubG93LnkgfHwgczEubG93LnggLSBzMi5sb3cueDtcbn1cblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHBvaW50czogUG9pbnRbXSkge31cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzaGFwZSB0byBhIHNlcXVlbmNlIG9mIFNlZ21lbnRzIGFuZCBhZGRzIHNlZ21lbnRzIHRvIHRoZVxuICAgKiBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFyciBhcnJheSB0byBhZGQgc2VnbWVudHMuXG4gICAqIEBwYXJhbSBpZCBzaGFwZUlkIHRvIHdyaXRlIGludG8gc2VnbWVudHMuXG4gICAqL1xuICBhZGRTZWdtZW50cyhhcnI6IFNlZ21lbnRbXSwgaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IHByZXYgPSBwb2ludHNbbGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VyciA9IHBvaW50c1tpXTtcbiAgICAgIGxldCBzOiBTZWdtZW50O1xuICAgICAgaWYgKHByZXYueSA8IGN1cnIueSkge1xuICAgICAgICBzID0gbmV3IFNlZ21lbnQocHJldiwgY3VyciwgMSwgaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IG5ldyBTZWdtZW50KGN1cnIsIHByZXYsIC0xLCBpZCk7XG4gICAgICB9XG4gICAgICBhcnIucHVzaChzKTtcbiAgICAgIHByZXYgPSBjdXJyO1xuICAgIH1cbiAgfVxuXG4gIHdpdGhPZmZzZXQob2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpOiBTaGFwZSB7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQocC54ICsgb2Zmc2V0WCwgcC55ICsgb2Zmc2V0WSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNoYXBlKHBvaW50cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yRWxsaXBzZShcbiAgY3g6IG51bWJlcixcbiAgY3k6IG51bWJlcixcbiAgcng6IG51bWJlcixcbiAgcnk6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgY29uc3QgY291bnQgPSAyMDtcbiAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IGEgPSAoaSAqIDIgKiBNYXRoLlBJKSAvIGNvdW50O1xuICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChjeCArIHJ4ICogTWF0aC5zaW4oYSksIGN5ICsgcnkgKiBNYXRoLmNvcyhhKSkpO1xuICB9XG4gIHJldHVybiBuZXcgU2hhcGUocG9pbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yUmVjdChcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgcmV0dXJuIG5ldyBTaGFwZShbXG4gICAgbmV3IFBvaW50KHgxLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MiksXG4gICAgbmV3IFBvaW50KHgxLCB5MiksXG4gIF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVGb3JSZWN0T2JqKHI6IFJlY3QpOiBTaGFwZSB7XG4gIHJldHVybiBuZXcgU2hhcGUoW1xuICAgIG5ldyBQb2ludChyLngxLCByLnkxKSxcbiAgICBuZXcgUG9pbnQoci54Miwgci55MSksXG4gICAgbmV3IFBvaW50KHIueDIsIHIueTIpLFxuICAgIG5ldyBQb2ludChyLngxLCByLnkyKSxcbiAgXSk7XG59XG5cbmV4cG9ydCBjbGFzcyBCYW5kSW50ZXJzZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHg6IG51bWJlcixcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICAgcHVibGljIGxvd09ySGlnaDogbnVtYmVyLFxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RZKHM6IFNlZ21lbnQsIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHggPVxuICAgIHMubG93LnggKyAoKHMuaGlnaC54IC0gcy5sb3cueCkgKiAoeSAtIHMubG93LnkpKSAvIChzLmhpZ2gueSAtIHMubG93LnkpO1xuICBpZiAoaXNOYU4oeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uXCIpO1xuICB9XG4gIHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmFuZEludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgczogU2VnbWVudCxcbiAgeTE6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IHZvaWQge1xuICBsZXQgeDE6IG51bWJlcjtcbiAgbGV0IHcxOiBudW1iZXI7XG4gIGxldCB4MjogbnVtYmVyO1xuICBsZXQgdzI6IG51bWJlcjtcbiAgaWYgKHMuaGlnaC55IDwgeTEpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRXJyb3I6IGluY29uc2lzdGVudCBzZWdtZW50ICgxKVwiKTtcbiAgfVxuICBpZiAocy5sb3cueSA8PSB5MSkge1xuICAgIC8vIG91dHNpZGVcbiAgICB4MSA9IGludGVyc2VjdFkocywgeTEpO1xuICAgIHcxID0gcy53aW5kaW5nO1xuICB9IGVsc2Uge1xuICAgIHgxID0gcy5sb3cueDtcbiAgICB3MSA9IDA7XG4gIH1cbiAgaWYgKHMuaGlnaC55ID49IHkyKSB7XG4gICAgLy8gb3V0c2lkZVxuICAgIHgyID0gaW50ZXJzZWN0WShzLCB5Mik7XG4gICAgdzIgPSBzLndpbmRpbmc7XG4gIH0gZWxzZSB7XG4gICAgeDIgPSBzLmhpZ2gueDtcbiAgICB3MiA9IDA7XG4gIH1cbiAgaWYgKHgxIDwgeDIpIHtcbiAgICBpbnRlcnNlY3Rpb25zLnB1c2gobmV3IEJhbmRJbnRlcnNlY3Rpb24oeDEsIHcxLCBzLnNoYXBlSWQsIC0xKSk7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAxKSk7XG4gIH0gZWxzZSB7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAtMSkpO1xuICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgQmFuZEludGVyc2VjdGlvbih4MSwgdzEsIHMuc2hhcGVJZCwgMSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgaW5jbHVkZUNvdW50OiBudW1iZXIsXG4gIGV4Y2x1ZGVDb3VudDogbnVtYmVyLFxuKTogbnVtYmVyW10ge1xuICBjb25zdCBzaGFwZUNvdW50ID0gaW5jbHVkZUNvdW50ICsgZXhjbHVkZUNvdW50O1xuICBjb25zdCB3aW5kaW5nczE6IG51bWJlcltdID0gQXJyYXkoc2hhcGVDb3VudCk7XG4gIGNvbnN0IHdpbmRpbmdzMjogbnVtYmVyW10gPSBBcnJheShzaGFwZUNvdW50KTtcbiAgbGV0IGk6IG51bWJlcjtcbiAgZm9yIChpID0gMDsgaSA8PSBzaGFwZUNvdW50OyBpKyspIHtcbiAgICB3aW5kaW5nczFbaV0gPSAwO1xuICAgIHdpbmRpbmdzMltpXSA9IDA7XG4gIH1cbiAgY29uc3QgeHJhbmdlczogbnVtYmVyW10gPSBbXTtcbiAgbGV0IGluc2lkZTogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Db3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoO1xuICBmb3IgKGxldCBrID0gMDsgayA8IGludGVyc2VjdGlvbkNvdW50OyBrKyspIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zW2tdO1xuICAgIHdpbmRpbmdzMVtpbnRlcnNlY3Rpb24uc2hhcGVJZF0gKz0gaW50ZXJzZWN0aW9uLndpbmRpbmc7XG4gICAgd2luZGluZ3MyW2ludGVyc2VjdGlvbi5zaGFwZUlkXSArPSBpbnRlcnNlY3Rpb24ubG93T3JIaWdoO1xuICAgIGxldCBzdGlsbEluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpbmNsdWRlQ291bnQ7IGkrKykge1xuICAgICAgaWYgKHdpbmRpbmdzMVtpXSAmJiAhd2luZGluZ3MyW2ldKSB7XG4gICAgICAgIHN0aWxsSW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGlsbEluc2lkZSkge1xuICAgICAgZm9yIChpID0gaW5jbHVkZUNvdW50OyBpIDw9IHNoYXBlQ291bnQ7IGkrKykge1xuICAgICAgICBpZiAod2luZGluZ3MxW2ldIHx8IHdpbmRpbmdzMltpXSkge1xuICAgICAgICAgIHN0aWxsSW5zaWRlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc2lkZSAhPSBzdGlsbEluc2lkZSkge1xuICAgICAgeHJhbmdlcy5wdXNoKGludGVyc2VjdGlvbi54KTtcbiAgICAgIGluc2lkZSA9IHN0aWxsSW5zaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4geHJhbmdlcztcbn1cblxuLyoqXG4gKiBSb3VuZCB2IHVwIHRvIG1ha2UgaXQgYSBtdWx0aXBsZSBvZiB1bml0LiBJZiB1bml0IGlzIHplcm8sIHJldHVybiB2LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbCh2OiBudW1iZXIsIHVuaXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB1bml0ID8gTWF0aC5jZWlsKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG4vKipcbiAqIFJvdW5kIHYgZG93biB0byBtYWtlIGl0IGEgbXVsdGlwbGUgb2YgdW5pdC4gSWYgdW5pdCBpcyB6ZXJvLCByZXR1cm4gdi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKHY6IG51bWJlciwgdW5pdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHVuaXQgPyBNYXRoLmZsb29yKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnQge1xuICByZXR1cm4gbmV3IFBvaW50KHBvaW50LnksIC1wb2ludC54KTtcbn1cblxuLyoqXG4gKiBWZXJ0aWNhbCBib3ggdG8gcHNldWRvLWhvcml6b250YWwgY29vcmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoYm94LnkxLCAtYm94LngyLCBib3gueTIsIC1ib3gueDEpO1xufVxuXG4vKipcbiAqIFBzZXVkby1ob3Jpem9udGFsIGNvb3JkcyB0byB2ZXJ0aWNhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoLWJveC55MiwgYm94LngxLCAtYm94LnkxLCBib3gueDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlU2hhcGUoc2hhcGU6IFNoYXBlKTogU2hhcGUge1xuICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlLnBvaW50cy5tYXAoKHBvaW50KSA9PiByb3RhdGVQb2ludChwb2ludCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlc1RvQmFuZHMoXG4gIGJveDogUmVjdCxcbiAgaW5jbHVkZTogU2hhcGVbXSxcbiAgZXhjbHVkZTogU2hhcGVbXSxcbiAgZ3JhbnVsYXJpdHk6IG51bWJlcixcbiAgc25hcEhlaWdodDogbnVtYmVyLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IEJhbmRbXSB7XG4gIGlmICh2ZXJ0aWNhbCkge1xuICAgIGJveCA9IHJvdGF0ZUJveChib3gpO1xuICAgIGluY2x1ZGUgPSBpbmNsdWRlLm1hcCgoc2hhcGUpID0+IHJvdGF0ZVNoYXBlKHNoYXBlKSk7XG4gICAgZXhjbHVkZSA9IGV4Y2x1ZGUubWFwKChzaGFwZSkgPT4gcm90YXRlU2hhcGUoc2hhcGUpKTtcbiAgfVxuICBjb25zdCBpbmNsdWRlQ291bnQgPSBpbmNsdWRlLmxlbmd0aDtcbiAgY29uc3QgZXhjbHVkZUNvdW50ID0gZXhjbHVkZSA/IGV4Y2x1ZGUubGVuZ3RoIDogMDtcbiAgY29uc3QgcmVzdWx0OiBCYW5kW10gPSBbXTtcbiAgY29uc3Qgc2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICBsZXQgaTogbnVtYmVyO1xuICBsZXQgazogbnVtYmVyO1xuICBsZXQgc2VnbWVudDogU2VnbWVudDtcbiAgZm9yIChpID0gMDsgaSA8IGluY2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgaW5jbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IGV4Y2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgZXhjbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSArIGluY2x1ZGVDb3VudCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudENvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICBzZWdtZW50cy5zb3J0KHNlZ21lbnRDb21wYXJlKTtcbiAgbGV0IGxvd2VzdEluY2x1ZGVJbmRleCA9IDA7XG4gIHdoaWxlIChzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLnNoYXBlSWQgPj0gaW5jbHVkZUNvdW50KSB7XG4gICAgbG93ZXN0SW5jbHVkZUluZGV4Kys7XG4gIH1cbiAgbGV0IHkgPSBzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLmxvdy55O1xuICBpZiAoeSA+IGJveC55MSkge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBCYW5kKGJveC55MSwgeSwgYm94LngyLCBib3gueDIpKTtcbiAgfVxuICBsZXQgc2VnbWVudEluZGV4ID0gMDtcbiAgY29uc3QgYWN0aXZlU2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICB3aGlsZSAoXG4gICAgc2VnbWVudEluZGV4IDwgc2VnbWVudENvdW50ICYmXG4gICAgKHNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50SW5kZXhdKS5sb3cueSA8IHlcbiAgKSB7XG4gICAgaWYgKHNlZ21lbnQuaGlnaC55ID4geSkge1xuICAgICAgYWN0aXZlU2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gICAgc2VnbWVudEluZGV4Kys7XG4gIH1cblxuICAvLyBwcm9jZXNzIHRoZSBzZWdtZW50cyBmcm9tIGxvdyB0byBoaWdoIHkgdmFsdWVzXG4gIHdoaWxlIChzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgfHwgYWN0aXZlU2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBiYW5kIHRvIHdvcmsgd2l0aFxuICAgIGxldCB5MiA9IGJveC55MjsgLy8gYmFuZCBib3R0b21cbiAgICAvLyBtaW4gcG9zc2libGUgeTJcbiAgICBjb25zdCB5Mm1pbiA9IE1hdGgubWluKFxuICAgICAgY2VpbChNYXRoLmNlaWwoeSArIGdyYW51bGFyaXR5KSwgc25hcEhlaWdodCksXG4gICAgICBib3gueTIsXG4gICAgKTtcbiAgICBmb3IgKGsgPSAwOyBrIDwgYWN0aXZlU2VnbWVudHMubGVuZ3RoICYmIHkyID4geTJtaW47IGsrKykge1xuICAgICAgc2VnbWVudCA9IGFjdGl2ZVNlZ21lbnRzW2tdO1xuICAgICAgaWYgKHNlZ21lbnQubG93LnggPT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeTIpIHtcbiAgICAgICAgICB5MiA9IE1hdGgubWF4KGZsb29yKHNlZ21lbnQuaGlnaC55LCBzbmFwSGVpZ2h0KSwgeTJtaW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlZ21lbnQubG93LnggIT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIGNvbXBhcmUgeT8/P1xuICAgICAgICAvLyBzbGFudGVkIChub3QgaG9yaXpvbnRhbClcbiAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHkyID4gYm94LnkyKSB7XG4gICAgICB5MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICAvLyBpbmNsdWRlIG5ldyBzZWdtZW50cywgZGVjcmVhc2luZyB5MiBpZiBuZWVkZWRcbiAgICB3aGlsZSAoXG4gICAgICBzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgJiZcbiAgICAgIChzZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudEluZGV4XSkubG93LnkgPCB5MlxuICAgICkge1xuICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeSkge1xuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc2VnbWVudC5sb3cueSA8IHkybWluKSB7XG4gICAgICAgIGlmIChzZWdtZW50Lmxvdy55ID09IHNlZ21lbnQuaGlnaC55ICYmIHNlZ21lbnQubG93LnkgPT0geSkge1xuICAgICAgICAgIC8vIEhvcml6b250YWwgc2VnbWVudCB0aGF0IGdvZXMgcmlnaHQgYXQgeSBpcyBub3QgYWN0aXZlLFxuICAgICAgICAgIC8vIGJ1dCBjb25zdW1lIGl0IGFueXdheVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdCBjb25zdW1lIGl0LCBjb25zaWRlciBib3R0b20gZWRnZSBcIm91dHNpZGVcIlxuICAgICAgICBjb25zdCB5biA9IGZsb29yKHNlZ21lbnQubG93LnksIHNuYXBIZWlnaHQpO1xuICAgICAgICBpZiAoeW4gPCB5Mikge1xuICAgICAgICAgIHkyID0geW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGxvb2sgYXQgdGhlIGJhbmQgd2l0aCB0b3AgYXQgeSBhbmQgYm90dG9tIGF0IHkyXG4gICAgLy8gYWN0aXZlU2VnbWVudHMgc2hvdWxkIGxpc3QgYWxsIHNlZ21lbnRzIHRoYXQgaW50ZXJzZWN0IHRoYXQgYmFuZFxuXG4gICAgLy8gZmluZCBhbGwgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBiYW5kXG4gICAgY29uc3QgYmFuZEludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSA9IFtdO1xuICAgIGZvciAoayA9IDA7IGsgPCBhY3RpdmVTZWdtZW50cy5sZW5ndGg7IGsrKykge1xuICAgICAgYWRkQmFuZEludGVyc2VjdGlvbnMoYmFuZEludGVyc2VjdGlvbnMsIGFjdGl2ZVNlZ21lbnRzW2tdLCB5LCB5Mik7XG4gICAgfVxuICAgIGJhbmRJbnRlcnNlY3Rpb25zLnNvcnQoXG4gICAgICAoYmkxLCBiaTIpID0+IGJpMS54IC0gYmkyLnggfHwgYmkxLmxvd09ySGlnaCAtIGJpMi5sb3dPckhpZ2gsXG4gICAgKTtcbiAgICBjb25zdCB4cmFuZ2VzID0gbWVyZ2VJbnRlcnNlY3Rpb25zKFxuICAgICAgYmFuZEludGVyc2VjdGlvbnMsXG4gICAgICBpbmNsdWRlQ291bnQsXG4gICAgICBleGNsdWRlQ291bnQsXG4gICAgKTtcbiAgICBpZiAoeHJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2gobmV3IEJhbmQoeSwgeTIsIGJveC54MiwgYm94LngyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCB0aGUgd2lkZXN0XG4gICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgbGV0IHggPSBib3gueDE7XG4gICAgICBmb3IgKGsgPSAwOyBrIDwgeHJhbmdlcy5sZW5ndGg7IGsgKz0gMikge1xuICAgICAgICBjb25zdCByeCA9IE1hdGgubWF4KGJveC54MSwgeHJhbmdlc1trXSk7XG4gICAgICAgIGNvbnN0IHJ3ID0gTWF0aC5taW4oYm94LngyLCB4cmFuZ2VzW2sgKyAxXSkgLSByeDtcbiAgICAgICAgaWYgKHJ3ID4gd2lkdGgpIHtcbiAgICAgICAgICB3aWR0aCA9IHJ3O1xuICAgICAgICAgIHggPSByeDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdpZHRoID09IDApIHtcbiAgICAgICAgLy8gbm8gc3BhY2UgbGVmdFxuICAgICAgICByZXN1bHQucHVzaChuZXcgQmFuZCh5LCB5MiwgYm94LngyLCBib3gueDIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgIG5ldyBCYW5kKHksIHkyLCBNYXRoLm1heCh4LCBib3gueDEpLCBNYXRoLm1pbih4ICsgd2lkdGgsIGJveC54MikpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeTIgPT0gYm94LnkyKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgeSA9IHkyO1xuICAgIGZvciAoayA9IGFjdGl2ZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGsgPj0gMDsgay0tKSB7XG4gICAgICBpZiAoYWN0aXZlU2VnbWVudHNba10uaGlnaC55IDw9IHkyKSB7XG4gICAgICAgIGFjdGl2ZVNlZ21lbnRzLnNwbGljZShrLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9ybWFsaXplKGJveCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShib3g6IFJlY3QsIGJhbmRzOiBCYW5kW10pOiB2b2lkIHtcbiAgbGV0IGsgPSBiYW5kcy5sZW5ndGggLSAxO1xuXG4gIC8vIE1lcmdlIGJhbmRzIHdpdGggdGhlIHNhbWUgeDEsIHgyIGFuZCByZW1vdmUgdW5uZWVkZWQgYmFuZHMgYXQgdGhlIGVuZC5cbiAgLy8gQ3JlYXRlIGZpY3Rpb3VzIGxhc3QgYmFuZCB0byBtZXJnZSB1bm5lZWRlZCBiYW5kcyBhdCB0aGUgZW5kXG4gIGxldCBjdXJyQmFuZCA9IG5ldyBCYW5kKGJveC55MiwgYm94LnkyLCBib3gueDEsIGJveC54Mik7XG4gIHdoaWxlIChrID49IDApIHtcbiAgICBjb25zdCBwcmV2QmFuZCA9IGN1cnJCYW5kOyAvLyByZXN1bHRbaysxXVxuICAgIGN1cnJCYW5kID0gYmFuZHNba107XG4gICAgaWYgKFxuICAgICAgY3VyckJhbmQueTIgLSBjdXJyQmFuZC55MSA8IDEgfHwgLy8gUmVtb3ZlIGJhbmRzIHdpdGggaGVpZ2h0IGxlc3MgdGhhbiAxcHhcbiAgICAgIChjdXJyQmFuZC54MSA9PSBwcmV2QmFuZC54MSAmJiBjdXJyQmFuZC54MiA9PSBwcmV2QmFuZC54MilcbiAgICApIHtcbiAgICAgIHByZXZCYW5kLnkxID0gY3VyckJhbmQueTE7IC8vIG1lcmdlXG4gICAgICBiYW5kcy5zcGxpY2UoaywgMSk7XG4gICAgICBjdXJyQmFuZCA9IHByZXZCYW5kO1xuICAgIH1cbiAgICBrLS07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYm90dG9tbW9zdCBiYW5kIHNvIHRoYXQgeSA8IGJhbmQueTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCYW5kKGJhbmRzOiBCYW5kW10sIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBsb3cgPSAwO1xuICBsZXQgaGlnaCA9IGJhbmRzLmxlbmd0aDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgIGlmICh5ID49IGJhbmRzW21pZF0ueTIpIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogRmluZCB0aGUgdXBwZXJtb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0KFxuICBiYW5kczogQmFuZFtdLFxuICByZWN0OiBSZWN0LFxuKTogUmVjdCB8IG51bGwge1xuICBpZiAoIWJhbmRzLmxlbmd0aCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCB0b3BFZGdlID0gcmVjdC55MTtcbiAgbGV0IGJhbmQ6IEJhbmQ7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkyID4gcmVjdC55MSAmJlxuICAgICAgYmFuZC54MSAtIDAuMSA8PSByZWN0LngxICYmXG4gICAgICBiYW5kLngyICsgMC4xID49IHJlY3QueDJcbiAgICApIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3BFZGdlID0gTWF0aC5tYXgodG9wRWRnZSwgYmFuZC55Mik7XG4gICAgfVxuICB9XG4gIGxldCBib3R0b21FZGdlID0gdG9wRWRnZTtcbiAgZm9yICg7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkxID49IHJlY3QueTIgfHxcbiAgICAgIGJhbmQueDEgLSAwLjEgPiByZWN0LngxIHx8XG4gICAgICBiYW5kLngyICsgMC4xIDwgcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBiYW5kLnkyO1xuICAgIH1cbiAgfVxuICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoKSB7XG4gICAgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIH0gZWxzZSB7XG4gICAgYm90dG9tRWRnZSA9IE1hdGgubWluKGJvdHRvbUVkZ2UsIHJlY3QueTIpO1xuICB9XG4gIGlmIChib3R0b21FZGdlIDw9IHRvcEVkZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJlY3QocmVjdC54MSwgdG9wRWRnZSwgcmVjdC54MiwgYm90dG9tRWRnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBib3R0b21tb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdChcbiAgYmFuZHM6IEJhbmRbXSxcbiAgcmVjdDogUmVjdCxcbik6IFJlY3QgfCBudWxsIHtcbiAgaWYgKCFiYW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIGxldCBiYW5kOiBCYW5kO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGkgPSBiYW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoIC0gMSAmJiBiYW5kLnkyIDwgcmVjdC55Mikge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGJhbmQueTEgPCByZWN0LnkyICYmXG4gICAgICBiYW5kLngxIC0gMC4xIDw9IHJlY3QueDEgJiZcbiAgICAgIGJhbmQueDIgKyAwLjEgPj0gcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkxKTtcbiAgICB9XG4gIH1cbiAgbGV0IHRvcEVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkyKTtcbiAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgYmFuZCA9IGJhbmRzW2ldO1xuICAgIGlmIChcbiAgICAgIGJhbmQueTIgPD0gcmVjdC55MSB8fFxuICAgICAgYmFuZC54MSAtIDAuMSA+IHJlY3QueDEgfHxcbiAgICAgIGJhbmQueDIgKyAwLjEgPCByZWN0LngyXG4gICAgKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgdG9wRWRnZSA9IGJhbmQueTE7XG4gICAgfVxuICB9XG4gIHRvcEVkZ2UgPSBNYXRoLm1heCh0b3BFZGdlLCByZWN0LnkxKTtcbiAgaWYgKGJvdHRvbUVkZ2UgPD0gdG9wRWRnZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUmVjdChyZWN0LngxLCB0b3BFZGdlLCByZWN0LngyLCBib3R0b21FZGdlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBzaWRlIGVpdGhlciBcImxlZnRcIiBvciBcInJpZ2h0XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aW9uRmxvYXQoXG4gIGJveDogUmVjdCxcbiAgYmFuZHM6IEJhbmRbXSxcbiAgZmxvYXRCb3g6IFJlY3QsXG4gIHNpZGU6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICBsZXQgeSA9IGZsb2F0Qm94LnkxO1xuICBjb25zdCBmbG9hdFdpZHRoID0gZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgY29uc3QgZmxvYXRIZWlnaHQgPSBmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxO1xuICBsZXQgaW5kZXggPSBmaW5kQmFuZChiYW5kcywgeSk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgaXQgZml0c1xuICAgIGNvbnN0IGZsb2F0Qm90dG9tID0geSArIGZsb2F0SGVpZ2h0O1xuICAgIGlmIChmbG9hdEJvdHRvbSA+IGJveC55Mikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IGZpdCB2ZXJ0aWNhbGx5XG4gICAgbGV0IHgxID0gYm94LngxO1xuICAgIGxldCB4MiA9IGJveC54MjtcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBiYW5kcy5sZW5ndGggJiYgYmFuZHNbaV0ueTEgPCBmbG9hdEJvdHRvbTsgaSsrKSB7XG4gICAgICBjb25zdCBiYW5kID0gYmFuZHNbaV07XG4gICAgICBpZiAoYmFuZC54MSA+IHgxKSB7XG4gICAgICAgIHgxID0gYmFuZC54MTtcbiAgICAgIH1cbiAgICAgIGlmIChiYW5kLngyIDwgeDIpIHtcbiAgICAgICAgeDIgPSBiYW5kLngyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeDEgKyBmbG9hdFdpZHRoIDw9IHgyIHx8IGluZGV4ID49IGJhbmRzLmxlbmd0aCkge1xuICAgICAgaWYgKHNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgZmxvYXRCb3gueDEgPSB4MTtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MSArIGZsb2F0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG9hdEJveC54MSA9IHgyIC0gZmxvYXRXaWR0aDtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MjtcbiAgICAgIH1cbiAgICAgIGZsb2F0Qm94LnkyICs9IHkgLSBmbG9hdEJveC55MTtcbiAgICAgIGZsb2F0Qm94LnkxID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB5ID0gYmFuZHNbaW5kZXhdLnkyO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZsb2F0VG9CYW5kcyhcbiAgYm94OiBSZWN0LFxuICBiYW5kczogQmFuZFtdLFxuICBmbG9hdEJveDogUmVjdCxcbiAgZmxvYXRCYW5kczogQmFuZFtdLFxuICBzaWRlOiBzdHJpbmcsXG4pOiB2b2lkIHtcbiAgaWYgKCFmbG9hdEJhbmRzKSB7XG4gICAgZmxvYXRCYW5kcyA9IFtuZXcgQmFuZChmbG9hdEJveC55MSwgZmxvYXRCb3gueTIsIGZsb2F0Qm94LngxLCBmbG9hdEJveC54MildO1xuICB9XG4gIHdoaWxlIChmbG9hdEJhbmRzLmxlbmd0aCA+IDAgJiYgZmxvYXRCYW5kc1swXS55MiA8PSBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHNbMF0ueTEgPCBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzWzBdLnkxID0gYm94LnkxO1xuICB9XG4gIGxldCBiYW5kOiBCYW5kO1xuICBjb25zdCBsYXN0WSA9IGJhbmRzLmxlbmd0aCA9PSAwID8gYm94LnkxIDogYmFuZHNbYmFuZHMubGVuZ3RoIC0gMV0ueTI7XG4gIGlmIChsYXN0WSA8IGJveC55Mikge1xuICAgIC8vIGFkZCB0aGUgdGFpbCBiYW5kIHRoYXQgd2UgdHlwaWNhbGx5IGRvbid0IGtlZXAsIGl0IHdpbGwgYmUgY2xlYXJlZCBieVxuICAgIC8vIG5vcm1hbGl6ZSgpXG4gICAgYmFuZHMucHVzaChuZXcgQmFuZChsYXN0WSwgYm94LnkyLCBib3gueDEsIGJveC54MikpO1xuICB9XG4gIGxldCBpbmRleCA9IGZpbmRCYW5kKGJhbmRzLCBmbG9hdEJhbmRzWzBdLnkxKTtcbiAgZm9yIChjb25zdCBmbG9hdEJhbmQgb2YgZmxvYXRCYW5kcykge1xuICAgIGlmIChpbmRleCA9PSBiYW5kcy5sZW5ndGgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYmFuZHNbaW5kZXhdLnkxIDwgZmxvYXRCYW5kLnkxKSB7XG4gICAgICAvLyBzcGxpdCBpdFxuICAgICAgYmFuZCA9IGJhbmRzW2luZGV4XTtcbiAgICAgIGluZGV4Kys7XG4gICAgICBiYW5kcy5zcGxpY2UoaW5kZXgsIDAsIG5ldyBCYW5kKGZsb2F0QmFuZC55MSwgYmFuZC55MiwgYmFuZC54MSwgYmFuZC54MikpO1xuICAgICAgYmFuZC55MiA9IGZsb2F0QmFuZC55MTtcbiAgICB9XG4gICAgd2hpbGUgKGluZGV4IDwgYmFuZHMubGVuZ3RoKSB7XG4gICAgICBiYW5kID0gYmFuZHNbaW5kZXgrK107XG4gICAgICBpZiAoYmFuZC55MiA+IGZsb2F0QmFuZC55Mikge1xuICAgICAgICAvLyBzcGxpdCBpdFxuICAgICAgICBiYW5kcy5zcGxpY2UoXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBuZXcgQmFuZChmbG9hdEJhbmQueTIsIGJhbmQueTIsIGJhbmQueDEsIGJhbmQueDIpLFxuICAgICAgICApO1xuICAgICAgICBiYW5kLnkyID0gZmxvYXRCYW5kLnkyO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0QmFuZC54MSAhPSBmbG9hdEJhbmQueDIpIHtcbiAgICAgICAgLy8gbm9uLWVtcHR5IGZsb2F0QmFuZFxuICAgICAgICBpZiAoc2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIGJhbmQueDEgPSBNYXRoLm1pbihmbG9hdEJhbmQueDIsIGJveC54Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFuZC54MiA9IE1hdGgubWF4KGZsb2F0QmFuZC54MSwgYm94LngxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJhbmQueTIgPT0gZmxvYXRCYW5kLnkyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBub3JtYWxpemUoYm94LCBiYW5kcyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1Byb3AgLSBTdXBwb3J0IHV0aWxpdGllcyB0byBleHRyYWN0IGluZm9ybWF0aW9uXG4gKiBmcm9tIHZhcmlvdXMgKHBhcnNlZCkgQ1NTIHZhbHVlcy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdmFsdWUgcGFyc2VycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgcHJvcFNldDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgdGhpcy5wcm9wU2V0W2lkZW50Lm5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHZhbDogQ3NzLlZhbCk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgU2V0VmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5wcm9wU2V0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9TZXQ6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbHVlID0gbnVtLm51bTtcbiAgICByZXR1cm4gbnVtO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ludCh2YWw6IENzcy5WYWwsIGRlZjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgSW50VmlzaXRvcihkZWYpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvSW50OiBcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFwZVZpc2l0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbGxlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29vcmRzOiBDc3MuTnVtZXJpY1tdID0gW107XG4gIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0KSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG51bWVyaWMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmNvbGxlY3QgJiYgbnVtLm51bSA9PSAwKSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG5ldyBDc3MuTnVtZXJpYygwLCBcInB4XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoIXRoaXMuY29sbGVjdCkge1xuICAgICAgdGhpcy5jb2xsZWN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgICAgdGhpcy5jb2xsZWN0ID0gZmFsc2U7XG4gICAgICB0aGlzLm5hbWUgPSBmdW5jLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTaGFwZShcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBpZiAodGhpcy5jb29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbnVtYmVyczogbnVtYmVyW10gPSBbXTtcbiAgICAgIHRoaXMuY29vcmRzLmZvckVhY2goKGNvb3JkLCBpKSA9PiB7XG4gICAgICAgIGlmIChjb29yZC51bml0ID09IFwiJVwiKSB7XG4gICAgICAgICAgbGV0IHJlZiA9IGkgJSAyID09IDAgPyB3aWR0aCA6IGhlaWdodDtcbiAgICAgICAgICBpZiAoaSA9PSAzICYmIHRoaXMubmFtZSA9PSBcImNpcmNsZVwiKSB7XG4gICAgICAgICAgICByZWYgPSBNYXRoLnNxcnQoKHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpIC8gMik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bWJlcnMucHVzaCgoY29vcmQubnVtICogcmVmKSAvIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtYmVycy5wdXNoKGNvb3JkLm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShjb29yZC51bml0LCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwb2x5Z29uXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHM6IEdlb21ldHJ5VXRpbC5Qb2ludFtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bWJlcnMubGVuZ3RoOyBrICs9IDIpIHtcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IEdlb21ldHJ5VXRpbC5Qb2ludCh4ICsgbnVtYmVyc1trXSwgeSArIG51bWJlcnNbayArIDFdKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlNoYXBlKHBvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVjdGFuZ2xlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0KFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIHggKyBudW1iZXJzWzBdICsgbnVtYmVyc1syXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0gKyBudW1iZXJzWzNdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGxpcHNlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JFbGxpcHNlKFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIG51bWJlcnNbMl0sXG4gICAgICAgICAgICAgIG51bWJlcnNbM10sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yRWxsaXBzZShcbiAgICAgICAgICAgICAgeCArIG51bWJlcnNbMF0sXG4gICAgICAgICAgICAgIHkgKyBudW1iZXJzWzFdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NoYXBlKFxuICB2YWw6IENzcy5WYWwsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gIGlmICh2YWwpIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IFNoYXBlVmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5nZXRTaGFwZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvU2hhcGU6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ291bnRlcnNWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb3VudGVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICBuYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmVzZXQ6IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLm5hbWUgPSBpZGVudC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLnJlc2V0KSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAodGhpcy5jb3VudGVyc1t0aGlzLm5hbWVdIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gKz0gbnVtLm51bSAtICh0aGlzLnJlc2V0ID8gMCA6IDEpO1xuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ291bnRlcnMoXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVzZXQ6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgY29uc3QgdmlzaXRvciA9IG5ldyBDb3VudGVyc1Zpc2l0b3IocmVzZXQpO1xuICB0cnkge1xuICAgIHZhbC52aXNpdCh2aXNpdG9yKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9Db3VudGVyczpcIik7XG4gIH1cbiAgcmV0dXJuIHZpc2l0b3IuY291bnRlcnM7XG59XG5cbmV4cG9ydCBjbGFzcyBVcmxUcmFuc2Zvcm1WaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYmFzZVVybDogc3RyaW5nLFxuICAgIHB1YmxpYyB0cmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbmV3IENzcy5VUkwodGhpcy50cmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwodXJsLnVybCwgdGhpcy5iYXNlVXJsKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvdW50ZXJzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogQ2xvbmUgY291bnRlciB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQ291bnRlclZhbHVlcyhcbiAgY291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyxcbik6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhjb3VudGVycykuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgIHJlc3VsdFtuYW1lXSA9IEFycmF5LmZyb20oY291bnRlcnNbbmFtZV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSByZWZlcmVuY2UgYnkgdGFyZ2V0LWNvdW50ZXIocykuXG4gKiBAcGFyYW0gdGFyZ2V0SWQgSUQgb2YgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCAodHJhbnNmb3JtZWQgYnlcbiAqICAgICBEb2N1bWVudFVSTFRyYW5zZm9ybWVyIHRvIGhhbmRsZSBhIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlXG4gKiAgICAgZG9jdW1lbnRzKVxuICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3RcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldENvdW50ZXJSZWZlcmVuY2Uge1xuICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IG51bGw7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IC0xO1xuICBwYWdlSW5kZXg6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0YXJnZXRJZDogc3RyaW5nLCBwdWJsaWMgcmVzb2x2ZWQ6IGJvb2xlYW4pIHt9XG5cbiAgZXF1YWxzKG90aGVyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50YXJnZXRJZCA9PT0gb3RoZXIudGFyZ2V0SWQgJiZcbiAgICAgIHRoaXMucmVzb2x2ZWQgPT09IG90aGVyLnJlc29sdmVkICYmXG4gICAgICB0aGlzLnNwaW5lSW5kZXggPT09IG90aGVyLnNwaW5lSW5kZXggJiZcbiAgICAgIHRoaXMucGFnZUluZGV4ID09PSBvdGhlci5wYWdlSW5kZXhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBpc1Jlc29sdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgcmVzb2x2ZWQuXG4gICAqL1xuICByZXNvbHZlKCkge1xuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZC5cbiAgICovXG4gIHVucmVzb2x2ZSgpIHtcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlckxpc3RlbmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNvdW50ZXJzT2ZJZChpZDogc3RyaW5nLCBjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgaWQgPSB0aGlzLmNvdW50ZXJTdG9yZS5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybUZyYWdtZW50KFxuICAgICAgaWQsXG4gICAgICB0aGlzLmJhc2VVUkwsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5jb3VudGVyc0J5SWRbaWRdID0gY291bnRlcnM7XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmNvdW50ZXJTdG9yZS5nZXRFeHByQ29udGVudExpc3RlbmVyKCk7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlclJlc29sdmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyUmVzb2x2ZXIge1xuICBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICApIHt9XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcikge1xuICAgIHRoaXMuc3R5bGVyID0gc3R5bGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL15bXiNdKiMoLiopJC8pO1xuICAgIHJldHVybiByID8gclsxXSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldFRyYW5zZm9ybWVkSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB0cmFuc2Zvcm1lZElkID0gdGhpcy5jb3VudGVyU3RvcmUuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICBCYXNlLnJlc29sdmVVUkwodXJsLCB0aGlzLmJhc2VVUkwpLFxuICAgICAgdGhpcy5iYXNlVVJMLFxuICAgICk7XG4gICAgaWYgKHRyYW5zZm9ybWVkSWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgdHJhbnNmb3JtZWRJZCA9IHRyYW5zZm9ybWVkSWQuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyVmFsKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q291bnRlck51bWJlcigpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHNlbGYuY291bnRlclN0b3JlLmN1cnJlbnRQYWdlQ291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZXhwciA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IGZvcm1hdChnZXRDb3VudGVyTnVtYmVyKCkpLFxuICAgICAgYHBhZ2UtY291bnRlci0ke25hbWV9YCxcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlGb3JtYXQoYXJyKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGFyclswXSk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclN0b3JlLnJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKG5hbWUsIGFycmF5Rm9ybWF0LCBleHByKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyc1ZhbChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlcltdKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBnZXRDb3VudGVyTnVtYmVycygpIHtcbiAgICAgIHJldHVybiBzZWxmLmNvdW50ZXJTdG9yZS5jdXJyZW50UGFnZUNvdW50ZXJzW25hbWVdIHx8IFtdO1xuICAgIH1cbiAgICBjb25zdCBleHByID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4gZm9ybWF0KGdldENvdW50ZXJOdW1iZXJzKCkpLFxuICAgICAgYHBhZ2UtY291bnRlcnMtJHtuYW1lfWAsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5yZWdpc3RlclBhZ2VDb3VudGVyRXhwcihuYW1lLCBmb3JtYXQsIGV4cHIpO1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgKG5vbiBwYWdlLWJhc2VkKSBjb3VudGVyIHZhbHVlcyBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogSUQuIFJldHVybnMgbnVsbCBpZiB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRzIGhhcyBub3QgYmVlbiBjYWxjdWxhdGVkIHlldFxuICAgKiAoaS5lLiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGl0IG9yIGl0IGlzIGluIGEgc291cmNlIGRvY3VtZW50IHdoaWNoIGlzIG5vdFxuICAgKiBsb2FkZWQgeWV0KS5cbiAgICogQHBhcmFtIGlkIE9yaWdpbmFsIElEIHZhbHVlXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKiBAcGFyYW0gbG9va0ZvckVsZW1lbnQgSWYgdHJ1ZSwgbG9vayBhaGVhZCBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBJRCBpbiB0aGVcbiAgICogICAgIGN1cnJlbnQgc291cmNlIGRvY3VtZW50IHdoZW4gc3VjaCBhbiBlbGVtZW50IGhhcyBub3QgYXBwZWFyZWQgeWV0LiBEb1xuICAgKiAgICAgbm90IHNldCB0byB0cnVlIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsIHNpbmNlIGluIHRoYXRcbiAgICogICAgIGNhc2UgU3R5bGVyLnN0eWxlVW50aWwgY2FuIGJlIGNhbGxlZCBhZ2FpbiBhbmQgbWF5IGxlYWQgdG8gaW50ZXJuYWxcbiAgICogICAgIGluY29uc2lzdGVuY3kuXG4gICAqL1xuICBwcml2YXRlIGdldFRhcmdldENvdW50ZXJzKFxuICAgIGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHRyYW5zZm9ybWVkSWQ6IHN0cmluZyxcbiAgICBsb29rRm9yRWxlbWVudDogYm9vbGVhbixcbiAgKTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIHwgbnVsbCB7XG4gICAgbGV0IHRhcmdldENvdW50ZXJzID0gdGhpcy5jb3VudGVyU3RvcmUuY291bnRlcnNCeUlkW3RyYW5zZm9ybWVkSWRdO1xuICAgIGlmICghdGFyZ2V0Q291bnRlcnMgJiYgbG9va0ZvckVsZW1lbnQgJiYgaWQpIHtcbiAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxJZElzUmVhY2hlZChpZCk7XG4gICAgICB0YXJnZXRDb3VudGVycyA9IHRoaXMuY291bnRlclN0b3JlLmNvdW50ZXJzQnlJZFt0cmFuc2Zvcm1lZElkXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvdW50ZXJzIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGZvciBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRC5cbiAgICogUmV0dXJucyBudWxsIGlmIHRoZSBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRUYXJnZXRQYWdlQ291bnRlcnMoXG4gICAgdHJhbnNmb3JtZWRJZDogc3RyaW5nLFxuICApOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfCBudWxsIHtcbiAgICBpZiAodGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2UuZWxlbWVudHNCeUlkW3RyYW5zZm9ybWVkSWRdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2VDb3VudGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnRlclN0b3JlLnBhZ2VDb3VudGVyc0J5SWRbdHJhbnNmb3JtZWRJZF0gfHwgbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcblxuICAgIC8vIFNpbmNlIHRoaXMgbWV0aG9kIGlzIGV4ZWN1dGVkIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsXG4gICAgLy8gc2V0IGZhbHNlIHRvIGxvb2tGb3JFbGVtZW50IGFyZ3VtZW50LlxuICAgIGxldCBjb3VudGVycyA9IHRoaXMuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICBpZiAoY291bnRlcnMgJiYgY291bnRlcnNbbmFtZV0pIHtcbiAgICAgIC8vIFNpbmNlIGFuIGVsZW1lbnQtYmFzZWQgY291bnRlciBpcyBkZWZpbmVkLCBhbnkgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gICAgICAvLyBvYnNjdXJlZCBldmVuIGlmIGl0IGV4aXN0cy5cbiAgICAgIGNvbnN0IGNvdW50ZXJzT2ZOYW1lID0gY291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KFxuICAgICAgICB0aGlzLnJvb3RTY29wZSxcbiAgICAgICAgZm9ybWF0KGNvdW50ZXJzT2ZOYW1lW2NvdW50ZXJzT2ZOYW1lLmxlbmd0aCAtIDFdIHx8IG51bGwpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gU2luY2UgVGhpcyBibG9jayBpcyBldmFsdWF0ZWQgZHVyaW5nIGxheW91dCwgbG9va0ZvckVsZW1lbnRcbiAgICAgICAgLy8gYXJndW1lbnQgY2FuIGJlIHNldCB0byB0cnVlLlxuICAgICAgICBjb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIHRydWUpO1xuXG4gICAgICAgIGlmIChjb3VudGVycykge1xuICAgICAgICAgIGlmIChjb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgLy8gU2luY2UgYW4gZWxlbWVudC1iYXNlZCBjb3VudGVyIGlzIGRlZmluZWQsIGFueSBwYWdlLWJhc2VkXG4gICAgICAgICAgICAvLyBjb3VudGVyIGlzIG9ic2N1cmVkIGV2ZW4gaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgY29uc3QgY291bnRlcnNPZk5hbWUgPSBjb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQoY291bnRlcnNPZk5hbWVbY291bnRlcnNPZk5hbWUubGVuZ3RoIC0gMV0gfHwgbnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0UGFnZUNvdW50ZXJzKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVycykge1xuICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsYWlkIG91dC5cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucmVzb2x2ZVJlZmVyZW5jZSh0cmFuc2Zvcm1lZElkKTtcbiAgICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgcGFnZUNvdW50ZXJzT2ZOYW1lW3BhZ2VDb3VudGVyc09mTmFtZS5sZW5ndGggLSAxXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY29ycmVzcG9uZGluZyBjb3VudGVyIHdpdGggdGhlIG5hbWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCgwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHRhcmdldCBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkSWQsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnQgaGFzIG5vdCBiZWVuIGNhbGN1bGF0ZWQgeWV0LlxuICAgICAgICAgIC8vIChUaGUgZWxlbWVudCBpcyBpbiBhbm90aGVyIHNvdXJjZSBkb2N1bWVudCB0aGF0IGlzIG5vdCBwYXJzZWRcbiAgICAgICAgICAvLyB5ZXQpXG4gICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuc2F2ZVJlZmVyZW5jZU9mQ3VycmVudFBhZ2UodHJhbnNmb3JtZWRJZCwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYHRhcmdldC1jb3VudGVyLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYWdlQ291bnRlcnMgPSBzZWxmLmdldFRhcmdldFBhZ2VDb3VudGVycyh0cmFuc2Zvcm1lZElkKTtcblxuICAgICAgICBpZiAoIXBhZ2VDb3VudGVycykge1xuICAgICAgICAgIC8vIFRoZSB0YXJnZXQgZWxlbWVudCBoYXMgbm90IGJlZW4gbGFpZCBvdXQgeWV0LlxuICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gXCI/P1wiOyAvLyBUT0RPIG1vcmUgcmVhc29uYWJsZSBwbGFjZWhvbGRlcj9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5yZXNvbHZlUmVmZXJlbmNlKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBjb25zdCBlbGVtZW50Q291bnRlcnMgPSBzZWxmLmdldFRhcmdldENvdW50ZXJzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZElkLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudGVyc09mTmFtZSA9IGVsZW1lbnRDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICByZXR1cm4gZm9ybWF0KHBhZ2VDb3VudGVyc09mTmFtZS5jb25jYXQoZWxlbWVudENvdW50ZXJzT2ZOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgdGFyZ2V0LWNvdW50ZXJzLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb3VudGVyU3RvcmUge1xuICBjb3VudGVyc0J5SWQ6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIH0gPSB7fTtcbiAgcGFnZUNvdW50ZXJzQnlJZDogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfSA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgPSB7fTtcbiAgcHJldmlvdXNQYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzU3RhY2s6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlc1tdID0gW107XG4gIHBhZ2VJbmRpY2VzQnlJZDoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgc3BpbmVJbmRleDogbnVtYmVyOyBwYWdlSW5kZXg6IG51bWJlciB9O1xuICB9ID0ge307XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgbmV3UmVmZXJlbmNlc09mQ3VycmVudFBhZ2U6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICByZWZlcmVuY2VzVG9Tb2x2ZTogVGFyZ2V0Q291bnRlclJlZmVyZW5jZVtdID0gW107XG4gIHJlZmVyZW5jZXNUb1NvbHZlU3RhY2s6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXVtdID0gW107XG4gIHVucmVzb2x2ZWRSZWZlcmVuY2VzOiB7IFtrZXk6IHN0cmluZ106IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSB9ID0ge307XG4gIHJlc29sdmVkUmVmZXJlbmNlczogeyBba2V5OiBzdHJpbmddOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW10gfSA9IHt9O1xuICBwcml2YXRlIHBhZ2VzQ291bnRlckV4cHJzOiB7XG4gICAgZXhwcjogRXhwcnMuVmFsO1xuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nO1xuICB9W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdID0gWzBdO1xuICB9XG5cbiAgY3JlYXRlQ291bnRlckxpc3RlbmVyKGJhc2VVUkw6IHN0cmluZyk6IENzc0Nhc2NhZGUuQ291bnRlckxpc3RlbmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJMaXN0ZW5lcih0aGlzLCBiYXNlVVJMKTtcbiAgfVxuXG4gIGNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICBiYXNlVVJMOiBzdHJpbmcsXG4gICAgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICk6IENzc0Nhc2NhZGUuQ291bnRlclJlc29sdmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJSZXNvbHZlcih0aGlzLCBiYXNlVVJMLCByb290U2NvcGUsIHBhZ2VTY29wZSk7XG4gIH1cblxuICBzZXRDdXJyZW50UGFnZShwYWdlOiBWdHJlZS5QYWdlKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gIH1cblxuICBwcml2YXRlIGRlZmluZVBhZ2VDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSkge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlZnVsbHkgc2V0IHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAqL1xuICBmb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXI6IG51bWJlcikge1xuICAgIGNvbnN0IGNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW1wicGFnZVwiXTtcbiAgICBpZiAoIWNvdW50ZXJzIHx8ICFjb3VudGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tcInBhZ2VcIl0gPSBbcGFnZU51bWJlcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ZXJzW2NvdW50ZXJzLmxlbmd0aCAtIDFdID0gcGFnZU51bWJlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHdpdGggJ2NvdW50ZXItcmVzZXQnIGFuZCAnY291bnRlci1pbmNyZW1lbnQnXG4gICAqIHByb3BlcnRpZXMgd2l0aGluIHRoZSBwYWdlIGNvbnRleHQuIENhbGwgYmVmb3JlIHN0YXJ0aW5nIGxheW91dCBvZiB0aGVcbiAgICogcGFnZS5cbiAgICovXG4gIHVwZGF0ZVBhZ2VDb3VudGVycyhcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKSB7XG4gICAgLy8gU2F2ZSBwYWdlIGNvdW50ZXJzIHRvIHByZXZpb3VzUGFnZUNvdW50ZXJzIGJlZm9yZSB1cGRhdGluZ1xuICAgIHRoaXMucHJldmlvdXNQYWdlQ291bnRlcnMgPSBjbG9uZUNvdW50ZXJWYWx1ZXModGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzKTtcbiAgICBsZXQgcmVzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgcmVzZXQgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcImNvdW50ZXItcmVzZXRcIl07XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBjb25zdCByZXNldFZhbCA9IHJlc2V0LmV2YWx1YXRlKGNvbnRleHQpO1xuICAgICAgaWYgKHJlc2V0VmFsKSB7XG4gICAgICAgIHJlc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHJlc2V0VmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVQYWdlQ291bnRlcihyZXNldENvdW50ZXJOYW1lLCByZXNldE1hcFtyZXNldENvdW50ZXJOYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbmNyZW1lbnRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgaW5jcmVtZW50ID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICBpZiAoaW5jcmVtZW50VmFsKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhpbmNyZW1lbnRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiAnY291bnRlci1pbmNyZW1lbnQnIGZvciB0aGUgYnVpbHRpbiAncGFnZScgY291bnRlciBpcyBhYnNlbnQsIGFkZCBpdFxuICAgIC8vIHdpdGggdmFsdWUgMS5cbiAgICBpZiAoaW5jcmVtZW50TWFwKSB7XG4gICAgICBpZiAoIShcInBhZ2VcIiBpbiBpbmNyZW1lbnRNYXApKSB7XG4gICAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmNyZW1lbnRNYXAgPSB7fTtcbiAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGluY3JlbWVudENvdW50ZXJOYW1lIGluIGluY3JlbWVudE1hcCkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdKSB7XG4gICAgICAgIHRoaXMuZGVmaW5lUGFnZUNvdW50ZXIoaW5jcmVtZW50Q291bnRlck5hbWUsIDApO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgaW5jcmVtZW50TWFwW2luY3JlbWVudENvdW50ZXJOYW1lXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHBhZ2UtYmFzZWQgY291bnRlcnMgdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGUgdmFsdWVzIHBhc3NlZFxuICAgKiBpbi4gVGhlIHNhdmVkIGNvdW50ZXIgdmFsdWVzIGNhbiBiZSByZXN0b3JlZCBieSBwb3BQYWdlQ291bnRlcnMgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFBhZ2VDb3VudGVycyhjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucHVzaCh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyhjb3VudGVycyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZSBwcmV2aW91c2x5IHNhdmVkIHBhZ2UtYmFzZWQgY291bnRlciB2YWx1ZXMuXG4gICAqL1xuICBwb3BQYWdlQ291bnRlcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBhIHJlZmVyZW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQuXG4gICAqL1xuICByZXNvbHZlUmVmZXJlbmNlKGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgIGxldCByZXNvbHZlZFJlZnMgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tpZF07XG4gICAgaWYgKCFyZXNvbHZlZFJlZnMpIHtcbiAgICAgIHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgIH1cbiAgICBsZXQgcHVzaGVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCByZWYgPSB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlW2ldO1xuICAgICAgaWYgKHJlZi50YXJnZXRJZCA9PT0gaWQpIHtcbiAgICAgICAgcmVmLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlmICh1bnJlc29sdmVkUmVmcykge1xuICAgICAgICAgIGNvbnN0IGogPSB1bnJlc29sdmVkUmVmcy5pbmRleE9mKHJlZik7XG4gICAgICAgICAgaWYgKGogPj0gMCkge1xuICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICBwdXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXB1c2hlZCkge1xuICAgICAgdGhpcy5zYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSByZWZlcmVuY2UgYXBwZWFyZWQgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZDogc3RyaW5nLCByZXNvbHZlZDogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5zb21lKChyZWYpID0+IHJlZi50YXJnZXRJZCA9PT0gaWQpKSB7XG4gICAgICBjb25zdCByZWYgPSBuZXcgVGFyZ2V0Q291bnRlclJlZmVyZW5jZShpZCwgcmVzb2x2ZWQpO1xuICAgICAgdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5wdXNoKHJlZik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmlzaCB0aGUgY3VycmVudCBwYWdlOyBlbGVtZW50cyB3aXRoIElEIGFyZSBjb2xsZWN0ZWQgYW5kIHNhdmVkIHdpdGhcbiAgICogY3VycmVudCBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGludGVybmFsbHkuXG4gICAqIEBwYXJhbSBzcGluZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgc3BpbmUgaXRlbVxuICAgKiBAcGFyYW0gcGFnZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgcGFnZSBpbiBpdHMgc3BpbmUgaXRlbVxuICAgKi9cbiAgZmluaXNoUGFnZShzcGluZUluZGV4OiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXModGhpcy5jdXJyZW50UGFnZS5lbGVtZW50c0J5SWQpO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgICAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIHRoaXMucGFnZUNvdW50ZXJzQnlJZFtpZF0gPSBjdXJyZW50UGFnZUNvdW50ZXJzO1xuICAgICAgICBjb25zdCBvbGRQYWdlSW5kZXggPSB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgICAgIGlmIChvbGRQYWdlSW5kZXggJiYgb2xkUGFnZUluZGV4LnBhZ2VJbmRleCA8IHBhZ2VJbmRleCkge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICBpZiAocmVzb2x2ZWRSZWZzKSB7XG4gICAgICAgICAgICBsZXQgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICAgIGlmICghdW5yZXNvbHZlZFJlZnMpIHtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlZjogVGFyZ2V0Q291bnRlclJlZmVyZW5jZTtcbiAgICAgICAgICAgIHdoaWxlICgocmVmID0gcmVzb2x2ZWRSZWZzLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgIHJlZi51bnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF0gPSB7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZQYWdlQ291bnRlcnMgPSB0aGlzLnByZXZpb3VzUGFnZUNvdW50ZXJzO1xuICAgIGxldCByZWY6IFRhcmdldENvdW50ZXJSZWZlcmVuY2U7XG4gICAgd2hpbGUgKChyZWYgPSB0aGlzLm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlLnNoaWZ0KCkpKSB7XG4gICAgICByZWYucGFnZUNvdW50ZXJzID0gcHJldlBhZ2VDb3VudGVycztcbiAgICAgIHJlZi5zcGluZUluZGV4ID0gc3BpbmVJbmRleDtcbiAgICAgIHJlZi5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gICAgICBsZXQgYXJyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgICBpZiAocmVmLmlzUmVzb2x2ZWQoKSkge1xuICAgICAgICBhcnIgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW3JlZi50YXJnZXRJZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyID0gdGhpcy51bnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbcmVmLnRhcmdldElkXSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJyLmV2ZXJ5KChyKSA9PiAhcmVmLmVxdWFscyhyKSkpIHtcbiAgICAgICAgYXJyLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB1bnJlc29sdmVkIHJlZmVyZW5jZXMgcG9pbnRpbmcgdG8gdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKi9cbiAgZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgKToge1xuICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcztcbiAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gIH1bXSB7XG4gICAgbGV0IHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHBhZ2UuZWxlbWVudHNCeUlkKTtcbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgICAgaWYgKGlkUmVmcykge1xuICAgICAgICByZWZzID0gcmVmcy5jb25jYXQoaWRSZWZzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWZzLnNvcnQoXG4gICAgICAocjEsIHIyKSA9PiByMS5zcGluZUluZGV4IC0gcjIuc3BpbmVJbmRleCB8fCByMS5wYWdlSW5kZXggLSByMi5wYWdlSW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfVtdID0gW107XG4gICAgbGV0IG86IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfSA9IG51bGw7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIW8gfHxcbiAgICAgICAgby5zcGluZUluZGV4ICE9PSByZWYuc3BpbmVJbmRleCB8fFxuICAgICAgICBvLnBhZ2VJbmRleCAhPT0gcmVmLnBhZ2VJbmRleFxuICAgICAgKSB7XG4gICAgICAgIG8gPSB7XG4gICAgICAgICAgc3BpbmVJbmRleDogcmVmLnNwaW5lSW5kZXgsXG4gICAgICAgICAgcGFnZUluZGV4OiByZWYucGFnZUluZGV4LFxuICAgICAgICAgIHBhZ2VDb3VudGVyczogcmVmLnBhZ2VDb3VudGVycyxcbiAgICAgICAgICByZWZzOiBbcmVmXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0LnB1c2gobyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvLnJlZnMucHVzaChyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHJlZmVyZW5jZXMgdG8gc29sdmUgYW5kIHNldCB0aGVtIHRvIHRoZSB2YWx1ZXMgcGFzc2VkIGluLlxuICAgKiBUaGUgc2F2ZWQgcmVmZXJlbmNlcyBjYW4gYmUgcmVzdG9yZWQgYnkgcG9wUmVmZXJlbmNlc1RvU29sdmUgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSkge1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wdXNoKHRoaXMucmVmZXJlbmNlc1RvU29sdmUpO1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmUgPSByZWZzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgcHJldmlvdXNseSBzYXZlZCByZWZlcmVuY2VzIHRvIHNvbHZlLlxuICAgKi9cbiAgcG9wUmVmZXJlbmNlc1RvU29sdmUoKSB7XG4gICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZSA9IHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wb3AoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyxcbiAgICBleHByOiBFeHBycy5WYWwsXG4gICkge1xuICAgIGlmIChuYW1lID09PSBcInBhZ2VzXCIpIHtcbiAgICAgIHRoaXMucGFnZXNDb3VudGVyRXhwcnMucHVzaCh7IGV4cHIsIGZvcm1hdCB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZXhwckNvbnRlbnRMaXN0ZW5lcihleHByLCB2YWwsIGRvY3VtZW50KSB7XG4gICAgY29uc3QgZm91bmQgPSB0aGlzLnBhZ2VzQ291bnRlckV4cHJzLmZpbmRJbmRleCgobykgPT4gby5leHByID09PSBleHByKSA+PSAwO1xuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHZhbDtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUiwgZXhwci5rZXkpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZpbmlzaExhc3RQYWdlKHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0KSB7XG4gICAgY29uc3Qgbm9kZXMgPSB2aWV3cG9ydC5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1BBR0VTX0NPVU5URVJfQVRUUn1dYCk7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdWzBdO1xuICAgIEFycmF5LmZyb20obm9kZXMpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGUuZ2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUik7XG4gICAgICBjb25zdCBpID0gdGhpcy5wYWdlc0NvdW50ZXJFeHBycy5maW5kSW5kZXgoKG8pID0+IG8uZXhwci5rZXkgPT09IGtleSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpID49IDApO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRoaXMucGFnZXNDb3VudGVyRXhwcnNbaV0uZm9ybWF0KFtwYWdlc10pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChwYWdlSW5kZXg6IG51bWJlcik6IExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgICByZXR1cm4gbmV3IExheW91dENvbnN0cmFpbnQodGhpcywgcGFnZUluZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUEFHRVNfQ09VTlRFUl9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2VzLWNvdW50ZXJcIjtcblxuY2xhc3MgTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlclN0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGlmICghdmlld05vZGUgfHwgdmlld05vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBpZCA9XG4gICAgICAodmlld05vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIikgfHxcbiAgICAgICh2aWV3Tm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb3VudGVyU3RvcmUucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSAmJlxuICAgICAgIXRoaXMuY291bnRlclN0b3JlLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuY291bnRlclN0b3JlLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgaWYgKCFwYWdlSW5kZXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYWdlSW5kZXggPj0gcGFnZUluZGV4LnBhZ2VJbmRleDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NUb2tlbml6ZXIgLSBDU1MgVG9rZW5pemVyLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5pemVySGFuZGxlciB7XG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGFyc2VTaW5nbGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBzdHIgPSBzdHIuc3Vic3RyKDEpO1xuICBpZiAoc3RyLm1hdGNoKC9eW14wLTlhLWZBLUZcXG5cXHJdJC8pKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBjb25zdCBjb2RlID0gcGFyc2VJbnQoc3RyLCAxNik7XG4gIGlmIChpc05hTihjb2RlKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmIChjb2RlIDw9IDY1NTM1KSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gIH1cbiAgaWYgKGNvZGUgPD0gMTExNDExMSkge1xuICAgIC8vIG5vbi1CTVAgY2hhcmFjdGVyczogY29udmVydCB0byBhIHN1cnJvZ2F0ZSBwYWlyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICA1NTI5NiB8ICgoY29kZSA+PiAxMCkgJiAxMDIzKSxcbiAgICAgIDU2MzIwIHwgKGNvZGUgJiAxMDIzKSxcbiAgICApO1xuICB9XG5cbiAgLy8gbm90IGEgdmFsaWQgVW5pY29kZSB2YWx1ZVxuICByZXR1cm4gXCJcXHVmZmZkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVQYXJzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZShcbiAgICAvXFxcXChbMC05YS1mQS1GXXswLDZ9KFxcclxcbnxbIFxcblxcclxcdFxcZl0pP3xbXjAtOWEtZkEtRlxcblxccl0pL2csXG4gICAgZXNjYXBlUGFyc2VTaW5nbGUsXG4gICk7XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcbiAgRU9GLFxuICBJREVOVCxcbiAgU1RSLFxuICBOVU1FUklDLFxuICBOVU0sXG4gIElOVCxcbiAgRlVOQyxcbiAgSEFTSCxcbiAgVVJMLFxuICBDTEFTUyxcbiAgT19QQVIsXG4gIENfUEFSLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIE9fQlJLLFxuICBDX0JSSyxcbiAgQ09NTUEsXG4gIFNFTUlDT0wsXG4gIENPTE9OLFxuICBTTEFTSCxcbiAgQVQsXG4gIFBFUkNFTlQsXG4gIFFNQVJLLFxuICBQTFVTLFxuICBNSU5VUyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcblxuICAvLyB0aG9zZSBjYW4gaGF2ZSBcIj1cIiBhdCB0aGUgZW5kXG4gIEJBTkcgPSAzMSxcbiAgRE9MTEFSLFxuICBIQVQsXG4gIEJBUixcbiAgVElMREUsXG4gIFNUQVIsXG4gIEdULFxuICBMVCxcbiAgRVEsXG5cbiAgLy8gdG9rZW5zIGFib3ZlIHBsdXMgXCI9XCIgYXQgdGhlIGVuZCwgb3JkZXIgbXVzdCBiZSB0aGUgc2FtZVxuICBCQU5HX0VRID0gNDEsXG4gIERPTExBUl9FUSxcbiAgSEFUX0VRLFxuICBCQVJfRVEsXG4gIFRJTERFX0VRLFxuICBTVEFSX0VRLFxuICBHVF9FUSxcbiAgTFRfRVEsXG4gIEVRX0VRLFxuICBDT0xfQ09MLFxuICBJTlZBTElELFxuICBMQVNUID0gNTEsXG59XG5cbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHR5cGU6IFRva2VuVHlwZTtcbiAgcHJlY2VkZWRCeVNwYWNlOiBib29sZWFuID0gZmFsc2U7XG4gIG51bTogbnVtYmVyID0gMDtcbiAgdGV4dDogc3RyaW5nID0gXCJcIjtcbiAgcG9zaXRpb246IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50eXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIFNQQUNFID0gMSxcbiAgSU5ULFxuICBJREVOVCxcbiAgQkFORyxcbiAgSEFTSCA9IDYsXG4gIERPTExBUixcbiAgUEVSQ0VOVCxcbiAgQU1QLFxuICBPX1BBUixcbiAgQ19QQVIsXG4gIFNUQVIsXG4gIFBMVVMsXG4gIENPTU1BLFxuICBNSU5VUyxcbiAgRE9ULFxuICBTTEFTSCxcbiAgQ09MT04sXG4gIFNFTUlDT0wsXG4gIExULFxuICBFUSxcbiAgR1QsXG4gIFFNQVJLLFxuICBBVCxcbiAgT19CUkssXG4gIENfQlJLLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIEJTTEFTSCxcbiAgSEFULFxuICBCQVIsXG4gIFRJTERFLFxuICBTVFIxLFxuICBTVFIyLFxuICBFTkQsXG4gIEVRVEFJTCxcbiAgRU5ESU5ULFxuICBFTkROVU0sXG4gIENPTlQsXG4gIFVOSVQsXG4gIFBDVU5JVCxcbiAgTlVNQkVSLFxuICBFTkRJRE5ULFxuICBJRE5URVNDLFxuICBFTkRJREVTLFxuXG4gIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICBFTkRTVFIsXG4gIEVOREVTVFIsXG5cbiAgLy8gZW5kIG9mIHN0cmluZyB3aXRoIGVzY2FwZXNcbiAgU1RSMUVTQyxcbiAgU1RSMkVTQyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcbiAgRlVOQyxcbiAgRlVOQ0VTLFxuICBDT01NRU5ULFxuICBDT01NU1QsXG4gIEVORE5PVEssXG4gIE1JTk1JTixcbiAgVE9JTlQsXG4gIFRPTlVNLFxuICBUT0lERU5ULFxuICBUT0lERVMsXG4gIEtJTEwxLFxuICBLSUxMMixcbiAgVVJMLFxuICBVUkwxLFxuICBVUkwyLFxuICBFTkRVUkwsXG4gIFRFUk1VUkwsXG4gIEZJTlVSTCxcbiAgTFRfQkcsXG4gIExUX0JHX00sXG4gIElOVkFMSUQsXG4gIENIS1BPU1MsXG4gIENIS1BPU04sXG4gIFVSTEVTQyxcbiAgSURFU0NILFxuICBDT0xfQ09MLFxuICBUT0NMQVNTLFxuICBDSEtTUCxcbiAgRU9GLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFjdGlvbnMoZGVmOiBBY3Rpb24sIHNwZWM6IEFjdGlvbltdKTogQWN0aW9uW10ge1xuICBjb25zdCBhOiBudW1iZXJbXSA9IEFycmF5KDEyOCk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCAxMjg7IGkrKykge1xuICAgIGFbaV0gPSBkZWY7XG4gIH1cbiAgYVtOYU5dID0gZGVmID09IEFjdGlvbi5FTkQgPyBBY3Rpb24uRU5EIDogQWN0aW9uLklOVkFMSUQ7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGVjLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgYVtzcGVjW2ldXSA9IHNwZWNbaSArIDFdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFN0YXJ0IG9mIHRoZSB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOb3JtYWw6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5TUEFDRSxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uQkFORyxcbiAgQWN0aW9uLlNUUjIsXG4gIEFjdGlvbi5IQVNILFxuICBBY3Rpb24uRE9MTEFSLFxuICBBY3Rpb24uUEVSQ0VOVCxcbiAgQWN0aW9uLkFNUCxcbiAgQWN0aW9uLlNUUjEsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uT19QQVIsXG4gIEFjdGlvbi5DX1BBUixcbiAgQWN0aW9uLlNUQVIsXG4gIEFjdGlvbi5QTFVTLFxuICBBY3Rpb24uQ09NTUEsXG4gIEFjdGlvbi5NSU5VUyxcbiAgQWN0aW9uLkRPVCxcbiAgQWN0aW9uLlNMQVNILCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5DT0xPTixcbiAgQWN0aW9uLlNFTUlDT0wsXG4gIEFjdGlvbi5MVCxcbiAgQWN0aW9uLkVRLFxuICBBY3Rpb24uR1QsXG4gIEFjdGlvbi5RTUFSSywgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5BVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSSyxcbiAgQWN0aW9uLkJTTEFTSCxcbiAgQWN0aW9uLkNfQlJLLFxuICBBY3Rpb24uSEFULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSQyxcbiAgQWN0aW9uLkJBUixcbiAgQWN0aW9uLkNfQlJDLFxuICBBY3Rpb24uVElMREUsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNOb3JtYWxbTmFOXSA9IEFjdGlvbi5FT0Y7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRlVOQyxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLklETlRFU0MsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc0lkZW50W05hTl0gPSBBY3Rpb24uRU5ESUROVDtcblxuLyoqXG4gKiBBZnRlciBkb3QgKGVpdGhlciAuY2xhc3Mgb3IgLjEyMylcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOdW1PckNsYXNzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPSURFUyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zSWRlbnRbTmFOXSA9IEFjdGlvbi5FTkRJRE5UO1xuXG4vKipcbiAqIGFmdGVyICctJ1xuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc01pbnVzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uTUlOTUlOLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVTLFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVOVCwgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zTWludXNbTmFOXSA9IEFjdGlvbi5FTkQ7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIgd2l0aCBlc2NhcGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJZGVudEVzYzogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uQ0hLUE9TUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5DSEtQT1NTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5GVU5DRVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5JRE5URVNDLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJZGVudEVzY1tOYU5dID0gQWN0aW9uLkVORElERVM7XG5cbi8qKlxuICogSW5zaWRlIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlBDVU5JVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5OVU1CRVIsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0MC0weDQ3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0OC0weDRGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5VTklULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJbnRbTmFOXSA9IEFjdGlvbi5FTkRJTlQ7XG5cbi8qKlxuICogaW5zaWRlIHJlYWwsIGFmdGVyIGRvdFxuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc051bWJlcjogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uUENVTklULFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc051bWJlcltOYU5dID0gQWN0aW9uLkVORE5VTTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDaGVja0VxOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgNjEgLyo9Ki8sXG4gIEFjdGlvbi5FUVRBSUwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDb2xvbjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDU4IC8qOiovLFxuICBBY3Rpb24uQ09MX0NPTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0JhcjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAxMjQgLyp8Ki8sXG4gIEFjdGlvbi5CQVJfQkFSLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zQW1wOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgMzggLyomKi8sXG4gIEFjdGlvbi5BTVBfQU1QLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2xhc2g6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkVORCwgW1xuICA0MiAvKiAqICovLFxuICBBY3Rpb24uQ09NTUVOVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnQ6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgNDIgLyogKiAqLyxcbiAgQWN0aW9uLkNPTU1TVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnRTdGFyOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT01NRU5ULCBbXG4gIDQyIC8qICogKi8sXG4gIEFjdGlvbi5DT01NU1QsXG4gIDQ3IC8qIC8gKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTWludXNNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDEsIFtcbiAgNjIgLyogPiAqLyxcbiAgQWN0aW9uLkVORE5PVEssXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdDogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAzMyAvKiEqLyxcbiAgQWN0aW9uLkxUX0JHLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTHRCYW5nOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5LSUxMMSwgW1xuICA0NSAvKi0qLyxcbiAgQWN0aW9uLkxUX0JHX00sXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdEJhbmdNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDIsIFtcbiAgNDUgLyotKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnRFc2NDaHI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklERVNDSCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVORFNUUixcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgOTIgLypcXCovLFxuICBBY3Rpb24uU1RSMUVTQyxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0cjI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgMzQgLypcIiovLFxuICBBY3Rpb24uRU5EU1RSLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5TVFIyRVNDLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMUVzYzogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjFFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTdHIyRXNjOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT05ULCBbXG4gIDM0IC8qXCIqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjJFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNVUkw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLlVSTCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5VUkwyLFxuICAzOSAvKicqLyxcbiAgQWN0aW9uLlVSTDEsXG4gIDQxIC8qKSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTEluc2lkZTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICA0MSAvKikqLyxcbiAgQWN0aW9uLkVORFVSTCxcbiAgOSAvKlRBQiovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1NQLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtTUCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgNDAgLyooKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MSAvKlsqLyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIDkzIC8qXSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTIzIC8qeyovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTI1IC8qfSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLlRFUk1VUkwsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5URVJNVVJMLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5VUkxFU0MsXG4gIE5hTixcbiAgQWN0aW9uLkVORFVSTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTFRhaWw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklOVkFMSUQsIFtcbiAgOSAvKnRhYiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ09OVCxcbiAgNDEgLyopKi8sXG4gIEFjdGlvbi5GSU5VUkwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfSU5ERVhfTUFTSyA9IDE1O1xuXG5leHBvcnQgY2xhc3MgVG9rZW5pemVyIHtcbiAgaW5kZXhNYXNrOiBudW1iZXI7XG4gIGJ1ZmZlcjogVG9rZW5bXTtcbiAgaGVhZDogbnVtYmVyID0gLTE7IC8vIHNhdmVkLCBvY2N1cGllZCBpZiA+PSAwXG4gIHRhaWw6IG51bWJlciA9IDA7IC8vIGF2YWlsYWJsZSwgcmVhZHkgdG8gd3JpdGVcbiAgY3VycjogbnVtYmVyID0gMDsgLy8gcmVhZHkgdG8gcmVhZFxuICBwb3NpdGlvbjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW5wdXQ6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IGhhbmRsZXI6IFRva2VuaXplckhhbmRsZXIpIHtcbiAgICB0aGlzLmluZGV4TWFzayA9IElOSVRJQUxfSU5ERVhfTUFTSztcbiAgICB0aGlzLmJ1ZmZlciA9IEFycmF5KHRoaXMuaW5kZXhNYXNrICsgMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5pbmRleE1hc2s7IGkrKykge1xuICAgICAgdGhpcy5idWZmZXJbaV0gPSBuZXcgVG9rZW4oKTtcbiAgICB9XG4gIH1cblxuICB0b2tlbigpOiBUb2tlbiB7XG4gICAgaWYgKHRoaXMudGFpbCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5jdXJyXTtcbiAgfVxuXG4gIG50aFRva2VuKG46IG51bWJlcik6IFRva2VuIHtcbiAgICBpZiAoKCh0aGlzLnRhaWwgLSB0aGlzLmN1cnIpICYgdGhpcy5pbmRleE1hc2spIDw9IG4pIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbKHRoaXMuY3VyciArIG4pICYgdGhpcy5pbmRleE1hc2tdO1xuICB9XG5cbiAgY29uc3VtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnIgPSAodGhpcy5jdXJyICsgMSkgJiB0aGlzLmluZGV4TWFzaztcbiAgfVxuXG4gIG1hcmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhZCA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0NTU1RPS19CQURfQ0FMTCBtYXJrXCIpO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSB0aGlzLmN1cnI7XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFkIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9DU1NUT0tfQkFEX0NBTEwgcmVzZXRcIik7XG4gICAgfVxuICAgIHRoaXMuY3VyciA9IHRoaXMuaGVhZDtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIHVubWFyaygpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIGhhc01hcmsoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZCA+PSAwO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFsbG9jYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0luZGV4TWFzayA9IDIgKiAodGhpcy5pbmRleE1hc2sgKyAxKSAtIDE7XG4gICAgY29uc3QgbmV3QnVmZmVyOiBUb2tlbltdID0gQXJyYXkobmV3SW5kZXhNYXNrICsgMSk7XG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5oZWFkO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgd2hpbGUgKG9sZEluZGV4ICE9IHRoaXMudGFpbCkge1xuICAgICAgbmV3QnVmZmVyW25ld0luZGV4XSA9IHRoaXMuYnVmZmVyW29sZEluZGV4XTtcbiAgICAgIGlmIChvbGRJbmRleCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgICAgdGhpcy5jdXJyID0gbmV3SW5kZXg7XG4gICAgICB9XG4gICAgICBvbGRJbmRleCA9IChvbGRJbmRleCArIDEpICYgdGhpcy5pbmRleE1hc2s7XG4gICAgICBuZXdJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSAwO1xuICAgIHRoaXMudGFpbCA9IG5ld0luZGV4O1xuICAgIHRoaXMuaW5kZXhNYXNrID0gbmV3SW5kZXhNYXNrO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3QnVmZmVyO1xuICAgIHdoaWxlIChuZXdJbmRleCA8PSBuZXdJbmRleE1hc2spIHtcbiAgICAgIG5ld0J1ZmZlcltuZXdJbmRleCsrXSA9IG5ldyBUb2tlbigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXJyb3IocG9zaXRpb24sIHRva2VuLCBtbmVtb25pY3MpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyKSB7XG4gICAgICB0aGlzLmhhbmRsZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaWxsQnVmZmVyKCk6IHZvaWQge1xuICAgIGxldCB0YWlsID0gdGhpcy50YWlsO1xuICAgIGxldCBoZWFkID0gdGhpcy5oZWFkID49IDAgPyB0aGlzLmhlYWQgOiB0aGlzLmN1cnI7XG4gICAgbGV0IGluZGV4TWFzayA9IHRoaXMuaW5kZXhNYXNrO1xuICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgIGhlYWQgKz0gaW5kZXhNYXNrO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLS07XG4gICAgfVxuICAgIGlmIChoZWFkID09IHRhaWwpIHtcbiAgICAgIC8vIG9ubHkgZXhwZWN0IHRvIGdldCBoZXJlIHdoZW4gbWFyayBpcyBpbiBlZmZlY3RcbiAgICAgIGlmICh0aGlzLmhlYWQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfQ1NTVE9LX0lOVEVSTkFMXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFsbG9jYXRlKCk7XG4gICAgICB0YWlsID0gdGhpcy50YWlsO1xuICAgICAgaW5kZXhNYXNrID0gdGhpcy5pbmRleE1hc2s7XG4gICAgICBoZWFkID0gaW5kZXhNYXNrOyAvLyB0aGlzLmhlYWQgaXMgemVyb1xuICAgIH1cbiAgICBsZXQgYWN0aW9ucyA9IGFjdGlvbnNOb3JtYWw7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmlucHV0O1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgbGV0IHRva2VuVHlwZTogVG9rZW5UeXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgICBsZXQgdG9rZW5Qb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgICBsZXQgdG9rZW5UZXh0OiBzdHJpbmcgPSBcIlwiO1xuICAgIGxldCB0b2tlbk51bTogbnVtYmVyID0gMDtcbiAgICBsZXQgc2VlblNwYWNlID0gZmFsc2U7XG4gICAgbGV0IHRva2VuOiBUb2tlbiA9IGJ1ZmZlclt0YWlsXTtcbiAgICBsZXQgYmFja3NsYXNoUG9zID0gLTk7IC8vIGZhciBlbm91Z2ggYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gICAgICBzd2l0Y2ggKGFjdGlvbnNbY2hhckNvZGVdIHx8IGFjdGlvbnNbNjVdIC8qQSovKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVkFMSUQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklOVkFMSUQ7XG4gICAgICAgICAgaWYgKGlzTmFOKGNoYXJDb2RlKSkge1xuICAgICAgICAgICAgdG9rZW5UZXh0ID0gXCJFX0NTU19VTkVYUEVDVEVEX0VPRlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfQ0hBUlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5TUEFDRTpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIHNlZW5TcGFjZSA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0ludDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uSURFTlQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkJBTkc6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBTkc7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIxOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIyOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5IQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSArK3Bvc2l0aW9uOyAvLyBhZnRlciBoYXNoXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkhBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRE9MTEFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5ET0xMQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QRVJDRU5UOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QRVJDRU5UO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5BTVA6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkRPTExBUjtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0FtcDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uT19QQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk9fUEFSO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DX1BBUjpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ19QQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLlNUQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QTFVTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QTFVTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT01NQTpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09NTUE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk1JTlVTOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5NSU5VUztcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc01pbnVzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5ET1Q6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNOdW1PckNsYXNzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0NMQVNTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DTEFTUztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TTEFTSDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0xBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTbGFzaDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09MT046XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNPTE9OO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29sb247XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNPTF9DT0w6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09MX0NPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VNSUNPTDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0VNSUNPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uTFQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkxUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVROlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5FUTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkdUOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5HVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlFNQVJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5RTUFSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQVQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIFwiYXRcIiBzaWduXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLk9fQlJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5PX0JSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ19CUks6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNfQlJLO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5PX0JSQzpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuT19CUkM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNfQlJDOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DX0JSQztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQlNMQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGJhY2tzbGFzaFBvcyA9IHRva2VuUG9zaXRpb247XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnRFc2NDaHI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkhBVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSEFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ2hlY2tFcTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQkFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5CQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNCYXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRJTERFOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5USUxERTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUVRBSUw6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSAodG9rZW5UeXBlICtcbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HX0VRIC1cbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HKSBhcyBUb2tlblR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORElOVDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUludChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pLCAxMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORE5VTTpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU07XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT05UOlxuICAgICAgICAgIC8vIGp1c3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5VTklUOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU1FUklDO1xuICAgICAgICAgIHRva2VuTnVtID0gcGFyc2VGbG9hdChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTtcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QQ1VOSVQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTUVSSUM7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHRva2VuVGV4dCA9IFwiJVwiO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrOyAvLyBmb3IgY29uc2lzdGVuY3kgd2l0aCBhbHBoYWJldGljIHVuaXRzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk5VTUJFUjpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTnVtYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJRE5UOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLklETlRFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjQ2hyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJREVTOlxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRTVFI6XG4gICAgICAgICAgdG9rZW5UZXh0ID0gaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ERVNUUjpcbiAgICAgICAgICB0b2tlblRleHQgPSBlc2NhcGVQYXJzZShpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU1RSMUVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbjtcbiAgICAgICAgICBwb3NpdGlvbiArPSAyOyAvLyBjb25zdW1lIGNoYXJhY3RlciBhZnRlciBiYWNrc2xhc2ggaW4gYW55IGNhc2VcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1N0cjFFc2M7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUUjJFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb247XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjsgLy8gY29uc3VtZSBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoIGluIGFueSBjYXNlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyRXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5CQVJfQkFSOlxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBUl9CQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFNUF9BTVA6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQU1QX0FNUDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRlVOQzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVG9rZW5UeXBlLk5VTUVSSUNcbiAgICAgICAgICB0b2tlblRleHQgPSBpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgIGlmICh0b2tlblR5cGUgPT0gVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICBwb3NpdGlvbisrOyAvLyBjb25zdW1lXG4gICAgICAgICAgICBpZiAodG9rZW5UZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRlVOQztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZVTkNFUzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVF9OVU1FUklDXG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgaWYgKHRva2VuVHlwZSA9PSBUb2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7IC8vIGNvbnN1bWVcbiAgICAgICAgICAgIGlmICh0b2tlblRleHQudG9Mb3dlckNhc2UoKSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zVVJMO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5GVU5DO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTUVOVDpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NvbW1lbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTVNUOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29tbWVudFN0YXI7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ETk9USzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5NSU5NSU46XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNNaW51c01pbnVzO1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVE9OVU06XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc051bWJlcjtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0lERU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JREVOVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSURFUzpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSURFTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudEVzY0NocjtcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMTpcbiAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMjpcbiAgICAgICAgICBwb3NpdGlvbiAtPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5VUkw6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxJbnNpZGU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDE6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORFVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgJyknXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZJTlVSTDpcbiAgICAgICAgICBwb3NpdGlvbisrOyAvLyBza2lwICcpJ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CRzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0x0QmFuZztcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CR19NOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHRCYW5nTWludXM7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ0hLU1A6XG4gICAgICAgICAgLy8gbmV3bGluZSBpbiBub24tcXVvdGVkIFVSTCAtIGNoZWNrIGlmIGVuZCBvZiB1cmxcbiAgICAgICAgICBpZiAocG9zaXRpb24gLSBiYWNrc2xhc2hQb3MgPCA4KSB7XG4gICAgICAgICAgICAvLyBjbG9zZSBlbm91Z2g6IG1heSBiZSB2YWxpZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoYmFja3NsYXNoUG9zICsgMSwgcG9zaXRpb24gKyAxKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKXxbIFxcdF0kLylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyB2YWxpZCwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kIG9mIHVybFxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uVEVSTVVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgcXVvdGUgKG9yIG5ld2xpbmUpXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxUYWlsO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NOOlxuICAgICAgICAgIC8vIG5ld2xpbmUgaW4gc3RyaW5nIG9yIHF1b3RlZCBVUkwgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIC0gYmFja3NsYXNoUG9zIDwgOSkge1xuICAgICAgICAgICAgLy8gY2xvc2UgZW5vdWdoOiBtYXkgYmUgdmFsaWRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGJhY2tzbGFzaFBvcyArIDEsIHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGludmFsaWQgdG9rZW5cbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfTkVXTElORVwiO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTm9ybWFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NTOlxuICAgICAgICAgIC8vIHNwYWNlIGluIGlkZW50aWZpZXIgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIGlmIChwb3NpdGlvbiAtIGJhY2tzbGFzaFBvcyA8IDkpIHtcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaDogbWF5IGJlIHZhbGlkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyhiYWNrc2xhc2hQb3MgKyAxLCBwb3NpdGlvbiArIDEpXG4gICAgICAgICAgICAgICAgLm1hdGNoKC9eWzAtOWEtZkEtRl17MCw2fVsgXFx0XSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyXG4gICAgICAgICAgLy8gZG9uJ3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICAvLyB0b2tlblR5cGUgc2hvdWxkIGJlIHNldCBhbHJlYWR5XG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTEVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5JREVTQ0g6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgIGlmIChhY3Rpb25zICE9PSBhY3Rpb25zTm9ybWFsKSB7XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICAgIHRva2VuVGV4dCA9IFwiRV9DU1NfVU5FWFBFQ1RFRF9TVEFURVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRU9GO1xuICAgICAgfVxuICAgICAgdG9rZW4udHlwZSA9IHRva2VuVHlwZTtcbiAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZSA9IHNlZW5TcGFjZTtcbiAgICAgIHRva2VuLm51bSA9IHRva2VuTnVtO1xuICAgICAgdG9rZW4udGV4dCA9IHRva2VuVGV4dDtcbiAgICAgIHRva2VuLnBvc2l0aW9uID0gdG9rZW5Qb3NpdGlvbjtcbiAgICAgIHRhaWwrKztcbiAgICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgIHNlZW5TcGFjZSA9IGZhbHNlO1xuICAgICAgdG9rZW4gPSBidWZmZXJbdGFpbCAmIGluZGV4TWFza107XG4gICAgfVxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnRhaWwgPSB0YWlsICYgaW5kZXhNYXNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2sgLSBTdXBwb3J0IGZvciBhc3luY2hyb25vdXMgZXhlY3V0aW9uIGFuZCBjb29wZXJhdGl2ZVxuICogbXVsdGl0YXNraW5nLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIEV4dGVybmFsIHRpbWVyLiBPbmx5IG5lZWRlZCBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBjdXJyZW50VGltZSgpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbGxzIGZ1bmN0aW9uIGFmdGVyIGEgZ2l2ZW4gdGltZW91dC5cbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIHRpbWVvdXQuXG4gICAqL1xuICBzZXRUaW1lb3V0KGZuOiAoKSA9PiB2b2lkLCBkZWxheTogbnVtYmVyKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxscyBmdW5jdGlvbiBhZnRlciBhIGdpdmVuIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB0b2tlbiB0aW1lb3V0IHRva2VuLlxuICAgKiBAcmV0dXJuLlxuICAgKi9cbiAgY2xlYXJUaW1lb3V0KHRva2VuOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtYXkgYmUgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IG9yXG4gKiBzb21lIHRpbWUgbGF0ZXIuIFNpbWlsYXIgdG8gRGVmZXJyZWQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdDxUPiB7XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiB3aGVuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiBpcyBmaW5pc2hlZC4gQ2FsbGJhY2tcbiAgICogaXMgZXhlY3V0ZWQgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZDtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHdoZW4gc29tZSBhc3luY2hyb25vdXMgZnVuY3Rpb24gaXNcbiAgICogZmluaXNoZWQuIENhbGxiYWNrIGlzIGV4ZWN1dGVkIGluIHRoZSB0YXNrJ3MgY29udGV4dC5cbiAgICogQHRlbXBsYXRlIFQxXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pOiBSZXN1bHQ8VDE+O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlIGEgUmVzdWx0IHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGdpdmVuIHZhbHVlIHdoZW4gdGhpcyBSZXN1bHQgaXNcbiAgICogcmVzb2x2ZWQuXG4gICAqIEB0ZW1wbGF0ZSBUMVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSk6IFJlc3VsdDxUMT47XG5cbiAgLyoqXG4gICAqIEZpbmlzaCBnaXZlbiBmcmFtZSB3aXRoIHRoZSByZXN1bHQgdmFsdWUgd2hlbiByZXN1bHQgYmVjb21lcyByZWFkeS5cbiAgICovXG4gIHRoZW5GaW5pc2goZnJhbWU6IEZyYW1lPFQ+KTogdm9pZDtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBSZXN1bHQgaXMgc3RpbGwgcGVuZGluZy5cbiAgICovXG4gIGlzUGVuZGluZygpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIFJlc3VsdCBpcyByZXNvbHZlZCwgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IGl0IGhvbGRzLlxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsO1xufVxuXG5leHBvcnQgbGV0IHByaXZhdGVDdXJyZW50VGFzazogVGFzayB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgbGV0IHByaW1hcnlTY2hlZHVsZXI6IFNjaGVkdWxlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgY3VycmVudCB0YXNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFRhc2soKTogVGFzayB8IG51bGwge1xuICByZXR1cm4gcHJpdmF0ZUN1cnJlbnRUYXNrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGZyYW1lIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdGcmFtZTxUPihuYW1lOiBzdHJpbmcpOiBGcmFtZTxUPiB7XG4gIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX05PX0NPTlRFWFRcIik7XG4gIH1cbiAgaWYgKCFwcml2YXRlQ3VycmVudFRhc2submFtZSkge1xuICAgIHByaXZhdGVDdXJyZW50VGFzay5uYW1lID0gbmFtZTtcbiAgfVxuICBjb25zdCB0YXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICBjb25zdCBmcmFtZSA9IG5ldyBGcmFtZTxUPih0YXNrLCB0YXNrLnRvcCwgbmFtZSk7XG4gIHRhc2sudG9wID0gZnJhbWU7XG4gIGZyYW1lLnN0YXRlID0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0V2ZW50U291cmNlKCk6IEV2ZW50U291cmNlIHtcbiAgcmV0dXJuIG5ldyBFdmVudFNvdXJjZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2NoZWR1bGVyKG9wdF90aW1lcj86IFRpbWVyKTogU2NoZWR1bGVyIHtcbiAgcmV0dXJuIG5ldyBTY2hlZHVsZXIob3B0X3RpbWVyIHx8IG5ldyBUaW1lckltcGwoKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Jlc3VsdDxUPihvcHRfdmFsdWU6IFQpOiBSZXN1bHQ8VD4ge1xuICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsPFQ+KG9wdF92YWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmcmFtZSBhbmQgcnVucyBjb2RlIGluIGl0cyBjb250ZXh0LCBjYXRjaGluZyBzeW5jaHJvbm91cyBhbmRcbiAqIGFzeW5jaHJvbm91cyBlcnJvcnMuIElmIGFuIGVycm9yIG9jY3Vycywgb25FcnIgaXMgcnVuIChpbiB0aGUgY29udGV4dCBvZlxuICogdGhlIHNhbWUgZnJhbWUpLiBBcyB1c3VhbCwgb25FcnIgaXMgc3VwcG9zZWQgZWl0aGVyIHByb2R1Y2UgYSByZXN1bHQgb3IgcmFpc2VcbiAqIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZTxUPihcbiAgbmFtZTogYW55LFxuICBjb2RlOiAocDE6IEZyYW1lPFQ+KSA9PiB2b2lkLFxuICBvbkVycjogKHAxOiBGcmFtZTxUPiwgcDI6IEVycm9yKSA9PiB2b2lkLFxuKTogUmVzdWx0PFQ+IHtcbiAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxUPihuYW1lKTtcbiAgZnJhbWUuaGFuZGxlciA9IG9uRXJyO1xuICB0cnkge1xuICAgIGNvZGUoZnJhbWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzeW5jaHJvbm91cyBleGNlcHRpb25cbiAgICBmcmFtZS50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICB9XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0PFQ+KGZ1bmM6ICgpID0+IFJlc3VsdDxUPiwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcHJpdmF0ZUN1cnJlbnRUYXNrXG4gICAgPyBwcml2YXRlQ3VycmVudFRhc2suZ2V0U2NoZWR1bGVyKClcbiAgICA6IHByaW1hcnlTY2hlZHVsZXIgfHwgbmV3U2NoZWR1bGVyKCk7XG4gIHJldHVybiBzY2hlZHVsZXIucnVuKGZ1bmMsIG9wdF9uYW1lKTtcbn1cblxuLyoqXG4gKiBGcmFtZSBzdGF0ZS5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEZyYW1lU3RhdGUge1xuICBJTklULCAvLyBiZWZvcmUgbmV3RnJhbWUgY2FsbFxuICBBQ1RJVkUsIC8vIGJlZm9yZSBmaW5pc2ggY2FsbFxuICBGSU5JU0hFRCwgLy8gYmVmb3JlIGNhbGxiYWNrIGNvbXBsZXRlXG4gIERFQUQsIC8vIHdoZW4gY2FsbGJhY2sgaXMgY29tcGxldGVcbn1cbmV4cG9ydCBjbGFzcyBUaW1lckltcGwgaW1wbGVtZW50cyBUaW1lciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0VGltZW91dChmbjogKCkgPT4gdm9pZCwgZGVsYXk6IG51bWJlcikge1xuICAgIC8vIEhBQ0s6IGNhc3RpbmcgdG8gdW5rbm93biB0eXBlIHRvIHByZXZlbnQgVHlwZVNjcmlwdCBlcnJvclxuICAgIC8vIFtUUzIzNTJdIENvbnZlcnNpb24gb2YgdHlwZSAnVGltZXInIHRvIHR5cGUgJ251bWJlcicgbWF5IGJlIGEgbWlzdGFrZSBiZWNhdXNlIG5laXRoZXIgdHlwZSBzdWZmaWNpZW50bHkgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIuXG4gICAgY29uc3QgdGltZXI6IHVua25vd24gPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7XG4gICAgcmV0dXJuIHRpbWVyIGFzIG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyVGltZW91dCh0b2tlbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRva2VuKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgY2xhc3MgdG8gY3JlYXRlIHRhc2tzLlxuICovXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyIHtcbiAgdGltZW91dDogbnVtYmVyID0gMTtcbiAgc2xpY2U6IG51bWJlciA9IDI1O1xuICBzbGljZU92ZXJUaW1lOiBudW1iZXIgPSAwO1xuICBxdWV1ZTogQmFzZS5Qcmlvcml0eVF1ZXVlO1xuICB3YWtldXBUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgdGltZW91dFRva2VuOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaW5UaW1lU2xpY2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRpbWVyOiBUaW1lcikge1xuICAgIHRoaXMucXVldWUgPSBuZXcgQmFzZS5Qcmlvcml0eVF1ZXVlKCk7XG4gICAgaWYgKCFwcmltYXJ5U2NoZWR1bGVyKSB7XG4gICAgICBwcmltYXJ5U2NoZWR1bGVyID0gdGhpcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aW1lIHNsaWNlIGxlbmd0aC5cbiAgICogQHBhcmFtIHNsaWNlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRTbGljZShzbGljZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGltZW91dCBiZXR3ZWVuIHRpbWUgc2xpY2VzLlxuICAgKiBAcGFyYW0gdGltZW91dCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRUaW1lb3V0KHRpbWVvdXQ6IG51bWJlcikge1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRpbWUgc2xpY2UgaXMgb3Zlci5cbiAgICovXG4gIGlzVGltZVNsaWNlT3ZlcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgcmV0dXJuIG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWU7XG4gIH1cblxuICBwcml2YXRlIGFybSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pblRpbWVTbGljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXh0SW5RdWV1ZSA9IHRoaXMucXVldWUucGVlaygpIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5ld1RpbWUgPSBuZXh0SW5RdWV1ZS5zY2hlZHVsZWRUaW1lO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBpZiAodGhpcy50aW1lb3V0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKG5vdyArIHRoaXMudGltZW91dCA+IHRoaXMud2FrZXVwVGltZSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVzZSByZS1hcm1pbmdcbiAgICAgIH1cbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICB9XG4gICAgbGV0IHRpbWVvdXQgPSBuZXdUaW1lIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDw9IHRoaXMudGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICB9XG4gICAgdGhpcy53YWtldXBUaW1lID0gbm93ICsgdGltZW91dDtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IHRoaXMudGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLnRpbWVvdXRUb2tlbiA9IG51bGw7XG4gICAgICBzZWxmLmRvVGltZVNsaWNlKCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICBzY2hlZHVsZShjb250aW51YXRpb246IENvbnRpbnVhdGlvbjxhbnk+LCBvcHRfZGVsYXk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBjID0gY29udGludWF0aW9uIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBjLm9yZGVyID0gdGhpcy5vcmRlcisrO1xuICAgIGMuc2NoZWR1bGVkVGltZSA9IG5vdyArIChvcHRfZGVsYXkgfHwgMCk7XG4gICAgdGhpcy5xdWV1ZS5hZGQoYyk7XG4gICAgdGhpcy5hcm0oKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9UaW1lU2xpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGltZW91dFRva2VuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICAgIHRoaXMudGltZW91dFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLnNsaWNlT3ZlclRpbWUgPSBub3cgKyB0aGlzLnNsaWNlO1xuICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKCkpIHtcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gdGhpcy5xdWV1ZS5wZWVrKCkgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgICAgIGlmIChjb250aW51YXRpb24uc2NoZWR1bGVkVGltZSA+IG5vdykge1xuICAgICAgICAgIGJyZWFrOyAvLyB0b28gZWFybHlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlLnJlbW92ZSgpO1xuICAgICAgICBpZiAoIWNvbnRpbnVhdGlvbi5jYW5jZWxlZCkge1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5yZXN1bWVJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgICAgIG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCgpKSB7XG4gICAgICB0aGlzLmFybSgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1bihmdW5jOiAoKSA9PiBSZXN1bHQ8YW55Piwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sodGhpcywgb3B0X25hbWUgfHwgXCJcIik7XG4gICAgdGFzay50b3AgPSBuZXcgRnJhbWU8YW55Pih0YXNrLCBudWxsLCBcImJvb3RzdHJhcFwiKTtcbiAgICB0YXNrLnRvcC5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgIHRhc2sudG9wLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgICAgdGFzay5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGFzay5jYWxsYmFja3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnVuYygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRhc2sucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGFzay5yYWlzZShlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc2F2ZWRUYXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHRhc2s7XG4gICAgdGhpcy5zY2hlZHVsZSh0YXNrLnRvcC5zdXNwZW5kKFwiYm9vdHN0cmFwXCIpKTtcbiAgICBwcml2YXRlQ3VycmVudFRhc2sgPSBzYXZlZFRhc2s7XG4gICAgcmV0dXJuIHRhc2s7XG4gIH1cbn1cblxuLyoqXG4gKiBUYXNrIHN1c3BlbnNpb24gcG9pbnQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29udGludWF0aW9uPFQ+IGltcGxlbWVudHMgQmFzZS5Db21wYXJhYmxlIHtcbiAgc2NoZWR1bGVkVGltZTogbnVtYmVyID0gMDtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG4gIHJlc3VsdDogVCA9IG51bGw7XG4gIGNhbmNlbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhc2s6IFRhc2spIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29tcGFyZShvdGhlckNvbXA6IEJhc2UuQ29tcGFyYWJsZSk6IG51bWJlciB7XG4gICAgLy8gZWFybGllciB3aW5zXG4gICAgY29uc3Qgb3RoZXIgPSBvdGhlckNvbXAgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgcmV0dXJuIG90aGVyLnNjaGVkdWxlZFRpbWUgLSB0aGlzLnNjaGVkdWxlZFRpbWUgfHwgb3RoZXIub3JkZXIgLSB0aGlzLm9yZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRpbnVhdGlvbidzIHRhc2tcbiAgICovXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSB0YXNrIGNvbnRpbnVhdGlvbiBhZnRlciB0aGUgZ2l2ZW4gKG9wdGlvbmFsKSBkZWxheS5cbiAgICogQHBhcmFtIG9wdF9kZWxheSBvcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzY2hlZHVsZShyZXN1bHQ6IFQsIG9wdF9kZWxheT86IG51bWJlcikge1xuICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHRoaXMudGFzay5zY2hlZHVsZXIuc2NoZWR1bGUodGhpcywgb3B0X2RlbGF5KTtcbiAgfVxuXG4gIHJlc3VtZUludGVybmFsKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICBpZiAodGFzayAmJiB0YXNrLmNvbnRpbnVhdGlvbiA9PSB0aGlzKSB7XG4gICAgICB0YXNrLmNvbnRpbnVhdGlvbiA9IG51bGw7XG4gICAgICBjb25zdCBzYXZlZFRhc2sgPSBwcml2YXRlQ3VycmVudFRhc2s7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgdGFzay50b3AuZmluaXNoKHRoaXMucmVzdWx0KTtcbiAgICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHNhdmVkVGFzaztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGNvbnRpbnVhdGlvblxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogQW4gYXN5bmNocm9ub3VzLCB0aW1lLXNsaWNlZCB0YXNrLlxuICovXG5leHBvcnQgY2xhc3MgVGFzayB7XG4gIGNhbGxiYWNrczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgZXhjZXB0aW9uOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzdWx0OiBhbnkgPSBudWxsO1xuICB3YWl0VGFyZ2V0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdG9wOiBGcmFtZTxhbnk+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPGFueT4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2NoZWR1bGVyOiBTY2hlZHVsZXIsIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdGFzayBuYW1lLlxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGVyciBleGNlcHRpb24gdG8gdGhyb3cgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgaW50ZXJydXB0KGVycjogRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLnJhaXNlKGVyciB8fCBuZXcgRXJyb3IoXCJFX1RBU0tfSU5URVJSVVBUXCIpKTtcbiAgICBpZiAodGhpcyAhPT0gcHJpdmF0ZUN1cnJlbnRUYXNrICYmIHRoaXMuY29udGludWF0aW9uKSB7XG4gICAgICAvLyBibG9ja2VkIG9uIHNvbWV0aGluZ1xuICAgICAgdGhpcy5jb250aW51YXRpb24uY2FuY2VsKCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgQ29udGludWF0aW9uKHRoaXMpO1xuICAgICAgdGhpcy53YWl0VGFyZ2V0ID0gXCJpbnRlcnJ1cHRcIjtcbiAgICAgIHRoaXMuY29udGludWF0aW9uID0gY29udGludWF0aW9uO1xuICAgICAgdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoY29udGludWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0aGlzIHRhc2sncyBzY2hlZHVsZXIuXG4gICAqL1xuICBnZXRTY2hlZHVsZXIoKTogU2NoZWR1bGVyIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0cnVlIGlmIHRhc2sgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHRhc2sgaXMgZG9uZS4gQ2FsbGJhY2sgaXMgbm90XG4gICAqIGV4ZWN1dGVkIGluIGFueSB0YXNrIGNvbnRleHQuIE11bHRpcGxlIGNhbGxiYWNrcyBjYW4gYmUgcmVnaXN0ZXJlZCBhbmRcbiAgICogdGhleSB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgcmVnaXN0cmF0aW9uIG9yZGVyLlxuICAgKi9cbiAgd2hlbkRvbmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciB0YXNrIHRvIGZpbmlzaCAoZnJvbSBhbm90aGVyIHRhc2spLlxuICAgKi9cbiAgam9pbigpOiBSZXN1bHQ8YW55PiB7XG4gICAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxhbnk+KFwiVGFzay5qb2luXCIpO1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICBmcmFtZS5maW5pc2godGhpcy5yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKHRoaXMpO1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLndoZW5Eb25lKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNlbGYucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW53aW5kIHRoZSBzdGFjay4gV2UgaGF2ZSB0d28gc3RhY2tzOiBhc3luYyAobWFpbnRhaW5lZCBieSBmcmFtZVxuICAgKiBwYXJlbnQgbGluaykgYW5kIHN5bmMgKHJlZ3VsYXIgSmF2YVNjcmlwdCBzdGFjaykuXG4gICAqL1xuICB1bndpbmQoKSB7XG4gICAgLy8gV2UgaGF2ZSBhIHNlcXVlbmNlIG9mIGZyYW1lcyBvbiB0aGUgc3RhY2suXG4gICAgd2hpbGUgKHRoaXMudG9wICYmICF0aGlzLnRvcC5oYW5kbGVyKSB7XG4gICAgICB0aGlzLnRvcCA9IHRoaXMudG9wLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9wICYmIHRoaXMudG9wLmhhbmRsZXIgJiYgdGhpcy5leGNlcHRpb24pIHtcbiAgICAgIC8vIGZvdW5kIGEgaGFuZGxlclxuICAgICAgY29uc3QgZXJyID0gdGhpcy5leGNlcHRpb247XG4gICAgICB0aGlzLmV4Y2VwdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLnRvcC5oYW5kbGVyKHRoaXMudG9wLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5leGNlcHRpb24pIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgdGhpcy5leGNlcHRpb24sXG4gICAgICAgICAgXCJVbmhhbmRsZWQgZXhjZXB0aW9uIGluIHRhc2tcIixcbiAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmFpc2UoZXJyOiBFcnJvciwgb3B0X2ZyYW1lPzogRnJhbWU8YW55Pik6IHZvaWQge1xuICAgIHRoaXMuZmlsbFN0YWNrKGVycik7XG4gICAgaWYgKG9wdF9mcmFtZSkge1xuICAgICAgbGV0IGYgPSB0aGlzLnRvcDtcbiAgICAgIHdoaWxlIChmICYmIGYgIT0gb3B0X2ZyYW1lKSB7XG4gICAgICAgIGYgPSBmLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChmID09IG9wdF9mcmFtZSkge1xuICAgICAgICB0aGlzLnRvcCA9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXhjZXB0aW9uID0gZXJyO1xuICAgIHRoaXMudW53aW5kKCk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbCB0aGUgc3RhY2sgdHJhY2UgaW4gdGhlIGV4Y2VwdGlvblxuICAgKiBAcGFyYW0gZXJyIGV4Y2VwdGlvblxuICAgKi9cbiAgZmlsbFN0YWNrKGVycjogRXJyb3IpIHtcbiAgICBsZXQgb3V0ID0gZXJyW1wiZnJhbWVUcmFjZVwiXTtcbiAgICBpZiAoIW91dCkge1xuICAgICAgb3V0ID0gZXJyW1wic3RhY2tcIl0gPyBgJHtlcnJbXCJzdGFja1wiXX1cXG5cXHQtLS0tIGFzeW5jIC0tLVxcbmAgOiBcIlwiO1xuICAgICAgZm9yIChsZXQgZiA9IHRoaXMudG9wOyBmOyBmID0gZi5wYXJlbnQpIHtcbiAgICAgICAgb3V0ICs9IFwiXFx0XCI7XG4gICAgICAgIG91dCArPSBmLmdldE5hbWUoKTtcbiAgICAgICAgb3V0ICs9IFwiXFxuXCI7XG4gICAgICB9XG4gICAgICBlcnJbXCJmcmFtZVRyYWNlXCJdID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVzdWx0SW1wbDxUPiBpbXBsZW1lbnRzIFJlc3VsdDxUPiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVCkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAoVDogYW55KSA9PiB2b2lkKSB7XG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuUmV0dXJuPFQxPihyZXN1bHQ6IFQxKSB7XG4gICAgcmV0dXJuIG5ldyBTeW5jUmVzdWx0SW1wbChyZXN1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBmcmFtZS5maW5pc2godGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN1bHRJbXBsPFQ+IGltcGxlbWVudHMgUmVzdWx0PFQ+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZyYW1lOiBGcmFtZTxUPikge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAocDE6IFQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmZyYW1lLnRoZW4oY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkFzeW5jPFQxPihjYWxsYmFjazogKHAxOiBUKSA9PiBSZXN1bHQ8VDE+KTogUmVzdWx0PFQxPiB7XG4gICAgaWYgKHRoaXMuaXNQZW5kaW5nKCkpIHtcbiAgICAgIC8vIHRoZW5Bc3luYyBpcyBzcGVjaWFsLCBkbyB0aGUgdHJpY2sgd2l0aCB0aGUgY29udGV4dFxuICAgICAgY29uc3QgZnJhbWUgPSBuZXcgRnJhbWU8VCB8IFQxPihcbiAgICAgICAgdGhpcy5mcmFtZS50YXNrLFxuICAgICAgICB0aGlzLmZyYW1lLnBhcmVudCxcbiAgICAgICAgXCJBc3luY1Jlc3VsdC50aGVuQXN5bmNcIixcbiAgICAgICk7XG4gICAgICBmcmFtZS5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgICAgdGhpcy5mcmFtZS5wYXJlbnQgPSBmcmFtZSBhcyBGcmFtZTxUPjtcbiAgICAgIHRoaXMuZnJhbWUudGhlbigocmVzMSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhyZXMxKS50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHJlczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpIGFzIFJlc3VsdDxUMT47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmZyYW1lLnJlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSkge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuQXN5bmMoKCkgPT4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1BlbmRpbmcoKSkge1xuICAgICAgdGhpcy50aGVuKChyZXMpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuZmluaXNoKHRoaXMuZnJhbWUucmVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUuc3RhdGUgPT0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQoKTogVCB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXN1bHQgaXMgcGVuZGluZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUucmVzO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzIGV4ZWN1dGlvbiBmcmFtZS4gQ29ycmVzcG9uZHMgdG8gYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG4gKiBpbnZvY2F0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lPFQ+IHtcbiAgcmVzOiBUID0gbnVsbDtcbiAgc3RhdGU6IEZyYW1lU3RhdGU7XG4gIGNhbGxiYWNrOiAoKHAxOiBhbnkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGhhbmRsZXI6ICgocDE6IEZyYW1lPGFueT4sIHAyOiBFcnJvcikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFzazogVGFzaywgcHVibGljIHBhcmVudDogRnJhbWU8VD4sIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5JTklUO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0Vudmlyb25tZW50KCk6IHZvaWQge1xuICAgIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX1RBU0tfTk9fQ09OVEVYVFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMgIT09IHByaXZhdGVDdXJyZW50VGFzay50b3ApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfVEFTS19OT1RfVE9QX0ZSQU1FXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHRvIGJlIHJldHVybmVkIGFzIHRoaXMgYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHJldHVybiB2YWx1ZS5cbiAgICovXG4gIHJlc3VsdCgpOiBSZXN1bHQ8VD4ge1xuICAgIHJldHVybiBuZXcgUmVzdWx0SW1wbDxUPih0aGlzKTtcbiAgfVxuXG4gIGZpbmlzaChyZXM6IFQpIHtcbiAgICB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrICYmICFwcml2YXRlQ3VycmVudFRhc2suZXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IEZyYW1lU3RhdGUuRklOSVNIRUQ7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudDtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sudG9wID0gZnJhbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZyYW1lIG5hbWUuXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIGdldFNjaGVkdWxlcigpOiBTY2hlZHVsZXIge1xuICAgIHJldHVybiB0aGlzLnRhc2suc2NoZWR1bGVyO1xuICB9XG5cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gbGVnYWwgdG8gY2FsbCB3aGVuIGN1cnJlbnRUYXNrIGlzIG51bGxcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5BQ1RJVkU6XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0ZSQU1FX0FMUkVBRFlfSEFTX0NBTExCQUNLXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5GSU5JU0hFRDoge1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICAgIHRhc2sucmFpc2UoZXJyLCBmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEZyYW1lU3RhdGUuREVBRDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0RFQURfRlJBTUVcIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZfVEFTS19VTkVYUEVDVEVEX0ZSQU1FX1NUQVRFICR7dGhpcy5zdGF0ZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyB0YXNrIHdhcyBleGVjdXRlZCBsb25nZXIgdGhhbiB0YXNrJ3Mgc2xpY2UgcGFyYW1ldGVyLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHRpbWVTbGljZSgpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS50aW1lU2xpY2VcIik7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gZnJhbWUuZ2V0U2NoZWR1bGVyKCk7XG4gICAgaWYgKHNjaGVkdWxlci5pc1RpbWVTbGljZU92ZXIoKSkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCItLSB0aW1lIHNsaWNlIC0tXCIpO1xuICAgICAgZnJhbWUuc3VzcGVuZCgpLnNjaGVkdWxlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZCB0byBvdGhlciB0YXNrcyBmb3IgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgKiBAcGFyYW0gZGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHNsZWVwKGRlbGF5OiBudW1iZXIpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS5zbGVlcFwiKTtcbiAgICBmcmFtZS5zdXNwZW5kKCkuc2NoZWR1bGUodHJ1ZSwgZGVsYXkpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBlYXRlZGx5IGV4ZWN1dGUgdGhlIGdpdmVuIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5IHVudGlsIGl0IHJldHVybnNcbiAgICogZmFsc2UuXG4gICAqIEByZXR1cm4gaG9sZHMgdHJ1ZS5cbiAgICovXG4gIGxvb3AoZnVuYzogKCkgPT4gUmVzdWx0PGJvb2xlYW4+KTogUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZSA9IG5ld0ZyYW1lPGJvb2xlYW4+KFwiRnJhbWUubG9vcFwiKTtcbiAgICBjb25zdCBzdGVwID0gKG1vcmUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZnVuYygpO1xuICAgICAgICAgIGlmIChyZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50aGVuKHN0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQudGhlbigobSkgPT4ge1xuICAgICAgICAgICAgICBtb3JlID0gbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZnJhbWUudGFzay5yYWlzZShlcnIsIGZyYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN0ZXAodHJ1ZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gbG9vcCgpLCBidXQgcHJvdmlkZXMgYSBGcmFtZSBmb3IgbG9vcCBib2R5IGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWUuXG4gICAqL1xuICBsb29wV2l0aEZyYW1lKGZ1bmM6IChwMTogTG9vcEJvZHlGcmFtZSkgPT4gdm9pZCk6IFJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgdGFzayA9IHByaXZhdGVDdXJyZW50VGFzaztcbiAgICBpZiAoIXRhc2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19OT19DT05URVhUXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb29wKCgpID0+IHtcbiAgICAgIGxldCByZXN1bHQ6IFJlc3VsdDxib29sZWFuPjtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBuZXcgTG9vcEJvZHlGcmFtZSh0YXNrIGFzIFRhc2ssIHRhc2sudG9wKTtcbiAgICAgICAgdGFzay50b3AgPSBmcmFtZTtcbiAgICAgICAgZnJhbWUuc3RhdGUgPSBGcmFtZVN0YXRlLkFDVElWRTtcbiAgICAgICAgZnVuYyhmcmFtZSk7XG4gICAgICAgIHJlc3VsdCA9IGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSB3aGlsZSAoIXJlc3VsdC5pc1BlbmRpbmcoKSAmJiByZXN1bHQuZ2V0KCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIHN1c3BlbmQob3B0X3dhaXRUYXJnZXQ/OiBhbnkpOiBDb250aW51YXRpb248VD4ge1xuICAgIHRoaXMuY2hlY2tFbnZpcm9ubWVudCgpO1xuICAgIGlmICh0aGlzLnRhc2suY29udGludWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1RBU0tfQUxSRUFEWV9TVVNQRU5ERURcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPFQ+ID0gbmV3IENvbnRpbnVhdGlvbih0aGlzLnRhc2spO1xuICAgIHRoaXMudGFzay5jb250aW51YXRpb24gPSBjb250aW51YXRpb247XG4gICAgcHJpdmF0ZUN1cnJlbnRUYXNrID0gbnVsbDtcbiAgICB0aGlzLnRhc2sud2FpdFRhcmdldCA9IG9wdF93YWl0VGFyZ2V0IHx8IG51bGw7XG4gICAgcmV0dXJuIGNvbnRpbnVhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9vcEJvZHlGcmFtZSBleHRlbmRzIEZyYW1lPGJvb2xlYW4+IHtcbiAgY29uc3RydWN0b3IodGFzazogVGFzaywgcGFyZW50OiBGcmFtZTxib29sZWFuPikge1xuICAgIHN1cGVyKHRhc2ssIHBhcmVudCwgXCJsb29wXCIpO1xuICB9XG5cbiAgY29udGludWVMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgYnJlYWtMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRJdGVtIHtcbiAgbmV4dDogRXZlbnRJdGVtID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZXZlbnQ6IEJhc2UuRXZlbnQpIHt9XG59XG5cbi8qKlxuICogQW4gY2xhc3MgdG8gbGlzdGVuIHRvIGV2ZW5zIGFuZCBwcmVzZW50IHRoZW0gYXMgYSByZWFkYWJsZSBhc3luY2hyb25vdXNcbiAqIHN0cmVhbSB0byB0YXNrcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U291cmNlIHtcbiAgY29udGludWF0aW9uOiBDb250aW51YXRpb248Ym9vbGVhbj4gPSBudWxsO1xuICBsaXN0ZW5lcnM6IHtcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQ7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGxpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIH1bXSA9IFtdO1xuICBoZWFkOiBFdmVudEl0ZW07XG4gIHRhaWw6IEV2ZW50SXRlbTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXcgRXZlbnRJdGVtKG51bGwpO1xuICAgIHRoaXMudGFpbCA9IHRoaXMuaGVhZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBFdmVudFRhcmdldC5cbiAgICovXG4gIGF0dGFjaChcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wdF9wcmV2ZW50RGVmYXVsdD86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAob3B0X3ByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi50YWlsLmV2ZW50KSB7XG4gICAgICAgIHNlbGYudGFpbC5uZXh0ID0gbmV3IEV2ZW50SXRlbShldmVudCk7XG4gICAgICAgIHNlbGYudGFpbCA9IHNlbGYudGFpbC5uZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi50YWlsLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IHNlbGYuY29udGludWF0aW9uO1xuICAgICAgICBpZiAoY29udGludWF0aW9uKSB7XG4gICAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBudWxsO1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5zY2hlZHVsZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHsgdGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciB9KTtcbiAgfVxuXG4gIGRldGFjaCh0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsIHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgaXRlbToge1xuICAgICAgdGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgICB9ID0gbnVsbDtcbiAgICB3aGlsZSAoaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgaXRlbSA9IHRoaXMubGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PSB0eXBlICYmIGl0ZW0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpdGVtLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGl0ZW0udHlwZSwgaXRlbS5saXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19FVkVOVF9TT1VSQ0VfTk9UX0FUVEFDSEVEXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgbmV4dCBkaXNwYXRjaGVkIGV2ZW50LCBibG9ja2luZyB0aGUgY3VycmVudCB0YXNrIGlmIG5lZWRlZC5cbiAgICovXG4gIG5leHRFdmVudCgpOiBSZXN1bHQ8QmFzZS5FdmVudD4ge1xuICAgIGNvbnN0IGZyYW1lOiBGcmFtZTxCYXNlLkV2ZW50PiA9IG5ld0ZyYW1lKFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50XCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHJlYWRFdmVudCA9ICgpID0+IHtcbiAgICAgIGlmIChzZWxmLmhlYWQuZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBzZWxmLmhlYWQuZXZlbnQ7XG4gICAgICAgIGlmIChzZWxmLmhlYWQubmV4dCkge1xuICAgICAgICAgIHNlbGYuaGVhZCA9IHNlbGYuaGVhZC5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZC5ldmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250aW51YXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX0VWRU5UX1NPVVJDRV9PVEhFUl9UQVNLX1dBSVRJTkdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmcmFtZUludGVybmFsOiBGcmFtZTxib29sZWFuPiA9IG5ld0ZyYW1lKFxuICAgICAgICAgIFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50SW50ZXJuYWxcIixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBmcmFtZUludGVybmFsLnN1c3BlbmQoc2VsZik7XG4gICAgICAgIGZyYW1lSW50ZXJuYWwucmVzdWx0KCkudGhlbihyZWFkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZEV2ZW50KCk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2tVdGlsIC0gVXRpbGl0aWVzIGFzeW5jaHJvbm91cyBleGVjdXRpb24gYW5kIGNvb3BlcmF0aXZlXG4gKiBtdWx0aXRhc2tpbmcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgY2FuIGZldGNoIG9yIGNvbXB1dGUgYSByZXNvdXJjZSB0aGF0IG1heSBiZSBuZWVkZWQgYnkgbXVsdGlwbGVcbiAqIHRhc2tzLiBUaGUgZmlyc3QgdGltZSBhIHJlc291cmNlIGlzIHJlcXVlc3RlZCwgaXQgaXMgZmV0Y2hlZCBhbmQgdGhlbiBnaXZlblxuICogdG8gZXZlcnlvbmUgcmVxdWVzdGluZyBpdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0gZmV0Y2ggZnVuY3Rpb24gdGhhdCBmZXRjaGVzL2NvbXB1dGVzXG4gKiAgICBhIHJlc291cmNlOyBpdCB3aWxsIGJlIHJ1biBpbiBhIHNlcGFyYXRlIHRhc2suXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaGVyPFQ+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcnJpdmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJlc291cmNlOiBUID0gbnVsbDtcbiAgdGFzazogVGFzay5UYXNrID0gbnVsbDtcbiAgcGlnZ3liYWNrczogKChwMTogYW55KSA9PiB2b2lkKVtdIHwgbnVsbCA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmZXRjaDogKCkgPT4gVGFzay5SZXN1bHQ8VD4sIG9wdF9uYW1lPzogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0X25hbWU7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgZmV0Y2hpbmcvY29tcHV0aW5nIGEgcmVzb3VyY2UsIGRvbid0IGJsb2NrIGN1cnJlbnQgdGFzay5cbiAgICovXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YXNrKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMudGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgICAuZ2V0U2NoZWR1bGVyKClcbiAgICAgICAgLnJ1bigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiRmV0Y2hlci5ydW5cIik7XG4gICAgICAgICAgc2VsZi5mZXRjaCgpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaWdnaWJhY2tzID0gc2VsZi5waWdneWJhY2tzO1xuICAgICAgICAgICAgc2VsZi5hcnJpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgICAgIHNlbGYudGFzayA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLnBpZ2d5YmFja3MgPSBbXTtcbiAgICAgICAgICAgIGlmIChwaWdnaWJhY2tzKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlnZ2liYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBwaWdnaWJhY2tzW2ldKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVyciwgXCJFcnJvcjpcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzb3VyY2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgICAgfSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBwaWdneWJhY2soZm46IChwMTogVCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFycml2ZWQpIHtcbiAgICAgIGZuKHRoaXMucmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBpZ2d5YmFja3MucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJlc291cmNlLCB3YWl0cyBmb3IgaXQgdG8gYXJyaXZlIGlmIGl0IGlzIGFscmVhZHkgYmVpbmdcbiAgICogZmV0Y2hlZC5cbiAgICovXG4gIGdldCgpOiBUYXNrLlJlc3VsdDxUPiB7XG4gICAgaWYgKHRoaXMuYXJyaXZlZCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucmVzb3VyY2UpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMudGFzay5qb2luKCkgYXMgVGFzay5SZXN1bHQ8VD47XG4gIH1cblxuICBoYXNBcnJpdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFycml2ZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgRmV0Y2hlciBvYmplY3RzIGluIHRoZSBhcnJheSB0byBhcnJpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXRGb3JGZXRjaGVycyA9IDxUPihcbiAgZmV0Y2hlcnM6IEZldGNoZXI8VD5bXSxcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+ID0+IHtcbiAgaWYgKGZldGNoZXJzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG4gIGlmIChmZXRjaGVycy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBmZXRjaGVyc1swXS5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICB9XG4gIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcIndhaXRGb3JGZXRjaGVzXCIpO1xuICBsZXQgaSA9IDA7XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgd2hpbGUgKGkgPCBmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGZldGNoZXJzW2krK107XG4gICAgICAgIGlmICghZmV0Y2hlci5oYXNBcnJpdmVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hlci5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4gaG9sZGluZyBldmVudCB0eXBlIChsb2FkL2Vycm9yL2Fib3J0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVsZW1lbnQoZWxlbTogRWxlbWVudCwgc3JjOiBzdHJpbmcpOiBGZXRjaGVyPHN0cmluZz4ge1xuICBsZXQgd2lkdGg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVpZ2h0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKGVsZW0ubG9jYWxOYW1lID09IFwiaW1nXCIpIHtcbiAgICB3aWR0aCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaGVpZ2h0ID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbiAgY29uc3QgZmV0Y2hlciA9IG5ldyBGZXRjaGVyKCgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxzdHJpbmc+ID0gVGFzay5uZXdGcmFtZShcImxvYWRJbWFnZVwiKTtcbiAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKGVsZW0pO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgY29uc3QgaGFuZGxlciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSA9PSBcImltZ1wiKSB7XG4gICAgICAgIC8vIElFIHB1dHMgdGhlc2UgYm9ndXMgYXR0cmlidXRlcywgZXZlbiBpZiB0aGV5IHdlcmUgbm90IHByZXNlbnRcbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKGV2dCA/IGV2dC50eXBlIDogXCJ0aW1lb3V0XCIpO1xuICAgIH07XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TVkcpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJ4bGluazpocmVmXCIsIHNyYyk7XG5cbiAgICAgIC8vIFNWRyBoYW5kbGVycyBhcmUgbm90IHJlbGlhYmxlXG4gICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChlbGVtIGFzIGFueSkuc3JjID0gc3JjO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH0sIGBsb2FkRWxlbWVudCAke3NyY31gKTtcbiAgZmV0Y2hlci5zdGFydCgpO1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTmV0IC0gRmV0Y2ggcmVzb3VyY2UgZnJvbSBhIFVSTC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBOZXQsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50WG1sIGZyb20gXCIuL2Fzc2V0cy91c2VyLWFnZW50LnhtbFwiO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlIHtcbiAgREVGQVVMVCA9IFwiXCIsXG4gIEFSUkFZQlVGRkVSID0gXCJhcnJheWJ1ZmZlclwiLFxuICBCTE9CID0gXCJibG9iXCIsXG4gIERPQ1VNRU5UID0gXCJkb2N1bWVudFwiLFxuICBKU09OID0gXCJqc29uXCIsXG4gIFRFWFQgPSBcInRleHRcIixcbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2UgPSBOZXQuUmVzcG9uc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBhamF4KFxuICB1cmw6IHN0cmluZyxcbiAgb3B0X3R5cGU/OiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSxcbiAgb3B0X21ldGhvZD86IHN0cmluZyxcbiAgb3B0X2RhdGE/OiBzdHJpbmcsXG4gIG9wdF9jb250ZW50VHlwZT86IHN0cmluZyxcbik6IFRhc2suUmVzdWx0PFJlc3BvbnNlPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFJlc3BvbnNlPiA9IFRhc2submV3RnJhbWUoXCJhamF4XCIpO1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQocmVxdWVzdCk7XG4gIGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IDAsXG4gICAgc3RhdHVzVGV4dDogXCJcIixcbiAgICB1cmwsXG4gICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgIHJlc3BvbnNlWE1MOiBudWxsLFxuICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgfTtcbiAgcmVxdWVzdC5vcGVuKG9wdF9tZXRob2QgfHwgXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgaWYgKG9wdF90eXBlKSB7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBvcHRfdHlwZTtcbiAgfVxuICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICByZXNwb25zZS5zdGF0dXMgPSByZXF1ZXN0LnN0YXR1cztcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPVxuICAgICAgICByZXF1ZXN0LnN0YXR1c1RleHQgfHwgKHJlcXVlc3Quc3RhdHVzID09IDQwNCAmJiBcIk5vdCBGb3VuZFwiKSB8fCBcIlwiO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09IDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5UKSAmJlxuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgIT0gXCJwYXJzZXJlcnJvclwiXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlWE1MID0gcmVxdWVzdC5yZXNwb25zZVhNTDtcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9IChyZXF1ZXN0LnJlc3BvbnNlWE1MIGFzIGFueSkuY29udGVudFR5cGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKCFvcHRfdHlwZSB8fCBvcHRfdHlwZSA9PT0gWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpICYmXG4gICAgICAgICAgcmVxdWVzdC5yZXNwb25zZSBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudFxuICAgICAgICApIHtcbiAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVhNTCA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPSAocmVxdWVzdC5yZXNwb25zZSBhcyBhbnkpLmNvbnRlbnRUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLlRFWFQpICYmXG4gICAgICAgICAgICB0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVRleHQgPSB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGVtcHR5IHN1Y2Nlc3MgcmVzcG9uc2UgZm9yXCIsIHVybCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlQmxvYiA9IG1ha2VCbG9iKFt0ZXh0XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZUJsb2IgPSB0ZXh0IGFzIEJsb2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICBpZiAoY29udGVudFR5cGVIZWFkZXIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGVIZWFkZXIucmVwbGFjZSgvKC4qKTsuKiQvLCBcIiQxXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKG9wdF9kYXRhKSB7XG4gICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCIsXG4gICAgICAgIG9wdF9jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIixcbiAgICAgICk7XG4gICAgICByZXF1ZXN0LnNlbmQob3B0X2RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgIC9eZmlsZTp8Xmh0dHBzPzpcXC9cXC9bXi9dK1xcLmdpdGh1YnVzZXJjb250ZW50XFwuY29tfFxcLih4aHRtbHx4aHR8b3BmKSQvaS50ZXN0KFxuICAgICAgICAgIHVybCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEZpbGUgb3IgR2l0SHViIHJhdyBVUkwgb3IgLnhodChtbCkgb3IgLm9wZlxuICAgICAgICBpZiAoXG4gICAgICAgICAgL1xcL2Fvem9yYWJ1bmtvXFwvW14vXStcXC9jYXJkc1xcL1teL10rXFwvZmlsZXNcXC9bXi8uXStcXC5odG1sJC8udGVzdCh1cmwpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEFvem9yYWJ1bmtvJ3MgKFgpSFRNTCBzdXBwb3J0XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVNoaWZ0X0pJU1wiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKGh0bWx8aHRtKSQvaS50ZXN0KHVybCkpIHtcbiAgICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoL1xcLih4aHRtbHx4aHR8eG1sfG9wZikkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKC9cXC4odHh0fGNzcykkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmYWxsYmFjayB0byBIVE1MXG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosKDx8JTNjKS9pLnRlc3QodXJsKSkge1xuICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosL2kudGVzdCh1cmwpKSB7XG4gICAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9XG4gICAgICByZXF1ZXN0LnNlbmQobnVsbCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlLCBgRXJyb3IgZmV0Y2hpbmcgJHt1cmx9YCk7XG4gICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgfVxuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbi8qKlxuICogQHJldHVybiBCbG9iXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQmxvYihcbiAgcGFydHM6IChzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcpW10sXG4gIG9wdF90eXBlPzogc3RyaW5nLFxuKTogYW55IHtcbiAgY29uc3QgdHlwZSA9IG9wdF90eXBlIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG4gIGNvbnN0IGJ1aWxkZXJDdHIgPSB3aW5kb3dbXCJXZWJLaXRCbG9iQnVpbGRlclwiXSB8fCB3aW5kb3dbXCJNU0Jsb2JCdWlsZGVyXCJdOyAvLyBkZXByZWNhdGVkXG4gIGlmIChidWlsZGVyQ3RyKSB7XG4gICAgY29uc3QgYnVpbGRlciA9IG5ldyBidWlsZGVyQ3RyKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHR5cGUpO1xuICB9XG4gIHJldHVybiBuZXcgQmxvYihwYXJ0cywgeyB0eXBlIH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm4gVGFzay5SZXN1bHQuPEFycmF5QnVmZmVyPlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEJsb2IoYmxvYjogQmxvYik6IGFueSB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEFycmF5QnVmZmVyPiA9IFRhc2submV3RnJhbWUoXCJyZWFkQmxvYlwiKTtcbiAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQoZmlsZVJlYWRlcik7XG4gIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBjb250aW51YXRpb24uc2NoZWR1bGUoZmlsZVJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xuICAgIH0sXG4gICAgZmFsc2UsXG4gICk7XG4gIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldm9rZU9iamVjdFVSTCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAod2luZG93W1wiVVJMXCJdIHx8IHdpbmRvd1tcIndlYmtpdFVSTFwiXSkucmV2b2tlT2JqZWN0VVJMKHVybCk7XG59XG5cbi8qKlxuICogQHJldHVybiB1cmxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFVSTChibG9iOiBCbG9iKTogc3RyaW5nIHtcbiAgcmV0dXJuICh3aW5kb3dbXCJVUkxcIl0gfHwgd2luZG93W1wid2Via2l0VVJMXCJdKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFJlc291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiBpbXBsZW1lbnRzIE5ldC5SZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gIHJlc291cmNlczogeyBba2V5OiBzdHJpbmddOiBSZXNvdXJjZSB9ID0ge307XG4gIGZldGNoZXJzOiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8UmVzb3VyY2U+IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyc2VyOiAoXG4gICAgICBwMTogUmVzcG9uc2UsXG4gICAgICBwMjogUmVzb3VyY2VTdG9yZTxSZXNvdXJjZT4sXG4gICAgKSA9PiBUYXNrLlJlc3VsdDxSZXNvdXJjZT4sXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICovXG4gIGxvYWQoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+IHtcbiAgICB1cmwgPSBCYXNlLnN0cmlwRnJhZ21lbnQodXJsKTtcbiAgICBjb25zdCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW3VybF07XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaCh1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpLmdldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaElubmVyKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PFJlc291cmNlPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UmVzb3VyY2U+ID0gVGFzay5uZXdGcmFtZShcImZldGNoXCIpO1xuXG4gICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICBjb25zdCBpc1RvY0JveCA9IHVybC5lbmRzV2l0aChcIj92aXYtdG9jLWJveFwiKTtcbiAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKFwiP3Zpdi10b2MtYm94XCIsIFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyQWdlbnRYbWxVcmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICBcInVzZXItYWdlbnQueG1sXCIsXG4gICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICApO1xuICAgIGNvbnN0IGlzVXNlckFnZW50WG1sID0gIWlzVG9jQm94ICYmIHVybCA9PT0gdXNlckFnZW50WG1sVXJsO1xuICAgIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgLy8gQ2hhbmdlIFwidXNlci1hZ2VudC54bWxcIiBVUkwgdG8gZGF0YSBVUkxcbiAgICAgIHVybCA9IGBkYXRhOmFwcGxpY2F0aW9uL3htbCwke2VuY29kZVVSSUNvbXBvbmVudChVc2VyQWdlbnRYbWwpfWA7XG4gICAgfVxuXG4gICAgYWpheCh1cmwsIHNlbGYudHlwZSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgIGlmIChvcHRfcmVxdWlyZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAob3B0X21lc3NhZ2UgfHwgYEZhaWxlZCB0byBmZXRjaCByZXF1aXJlZCByZXNvdXJjZTogJHt1cmx9YCkgK1xuICAgICAgICAgICAgICBgICgke3Jlc3BvbnNlLnN0YXR1c30ke1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgOiBcIlwiXG4gICAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICAgICAgdXJsICs9IFwiP3Zpdi10b2MtYm94XCI7XG4gICAgICAgIHJlc3BvbnNlLnVybCArPSBcIj92aXYtdG9jLWJveFwiO1xuICAgICAgfSBlbHNlIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgICAvLyBSZXN0b3JlIFwidXNlci1hZ2VudC54bWxcIiBVUkxcbiAgICAgICAgcmVzcG9uc2UudXJsID0gdXJsID0gdXNlckFnZW50WG1sVXJsO1xuICAgICAgfVxuICAgICAgc2VsZi5wYXJzZXIocmVzcG9uc2UsIHNlbGYpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBzZWxmLmZldGNoZXJzW3VybF07XG4gICAgICAgIHNlbGYucmVzb3VyY2VzW3VybF0gPSByZXNvdXJjZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc291cmNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZldGNoZXIgZm9yIHRoZSByZXNvdXJjZSBmb3IgdGhlIGdpdmVuIFVSTFxuICAgKi9cbiAgZmV0Y2goXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4ge1xuICAgIHVybCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbdXJsXTtcbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHRoaXMuZmV0Y2hlcnNbdXJsXTtcbiAgICBpZiAoIWZldGNoZXIpIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKFxuICAgICAgICAoKSA9PiBzZWxmLmZldGNoSW5uZXIodXJsLCBvcHRfcmVxdWlyZWQsIG9wdF9tZXNzYWdlKSxcbiAgICAgICAgYEZldGNoICR7dXJsfWAsXG4gICAgICApO1xuICAgICAgc2VsZi5mZXRjaGVyc1t1cmxdID0gZmV0Y2hlcjtcbiAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cblxuICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyIHtcbiAgICBjb25zdCByZXNvdXJjZTogdW5rbm93biA9IHRoaXMucmVzb3VyY2VzW0Jhc2Uuc3RyaXBGcmFnbWVudCh1cmwpXTtcbiAgICByZXR1cm4gcmVzb3VyY2UgYXMgWG1sRG9jLlhNTERvY0hvbGRlcjtcbiAgfVxuXG4gIGRlbGV0ZSh1cmw6IHN0cmluZykge1xuICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlc1tCYXNlLnN0cmlwRnJhZ21lbnQodXJsKV07XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgSlNPTlN0b3JlID0gUmVzb3VyY2VTdG9yZTxCYXNlLkpTT04+O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU09OUmVzb3VyY2UoXG4gIHJlc3BvbnNlOiBSZXNwb25zZSxcbiAgc3RvcmU6IEpTT05TdG9yZSxcbik6IFRhc2suUmVzdWx0PEJhc2UuSlNPTj4ge1xuICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuICByZXR1cm4gVGFzay5uZXdSZXN1bHQodGV4dCA/IEJhc2Uuc3RyaW5nVG9KU09OKHRleHQpIDogbnVsbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdKU09OU3RvcmUoKTogSlNPTlN0b3JlIHtcbiAgcmV0dXJuIG5ldyBSZXNvdXJjZVN0b3JlKHBhcnNlSlNPTlJlc291cmNlLCBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5URVhUKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzUGFyc2VyIC0gQ1NTIFBhcnNlci5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UOiBudW1iZXIgPSAwO1xuXG4vKipcbiAqIFVzZXIgc3R5bGVzaGVldCBiYXNlIHNwZWNpZmljaXR5LlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lGSUNJVFlfVVNFUjogbnVtYmVyID0gMTY3NzcyMTY7XG5cbi8qKlxuICogQXV0aG9yIHN0eWxlc2hlZXQgKFwibm9ybWFsXCIgc3R5bGVzaGVldCkgYmFzZSBzcGVjaWZpY2l0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX0FVVEhPUjogbnVtYmVyID0gMzM1NTQ0MzI7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRTogbnVtYmVyID0gNTAzMzE2NDg7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQ6IG51bWJlciA9IDY3MTA4ODY0O1xuXG4vKipcbiAqIEF1dGhvciBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UOiBudW1iZXIgPSA4Mzg4NjA4MDtcblxuLyoqXG4gKiBVc2VyIHN0eWxlc2hlZXQgYmFzZSBzcGVjaWZpY2l0eSB3aGVuICFpbXBvcnRhbnQgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1VTRVJfSU1QT1JUQU5UOiBudW1iZXIgPSAxMDA2NjMyOTY7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU3R5bGVzaGVldEZsYXZvciB7XG4gIFVTRVJfQUdFTlQgPSBcIlVBXCIsXG4gIFVTRVIgPSBcIlVzZXJcIixcbiAgQVVUSE9SID0gXCJBdXRob3JcIixcbn1cblxuLyoqXG4gKiBDU1MgQ29sb3IgdmFsdWUgZnJvbSBoYXNoIHRleHQgKHdpdGhvdXQgJyMnIGNoYXJhY3RlcikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckZyb21IYXNoKHRleHQ6IHN0cmluZyk6IENzcy5Db2xvciB7XG4gIGxldCBudW0gPSBwYXJzZUludCh0ZXh0LCAxNik7XG4gIGlmIChpc05hTihudW0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG4gIH1cbiAgaWYgKHRleHQubGVuZ3RoID09IDYpIHtcbiAgICByZXR1cm4gbmV3IENzcy5Db2xvcihudW0pO1xuICB9XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PSAzKSB7XG4gICAgbnVtID1cbiAgICAgIChudW0gJiAxNSkgfFxuICAgICAgKChudW0gJiAxNSkgPDwgNCkgfFxuICAgICAgKChudW0gJiAyNDApIDw8IDQpIHxcbiAgICAgICgobnVtICYgMjQwKSA8PCA4KSB8XG4gICAgICAoKG51bSAmIDM4NDApIDw8IDgpIHxcbiAgICAgICgobnVtICYgMzg0MCkgPDwgMTIpO1xuICAgIHJldHVybiBuZXcgQ3NzLkNvbG9yKG51bSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXJIYW5kbGVyIGltcGxlbWVudHMgQ3NzVG9rZW5pemVyLlRva2VuaXplckhhbmRsZXIge1xuICBmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3I7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICB0aGlzLmZsYXZvciA9IFN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SO1xuICB9XG5cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNjb3BlO1xuICB9XG5cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHt9XG5cbiAgc3RhcnRTdHlsZXNoZWV0KGZsYXZvcjogU3R5bGVzaGVldEZsYXZvcik6IHZvaWQge1xuICAgIHRoaXMuZmxhdm9yID0gZmxhdm9yO1xuICB9XG5cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHt9XG5cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge31cblxuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHt9XG5cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHt9XG5cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHt9XG5cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge31cblxuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge31cblxuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge31cblxuICBzdGFydFZpZXdwb3J0UnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUobmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHt9XG5cbiAgc3RhcnRNZWRpYVJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge31cblxuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgZW5kUnVsZSgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBmdW5jTmFtZSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdGFraW5nIGEgc2VsZWN0b3IgbGlzdCBhcyBhblxuICAgKiAgICAgYXJndW1lbnRcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIGdldEltcG9ydGFudFNwZWNpZmljaXR5KCk6IG51bWJlciB7XG4gICAgc3dpdGNoICh0aGlzLmZsYXZvcikge1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UO1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVI6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0lNUE9SVEFOVDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UO1xuICAgIH1cbiAgfVxuXG4gIGdldEJhc2VTcGVjaWZpY2l0eSgpOiBudW1iZXIge1xuICAgIHN3aXRjaCAodGhpcy5mbGF2b3IpIHtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSX0FHRU5UOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUl9BR0VOVDtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1I7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNwYXRjaFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYXJzZXJIYW5kbGVyIHtcbiAgc3RhY2s6IFBhcnNlckhhbmRsZXJbXSA9IFtdO1xuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIgPSBudWxsO1xuICBzbGF2ZTogUGFyc2VySGFuZGxlciA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gIH1cblxuICBwdXNoSGFuZGxlcihzbGF2ZTogUGFyc2VySGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnNsYXZlKTtcbiAgICB0aGlzLnNsYXZlID0gc2xhdmU7XG4gIH1cblxuICBwb3BIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgaWYgKHRoaXMudG9rZW5pemVyKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNsYXZlLmdldFNjb3BlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yd2FyZHMgY2FsbCB0byBzbGF2ZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IGEgc2xhdmUuXG4gICAqL1xuICBlcnJvck1zZyhtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3IpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydFN0eWxlc2hlZXQoZmxhdm9yKTtcbiAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBUaGlzIGNhbiBvY2N1ciBhcyBhIHJlc3VsdCBvZiBhbiBlcnJvclxuICAgICAgdGhpcy5zbGF2ZSA9IHRoaXMuc3RhY2tbMF07XG4gICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIHRoaXMuc2xhdmUuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUudGFnU2VsZWN0b3IobnMsIG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmNsYXNzU2VsZWN0b3IobmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnBzZXVkb2VsZW1lbnRTZWxlY3RvcihuYW1lLCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5pZFNlbGVjdG9yKGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmF0dHJpYnV0ZVNlbGVjdG9yKG5zLCBuYW1lLCBvcCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuY2hpbGRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5hZGphY2VudFNpYmxpbmdTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5uZXh0U2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGb250RmFjZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFZpZXdwb3J0UnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnREZWZpbmVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFJlZ2lvblJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rmxvd1J1bGUoZmxvd05hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VNYXN0ZXJSdWxlKG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhcnRpdGlvblJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRSdWxlQm9keSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wcm9wZXJ0eShuYW1lLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNraXBwaW5nUGFyc2VySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBkZXB0aDogbnVtYmVyID0gMDtcbiAgZmxhdm9yOiBTdHlsZXNoZWV0Rmxhdm9yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIG93bmVyOiBEaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRvcExldmVsLFxuICApIHtcbiAgICBzdXBlcihzY29wZSk7XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICB0aGlzLmZsYXZvciA9IG93bmVyLmZsYXZvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRDdXJyZW50VG9rZW4oKTogQ3NzVG9rZW5pemVyLlRva2VuIHtcbiAgICByZXR1cm4gdGhpcy5vd25lci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgdGhpcy5vd25lci5lcnJvck1zZyhtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgdGhpcy5kZXB0aCsrO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAoLS10aGlzLmRlcHRoID09IDAgJiYgIXRoaXMudG9wTGV2ZWwpIHtcbiAgICAgIHRoaXMub3duZXIucG9wSGFuZGxlcigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2xhdmVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgU2tpcHBpbmdQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRvcExldmVsOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRvcExldmVsKTtcbiAgfVxuXG4gIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yKG1lc3NhZ2UsIHRoaXMuZ2V0Q3VycmVudFRva2VuKCkpO1xuICB9XG5cbiAgcmVwb3J0QW5kU2tpcChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChtZXNzYWdlKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IFNraXBwaW5nUGFyc2VySGFuZGxlcih0aGlzLnNjb3BlLCB0aGlzLm93bmVyLCBmYWxzZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPTlRfRkFDRVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPT1ROT1RFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9WSUVXUE9SVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RGVmaW5lUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0RFRklORVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JFR0lPTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfV0hFTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rmxvd1J1bGUoZmxvd05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRkxPV1wiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBR0VfVEVNUExBVEVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFX01BU1RFUlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUEFSVElUSU9OXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBUlRJVElPTl9HUk9VUFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kRnVuY1dpdGhTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0VORF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5lcnJvcihcIkVfQ1NTX1VORVhQRUNURURfUFJPUEVSVFlcIiwgdGhpcy5nZXRDdXJyZW50VG9rZW4oKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNCYXNlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0eWxlQXR0cmlidXRlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9ySW5GdW5jOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yQ29udDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTZWxlY3RvclN0YXJ0OiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1Byb3BWYWw6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXhwclZhbDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFeHByT3A6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3JEZWNsOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0Vycm9yU2VsZWN0b3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBwcmlvcml0eTogbnVtYmVyW10gPSBbXTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBBY3Rpb24ge1xuICBTRUxFQ1RPUl9OQU1FXzEgPSAxLFxuICBTRUxFQ1RPUl9OQU1FLFxuICBTRUxFQ1RPUl9BTllfMSxcbiAgU0VMRUNUT1JfQU5ZLFxuICBTRUxFQ1RPUl9JRF8xLFxuICBTRUxFQ1RPUl9JRCxcbiAgU0VMRUNUT1JfQ0xBU1NfMSxcbiAgU0VMRUNUT1JfQ0xBU1MsXG4gIFNFTEVDVE9SX0FUVFJfMSxcbiAgU0VMRUNUT1JfQVRUUixcbiAgU0VMRUNUT1JfQ0hJTEQsXG4gIFNFTEVDVE9SX1NJQkxJTkcsXG4gIFNFTEVDVE9SX0JPRFksXG4gIFNFTEVDVE9SX1BTRVVET0NMQVNTLFxuICBWQUxfSURFTlQsXG4gIFZBTF9IQVNILFxuICBWQUxfTlVNLFxuICBWQUxfSU5ULFxuICBWQUxfTlVNRVJJQyxcbiAgVkFMX1NUUixcbiAgVkFMX1VSTCxcbiAgVkFMX0NPTU1BLFxuICBWQUxfU0xBU0gsXG4gIFZBTF9GVU5DLFxuICBWQUxfQ19QQVIsXG4gIFZBTF9FTkQsXG4gIFJVTEVfRU5ELFxuICBJREVOVCxcbiAgU0VMRUNUT1JfU1RBUlQsXG4gIEFULFxuICBFWFBSX0lERU5ULFxuICBFWFBSX05VTSxcbiAgRVhQUl9OVU1FUklDLFxuICBFWFBSX1NUUixcbiAgRVhQUl9QQVJBTSxcbiAgRVhQUl9QUkVGSVgsXG4gIEVYUFJfSU5GSVgsXG4gIEVYUFJfRlVOQyxcbiAgRVhQUl9DX1BBUixcbiAgRVhQUl9PX1BBUixcbiAgU0VMRUNUT1JfTkVYVCxcbiAgU0VMRUNUT1JfUFNFVURPRUxFTSxcbiAgRVhQUl9PX0JSQyxcbiAgVkFMX0ZJTklTSCxcbiAgRVhQUl9JTkZJWF9OQU1FLFxuICBQUk9QLFxuICBWQUxfQkFORyxcbiAgVkFMX0JSQyxcbiAgRVhQUl9TRU1JQ09MLFxuICBFUlJPUl9QVVNILFxuICBFUlJPUl9QT1AsXG4gIEVSUk9SX1BPUF9ERUNMLFxuICBFUlJPUl9TRU1JQ09MLFxuICBWQUxfUExVUyxcbiAgU0VMRUNUT1JfUFNFVURPQ0xBU1NfMSxcbiAgU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkcsXG4gIERPTkUgPSAyMDAsXG59XG5cbmV4cG9ydCBjb25zdCBPUF9NRURJQV9BTkQ6IG51bWJlciA9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTEFTVCArIDE7XG5cbigoKSA9PiB7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLklERU5UO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TVEFSVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkFUXSA9IEFjdGlvbi5BVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ10gPSBBY3Rpb24uUlVMRV9FTkQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU3R5bGVBdHRyaWJ1dGVbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uUFJPUDtcbiAgYWN0aW9uc1N0eWxlQXR0cmlidXRlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5TRUxFQ1RPUl9OQU1FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX0FOWTtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTU10gPSBBY3Rpb24uU0VMRUNUT1JfQ0xBU1M7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID1cbiAgICBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M7XG5cbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gQWN0aW9uLlNFTEVDVE9SX0NISUxEO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9GT0xMT1dJTkdfU0lCTElORztcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUVfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl0gPSBBY3Rpb24uU0VMRUNUT1JfQU5ZXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX0lEXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfQVRUUl8xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0xdID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU07XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BXSA9IEFjdGlvbi5TRUxFQ1RPUl9ORVhUO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uU0VMRUNUT1JfTkFNRV8xO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTllfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uU0VMRUNUT1JfSURfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5TRUxFQ1RPUl9BVFRSXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUU7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTlk7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTUztcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTF0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9FTEVNO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uVkFMX0lERU5UO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlZBTF9IQVNIO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTV0gPSBBY3Rpb24uVkFMX05VTTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlRdID0gQWN0aW9uLlZBTF9JTlQ7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uVkFMX05VTUVSSUM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSXSA9IEFjdGlvbi5WQUxfU1RSO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTF0gPSBBY3Rpb24uVkFMX1VSTDtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSBBY3Rpb24uVkFMX0NPTU1BO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNMQVNIXSA9IEFjdGlvbi5WQUxfU0xBU0g7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uVkFMX0ZVTkM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLlZBTF9DX1BBUjtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5WQUxfRU5EO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5WQUxfQlJDO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLlZBTF9CQU5HO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gQWN0aW9uLlZBTF9QTFVTO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uVkFMX0ZJTklTSDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JREVOVDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1dID0gQWN0aW9uLkVYUFJfTlVNO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVF0gPSBBY3Rpb24uRVhQUl9OVU07XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uRVhQUl9OVU1FUklDO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUUl0gPSBBY3Rpb24uRVhQUl9TVFI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVYUFJfT19QQVI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uRVhQUl9GVU5DO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLkVYUFJfUFJFRklYO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTXSA9IEFjdGlvbi5FWFBSX1BSRUZJWDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJdID0gQWN0aW9uLkVYUFJfUEFSQU07XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JTkZJWF9OQU1FO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQU5HX0VRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVJdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBFUkNFTlRdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSS10gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FWFBSX0NfUEFSO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVYUFJfT19CUkM7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5FWFBSX1NFTUlDT0w7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUl0gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUF9ERUNMO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gMDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSAwO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLXSA9IDE7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gMTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5BTVBfQU1QXSA9IDI7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUl0gPSAyO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VRXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IDQ7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gNDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0hdID0gNTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IDY7XG4gIHByaW9yaXR5W09QX01FRElBX0FORF0gPSAyO1xufSkoKTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBFeHByQ29udGV4dCB7XG4gIFBST1AsXG4gIFdIRU4sXG4gIE1FRElBLFxuICBJTVBPUlQsXG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXIge1xuICB2YWxTdGFjazogYW55W10gPSBbXTtcbiAgbmFtZXNwYWNlUHJlZml4VG9VUkk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgZGVmYXVsdE5hbWVzcGFjZVVSSTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByb3BOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJvcEltcG9ydGFudDogYm9vbGVhbiA9IGZhbHNlO1xuICBleHByQ29udGV4dDogRXhwckNvbnRleHQ7XG4gIHJlc3VsdDogQ3NzLlZhbCA9IG51bGw7XG4gIGltcG9ydFJlYWR5OiBib29sZWFuID0gZmFsc2U7XG4gIGltcG9ydFVSTDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGltcG9ydENvbmRpdGlvbjogQ3NzLkV4cHIgPSBudWxsO1xuICBlcnJvckJyYWNrZXRzOiBudW1iZXJbXSA9IFtdO1xuICBydWxlU3RhY2s6IHN0cmluZ1tdID0gW107XG4gIHJlZ2lvblJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcGFnZVJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYWN0aW9uczogQWN0aW9uW10sXG4gICAgcHVibGljIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgYmFzZVVSTDogc3RyaW5nLFxuICApIHtcbiAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gIH1cblxuICBleHRyYWN0VmFscyhzZXA6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgY29uc3QgYXJyOiBDc3MuVmFsW10gPSBbXTtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGFyci5wdXNoKHZhbFN0YWNrW2luZGV4KytdIGFzIENzcy5WYWwpO1xuICAgICAgaWYgKGluZGV4ID09IHZhbFN0YWNrLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICh2YWxTdGFja1tpbmRleCsrXSAhPSBzZXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIHZhbFN0YWNrUmVkdWNlKHNlcDogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGxldCBpbmRleCA9IHZhbFN0YWNrLmxlbmd0aDtcbiAgICBsZXQgdjtcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgdiAhPSBcInN0cmluZ1wiKTtcbiAgICBsZXQgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoXG4gICAgICAgIGluZGV4ICsgMSxcbiAgICAgICAgY291bnQsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KHZhbFN0YWNrLnNsaWNlKGluZGV4ICsgMSwgdmFsU3RhY2subGVuZ3RoKSksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2VwID09IFwiLFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5kZXgrKztcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIHYgIT0gXCJzdHJpbmdcIiB8fCB2ID09IFwiLFwiKSk7XG4gICAgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAodiA9PSBcIihcIikge1xuICAgICAgaWYgKHNlcCAhPSBcIilcIikge1xuICAgICAgICB0aGlzLmhhbmRsZXIuZXJyb3IoXCJFX0NTU19NSVNNQVRDSEVEX0NfUEFSXCIsIHRva2VuKTtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBmdW5jID0gbmV3IENzcy5GdW5jKFxuICAgICAgICB2YWxTdGFja1tpbmRleCAtIDFdIGFzIHN0cmluZyxcbiAgICAgICAgdGhpcy5leHRyYWN0VmFscyhcIixcIiwgaW5kZXggKyAxKSxcbiAgICAgICk7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoaW5kZXggLSAxLCBjb3VudCArIDIsIGZ1bmMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChzZXAgIT0gXCI7XCIgfHwgaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5oYW5kbGVyLmVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9WQUxfRU5EXCIsIHRva2VuKTtcbiAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KHRoaXMuZXh0cmFjdFZhbHMoXCIsXCIsIGluZGV4ICsgMSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsU3RhY2tbMF0gYXMgQ3NzLlZhbDtcbiAgfVxuXG4gIGV4cHJFcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbikge1xuICAgIHRoaXMuYWN0aW9ucyA9IHRoaXMucHJvcE5hbWUgPyBhY3Rpb25zRXJyb3JEZWNsIDogYWN0aW9uc0Vycm9yO1xuICAgIHRoaXMuaGFuZGxlci5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIGV4cHJTdGFja1JlZHVjZShvcDogbnVtYmVyLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXI7XG4gICAgbGV0IHZhbCA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICBsZXQgdmFsMjogRXhwcnMuVmFsO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgdG9rID0gdmFsU3RhY2sucG9wKCk7XG4gICAgICBpZiAob3AgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICBjb25zdCBhcmdzOiBFeHBycy5WYWxbXSA9IFt2YWxdO1xuICAgICAgICB3aGlsZSAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUEpIHtcbiAgICAgICAgICBhcmdzLnVuc2hpZnQodmFsU3RhY2sucG9wKCkpO1xuICAgICAgICAgIHRvayA9IHZhbFN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBpZiAodG9rID09IFwie1wiKSB7XG4gICAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFja1xuICAgICAgICAgICAgd2hpbGUgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTEgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGUyID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICBjb25zdCBlciA9IG5ldyBFeHBycy5Pck1lZGlhKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZTEsIGUyKTtcbiAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5FeHByKGFyZ3NbMF0pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rID09IFwiKFwiKSB7XG4gICAgICAgICAgICAvLyBjYWxsXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHZhbFN0YWNrLnBvcCgpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdmFsU3RhY2sucG9wKCkgYXMgc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5DYWxsKFxuICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgIEV4cHJzLm1ha2VRdWFsaWZpZWROYW1lKG5hbWUxLCBuYW1lMiksXG4gICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3AgPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVIpIHtcbiAgICAgICAgICBpZiAodmFsLmlzTWVkaWFOYW1lKCkpIHtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgIGhhbmRsZXIuZ2V0U2NvcGUoKSxcbiAgICAgICAgICAgICAgdmFsIGFzIEV4cHJzLk1lZGlhTmFtZSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0Y7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFjayBvciBhIGNhbGxcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodG9rIGFzIG51bWJlcikgPCAwKSB7XG4gICAgICAgIC8vIHByZWZpeFxuICAgICAgICBpZiAodG9rID09IC1Dc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkcpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTm90KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b2sgPT0gLUNzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVMpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmVnYXRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbmZpeFxuICAgICAgICBpZiAocHJpb3JpdHlbb3BdID4gcHJpb3JpdHlbdG9rIGFzIG51bWJlcl0pIHtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFsMiA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICAgICAgc3dpdGNoICh0b2spIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5BbmQoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBPUF9NRURJQV9BTkQ6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQW5kTWVkaWEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVI6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuT3IoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkx0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5HdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTFRfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTGUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VROlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkdlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUTpcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRXEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQWRkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VUzpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5TdWJ0cmFjdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NdWx0aXBseShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0g6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRGl2aWRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk1vZHVsbyhoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT046XG4gICAgICAgICAgICBpZiAodmFsU3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbFN0YWNrW3ZhbFN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLOlxuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQ29uZChcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWxTdGFjay5wb3AoKSBhcyBFeHBycy5WYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbDIsXG4gICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVI6XG4gICAgICAgICAgICAgICAgICBpZiAodmFsMi5pc01lZGlhTmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbDIgYXMgRXhwcnMuTWVkaWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfTUVESUFfVEVTVFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX0VYUFJfQ09ORFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSSzpcbiAgICAgICAgICAgIGlmIChvcCAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfRVhQUl9DT05EXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSOlxuICAgICAgICAgICAgLy8gZG9uJ3QgcmVkdWNlXG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKHZhbDIpO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2spO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlYWRQc2V1ZG9QYXJhbXMoKTogKG51bWJlciB8IHN0cmluZylbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgYXJyLnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTOlxuICAgICAgICAgIGFyci5wdXNoKFwiK1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTTpcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICBhcnIucHVzaCh0b2tlbi5udW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9XG4gICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYGFuK2JgIGFyZ3VtZW50IG9mIHBzZXVkb2NsYXNzZXMuIFJvdWdobHkgYmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdFxuICAgKiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXN5bnRheC8jdGhlLWFuYi10eXBlXG4gICAqL1xuICBwcml2YXRlIHJlYWROdGhQc2V1ZG9QYXJhbXMoKTogbnVtYmVyW10gfCBudWxsIHtcbiAgICBsZXQgaGFzTGVhZGluZ1BsdXMgPSBmYWxzZTtcbiAgICBsZXQgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVMpIHtcbiAgICAgIC8vICcrJ1xuICAgICAgaGFzTGVhZGluZ1BsdXMgPSB0cnVlO1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAodG9rZW4udGV4dCA9PT0gXCJldmVuXCIgfHwgdG9rZW4udGV4dCA9PT0gXCJvZGRcIilcbiAgICApIHtcbiAgICAgIC8vICdldmVuJyBvciAnb2RkJ1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIFsyLCB0b2tlbi50ZXh0ID09PSBcIm9kZFwiID8gMSA6IDBdO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4ubnVtIDwgMCkge1xuICAgICAgICAgIC8vIHJlamVjdCAnKy1hbidcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAvLyBGQUxMVEhST1VHSFxuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4udGV4dC5jaGFyQXQoMCkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgLy8gcmVqZWN0ICcrLW4nXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnRleHQgPT09IFwiblwiIHx8IHRva2VuLnRleHQgPT09IFwiLW5cIikge1xuICAgICAgICAgIC8vICdhbicsICdhbiArYicsICdhbiAtYicsICduJywgJ24gK2InLCAnbiAtYicsICctbicsICctbiArYicgJy1uIC1iJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW5cIiA/IC0xIDogMTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDKSB7XG4gICAgICAgICAgICBhID0gdG9rZW4ubnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBjb25zdCBoYXNNaW51c1NpZ24gPSB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTO1xuICAgICAgICAgIGNvbnN0IGhhc1NpZ24gPVxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTIHx8IGhhc01pbnVzU2lnbjtcbiAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gJ2FuICtiJywgJ2FuIC0gYidcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICBiID0gdG9rZW4ubnVtO1xuXG4gICAgICAgICAgICBpZiAoMSAvIGIgPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSB6ZXJvOiAnYW4gLTAnXG4gICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLTAnLCAnYW4gLSAtMCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiIDwgMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZTogJ2FuIC1iJ1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLWInLCAnYW4gLSAtYidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiID49IDApIHtcbiAgICAgICAgICAgICAgLy8gcG9zaXRpdmUgb3IgcG9zaXRpdmUgemVybzogJ2FuICtiJ1xuICAgICAgICAgICAgICBpZiAoIWhhc1NpZ24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gcmVqZWN0ICdhbiArIChub24taW50ZWdlciknXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFthLCBoYXNNaW51c1NpZ24gJiYgYiA+IDAgPyAtYiA6IGJdO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnRleHQgPT09IFwibi1cIiB8fCB0b2tlbi50ZXh0ID09PSBcIi1uLVwiKSB7XG4gICAgICAgICAgLy8gJ2FuLSBiJywgJy1uLSBiJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbi0gYidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW4tXCIgPyAtMSA6IDE7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQykge1xuICAgICAgICAgICAgYSA9IHRva2VuLm51bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi5udW0gPCAwIHx8IDEgLyB0b2tlbi5udW0gPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyByZWplY3QgJ2FuLSAtYicsICdhbi0gLTAnXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gW2EsIHRva2VuLm51bV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCByID0gdG9rZW4udGV4dC5tYXRjaCgvXm4oLVswLTldKykkLyk7XG4gICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIC8vICduLWInLCAnYW4tYidcbiAgICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgICAgLy8gcmVqZWN0ICcrIGFuLWInXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDID8gdG9rZW4ubnVtIDogMSxcbiAgICAgICAgICAgICAgcGFyc2VJbnQoclsxXSwgMTApLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgciA9IHRva2VuLnRleHQubWF0Y2goL14tbigtWzAtOV0rKSQvKTtcblxuICAgICAgICAgIC8vICctbi1iJ1xuICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCBwYXJzZUludChyWzFdLCAxMCldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlIHx8IHRva2VuLm51bSA8IDApKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICByZXR1cm4gWzAsIHRva2VuLm51bV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbWFrZUNvbmRpdGlvbihjbGFzc2VzOiBzdHJpbmcgfCBudWxsLCBjb25kaXRpb246IEV4cHJzLlZhbCk6IENzcy5FeHByIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuaGFuZGxlci5nZXRTY29wZSgpO1xuICAgIGlmICghc2NvcGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25kaXRpb24gPSBjb25kaXRpb24gfHwgc2NvcGUuX3RydWU7XG4gICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICAgIGZvciAoY29uc3QgY2xhc3NOYW1lIG9mIGNsYXNzTGlzdCkge1xuICAgICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTm90KHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiaG9yaXpvbnRhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkYXlcIjpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgbmV3IEV4cHJzLk5vdChzY29wZSwgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInByZWYtbmlnaHQtbW9kZVwiKSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm5pZ2h0XCI6XG4gICAgICAgICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwcmVmLW5pZ2h0LW1vZGVcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHNjb3BlLl9mYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uID09PSBzY29wZS5fdHJ1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkV4cHIoY29uZGl0aW9uKTtcbiAgfVxuXG4gIGlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHRoaXMucnVsZVN0YWNrW3RoaXMucnVsZVN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICBjYXNlIFwiW3NlbGVjdG9yXVwiOlxuICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgY2FzZSBcIi1lcHVieC1mbG93XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LXZpZXdwb3J0XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBydW5QYXJzZXIoXG4gICAgY291bnQ6IG51bWJlcixcbiAgICBwYXJzaW5nVmFsdWUsXG4gICAgcGFyc2luZ1N0eWxlQXR0cjogYm9vbGVhbixcbiAgICBwYXJzaW5nTWVkaWFRdWVyeSxcbiAgICBwYXJzaW5nRnVuY3Rpb25QYXJhbSxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB0aGlzLnRva2VuaXplcjtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgbGV0IHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW47XG4gICAgbGV0IHRva2VuMTogQ3NzVG9rZW5pemVyLlRva2VuO1xuICAgIGxldCBuczogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgbnVtOiBudW1iZXI7XG4gICAgbGV0IHZhbDogQ3NzLlZhbDtcbiAgICBsZXQgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdO1xuICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0Lk1FRElBO1xuICAgICAgdGhpcy52YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICB9XG4gICAgcGFyc2VyTG9vcDogZm9yICg7IGNvdW50ID4gMDsgLS1jb3VudCkge1xuICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodGhpcy5hY3Rpb25zW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklERU5UOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19DT0xPTl9FWFBFQ1RFRFwiLCB0b2tlbml6ZXIubnRoVG9rZW4oMSkpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JEZWNsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbjEgPSB0b2tlbml6ZXIubnRoVG9rZW4oMik7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9rZW4xLnByZWNlZGVkQnlTcGFjZSB8fFxuICAgICAgICAgICAgKHRva2VuMS50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIGEgc2VsZWN0b3JcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBhIHNlbGVjdG9yIG9yIGEgcHJvcGVydHkgYXNzaWdubWVudFxuICAgICAgICAgICAgdG9rZW5pemVyLm1hcmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5wcm9wSW1wb3J0YW50ID0gZmFsc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgIHZhbFN0YWNrLnNwbGljZSgwLCB2YWxTdGFjay5sZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QUk9QOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ09MT05fRVhQRUNURURcIiwgdG9rZW5pemVyLm50aFRva2VuKDEpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BOYW1lID0gdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSBmYWxzZTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1Byb3BWYWw7XG4gICAgICAgICAgdmFsU3RhY2suc3BsaWNlKDAsIHZhbFN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1NUQVJUOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUsIHByb2Nlc3MgYWdhaW5cbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICBoYW5kbGVyLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUVfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUU6XG4gICAgICAgICAgaWYgKHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIG5zID0gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgIGlmIChucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRVwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3Rvcih0aGlzLmRlZmF1bHROYW1lc3BhY2VVUkksIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9BTllfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FOWTpcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3RvcihudWxsLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19OQU1FU1BBQ0VcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEXzE6XG4gICAgICAgICAgaWYgKHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEOlxuICAgICAgICAgIGhhbmRsZXIuaWRTZWxlY3Rvcih0b2tlbi50ZXh0KTtcbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xOlxuICAgICAgICAgIGlmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTUzpcbiAgICAgICAgICBoYW5kbGVyLmNsYXNzU2VsZWN0b3IodG9rZW4udGV4dCk7XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1NfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M6XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHBzZXVkb2NsYXNzVHlwZTogc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vdFwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0RnVuY1dpdGhTZWxlY3RvcihcIm5vdFwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5QYXJzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrIHBhcnNlckxvb3A7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxhbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBbdG9rZW4udGV4dF07XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgcHNldWRvY2xhc3NUeXBlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3QtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3Qtb2YtdHlwZVwiOlxuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkTnRoUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBwc2V1ZG9jbGFzc1R5cGU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0ZXh0IGFzIHN0cmluZywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfUFNFVURPQ0xBU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgICBoYW5kbGVyLnBzZXVkb2VsZW1lbnRTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJudGgtZnJhZ21lbnRcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucmVhZE50aFBzZXVkb1BhcmFtcygpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnJlYWRQc2V1ZG9QYXJhbXMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5wc2V1ZG9lbGVtZW50U2VsZWN0b3IodGV4dCBhcyBzdHJpbmcsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1BTRVVET0VMRU1fU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FUVFJfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQVRUUjpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBudWxsO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUikge1xuICAgICAgICAgICAgbnMgPSB0ZXh0ID8gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0ZXh0XSA6IHRleHQ7XG4gICAgICAgICAgICBpZiAobnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSX05BTUVfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5zID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuVElMREVfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0VROlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xfQ09MOlxuICAgICAgICAgICAgICBudW0gPSB0b2tlbi50eXBlO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzpcbiAgICAgICAgICAgICAgaGFuZGxlci5hdHRyaWJ1dGVTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBucyBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9PUF9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFI6XG4gICAgICAgICAgICAgIGhhbmRsZXIuYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgbnMgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIHRleHQgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIG51bSxcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9WQUxfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSykge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUlwiLCB0b2tlbik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQ0hJTEQ6XG4gICAgICAgICAgaGFuZGxlci5jaGlsZFNlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0ZPTExPV0lOR19TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9CT0RZOlxuICAgICAgICAgIGlmICh0aGlzLnJlZ2lvblJ1bGUpIHtcbiAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2goXCItZXB1YngtcmVnaW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5yZWdpb25SdWxlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VSdWxlKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwicGFnZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGFnZVJ1bGUgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIltzZWxlY3Rvcl1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05FWFQ6XG4gICAgICAgICAgaGFuZGxlci5uZXh0U2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfSURFTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0hBU0g6XG4gICAgICAgICAgbnVtID0gcGFyc2VJbnQodG9rZW4udGV4dCwgMTYpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKGNvbG9yRnJvbUhhc2godG9rZW4udGV4dCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0NPTE9SXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX05VTTpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBDc3MuTnVtKHRva2VuLm51bSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9JTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLkludCh0b2tlbi5udW0pKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfTlVNRVJJQzpcbiAgICAgICAgICBpZiAoRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCh0b2tlbi50ZXh0KSkge1xuICAgICAgICAgICAgLy8gVHJlYXQgbnVtZXJpYyB2YWx1ZSB3aXRoIHZpZXdwb3J0IHVuaXQgYXMgbnVtZXJpYyBpbiBleHByLlxuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgbmV3IENzcy5FeHByKFxuICAgICAgICAgICAgICAgIG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0b2tlbi50ZXh0KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfU1RSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5TdHIodG9rZW4udGV4dCkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9VUkw6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLlVSTChCYXNlLnJlc29sdmVVUkwodG9rZW4udGV4dCwgdGhpcy5iYXNlVVJMKSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9DT01NQTpcbiAgICAgICAgICB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiLFwiLCB0b2tlbik7XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChcIixcIik7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1NMQVNIOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2goQ3NzLnNsYXNoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfRlVOQzpcbiAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0ZXh0ID09IFwiLWVwdWJ4LWV4cHJcIiB8fCB0ZXh0ID09IFwiY2FsY1wiIHx8IHRleHQgPT0gXCJlbnZcIikge1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5QUk9QO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwiKFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0NfUEFSOlxuICAgICAgICAgIHRoaXMudmFsU3RhY2tSZWR1Y2UoXCIpXCIsIHRva2VuKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQkFORzpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiaW1wb3J0YW50XCIgJiZcbiAgICAgICAgICAgICh0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1BMVVM6XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4xLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU06XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQzpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgICAgICAgIGlmICghdG9rZW4xLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgICAgIC8vIFBsdXMgYmVmb3JlIG51bWJlciwgaWdub3JlXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9QTFVTXCIsIHRva2VuKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0VORDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQlJDOlxuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHZhbCAmJiB0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IHBhcnNpbmdTdHlsZUF0dHIgPyBhY3Rpb25zU3R5bGVBdHRyaWJ1dGUgOiBhY3Rpb25zQmFzZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0ZJTklTSDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgJiYgdmFsKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lERU5UOlxuICAgICAgICAgIHRva2VuMSA9IHRva2VuaXplci5udGhUb2tlbigxKTtcbiAgICAgICAgICBpZiAodG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTUykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSICYmXG4gICAgICAgICAgICAgICF0b2tlbml6ZXIubnRoVG9rZW4oMikucHJlY2VkZWRCeVNwYWNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCwgXCIoXCIpO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoXG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgICAgICBFeHBycy5tYWtlUXVhbGlmaWVkTmFtZSh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5NRURJQSB8fFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0LklNUE9SVFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJub3RcIikge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICAgIG5ldyBFeHBycy5NZWRpYU5hbWUoaGFuZGxlci5nZXRTY29wZSgpLCB0cnVlLCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwib25seVwiKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goXG4gICAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTWVkaWFOYW1lKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZmFsc2UsIHRva2VuLnRleHQpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLk5hbWVkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9GVU5DOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobnVsbCwgdG9rZW4udGV4dCwgXCIoXCIpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfTlVNOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLkNvbnN0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtKSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX05VTUVSSUM6XG4gICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgaWYgKHRleHQgPT0gXCIlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lICYmIHRoaXMucHJvcE5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pKSB7XG4gICAgICAgICAgICAgIHRleHQgPSBcInZoXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXh0ID0gXCJ2d1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1NUUjpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5Db25zdChoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLnRleHQpKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfUEFSQU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQgfHxcbiAgICAgICAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5QYXJhbShoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLm51bSkpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1BSRUZJWDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKC10b2tlbi50eXBlKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lORklYOlxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgIHRoaXMuZXhwclN0YWNrUmVkdWNlKHRva2VuLnR5cGUsIHRva2VuKTtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRva2VuLnR5cGUpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfSU5GSVhfTkFNRTpcbiAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiYW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgdGhpcy5leHByU3RhY2tSZWR1Y2UoT1BfTUVESUFfQU5ELCB0b2tlbik7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKE9QX01FRElBX0FORCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0NfUEFSOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZSh0b2tlbi50eXBlLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkJBTEFOQ0VEX1BBUlwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfT19CUkM6XG4gICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgfHwgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5JTVBPUlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX0JSQ1wiLCB0b2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5XSEVOKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFdoZW5SdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0TWVkaWFSdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwibWVkaWFcIik7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9TRU1JQ09MOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZShDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lIHx8IHRoaXMuZXhwckNvbnRleHQgIT0gRXhwckNvbnRleHQuSU1QT1JUKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRU1JQ09MXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0Q29uZGl0aW9uID0gdmFsU3RhY2sucG9wKCkgYXMgQ3NzLkV4cHI7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX09fUEFSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rZW4udHlwZSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uUlVMRV9FTkQ6XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICBpZiAodGhpcy5ydWxlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFUOlxuICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICBjYXNlIFwiaW1wb3J0XCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSIHx8XG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFVSTCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MIHx8XG4gICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0LklNUE9SVDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0lNUE9SVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm5hbWVzcGFjZVwiOlxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDsgLy8gUHJlZml4XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFIgfHxcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuVVJMKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVzcGFjZVByZWZpeFRvVVJJW3RleHRdID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSOlxuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5VUkw6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRV9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImNoYXJzZXRcIjpcbiAgICAgICAgICAgICAgLy8gVXNlbGVzcyBpbiBFUFVCIChvbmx5IFVURi04IG9yIFVURi0xNiBpcyBhbGxvd2VkIGFueXdheSBhbmRcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIGF0IHRoZSBtZXJjeSBvZiB0aGUgYnJvd3NlciBjaGFyc2V0IGhhbmRsaW5nIGFueXdheSkuXG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSICYmXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgIT0gXCJ1dGYtOFwiICYmIHRleHQgIT0gXCJ1dGYtMTZcIikge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9DSEFSU0VUICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ0hBUlNFVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLXRlbXBsYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb250LWZhY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvbnRGYWNlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS10ZW1wbGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtZGVmaW5lXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnREZWZpbmVSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Vmlld3BvcnRSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQzpcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Rm9vdG5vdGVSdWxlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvb3Rub3RlUnVsZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIi1hZGFwdC1mb290bm90ZS1hcmVhXCIpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcmVnaW9uXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSZWdpb25SdWxlKCk7XG4gICAgICAgICAgICAgIHRoaXMucmVnaW9uUnVsZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VSdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnQtY29ybmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0XCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0LWNvcm5lclwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LXRvcFwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LW1pZGRsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tbGVmdC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImxlZnQtbWlkZGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibGVmdC10b3BcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKHRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXdoZW5cIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IG51bGw7IC8vIHNpZ25hbHMgQCBydWxlXG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5XSEVOO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGlhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWZsb3dcIjpcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRGbG93UnVsZSh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFydGl0aW9uXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOiB7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGxldCBydWxlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGxldCBydWxlUHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgICBydWxlTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT04gJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lID0gdG9rZW5pemVyLm50aFRva2VuKDEpLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DICYmXG4gICAgICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiY2xhc3NcIiAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYXJ0aXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgICAgICAvLyBObyB0ZXh0IGFmdGVyIEBcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9BVCR7dGV4dH1gLCB0b2tlbik7XG5cbiAgICAgICAgICAgICAgLy8gRXJyb3IgcmVjb3ZlcnkgdXNpbmcgc2VsZWN0b3IgcnVsZXMuXG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoYEVfQ1NTX0FUX1VOS05PV04gJHt0ZXh0fWAsIHRva2VuKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfQVRfU1lOVEFYICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QVVNIOlxuICAgICAgICAgIC8vIE9wZW4gYnJhY2tldCB3aGlsZSBza2lwcGluZyBlcnJvciBzeW50YXhcbiAgICAgICAgICBpZiAocGFyc2luZ1ZhbHVlIHx8IHBhcnNpbmdTdHlsZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMucHVzaCh0b2tlbi50eXBlICsgMSk7XG5cbiAgICAgICAgICAvLyBFeHBlY3RlZCBjbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QT1BfREVDTDpcbiAgICAgICAgICAvLyBDbG9zZSBicmFja2V0IHdoaWxlIHNraXBwaW5nIGVycm9yIHN5bnRheCBpbiBkZWNsYXJhdGlvblxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBjb25zdW1lIGNsb3NpbmcgYnJhY2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uRVJST1JfUE9QOlxuICAgICAgICAgIC8vIENsb3NlIGJyYWNrZXQgd2hpbGUgc2tpcHBpbmcgZXJyb3Igc3ludGF4XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMuZXJyb3JCcmFja2V0c1t0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoIC0gMV0gPT0gdG9rZW4udHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVSUk9SX1NFTUlDT0w6XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSB8fCBwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkRPTkU6XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgaGFuZGxlci5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHZhbFN0YWNrLnBvcCgpIGFzIENzcy5WYWw7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyAhPT0gYWN0aW9uc0Vycm9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvclNlbGVjdG9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvckRlY2xcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlKCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7IC8vIExldCBlcnJvci1yZWNvdmVyeSB0byByZS1wcm9jZXNzIHRoZSBvZmZlbmRpbmcgdG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBOb3QgZG9uZSB5ZXQuXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVzaGVldChcbiAgdG9rZW5pemVyOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJwYXJzZVN0eWxlc2hlZXRcIik7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoYWN0aW9uc0Jhc2UsIHRva2VuaXplciwgaGFuZGxlciwgYmFzZVVSTCk7XG4gIGxldCBjb25kaXRpb246IENzcy5FeHByID0gbnVsbDtcbiAgaWYgKG1lZGlhKSB7XG4gICAgY29uZGl0aW9uID0gcGFyc2VNZWRpYVF1ZXJ5KFxuICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIobWVkaWEsIGhhbmRsZXIpLFxuICAgICAgaGFuZGxlcixcbiAgICAgIGJhc2VVUkwsXG4gICAgKTtcbiAgfVxuICBjb25kaXRpb24gPSBwYXJzZXIubWFrZUNvbmRpdGlvbihjbGFzc2VzLCBjb25kaXRpb24gJiYgY29uZGl0aW9uLnRvRXhwcigpKTtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIGhhbmRsZXIuc3RhcnRNZWRpYVJ1bGUoY29uZGl0aW9uKTtcbiAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgfVxuICBmcmFtZVxuICAgIC5sb29wKCgpID0+IHtcbiAgICAgIHdoaWxlICghcGFyc2VyLnJ1blBhcnNlcigxMDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgICBpZiAocGFyc2VyLmltcG9ydFJlYWR5KSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRVUkwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0VVJMIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGJhc2VVUkwsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydE1lZGlhUnVsZShwYXJzZXIuaW1wb3J0Q29uZGl0aW9uKTtcbiAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgIFwicGFyc2VTdHlsZXNoZWV0LmltcG9ydFwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFyc2VTdHlsZXNoZWV0RnJvbVVSTChyZXNvbHZlZFVSTCwgaGFuZGxlciwgbnVsbCwgbnVsbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5pbXBvcnRSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgcGFyc2VyLmltcG9ydFVSTCA9IG51bGw7XG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0Q29uZGl0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlubmVyRnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBmcmFtZS50aW1lU2xpY2UoKTtcbiAgICAgICAgaWYgKHIuaXNQZW5kaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIGhhbmRsZXIuZW5kUnVsZSgpO1xuICAgICAgfVxuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgdGV4dDogc3RyaW5nLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgXCJwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dFwiLFxuICAgIChmcmFtZSkgPT4ge1xuICAgICAgY29uc3QgdG9rID0gbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIodGV4dCwgaGFuZGxlcik7XG4gICAgICBwYXJzZVN0eWxlc2hlZXQodG9rLCBoYW5kbGVyLCBiYXNlVVJMLCBjbGFzc2VzLCBtZWRpYSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgfSxcbiAgICAoZnJhbWUsIGVycikgPT4ge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCB0ZXh0OiAke3RleHR9YCk7XG4gICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVVJMKFxuICB1cmw6IHN0cmluZyxcbiAgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbCxcbiAgbWVkaWE6IHN0cmluZyB8IG51bGwsXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICBcInBhcnNlU3R5bGVzaGVldEZyb21VUkxcIixcbiAgICAoZnJhbWUpID0+IHtcbiAgICAgIE5ldC5hamF4KHVybCkudGhlbigoeGhyKSA9PiB7XG4gICAgICAgIGlmICgheGhyLnJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCBmcm9tICR7dXJsfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJFeGNlcHRpb24gd2hpbGUgZmV0Y2hpbmcgYW5kIHBhcnNpbmc6XCIsIHVybCk7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFsdWUoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgYmFzZVVSTDogc3RyaW5nLFxuKTogQ3NzLlZhbCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoXG4gICAgYWN0aW9uc1Byb3BWYWwsXG4gICAgdG9rZW5pemVyLFxuICAgIG5ldyBFcnJvckhhbmRsZXIoc2NvcGUpLFxuICAgIGJhc2VVUkwsXG4gICk7XG4gIHBhcnNlci5ydW5QYXJzZXIoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgcmV0dXJuIHBhcnNlci5yZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IHZvaWQge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKGFjdGlvbnNTdHlsZUF0dHJpYnV0ZSwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNZWRpYVF1ZXJ5KFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IENzcy5FeHByIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihhY3Rpb25zRXhwclZhbCwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UpO1xuICByZXR1cm4gcGFyc2VyLnJlc3VsdCBhcyBDc3MuRXhwcjtcbn1cblxuZXhwb3J0IGNvbnN0IG51bVByb3A6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xuICBcInotaW5kZXhcIjogdHJ1ZSxcbiAgXCJjb2x1bW4tY291bnRcIjogdHJ1ZSxcbiAgXCJmbG93LWxpbmdlclwiOiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBwYWdlOiB0cnVlLFxuICBcImZsb3ctcHJpb3JpdHlcIjogdHJ1ZSxcbiAgdXRpbGl6YXRpb246IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFrZXNPbmx5TnVtKHByb3BOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhbnVtUHJvcFtwcm9wTmFtZV07XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlRXhwclRvQ1NTKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB2YWw6IEV4cHJzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBjb25zdCByZXN1bHQgPSB2YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gIHN3aXRjaCAodHlwZW9mIHJlc3VsdCkge1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGlmICghdGFrZXNPbmx5TnVtKHByb3BOYW1lKSkge1xuICAgICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKHJlc3VsdCBhcyBudW1iZXIsIFwicHhcIik7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSBNYXRoLnJvdW5kKHJlc3VsdCBhcyBudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLkludChyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLk51bShyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH1cbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm4gQ3NzLmVtcHR5O1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiB3aGVyZSBiYXNlVVJMIHNob3VsZCBjb21lIGZyb20/Pz9cbiAgICAgIHJldHVybiBwYXJzZVZhbHVlKFxuICAgICAgICB2YWwuc2NvcGUsXG4gICAgICAgIG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHJlc3VsdCBhcyBzdHJpbmcsIG51bGwpLFxuICAgICAgICBcIlwiLFxuICAgICAgKTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHJlc3VsdCA/IENzcy5pZGVudC5fdHJ1ZSA6IENzcy5pZGVudC5fZmFsc2U7XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgcmV0dXJuIENzcy5lbXB0eTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURcIik7XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlQ1NTVG9DU1MoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBpZiAodmFsLmlzRXhwcigpKSB7XG4gICAgcmV0dXJuIGV2YWx1YXRlRXhwclRvQ1NTKGNvbnRleHQsICh2YWwgYXMgQ3NzLkV4cHIpLmV4cHIsIHByb3BOYW1lKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IE1hdGNoZXJzIC0gRGVmaW5pdGlvbnMgb2YgTWF0Y2hlci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5cbi8qKlxuICogQ2hlY2tlcyB3aGV0aGVyIGdpdmVuIG9yZGVyIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhbitiIHdpdGggYSBub24tbmVnYXRpdmVcbiAqIGludGVyZ2VyIG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQU5QbHVzQihvcmRlcjogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICBvcmRlciAtPSBiO1xuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBvcmRlciA9PT0gMDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb3JkZXIgJSBhID09PSAwICYmIG9yZGVyIC8gYSA+PSAwO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hlciB7XG4gIG1hdGNoZXMoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFueU1hdGNoZXIgaW1wbGVtZW50cyBNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1hdGNoZXJzOiBNYXRjaGVyW10pIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXJzLnNvbWUoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWxsTWF0Y2hlciBpbXBsZW1lbnRzIE1hdGNoZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbWF0Y2hlcnM6IE1hdGNoZXJbXSkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1hdGNoZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcnMuZXZlcnkoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTnRoRnJhZ21lbnRNYXRjaGVyIGltcGxlbWVudHMgTWF0Y2hlciB7XG4gIHN0YXRpYyBmcmFnbWVudEluZGljZXMgPSB7fTtcblxuICBzdGF0aWMgcmVnaXN0ZXJGcmFnbWVudEluZGV4KFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXIsXG4gICAgcHJpb3JpdHk6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXM7XG4gICAgaWYgKFxuICAgICAgIWluZGljZXNbZWxlbWVudE9mZnNldF0gfHxcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0ucHJpb3JpdHkgPD0gcHJpb3JpdHlcbiAgICApIHtcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0gPSB7IGZyYWdtZW50SW5kZXgsIHByaW9yaXR5IH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNsZWFyRnJhZ21lbnRJbmRpY2VzKCkge1xuICAgIE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50T2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGE6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVudHJ5ID0gTnRoRnJhZ21lbnRNYXRjaGVyLmZyYWdtZW50SW5kaWNlc1t0aGlzLmVsZW1lbnRPZmZzZXRdO1xuICAgIHJldHVybiAoXG4gICAgICBlbnRyeSAhPSBudWxsICYmXG4gICAgICBlbnRyeS5mcmFnbWVudEluZGV4ICE9IG51bGwgJiZcbiAgICAgIG1hdGNoQU5QbHVzQihlbnRyeS5mcmFnbWVudEluZGV4LCB0aGlzLmEsIHRoaXMuYilcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVyQnVpbGRlciB7XG4gIHN0YXRpYyBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICB2aWV3Q29uZGl0aW9uOiBzdHJpbmcsXG4gICk6IE1hdGNoZXIge1xuICAgIGNvbnN0IHN0cnMgPSB2aWV3Q29uZGl0aW9uLnNwbGl0KFwiX1wiKTtcbiAgICBpZiAoc3Ryc1swXSA9PSBcIk5GU1wiKSB7XG4gICAgICByZXR1cm4gbmV3IE50aEZyYWdtZW50TWF0Y2hlcihcbiAgICAgICAgZWxlbWVudE9mZnNldCxcbiAgICAgICAgcGFyc2VJbnQoc3Ryc1sxXSwgMTApLFxuICAgICAgICBwYXJzZUludChzdHJzWzJdLCAxMCksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBBc3NlcnRzLmZhaWwoYHVua25vd24gdmlldyBjb25kaXRpb24uIGNvbmRpdGlvbj0ke3ZpZXdDb25kaXRpb259YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYnVpbGRBbGxNYXRjaGVyKG1hdGNoZXJzOiBNYXRjaGVyW10pOiBNYXRjaGVyIHtcbiAgICByZXR1cm4gbmV3IEFsbE1hdGNoZXIobWF0Y2hlcnMpO1xuICB9XG5cbiAgc3RhdGljIGJ1aWxkQW55TWF0Y2hlcihtYXRjaGVyczogTWF0Y2hlcltdKTogTWF0Y2hlciB7XG4gICAgcmV0dXJuIG5ldyBBbnlNYXRjaGVyKG1hdGNoZXJzKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NDYXNjYWRlIC0gQ1NTIENhc2NhZGUuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IENzc0Nhc2NhZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRTdHlsZSBleHRlbmRzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHt9XG5cbmV4cG9ydCBjb25zdCBpbmhlcml0ZWRQcm9wcyA9IHtcbiAgYXppbXV0aDogdHJ1ZSxcbiAgXCJib3JkZXItY29sbGFwc2VcIjogdHJ1ZSxcbiAgXCJib3JkZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImNhcHRpb24tc2lkZVwiOiB0cnVlLFxuICBcImNsaXAtcnVsZVwiOiB0cnVlLFxuICBjb2xvcjogdHJ1ZSxcbiAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCI6IHRydWUsXG4gIFwiY29sb3ItcmVuZGVyaW5nXCI6IHRydWUsXG4gIGN1cnNvcjogdHJ1ZSxcbiAgZGlyZWN0aW9uOiB0cnVlLFxuICBlbGV2YXRpb246IHRydWUsXG4gIFwiZW1wdHktY2VsbHNcIjogdHJ1ZSxcbiAgZmlsbDogdHJ1ZSxcbiAgXCJmaWxsLW9wYWNpdHlcIjogdHJ1ZSxcbiAgXCJmaWxsLXJ1bGVcIjogdHJ1ZSxcbiAgXCJmb250LWtlcm5pbmdcIjogdHJ1ZSxcbiAgXCJmb250LXNpemVcIjogdHJ1ZSxcbiAgXCJmb250LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwiZm9udC1mYW1pbHlcIjogdHJ1ZSxcbiAgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIjogdHJ1ZSxcbiAgXCJmb250LXN0eWxlXCI6IHRydWUsXG4gIFwiZm9udC1zdHJldGNoXCI6IHRydWUsXG4gIFwiZm9udC12YXJpYW50XCI6IHRydWUsXG4gIFwiZm9udC13ZWlnaHRcIjogdHJ1ZSxcbiAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOiB0cnVlLFxuICBoeXBoZW5zOiB0cnVlLFxuICBcImh5cGhlbmF0ZS1jaGFyYWN0ZXJcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtY2hhcnNcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtbGFzdFwiOiB0cnVlLFxuICBcImltYWdlLXJlbmRlcmluZ1wiOiB0cnVlLFxuICBcImltYWdlLXJlc29sdXRpb25cIjogdHJ1ZSxcbiAgXCJsZXR0ZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImxpbmUtYnJlYWtcIjogdHJ1ZSxcbiAgXCJsaW5lLWhlaWdodFwiOiB0cnVlLFxuICBcImxpc3Qtc3R5bGUtaW1hZ2VcIjogdHJ1ZSxcbiAgXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCI6IHRydWUsXG4gIFwibGlzdC1zdHlsZS10eXBlXCI6IHRydWUsXG4gIG1hcmtlcjogdHJ1ZSxcbiAgXCJtYXJrZXItZW5kXCI6IHRydWUsXG4gIFwibWFya2VyLW1pZFwiOiB0cnVlLFxuICBcIm1hcmtlci1zdGFydFwiOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICBcIm92ZXJmbG93LXdyYXBcIjogdHJ1ZSxcbiAgXCJwYWludC1vcmRlclwiOiB0cnVlLFxuICBcInBvaW50ZXItZXZlbnRzXCI6IHRydWUsXG4gIFwicGl0Y2gtcmFuZ2VcIjogdHJ1ZSxcbiAgcXVvdGVzOiB0cnVlLFxuICByaWNobmVzczogdHJ1ZSxcbiAgXCJydWJ5LWFsaWduXCI6IHRydWUsXG4gIFwicnVieS1wb3NpdGlvblwiOiB0cnVlLFxuICBcInNwZWFrLWhlYWRlclwiOiB0cnVlLFxuICBcInNwZWFrLW51bWVyYWxcIjogdHJ1ZSxcbiAgXCJzcGVhay1wdW5jdHVhdGlvblwiOiB0cnVlLFxuICBcInNwZWVjaC1yYXRlXCI6IHRydWUsXG4gIFwic2hhcGUtcmVuZGVyaW5nXCI6IHRydWUsXG4gIHN0cmVzczogdHJ1ZSxcbiAgc3Ryb2tlOiB0cnVlLFxuICBcInN0cm9rZS1kYXNoYXJyYXlcIjogdHJ1ZSxcbiAgXCJzdHJva2UtZGFzaG9mZnNldFwiOiB0cnVlLFxuICBcInN0cm9rZS1saW5lY2FwXCI6IHRydWUsXG4gIFwic3Ryb2tlLWxpbmVqb2luXCI6IHRydWUsXG4gIFwic3Ryb2tlLW1pdGVybGltaXRcIjogdHJ1ZSxcbiAgXCJzdHJva2Utb3BhY2l0eVwiOiB0cnVlLFxuICBcInN0cm9rZS13aWR0aFwiOiB0cnVlLFxuICBcInRhYi1zaXplXCI6IHRydWUsXG4gIFwidGV4dC1hbGlnblwiOiB0cnVlLFxuICBcInRleHQtYWxpZ24tbGFzdFwiOiB0cnVlLFxuICBcInRleHQtYW5jaG9yXCI6IHRydWUsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXNraXBcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWVtcGhhc2lzLWNvbG9yXCI6IHRydWUsXG4gIFwidGV4dC1lbXBoYXNpcy1wb3NpdGlvblwiOiB0cnVlLFxuICBcInRleHQtZW1waGFzaXMtc3R5bGVcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOiB0cnVlLFxuICBcInRleHQtaW5kZW50XCI6IHRydWUsXG4gIFwidGV4dC1qdXN0aWZ5XCI6IHRydWUsXG4gIFwidGV4dC1yZW5kZXJpbmdcIjogdHJ1ZSxcbiAgXCJ0ZXh0LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwidGV4dC10cmFuc2Zvcm1cIjogdHJ1ZSxcbiAgXCJ0ZXh0LXVuZGVybGluZS1wb3NpdGlvblwiOiB0cnVlLFxuICB2aXNpYmlsaXR5OiB0cnVlLFxuICBcInZvaWNlLWZhbWlseVwiOiB0cnVlLFxuICB2b2x1bWU6IHRydWUsXG4gIFwid2hpdGUtc3BhY2VcIjogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICBcIndvcmQtYnJlYWtcIjogdHJ1ZSxcbiAgXCJ3b3JkLXNwYWNpbmdcIjogdHJ1ZSxcbiAgXCJ3b3JkLXdyYXBcIjogdHJ1ZSxcbiAgXCJ3cml0aW5nLW1vZGVcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMgPSBbXG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIixcbiAgLy8gVE9ETzogYm94LWRlY29yYXRpb24tYmxvY2sgc2hvdWxkIG5vdCBiZSBpbmhlcml0ZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXZsaW9zdHlsZS92aXZsaW9zdHlsZS5qcy9pc3N1ZXMvMjU5XG4gIFwiaW1hZ2UtcmVzb2x1dGlvblwiLFxuICBcIm9ycGhhbnNcIixcbiAgXCJ3aWRvd3NcIixcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBob29rczogUGx1Z2luLlBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgUGx1Z2luLkhPT0tTLlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTLFxuICApO1xuICByZXR1cm4gaG9va3MucmVkdWNlKFxuICAgIChwcm9wcywgZikgPT4gcHJvcHMuY29uY2F0KGYoKSksXG4gICAgW10uY29uY2F0KHBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyksXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWROYW1lc3BhY2VzID0ge1xuICBcImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHNcIjogdHJ1ZSxcbiAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI6IHRydWUsXG4gIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb3VwbGVkUGF0dGVybnMgPSBbXG4gIFwibWFyZ2luLSVcIixcbiAgXCJwYWRkaW5nLSVcIixcbiAgXCJib3JkZXItJS13aWR0aFwiLFxuICBcImJvcmRlci0lLXN0eWxlXCIsXG4gIFwiYm9yZGVyLSUtY29sb3JcIixcbiAgXCIlXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgY291cGxlZEV4dGVudFBhdHRlcm5zID0gW1wibWF4LSVcIiwgXCJtaW4tJVwiLCBcIiVcIl07XG5cbmV4cG9ydCBjb25zdCBnZW9tTmFtZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0gKCgpID0+IHtcbiAgY29uc3Qgc2lkZXMgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl07XG4gIGNvbnN0IG5hbWVzID0ge1xuICAgIHdpZHRoOiB0cnVlLFxuICAgIGhlaWdodDogdHJ1ZSxcbiAgICBcIm1heC13aWR0aFwiOiB0cnVlLFxuICAgIFwibWF4LWhlaWdodFwiOiB0cnVlLFxuICAgIFwibWluLXdpZHRoXCI6IHRydWUsXG4gICAgXCJtaW4taGVpZ2h0XCI6IHRydWUsXG4gIH07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291cGxlZFBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBzaWRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgY29uc3QgbmFtZSA9IGNvdXBsZWRQYXR0ZXJuc1tpXS5yZXBsYWNlKFwiJVwiLCBzaWRlc1trXSk7XG4gICAgICBuYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBuYW1lcztcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvdXBsaW5nTWFwKFxuICBzaWRlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICBleHRlbnRNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGZvciAoY29uc3QgcGF0dGVybiBvZiBjb3VwbGVkUGF0dGVybnMpIHtcbiAgICBmb3IgKGNvbnN0IHNpZGUgaW4gc2lkZU1hcCkge1xuICAgICAgY29uc3QgbmFtZTEgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGUpO1xuICAgICAgY29uc3QgbmFtZTIgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGVNYXBbc2lkZV0pO1xuICAgICAgbWFwW25hbWUxXSA9IG5hbWUyO1xuICAgICAgbWFwW25hbWUyXSA9IG5hbWUxO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IGV4dGVudFBhdHRlcm4gb2YgY291cGxlZEV4dGVudFBhdHRlcm5zKSB7XG4gICAgZm9yIChjb25zdCBleHRlbnQgaW4gZXh0ZW50TWFwKSB7XG4gICAgICBjb25zdCBuYW1lMSA9IGV4dGVudFBhdHRlcm4ucmVwbGFjZShcIiVcIiwgZXh0ZW50KTtcbiAgICAgIGNvbnN0IG5hbWUyID0gZXh0ZW50UGF0dGVybi5yZXBsYWNlKFwiJVwiLCBleHRlbnRNYXBbZXh0ZW50XSk7XG4gICAgICBtYXBbbmFtZTFdID0gbmFtZTI7XG4gICAgICBtYXBbbmFtZTJdID0gbmFtZTE7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcFZlcnQgPSBidWlsZENvdXBsaW5nTWFwKFxuICB7XG4gICAgXCJibG9jay1zdGFydFwiOiBcInJpZ2h0XCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJsZWZ0XCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJib3R0b21cIixcbiAgfSxcbiAgeyBcImJsb2NrLXNpemVcIjogXCJ3aWR0aFwiLCBcImlubGluZS1zaXplXCI6IFwiaGVpZ2h0XCIgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcEhvciA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwidG9wXCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJib3R0b21cIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJyaWdodFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcImhlaWdodFwiLCBcImlubGluZS1zaXplXCI6IFwid2lkdGhcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwVmVydFJ0bCA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcInRvcFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcIndpZHRoXCIsIFwiaW5saW5lLXNpemVcIjogXCJoZWlnaHRcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwSG9yUnRsID0gYnVpbGRDb3VwbGluZ01hcChcbiAge1xuICAgIFwiYmxvY2stc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJsZWZ0XCIsXG4gIH0sXG4gIHsgXCJibG9jay1zaXplXCI6IFwiaGVpZ2h0XCIsIFwiaW5saW5lLXNpemVcIjogXCJ3aWR0aFwiIH0sXG4pO1xuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBDc3MuVmFsLFxuICAgIHB1YmxpYyByZWFkb25seSBwcmlvcml0eTogbnVtYmVyLFxuICApIHt9XG5cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCB0aGlzLnByaW9yaXR5KTtcbiAgfVxuXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENhc2NhZGVWYWx1ZSh0aGlzLnZhbHVlLCB0aGlzLnByaW9yaXR5ICsgc3BlY2lmaWNpdHkpO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogRXhwcnMuQ29udGV4dCwgcHJvcE5hbWU6IHN0cmluZyk6IENzcy5WYWwge1xuICAgIHJldHVybiBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB0aGlzLnZhbHVlLCBwcm9wTmFtZSk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgc3ViY2xhc3Mgb2YgQ2FzY2FkZVZhbHVlLiBTaG91bGQgbmV2ZXIgYmUgc2VlbiBvdXRzaWRlIG9mIHRoZVxuICogY2FzY2FkZSBlbmdpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSBleHRlbmRzIENhc2NhZGVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHZhbHVlOiBDc3MuVmFsLFxuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcnMuVmFsLFxuICApIHtcbiAgICBzdXBlcih2YWx1ZSwgcHJpb3JpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBDYXNjYWRlVmFsdWUodGhpcy52YWx1ZSwgdGhpcy5wcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHRoaXMucHJpb3JpdHksIHRoaXMuY29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKFxuICAgICAgdGhpcy52YWx1ZSxcbiAgICAgIHRoaXMucHJpb3JpdHkgKyBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuY29uZGl0aW9uLmV2YWx1YXRlKGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHR2IGN1cnJlbnQgdmFsdWUgKGNhbm5vdCBiZSBjb25kaXRpb25hbClcbiAqIEBwYXJhbSBhdiBjYXNjYWRlZCB2YWx1ZSAoY2FuIGJlIGNvbmRpdGlvbmFsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FzY2FkZVZhbHVlcyhcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdHY6IENhc2NhZGVWYWx1ZSxcbiAgYXY6IENhc2NhZGVWYWx1ZSxcbik6IENhc2NhZGVWYWx1ZSB7XG4gIGlmICgodHYgPT0gbnVsbCB8fCBhdi5wcmlvcml0eSA+IHR2LnByaW9yaXR5KSAmJiBhdi5pc0VuYWJsZWQoY29udGV4dCkpIHtcbiAgICByZXR1cm4gYXYuZ2V0QmFzZVZhbHVlKCk7XG4gIH1cbiAgcmV0dXJuIHR2O1xufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50U3R5bGVNYXAgPSB7XG4gIFtrZXk6IHN0cmluZ106IEVsZW1lbnRTdHlsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBTUEVDSUFMUyA9IHtcbiAgXCJyZWdpb24taWRcIjogdHJ1ZSxcbiAgXCJmcmFnbWVudC1zZWxlY3Rvci1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbE5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNYXBOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgPT0gXCJfXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3BOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgIT0gXCJfXCIgJiYgIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmhlcml0ZWQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWluaGVyaXRlZFByb3BzW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWUge1xuICByZXR1cm4gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogQ2FzY2FkZVZhbHVlLFxuKTogYW55IHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIGRlbGV0ZSBzdHlsZVtuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZVtuYW1lXSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgcmV0dXJuIHN0eWxlW25hbWVdIGFzIEVsZW1lbnRTdHlsZU1hcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgbGV0IHIgPSBzdHlsZVtuYW1lXSBhcyBFbGVtZW50U3R5bGVNYXA7XG4gIGlmICghcikge1xuICAgIHIgPSB7fTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCA9IChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbik6IHsgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlcjsgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXAgfVtdID0+IHtcbiAgbGV0IHIgPSBzdHlsZVtcIl92aWV3Q29uZGl0aW9uYWxTdHlsZXNcIl0gYXMge1xuICAgIG1hdGNoZXI6IE1hdGNoZXJzLk1hdGNoZXI7XG4gICAgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXA7XG4gIH1bXTtcbiAgaWYgKCFyKSB7XG4gICAgciA9IFtdO1xuICAgIHN0eWxlW1wiX3ZpZXdDb25kaXRpb25hbFN0eWxlc1wiXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BlY2lhbChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWVbXSB7XG4gIHJldHVybiBzdHlsZVtuYW1lXSBhcyBDYXNjYWRlVmFsdWVbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTcGVjaWFsKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4pOiBDYXNjYWRlVmFsdWVbXSB7XG4gIGxldCByID0gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlW107XG4gIGlmICghcikge1xuICAgIHIgPSBbXTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUluKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB0YXJnZXQ6IEVsZW1lbnRTdHlsZSxcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gIHZpZXdDb25kaXRpb25NYXRjaGVyOiBNYXRjaGVycy5NYXRjaGVyIHwgbnVsbCxcbik6IHZvaWQge1xuICBjb25zdCBoaWVyYXJjaHkgPSBbXG4gICAgeyBpZDogcHNldWRvZWxlbWVudCwgc3R5bGVLZXk6IFwiX3BzZXVkb3NcIiB9LFxuICAgIHsgaWQ6IHJlZ2lvbklkLCBzdHlsZUtleTogXCJfcmVnaW9uc1wiIH0sXG4gIF07XG4gIGhpZXJhcmNoeS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0uaWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlTWFwID0gZ2V0TXV0YWJsZVN0eWxlTWFwKHRhcmdldCwgaXRlbS5zdHlsZUtleSk7XG4gICAgICB0YXJnZXQgPSBzdHlsZU1hcFtpdGVtLmlkXTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICAgICAgc3R5bGVNYXBbaXRlbS5pZF0gPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHZpZXdDb25kaXRpb25NYXRjaGVyKSB7XG4gICAgY29uc3Qgc3R5bGVNYXAgPSBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCh0YXJnZXQpO1xuICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZU1hcC5wdXNoKHtcbiAgICAgIHN0eWxlczogdGFyZ2V0IGFzIEVsZW1lbnRTdHlsZU1hcCxcbiAgICAgIG1hdGNoZXI6IHZpZXdDb25kaXRpb25NYXRjaGVyLFxuICAgIH0pO1xuICB9XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzdHlsZSkge1xuICAgIGlmIChpc01hcE5hbWUocHJvcCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaXNTcGVjaWFsTmFtZShwcm9wKSkge1xuICAgICAgLy8gc3BlY2lhbCBwcm9wZXJ0aWVzOiBsaXN0IG9mIGFsbCBhc3NpZ25lZCB2YWx1ZXNcbiAgICAgIGNvbnN0IGFzID0gZ2V0U3BlY2lhbChzdHlsZSwgcHJvcCk7XG4gICAgICBjb25zdCB0cyA9IGdldE11dGFibGVTcGVjaWFsKHRhcmdldCwgcHJvcCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0cywgYXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWd1bGFyIHByb3BlcnRpZXM6IGhpZ2hlciBwcmlvcml0eSB3aW5zXG4gICAgICBjb25zdCBhdiA9IGdldFByb3Aoc3R5bGUsIHByb3ApLmluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHkpO1xuICAgICAgY29uc3QgdHYgPSBnZXRQcm9wKHRhcmdldCwgcHJvcCk7XG4gICAgICBzZXRQcm9wKHRhcmdldCwgcHJvcCwgY2FzY2FkZVZhbHVlcyhjb250ZXh0LCB0diwgYXYpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBzdHlsZXM6IEVsZW1lbnRTdHlsZVtdLFxuKTogRWxlbWVudFN0eWxlIHtcbiAgY29uc3QgdGFyZ2V0ID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBmb3IgKGxldCBrID0gMDsgayA8IHN0eWxlcy5sZW5ndGg7IGsrKykge1xuICAgIG1lcmdlSW4oY29udGV4dCwgdGFyZ2V0LCBzdHlsZXNba10sIDAsIG51bGwsIG51bGwsIG51bGwpO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkFjdGlvbnMoXG4gIGNoYWluOiBDaGFpbmVkQWN0aW9uW10sXG4gIGFjdGlvbjogQ2FzY2FkZUFjdGlvbixcbik6IENhc2NhZGVBY3Rpb24ge1xuICBpZiAoY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgIGNoYWluLnNvcnQoKGEsIGIpID0+IGIuZ2V0UHJpb3JpdHkoKSAtIGEuZ2V0UHJpb3JpdHkoKSk7XG4gICAgbGV0IGNoYWluZWQ6IENoYWluZWRBY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNoYWluZWQgPSBjaGFpbltpXTtcbiAgICAgIGNoYWluZWQuY2hhaW5lZCA9IGFjdGlvbjtcbiAgICAgIGFjdGlvbiA9IGNoYWluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjaGFpbmVkO1xuICB9XG4gIHJldHVybiBhY3Rpb247XG59XG5cbmV4cG9ydCBjbGFzcyBJbmhlcml0YW5jZVZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIHByb3BOYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwcm9wczogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc2V0UHJvcE5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5wcm9wTmFtZSA9IG5hbWU7XG4gIH1cblxuICBwcml2YXRlIGdldEZvbnRTaXplKCkge1xuICAgIGNvbnN0IGNhc2N2YWwgPSBnZXRQcm9wKHRoaXMucHJvcHMsIFwiZm9udC1zaXplXCIpO1xuICAgIGNvbnN0IG4gPSBjYXNjdmFsLnZhbHVlIGFzIENzcy5OdW1lcmljO1xuICAgIGlmICghRXhwcnMuaXNBYnNvbHV0ZUxlbmd0aFVuaXQobi51bml0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG4ubnVtICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tuLnVuaXRdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PT0gXCJmb250LXNpemVcIikge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250U2l6ZVRvUHgobnVtZXJpYywgdGhpcy5nZXRGb250U2l6ZSgpLCB0aGlzLmNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJlbVwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJleFwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJyZW1cIlxuICAgICkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICB0aGlzLmdldEZvbnRTaXplKCksXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChudW1lcmljLnVuaXQgPT0gXCIlXCIpIHtcbiAgICAgIGlmICh0aGlzLnByb3BOYW1lID09PSBcImxpbmUtaGVpZ2h0XCIpIHtcbiAgICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgICB9XG4gICAgICBjb25zdCB1bml0ID0gdGhpcy5wcm9wTmFtZS5tYXRjaCgvaGVpZ2h0fF4odG9wfGJvdHRvbSkkLykgPyBcInZoXCIgOiBcInZ3XCI7XG4gICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bWVyaWMubnVtLCB1bml0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PSBcImZvbnQtc2l6ZVwiKSB7XG4gICAgICBjb25zdCB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyh0aGlzLmNvbnRleHQsIGV4cHIsIHRoaXMucHJvcE5hbWUpO1xuICAgICAgcmV0dXJuIHZhbC52aXNpdCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICBudW1lcmljOiBDc3MuTnVtZXJpYyxcbiAgYmFzZUZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJlbVwiIHx8IHVuaXQgPT09IFwiZXhcIikge1xuICAgIGNvbnN0IHJhdGlvID0gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1t1bml0XSAvIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXTtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIHJhdGlvICogYmFzZUZvbnRTaXplLCBcInB4XCIpO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09IFwicmVtXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIGNvbnRleHQuZm9udFNpemUoKSwgXCJweFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZvbnRTaXplVG9QeChcbiAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gIHBhcmVudEZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIG51bWVyaWMgPSBjb252ZXJ0Rm9udFJlbGF0aXZlTGVuZ3RoVG9QeChudW1lcmljLCBwYXJlbnRGb250U2l6ZSwgY29udGV4dCk7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJweFwiKSB7XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gXCIlXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKChudW0gLyAxMDApICogcGFyZW50Rm9udFNpemUsIFwicHhcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDc3MuTnVtZXJpYyhudW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpLCBcInB4XCIpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEFjdGlvblRhYmxlID0ge1xuICBba2V5OiBzdHJpbmddOiBDYXNjYWRlQWN0aW9uO1xufTtcblxuZXhwb3J0IGNsYXNzIENhc2NhZGVBY3Rpb24ge1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge31cblxuICBtZXJnZVdpdGgob3RoZXI6IENhc2NhZGVBY3Rpb24pOiBDYXNjYWRlQWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IENvbXBvdW5kQWN0aW9uKFt0aGlzLCBvdGhlcl0pO1xuICB9XG5cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgLy8gTXV0YWJsZSBhY3Rpb25zIHdpbGwgb3ZlcnJpZGVcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZGl0aW9uSXRlbUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uSXRlbTogQ29uZGl0aW9uSXRlbSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5wdXNoQ29uZGl0aW9uSXRlbShcbiAgICAgIHRoaXMuY29uZGl0aW9uSXRlbS5mcmVzaChjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvdW5kQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBsaXN0OiBDYXNjYWRlQWN0aW9uW10pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0W2ldLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWVyZ2VXaXRoKG90aGVyOiBDYXNjYWRlQWN0aW9uKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgdGhpcy5saXN0LnB1c2gob3RoZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBDb21wb3VuZEFjdGlvbihbXS5jb25jYXQodGhpcy5saXN0KSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcGx5UnVsZUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbWVyZ2VJbihcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGUsXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50LFxuICAgICAgdGhpcy5yZWdpb25JZCxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKHRoaXMudmlld0NvbmRpdGlvbklkKSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFpbmVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNoYWluZWQ6IENhc2NhZGVBY3Rpb24gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICAvLyBjYW5ub3QgYmUgbWFkZSBwcmltYXJ5XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0NsYXNzQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudENsYXNzTmFtZXMuaW5jbHVkZXModGhpcy5jbGFzc05hbWUpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxMDtcbiAgfVxuICAvLyBjbGFzcyBzaG91bGQgYmUgY2hlY2tlZCBhZnRlciBpZFxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5jbGFzc2VzLCB0aGlzLmNsYXNzTmFtZSwgdGhpcy5jaGFpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrSWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudElkID09IHRoaXMuaWQgfHxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50WG1sSWQgPT0gdGhpcy5pZFxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTE7XG4gIH1cbiAgLy8gaWQgc2hvdWxkIGJlIGNoZWNrZWQgYWZ0ZXIgOnJvb3RcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuaWRzLCB0aGlzLmlkLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tMb2NhbE5hbWVBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxvY2FsTmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IHRoaXMubG9jYWxOYW1lKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA4O1xuICB9XG4gIC8vIHRhZyBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrLCBhZnRlciBlcHViOnR5cGVcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUudGFncywgdGhpcy5sb2NhbE5hbWUsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05TVGFnQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgbG9jYWxOYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZSA9PSB0aGlzLmxvY2FsTmFtZSAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2UgPT0gdGhpcy5uc1xuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gODtcbiAgfVxuICAvLyB0YWcgaXMgYSBwcmV0dHkgZ29vZCB0aGluZyB0byBjaGVjaywgYWZ0ZXIgZXB1Yjp0eXBlXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgIGxldCBwcmVmaXggPSBjYXNjYWRlLm5zUHJlZml4W3RoaXMubnNdO1xuICAgICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgICAgcHJlZml4ID0gYG5zJHtjYXNjYWRlLm5zQ291bnQrK306YDtcbiAgICAgICAgY2FzY2FkZS5uc1ByZWZpeFt0aGlzLm5zXSA9IHByZWZpeDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5zVGFnID0gcHJlZml4ICsgdGhpcy5sb2NhbE5hbWU7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5uc3RhZ3MsIG5zVGFnLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tUYXJnZXRFcHViVHlwZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZXB1YlR5cGVQYXR0OiBSZWdFeHApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmIChlbGVtICYmIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IFwiYVwiKSB7XG4gICAgICBjb25zdCBocmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKGhyZWYgJiYgaHJlZi5tYXRjaCgvXiMvKSkge1xuICAgICAgICBjb25zdCBpZCA9IGhyZWYuc3Vic3RyaW5nKDEpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbGVtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgZXB1YlR5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgICAgICAgaWYgKGVwdWJUeXBlICYmIGVwdWJUeXBlLm1hdGNoKHRoaXMuZXB1YlR5cGVQYXR0KSkge1xuICAgICAgICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05hbWVzcGFjZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZSA9PSB0aGlzLm5zKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudCAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZU5TKHRoaXMubnMsIHRoaXMubmFtZSlcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogc3RyaW5nLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQgJiZcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyh0aGlzLm5zLCB0aGlzLm5hbWUpID09XG4gICAgICAgIHRoaXMudmFsdWVcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubmFtZSA9PSBcInR5cGVcIiAmJiB0aGlzLm5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgcmV0dXJuIDk7IC8vIGVwdWI6dHlwZSBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrXG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm5hbWUgPT0gXCJ0eXBlXCIgJiYgdGhpcy5ucyA9PSBCYXNlLk5TLmVwdWIpIHtcbiAgICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuZXB1YnR5cGVzLCB0aGlzLnZhbHVlLCB0aGlzLmNoYWluZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50KSB7XG4gICAgICBjb25zdCBucyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgdGhpcy5ucyxcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgKTtcbiAgICAgIGlmIChucyAmJiBzdXBwb3J0ZWROYW1lc3BhY2VzW25zXSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoXG4gICAgICAgIHRoaXMubnMsXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICk7XG4gICAgICBpZiAoYXR0ciAmJiBhdHRyLm1hdGNoKHRoaXMucmVnZXhwKSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrTGFuZ0FjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbGFuZ1JlZ0V4cDogUmVnRXhwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5sYW5nLm1hdGNoKHRoaXMubGFuZ1JlZ0V4cCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNGaXJzdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzRmlyc3QpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDY7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUm9vdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzUm9vdCkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTI7IC8vIDpyb290IGlzIHRoZSBmaXJzdCB0aGluZyB0byBjaGVja1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc050aEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgYTogbnVtYmVyLCBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja2VzIHdoZXRoZXIgZ2l2ZW4gb3JkZXIgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGFuK2Igd2l0aCBhIG5vbi1uZWdhdGl2ZVxuICAgKiBpbnRlcmdlciBuXG4gICAqL1xuICBwcm90ZWN0ZWQgbWF0Y2hBTlBsdXNCKG9yZGVyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gTWF0Y2hlcnMubWF0Y2hBTlBsdXNCKG9yZGVyLCB0aGlzLmEsIHRoaXMuYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoU2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U2libGluZ09yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uIGV4dGVuZHMgSXNOdGhBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIHN1cGVyKGEsIGIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBvcmRlciA9XG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW1xuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXVtjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZV07XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKG9yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhMYXN0U2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbGV0IG9yZGVyID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXI7XG4gICAgaWYgKG9yZGVyID09PSBudWxsKSB7XG4gICAgICBvcmRlciA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID1cbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGUuY2hpbGRFbGVtZW50Q291bnQgLVxuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdPcmRlciArXG4gICAgICAgIDE7XG4gICAgfVxuICAgIGlmICh0aGlzLm1hdGNoQU5QbHVzQihvcmRlcikpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24gZXh0ZW5kcyBJc050aEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoYSwgYik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGNvdW50cyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHM7XG4gICAgaWYgKCFjb3VudHNbY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2VdKSB7XG4gICAgICBsZXQgZWxlbSA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbnMgPSBlbGVtLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGxldCBuc0NvdW50cyA9IGNvdW50c1tuc107XG4gICAgICAgIGlmICghbnNDb3VudHMpIHtcbiAgICAgICAgICBuc0NvdW50cyA9IGNvdW50c1tuc10gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBuc0NvdW50c1tsb2NhbE5hbWVdID0gKG5zQ291bnRzW2xvY2FsTmFtZV0gfHwgMCkgKyAxO1xuICAgICAgfSB3aGlsZSAoKGVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZykpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLm1hdGNoQU5QbHVzQihcbiAgICAgICAgY291bnRzW2Nhc2NhZGVJbnN0YW5jZS5jdXJyZW50TmFtZXNwYWNlXVtcbiAgICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZVxuICAgICAgICBdLFxuICAgICAgKVxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbXB0eUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBsZXQgbm9kZTogTm9kZSB8IG51bGwgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgIGlmICgobm9kZSBhcyBUZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbmFibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0Rpc2FibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzQ2hlY2tlZEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmICgoZWxlbSBhcyBhbnkpLnNlbGVjdGVkID09PSB0cnVlIHx8IChlbGVtIGFzIGFueSkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tDb25kaXRpb25BY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucHVzaCh0aGlzLmNvbmRpdGlvbik7XG4gICAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBcHBsaWVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGFwcGxpZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICB0aGlzLmFwcGxpZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IENoZWNrQXBwbGllZEFjdGlvbigpO1xuICAgIGNsb25lZC5hcHBsaWVkID0gdGhpcy5hcHBsaWVkO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZUFjdGlvbnNTZXQgZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY2hlY2tBcHBsaWVkQWN0aW9uOiBDaGVja0FwcGxpZWRBY3Rpb247XG4gIGZpcnN0QWN0aW9uOiBDYXNjYWRlQWN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGxpc3Q6IENoYWluZWRBY3Rpb25bXSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGVja0FwcGxpZWRBY3Rpb24gPSBuZXcgQ2hlY2tBcHBsaWVkQWN0aW9uKCk7XG4gICAgdGhpcy5maXJzdEFjdGlvbiA9IGNoYWluQWN0aW9ucyhsaXN0LCB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuZmlyc3RBY3Rpb24uYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICBpZiAoIXRoaXMuY2hlY2tBcHBsaWVkQWN0aW9uLmFwcGxpZWQpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbi5hcHBsaWVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy5maXJzdEFjdGlvbiBhcyBDaGFpbmVkQWN0aW9uKS5nZXRQcmlvcml0eSgpO1xuICB9XG59XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgaXMgbm90aWZpZWQgYXMgZWxlbWVudHMgYXJlIHB1c2hlZCBhbmQgcG9wcGVkIGFuZCB0eXBpY2FsbHlcbiAqIGNvbnRyb2xzIGEgXCJuYW1lZCBjb25kaXRpb25cIiAod2hpY2ggaXMgYSBjb3VudCBhc3NvY2lhdGVkIHdpdGggYSBuYW1lKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25kaXRpb25JdGVtIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBcImZyZXNoXCIgY29weSBvZiB0aGlzIGl0ZW0uIE1heSBiZSB0aGlzIGlmIGltbXV0YWJsZS5cbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbTtcblxuICAvKipcbiAgICogRGVwdGggaXMgMCBmb3IgZWxlbWVudCBpdHNlbGYgYW5kIGl0cyBzaWJsaW5ncywgMSBmb3IgZGlyZWN0IGNoaWxkcmVuIGFuZFxuICAgKiAtMSBmb3IgdGhlIHBhcmVudC5cbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIG5vIG1vcmUgbm90aWZpY2F0aW9ucyBhcmUgZGVzaXJlZFxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0Q29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHt9XG5cbiAgaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKSB7XG4gICAgY2FzY2FkZUluc3RhbmNlLmluY3JlbWVudCh0aGlzLmNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIGRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSkge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5kZWNyZW1lbnQodGhpcy5jb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbik7XG4gIH1cblxuICBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLFxuICApOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICByZXR1cm4gY2FzY2FkZUluc3RhbmNlLmJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIodGhpcy52aWV3Q29uZGl0aW9uSWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbSBleHRlbmRzIEFic3RyYWN0Q29uZGl0aW9uSXRlbVxuICBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IERlc2NlbmRhbnRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hpbGRDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHtcbiAgICBzdXBlcihjb25kaXRpb24sIHZpZXdDb25kaXRpb25JZCwgdmlld0NvbmRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiBuZXcgQ2hpbGRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMSkge1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGZpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZGl0aW9uOiBzdHJpbmcsXG4gICAgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIsXG4gICkge1xuICAgIHN1cGVyKGNvbmRpdGlvbiwgdmlld0NvbmRpdGlvbklkLCB2aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIC8vIExlYXZpbmcgZWxlbWVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGl0ZW0uXG4gICAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9sbG93aW5nU2libGluZ0NvbmRpdGlvbkl0ZW0gZXh0ZW5kcyBBYnN0cmFjdENvbmRpdGlvbkl0ZW1cbiAgaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgZmlyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IEZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIGlmIChkZXB0aCA9PSAtMSkge1xuICAgICAgICB0aGlzLmluY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmZpcmVkKSB7XG4gICAgICBpZiAoZGVwdGggPT0gLTEpIHtcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgLy8gTGVhdmluZyBlbGVtZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgaXRlbS5cbiAgICAgICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdCBhIHRydWUgY29uZGl0aW9uIGl0ZW0sIHRoaXMgY2xhc3MgbWFuYWdlcyBwcm9wZXIgaGFuZGxpbmcgb2YgXCJhZnRlclwiXG4gKiBwc2V1ZG9lbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbSBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWZ0ZXJwcm9wOiBFbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQsXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UucHJvY2Vzc1BzZXVkb2VsZW1lbnRQcm9wcyh0aGlzLmFmdGVycHJvcCwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIHJlc3RvcmVzIGN1cnJlbnQgbGFuZ3VhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN0b3JlTGFuZ0l0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxhbmc6IHN0cmluZykge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UubGFuZyA9IHRoaXMubGFuZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIG1hbmFnZXMgaW5oZXJpdGFuY2Ugb2YgcXVvdGVzIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBjbGFzcyBRdW90ZXNTY29wZUl0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG9sZFF1b3RlczogQ3NzLlN0cltdKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5xdW90ZXMgPSB0aGlzLm9sZFF1b3RlcztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCB0eXBlIENvdW50ZXJWYWx1ZXMgPSB7XG4gIFtrZXk6IHN0cmluZ106IG51bWJlcltdO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyTGlzdGVuZXIge1xuICBjb3VudGVyc09mSWQoaWQ6IHN0cmluZywgY291bnRlcnM6IENvdW50ZXJWYWx1ZXMpO1xuXG4gIGdldEV4cHJDb250ZW50TGlzdGVuZXIoKTogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUmVzb2x2ZXIge1xuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIGlubmVybW9zdCBwYWdlLWJhc2VkIGNvdW50ZXIgKG51bGwgaWYgaXQgZG9lcyBub3QgZXhpc3QpIGJ5XG4gICAqIGl0cyBuYW1lIGFuZCBmb3JtYXR0aW5nIHRoZSB2YWx1ZSBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXIgdG8gYmUgcmV0cmlldmVkXG4gICAqIEBwYXJhbSBmb3JtYXQgQSBmdW5jdGlvbiB0aGF0IGZvcm1hdHMgdGhlIGNvdW50ZXIgdmFsdWUgaW50byBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0UGFnZUNvdW50ZXJWYWwoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXIgfCBudWxsKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbDtcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIHBhZ2UtYmFzZWQgY291bnRlcnMgYnkgaXRzIG5hbWUgYW5kIGZvcm1hdHRpbmcgdGhlIHZhbHVlc1xuICAgKiBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHRvIGJlIHJldHJpZXZlZFxuICAgKiBAcGFyYW0gZm9ybWF0IEEgZnVuY3Rpb24gdGhhdCBmb3JtYXRzIHRoZSBjb3VudGVyIHZhbHVlcyAocGFzc2VkIGFzIGFuXG4gICAqICAgICBhcnJheSBvcmRlcmVkIGJ5IHRoZSBuZXN0aW5nIGRlcHRoIHdpdGggdGhlIG91dGVybW9zdCBjb3VudGVyIGZpcnN0IGFuZFxuICAgKiAgICAgdGhlIGlubmVybW9zdCBsYXN0KSBpbnRvIGEgc3RyaW5nXG4gICAqL1xuICBnZXRQYWdlQ291bnRlcnNWYWwobmFtZTogc3RyaW5nLCBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyk6IEV4cHJzLlZhbDtcblxuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogYW55KTtcbn1cblxuZXhwb3J0IGNsYXNzIEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVmFsdWVGcm9tU3RyaW5nKHN0cjogc3RyaW5nIHwgbnVsbCwgdHlwZTogc3RyaW5nKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5VUkwoc3RyKTsgLy8gVE9ETyBzaG91bGQgY29udmVydCB0byBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuVVJMKFwiYWJvdXQ6aW52YWxpZFwiKTtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoXCJcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgaWYgKGZ1bmMubmFtZSAhPT0gXCJhdHRyXCIpIHtcbiAgICAgIHJldHVybiBzdXBlci52aXNpdEZ1bmMoZnVuYyk7XG4gICAgfVxuICAgIGxldCB0eXBlID0gXCJzdHJpbmdcIjtcbiAgICBsZXQgYXR0cmlidXRlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGRlZmF1bHRWYWx1ZTogQ3NzLlZhbCA9IG51bGw7XG4gICAgaWYgKGZ1bmMudmFsdWVzWzBdIGluc3RhbmNlb2YgQ3NzLlNwYWNlTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGZ1bmMudmFsdWVzWzBdIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcztcbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdHlwZSA9IHZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlTmFtZSA9IHZhbHVlc1swXS5zdHJpbmdWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRyaWJ1dGVOYW1lID0gZnVuYy52YWx1ZXNbMF0uc3RyaW5nVmFsdWUoKTtcbiAgICB9XG4gICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICBmdW5jLnZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFZhbHVlID0gdGhpcy5jcmVhdGVWYWx1ZUZyb21TdHJpbmcobnVsbCwgdHlwZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudFByb3BWaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY2FzY2FkZTogQ2FzY2FkZUluc3RhbmNlLFxuICAgIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyUmVzb2x2ZXI6IENvdW50ZXJSZXNvbHZlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNhc2NhZGUgPSB0aGlzLmNhc2NhZGU7XG4gICAgY29uc3QgcXVvdGVzID0gY2FzY2FkZS5xdW90ZXM7XG4gICAgY29uc3QgbWF4RGVwdGggPSBNYXRoLmZsb29yKHF1b3Rlcy5sZW5ndGggLyAyKSAtIDE7XG4gICAgc3dpdGNoIChpZGVudC5uYW1lKSB7XG4gICAgICBjYXNlIFwib3Blbi1xdW90ZVwiOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHF1b3Rlc1syICogTWF0aC5taW4obWF4RGVwdGgsIGNhc2NhZGUucXVvdGVEZXB0aCldO1xuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJjbG9zZS1xdW90ZVwiOlxuICAgICAgICBpZiAoY2FzY2FkZS5xdW90ZURlcHRoID4gMCkge1xuICAgICAgICAgIGNhc2NhZGUucXVvdGVEZXB0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdW90ZXNbMiAqIE1hdGgubWluKG1heERlcHRoLCBjYXNjYWRlLnF1b3RlRGVwdGgpICsgMV07XG4gICAgICBjYXNlIFwibm8tb3Blbi1xdW90ZVwiOlxuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgICAgY2FzZSBcIm5vLWNsb3NlLXF1b3RlXCI6XG4gICAgICAgIGlmIChjYXNjYWRlLnF1b3RlRGVwdGggPiAwKSB7XG4gICAgICAgICAgY2FzY2FkZS5xdW90ZURlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdChudW06IG51bWJlciwgdHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgdXBwZXIgPSBmYWxzZTsgLy8gdHlwZSA9PSBcImFybWVuaWFuXCI7XG4gICAgLy8gY29udGVudC1jb3VudGVyLTEwLnhodCBhc3N1bWVzIGFybWVuaWFuIGlzIHVwcGVyY2FzZSwgZW5hYmxlIGlmIGRlc2lyZWRcblxuICAgIGxldCBsb3dlciA9IGZhbHNlO1xuICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmICgociA9IHR5cGUubWF0Y2goL151cHBlci0oLiopLykpICE9IG51bGwpIHtcbiAgICAgIHVwcGVyID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSByWzFdO1xuICAgIH0gZWxzZSBpZiAoKHIgPSB0eXBlLm1hdGNoKC9ebG93ZXItKC4qKS8pKSAhPSBudWxsKSB7XG4gICAgICBsb3dlciA9IHRydWU7XG4gICAgICB0eXBlID0gclsxXTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKGFkZGl0aXZlTnVtYmVyaW5nW3R5cGVdKSB7XG4gICAgICByZXN1bHQgPSBhZGRpdGl2ZUZvcm1hdChhZGRpdGl2ZU51bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGFscGhhYmV0aWNOdW1iZXJpbmdbdHlwZV0pIHtcbiAgICAgIHJlc3VsdCA9IGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRpY051bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGZpeGVkW3R5cGVdICE9IG51bGwpIHtcbiAgICAgIHJlc3VsdCA9IGZpeGVkW3R5cGVdO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCIpIHtcbiAgICAgIHJlc3VsdCA9IGAke251bX1gO1xuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBgMCR7cmVzdWx0fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiY2prLWlkZW9ncmFwaGljXCIgfHwgdHlwZSA9PSBcInRyYWQtY2hpbmVzZS1pbmZvcm1hbFwiKSB7XG4gICAgICByZXN1bHQgPSBjaGluZXNlQ291bnRlcihudW0sIGNoaW5lc2VUcmFkSW5mb3JtYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBgJHtudW19YDtcbiAgICB9XG4gICAgaWYgKHVwcGVyKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChsb3dlcikge1xuICAgICAgcmV0dXJuIHJlc3VsdC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmlzaXRGdW5jQ291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzBdLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAxID8gdmFsdWVzWzFdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmNhc2NhZGUuY291bnRlcnNbY291bnRlck5hbWVdO1xuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xuICAgICAgY29uc3QgbnVtdmFsID0gKGFyciAmJiBhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0pIHx8IDA7XG4gICAgICByZXR1cm4gbmV3IENzcy5TdHIodGhpcy5mb3JtYXQobnVtdmFsLCB0eXBlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0UGFnZUNvdW50ZXJWYWwoY291bnRlck5hbWUsIChudW12YWwpID0+XG4gICAgICAgICAgc2VsZi5mb3JtYXQobnVtdmFsIHx8IDAsIHR5cGUpLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICAgIH1cbiAgfVxuXG4gIHZpc2l0RnVuY0NvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgY291bnRlck5hbWUgPSB2YWx1ZXNbMF0udG9TdHJpbmcoKTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB2YWx1ZXNbMV0uc3RyaW5nVmFsdWUoKTtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmxlbmd0aCA+IDIgPyB2YWx1ZXNbMl0uc3RyaW5nVmFsdWUoKSA6IFwiZGVjaW1hbFwiO1xuICAgIGNvbnN0IGFyciA9IHRoaXMuY2FzY2FkZS5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICBpZiAoYXJyICYmIGFyci5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHNiLmFwcGVuZChzZXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmZvcm1hdChhcnJbaV0sIHR5cGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFBhZ2VDb3VudGVyc1ZhbChjb3VudGVyTmFtZSwgKG51bXZhbHMpID0+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICAgICAgaWYgKG51bXZhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW12YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHNlbGYuZm9ybWF0KG51bXZhbHNbaV0sIHR5cGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ZXJzID0gc2IudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGVsZW1lbnRDb3VudGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVsZW1lbnRDb3VudGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0KDAsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgdmlzaXRGdW5jVGFyZ2V0Q291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IHRhcmdldFVybCA9IHZhbHVlc1swXTtcbiAgICBsZXQgdGFyZ2V0VXJsU3RyOiBzdHJpbmc7XG4gICAgaWYgKHRhcmdldFVybCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC51cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgICBjb25zdCBjb3VudGVyTmFtZSA9IHZhbHVlc1sxXS50b1N0cmluZygpO1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZXMubGVuZ3RoID4gMiA/IHZhbHVlc1syXS5zdHJpbmdWYWx1ZSgpIDogXCJkZWNpbWFsXCI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFRhcmdldENvdW50ZXJWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWwpID0+IHNlbGYuZm9ybWF0KG51bXZhbCB8fCAwLCB0eXBlKSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IENzcy5TcGFjZUxpc3QoW2NdKTtcbiAgfVxuXG4gIHZpc2l0RnVuY1RhcmdldENvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdGFyZ2V0VXJsID0gdmFsdWVzWzBdO1xuICAgIGxldCB0YXJnZXRVcmxTdHI6IHN0cmluZztcbiAgICBpZiAodGFyZ2V0VXJsIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnN0cmluZ1ZhbHVlKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzFdLnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gdmFsdWVzWzJdLnN0cmluZ1ZhbHVlKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAzID8gdmFsdWVzWzNdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWxzKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBudW12YWxzLm1hcCgobnVtdmFsKSA9PiBzZWxmLmZvcm1hdChudW12YWwsIHR5cGUpKTtcbiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydHMuam9pbihzZXBhcmF0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXQoMCwgdHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoIChmdW5jLm5hbWUpIHtcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXIoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJzXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXJzKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlclwiOlxuICAgICAgICBpZiAoZnVuYy52YWx1ZXMubGVuZ3RoIDw9IDMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEZ1bmNUYXJnZXRDb3VudGVyKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlcnNcIjpcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA8PSA0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9DU1NfQ09OVEVOVF9QUk9QOlwiLCBmdW5jLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBuZXcgQ3NzLlN0cihcIlwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9tYW4obnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSB8fCBudW0gPiAzOTk5KSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgZGlnaXRzID0gW1wiSVwiLCBcIlZcIiwgXCJYXCIsIFwiTFwiLCBcIkNcIiwgXCJEXCIsIFwiTVwiXTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGxldCBhY2MgPSBcIlwiO1xuICB3aGlsZSAobnVtID4gMCkge1xuICAgIGxldCBkaWdpdCA9IG51bSAlIDEwO1xuICAgIG51bSA9IChudW0gLSBkaWdpdCkgLyAxMDtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBpZiAoZGlnaXQgPT0gOSkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDJdO1xuICAgIH0gZWxzZSBpZiAoZGlnaXQgPT0gNCkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGlnaXQgPj0gNSkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldCArIDFdO1xuICAgICAgICBkaWdpdCAtPSA1O1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRpZ2l0ID4gMCkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldF07XG4gICAgICAgIGRpZ2l0LS07XG4gICAgICB9XG4gICAgfVxuICAgIGFjYyA9IHJlc3VsdCArIGFjYztcbiAgICBvZmZzZXQgKz0gMjtcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuXG5leHBvcnQgY29uc3QgYWRkaXRpdmVOdW1iZXJpbmcgPSB7XG4gIHJvbWFuOiBbXG4gICAgNDk5OSxcbiAgICAxMDAwLFxuICAgIFwiTVwiLFxuICAgIDkwMCxcbiAgICBcIkNNXCIsXG4gICAgNTAwLFxuICAgIFwiRFwiLFxuICAgIDQwMCxcbiAgICBcIkNEXCIsXG4gICAgMTAwLFxuICAgIFwiQ1wiLFxuICAgIDkwLFxuICAgIFwiWENcIixcbiAgICA1MCxcbiAgICBcIkxcIixcbiAgICA0MCxcbiAgICBcIlhMXCIsXG4gICAgMTAsXG4gICAgXCJYXCIsXG4gICAgOSxcbiAgICBcIklYXCIsXG4gICAgNSxcbiAgICBcIlZcIixcbiAgICA0LFxuICAgIFwiSVZcIixcbiAgICAxLFxuICAgIFwiSVwiLFxuICBdLFxuICBhcm1lbmlhbjogW1xuICAgIDk5OTksXG4gICAgOTAwMCxcbiAgICBcIlxcdTA1ODRcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MDU4M1wiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUwNTgyXCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTA1ODFcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MDU4MFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUwNTdmXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTA1N2VcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MDU3ZFwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUwNTdjXCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MDU3YlwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTA1N2FcIixcbiAgICA3MDAsXG4gICAgXCJcXHUwNTc5XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MDU3OFwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTA1NzdcIixcbiAgICA0MDAsXG4gICAgXCJcXHUwNTc2XCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDU3NVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1NzRcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNTczXCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNTcyXCIsXG4gICAgODAsXG4gICAgXCJcXHUwNTcxXCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNTcwXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNTZmXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNTZlXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNTZkXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNTZjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNTZiXCIsXG4gICAgMTAsXG4gICAgXCJcXHUwNTZhXCIsXG4gICAgOSxcbiAgICBcIlxcdTA1NjlcIixcbiAgICA4LFxuICAgIFwiXFx1MDU2OFwiLFxuICAgIDcsXG4gICAgXCJcXHUwNTY3XCIsXG4gICAgNixcbiAgICBcIlxcdTA1NjZcIixcbiAgICA1LFxuICAgIFwiXFx1MDU2NVwiLFxuICAgIDQsXG4gICAgXCJcXHUwNTY0XCIsXG4gICAgMyxcbiAgICBcIlxcdTA1NjNcIixcbiAgICAyLFxuICAgIFwiXFx1MDU2MlwiLFxuICAgIDEsXG4gICAgXCJcXHUwNTYxXCIsXG4gIF0sXG4gIGdlb3JnaWFuOiBbXG4gICAgMTk5OTksXG4gICAgMTAwMDAsXG4gICAgXCJcXHUxMGY1XCIsXG4gICAgOTAwMCxcbiAgICBcIlxcdTEwZjBcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MTBlZlwiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUxMGY0XCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTEwZWVcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MTBlZFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUxMGVjXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTEwZWJcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MTBlYVwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUxMGU5XCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MTBlOFwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTEwZTdcIixcbiAgICA3MDAsXG4gICAgXCJcXHUxMGU2XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MTBlNVwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTEwZTRcIixcbiAgICA0MDAsXG4gICAgXCJcXHUxMGYzXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MTBlMlwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTEwZTFcIixcbiAgICAxMDAsXG4gICAgXCJcXHUxMGUwXCIsXG4gICAgOTAsXG4gICAgXCJcXHUxMGRmXCIsXG4gICAgODAsXG4gICAgXCJcXHUxMGRlXCIsXG4gICAgNzAsXG4gICAgXCJcXHUxMGRkXCIsXG4gICAgNjAsXG4gICAgXCJcXHUxMGYyXCIsXG4gICAgNTAsXG4gICAgXCJcXHUxMGRjXCIsXG4gICAgNDAsXG4gICAgXCJcXHUxMGRiXCIsXG4gICAgMzAsXG4gICAgXCJcXHUxMGRhXCIsXG4gICAgMjAsXG4gICAgXCJcXHUxMGQ5XCIsXG4gICAgMTAsXG4gICAgXCJcXHUxMGQ4XCIsXG4gICAgOSxcbiAgICBcIlxcdTEwZDdcIixcbiAgICA4LFxuICAgIFwiXFx1MTBmMVwiLFxuICAgIDcsXG4gICAgXCJcXHUxMGQ2XCIsXG4gICAgNixcbiAgICBcIlxcdTEwZDVcIixcbiAgICA1LFxuICAgIFwiXFx1MTBkNFwiLFxuICAgIDQsXG4gICAgXCJcXHUxMGQzXCIsXG4gICAgMyxcbiAgICBcIlxcdTEwZDJcIixcbiAgICAyLFxuICAgIFwiXFx1MTBkMVwiLFxuICAgIDEsXG4gICAgXCJcXHUxMGQwXCIsXG4gIF0sXG4gIGhlYnJldzogW1xuICAgIDk5OSxcbiAgICA0MDAsXG4gICAgXCJcXHUwNWVhXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDVlOVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1ZThcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNWU3XCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNWU2XCIsXG4gICAgODAsXG4gICAgXCJcXHUwNWU0XCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNWUyXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNWUxXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNWUwXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNWRlXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNWRjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNWRiXCIsXG4gICAgMTksXG4gICAgXCJcXHUwNWQ5XFx1MDVkOFwiLFxuICAgIDE4LFxuICAgIFwiXFx1MDVkOVxcdTA1ZDdcIixcbiAgICAxNyxcbiAgICBcIlxcdTA1ZDlcXHUwNWQ2XCIsXG4gICAgMTYsXG4gICAgXCJcXHUwNWQ4XFx1MDVkNlwiLFxuICAgIDE1LFxuICAgIFwiXFx1MDVkOFxcdTA1ZDVcIixcbiAgICAxMCxcbiAgICBcIlxcdTA1ZDlcIixcbiAgICA5LFxuICAgIFwiXFx1MDVkOFwiLFxuICAgIDgsXG4gICAgXCJcXHUwNWQ3XCIsXG4gICAgNyxcbiAgICBcIlxcdTA1ZDZcIixcbiAgICA2LFxuICAgIFwiXFx1MDVkNVwiLFxuICAgIDUsXG4gICAgXCJcXHUwNWQ0XCIsXG4gICAgNCxcbiAgICBcIlxcdTA1ZDNcIixcbiAgICAzLFxuICAgIFwiXFx1MDVkMlwiLFxuICAgIDIsXG4gICAgXCJcXHUwNWQxXCIsXG4gICAgMSxcbiAgICBcIlxcdTA1ZDBcIixcbiAgXSxcbn07XG5cbmV4cG9ydCBjb25zdCBhbHBoYWJldGljTnVtYmVyaW5nID0ge1xuICBsYXRpbjogXCJhLXpcIixcbiAgYWxwaGE6IFwiYS16XCIsXG4gIGdyZWVrOiBcIlxcdTAzYjEtXFx1MDNjMVxcdTAzYzMtXFx1MDNjOVwiLFxuICBydXNzaWFuOiBcIlxcdTA0MzAtXFx1MDQzOFxcdTA0M2EtXFx1MDQ0OVxcdTA0NGQtXFx1MDQ0ZlwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZpeGVkID0ge1xuICBzcXVhcmU6IFwiXFx1MjVhMFwiLFxuICBkaXNjOiBcIlxcdTIwMjJcIixcbiAgY2lyY2xlOiBcIlxcdTI1ZTZcIixcbiAgbm9uZTogXCJcIixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRpdGl2ZUZvcm1hdChlbnRyaWVzOiBhbnlbXSwgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBtYXggPSBlbnRyaWVzWzBdIGFzIG51bWJlcjtcbiAgaWYgKG51bSA+IG1heCB8fCBudW0gPD0gMCB8fCBudW0gIT0gTWF0aC5yb3VuZChudW0pKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZW50cmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IHZhbHVlID0gZW50cmllc1tpXSBhcyBudW1iZXI7XG4gICAgbGV0IGNvdW50ID0gTWF0aC5mbG9vcihudW0gLyB2YWx1ZSk7XG4gICAgaWYgKGNvdW50ID4gMjApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBudW0gLT0gY291bnQgKiB2YWx1ZTtcbiAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICByZXN1bHQgKz0gZW50cmllc1tpICsgMV07XG4gICAgICBjb3VudC0tO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQWxwaGFiZXQoc3RyOiBzdHJpbmcpOiBzdHJpbmdbXSB8IG51bGwge1xuICBjb25zdCBhcnIgPSBbXTtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICBpZiAoc3RyLnN1YnN0cihpICsgMSwgMSkgPT0gXCItXCIpIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBjb25zdCBsYXN0ID0gc3RyLmNoYXJDb2RlQXQoaSArIDIpO1xuICAgICAgaSArPSAzO1xuICAgICAgZm9yIChsZXQgayA9IGZpcnN0OyBrIDw9IGxhc3Q7IGsrKykge1xuICAgICAgICBhcnIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGspKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goc3RyLnN1YnN0cihpKyssIDEpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRTdHI6IHN0cmluZywgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGFscGhhYmV0ID0gZXhwYW5kQWxwaGFiZXQoYWxwaGFiZXRTdHIpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgZG8ge1xuICAgIG51bS0tO1xuICAgIGNvbnN0IGRpZ2l0ID0gbnVtICUgYWxwaGFiZXQubGVuZ3RoO1xuICAgIHJlc3VsdCA9IGFscGhhYmV0W2RpZ2l0XSArIHJlc3VsdDtcbiAgICBudW0gPSAobnVtIC0gZGlnaXQpIC8gYWxwaGFiZXQubGVuZ3RoO1xuICB9IHdoaWxlIChudW0gPiAwKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hpbmVzZU51bWJlcmluZyA9IHtcbiAgZGlnaXRzOiBzdHJpbmc7XG4gIG1hcmtlcnM6IHN0cmluZztcbiAgbmVnYXRpdmU6IHN0cmluZztcbiAgZm9ybWFsOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBGcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtbGlzdHMvXG4gKi9cbmV4cG9ydCBjb25zdCBjaGluZXNlVHJhZEluZm9ybWFsOiBDaGluZXNlTnVtYmVyaW5nID0ge1xuICBmb3JtYWw6IGZhbHNlLFxuICBkaWdpdHM6IFwiXFx1OTZmNlxcdTRlMDBcXHU0ZThjXFx1NGUwOVxcdTU2ZGJcXHU0ZTk0XFx1NTE2ZFxcdTRlMDNcXHU1MTZiXFx1NGU1ZFwiLFxuICBtYXJrZXJzOiBcIlxcdTUzNDFcXHU3NjdlXFx1NTM0M1wiLFxuICBuZWdhdGl2ZTogXCJcXHU4Y2EwXCIsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY2hpbmVzZUNvdW50ZXIoXG4gIG51bTogbnVtYmVyLFxuICBudW1iZXJpbmc6IENoaW5lc2VOdW1iZXJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAobnVtID4gOTk5OSB8fCBudW0gPCAtOTk5OSkge1xuICAgIHJldHVybiBgJHtudW19YDsgLy8gVE9ETzogc2hvdWxkIGJlIGNqay1kZWNpbWFsXG4gIH1cbiAgaWYgKG51bSA9PSAwKSB7XG4gICAgcmV0dXJuIG51bWJlcmluZy5kaWdpdHMuY2hhckF0KDApO1xuICB9XG4gIGNvbnN0IHJlcyA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBpZiAobnVtIDwgMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm5lZ2F0aXZlKTtcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIGlmIChudW0gPCAxMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQobnVtKSk7XG4gIH0gZWxzZSBpZiAoIW51bWJlcmluZy5mb3JtYWwgJiYgbnVtIDw9IDE5KSB7XG4gICAgcmVzLmFwcGVuZChudW1iZXJpbmcubWFya2Vycy5jaGFyQXQoMCkpO1xuICAgIGlmIChudW0gIT0gMCkge1xuICAgICAgcmVzLmFwcGVuZChudW1iZXJpbmcuZGlnaXRzLmNoYXJBdChudW0gLSAxMCkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0aG91c2FuZHMgPSBNYXRoLmZsb29yKG51bSAvIDEwMDApO1xuICAgIGlmICh0aG91c2FuZHMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQodGhvdXNhbmRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgyKSk7XG4gICAgfVxuICAgIGNvbnN0IGh1bmRyZWRzID0gTWF0aC5mbG9vcihudW0gLyAxMDApICUgMTA7XG4gICAgaWYgKGh1bmRyZWRzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KGh1bmRyZWRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgxKSk7XG4gICAgfVxuICAgIGNvbnN0IHRlbnMgPSBNYXRoLmZsb29yKG51bSAvIDEwKSAlIDEwO1xuICAgIGlmICh0ZW5zKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KHRlbnMpKTtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm1hcmtlcnMuY2hhckF0KDApKTtcbiAgICB9XG4gICAgY29uc3Qgb25lcyA9IG51bSAlIDEwO1xuICAgIGlmIChvbmVzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KG9uZXMpKTtcbiAgICB9XG4gIH1cblxuICAvLyByZXMuYXBwZW5kKFwiXFx1MzAwMVwiKTtcbiAgcmV0dXJuIHJlcy50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEZpdHRpbmcgb3JkZXIgYW5kIHNwZWNpZmljaXR5IGluIHRoZSBzYW1lIG51bWJlci4gT3JkZXIgaXMgcmVjb3JkZWQgaW4gdGhlXG4gKiBmcmFjdGlvbmFsIHBhcnQuIFNlbGVjdCB2YWx1ZSBzbyB0aGF0XG4gKlxuICogICAweDdGRkZGRkZGICE9IDB4N0ZGRkZGRkYgKyBPUkRFUl9JTkNSRU1FTlRcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBPUkRFUl9JTkNSRU1FTlQgPSAxIC8gMTA0ODU3NjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlUYWJsZShzcmM6IEFjdGlvblRhYmxlLCBkc3Q6IEFjdGlvblRhYmxlKTogdm9pZCB7XG4gIGZvciAoY29uc3QgbiBpbiBzcmMpIHtcbiAgICBkc3Rbbl0gPSBzcmNbbl0uY2xvbmUoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZSB7XG4gIG5zQ291bnQ6IG51bWJlciA9IDA7XG4gIG5zUHJlZml4OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIHRhZ3M6IEFjdGlvblRhYmxlID0ge307XG4gIG5zdGFnczogQWN0aW9uVGFibGUgPSB7fTtcbiAgZXB1YnR5cGVzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBjbGFzc2VzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBpZHM6IEFjdGlvblRhYmxlID0ge307XG4gIHBhZ2V0eXBlczogQWN0aW9uVGFibGUgPSB7fTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY2xvbmUoKTogQ2FzY2FkZSB7XG4gICAgY29uc3QgciA9IG5ldyBDYXNjYWRlKCk7XG4gICAgci5uc0NvdW50ID0gdGhpcy5uc0NvdW50O1xuICAgIGZvciAoY29uc3QgcCBpbiB0aGlzLm5zUHJlZml4KSB7XG4gICAgICByLm5zUHJlZml4W3BdID0gdGhpcy5uc1ByZWZpeFtwXTtcbiAgICB9XG4gICAgY29weVRhYmxlKHRoaXMudGFncywgci50YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5uc3RhZ3MsIHIubnN0YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5lcHVidHlwZXMsIHIuZXB1YnR5cGVzKTtcbiAgICBjb3B5VGFibGUodGhpcy5jbGFzc2VzLCByLmNsYXNzZXMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLmlkcywgci5pZHMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLnBhZ2V0eXBlcywgci5wYWdldHlwZXMpO1xuICAgIHIub3JkZXIgPSB0aGlzLm9yZGVyO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgaW5zZXJ0SW5UYWJsZSh0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nLCBhY3Rpb246IENhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBhID0gdGFibGVba2V5XTtcbiAgICBpZiAoYSkge1xuICAgICAgYWN0aW9uID0gYS5tZXJnZVdpdGgoYWN0aW9uKTtcbiAgICB9XG4gICAgdGFibGVba2V5XSA9IGFjdGlvbjtcbiAgfVxuXG4gIGNyZWF0ZUluc3RhbmNlKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgY291bnRlclJlc29sdmVyOiBDb3VudGVyUmVzb2x2ZXIsXG4gICAgbGFuZyxcbiAgKTogQ2FzY2FkZUluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IENhc2NhZGVJbnN0YW5jZShcbiAgICAgIHRoaXMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgbGFuZyxcbiAgICApO1xuICB9XG5cbiAgbmV4dE9yZGVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICh0aGlzLm9yZGVyICs9IE9SREVSX0lOQ1JFTUVOVCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhc2NhZGVJbnN0YW5jZSB7XG4gIGNvZGU6IENhc2NhZGU7XG4gIHN0YWNrID0gW1tdLCBbXV0gYXMgQ29uZGl0aW9uSXRlbVtdW107XG4gIGNvbmRpdGlvbnMgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICBjdXJyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50RWxlbWVudE9mZnNldDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRTdHlsZTogRWxlbWVudFN0eWxlIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRDbGFzc05hbWVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50TG9jYWxOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50TmFtZXNwYWNlOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50SWQ6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnRYbWxJZDogc3RyaW5nID0gXCJcIjtcbiAgY3VycmVudE5TVGFnOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50RXB1YlR5cGVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50UGFnZVR5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpc0ZpcnN0OiBib29sZWFuID0gdHJ1ZTtcbiAgaXNSb290OiBib29sZWFuID0gdHJ1ZTtcbiAgY291bnRlcnM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9O1xuICBjb3VudGVyU2NvcGluZzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH1bXSA9IFt7fV07XG4gIHF1b3RlczogQ3NzLlN0cltdO1xuICBxdW90ZURlcHRoOiBudW1iZXIgPSAwO1xuICBsYW5nOiBzdHJpbmcgPSBcIlwiO1xuICBzaWJsaW5nT3JkZXJTdGFjazogbnVtYmVyW10gPSBbMF07XG4gIGN1cnJlbnRTaWJsaW5nT3JkZXI6IG51bWJlciA9IDA7XG4gIHNpYmxpbmdUeXBlQ291bnRzU3RhY2s6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9W10gPSBbe31dO1xuICBjdXJyZW50U2libGluZ1R5cGVDb3VudHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9O1xuICBjdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2s6IChudW1iZXIgfCBudWxsKVtdO1xuICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfVtdID0gW3t9XTtcbiAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfTtcbiAgdmlld0NvbmRpdGlvbnM6IHsgW2tleTogc3RyaW5nXTogTWF0Y2hlcnMuTWF0Y2hlcltdIH0gPSB7fTtcbiAgZGVwZW5kZW50Q29uZGl0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgZWxlbWVudFN0YWNrOiBFbGVtZW50W107XG4gIGN1cnJlbnREb2M/OiBEb2N1bWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FzY2FkZTogQ2FzY2FkZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJSZXNvbHZlcjogQ291bnRlclJlc29sdmVyLFxuICAgIGxhbmc6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5jb2RlID0gY2FzY2FkZTtcbiAgICB0aGlzLnF1b3RlcyA9IFtcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxY1wiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxZFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOVwiKSxcbiAgICBdO1xuICAgIHRoaXMuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzID0gdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrWzBdO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sgPSBbdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyXTtcbiAgICB0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cyA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFja1swXTtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgfVxuICB9XG5cbiAgcHVzaENvbmRpdGlvbkl0ZW0oaXRlbTogQ29uZGl0aW9uSXRlbSk6IHZvaWQge1xuICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgaW5jcmVtZW50KGNvbmRpdGlvbjogc3RyaW5nLCB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gPSAodGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gfHwgMCkgKyAxO1xuICAgIGlmICghdmlld0NvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dKSB7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0ucHVzaCh2aWV3Q29uZGl0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gW3ZpZXdDb25kaXRpb25dO1xuICAgIH1cbiAgfVxuXG4gIGRlY3JlbWVudChjb25kaXRpb246IHN0cmluZywgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcik6IHZvaWQge1xuICAgIHRoaXMuY29uZGl0aW9uc1tjb25kaXRpb25dLS07XG4gICAgaWYgKCF0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dLmZpbHRlcihcbiAgICAgIChpdGVtKSA9PiBpdGVtICE9PSB2aWV3Q29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl07XG4gICAgfVxuICB9XG5cbiAgYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcih2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwpOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICBsZXQgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlciA9IG51bGw7XG4gICAgaWYgKHZpZXdDb25kaXRpb25JZCkge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCk7XG4gICAgICBtYXRjaGVyID0gTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihcbiAgICAgICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCxcbiAgICAgICAgdmlld0NvbmRpdGlvbklkLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMgPSB0aGlzLmRlcGVuZGVudENvbmRpdGlvbnNcbiAgICAgIC5tYXAoKGNvbmRpdGlvbklkKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbklkXTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMgJiYgY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IGNvbmRpdGlvbnNbMF1cbiAgICAgICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbnlNYXRjaGVyKFtdLmNvbmNhdChjb25kaXRpb25zKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtKTtcbiAgICBpZiAoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBtYXRjaGVyO1xuICAgIH1cbiAgICBpZiAobWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzWzBdXG4gICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbGxNYXRjaGVyKGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGNoZXJzLk1hdGNoZXJCdWlsZGVyLmJ1aWxkQWxsTWF0Y2hlcihcbiAgICAgIFttYXRjaGVyXS5jb25jYXQoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMpLFxuICAgICk7XG4gIH1cblxuICBhcHBseUFjdGlvbih0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYWN0aW9uID0gdGFibGVba2V5XTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBhY3Rpb24uYXBwbHkodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgcHVzaFJ1bGUoXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFnZVR5cGU6IHN0cmluZyB8IG51bGwsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnRPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFN0eWxlID0gYmFzZVN0eWxlO1xuICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZSA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRJZCA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50WG1sSWQgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudENsYXNzTmFtZXMgPSBjbGFzc2VzO1xuICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IHBhZ2VUeXBlO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gIH1cblxuICBkZWZpbmVDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV0pIHtcbiAgICAgIHRoaXMuY291bnRlcnNbY291bnRlck5hbWVdLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGxldCBzY29waW5nID0gdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdO1xuICAgIGlmICghc2NvcGluZykge1xuICAgICAgc2NvcGluZyA9IHt9O1xuICAgICAgdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdID0gc2NvcGluZztcbiAgICB9XG4gICAgc2NvcGluZ1tjb3VudGVyTmFtZV0gPSB0cnVlO1xuICB9XG5cbiAgcHVzaENvdW50ZXJzKHByb3BzOiBFbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBsZXQgZGlzcGxheVZhbCA9IENzcy5pZGVudC5pbmxpbmU7XG4gICAgY29uc3QgZGlzcGxheSA9IHByb3BzW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSkge1xuICAgICAgZGlzcGxheVZhbCA9IGRpc3BsYXkuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgbGV0IHJlc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgaW5jcmVtZW50TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHByb3BzW1wiY291bnRlci1yZXNldFwiXTtcbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIGNvbnN0IHJlc2V0VmFsID0gcmVzZXQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChyZXNldFZhbCkge1xuICAgICAgICByZXNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhyZXNldFZhbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IHByb3BzW1wiY291bnRlci1zZXRcIl07XG4gICAgaWYgKHNldCkge1xuICAgICAgY29uc3Qgc2V0VmFsID0gc2V0LmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAoc2V0VmFsKSB7XG4gICAgICAgIHNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhzZXRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5jcmVtZW50ID0gcHJvcHNbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChpbmNyZW1lbnRWYWwpIHtcbiAgICAgICAgaW5jcmVtZW50TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKGluY3JlbWVudFZhbCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwib2xcIiB8fCB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJ1bFwiKSAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuWEhUTUxcbiAgICApIHtcbiAgICAgIGlmICghcmVzZXRNYXApIHtcbiAgICAgICAgcmVzZXRNYXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJlc2V0TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlWYWwgPT09IENzcy5pZGVudC5saXN0X2l0ZW0pIHtcbiAgICAgIGlmICghaW5jcmVtZW50TWFwKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IHt9O1xuICAgICAgfVxuICAgICAgaW5jcmVtZW50TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMTtcbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVDb3VudGVyKHJlc2V0Q291bnRlck5hbWUsIHJlc2V0TWFwW3Jlc2V0Q291bnRlck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldE1hcCkge1xuICAgICAgZm9yIChjb25zdCBzZXRDb3VudGVyTmFtZSBpbiBzZXRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW3NldENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihzZXRDb3VudGVyTmFtZSwgc2V0TWFwW3NldENvdW50ZXJOYW1lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbc2V0Q291bnRlck5hbWVdO1xuICAgICAgICAgIGNvdW50ZXJWYWx1ZXNbY291bnRlclZhbHVlcy5sZW5ndGggLSAxXSA9IHNldE1hcFtzZXRDb3VudGVyTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluY3JlbWVudE1hcCkge1xuICAgICAgZm9yIChjb25zdCBpbmNyZW1lbnRDb3VudGVyTmFtZSBpbiBpbmNyZW1lbnRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW2luY3JlbWVudENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihpbmNyZW1lbnRDb3VudGVyTmFtZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgICBpbmNyZW1lbnRNYXBbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlzcGxheVZhbCA9PT0gQ3NzLmlkZW50Lmxpc3RfaXRlbSkge1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudHMgPSB0aGlzLmNvdW50ZXJzW1widWEtbGlzdC1pdGVtXCJdO1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudCA9IGxpc3RJdGVtQ291bnRzW2xpc3RJdGVtQ291bnRzLmxlbmd0aCAtIDFdO1xuICAgICAgcHJvcHNbXCJ1YS1saXN0LWl0ZW0tY291bnRcIl0gPSBuZXcgQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bShsaXN0SXRlbUNvdW50KSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclNjb3BpbmcucHVzaChudWxsKTtcbiAgfVxuXG4gIHBvcENvdW50ZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BpbmcgPSB0aGlzLmNvdW50ZXJTY29waW5nLnBvcCgpO1xuICAgIGlmIChzY29waW5nKSB7XG4gICAgICBmb3IgKGNvbnN0IGNvdW50ZXJOYW1lIGluIHNjb3BpbmcpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm9jZXNzUHNldWRvZWxlbWVudFByb3BzKHBzZXVkb3Byb3BzOiBFbGVtZW50U3R5bGUsIGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLnB1c2hDb3VudGVycyhwc2V1ZG9wcm9wcyk7XG4gICAgaWYgKHBzZXVkb3Byb3BzW1wiY29udGVudFwiXSkge1xuICAgICAgcHNldWRvcHJvcHNbXCJjb250ZW50XCJdID0gcHNldWRvcHJvcHNbXCJjb250ZW50XCJdLmZpbHRlclZhbHVlKFxuICAgICAgICBuZXcgQ29udGVudFByb3BWaXNpdG9yKHRoaXMsIGVsZW1lbnQsIHRoaXMuY291bnRlclJlc29sdmVyKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxuXG4gIHB1c2hFbGVtZW50KFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICAgZWxlbWVudE9mZnNldDogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IGFwcGx5IHBhZ2UgcnVsZXNcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCA9IGVsZW1lbnRPZmZzZXQ7XG4gICAgdGhpcy5jdXJyZW50U3R5bGUgPSBiYXNlU3R5bGU7XG4gICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gICAgY29uc3QgcHJlZml4ID0gdGhpcy5jb2RlLm5zUHJlZml4W3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKHByZWZpeCkge1xuICAgICAgdGhpcy5jdXJyZW50TlNUYWcgPSBwcmVmaXggKyB0aGlzLmN1cnJlbnRMb2NhbE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50SWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuY3VycmVudFhtbElkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBjb25zdCBjbGFzc2VzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IEVNUFRZO1xuICAgIH1cbiAgICBjb25zdCB0eXBlcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSB0eXBlcy5zcGxpdCgvXFxzKy8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwic3R5bGVcIiAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuRkIyXG4gICAgKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2VcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IFtjbGFzc05hbWVdO1xuICAgIH1cbiAgICBjb25zdCBsYW5nID0gQmFzZS5nZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQpO1xuICAgIGlmIChsYW5nKSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0ucHVzaChuZXcgUmVzdG9yZUxhbmdJdGVtKHRoaXMubGFuZykpO1xuICAgICAgdGhpcy5sYW5nID0gbGFuZy50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBjb25zdCBpc1Jvb3QgPSB0aGlzLmlzUm9vdDtcbiAgICBjb25zdCBzaWJsaW5nT3JkZXJTdGFjayA9IHRoaXMuc2libGluZ09yZGVyU3RhY2s7XG4gICAgdGhpcy5jdXJyZW50U2libGluZ09yZGVyID0gKytzaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgIHNpYmxpbmdPcmRlclN0YWNrLmxlbmd0aCAtIDFcbiAgICBdO1xuICAgIHNpYmxpbmdPcmRlclN0YWNrLnB1c2goMCk7XG4gICAgY29uc3Qgc2libGluZ1R5cGVDb3VudHNTdGFjayA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjaztcbiAgICBjb25zdCBjdXJyZW50U2libGluZ1R5cGVDb3VudHMgPSAodGhpcy5jdXJyZW50U2libGluZ1R5cGVDb3VudHMgPVxuICAgICAgc2libGluZ1R5cGVDb3VudHNTdGFja1tzaWJsaW5nVHlwZUNvdW50c1N0YWNrLmxlbmd0aCAtIDFdKTtcbiAgICBsZXQgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPVxuICAgICAgY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKCFjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50cykge1xuICAgICAgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPSBjdXJyZW50U2libGluZ1R5cGVDb3VudHNbXG4gICAgICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXSA9IHt9O1xuICAgIH1cbiAgICBjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdID1cbiAgICAgIChjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdIHx8IDApICsgMTtcbiAgICBzaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIGNvbnN0IGZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrID0gdGhpcy5mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjaztcbiAgICBpZiAoXG4gICAgICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjay5sZW5ndGggLSAxXSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gLS1mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gbnVsbDtcbiAgICB9XG4gICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sucHVzaChudWxsKTtcbiAgICBjb25zdCBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrID0gdGhpc1xuICAgICAgLmZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2s7XG4gICAgY29uc3QgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID0gKHRoaXMuY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID1cbiAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2tbXG4gICAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXSk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzICYmXG4gICAgICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNbdGhpcy5jdXJyZW50TmFtZXNwYWNlXVxuICAgICkge1xuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV1bXG4gICAgICAgIHRoaXMuY3VycmVudExvY2FsTmFtZVxuICAgICAgXS0tO1xuICAgIH1cbiAgICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXIoZWxlbWVudCk7XG4gICAgY29uc3QgcXVvdGVzQ2FzYyA9IGJhc2VTdHlsZVtcInF1b3Rlc1wiXTtcbiAgICBsZXQgaXRlbVRvUHVzaExhc3Q6IFF1b3Rlc1Njb3BlSXRlbSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChxdW90ZXNDYXNjKSB7XG4gICAgICBjb25zdCBxdW90ZXNWYWwgPSBxdW90ZXNDYXNjLmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAocXVvdGVzVmFsKSB7XG4gICAgICAgIGl0ZW1Ub1B1c2hMYXN0ID0gbmV3IFF1b3Rlc1Njb3BlSXRlbSh0aGlzLnF1b3Rlcyk7XG4gICAgICAgIGlmIChxdW90ZXNWYWwgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSBbbmV3IENzcy5TdHIoXCJcIiksIG5ldyBDc3MuU3RyKFwiXCIpXTtcbiAgICAgICAgfSBlbHNlIGlmIChxdW90ZXNWYWwgaW5zdGFuY2VvZiBDc3MuU3BhY2VMaXN0KSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSAocXVvdGVzVmFsIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcyBhcyBDc3MuU3RyW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wdXNoQ291bnRlcnModGhpcy5jdXJyZW50U3R5bGUpO1xuICAgIGNvbnN0IGlkID1cbiAgICAgIHRoaXMuY3VycmVudElkIHx8IHRoaXMuY3VycmVudFhtbElkIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgIGlmIChpc1Jvb3QgfHwgaWQpIHtcbiAgICAgIGNvbnN0IGNvdW50ZXJzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlcltdIH0gPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY291bnRlcnMpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgY291bnRlcnNbbmFtZV0gPSBBcnJheS5mcm9tKHRoaXMuY291bnRlcnNbbmFtZV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvdW50ZXJMaXN0ZW5lci5jb3VudGVyc09mSWQoaWQsIGNvdW50ZXJzKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvcyA9IGdldFN0eWxlTWFwKHRoaXMuY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmIChwc2V1ZG9zKSB7XG4gICAgICBsZXQgYmVmb3JlID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBvZiBwc2V1ZG9OYW1lcykge1xuICAgICAgICBpZiAoIXBzZXVkb05hbWUpIHtcbiAgICAgICAgICAvLyBjb250ZW50XG4gICAgICAgICAgYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHNldWRvUHJvcHMgPSBwc2V1ZG9zW3BzZXVkb05hbWVdO1xuICAgICAgICBpZiAocHNldWRvUHJvcHMpIHtcbiAgICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMocHNldWRvUHJvcHMsIGVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChcbiAgICAgICAgICAgICAgbmV3IEFmdGVyUHNldWRvZWxlbWVudEl0ZW0ocHNldWRvUHJvcHMsIGVsZW1lbnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW1Ub1B1c2hMYXN0KSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChpdGVtVG9QdXNoTGFzdCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBlbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGVsZW1lbnRTdHlsZSkge1xuICAgICAgaWYgKGlzUHJvcE5hbWUocHJvcE5hbWUpKSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wTmFtZV0gPSBlbGVtZW50U3R5bGVbcHJvcE5hbWVdLmZpbHRlclZhbHVlKHZpc2l0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlBdHRyRmlsdGVyKGVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IoZWxlbWVudCk7XG4gICAgY29uc3QgY3VycmVudFN0eWxlID0gdGhpcy5jdXJyZW50U3R5bGU7XG4gICAgY29uc3QgcHNldWRvTWFwID0gZ2V0U3R5bGVNYXAoY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIHRoaXMuYXBwbHlBdHRyRmlsdGVySW5uZXIodmlzaXRvciwgcHNldWRvTWFwW3BzZXVkb05hbWVdKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBjdXJyZW50U3R5bGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUFjdGlvbnMoKTogdm9pZCB7XG4gICAgbGV0IGk6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuY2xhc3NlcywgdGhpcy5jdXJyZW50Q2xhc3NOYW1lc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRFcHViVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLmVwdWJ0eXBlcywgdGhpcy5jdXJyZW50RXB1YlR5cGVzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuaWRzLCB0aGlzLmN1cnJlbnRJZCk7XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgdGhpcy5jdXJyZW50TG9jYWxOYW1lKTtcbiAgICBpZiAodGhpcy5jdXJyZW50TG9jYWxOYW1lICE9IFwiXCIpIHtcbiAgICAgIC8vIFVuaXZlcnNhbCBzZWxlY3RvciBkb2VzIG5vdCBhcHBseSB0byBwYWdlLW1hc3Rlci1yZWxhdGVkIHJ1bGVzLlxuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5uc3RhZ3MsIHRoaXMuY3VycmVudE5TVGFnKTtcblxuICAgIC8vIEFwcGx5IHBhZ2UgcnVsZXMgb25seSB3aGVuIGN1cnJlbnRQYWdlVHlwZSBpcyBub3QgbnVsbFxuICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlVHlwZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUucGFnZXR5cGVzLCB0aGlzLmN1cnJlbnRQYWdlVHlwZSk7XG5cbiAgICAgIC8vIFdlIHJlcHJlc2VudCBwYWdlIHJ1bGVzIHdpdGhvdXQgc2VsZWN0b3JzIGJ5ICosIHRob3VnaCBpdCBpcyBpbGxlZ2FsIGluXG4gICAgICAvLyBDU1NcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLnBhZ2V0eXBlcywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnREb2MgPSBudWxsO1xuICAgIHRoaXMuc3RhY2sucHVzaChbXSk7XG4gICAgZm9yIChsZXQgZGVwdGggPSAxOyBkZXB0aCA+PSAtMTsgLS1kZXB0aCkge1xuICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSBkZXB0aCAtIDJdO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnB1c2godGhpcywgZGVwdGgpKSB7XG4gICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzRmlyc3QgPSB0cnVlO1xuICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHBvcCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBkZXB0aCA9IDE7IGRlcHRoID49IC0xOyAtLWRlcHRoKSB7XG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoIC0gMl07XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnBvcCh0aGlzLCBkZXB0aCkpIHtcbiAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgdGhpcy5pc0ZpcnN0ID0gZmFsc2U7XG4gIH1cblxuICBwb3BSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucG9wKCk7XG4gIH1cblxuICBwb3BFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRTdGFjay5wb3AoKTtcbiAgICAgIGlmIChlICE9PSBlbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2FsbCB0byBwb3BFbGVtZW50XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLmZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLnBvcCgpO1xuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU1QVFkgPSBbXTtcblxuLyoqXG4gKiBQc2V1ZG9lbGVtZW50IG5hbWVzIGluIHRoZSBvcmRlciB0aGV5IHNob3VsZCBiZSBwcm9jZXNzZWQsIGVtcHR5IHN0cmluZyBpc1xuICogdGhlIHBsYWNlIHdoZXJlIHRoZSBlbGVtZW50J3MgRE9NIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwc2V1ZG9OYW1lcyA9IFtcbiAgXCJiZWZvcmVcIixcbiAgXCJ0cmFuc2NsdXNpb24tYmVmb3JlXCIsXG4gIFwiZm9vdG5vdGUtY2FsbFwiLFxuICBcImZvb3Rub3RlLW1hcmtlclwiLFxuICBcImlubmVyXCIsXG4gIFwiZmlyc3QtbGV0dGVyXCIsXG4gIFwiZmlyc3QtbGluZVwiLFxuICBcIlwiLFxuICAvKiBjb250ZW50ICovXG4gIFwidHJhbnNjbHVzaW9uLWFmdGVyXCIsXG4gIFwiYWZ0ZXJcIixcbl07XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gUGFyc2VTdGF0ZSB7XG4gIFRPUCxcbiAgU0VMRUNUT1IsXG4gIFJVTEUsXG59XG5cbi8qKlxuICogQ2FzY2FkZSBmb3IgYmFzZSBVc2VyIEFnZW50IHN0eWxlc2hlZXQuXG4gKi9cbmV4cG9ydCBsZXQgdWFCYXNlQ2FzY2FkZTogQ2FzY2FkZSA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gc2V0VUFCYXNlQ2FzY2FkZSh2YWx1ZTogQ2FzY2FkZSk6IHZvaWQge1xuICB1YUJhc2VDYXNjYWRlID0gdmFsdWU7XG59XG5cbi8vLS0tLS0tLS0tLS0tLSBwYXJzaW5nIC0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIENhc2NhZGVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgY2hhaW46IENoYWluZWRBY3Rpb25bXSA9IG51bGw7XG4gIHNwZWNpZmljaXR5OiBudW1iZXIgPSAwO1xuICBlbGVtZW50U3R5bGU6IEVsZW1lbnRTdHlsZSA9IG51bGw7XG4gIGNvbmRpdGlvbkNvdW50OiBudW1iZXIgPSAwO1xuICBwc2V1ZG9lbGVtZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZm9vdG5vdGVDb250ZW50OiBib29sZWFuID0gZmFsc2U7XG4gIGNhc2NhZGU6IENhc2NhZGU7XG4gIHN0YXRlOiBQYXJzZVN0YXRlO1xuICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbnNpZGVTZWxlY3RvclJ1bGU6IFBhcnNlU3RhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcGFyZW50OiBDYXNjYWRlUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICB0b3BMZXZlbDogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0b3BMZXZlbCk7XG4gICAgdGhpcy5jYXNjYWRlID0gcGFyZW50XG4gICAgICA/IHBhcmVudC5jYXNjYWRlXG4gICAgICA6IHVhQmFzZUNhc2NhZGVcbiAgICAgID8gdWFCYXNlQ2FzY2FkZS5jbG9uZSgpXG4gICAgICA6IG5ldyBDYXNjYWRlKCk7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluc2VydE5vblByaW1hcnkoYWN0aW9uOiBDYXNjYWRlQWN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5jYXNjYWRlLmluc2VydEluVGFibGUodGhpcy5jYXNjYWRlLnRhZ3MsIFwiKlwiLCBhY3Rpb24pO1xuICB9XG5cbiAgcHJvY2Vzc0NoYWluKGFjdGlvbjogQ2FzY2FkZUFjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGNoYWluZWQgPSBjaGFpbkFjdGlvbnModGhpcy5jaGFpbiwgYWN0aW9uKTtcbiAgICBpZiAoXG4gICAgICBjaGFpbmVkICE9PSBhY3Rpb24gJiZcbiAgICAgIChjaGFpbmVkIGFzIENoYWluZWRBY3Rpb24pLm1ha2VQcmltYXJ5KHRoaXMuY2FzY2FkZSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnNlcnROb25QcmltYXJ5KGNoYWluZWQpO1xuICB9XG5cbiAgaXNJbnNpZGVTZWxlY3RvclJ1bGUobW5lbW9uaWNzOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPSBQYXJzZVN0YXRlLlRPUCkge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKG1uZW1vbmljcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAoIW5hbWUgJiYgIW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICBpZiAobmFtZSAmJiBucykge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja05TVGFnQWN0aW9uKG5zLCBuYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24obmFtZS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tOYW1lc3BhY2VBY3Rpb24obnMgYXMgc3RyaW5nKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGA6OiR7dGhpcy5wc2V1ZG9lbGVtZW50fWAsIGBmb2xsb3dlZCBieSAuJHtuYW1lfWApO1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDI1NjtcbiAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ2xhc3NBY3Rpb24obmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9YCwgYGZvbGxvd2VkIGJ5IDoke25hbWV9YCk7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZW5hYmxlZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRW5hYmxlZEFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0Rpc2FibGVkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNDaGVja2VkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNSb290QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24oXCJhXCIpKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0F0dHJpYnV0ZVByZXNlbnRBY3Rpb24oXCJcIiwgXCJocmVmXCIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiLWFkYXB0LWhyZWYtZXB1Yi10eXBlXCI6XG4gICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDEgJiYgdHlwZW9mIHBhcmFtc1swXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNbMF0gYXMgc3RyaW5nO1xuICAgICAgICAgIGNvbnN0IHBhdHQgPSBuZXcgUmVnRXhwKGAoXnxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8cylgKTtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrVGFyZ2V0RXB1YlR5cGVBY3Rpb24ocGF0dCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCItYWRhcHQtZm9vdG5vdGUtY29udGVudFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLWNvbnRlbnRcIjpcbiAgICAgICAgLy8gY29udGVudCBpbnNpZGUgdGhlIGZvb3Rub3RlXG4gICAgICAgIHRoaXMuZm9vdG5vdGVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmlzaXRlZFwiOlxuICAgICAgY2FzZSBcImFjdGl2ZVwiOlxuICAgICAgY2FzZSBcImhvdmVyXCI6XG4gICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYW5nXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IGxhbmdWYWx1ZSA9IHBhcmFtc1swXSBhcyBzdHJpbmc7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKFxuICAgICAgICAgICAgbmV3IENoZWNrTGFuZ0FjdGlvbihcbiAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBgXiR7QmFzZS5lc2NhcGVSZWdFeHAobGFuZ1ZhbHVlLnRvTG93ZXJDYXNlKCkpfShcXCR8LSlgLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm50aC1jaGlsZFwiOlxuICAgICAgY2FzZSBcIm50aC1sYXN0LWNoaWxkXCI6XG4gICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgIGNhc2UgXCJudGgtbGFzdC1vZi10eXBlXCI6IHtcbiAgICAgICAgY29uc3QgQWN0aW9uQ2xhc3MgPSBudGhTZWxlY3RvckFjdGlvbkNsYXNzZXNbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2goXG4gICAgICAgICAgICBuZXcgQWN0aW9uQ2xhc3MocGFyYW1zWzBdIGFzIG51bWJlciwgcGFyYW1zWzFdIGFzIG51bWJlciksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZmlyc3QtY2hpbGRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0ZpcnN0QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LWNoaWxkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZpcnN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24oMCwgMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib25seS1jaGlsZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RBY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9ubHktb2YtdHlwZVwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTnRoU2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNFbXB0eUFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICAgIHRoaXMucHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYHVua25vd24gcHNldWRvLWNsYXNzIHNlbGVjdG9yOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICBjYXNlIFwiZm9vdG5vdGUtY2FsbFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLW1hcmtlclwiOlxuICAgICAgY2FzZSBcImlubmVyXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXItaWYtY29udGludWVzXCI6XG4gICAgICAgIGlmICghdGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYERvdWJsZSBwc2V1ZG9lbGVtZW50IDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9Ojoke25hbWV9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmaXJzdC1uLWxpbmVzXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGNvbnN0IG4gPSBNYXRoLnJvdW5kKHBhcmFtc1swXSBhcyBudW1iZXIpO1xuICAgICAgICAgIGlmIChuID4gMCAmJiBuID09IHBhcmFtc1swXSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gYGZpcnN0LSR7bn0tbGluZXNgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgRG91YmxlIHBzZXVkb2VsZW1lbnQgOjoke3RoaXMucHNldWRvZWxlbWVudH06OiR7bmFtZX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJudGgtZnJhZ21lbnRcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IGBORlNfJHtwYXJhbXNbMF19XyR7cGFyYW1zWzFdfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihgVW5yZWNvZ25pemVkIHBzZXVkb2VsZW1lbnQ6IDo6JHtuYW1lfWApO1xuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpZFNlbGVjdG9yKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDY1NTM2O1xuICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tJZEFjdGlvbihpZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgbnM6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3A6IENzc1Rva2VuaXplci5Ub2tlblR5cGUsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSB8fCBcIlwiO1xuICAgIGxldCBhY3Rpb247XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjpcbiAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbihucywgbmFtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVROlxuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbihucywgbmFtZSwgdmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5tYXRjaCgvXFxzLykpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoYChefFxcXFxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8XFxcXHMpYCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfRVE6XG4gICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICBucyxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG5ldyBSZWdFeHAoYF4ke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX0oXFwkfC0pYCksXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChgXiR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfWApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRE9MTEFSX0VROlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24oXG4gICAgICAgICAgICBucyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBuZXcgUmVnRXhwKGAke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX1cXCRgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJfRVE6XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoQmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgIGlmICh2YWx1ZSA9PSBcInN1cHBvcnRlZFwiKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrTmFtZXNwYWNlU3VwcG9ydGVkQWN0aW9uKG5zLCBuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgOjogYXR0ciBzZWxlY3RvciBvcDpcIiwgdmFsdWUpO1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgYXR0ciBzZWxlY3RvcjpcIiwgb3ApO1xuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgIH1cbiAgICB0aGlzLmNoYWluLnB1c2goYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlc2NlbmRhbnRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZCR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBjJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IENoaWxkQ29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgYSR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKGNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uSWQsIG51bGwpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZvbGxvd2luZ1NpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZiR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBGb2xsb3dpbmdTaWJsaW5nQ29uZGl0aW9uSXRlbShcbiAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hDaGFpbigpO1xuICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5mb290bm90ZUNvbnRlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmNoYWluID0gW107XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFNlbGVjdG9yUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0luc2lkZVNlbGVjdG9yUnVsZShcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuU0VMRUNUT1I7XG4gICAgdGhpcy5lbGVtZW50U3R5bGUgPSB7fSBhcyBFbGVtZW50U3R5bGU7XG4gICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgIHRoaXMuY2hhaW4gPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gUGFyc2VTdGF0ZS5TRUxFQ1RPUikge1xuICAgICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yKTogdm9pZCB7XG4gICAgc3VwZXIuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaENoYWluKCk7XG4gICAgc3VwZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgIGlmICh0aGlzLnN0YXRlID09IFBhcnNlU3RhdGUuU0VMRUNUT1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBQYXJzZVN0YXRlLlRPUDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRSdWxlKCk6IHZvaWQge1xuICAgIHN1cGVyLmVuZFJ1bGUoKTtcbiAgICB0aGlzLmluc2lkZVNlbGVjdG9yUnVsZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgZmluaXNoQ2hhaW4oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2hhaW4pIHtcbiAgICAgIGNvbnN0IHNwZWNpZmljaXR5OiBudW1iZXIgPSB0aGlzLnNwZWNpZmljaXR5ICsgdGhpcy5jYXNjYWRlLm5leHRPcmRlcigpO1xuICAgICAgdGhpcy5wcm9jZXNzQ2hhaW4odGhpcy5tYWtlQXBwbHlSdWxlQWN0aW9uKHNwZWNpZmljaXR5KSk7XG4gICAgICB0aGlzLmNoYWluID0gbnVsbDtcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gICAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG1ha2VBcHBseVJ1bGVBY3Rpb24oc3BlY2lmaWNpdHk6IG51bWJlcik6IEFwcGx5UnVsZUFjdGlvbiB7XG4gICAgbGV0IHJlZ2lvbklkID0gdGhpcy5yZWdpb25JZDtcbiAgICBpZiAodGhpcy5mb290bm90ZUNvbnRlbnQpIHtcbiAgICAgIGlmIChyZWdpb25JZCkge1xuICAgICAgICByZWdpb25JZCA9IFwieHh4LWJvZ3VzLXh4eFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVnaW9uSWQgPSBcImZvb3Rub3RlXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXBwbHlSdWxlQWN0aW9uKFxuICAgICAgdGhpcy5lbGVtZW50U3R5bGUsXG4gICAgICBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgKTtcbiAgfVxuXG4gIHNwZWNpYWwobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCkge1xuICAgIGxldCB2YWw6IENhc2NhZGVWYWx1ZTtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uKSB7XG4gICAgICB2YWwgPSBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKHZhbHVlLCAwLCB0aGlzLmNvbmRpdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGFyciA9IGdldE11dGFibGVTcGVjaWFsKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lKTtcbiAgICBhcnIucHVzaCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBuYW1lID09IFwiZGlzcGxheVwiICYmXG4gICAgICAodmFsdWUgPT09IENzcy5pZGVudC5vZWJfcGFnZV9oZWFkIHx8IHZhbHVlID09PSBDc3MuaWRlbnQub2ViX3BhZ2VfZm9vdClcbiAgICApIHtcbiAgICAgIHRoaXMuc2ltcGxlUHJvcGVydHkoXG4gICAgICAgIFwiZmxvdy1vcHRpb25zXCIsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KFtDc3MuaWRlbnQuZXhjbHVzaXZlLCBDc3MuaWRlbnQuX3N0YXRpY10pLFxuICAgICAgICBpbXBvcnRhbnQsXG4gICAgICApO1xuICAgICAgdGhpcy5zaW1wbGVQcm9wZXJ0eShcImZsb3ctaW50b1wiLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgIHZhbHVlID0gQ3NzLmlkZW50LmJsb2NrO1xuICAgIH1cbiAgICBjb25zdCBob29rcyA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXCJTSU1QTEVfUFJPUEVSVFlcIik7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSB7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSwgaW1wb3J0YW50OiBpbXBvcnRhbnQgfTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IGhvb2sob3JpZ2luYWwpO1xuICAgICAgbmFtZSA9IGNvbnZlcnRlZFtcIm5hbWVcIl07XG4gICAgICB2YWx1ZSA9IGNvbnZlcnRlZFtcInZhbHVlXCJdO1xuICAgICAgaW1wb3J0YW50ID0gY29udmVydGVkW1wiaW1wb3J0YW50XCJdO1xuICAgIH0pO1xuICAgIGNvbnN0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIGNvbnN0IGNhc2N2YWwgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGNhc2N2YWwpO1xuICB9XG5cbiAgZmluaXNoKCk6IENhc2NhZGUge1xuICAgIHJldHVybiB0aGlzLmNhc2NhZGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAoZnVuY05hbWUpIHtcbiAgICAgIGNhc2UgXCJub3RcIjoge1xuICAgICAgICBjb25zdCBub3RQYXJzZXJIYW5kbGVyID0gbmV3IE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIodGhpcyk7XG4gICAgICAgIG5vdFBhcnNlckhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihub3RQYXJzZXJIYW5kbGVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbnRoU2VsZWN0b3JBY3Rpb25DbGFzc2VzOiB7IFtrZXk6IHN0cmluZ106IHR5cGVvZiBJc050aEFjdGlvbiB9ID0ge1xuICBcIm50aC1jaGlsZFwiOiBJc050aFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLW9mLXR5cGVcIjogSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uLFxuICBcIm50aC1sYXN0LWNoaWxkXCI6IElzTnRoTGFzdFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLWxhc3Qtb2YtdHlwZVwiOiBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uLFxufTtcblxuZXhwb3J0IGxldCBjb25kaXRpb25Db3VudDogbnVtYmVyID0gMDtcblxuZXhwb3J0IGNsYXNzIE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDYXNjYWRlUGFyc2VySGFuZGxlciB7XG4gIHBhcmVudENoYWluOiBDaGFpbmVkQWN0aW9uW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHBhcmVudDogQ2FzY2FkZVBhcnNlckhhbmRsZXIpIHtcbiAgICBzdXBlcihcbiAgICAgIHBhcmVudC5zY29wZSxcbiAgICAgIHBhcmVudC5vd25lcixcbiAgICAgIHBhcmVudC5jb25kaXRpb24sXG4gICAgICBwYXJlbnQsXG4gICAgICBwYXJlbnQucmVnaW9uSWQsXG4gICAgICBwYXJlbnQudmFsaWRhdG9yU2V0LFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgICB0aGlzLnBhcmVudENoYWluID0gcGFyZW50LmNoYWluO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoZnVuY05hbWUgPT0gXCJub3RcIikge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9OT1RcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JVTEVfQk9EWVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX05FWFRfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRGdW5jV2l0aFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNoYWluICYmIHRoaXMuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wYXJlbnRDaGFpbi5wdXNoKG5ldyBOZWdhdGVBY3Rpb25zU2V0KHRoaXMuY2hhaW4pKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQuc3BlY2lmaWNpdHkgKz0gdGhpcy5zcGVjaWZpY2l0eTtcbiAgICB0aGlzLm93bmVyLnBvcEhhbmRsZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgdGhpcy5vd25lci5wb3BIYW5kbGVyKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmluZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zY29wZS52YWx1ZXNbbmFtZV0pIHtcbiAgICAgIHRoaXMuZXJyb3IoYEVfQ1NTX05BTUVfUkVERUZJTkVEICR7bmFtZX1gLCB0aGlzLmdldEN1cnJlbnRUb2tlbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5pdCA9IG5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pID8gXCJ2aFwiIDogXCJ2d1wiO1xuICAgICAgY29uc3QgZGltID0gbmV3IEV4cHJzLk51bWVyaWModGhpcy5zY29wZSwgMTAwLCB1bml0KTtcbiAgICAgIHRoaXMuc2NvcGUuZGVmaW5lTmFtZShuYW1lLCB2YWx1ZS50b0V4cHIodGhpcy5zY29wZSwgZGltKSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wU2V0UGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIG9yZGVyOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRTdHlsZTogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgZmFsc2UpO1xuICAgIHRoaXMub3JkZXIgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKGltcG9ydGFudCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkVfSU1QT1JUQU5UX05PVF9BTExPV0VEXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW1wb3J0YW50LFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgYXYgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGF2KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLkVycm9ySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgZWxlbWVudFN0eWxlID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBvcmRlcjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IENzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlRcbiAgICAgIDogQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgY2FzY3ZhbCA9IG5ldyBDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5KTtcbiAgICBzZXRQcm9wKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lLCBjYXNjdmFsKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgY2FsbGJhY2s6IChwMTogRWxlbWVudFN0eWxlKSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgY29uc3Qgdmlld0NvbmRpdGlvbmFsU3R5bGVzID0gZ2V0Vmlld0NvbmRpdGlvbmFsU3R5bGVNYXAoc3R5bGUpO1xuICBpZiAoIXZpZXdDb25kaXRpb25hbFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuICB2aWV3Q29uZGl0aW9uYWxTdHlsZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAoIWVudHJ5Lm1hdGNoZXIubWF0Y2hlcygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxiYWNrKGVudHJ5LnN0eWxlcyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gIGNhc2NNYXA6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0sXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4pOiB2b2lkIHtcbiAgZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhzdHlsZSwgKHZpZXdDb25kaXRpb25hbFN0eWxlcykgPT4ge1xuICAgIG1lcmdlU3R5bGUoY2FzY01hcCwgdmlld0NvbmRpdGlvbmFsU3R5bGVzLCBjb250ZXh0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gIGJhc2VVUkw6IHN0cmluZyxcbiAgc3R5bGVBdHRyVmFsdWU6IHN0cmluZyxcbik6IEVsZW1lbnRTdHlsZSB7XG4gIGNvbnN0IGhhbmRsZXIgPSBuZXcgUHJvcGVydHlQYXJzZXJIYW5kbGVyKHNjb3BlLCB2YWxpZGF0b3JTZXQpO1xuICBjb25zdCB0b2tlbml6ZXIgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihzdHlsZUF0dHJWYWx1ZSwgaGFuZGxlcik7XG4gIHRyeSB7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVBdHRyaWJ1dGUodG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiU3R5bGUgYXR0cmlidXRlIHBhcnNlIGVycm9yOlwiKTtcbiAgfVxuICByZXR1cm4gaGFuZGxlci5lbGVtZW50U3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlcnRpY2FsKFxuICBjYXNjYWRlZDogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3Qgd3JpdGluZ01vZGVDYXNjID0gY2FzY2FkZWRbXCJ3cml0aW5nLW1vZGVcIl07XG4gIGlmICh3cml0aW5nTW9kZUNhc2MpIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlQ2FzYy5ldmFsdWF0ZShjb250ZXh0LCBcIndyaXRpbmctbW9kZVwiKTtcbiAgICBpZiAod3JpdGluZ01vZGUgJiYgd3JpdGluZ01vZGUgIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gd3JpdGluZ01vZGUgPT09IENzcy5pZGVudC52ZXJ0aWNhbF9ybDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnRpY2FsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSdGwoXG4gIGNhc2NhZGVkOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBydGw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgZGlyZWN0aW9uQ2FzYyA9IGNhc2NhZGVkW1wiZGlyZWN0aW9uXCJdO1xuICBpZiAoZGlyZWN0aW9uQ2FzYykge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGRpcmVjdGlvbkNhc2MuZXZhbHVhdGUoY29udGV4dCwgXCJkaXJlY3Rpb25cIik7XG4gICAgaWYgKGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24gIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09PSBDc3MuaWRlbnQucnRsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnRsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0ge1xuICBjb25zdCBjYXNjTWFwID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfTtcbiAgZm9yIChjb25zdCBuIGluIHN0eWxlKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUobikpIHtcbiAgICAgIGNhc2NNYXBbbl0gPSBnZXRQcm9wKHN0eWxlLCBuKTtcbiAgICB9XG4gIH1cbiAgbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoY2FzY01hcCwgY29udGV4dCwgc3R5bGUpO1xuICBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gICAgc3R5bGUsXG4gICAgcmVnaW9uSWRzLFxuICAgIGlzRm9vdG5vdGUsXG4gICAgKHJlZ2lvbklkLCByZWdpb25TdHlsZSkgPT4ge1xuICAgICAgbWVyZ2VTdHlsZShjYXNjTWFwLCByZWdpb25TdHlsZSwgY29udGV4dCk7XG4gICAgICBtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyhjYXNjTWFwLCBjb250ZXh0LCByZWdpb25TdHlsZSk7XG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIGNhc2NNYXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIGNhbGxiYWNrOiAocDE6IHN0cmluZywgcDI6IEVsZW1lbnRTdHlsZSkgPT4gYW55LFxuKTogdm9pZCB7XG4gIGNvbnN0IHJlZ2lvbnMgPSBnZXRTdHlsZU1hcChzdHlsZSwgXCJfcmVnaW9uc1wiKTtcbiAgaWYgKChyZWdpb25JZHMgfHwgaXNGb290bm90ZSkgJiYgcmVnaW9ucykge1xuICAgIGlmIChpc0Zvb3Rub3RlKSB7XG4gICAgICBjb25zdCBmb290bm90ZVJlZ2lvbiA9IFtcImZvb3Rub3RlXCJdO1xuICAgICAgaWYgKCFyZWdpb25JZHMpIHtcbiAgICAgICAgcmVnaW9uSWRzID0gZm9vdG5vdGVSZWdpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWdpb25JZHMgPSByZWdpb25JZHMuY29uY2F0KGZvb3Rub3RlUmVnaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByZWdpb25JZCBvZiByZWdpb25JZHMpIHtcbiAgICAgIGNvbnN0IHJlZ2lvblN0eWxlID0gcmVnaW9uc1tyZWdpb25JZF07XG4gICAgICBpZiAocmVnaW9uU3R5bGUpIHtcbiAgICAgICAgY2FsbGJhY2socmVnaW9uSWQsIHJlZ2lvblN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3R5bGUoXG4gIHRvOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBmcm9tOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBmcm9tKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUocHJvcGVydHkpKSB7XG4gICAgICBjb25zdCBuZXdWYWwgPSBnZXRQcm9wKGZyb20sIHByb3BlcnR5KTtcbiAgICAgIGNvbnN0IG9sZFZhbCA9IHRvW3Byb3BlcnR5XTtcbiAgICAgIHRvW3Byb3BlcnR5XSA9IGNhc2NhZGVWYWx1ZXMoY29udGV4dCwgb2xkVmFsLCBuZXdWYWwgYXMgQ2FzY2FkZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGxvZ2ljYWwgcHJvcGVydGllcyB0byBwaHlzaWNhbCBvbmVzLCB0YWtpbmcgc3BlY2lmaWNpdHkgaW50byBhY2NvdW50LlxuICogQHBhcmFtIHNyYyBTb3VyY2UgcHJvcGVydGllcyBtYXBcbiAqIEBwYXJhbSBkZXN0IERlc3RpbmF0aW9uIG1hcFxuICogQHBhcmFtIHRyYW5zZm9ybSBJZiBzdXBwbGllZCwgcHJvcGVydHkgdmFsdWVzIGFyZSB0cmFuc2Zvcm1lZCBieSB0aGlzXG4gKiAgICAgZnVuY3Rpb24gYmVmb3JlIGluc2VydGVkIGludG8gdGhlIGRlc3RpbmF0aW9uIG1hcC4gVGhlIGZpcnN0IHBhcmFtZXRlciBpc1xuICogICAgIHRoZSBwcm9wZXJ0eSBuYW1lIGFuZCB0aGUgc2Vjb25kIG9uZSBpcyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY29uc3QgY29udmVydFRvUGh5c2ljYWwgPSA8VD4oXG4gIHNyYzogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgZGVzdDogeyBba2V5OiBzdHJpbmddOiBUIH0sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBydGw6IGJvb2xlYW4sXG4gIHRyYW5zZm9ybTogKHAxOiBzdHJpbmcsIHAyOiBDYXNjYWRlVmFsdWUpID0+IFQsXG4pID0+IHtcbiAgY29uc3QgY291cGxpbmdNYXAgPSB2ZXJ0aWNhbFxuICAgID8gcnRsXG4gICAgICA/IGNvdXBsaW5nTWFwVmVydFJ0bFxuICAgICAgOiBjb3VwbGluZ01hcFZlcnRcbiAgICA6IHJ0bFxuICAgID8gY291cGxpbmdNYXBIb3JSdGxcbiAgICA6IGNvdXBsaW5nTWFwSG9yO1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNyYykge1xuICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb25zdCBjYXNjVmFsID0gc3JjW3Byb3BOYW1lXTtcbiAgICAgIGlmICghY2FzY1ZhbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdXBsZWROYW1lID0gY291cGxpbmdNYXBbcHJvcE5hbWVdO1xuICAgICAgbGV0IHRhcmdldE5hbWU6IHN0cmluZztcbiAgICAgIGlmIChjb3VwbGVkTmFtZSkge1xuICAgICAgICBjb25zdCBjb3VwbGVkQ2FzY1ZhbCA9IHNyY1tjb3VwbGVkTmFtZV07XG4gICAgICAgIGlmIChjb3VwbGVkQ2FzY1ZhbCAmJiBjb3VwbGVkQ2FzY1ZhbC5wcmlvcml0eSA+IGNhc2NWYWwucHJpb3JpdHkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROYW1lID0gZ2VvbU5hbWVzW2NvdXBsZWROYW1lXSA/IGNvdXBsZWROYW1lIDogcHJvcE5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXROYW1lID0gcHJvcE5hbWU7XG4gICAgICB9XG4gICAgICBkZXN0W3RhcmdldE5hbWVdID0gdHJhbnNmb3JtKHByb3BOYW1lLCBjYXNjVmFsKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NMb2dpY2FsVXRpbCAtIFV0aWxpdGllcyByZWxhdGVkIHRvIENTUyBMb2dpY2FsIFByb3BlcnRpZXMgYW5kIFZhbHVlcyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWxvZ2ljYWwvXG4gKi9cbnR5cGUgQ29udmVyc2lvbk1hcCA9IHtcbiAgcmVnZXhwOiBSZWdFeHA7XG4gIHRvOiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZWdFeHBNYXAoXG4gIHZhbHVlTWFwczoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG4gIH0sXG4gIHRvUGh5c2ljYWw6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogQ29udmVyc2lvbk1hcFtdIH0gfSB7XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBPYmplY3Qua2V5cyh2YWx1ZU1hcHMgYXMgb2JqZWN0KS5mb3JFYWNoKCh3cml0aW5nTW9kZSkgPT4ge1xuICAgIGNvbnN0IGRlc3QgPSAobWFwW3dyaXRpbmdNb2RlXSA9IHt9KTtcbiAgICBjb25zdCBzcmMgPSB2YWx1ZU1hcHNbd3JpdGluZ01vZGVdO1xuICAgIE9iamVjdC5rZXlzKHNyYyBhcyBvYmplY3QpLmZvckVhY2goKGRpcmVjdGlvbikgPT4ge1xuICAgICAgZGVzdFtkaXJlY3Rpb25dID0gc3JjW2RpcmVjdGlvbl0ubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0b1BoeXNpY2FsID8gcC5sb2dpY2FsIDogcC5waHlzaWNhbDtcbiAgICAgICAgY29uc3QgdG8gPSB0b1BoeXNpY2FsID8gcC5waHlzaWNhbCA6IHAubG9naWNhbDtcbiAgICAgICAgcmV0dXJuIHsgcmVnZXhwOiBuZXcgUmVnRXhwKGAoLT8pJHtmcm9tfSgtPylgKSwgdG86IGBcXCQxJHt0b31cXCQyYCB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbWFwO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0KFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb246IHN0cmluZyB8IG51bGwsXG4gIG1hcHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBDb252ZXJzaW9uTWFwW10gfSB9LFxuKTogc3RyaW5nIHtcbiAgY29uc3QgbWFwczIgPSBtYXBzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzMikge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biB3cml0aW5nLW1vZGU6ICR7d3JpdGluZ01vZGV9YCk7XG4gIH1cbiAgY29uc3QgbWFwID0gbWFwczJbZGlyZWN0aW9uIHx8IFwibHRyXCJdO1xuICBpZiAoIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBkaXJlY3Rpb246ICR7ZGlyZWN0aW9ufWApO1xuICB9XG4gIGZvciAoY29uc3QgcCBvZiBtYXApIHtcbiAgICBjb25zdCByZXBsYWNlZCA9IHZhbHVlLnJlcGxhY2UocC5yZWdleHAsIHAudG8pO1xuICAgIGlmIChyZXBsYWNlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdmFsdWVzOiB7XG4gIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG59ID0ge1xuICBcImhvcml6b250YWwtdGJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtcmxcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtbHJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG59O1xuY29uc3QgdG9QaHlzaWNhbE1hcHMgPSBjcmVhdGVSZWdFeHBNYXAodmFsdWVzLCB0cnVlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUGh5c2ljYWwoXG4gIHZhbHVlOiBzdHJpbmcsXG4gIHdyaXRpbmdNb2RlOiBzdHJpbmcsXG4gIGRpcmVjdGlvbj86IHN0cmluZyB8IG51bGwsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gY29udmVydCh2YWx1ZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbiB8fCBudWxsLCB0b1BoeXNpY2FsTWFwcyk7XG59XG5jb25zdCB0b0xvZ2ljYWxNYXBzID0gY3JlYXRlUmVnRXhwTWFwKHZhbHVlcywgZmFsc2UpO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9Mb2dpY2FsKFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb24/OiBzdHJpbmcgfCBudWxsLFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNvbnZlcnQodmFsdWUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24gfHwgbnVsbCwgdG9Mb2dpY2FsTWFwcyk7XG59XG5jb25zdCBsaW5lUmVsYXRpdmVWYWx1ZXM6IHtcbiAgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdO1xufSA9IHtcbiAgXCJob3Jpem9udGFsLXRiXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgIHsgbG9naWNhbDogXCJsaW5lLXJpZ2h0XCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgIHsgbG9naWNhbDogXCJ1bmRlclwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLXJsXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLWxyXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvTGluZVJlbGF0aXZlKHZhbHVlOiBzdHJpbmcsIHdyaXRpbmdNb2RlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYXBzID0gbGluZVJlbGF0aXZlVmFsdWVzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHdyaXRpbmctbW9kZTogJHt3cml0aW5nTW9kZX1gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobWFwc1tpXS5waHlzaWNhbCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXBzW2ldLmxvZ2ljYWw7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpemluZyAtIENTUyBJbnRyaW5zaWMgJiBFeHRyaW5zaWMgU2l6aW5nXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcblxuLyoqXG4gKiBCb3ggc2l6ZXMgZGVmaW5lZCBpbiBjc3Mtc2l6aW5nLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU2l6ZSB7XG4gIEZJTExfQVZBSUxBQkxFX0lOTElORV9TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBpbmxpbmUgc2l6ZVwiLFxuICBGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplXCIsXG4gIEZJTExfQVZBSUxBQkxFX1dJRFRIID0gXCJmaWxsLWF2YWlsYWJsZSB3aWR0aFwiLFxuICBGSUxMX0FWQUlMQUJMRV9IRUlHSFQgPSBcImZpbGwtYXZhaWxhYmxlIGhlaWdodFwiLFxuICBNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSA9IFwibWF4LWNvbnRlbnQgaW5saW5lIHNpemVcIixcbiAgTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSA9IFwibWF4LWNvbnRlbnQgYmxvY2sgc2l6ZVwiLFxuICBNQVhfQ09OVEVOVF9XSURUSCA9IFwibWF4LWNvbnRlbnQgd2lkdGhcIixcbiAgTUFYX0NPTlRFTlRfSEVJR0hUID0gXCJtYXgtY29udGVudCBoZWlnaHRcIixcbiAgTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkUgPSBcIm1pbi1jb250ZW50IGlubGluZSBzaXplXCIsXG4gIE1JTl9DT05URU5UX0JMT0NLX1NJWkUgPSBcIm1pbi1jb250ZW50IGJsb2NrIHNpemVcIixcbiAgTUlOX0NPTlRFTlRfV0lEVEggPSBcIm1pbi1jb250ZW50IHdpZHRoXCIsXG4gIE1JTl9DT05URU5UX0hFSUdIVCA9IFwibWluLWNvbnRlbnQgaGVpZ2h0XCIsXG4gIEZJVF9DT05URU5UX0lOTElORV9TSVpFID0gXCJmaXQtY29udGVudCBpbmxpbmUgc2l6ZVwiLFxuICBGSVRfQ09OVEVOVF9CTE9DS19TSVpFID0gXCJmaXQtY29udGVudCBibG9jayBzaXplXCIsXG4gIEZJVF9DT05URU5UX1dJRFRIID0gXCJmaXQtY29udGVudCB3aWR0aFwiLFxuICBGSVRfQ09OVEVOVF9IRUlHSFQgPSBcImZpdC1jb250ZW50IGhlaWdodFwiLFxufVxuXG4vKipcbiAqIEdldCBzcGVjaWZpZWQgc2l6ZXMgZm9yIHRoZSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShcbiAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIHNpemVzOiBTaXplW10sXG4pOiB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9IHtcbiAgY29uc3Qgb3JpZ2luYWwgPSB7XG4gICAgZGlzcGxheTogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5kaXNwbGF5LFxuICAgIHBvc2l0aW9uOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLnBvc2l0aW9uLFxuICAgIHdpZHRoOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLndpZHRoIGFzIHN0cmluZyxcbiAgICBtYXhXaWR0aDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhXaWR0aCBhcyBzdHJpbmcsXG4gICAgbWluV2lkdGg6IChlbGVtZW50IGFzIGFueSkuc3R5bGUubWluV2lkdGggYXMgc3RyaW5nLFxuICAgIGhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5oZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1heEhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhIZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1pbkhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5taW5IZWlnaHQgYXMgc3RyaW5nLFxuICB9O1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAvLyB3cmFwIHRoZSBlbGVtZW50IHdpdGggYSBkdW1teSBjb250YWluZXIgZWxlbWVudFxuICBjb25zdCBjb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIFwicG9zaXRpb25cIiwgb3JpZ2luYWwucG9zaXRpb24pO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZWxlbWVudCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIndpZHRoXCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC13aWR0aFwiLCBcIm5vbmVcIik7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4td2lkdGhcIiwgXCIwXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC1oZWlnaHRcIiwgXCJub25lXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBcIjBcIik7XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRWYWx1ZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgfVxuICBjb25zdCB3cml0aW5nTW9kZVByb3BlcnR5ID0gQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMoXCJ3cml0aW5nLW1vZGVcIik7XG4gIGNvbnN0IHdyaXRpbmdNb2RlVmFsdWUgPVxuICAgICh3cml0aW5nTW9kZVByb3BlcnR5ID8gZ2V0Q29tcHV0ZWRWYWx1ZSh3cml0aW5nTW9kZVByb3BlcnR5WzBdKSA6IG51bGwpIHx8XG4gICAgZ2V0Q29tcHV0ZWRWYWx1ZShcIndyaXRpbmctbW9kZVwiKTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1sclwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1sclwiO1xuICBjb25zdCBpbmxpbmVTaXplTmFtZSA9IGlzVmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICBjb25zdCBibG9ja1NpemVOYW1lID0gaXNWZXJ0aWNhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpOiBzdHJpbmcge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGlubGluZVNpemVOYW1lKTtcbiAgfVxuXG4gIC8vIElubGluZSBzaXplIG9mIGFuIGlubGluZS1ibG9jayBlbGVtZW50IGlzIHRoZSBmaXQtY29udGVudFxuICAvLyAoc2hyaW5rLXRvLWZpdCkgaW5saW5lIHNpemUuXG4gIGZ1bmN0aW9uIGdldE1heENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcblxuICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBpbmxpbmUgc2l6ZSBpcyBzdWZmaWNpZW50bHkgbGFyZ2UsIHRoZSBmaXQtY29udGVudFxuICAgIC8vIGlubGluZSBzaXplIGVxdWFscyB0byB0aGUgbWF4LWNvbnRlbnQgaW5saW5lIHNpemUuXG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIjk5OTk5OTk5cHhcIik7IC8vICdzdWZmaWNpZW50bHkgbGFyZ2UnIHZhbHVlXG4gICAgY29uc3QgciA9IGdldENvbXB1dGVkVmFsdWUoaW5saW5lU2l6ZU5hbWUpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLCBpbmxpbmVTaXplTmFtZSwgXCJcIik7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW5Db250ZW50SW5saW5lKCk6IHN0cmluZyB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIik7XG5cbiAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgaW5saW5lIHNpemUgaXMgemVybywgdGhlIGZpdC1jb250ZW50IGlubGluZSBzaXplXG4gICAgLy8gZXF1YWxzIHRvIHRoZSBtaW4tY29udGVudCBpbmxpbmUgc2l6ZS5cbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgaW5saW5lU2l6ZU5hbWUsIFwiMFwiKTtcbiAgICBjb25zdCByID0gZ2V0Q29tcHV0ZWRWYWx1ZShpbmxpbmVTaXplTmFtZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIlwiKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpdENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWxsQXZhaWxhYmxlSW5saW5lID0gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpO1xuICAgIGNvbnN0IG1pbkNvbnRlbnRJbmxpbmUgPSBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgY29uc3QgcGFyc2VkRmlsbEF2YWlsYWJsZSA9IHBhcnNlRmxvYXQoZmlsbEF2YWlsYWJsZUlubGluZSk7XG4gICAgaWYgKHBhcnNlZEZpbGxBdmFpbGFibGUgPD0gcGFyc2VGbG9hdChtaW5Db250ZW50SW5saW5lKSkge1xuICAgICAgcmV0dXJuIG1pbkNvbnRlbnRJbmxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heENvbnRlbnRJbmxpbmUgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICBpZiAocGFyc2VkRmlsbEF2YWlsYWJsZSA8PSBwYXJzZUZsb2F0KG1heENvbnRlbnRJbmxpbmUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsQXZhaWxhYmxlSW5saW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heENvbnRlbnRJbmxpbmU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SWRlYWxCbG9jaygpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGJsb2NrU2l6ZU5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2V0dGluZyBmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7fSBhcyB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9O1xuICBzaXplcy5mb3JFYWNoKChzaXplKSA9PiB7XG4gICAgbGV0IHI6IHN0cmluZztcbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgIGNhc2UgU2l6ZS5GSUxMX0FWQUlMQUJMRV9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfSU5MSU5FX1NJWkU6XG4gICAgICAgIHIgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0lOTElORV9TSVpFOlxuICAgICAgICByID0gZ2V0TWluQ29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSVRfQ09OVEVOVF9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9CTE9DS19TSVpFOlxuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0JMT0NLX1NJWkU6XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCkgOiBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJTExfQVZBSUxBQkxFX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCkgOiBnZXRGaWxsQXZhaWxhYmxlQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0SWRlYWxCbG9jaygpIDogZ2V0TWF4Q29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9IRUlHSFQ6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0TWF4Q29udGVudElubGluZSgpIDogZ2V0SWRlYWxCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NSU5fQ09OVEVOVF9XSURUSDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRJZGVhbEJsb2NrKCkgOiBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRNaW5Db250ZW50SW5saW5lKCkgOiBnZXRJZGVhbEJsb2NrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJVF9DT05URU5UX1dJRFRIOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldElkZWFsQmxvY2soKSA6IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfSEVJR0hUOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldEZpdENvbnRlbnRJbmxpbmUoKSA6IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJlc3VsdFtzaXplXSA9IHBhcnNlRmxvYXQocik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIG9yaWdpbmFsLnBvc2l0aW9uKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBvcmlnaW5hbC5kaXNwbGF5KTtcbiAgfSk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ3aWR0aFwiLCBvcmlnaW5hbC53aWR0aCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtYXgtd2lkdGhcIiwgb3JpZ2luYWwubWF4V2lkdGgpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLXdpZHRoXCIsIG9yaWdpbmFsLm1pbldpZHRoKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImhlaWdodFwiLCBvcmlnaW5hbC5oZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWF4LWhlaWdodFwiLCBvcmlnaW5hbC5tYXhIZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBvcmlnaW5hbC5taW5IZWlnaHQpO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gIHBhcmVudC5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBUaGlzIGxpYnJhcnkgbW9kaWZpZXMgdGhlIGRpZmYtcGF0Y2gtbWF0Y2ggbGlicmFyeSBieSBOZWlsIEZyYXNlclxuICogYnkgcmVtb3ZpbmcgdGhlIHBhdGNoIGFuZCBtYXRjaCBmdW5jdGlvbmFsaXR5IGFuZCBjZXJ0YWluIGFkdmFuY2VkXG4gKiBvcHRpb25zIGluIHRoZSBkaWZmIGZ1bmN0aW9uLiBUaGUgb3JpZ2luYWwgbGljZW5zZSBpcyBhcyBmb2xsb3dzOlxuICpcbiAqID09PVxuICpcbiAqIERpZmYgTWF0Y2ggYW5kIFBhdGNoXG4gKlxuICogQ29weXJpZ2h0IDIwMDYgR29vZ2xlIEluYy5cbiAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9nb29nbGUtZGlmZi1tYXRjaC1wYXRjaC9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGEgZGlmZiBpcyBhbiBhcnJheSBvZiB0dXBsZXM6XG4gKiBbW0RJRkZfREVMRVRFLCAnSGVsbG8nXSwgW0RJRkZfSU5TRVJULCAnR29vZGJ5ZSddLCBbRElGRl9FUVVBTCwgJyB3b3JsZC4nXV1cbiAqIHdoaWNoIG1lYW5zOiBkZWxldGUgJ0hlbGxvJywgYWRkICdHb29kYnllJyBhbmQga2VlcCAnIHdvcmxkLidcbiAqL1xudmFyIERJRkZfREVMRVRFID0gLTE7XG52YXIgRElGRl9JTlNFUlQgPSAxO1xudmFyIERJRkZfRVFVQUwgPSAwO1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBTaW1wbGlmaWVzIHRoZSBwcm9ibGVtIGJ5IHN0cmlwcGluZ1xuICogYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4IG9mZiB0aGUgdGV4dHMgYmVmb3JlIGRpZmZpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge0ludHxPYmplY3R9IFtjdXJzb3JfcG9zXSBFZGl0IHBvc2l0aW9uIGluIHRleHQxIG9yIG9iamVjdCB3aXRoIG1vcmUgaW5mb1xuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX21haW4odGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zLCBfZml4X3VuaWNvZGUpIHtcbiAgLy8gQ2hlY2sgZm9yIGVxdWFsaXR5XG4gIGlmICh0ZXh0MSA9PT0gdGV4dDIpIHtcbiAgICBpZiAodGV4dDEpIHtcbiAgICAgIHJldHVybiBbW0RJRkZfRVFVQUwsIHRleHQxXV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChjdXJzb3JfcG9zICE9IG51bGwpIHtcbiAgICB2YXIgZWRpdGRpZmYgPSBmaW5kX2N1cnNvcl9lZGl0X2RpZmYodGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zKTtcbiAgICBpZiAoZWRpdGRpZmYpIHtcbiAgICAgIHJldHVybiBlZGl0ZGlmZjtcbiAgICB9XG4gIH1cblxuICAvLyBUcmltIG9mZiBjb21tb24gcHJlZml4IChzcGVlZHVwKS5cbiAgdmFyIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mik7XG4gIHZhciBjb21tb25wcmVmaXggPSB0ZXh0MS5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcblxuICAvLyBUcmltIG9mZiBjb21tb24gc3VmZml4IChzcGVlZHVwKS5cbiAgY29tbW9ubGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKTtcbiAgdmFyIGNvbW1vbnN1ZmZpeCA9IHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZygwLCB0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0Mi5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuXG4gIC8vIENvbXB1dGUgdGhlIGRpZmYgb24gdGhlIG1pZGRsZSBibG9jay5cbiAgdmFyIGRpZmZzID0gZGlmZl9jb21wdXRlXyh0ZXh0MSwgdGV4dDIpO1xuXG4gIC8vIFJlc3RvcmUgdGhlIHByZWZpeCBhbmQgc3VmZml4LlxuICBpZiAoY29tbW9ucHJlZml4KSB7XG4gICAgZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgY29tbW9ucHJlZml4XSk7XG4gIH1cbiAgaWYgKGNvbW1vbnN1ZmZpeCkge1xuICAgIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGNvbW1vbnN1ZmZpeF0pO1xuICB9XG4gIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBfZml4X3VuaWNvZGUpO1xuICByZXR1cm4gZGlmZnM7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBBc3N1bWVzIHRoYXQgdGhlIHRleHRzIGRvIG5vdFxuICogaGF2ZSBhbnkgY29tbW9uIHByZWZpeCBvciBzdWZmaXguXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY29tcHV0ZV8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBkaWZmcztcblxuICBpZiAoIXRleHQxKSB7XG4gICAgLy8gSnVzdCBhZGQgc29tZSB0ZXh0IChzcGVlZHVwKS5cbiAgICByZXR1cm4gW1tESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIGlmICghdGV4dDIpIHtcbiAgICAvLyBKdXN0IGRlbGV0ZSBzb21lIHRleHQgKHNwZWVkdXApLlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV1dO1xuICB9XG5cbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIHZhciBpID0gbG9uZ3RleHQuaW5kZXhPZihzaG9ydHRleHQpO1xuICBpZiAoaSAhPT0gLTEpIHtcbiAgICAvLyBTaG9ydGVyIHRleHQgaXMgaW5zaWRlIHRoZSBsb25nZXIgdGV4dCAoc3BlZWR1cCkuXG4gICAgZGlmZnMgPSBbXG4gICAgICBbRElGRl9JTlNFUlQsIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKV0sXG4gICAgICBbRElGRl9FUVVBTCwgc2hvcnR0ZXh0XSxcbiAgICAgIFtESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBzaG9ydHRleHQubGVuZ3RoKV1cbiAgICBdO1xuICAgIC8vIFN3YXAgaW5zZXJ0aW9ucyBmb3IgZGVsZXRpb25zIGlmIGRpZmYgaXMgcmV2ZXJzZWQuXG4gICAgaWYgKHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCkge1xuICAgICAgZGlmZnNbMF1bMF0gPSBkaWZmc1syXVswXSA9IERJRkZfREVMRVRFO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZnM7XG4gIH1cblxuICBpZiAoc2hvcnR0ZXh0Lmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nLlxuICAgIC8vIEFmdGVyIHRoZSBwcmV2aW91cyBzcGVlZHVwLCB0aGUgY2hhcmFjdGVyIGNhbid0IGJlIGFuIGVxdWFsaXR5LlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgcHJvYmxlbSBjYW4gYmUgc3BsaXQgaW4gdHdvLlxuICB2YXIgaG0gPSBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKTtcbiAgaWYgKGhtKSB7XG4gICAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICAgIHZhciB0ZXh0MV9hID0gaG1bMF07XG4gICAgdmFyIHRleHQxX2IgPSBobVsxXTtcbiAgICB2YXIgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHZhciB0ZXh0Ml9iID0gaG1bM107XG4gICAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgICAvLyBTZW5kIGJvdGggcGFpcnMgb2ZmIGZvciBzZXBhcmF0ZSBwcm9jZXNzaW5nLlxuICAgIHZhciBkaWZmc19hID0gZGlmZl9tYWluKHRleHQxX2EsIHRleHQyX2EpO1xuICAgIHZhciBkaWZmc19iID0gZGlmZl9tYWluKHRleHQxX2IsIHRleHQyX2IpO1xuICAgIC8vIE1lcmdlIHRoZSByZXN1bHRzLlxuICAgIHJldHVybiBkaWZmc19hLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZF9jb21tb25dXSwgZGlmZnNfYik7XG4gIH1cblxuICByZXR1cm4gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mik7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgJ21pZGRsZSBzbmFrZScgb2YgYSBkaWZmLCBzcGxpdCB0aGUgcHJvYmxlbSBpbiB0d29cbiAqIGFuZCByZXR1cm4gdGhlIHJlY3Vyc2l2ZWx5IGNvbnN0cnVjdGVkIGRpZmYuXG4gKiBTZWUgTXllcnMgMTk4NiBwYXBlcjogQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mikge1xuICAvLyBDYWNoZSB0aGUgdGV4dCBsZW5ndGhzIHRvIHByZXZlbnQgbXVsdGlwbGUgY2FsbHMuXG4gIHZhciB0ZXh0MV9sZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIHZhciB0ZXh0Ml9sZW5ndGggPSB0ZXh0Mi5sZW5ndGg7XG4gIHZhciBtYXhfZCA9IE1hdGguY2VpbCgodGV4dDFfbGVuZ3RoICsgdGV4dDJfbGVuZ3RoKSAvIDIpO1xuICB2YXIgdl9vZmZzZXQgPSBtYXhfZDtcbiAgdmFyIHZfbGVuZ3RoID0gMiAqIG1heF9kO1xuICB2YXIgdjEgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICB2YXIgdjIgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICAvLyBTZXR0aW5nIGFsbCBlbGVtZW50cyB0byAtMSBpcyBmYXN0ZXIgaW4gQ2hyb21lICYgRmlyZWZveCB0aGFuIG1peGluZ1xuICAvLyBpbnRlZ2VycyBhbmQgdW5kZWZpbmVkLlxuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZfbGVuZ3RoOyB4KyspIHtcbiAgICB2MVt4XSA9IC0xO1xuICAgIHYyW3hdID0gLTE7XG4gIH1cbiAgdjFbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHYyW3Zfb2Zmc2V0ICsgMV0gPSAwO1xuICB2YXIgZGVsdGEgPSB0ZXh0MV9sZW5ndGggLSB0ZXh0Ml9sZW5ndGg7XG4gIC8vIElmIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBpcyBvZGQsIHRoZW4gdGhlIGZyb250IHBhdGggd2lsbCBjb2xsaWRlXG4gIC8vIHdpdGggdGhlIHJldmVyc2UgcGF0aC5cbiAgdmFyIGZyb250ID0gKGRlbHRhICUgMiAhPT0gMCk7XG4gIC8vIE9mZnNldHMgZm9yIHN0YXJ0IGFuZCBlbmQgb2YgayBsb29wLlxuICAvLyBQcmV2ZW50cyBtYXBwaW5nIG9mIHNwYWNlIGJleW9uZCB0aGUgZ3JpZC5cbiAgdmFyIGsxc3RhcnQgPSAwO1xuICB2YXIgazFlbmQgPSAwO1xuICB2YXIgazJzdGFydCA9IDA7XG4gIHZhciBrMmVuZCA9IDA7XG4gIGZvciAodmFyIGQgPSAwOyBkIDwgbWF4X2Q7IGQrKykge1xuICAgIC8vIFdhbGsgdGhlIGZyb250IHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazEgPSAtZCArIGsxc3RhcnQ7IGsxIDw9IGQgLSBrMWVuZDsgazEgKz0gMikge1xuICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgazE7XG4gICAgICB2YXIgeDE7XG4gICAgICBpZiAoazEgPT09IC1kIHx8IChrMSAhPT0gZCAmJiB2MVtrMV9vZmZzZXQgLSAxXSA8IHYxW2sxX29mZnNldCArIDFdKSkge1xuICAgICAgICB4MSA9IHYxW2sxX29mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDEgPSB2MVtrMV9vZmZzZXQgLSAxXSArIDE7XG4gICAgICB9XG4gICAgICB2YXIgeTEgPSB4MSAtIGsxO1xuICAgICAgd2hpbGUgKFxuICAgICAgICB4MSA8IHRleHQxX2xlbmd0aCAmJiB5MSA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICB0ZXh0MS5jaGFyQXQoeDEpID09PSB0ZXh0Mi5jaGFyQXQoeTEpXG4gICAgICApIHtcbiAgICAgICAgeDErKztcbiAgICAgICAgeTErKztcbiAgICAgIH1cbiAgICAgIHYxW2sxX29mZnNldF0gPSB4MTtcbiAgICAgIGlmICh4MSA+IHRleHQxX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSByaWdodCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkxID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIGJvdHRvbSBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbnQpIHtcbiAgICAgICAgdmFyIGsyX29mZnNldCA9IHZfb2Zmc2V0ICsgZGVsdGEgLSBrMTtcbiAgICAgICAgaWYgKGsyX29mZnNldCA+PSAwICYmIGsyX29mZnNldCA8IHZfbGVuZ3RoICYmIHYyW2syX29mZnNldF0gIT09IC0xKSB7XG4gICAgICAgICAgLy8gTWlycm9yIHgyIG9udG8gdG9wLWxlZnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICAgICAgdmFyIHgyID0gdGV4dDFfbGVuZ3RoIC0gdjJbazJfb2Zmc2V0XTtcbiAgICAgICAgICBpZiAoeDEgPj0geDIpIHtcbiAgICAgICAgICAgIC8vIE92ZXJsYXAgZGV0ZWN0ZWQuXG4gICAgICAgICAgICByZXR1cm4gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4MSwgeTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHJldmVyc2UgcGF0aCBvbmUgc3RlcC5cbiAgICBmb3IgKHZhciBrMiA9IC1kICsgazJzdGFydDsgazIgPD0gZCAtIGsyZW5kOyBrMiArPSAyKSB7XG4gICAgICB2YXIgazJfb2Zmc2V0ID0gdl9vZmZzZXQgKyBrMjtcbiAgICAgIHZhciB4MjtcbiAgICAgIGlmIChrMiA9PT0gLWQgfHwgKGsyICE9PSBkICYmIHYyW2syX29mZnNldCAtIDFdIDwgdjJbazJfb2Zmc2V0ICsgMV0pKSB7XG4gICAgICAgIHgyID0gdjJbazJfb2Zmc2V0ICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MiA9IHYyW2syX29mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIHZhciB5MiA9IHgyIC0gazI7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIHgyIDwgdGV4dDFfbGVuZ3RoICYmIHkyIDwgdGV4dDJfbGVuZ3RoICYmXG4gICAgICAgIHRleHQxLmNoYXJBdCh0ZXh0MV9sZW5ndGggLSB4MiAtIDEpID09PSB0ZXh0Mi5jaGFyQXQodGV4dDJfbGVuZ3RoIC0geTIgLSAxKVxuICAgICAgKSB7XG4gICAgICAgIHgyKys7XG4gICAgICAgIHkyKys7XG4gICAgICB9XG4gICAgICB2MltrMl9vZmZzZXRdID0geDI7XG4gICAgICBpZiAoeDIgPiB0ZXh0MV9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgbGVmdCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkyID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHRvcCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoIWZyb250KSB7XG4gICAgICAgIHZhciBrMV9vZmZzZXQgPSB2X29mZnNldCArIGRlbHRhIC0gazI7XG4gICAgICAgIGlmIChrMV9vZmZzZXQgPj0gMCAmJiBrMV9vZmZzZXQgPCB2X2xlbmd0aCAmJiB2MVtrMV9vZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIHZhciB4MSA9IHYxW2sxX29mZnNldF07XG4gICAgICAgICAgdmFyIHkxID0gdl9vZmZzZXQgKyB4MSAtIGsxX29mZnNldDtcbiAgICAgICAgICAvLyBNaXJyb3IgeDIgb250byB0b3AtbGVmdCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgICB4MiA9IHRleHQxX2xlbmd0aCAtIHgyO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgLy8gT3ZlcmxhcCBkZXRlY3RlZC5cbiAgICAgICAgICAgIHJldHVybiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpZmYgdG9vayB0b28gbG9uZyBhbmQgaGl0IHRoZSBkZWFkbGluZSBvclxuICAvLyBudW1iZXIgb2YgZGlmZnMgZXF1YWxzIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBubyBjb21tb25hbGl0eSBhdCBhbGwuXG4gIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbn07XG5cblxuLyoqXG4gKiBHaXZlbiB0aGUgbG9jYXRpb24gb2YgdGhlICdtaWRkbGUgc25ha2UnLCBzcGxpdCB0aGUgZGlmZiBpbiB0d28gcGFydHNcbiAqIGFuZCByZWN1cnNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHggSW5kZXggb2Ygc3BsaXQgcG9pbnQgaW4gdGV4dDEuXG4gKiBAcGFyYW0ge251bWJlcn0geSBJbmRleCBvZiBzcGxpdCBwb2ludCBpbiB0ZXh0Mi5cbiAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4LCB5KSB7XG4gIHZhciB0ZXh0MWEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgeCk7XG4gIHZhciB0ZXh0MmEgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgeSk7XG4gIHZhciB0ZXh0MWIgPSB0ZXh0MS5zdWJzdHJpbmcoeCk7XG4gIHZhciB0ZXh0MmIgPSB0ZXh0Mi5zdWJzdHJpbmcoeSk7XG5cbiAgLy8gQ29tcHV0ZSBib3RoIGRpZmZzIHNlcmlhbGx5LlxuICB2YXIgZGlmZnMgPSBkaWZmX21haW4odGV4dDFhLCB0ZXh0MmEpO1xuICB2YXIgZGlmZnNiID0gZGlmZl9tYWluKHRleHQxYiwgdGV4dDJiKTtcblxuICByZXR1cm4gZGlmZnMuY29uY2F0KGRpZmZzYik7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBjb21tb24gcHJlZml4IG9mIHR3byBzdHJpbmdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBzdGFydCBvZiBlYWNoXG4gKiAgICAgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbW1vblByZWZpeCh0ZXh0MSwgdGV4dDIpIHtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIGNvbW1vbiBudWxsIGNhc2VzLlxuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MS5jaGFyQXQoMCkgIT09IHRleHQyLmNoYXJBdCgwKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIEJpbmFyeSBzZWFyY2guXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5c2lzOiBodHRwOi8vbmVpbC5mcmFzZXIubmFtZS9uZXdzLzIwMDcvMTAvMDkvXG4gIHZhciBwb2ludGVybWluID0gMDtcbiAgdmFyIHBvaW50ZXJtYXggPSBNYXRoLm1pbih0ZXh0MS5sZW5ndGgsIHRleHQyLmxlbmd0aCk7XG4gIHZhciBwb2ludGVybWlkID0gcG9pbnRlcm1heDtcbiAgdmFyIHBvaW50ZXJzdGFydCA9IDA7XG4gIHdoaWxlIChwb2ludGVybWluIDwgcG9pbnRlcm1pZCkge1xuICAgIGlmIChcbiAgICAgIHRleHQxLnN1YnN0cmluZyhwb2ludGVyc3RhcnQsIHBvaW50ZXJtaWQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcocG9pbnRlcnN0YXJ0LCBwb2ludGVybWlkKVxuICAgICkge1xuICAgICAgcG9pbnRlcm1pbiA9IHBvaW50ZXJtaWQ7XG4gICAgICBwb2ludGVyc3RhcnQgPSBwb2ludGVybWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVybWF4ID0gcG9pbnRlcm1pZDtcbiAgICB9XG4gICAgcG9pbnRlcm1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJtYXggLSBwb2ludGVybWluKSAvIDIgKyBwb2ludGVybWluKTtcbiAgfVxuXG4gIGlmIChpc19zdXJyb2dhdGVfcGFpcl9zdGFydCh0ZXh0MS5jaGFyQ29kZUF0KHBvaW50ZXJtaWQgLSAxKSkpIHtcbiAgICBwb2ludGVybWlkLS07XG4gIH1cblxuICByZXR1cm4gcG9pbnRlcm1pZDtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGNvbW1vbiBzdWZmaXggb2YgdHdvIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb21tb24gdG8gdGhlIGVuZCBvZiBlYWNoIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKSB7XG4gIC8vIFF1aWNrIGNoZWNrIGZvciBjb21tb24gbnVsbCBjYXNlcy5cbiAgaWYgKCF0ZXh0MSB8fCAhdGV4dDIgfHwgdGV4dDEuc2xpY2UoLTEpICE9PSB0ZXh0Mi5zbGljZSgtMSkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyZW5kID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJtaW4gPCBwb2ludGVybWlkKSB7XG4gICAgaWYgKFxuICAgICAgdGV4dDEuc3Vic3RyaW5nKHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQsIHRleHQxLmxlbmd0aCAtIHBvaW50ZXJlbmQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcodGV4dDIubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDIubGVuZ3RoIC0gcG9pbnRlcmVuZClcbiAgICApIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcmVuZCA9IHBvaW50ZXJtaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJtYXggPSBwb2ludGVybWlkO1xuICAgIH1cbiAgICBwb2ludGVybWlkID0gTWF0aC5mbG9vcigocG9pbnRlcm1heCAtIHBvaW50ZXJtaW4pIC8gMiArIHBvaW50ZXJtaW4pO1xuICB9XG5cbiAgaWYgKGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCh0ZXh0MS5jaGFyQ29kZUF0KHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQpKSkge1xuICAgIHBvaW50ZXJtaWQtLTtcbiAgfVxuXG4gIHJldHVybiBwb2ludGVybWlkO1xufTtcblxuXG4vKipcbiAqIERvIHRoZSB0d28gdGV4dHMgc2hhcmUgYSBzdWJzdHJpbmcgd2hpY2ggaXMgYXQgbGVhc3QgaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZVxuICogbG9uZ2VyIHRleHQ/XG4gKiBUaGlzIHNwZWVkdXAgY2FuIHByb2R1Y2Ugbm9uLW1pbmltYWwgZGlmZnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn0gRml2ZSBlbGVtZW50IEFycmF5LCBjb250YWluaW5nIHRoZSBwcmVmaXggb2ZcbiAqICAgICB0ZXh0MSwgdGhlIHN1ZmZpeCBvZiB0ZXh0MSwgdGhlIHByZWZpeCBvZiB0ZXh0MiwgdGhlIHN1ZmZpeCBvZlxuICogICAgIHRleHQyIGFuZCB0aGUgY29tbW9uIG1pZGRsZS4gIE9yIG51bGwgaWYgdGhlcmUgd2FzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBsb25ndGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQxIDogdGV4dDI7XG4gIHZhciBzaG9ydHRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxO1xuICBpZiAobG9uZ3RleHQubGVuZ3RoIDwgNCB8fCBzaG9ydHRleHQubGVuZ3RoICogMiA8IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsOyAgLy8gUG9pbnRsZXNzLlxuICB9XG5cbiAgLyoqXG4gICAqIERvZXMgYSBzdWJzdHJpbmcgb2Ygc2hvcnR0ZXh0IGV4aXN0IHdpdGhpbiBsb25ndGV4dCBzdWNoIHRoYXQgdGhlIHN1YnN0cmluZ1xuICAgKiBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgbG9uZ3RleHQ/XG4gICAqIENsb3N1cmUsIGJ1dCBkb2VzIG5vdCByZWZlcmVuY2UgYW55IGV4dGVybmFsIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvbmd0ZXh0IExvbmdlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydHRleHQgU2hvcnRlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFN0YXJ0IGluZGV4IG9mIHF1YXJ0ZXIgbGVuZ3RoIHN1YnN0cmluZyB3aXRoaW4gbG9uZ3RleHQuXG4gICAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICAgKiAgICAgbG9uZ3RleHQsIHRoZSBzdWZmaXggb2YgbG9uZ3RleHQsIHRoZSBwcmVmaXggb2Ygc2hvcnR0ZXh0LCB0aGUgc3VmZml4XG4gICAqICAgICBvZiBzaG9ydHRleHQgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIGkpIHtcbiAgICAvLyBTdGFydCB3aXRoIGEgMS80IGxlbmd0aCBzdWJzdHJpbmcgYXQgcG9zaXRpb24gaSBhcyBhIHNlZWQuXG4gICAgdmFyIHNlZWQgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSwgaSArIE1hdGguZmxvb3IobG9uZ3RleHQubGVuZ3RoIC8gNCkpO1xuICAgIHZhciBqID0gLTE7XG4gICAgdmFyIGJlc3RfY29tbW9uID0gJyc7XG4gICAgdmFyIGJlc3RfbG9uZ3RleHRfYSwgYmVzdF9sb25ndGV4dF9iLCBiZXN0X3Nob3J0dGV4dF9hLCBiZXN0X3Nob3J0dGV4dF9iO1xuICAgIHdoaWxlICgoaiA9IHNob3J0dGV4dC5pbmRleE9mKHNlZWQsIGogKyAxKSkgIT09IC0xKSB7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gZGlmZl9jb21tb25QcmVmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZyhpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZyhqKSk7XG4gICAgICB2YXIgc3VmZml4TGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqKSk7XG4gICAgICBpZiAoYmVzdF9jb21tb24ubGVuZ3RoIDwgc3VmZml4TGVuZ3RoICsgcHJlZml4TGVuZ3RoKSB7XG4gICAgICAgIGJlc3RfY29tbW9uID0gc2hvcnR0ZXh0LnN1YnN0cmluZyhcbiAgICAgICAgICBqIC0gc3VmZml4TGVuZ3RoLCBqKSArIHNob3J0dGV4dC5zdWJzdHJpbmcoaiwgaiArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3RfbG9uZ3RleHRfYSA9IGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9iID0gbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9hID0gc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYiA9IHNob3J0dGV4dC5zdWJzdHJpbmcoaiArIHByZWZpeExlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggKiAyID49IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9hLCBiZXN0X2xvbmd0ZXh0X2IsXG4gICAgICAgIGJlc3Rfc2hvcnR0ZXh0X2EsIGJlc3Rfc2hvcnR0ZXh0X2IsIGJlc3RfY29tbW9uXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2Vjb25kIHF1YXJ0ZXIgaXMgdGhlIHNlZWQgZm9yIGEgaGFsZi1tYXRjaC5cbiAgdmFyIGhtMSA9IGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCwgTWF0aC5jZWlsKGxvbmd0ZXh0Lmxlbmd0aCAvIDQpKTtcbiAgLy8gQ2hlY2sgYWdhaW4gYmFzZWQgb24gdGhlIHRoaXJkIHF1YXJ0ZXIuXG4gIHZhciBobTIgPSBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyAyKSk7XG4gIHZhciBobTtcbiAgaWYgKCFobTEgJiYgIWhtMikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKCFobTIpIHtcbiAgICBobSA9IGhtMTtcbiAgfSBlbHNlIGlmICghaG0xKSB7XG4gICAgaG0gPSBobTI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQm90aCBtYXRjaGVkLiAgU2VsZWN0IHRoZSBsb25nZXN0LlxuICAgIGhtID0gaG0xWzRdLmxlbmd0aCA+IGhtMls0XS5sZW5ndGggPyBobTEgOiBobTI7XG4gIH1cblxuICAvLyBBIGhhbGYtbWF0Y2ggd2FzIGZvdW5kLCBzb3J0IG91dCB0aGUgcmV0dXJuIGRhdGEuXG4gIHZhciB0ZXh0MV9hLCB0ZXh0MV9iLCB0ZXh0Ml9hLCB0ZXh0Ml9iO1xuICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgdGV4dDFfYSA9IGhtWzBdO1xuICAgIHRleHQxX2IgPSBobVsxXTtcbiAgICB0ZXh0Ml9hID0gaG1bMl07XG4gICAgdGV4dDJfYiA9IGhtWzNdO1xuICB9IGVsc2Uge1xuICAgIHRleHQyX2EgPSBobVswXTtcbiAgICB0ZXh0Ml9iID0gaG1bMV07XG4gICAgdGV4dDFfYSA9IGhtWzJdO1xuICAgIHRleHQxX2IgPSBobVszXTtcbiAgfVxuICB2YXIgbWlkX2NvbW1vbiA9IGhtWzRdO1xuICByZXR1cm4gW3RleHQxX2EsIHRleHQxX2IsIHRleHQyX2EsIHRleHQyX2IsIG1pZF9jb21tb25dO1xufTtcblxuXG4vKipcbiAqIFJlb3JkZXIgYW5kIG1lcmdlIGxpa2UgZWRpdCBzZWN0aW9ucy4gIE1lcmdlIGVxdWFsaXRpZXMuXG4gKiBBbnkgZWRpdCBzZWN0aW9uIGNhbiBtb3ZlIGFzIGxvbmcgYXMgaXQgZG9lc24ndCBjcm9zcyBhbiBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHtib29sZWFufSBmaXhfdW5pY29kZSBXaGV0aGVyIHRvIG5vcm1hbGl6ZSB0byBhIHVuaWNvZGUtY29ycmVjdCBkaWZmXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBmaXhfdW5pY29kZSkge1xuICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCAnJ10pOyAgLy8gQWRkIGEgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cbiAgdmFyIHBvaW50ZXIgPSAwO1xuICB2YXIgY291bnRfZGVsZXRlID0gMDtcbiAgdmFyIGNvdW50X2luc2VydCA9IDA7XG4gIHZhciB0ZXh0X2RlbGV0ZSA9ICcnO1xuICB2YXIgdGV4dF9pbnNlcnQgPSAnJztcbiAgdmFyIGNvbW1vbmxlbmd0aDtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc3dpdGNoIChkaWZmc1twb2ludGVyXVswXSkge1xuICAgICAgY2FzZSBESUZGX0lOU0VSVDpcblxuICAgICAgICBjb3VudF9pbnNlcnQrKztcbiAgICAgICAgdGV4dF9pbnNlcnQgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgdGV4dF9kZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIHZhciBwcmV2aW91c19lcXVhbGl0eSA9IHBvaW50ZXIgLSBjb3VudF9pbnNlcnQgLSBjb3VudF9kZWxldGUgLSAxO1xuICAgICAgICBpZiAoZml4X3VuaWNvZGUpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHNwbGl0dGluZyBvZiB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlycy4gIHdoZW4gZml4X3VuaWNvZGUgaXMgdHJ1ZSxcbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCB0aGUgb2xkIGFuZCBuZXcgdGV4dCBpbiB0aGUgZGlmZiBhcmUgY29tcGxldGUgYW5kIGNvcnJlY3RcbiAgICAgICAgICAvLyB1bmljb2RlLWVuY29kZWQgSlMgc3RyaW5ncywgYnV0IHRoZSB0dXBsZSBib3VuZGFyaWVzIG1heSBmYWxsIGJldHdlZW5cbiAgICAgICAgICAvLyBzdXJyb2dhdGUgcGFpcnMuICB3ZSBmaXggdGhpcyBieSBzaGF2aW5nIG9mZiBzdHJheSBzdXJyb2dhdGVzIGZyb20gdGhlIGVuZFxuICAgICAgICAgIC8vIG9mIHRoZSBwcmV2aW91cyBlcXVhbGl0eSBhbmQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGVxdWFsaXR5LiAgdGhpcyBtYXkgY3JlYXRlXG4gICAgICAgICAgLy8gZW1wdHkgZXF1YWxpdGllcyBvciBhIGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LiAgZm9yIGV4YW1wbGUsIGlmIEFCIGFuZCBBQyBhcmVcbiAgICAgICAgICAvLyBlbW9qaXMsIGBbWzAsICdBJ10sIFstMSwgJ0JBJ10sIFswLCAnQyddXWAgd291bGQgdHVybiBpbnRvIGRlbGV0aW5nICdBQkFDJyBhbmRcbiAgICAgICAgICAvLyBpbnNlcnRpbmcgJ0FDJywgYW5kIHRoZW4gdGhlIGNvbW1vbiBzdWZmaXggJ0FDJyB3aWxsIGJlIGVsaW1pbmF0ZWQuICBpbiB0aGlzXG4gICAgICAgICAgLy8gcGFydGljdWxhciBjYXNlLCBib3RoIGVxdWFsaXRpZXMgZ28gYXdheSwgd2UgYWJzb3JiIGFueSBwcmV2aW91cyBpbmVxdWFsaXRpZXMsXG4gICAgICAgICAgLy8gYW5kIHdlIGtlZXAgc2Nhbm5pbmcgZm9yIHRoZSBuZXh0IGVxdWFsaXR5IGJlZm9yZSByZXdyaXRpbmcgdGhlIHR1cGxlcy5cbiAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCAmJiBlbmRzX3dpdGhfcGFpcl9zdGFydChkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0pKSB7XG4gICAgICAgICAgICB2YXIgc3RyYXkgPSBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0uc2xpY2UoLTEpO1xuICAgICAgICAgICAgZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdID0gZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIHRleHRfZGVsZXRlID0gc3RyYXkgKyB0ZXh0X2RlbGV0ZTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gc3RyYXkgKyB0ZXh0X2luc2VydDtcbiAgICAgICAgICAgIGlmICghZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdKSB7XG4gICAgICAgICAgICAgIC8vIGVtcHRpZWQgb3V0IHByZXZpb3VzIGVxdWFsaXR5LCBzbyBkZWxldGUgaXQgYW5kIGluY2x1ZGUgcHJldmlvdXMgZGVsZXRlL2luc2VydFxuICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UocHJldmlvdXNfZXF1YWxpdHksIDEpO1xuICAgICAgICAgICAgICBwb2ludGVyLS07XG4gICAgICAgICAgICAgIHZhciBrID0gcHJldmlvdXNfZXF1YWxpdHkgLSAxO1xuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICAgICAgICAgICAgY291bnRfaW5zZXJ0Kys7XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSBkaWZmc1trXVsxXSArIHRleHRfaW5zZXJ0O1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfREVMRVRFKSB7XG4gICAgICAgICAgICAgICAgY291bnRfZGVsZXRlKys7XG4gICAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSBkaWZmc1trXVsxXSArIHRleHRfZGVsZXRlO1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c19lcXVhbGl0eSA9IGs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGFydHNfd2l0aF9wYWlyX2VuZChkaWZmc1twb2ludGVyXVsxXSkpIHtcbiAgICAgICAgICAgIHZhciBzdHJheSA9IGRpZmZzW3BvaW50ZXJdWzFdLmNoYXJBdCgwKTtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlcl1bMV0uc2xpY2UoMSk7XG4gICAgICAgICAgICB0ZXh0X2RlbGV0ZSArPSBzdHJheTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ICs9IHN0cmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICAgICAgLy8gZm9yIGVtcHR5IGVxdWFsaXR5IG5vdCBhdCBlbmQsIHdhaXQgZm9yIG5leHQgZXF1YWxpdHlcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA+IDAgfHwgdGV4dF9pbnNlcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIG5vdGUgdGhhdCBkaWZmX2NvbW1vblByZWZpeCBhbmQgZGlmZl9jb21tb25TdWZmaXggYXJlIHVuaWNvZGUtYXdhcmVcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID4gMCAmJiB0ZXh0X2luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gcHJlZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXSArPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UoMCwgMCwgW0RJRkZfRVFVQUwsIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gdGV4dF9pbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICAgIHRleHRfZGVsZXRlID0gdGV4dF9kZWxldGUuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gc3VmZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQuc3Vic3RyaW5nKHRleHRfaW5zZXJ0Lmxlbmd0aCAtIGNvbW1vbmxlbmd0aCkgKyBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgdGV4dF9pbnNlcnQubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoMCwgdGV4dF9kZWxldGUubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRGVsZXRlIHRoZSBvZmZlbmRpbmcgcmVjb3JkcyBhbmQgYWRkIHRoZSBtZXJnZWQgb25lcy5cbiAgICAgICAgICB2YXIgbiA9IGNvdW50X2luc2VydCArIGNvdW50X2RlbGV0ZTtcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID09PSAwICYmIHRleHRfaW5zZXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuLCBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XSk7XG4gICAgICAgICAgICBwb2ludGVyID0gcG9pbnRlciAtIG4gKyAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dF9pbnNlcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4sIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gbiwgbiwgW0RJRkZfREVMRVRFLCB0ZXh0X2RlbGV0ZV0sIFtESUZGX0lOU0VSVCwgdGV4dF9pbnNlcnRdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludGVyICE9PSAwICYmIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIC8vIE1lcmdlIHRoaXMgZXF1YWxpdHkgd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50X2luc2VydCA9IDA7XG4gICAgICAgIGNvdW50X2RlbGV0ZSA9IDA7XG4gICAgICAgIHRleHRfZGVsZXRlID0gJyc7XG4gICAgICAgIHRleHRfaW5zZXJ0ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gPT09ICcnKSB7XG4gICAgZGlmZnMucG9wKCk7ICAvLyBSZW1vdmUgdGhlIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIH1cblxuICAvLyBTZWNvbmQgcGFzczogbG9vayBmb3Igc2luZ2xlIGVkaXRzIHN1cnJvdW5kZWQgb24gYm90aCBzaWRlcyBieSBlcXVhbGl0aWVzXG4gIC8vIHdoaWNoIGNhbiBiZSBzaGlmdGVkIHNpZGV3YXlzIHRvIGVsaW1pbmF0ZSBhbiBlcXVhbGl0eS5cbiAgLy8gZS5nOiBBPGlucz5CQTwvaW5zPkMgLT4gPGlucz5BQjwvaW5zPkFDXG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHBvaW50ZXIgPSAxO1xuICAvLyBJbnRlbnRpb25hbGx5IGlnbm9yZSB0aGUgZmlyc3QgYW5kIGxhc3QgZWxlbWVudCAoZG9uJ3QgbmVlZCBjaGVja2luZykuXG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSkge1xuICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMF0gPT09IERJRkZfRVFVQUwgJiZcbiAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSBlZGl0IHN1cnJvdW5kZWQgYnkgZXF1YWxpdGllcy5cbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC1cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCkgPT09IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSkge1xuICAgICAgICAvLyBTaGlmdCB0aGUgZWRpdCBvdmVyIHRoZSBwcmV2aW91cyBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyIC0gMV1bMV0gK1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLVxuICAgICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCk7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArIGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSAxLCAxKTtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSA9PVxuICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0pIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgbmV4dCBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSArXG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIC8vIElmIHNoaWZ0cyB3ZXJlIG1hZGUsIHRoZSBkaWZmIG5lZWRzIHJlb3JkZXJpbmcgYW5kIGFub3RoZXIgc2hpZnQgc3dlZXAuXG4gIGlmIChjaGFuZ2VzKSB7XG4gICAgZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIGZpeF91bmljb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQoY2hhckNvZGUpIHtcbiAgcmV0dXJuIGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkY7XG59XG5cbmZ1bmN0aW9uIGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZChjaGFyQ29kZSkge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhEQzAwICYmIGNoYXJDb2RlIDw9IDB4REZGRjtcbn1cblxuZnVuY3Rpb24gc3RhcnRzX3dpdGhfcGFpcl9lbmQoc3RyKSB7XG4gIHJldHVybiBpc19zdXJyb2dhdGVfcGFpcl9lbmQoc3RyLmNoYXJDb2RlQXQoMCkpO1xufVxuXG5mdW5jdGlvbiBlbmRzX3dpdGhfcGFpcl9zdGFydChzdHIpIHtcbiAgcmV0dXJuIGlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0KHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSAxKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZV9lbXB0eV90dXBsZXModHVwbGVzKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0dXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHVwbGVzW2ldWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldC5wdXNoKHR1cGxlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VfZWRpdF9zcGxpY2UoYmVmb3JlLCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgYWZ0ZXIpIHtcbiAgaWYgKGVuZHNfd2l0aF9wYWlyX3N0YXJ0KGJlZm9yZSkgfHwgc3RhcnRzX3dpdGhfcGFpcl9lbmQoYWZ0ZXIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlbW92ZV9lbXB0eV90dXBsZXMoW1xuICAgIFtESUZGX0VRVUFMLCBiZWZvcmVdLFxuICAgIFtESUZGX0RFTEVURSwgb2xkTWlkZGxlXSxcbiAgICBbRElGRl9JTlNFUlQsIG5ld01pZGRsZV0sXG4gICAgW0RJRkZfRVFVQUwsIGFmdGVyXVxuICBdKTtcbn1cblxuZnVuY3Rpb24gZmluZF9jdXJzb3JfZWRpdF9kaWZmKG9sZFRleHQsIG5ld1RleHQsIGN1cnNvcl9wb3MpIHtcbiAgLy8gbm90ZTogdGhpcyBydW5zIGFmdGVyIGVxdWFsaXR5IGNoZWNrIGhhcyBydWxlZCBvdXQgZXhhY3QgZXF1YWxpdHlcbiAgdmFyIG9sZFJhbmdlID0gdHlwZW9mIGN1cnNvcl9wb3MgPT09ICdudW1iZXInID9cbiAgICB7IGluZGV4OiBjdXJzb3JfcG9zLCBsZW5ndGg6IDAgfSA6IGN1cnNvcl9wb3Mub2xkUmFuZ2U7XG4gIHZhciBuZXdSYW5nZSA9IHR5cGVvZiBjdXJzb3JfcG9zID09PSAnbnVtYmVyJyA/XG4gICAgbnVsbCA6IGN1cnNvcl9wb3MubmV3UmFuZ2U7XG4gIC8vIHRha2UgaW50byBhY2NvdW50IHRoZSBvbGQgYW5kIG5ldyBzZWxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGJlc3QgZGlmZlxuICAvLyBwb3NzaWJsZSBmb3IgYSB0ZXh0IGVkaXQuICBmb3IgZXhhbXBsZSwgYSB0ZXh0IGNoYW5nZSBmcm9tIFwieHh4XCIgdG8gXCJ4eFwiXG4gIC8vIGNvdWxkIGJlIGEgZGVsZXRlIG9yIGZvcndhcmRzLWRlbGV0ZSBvZiBhbnkgb25lIG9mIHRoZSB4J3MsIG9yIHRoZVxuICAvLyByZXN1bHQgb2Ygc2VsZWN0aW5nIHR3byBvZiB0aGUgeCdzIGFuZCB0eXBpbmcgXCJ4XCIuXG4gIHZhciBvbGRMZW5ndGggPSBvbGRUZXh0Lmxlbmd0aDtcbiAgdmFyIG5ld0xlbmd0aCA9IG5ld1RleHQubGVuZ3RoO1xuICBpZiAob2xkUmFuZ2UubGVuZ3RoID09PSAwICYmIChuZXdSYW5nZSA9PT0gbnVsbCB8fCBuZXdSYW5nZS5sZW5ndGggPT09IDApKSB7XG4gICAgLy8gc2VlIGlmIHdlIGhhdmUgYW4gaW5zZXJ0IG9yIGRlbGV0ZSBiZWZvcmUgb3IgYWZ0ZXIgY3Vyc29yXG4gICAgdmFyIG9sZEN1cnNvciA9IG9sZFJhbmdlLmluZGV4O1xuICAgIHZhciBvbGRCZWZvcmUgPSBvbGRUZXh0LnNsaWNlKDAsIG9sZEN1cnNvcik7XG4gICAgdmFyIG9sZEFmdGVyID0gb2xkVGV4dC5zbGljZShvbGRDdXJzb3IpO1xuICAgIHZhciBtYXliZU5ld0N1cnNvciA9IG5ld1JhbmdlID8gbmV3UmFuZ2UuaW5kZXggOiBudWxsO1xuICAgIGVkaXRCZWZvcmU6IHtcbiAgICAgIC8vIGlzIHRoaXMgYW4gaW5zZXJ0IG9yIGRlbGV0ZSByaWdodCBiZWZvcmUgb2xkQ3Vyc29yP1xuICAgICAgdmFyIG5ld0N1cnNvciA9IG9sZEN1cnNvciArIG5ld0xlbmd0aCAtIG9sZExlbmd0aDtcbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gbmV3Q3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICBpZiAobmV3Q3Vyc29yIDwgMCB8fCBuZXdDdXJzb3IgPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdCZWZvcmUgPSBuZXdUZXh0LnNsaWNlKDAsIG5ld0N1cnNvcik7XG4gICAgICB2YXIgbmV3QWZ0ZXIgPSBuZXdUZXh0LnNsaWNlKG5ld0N1cnNvcik7XG4gICAgICBpZiAobmV3QWZ0ZXIgIT09IG9sZEFmdGVyKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gTWF0aC5taW4ob2xkQ3Vyc29yLCBuZXdDdXJzb3IpO1xuICAgICAgdmFyIG9sZFByZWZpeCA9IG9sZEJlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1ByZWZpeCA9IG5ld0JlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFByZWZpeCAhPT0gbmV3UHJlZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkQmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3QmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRBZnRlcik7XG4gICAgfVxuICAgIGVkaXRBZnRlcjoge1xuICAgICAgLy8gaXMgdGhpcyBhbiBpbnNlcnQgb3IgZGVsZXRlIHJpZ2h0IGFmdGVyIG9sZEN1cnNvcj9cbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gb2xkQ3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJzb3IgPSBvbGRDdXJzb3I7XG4gICAgICB2YXIgbmV3QmVmb3JlID0gbmV3VGV4dC5zbGljZSgwLCBjdXJzb3IpO1xuICAgICAgdmFyIG5ld0FmdGVyID0gbmV3VGV4dC5zbGljZShjdXJzb3IpO1xuICAgICAgaWYgKG5ld0JlZm9yZSAhPT0gb2xkQmVmb3JlKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGggLSBjdXJzb3IsIG5ld0xlbmd0aCAtIGN1cnNvcik7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkQWZ0ZXIuc2xpY2Uob2xkQWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdTdWZmaXggPSBuZXdBZnRlci5zbGljZShuZXdBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFN1ZmZpeCAhPT0gbmV3U3VmZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRNaWRkbGUgPSBvbGRBZnRlci5zbGljZSgwLCBvbGRBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld01pZGRsZSA9IG5ld0FmdGVyLnNsaWNlKDAsIG5ld0FmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRCZWZvcmUsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuICBpZiAob2xkUmFuZ2UubGVuZ3RoID4gMCAmJiBuZXdSYW5nZSAmJiBuZXdSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICByZXBsYWNlUmFuZ2U6IHtcbiAgICAgIC8vIHNlZSBpZiBkaWZmIGNvdWxkIGJlIGEgc3BsaWNlIG9mIHRoZSBvbGQgc2VsZWN0aW9uIHJhbmdlXG4gICAgICB2YXIgb2xkUHJlZml4ID0gb2xkVGV4dC5zbGljZSgwLCBvbGRSYW5nZS5pbmRleCk7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkVGV4dC5zbGljZShvbGRSYW5nZS5pbmRleCArIG9sZFJhbmdlLmxlbmd0aCk7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gb2xkUHJlZml4Lmxlbmd0aDtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBvbGRTdWZmaXgubGVuZ3RoO1xuICAgICAgaWYgKG5ld0xlbmd0aCA8IHByZWZpeExlbmd0aCArIHN1ZmZpeExlbmd0aCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgbmV3UHJlZml4ID0gbmV3VGV4dC5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1N1ZmZpeCA9IG5ld1RleHQuc2xpY2UobmV3TGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIGlmIChvbGRQcmVmaXggIT09IG5ld1ByZWZpeCB8fCBvbGRTdWZmaXggIT09IG5ld1N1ZmZpeCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkVGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG9sZExlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3VGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG5ld0xlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkaWZmKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3Bvcykge1xuICAvLyBvbmx5IHBhc3MgZml4X3VuaWNvZGU9dHJ1ZSBhdCB0aGUgdG9wIGxldmVsLCBub3Qgd2hlbiBkaWZmX21haW4gaXNcbiAgLy8gcmVjdXJzaXZlbHkgaW52b2tlZFxuICByZXR1cm4gZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3BvcywgdHJ1ZSk7XG59XG5cbmRpZmYuSU5TRVJUID0gRElGRl9JTlNFUlQ7XG5kaWZmLkRFTEVURSA9IERJRkZfREVMRVRFO1xuZGlmZi5FUVVBTCA9IERJRkZfRVFVQUw7XG5cbm1vZHVsZS5leHBvcnRzID0gZGlmZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBUeXBlcyAtIFR5cGUgZGVmaW5paW9ucy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcblxuZXhwb3J0IHR5cGUgRm9ybWF0dGluZ0NvbnRleHRUeXBlID1cbiAgfCBcIkJsb2NrXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlXCI7XG5cbmV4cG9ydCB0eXBlIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICB8IFwiQWZ0ZXJJZkNvbnRpbnVlXCJcbiAgfCBcIkVudGlyZVRhYmxlXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlUm93XCI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzQ2FzY2FkZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFN0eWxlIHt9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzU3R5bGVyIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdFN0eWxlciB7XG4gICAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHByb2Nlc3NDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGF5b3V0IHtcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgYSBjb25zdHJhaW50IG9uIGxheW91dFxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgY29uc3RyYWludCBhbGxvd3MgdGhlIG5vZGUgY29udGV4dCB0byBiZSBsYWlkIG91dCBhdCB0aGVcbiAgICAgKiBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgY29uc3RyYWludHMgb24gbGF5aW5nIG91dCBmcmFnbWVudHNcbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50IHtcbiAgICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIGFsbG93TGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogYm9vbGVhbjtcbiAgICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgcG9zdExheW91dChcbiAgICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IENvbHVtbixcbiAgICApO1xuICAgIGZpbmlzaEJyZWFrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgZXF1YWxzVG8oY29uc3RyYWludDogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbjtcbiAgICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQnJlYWtQb3NpdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBicmVhayBwb3NpdGlvbiwgaWYgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbjogQ29sdW1uLCBwZW5hbHR5OiBudW1iZXIpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHBlbmFsdHkgZm9yIHRoaXMgYnJlYWsgcG9zaXRpb25cbiAgICAgKi9cbiAgICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU9mZnNldChjb2x1bW46IENvbHVtbik6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfTtcbiAgICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogQ29sdW1uKTogdm9pZDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbiB7XG4gICAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1cblxuICBleHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQgPSB7XG4gICAgYnJlYWtQb3NpdGlvbjogQnJlYWtQb3NpdGlvbjtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBpbnNpZGUgQ1NTIGJveCAoYmV0d2VlbiBsaW5lcykuXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yXG4gICAqICAgIGJyZWFrYWJsZSBibG9ja1xuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBCb3hCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZWFkb25seSBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXTtcbiAgICByZWFkb25seSBwZW5hbHR5OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogUG90ZW50aWFsIGVkZ2UgYnJlYWtpbmcgcG9zaXRpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVkZ2VCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDogYm9vbGVhbjtcbiAgICByZWFkb25seSBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVhZG9ubHkgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgb3ZlcmZsb3dzOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbHVtbiBleHRlbmRzIFZ0cmVlLkNvbnRhaW5lciB7XG4gICAgbGFzdDogTm9kZTtcbiAgICB2aWV3RG9jdW1lbnQ6IERvY3VtZW50O1xuICAgIGZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlzRmxvYXQ6IGJvb2xlYW47XG4gICAgaXNGb290bm90ZTogYm9vbGVhbjtcbiAgICBzdGFydEVkZ2U6IG51bWJlcjtcbiAgICBlbmRFZGdlOiBudW1iZXI7XG4gICAgYmVmb3JlRWRnZTogbnVtYmVyO1xuICAgIGFmdGVyRWRnZTogbnVtYmVyO1xuICAgIGZvb3Rub3RlRWRnZTogbnVtYmVyO1xuICAgIGJveDogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgY2h1bmtQb3NpdGlvbnM6IFZ0cmVlLkNodW5rUG9zaXRpb25bXTtcbiAgICBiYW5kczogR2VvbWV0cnlVdGlsLkJhbmRbXTtcbiAgICBvdmVyZmxvd246IGJvb2xlYW47XG4gICAgYnJlYWtQb3NpdGlvbnM6IEJyZWFrUG9zaXRpb25bXTtcbiAgICBwYWdlQnJlYWtUeXBlOiBzdHJpbmcgfCBudWxsO1xuICAgIGZvcmNlTm9uZml0dGluZzogYm9vbGVhbjtcbiAgICBsZWZ0RmxvYXRFZGdlOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IGxlZnQgZmxvYXRcbiAgICAgKi9cbiAgICByaWdodEZsb2F0RWRnZTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIGJvdHRvbSBvZiB0aGUgYm90dG9tbW9zdCByaWdodCBmbG9hdFxuICAgICAqL1xuICAgIGJvdHRvbW1vc3RGbG9hdFRvcDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRvcCBvZiB0aGUgYm90dG9tbW9zdCBmbG9hdFxuICAgICAqL1xuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuO1xuICAgIGxhc3RBZnRlclBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsO1xuICAgIGZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgIHBzZXVkb1BhcmVudDogQ29sdW1uO1xuICAgIG5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50czogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsO1xuICAgIGJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzOiBudW1iZXI7XG4gICAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcblxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQ7XG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQ7XG4gICAgcmVhZG9ubHkgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludDtcbiAgICByZWFkb25seSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQ7XG5cbiAgICBnZXRUb3BFZGdlKCk6IG51bWJlcjtcbiAgICBnZXRCb3R0b21FZGdlKCk6IG51bWJlcjtcbiAgICBnZXRMZWZ0RWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0UmlnaHRFZGdlKCk6IG51bWJlcjtcbiAgICBpc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBzdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIGlzT3ZlcmZsb3duKGVkZ2U6IG51bWJlcik6IGJvb2xlYW47XG4gICAgZ2V0RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXTtcbiAgICBvcGVuQWxsVmlld3MocG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBjYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3VudCBmaXJzdC1YWFggbmVzdGluZyBpZGVudGlmaWVyXG4gICAgICovXG4gICAgbWF5YmVQZWVsT2ZmKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY291bnQ6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IHVudGlsIGEgQ1NTIGJveCBlZGdlIGlzIHJlYWNoZWQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgdG8gYXBwZW5kIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgICAqL1xuICAgIGJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBuZXh0SW5UcmVlKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IGZvciBhIHNpbmdsZSB1bmJyZWFrYWJsZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBzdGFydCBzb3VyY2UgcG9zaXRpb24uXG4gICAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICAgKi9cbiAgICBidWlsZERlZXBFbGVtZW50VmlldyhcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW5nbGUgZmxvYXRpbmcgZWxlbWVudCAoZm9yIGV4Y2x1c2lvbiBhcmVhcykuXG4gICAgICogQHBhcmFtIHJlZiBjb250YWluZXIncyBjaGlsZCB0byBpbnNlcnQgZmxvYXQgYmVmb3JlIChjYW4gYmUgbnVsbCkuXG4gICAgICogQHBhcmFtIHNpZGUgZmxvYXQgc2lkZSAoXCJsZWZ0XCIgb3IgXCJyaWdodFwiKS5cbiAgICAgKiBAcGFyYW0gd2lkdGggZmxvYXQgaW5saW5lIGRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IGZsb2F0IGJveCBwcm9ncmVzc2lvbiBkaW1lbnNpb24uXG4gICAgICogQHJldHVybiBuZXdseSBjcmVhdGVkIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXQoXG4gICAgICByZWY6IE5vZGUsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgKTogRWxlbWVudDtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHRoZSBleGNsdXNpb24gZmxvYXRzLlxuICAgICAqL1xuICAgIGtpbGxGbG9hdHMoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgZXhjbHVzaW9uIGZsb2F0cyBmb3IgYSBjb2x1bW4uXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXRzKCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5vZGVDb250ZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSBibG9ja1xuICAgICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBwb3NzaWJsZSBicmVha2luZyBwb2ludHMuXG4gICAgICogQHBhcmFtIGluZGV4IGluZGV4IG9mIHRoZSBicmVha2luZyBwb2ludFxuICAgICAqIEBwYXJhbSBib3hPZmZzZXQgYm94IG9mZnNldFxuICAgICAqIEByZXR1cm4gZWRnZSBwb3NpdGlvblxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICBib3hPZmZzZXQ6IG51bWJlcixcbiAgICApOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUGFyc2UgQ1NTIGNvbXB1dGVkIGxlbmd0aCAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB2YWwgQ1NTIGxlbmd0aCBpbiBcInB4XCIgdW5pdHMgb3IgYSBudW1iZXIuXG4gICAgICogQHJldHVybiB2YWx1ZSBpbiBwaXhlbHMgb3IgMCBpZiBub3QgcGFyc2FibGVcbiAgICAgKi9cbiAgICBwYXJzZUNvbXB1dGVkTGVuZ3RoKHZhbDogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgbWFyZ2luLlxuICAgICAqL1xuICAgIGdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBwYWRkaW5nICsgYm9yZGVycy5cbiAgICAgKi9cbiAgICBnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHM7XG4gICAgLyoqXG4gICAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMobWFyZ2lucyArIGJvcmRlciArIHBhZGRpbmcgb3IgbWFyZ2lucyA6XG4gICAgICogZGVwZW5kcyBvbiBib3gtc2l6aW5nKVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCwgY29udGFpbmVyOiBDb2x1bW4pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgd2lkdGggYW5kIGhlaWdodCB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0VW5icmVha2FibGUoXG4gICAgICBub2RlQ29udGV4dEluOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0RmxvYXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gICAgc2V0dXBGbG9hdEFyZWEoXG4gICAgICBhcmVhOiBQYWdlRmxvYXRBcmVhLFxuICAgICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICAgKTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXRBcmVhKFxuICAgICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHwgbnVsbCxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgICApOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICAgIGFsbG93RnJhZ21lbnRlZDogYm9vbGVhbixcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PjtcbiAgICBsYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICAgIGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24sXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbihcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgICAgY29sdW1uU3BhbjogQ3NzLlZhbCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPjtcbiAgICBsYXlvdXRQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNyZWF0ZUp1c3RpZmljYXRpb25BZGp1c3RtZW50RWxlbWVudChcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICApOiBIVE1MRWxlbWVudDtcbiAgICBhZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluc2VydEFmdGVyOiBib29sZWFuLFxuICAgICAgbm9kZTogTm9kZSxcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgKTogSFRNTEVsZW1lbnQ7XG4gICAgY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KFxuICAgICAgc3BhbjogRWxlbWVudCxcbiAgICAgIGJyOiBFbGVtZW50LFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogRml4IGp1c3RpZmljYXRpb24gb2YgdGhlIGxhc3QgbGluZSBvZiB0ZXh0IGJyb2tlbiBhY3Jvc3MgcGFnZXMgKGlmXG4gICAgICogbmVlZGVkKS5cbiAgICAgKi9cbiAgICBmaXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIHByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHJlc05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBpc0xvbmVJbWFnZShjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IGJvb2xlYW47XG4gICAgZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgYSBzaW5nbGUgQ1NTIGJveC5cbiAgICAgKi9cbiAgICBsYXlvdXRCcmVha2FibGVCbG9jayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgcG9zdExheW91dEJsb2NrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogdm9pZDtcbiAgICBmaW5kRW5kT2ZMaW5lKFxuICAgICAgbGluZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZTogYm9vbGVhbixcbiAgICApOiB7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBpbmRleDogbnVtYmVyO1xuICAgICAgY2hlY2tQb2ludEluZGV4OiBudW1iZXI7XG4gICAgfTtcbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBlZGdlUG9zaXRpb246IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlc29sdmVUZXh0Tm9kZUJyZWFrZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGV4dE5vZGVCcmVha2VyO1xuICAgIC8qKlxuICAgICAqIFJlYWQgcmFuZ2VzIHNraXBwaW5nIHNwZWNpYWwgZWxtZW50c1xuICAgICAqL1xuICAgIGdldFJhbmdlQm94ZXMoc3RhcnQ6IE5vZGUsIGVuZDogTm9kZSk6IFZ0cmVlLkNsaWVudFJlY3RbXTtcbiAgICAvKipcbiAgICAgKiBHaXZlIGJsb2NrJ3MgaW5pdGlhbCBhbmQgZmluYWwgbm9kZXMsIGZpbmQgcG9zaXRpb25zIG9mIHRoZSBsaW5lIGJvdHRvbXMuXG4gICAgICogVGhpcyBpcywgb2YgY291cnNlLCBzb21ld2hhdCBoYWNreSBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzXG4gICAgICovXG4gICAgZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiBudW1iZXJbXTtcbiAgICBjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlcjtcbiAgICBmaW5kQm94QnJlYWtQb3NpdGlvbihcbiAgICAgIGJwOiBCb3hCcmVha1Bvc2l0aW9uLFxuICAgICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXI7XG4gICAgZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IHsgZWRnZTogbnVtYmVyOyBjaGVja1BvaW50OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGwgfTtcbiAgICBmaW5kRWRnZUJyZWFrUG9zaXRpb24oYnA6IEVkZ2VCcmVha1Bvc2l0aW9uKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgLyoqXG4gICAgICogRmluYWxpemUgYSBsaW5lIGJyZWFrLlxuICAgICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICAgKi9cbiAgICBmaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpOiBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQ7XG4gICAgZG9GaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgYnJlYWsgaXMgYWNjZXB0YWJsZSBhdCB0aGlzIHBvc2l0aW9uXG4gICAgICovXG4gICAgaXNCcmVha2FibGUoZmxvd1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhbiBpbmRlbnQgdmFsdWUgaXMgemVyb1xuICAgICAqL1xuICAgIHplcm9JbmRlbnQodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNhdmUgYSBwb3NzaWJsZSBwYWdlIGJyZWFrIHBvc2l0aW9uIG9uIGEgQ1NTIGJsb2NrIGVkZ2UuIENoZWNrIGlmIGl0XG4gICAgICogb3ZlcmZsb3dzLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBzYXZlRXZlbk92ZXJmbG93bjogYm9vbGVhbixcbiAgICAgIGJyZWFrQXRUaGVFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IGJvb2xlYW47XG4gICAgYXBwbHlDbGVhcmFuY2Uobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpc0JGQyhmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNraXBzIHBvc2l0aW9ucyB1bnRpbCBlaXRoZXIgdGhlIHN0YXJ0IG9mIHVuYnJlYWthYmxlIGJsb2NrIG9yIGlubGluZVxuICAgICAqIGNvbnRlbnQuIEFsc28gc2V0cyBicmVha0JlZm9yZSBvbiB0aGUgcmVzdWx0IGNvbWJpbmluZyBicmVhay1iZWZvcmUgYW5kXG4gICAgICogYnJlYWstYWZ0ZXIgcHJvcGVydGllcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IG1lZXQgYXQgdGhlIGVkZ2UuXG4gICAgICovXG4gICAgc2tpcEVkZ2VzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBmb3JjZWRCcmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBTa2lwcyBub24tcmVuZGVyYWJsZSBwb3NpdGlvbnMgdW50aWwgaXQgaGl0cyB0aGUgZW5kIG9mIHRoZSBmbG93IG9yIHNvbWVcbiAgICAgKiByZW5kZXJhYmxlIGNvbnRlbnQuIFJldHVybnMgdGhlIG5vZGVDb250ZXh0IHRoYXQgd2FzIHBhc3NlZCBpbiBpZiBzb21lXG4gICAgICogY29udGVudCByZW1haW5zIGFuZCBudWxsIGlmIGFsbCBjb250ZW50IGNvdWxkIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgc2tpcFRhaWxFZGdlcyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgbGF5b3V0RmxvYXRPckZvb3Rub3RlKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgbmV4dCBwb3J0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICovXG4gICAgbGF5b3V0TmV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgZm9yY2VkQnJlYWtWYWx1ZT86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIGluaXRHZW9tKCk6IHZvaWQ7XG4gICAgaW5pdCgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIHBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBhdCB0aGUgZWRnZS4gU2hvdWxkLCBpbiBnZW5lcmFsLCBzYXZlXG4gICAgICogXCJhZnRlclwiIHBvc2l0aW9uIGJ1dCBvbmx5IGFmdGVyIHNraXBwaW5nIGFsbCBvZiB0aGUgXCJiZWZvcmVcIiBvbmVzIGFuZFxuICAgICAqIGdldHRpbmcgdG8gdGhlIG5vbi1lbXB0eSBjb250ZW50ICh0byBnZXQgYnJlYWtBdEVkZ2UgcmlnaHQpLlxuICAgICAqL1xuICAgIHNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGJyZWFrQXRFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3IgYnJlYWthYmxlIGJsb2NrXG4gICAgICovXG4gICAgc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkO1xuICAgIHVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoYWZ0ZXJFZGdlOiBudW1iZXIpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgbGF5b3V0KFxuICAgICAgY2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbixcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj47XG4gICAgaXNGdWxsV2l0aFBhZ2VGbG9hdHMoKTogYm9vbGVhbjtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMobm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBub2RlQ29udGV4dCBzdGFydGluZyBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGRvTGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDx7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfT47XG4gICAgLyoqXG4gICAgICogUmUtbGF5b3V0IGFscmVhZHkgbGFpZC1vdXQgY2h1bmtzLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGZsb3cgaWZcbiAgICAgKiB0aGVyZSBpcyBhbiBvdmVyZmxvdy5cbiAgICAgKiBUT0RPOiBkZWFsIHdpdGggY2h1bmtzIHRoYXQgZGlkIG5vdCBmaXQgYXQgYWxsLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgcmVkb0xheW91dCgpOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPjtcbiAgICBzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCk6IHZvaWQ7XG4gICAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W107XG4gIH1cblxuICBleHBvcnQgdHlwZSBTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQgPSB7XG4gICAgZmxvYXRBcmVhOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBwYWdlRmxvYXRGcmFnbWVudDogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgbmV3UG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24gfCBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUZXh0Tm9kZUJyZWFrZXIge1xuICAgIGJyZWFrVGV4dE5vZGUoXG4gICAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxvdzogbnVtYmVyLFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBjaGVja3BvaW50SW5kZXg6IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgdXBkYXRlTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIHRleHROb2RlOiBUZXh0LFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRNb2RlIHtcbiAgICBkb0xheW91dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogYm9vbGVhbjtcbiAgICBwb3N0TGF5b3V0KFxuICAgICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICAgKTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0QXJlYSBleHRlbmRzIENvbHVtbiB7XG4gICAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbjtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBwYXJlbnRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcjtcblxuICAgIGNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4KHRhcmdldDogRWxlbWVudCk6IHZvaWQ7XG4gICAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogdm9pZDtcbiAgICBnZXRDb250ZW50SW5saW5lU2l6ZSgpOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBMYXlvdXRQcm9jZXNzb3Ige1xuICBleHBvcnQgaW50ZXJmYWNlIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQgZXh0ZW5kcyBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7fVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiQmxvY2tcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIE5ldCB7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlID0ge1xuICAgIHN0YXR1czogbnVtYmVyO1xuICAgIHN0YXR1c1RleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgY29udGVudFR5cGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVzcG9uc2VUZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIHJlc3BvbnNlWE1MOiBEb2N1bWVudDtcbiAgICByZXNwb25zZUJsb2I6IEJsb2I7XG4gIH07XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gICAgcmVzb3VyY2VzOiB7IFtrZXk6IHN0cmluZ106IFJlc291cmNlIH07XG4gICAgZmV0Y2hlcnM6IHsgW2tleTogc3RyaW5nXTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4gfTtcbiAgICByZWFkb25seSBwYXJzZXI6IChcbiAgICAgIHAxOiBSZXNwb25zZSxcbiAgICAgIHAyOiBSZXNvdXJjZVN0b3JlPFJlc291cmNlPixcbiAgICApID0+IFRhc2suUmVzdWx0PFJlc291cmNlPjtcbiAgICByZWFkb25seSB0eXBlOiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICAgKi9cbiAgICBsb2FkKFxuICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gZmV0Y2hlciBmb3IgdGhlIHJlc291cmNlIGZvciB0aGUgZ2l2ZW4gVVJMXG4gICAgICovXG4gICAgZmV0Y2goXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgICApOiBUYXNrVXRpbC5GZXRjaGVyPFJlc291cmNlPjtcbiAgICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIGRlbGV0ZSh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQYWdlRmxvYXRzIHtcbiAgLyoqXG4gICAqIEBlbnVtIHtzdHJpbmd9XG4gICAqL1xuICBleHBvcnQgZW51bSBGbG9hdFJlZmVyZW5jZSB7XG4gICAgSU5MSU5FID0gXCJpbmxpbmVcIixcbiAgICBDT0xVTU4gPSBcImNvbHVtblwiLFxuICAgIFJFR0lPTiA9IFwicmVnaW9uXCIsXG4gICAgUEFHRSA9IFwicGFnZVwiLFxuICB9XG5cbiAgZXhwb3J0IHR5cGUgUGFnZUZsb2F0SUQgPSBzdHJpbmc7XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXQge1xuICAgIG9yZGVyOiBudW1iZXIgfCBudWxsO1xuICAgIGlkOiBQYWdlRmxvYXRJRCB8IG51bGw7XG4gICAgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb247XG4gICAgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlO1xuICAgIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZWFkb25seSBmbG93TmFtZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGw7XG5cbiAgICBnZXRPcmRlcigpOiBudW1iZXI7XG4gICAgZ2V0SWQoKTogUGFnZUZsb2F0SUQ7XG4gICAgaXNBbGxvd2VkT25Db250ZXh0KHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuO1xuICAgIGlzQWxsb3dlZFRvUHJlY2VkZShvdGhlcjogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZTtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICByZWFkb25seSBhcmVhOiBWdHJlZS5Db250YWluZXI7XG4gICAgcmVhZG9ubHkgY29udGludWVzOiBib29sZWFuO1xuXG4gICAgaGFzRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW47XG4gICAgZmluZE5vdEFsbG93ZWRGbG9hdChjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogUGFnZUZsb2F0IHwgbnVsbDtcbiAgICBnZXRPdXRlclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3JkZXIoKTogbnVtYmVyO1xuICAgIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBhZGRDb250aW51YXRpb25zKGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdKTogdm9pZDtcbiAgICBnZXRGbG93TmFtZSgpOiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdENvbnRpbnVhdGlvbiB7XG4gICAgcmVhZG9ubHkgZmxvYXQ6IFBhZ2VGbG9hdDtcbiAgICByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcblxuICAgIGVxdWFscyhvdGhlcjogUGFnZUZsb2F0Q29udGludWF0aW9uIHwgbnVsbCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSB7XG4gICAgW2tleTogc3RyaW5nXTogYm9vbGVhbjtcbiAgfTtcblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIHdyaXRpbmdNb2RlOiBDc3MuVmFsO1xuICAgIGRpcmVjdGlvbjogQ3NzLlZhbDtcbiAgICBmbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICByZWFkb25seSBwYXJlbnQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVhZG9ubHkgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbDtcblxuICAgIGdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZT86IEZsb2F0UmVmZXJlbmNlKTogVnRyZWUuQ29udGFpbmVyO1xuICAgIHNldENvbnRhaW5lcihjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik7XG4gICAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIGdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICApOiBQYWdlRmxvYXQgfCBudWxsO1xuICAgIGlzRm9yYmlkZGVuKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICAgIGFkZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgaGFzRmxvYXRGcmFnbWVudHMoY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCkgPT4gYm9vbGVhbik6IGJvb2xlYW47XG4gICAgaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93KGZsb3dOYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0OiBQYWdlRmxvYXQsIGFuY2hvclZpZXdOb2RlOiBOb2RlKTogdm9pZDtcbiAgICBjb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpOiBhbnk7XG4gICAgaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoZmxvYXRJZDogUGFnZUZsb2F0SUQpOiBib29sZWFuO1xuICAgIGRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0Q29udGludWF0aW9uKTogdm9pZDtcbiAgICBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBpZ25vcmVSZWZlcmVuY2U/OiBib29sZWFuLFxuICAgICk6IGJvb2xlYW47XG4gICAgZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdCB8IG51bGw7XG4gICAgZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKFxuICAgICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICAgIGdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICBnZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpOiBQYWdlRmxvYXRbXTtcbiAgICBjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpOiBib29sZWFuO1xuICAgIGNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCk6IGJvb2xlYW47XG4gICAgZmluaXNoKCk6IHZvaWQ7XG4gICAgaGFzU2FtZUNvbnRhaW5lckFzKG90aGVyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpbnZhbGlkYXRlKCk6IHZvaWQ7XG4gICAgZGV0YWNoQ2hpbGRyZW4oKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdO1xuICAgIGF0dGFjaENoaWxkcmVuKGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10pOiB2b2lkO1xuICAgIGlzSW52YWxpZGF0ZWQoKTogYm9vbGVhbjtcbiAgICB2YWxpZGF0ZSgpOiB2b2lkO1xuICAgIHJlbW92ZUVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0U2lkZTogc3RyaW5nKTogdm9pZDtcbiAgICBzdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIHJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSk6IHZvaWQ7XG4gICAgZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogdm9pZDtcbiAgICBnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYW5jaG9yRWRnZSBOdWxsIGluZGljYXRlcyB0aGF0IHRoZSBhbmNob3IgaXMgbm90IGluIHRoZSBjdXJyZW50XG4gICAgICogICAgIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJuIExvZ2ljYWwgZmxvYXQgc2lkZSAoc25hcC1ibG9jayBpcyByZXNvbHZlZCB3aGVuIGluaXQ9ZmFsc2UpLiBOdWxsXG4gICAgICogICAgIGluZGljYXRlcyB0aGF0IHRoZSBmbG9hdCBhcmVhIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICBhcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIGluaXQ6IGJvb2xlYW4sXG4gICAgICBmb3JjZTogYm9vbGVhbixcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICAgICk6IHN0cmluZyB8IG51bGw7XG4gICAgZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKTogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKCk6IG51bWJlcjtcbiAgICBnZXRQYWdlRmxvYXRDbGVhckVkZ2UoY2xlYXI6IHN0cmluZywgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogbnVtYmVyO1xuICAgIGdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb247XG4gICAgZ2V0TGF5b3V0Q29uc3RyYWludHMoKTogTGF5b3V0LkxheW91dENvbnN0cmFpbnRbXTtcbiAgICBhZGRMYXlvdXRDb25zdHJhaW50KFxuICAgICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0LkxheW91dENvbnN0cmFpbnQsXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogdm9pZDtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGxvY2soKTogdm9pZDtcbiAgICB1bmxvY2soKTogdm9pZDtcbiAgICBpc0xvY2tlZCgpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBhcHBsaWVzVG9GbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdD47XG4gICAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudDtcbiAgICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICAgIGZsb2F0QXJlYTogTGF5b3V0LlBhZ2VGbG9hdEFyZWEsXG4gICAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk7XG4gICAgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQsIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VsZWN0b3JzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZnRlcklmQ29udGludWVzIHtcbiAgICByZWFkb25seSBzb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHN0eWxlcjogUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyO1xuXG4gICAgY3JlYXRlRWxlbWVudChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBhZnRlcklmQ29udGludWVzOiBBZnRlcklmQ29udGludWVzO1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoXG4gICAgb2JqZWN0OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50LFxuICApOiBvYmplY3QgaXMgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT0gXCJBZnRlcklmQ29udGludWVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldCB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGFmZmVjdFRvKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQc2V1ZG9FbGVtZW50IHtcbiAgZXhwb3J0IGludGVyZmFjZSBQc2V1ZG9lbGVtZW50U3R5bGVyIGV4dGVuZHMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHtcbiAgICBjb250ZW50UHJvY2Vzc2VkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcjtcbiAgICByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0O1xuICAgIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXBldGl0aXZlRWxlbWVudCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGlzUm9vdDogYm9vbGVhbjtcbiAgICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50cztcbiAgICByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gICAgZ2V0Um9vdFZpZXdOb2RlKHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IEVsZW1lbnQgfCBudWxsO1xuICAgIGdldFJvb3ROb2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG4gICAgaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyh2ZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICBvYmplY3Q6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0LFxuICApOiBvYmplY3QgaXMgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGU7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGUgPT09IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIiB8fFxuICAgICAgVGFibGUuaXNJbnN0YW5jZU9mVGFibGVGb3JtYXR0aW5nQ29udGV4dChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRzT2Zmc2V0IHtcbiAgICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHMgZXh0ZW5kcyBFbGVtZW50c09mZnNldCB7XG4gICAgaXNTa2lwSGVhZGVyOiBib29sZWFuO1xuICAgIGlzU2tpcEZvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0hlYWRlcjogYm9vbGVhbjtcbiAgICBkb25lSW5pdGlhbExheW91dDogYm9vbGVhbjtcbiAgICBmaXJzdENvbnRlbnRTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbDtcbiAgICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsO1xuICAgIGFsbG93SW5zZXJ0OiBib29sZWFuO1xuICAgIGFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50czogYm9vbGVhbjtcbiAgICBvd25lclNvdXJjZU5vZGU6IEVsZW1lbnQ7XG5cbiAgICBzZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIHNldEZvb3Rlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQ7XG4gICAgcHJlcGFyZUxheW91dEZyYWdtZW50KCk6IHZvaWQ7XG4gICAgYXBwZW5kSGVhZGVyVG9GcmFnbWVudChcbiAgICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBhcHBlbmRGb290ZXJUb0ZyYWdtZW50KFxuICAgICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCk6IHZvaWQ7XG4gICAgaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW47XG4gICAgdXBkYXRlU3RhdGUoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdIZWFkZXIoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdGb290ZXIoKTogdm9pZDtcbiAgICBpc0hlYWRlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0Zvb3RlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0hlYWRlclNvdXJjZU5vZGUobm9kZTogTm9kZSk6IGJvb2xlYW47XG4gICAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KFxuICAgIG9iamVjdDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCxcbiAgKTogb2JqZWN0IGlzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlID09PSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCIgfHxcbiAgICAgIFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUYWJsZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgLy8gRklYTUVcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiVGFibGVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQge1xuICAgIGNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiB7XG4gICAgICBjb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgICAgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfVtdO1xuXG4gICAgcmVtb3ZlRHVtbXlSb3dOb2Rlcyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIGdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChcbiAgICBvYmplY3Q6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQsXG4gICk6IG9iamVjdCBpcyBUYWJsZVJvd0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT09IFwiVGFibGVSb3dcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZ0cmVlIHtcbiAgZXhwb3J0IHR5cGUgQ2xpZW50UmVjdCA9IHtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnRlcmZhY2UgdG8gcmVhZCB0aGUgcG9zaXRpb24gYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRzIGFuZCByYW5nZXMgYnkgdGhlXG4gICAqIGJyb3dzZXIuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENsaWVudExheW91dCB7XG4gICAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W107XG4gICAgZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudDogRWxlbWVudCk6IENsaWVudFJlY3Q7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBlbGVtZW50J3MgY29tcHV0ZWQgc3R5bGVcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50OiBFbGVtZW50KTogQ1NTU3R5bGVEZWNsYXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHlsaW5nLCBjcmVhdGluZyBhIHNpbmdsZSBub2RlJ3MgdmlldywgZXRjLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQsIGJ1dCB1bmluaXRpYWxpemVkIGxheW91dCBjb250ZXh0LFxuICAgICAqIHN1aXRhYmxlIGZvciBidWlsZGluZyBhIHNlcGFyYXRlIGNvbHVtbi5cbiAgICAgKi9cbiAgICBjbG9uZSgpOiBMYXlvdXRDb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBzb3VyY2Ugbm9kZSBhbmQgY3JlYXRlIGEgdmlldy4gUGFyYW1ldGVyIGZpcnN0VGltZVxuICAgICAqIGlzIHRydWUgKGFuZCBwb3NzaWJseSBvZmZzZXRJbk5vZGUgPiAwKSBpZiBub2RlIHdhcyBicm9rZW4gb25cbiAgICAgKiB0aGUgcHJldmlvdXMgcGFnZS5cbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZCBhcyB3ZWxsXG4gICAgICovXG4gICAgc2V0Q3VycmVudChcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICAgIGF0VW5mb3JjZWRCcmVhaz86IGJvb2xlYW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IGhvbGRzIHZpZXcgZWxlbWVudHMgcHJvZHVjZWQgZnJvbSB0aGVcbiAgICAgKiBzb3VyY2UuXG4gICAgICovXG4gICAgc2V0Vmlld1Jvb3Qodmlld1Jvb3Q6IEVsZW1lbnQsIGlzRm9vdG5vdGU6IGJvb2xlYW4pO1xuICAgIC8qKlxuICAgICAqIE1vdmVzIHRvIHRoZSBuZXh0IHZpZXcgbm9kZSwgY3JlYXRpbmcgaXQgYW5kIGFwcGVuZGluZyBpdCB0byB0aGUgdmlldyB0cmVlXG4gICAgICogaWYgbmVlZGVkLlxuICAgICAqIEByZXR1cm4gdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgbmV4dCB2aWV3IG5vZGVcbiAgICAgKi9cbiAgICBuZXh0SW5UcmVlKFxuICAgICAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxOb2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQXBwbHkgcHNldWRvLWVsZW1lbnQgc3R5bGVzIChpZiBhbnkpLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgdG9cbiAgICAgKi9cbiAgICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIHBzZXVkb05hbWU6IHN0cmluZyxcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEFwcGx5IHN0eWxlcyB0byBmb290bm90ZSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHRhcmdldCBlbGVtZW50IHRvIGFwcGx5IHN0eWxlcyB0b1xuICAgICAqIEByZXR1cm4gdmVydGljYWxcbiAgICAgKi9cbiAgICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICAgIHJ0bDogYm9vbGVhbixcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFBlZWwgb2ZmIGlubmVybW9zdCBmaXJzdC1YWFggcHNldWRvZWxlbWVudCwgY3JlYXRlIGFuZCBjcmVhdGUgdmlldyBub2Rlc1xuICAgICAqIGFmdGVyIHRoZSBlbmQgb2YgdGhhdCBwc2V1ZG9lbGVtZW50LlxuICAgICAqL1xuICAgIHBlZWxPZmYoXG4gICAgICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gICAgICBub2RlT2Zmc2V0OiBudW1iZXIsXG4gICAgKTogVGFzay5SZXN1bHQ8Tm9kZUNvbnRleHQ+O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBibG9jay1lbmQgZWRnZSBvZiBhIGZyYWdtZW50ZWQgYmxvY2suXG4gICAgICovXG4gICAgcHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0KTtcbiAgICBjb252ZXJ0TGVuZ3RoVG9QeChcbiAgICAgIG51bWVyaWM6IENzcy5OdW1lcmljLFxuICAgICAgdmlld05vZGU6IE5vZGUsXG4gICAgICBjbGllbnRMYXlvdXQ6IENsaWVudExheW91dCxcbiAgICApOiBudW1iZXIgfCBDc3MuTnVtZXJpYztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25zIHJlcHJlc2VudHMgdGhlIHNhbWUgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGlzU2FtZU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVQb3NpdGlvbjE6IE5vZGVQb3NpdGlvbixcbiAgICAgIG5vZGVQb3NpdGlvbjI6IE5vZGVQb3NpdGlvbixcbiAgICApOiBib29sZWFuO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICBsaXN0ZW5lcjogQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZTogc3RyaW5nLFxuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcixcbiAgICAgIGNhcHR1cmU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZGlzcGF0Y2hFdmVudChldnQ6IEJhc2UuRXZlbnQpOiB2b2lkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlO1xuICAgIGdldE5hbWUoKTogc3RyaW5nO1xuICAgIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbjtcbiAgICBnZXRQYXJlbnQoKTogRm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgc2F2ZVN0YXRlKCk6IGFueTtcbiAgICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSk7XG4gIH1cblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGU6IE5vZGU7XG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZTtcbiAgICBzaGFkb3dDb250ZXh0OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBub2RlU2hhZG93OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBzaGFkb3dTaWJsaW5nOiBOb2RlUG9zaXRpb25TdGVwIHwgbnVsbDtcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsO1xuICAgIGZyYWdtZW50SW5kZXg6IG51bWJlcjtcbiAgfTtcblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb24gPSB7XG4gICAgc3RlcHM6IE5vZGVQb3NpdGlvblN0ZXBbXTtcbiAgICBvZmZzZXRJbk5vZGU6IG51bWJlcjtcbiAgICBhZnRlcjogYm9vbGVhbjtcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsaW5nIG9mIHB1cmVseSB3aGl0ZXNwYWNlIHNlcXVlbmNlcyBiZXR3ZWVuIGJsb2Nrc1xuICAgKiBAZW51bSB7bnVtYmVyfVxuICAgKi9cbiAgZXhwb3J0IGVudW0gV2hpdGVzcGFjZSB7XG4gICAgLyoqXG4gICAgICogV2hpdGVzcGFjZSBzZXF1ZW5jZSBiZXR3ZWVuIGJsb2NrcyBpcyBpZ25vcmVkXG4gICAgICovXG4gICAgSUdOT1JFLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgaWdub3JlZCB1bmxlc3MgaXQgY29udGFpbmVzIG5ld2xpbmVcbiAgICAgKi9cbiAgICBORVdMSU5FLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgcHJlc2VydmVkXG4gICAgICovXG4gICAgUFJFU0VSVkUsXG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lciB7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkxlZnQ6IG51bWJlcjtcbiAgICBtYXJnaW5SaWdodDogbnVtYmVyO1xuICAgIG1hcmdpblRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkJvdHRvbTogbnVtYmVyO1xuICAgIGJvcmRlckxlZnQ6IG51bWJlcjtcbiAgICBib3JkZXJSaWdodDogbnVtYmVyO1xuICAgIGJvcmRlclRvcDogbnVtYmVyO1xuICAgIGJvcmRlckJvdHRvbTogbnVtYmVyO1xuICAgIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG4gICAgcGFkZGluZ1JpZ2h0OiBudW1iZXI7XG4gICAgcGFkZGluZ1RvcDogbnVtYmVyO1xuICAgIHBhZGRpbmdCb3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG9yaWdpblg6IG51bWJlcjtcbiAgICBvcmlnaW5ZOiBudW1iZXI7XG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgaW5uZXJTaGFwZTogR2VvbWV0cnlVdGlsLlNoYXBlO1xuICAgIGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gICAgc25hcFdpZHRoOiBudW1iZXI7XG4gICAgc25hcEhlaWdodDogbnVtYmVyO1xuICAgIHNuYXBPZmZzZXRYOiBudW1iZXI7XG4gICAgc25hcE9mZnNldFk6IG51bWJlcjtcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbjsgLy8gdmVydGljYWwgd3JpdGluZ1xuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG5cbiAgICBnZXRJbnNldFRvcCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCb3R0b20oKTogbnVtYmVyO1xuICAgIGdldEluc2V0TGVmdCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRSaWdodCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCZWZvcmUoKTogbnVtYmVyO1xuICAgIGdldEluc2V0QWZ0ZXIoKTogbnVtYmVyO1xuICAgIGdldEluc2V0U3RhcnQoKTogbnVtYmVyO1xuICAgIGdldEluc2V0RW5kKCk6IG51bWJlcjtcbiAgICBnZXRCZWZvcmVFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRBZnRlckVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyO1xuICAgIGdldFN0YXJ0RWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0RW5kRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0SW5saW5lU2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94U2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94RGlyKCk6IG51bWJlcjtcbiAgICBnZXRJbmxpbmVEaXIoKTogbnVtYmVyO1xuICAgIGNvcHlGcm9tKG90aGVyOiBDb250YWluZXIpOiB2b2lkO1xuICAgIHNldFZlcnRpY2FsUG9zaXRpb24odG9wOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRIb3Jpem9udGFsUG9zaXRpb24obGVmdDogbnVtYmVyLCB3aWR0aDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRCbG9ja1Bvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRJbmxpbmVQb3NpdGlvbihzdGFydDogbnVtYmVyLCBleHRlbnQ6IG51bWJlcik6IHZvaWQ7XG4gICAgY2xlYXIoKTogdm9pZDtcbiAgICBnZXRJbm5lclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRJbm5lclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0UGFkZGluZ1JlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3V0ZXJTaGFwZShcbiAgICAgIG91dGVyU2hhcGVQcm9wOiBDc3MuVmFsLFxuICAgICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICApOiBHZW9tZXRyeVV0aWwuU2hhcGU7XG4gICAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBlbnVtIHtudW1iZXJ9XG4gICAqL1xuICBleHBvcnQgZW51bSBTaGFkb3dUeXBlIHtcbiAgICBOT05FLFxuICAgIENPTlRFTlQsXG4gICAgUk9PVExFU1MsXG4gICAgUk9PVEVELFxuICB9XG5cbiAgLyoqXG4gICAqIERhdGEgYWJvdXQgc2hhZG93IHRyZWUgaW5zdGFuY2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFNoYWRvd0NvbnRleHQge1xuICAgIHJlYWRvbmx5IG93bmVyOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHJvb3Q6IEVsZW1lbnQ7XG4gICAgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIHJlYWRvbmx5IHBhcmVudFNoYWRvdzogU2hhZG93Q29udGV4dDtcbiAgICBzdWJTaGFkb3c6IFNoYWRvd0NvbnRleHQ7XG4gICAgcmVhZG9ubHkgdHlwZTogVnRyZWUuU2hhZG93VHlwZTtcbiAgICByZWFkb25seSBzdHlsZXI6IG9iamVjdDtcblxuICAgIGVxdWFscyhvdGhlcjogU2hhZG93Q29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgOmZpcnN0LWxldHRlciBvciA6Zmlyc3QtbGluZSBwc2V1ZG9lbGVtZW50c1xuICAgKiBAcGFyYW0gY291bnQgMCAtIGZpcnN0LWxldHRlciwgMSBvciBtb3JlIC0gZmlyc3QgbGluZShzKVxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaXJzdFBzZXVkbyB7XG4gICAgcmVhZG9ubHkgb3V0ZXI6IEZpcnN0UHNldWRvO1xuICAgIHJlYWRvbmx5IGNvdW50OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogTm9kZUNvbnRleHQgcmVwcmVzZW50cyBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCArIGxheW91dC1yZWxhdGVkXG4gICAqIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIGl0LiBXaGVuIGFmdGVyPWZhbHNlIGFuZCBvZmZzZXRJbk5vZGU9MCwgdGhlXG4gICAqIHBvc2l0aW9uIGlzIGluc2lkZSB0aGUgZWxlbWVudCAobm9kZSksIGJ1dCBqdXN0IGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gICAqIFdoZW4gb2Zmc2V0SW5Ob2RlPjAgaXQgcmVwcmVzZW50cyBvZmZzZXQgaW4gdGhlIHRleHR1YWwgY29udGVudCBvZiB0aGVcbiAgICogbm9kZS4gV2hlbiBhZnRlcj10cnVlIGl0IHJlcHJlc2VudHMgcG9zaXRpb24gcmlnaHQgYWZ0ZXIgdGhlIGxhc3QgY2hpbGRcbiAgICogb2YgdGhlIG5vZGUuIGJveE9mZnNldCBpcyBpbmNyZW1lbnRlZCBieSAxIGZvciBhbnkgdmFsaWQgbm9kZSBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUNvbnRleHQge1xuICAgIC8vIHBvc2l0aW9uIGl0c2VsZlxuICAgIG9mZnNldEluTm9kZTogbnVtYmVyO1xuICAgIGFmdGVyOiBib29sZWFuO1xuICAgIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGU7IC8vIHBhcmVudCdzIHNoYWRvdyB0eXBlXG4gICAgc2hhZG93Q29udGV4dDogVnRyZWUuU2hhZG93Q29udGV4dDtcbiAgICBub2RlU2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIHNoYWRvd1NpYmxpbmc6IE5vZGVDb250ZXh0OyAvLyBuZXh0IFwic2libGluZ1wiIGluIHRoZSBzaGFkb3cgdHJlZVxuICAgIC8vIG90aGVyIHN0dWZmXG4gICAgc2hhcmVkOiBib29sZWFuO1xuICAgIGlubGluZTogYm9vbGVhbjtcbiAgICBvdmVyZmxvdzogYm9vbGVhbjtcbiAgICBicmVha1BlbmFsdHk6IG51bWJlcjtcbiAgICBkaXNwbGF5OiBzdHJpbmcgfCBudWxsO1xuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuICAgIGZsb2F0U2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGw7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbDtcbiAgICBjb2x1bW5TcGFuOiBDc3MuVmFsIHwgbnVsbDtcbiAgICB2ZXJ0aWNhbEFsaWduOiBzdHJpbmc7XG4gICAgY2FwdGlvblNpZGU6IHN0cmluZztcbiAgICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgYmxvY2tCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgZmxleENvbnRhaW5lcjogYm9vbGVhbjtcbiAgICB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlO1xuICAgIGh5cGhlbmF0ZUNoYXJhY3Rlcjogc3RyaW5nIHwgbnVsbDtcbiAgICBicmVha1dvcmQ6IGJvb2xlYW47XG4gICAgZXN0YWJsaXNoZXNCRkM6IGJvb2xlYW47XG4gICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IGJvb2xlYW47XG4gICAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGw7XG4gICAgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbDtcbiAgICB2aWV3Tm9kZTogTm9kZTtcbiAgICBjbGVhclNwYWNlcjogTm9kZTtcbiAgICBpbmhlcml0ZWRQcm9wczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBDc3MuVmFsIH07XG4gICAgdmVydGljYWw6IGJvb2xlYW47XG4gICAgZGlyZWN0aW9uOiBzdHJpbmc7XG4gICAgZmlyc3RQc2V1ZG86IEZpcnN0UHNldWRvO1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IERpZmYuQ2hhbmdlW10gfCBudWxsO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dDtcbiAgICByZXBlYXRPbkJyZWFrOiBzdHJpbmcgfCBudWxsO1xuICAgIHBsdWdpblByb3BzOiB7XG4gICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgfCBudWxsIHwgKG51bWJlciB8IG51bGwpW107XG4gICAgfTtcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXI7XG4gICAgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXM7XG4gICAgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGw7XG5cbiAgICBzb3VyY2VOb2RlOiBOb2RlO1xuICAgIHBhcmVudDogTm9kZUNvbnRleHQ7XG4gICAgYm94T2Zmc2V0OiBudW1iZXI7XG5cbiAgICByZXNldFZpZXcoKTogdm9pZDtcbiAgICBtb2RpZnkoKTogTm9kZUNvbnRleHQ7XG4gICAgY29weSgpOiBOb2RlQ29udGV4dDtcbiAgICBjbG9uZSgpOiBOb2RlQ29udGV4dDtcbiAgICB0b05vZGVQb3NpdGlvblN0ZXAoKTogTm9kZVBvc2l0aW9uU3RlcDtcbiAgICB0b05vZGVQb3NpdGlvbigpOiBOb2RlUG9zaXRpb247XG4gICAgaXNJbnNpZGVCRkMoKTogYm9vbGVhbjtcbiAgICBnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSgpOiBOb2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBXYWxrIHVwIE5vZGVDb250ZXh0IHRyZWUgKHN0YXJ0aW5nIGZyb20gaXRzZWxmKSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgZm9yXG4gICAgICogZWFjaCBibG9jay5cbiAgICAgKi9cbiAgICB3YWxrVXBCbG9ja3MoY2FsbGJhY2s6IChwMTogTm9kZUNvbnRleHQpID0+IGFueSk6IHZvaWQ7XG4gICAgYmVsb25nc1RvKGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENodW5rUG9zaXRpb24ge1xuICAgIGZsb2F0czogTm9kZVBvc2l0aW9uW107XG4gICAgcHJpbWFyeTogTm9kZVBvc2l0aW9uO1xuXG4gICAgY2xvbmUoKTogQ2h1bmtQb3NpdGlvbjtcbiAgICBpc1NhbWVQb3NpdGlvbihvdGhlcjogQ2h1bmtQb3NpdGlvbik6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBFeHByQ29udGVudExpc3RlbmVyID0gKFxuICAgIHAxOiBFeHBycy5WYWwsXG4gICAgcDI6IHN0cmluZyxcbiAgICBwMzogRG9jdW1lbnQsXG4gICkgPT4gTm9kZSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgWG1sRG9jIHtcbiAgZXhwb3J0IGludGVyZmFjZSBYTUxEb2NIb2xkZXIge1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgdG90YWxPZmZzZXQ6IG51bWJlcjtcbiAgICByb290OiBFbGVtZW50O1xuICAgIGJvZHk6IEVsZW1lbnQ7XG4gICAgaGVhZDogRWxlbWVudDtcbiAgICBsYXN0OiBFbGVtZW50O1xuICAgIGxhc3RPZmZzZXQ6IG51bWJlcjtcbiAgICBpZE1hcDogeyBba2V5OiBzdHJpbmddOiBFbGVtZW50IH07XG4gICAgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlO1xuICAgIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudDtcblxuICAgIGRvYygpOiBOb2RlTGlzdDtcbiAgICBnZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQ6IEVsZW1lbnQpOiBudW1iZXI7XG4gICAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pOiBudW1iZXI7XG4gICAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gbGFzdCBub2RlIHN1Y2ggdGhhdCBpdHMgb2Zmc2V0IGlzIGxlc3Mgb3IgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAgICovXG4gICAgZ2V0Tm9kZUJ5T2Zmc2V0KG9mZnNldDogbnVtYmVyKTogTm9kZTtcbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCBieSBVUkwgaW4gdGhlIHNvdXJjZSBkb2N1bWVudChzKS4gVVJMIG11c3QgYmUgaW4gZWl0aGVyICcjaWQnXG4gICAgICogb3IgJ3VybCNpZCcgZm9ybS5cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KHVybDogc3RyaW5nKTogRWxlbWVudCB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFByZWRpY2F0ZSB7XG4gICAgcmVhZG9ubHkgZm46IChwMTogTm9kZSkgPT4gYm9vbGVhbjtcblxuICAgIGNoZWNrKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICAgIHdpdGhBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUHJlZGljYXRlO1xuICAgIHdpdGhDaGlsZChuYW1lOiBzdHJpbmcsIG9wdF9jaGlsZFByZWRpY2F0ZT86IFByZWRpY2F0ZSk6IFByZWRpY2F0ZTtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUxpc3Qge1xuICAgIHJlYWRvbmx5IG5vZGVzOiBOb2RlW107XG5cbiAgICBhc0FycmF5KCk6IE5vZGVbXTtcbiAgICBzaXplKCk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICAgKi9cbiAgICBwcmVkaWNhdGUocHI6IFByZWRpY2F0ZSk6IE5vZGVMaXN0O1xuICAgIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdDtcbiAgICBmb3JFYWNoPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW107XG4gICAgZm9yRWFjaE5vbk51bGw8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXTtcbiAgICBjaGlsZCh0YWc6IHN0cmluZyk6IE5vZGVMaXN0O1xuICAgIGNoaWxkRWxlbWVudHMoKTogTm9kZUxpc3Q7XG4gICAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdO1xuICAgIHRleHRDb250ZW50KCk6IChzdHJpbmcgfCBudWxsKVtdO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgWE1MRG9jU3RvcmUgPSBOZXQuUmVzb3VyY2VTdG9yZTxYTUxEb2NIb2xkZXI+O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRGlmZiB1dGlsaXR5XG4gKi9cblxuaW1wb3J0IGZhc3RkaWZmIGZyb20gXCJmYXN0LWRpZmZcIjtcblxuZXhwb3J0IHR5cGUgQ2hhbmdlID0gKG51bWJlciB8IHN0cmluZylbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGFycyhvcmlnaW5hbFRleHQ6IHN0cmluZywgbmV3VGV4dDogc3RyaW5nKTogQ2hhbmdlW10ge1xuICByZXR1cm4gZmFzdGRpZmYob3JpZ2luYWxUZXh0LCBuZXdUZXh0LCAwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVPcmlnaW5hbFRleHQoY2hhbmdlczogQ2hhbmdlW10pOiBhbnkge1xuICByZXR1cm4gY2hhbmdlcy5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtWzBdID09PSBmYXN0ZGlmZi5JTlNFUlQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgKyBpdGVtWzFdO1xuICB9LCBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVOZXdUZXh0KGNoYW5nZXM6IENoYW5nZVtdKTogYW55IHtcbiAgcmV0dXJuIGNoYW5nZXMucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbVswXSA9PT0gZmFzdGRpZmYuREVMRVRFKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ICsgaXRlbVsxXTtcbiAgfSwgXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTmV3SW5kZXgoY2hhbmdlczogQ2hhbmdlW10sIG9sZEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGNoYW5nZXMsIG9sZEluZGV4LCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVPcmlnaW5hbEluZGV4KFxuICBjaGFuZ2VzOiBDaGFuZ2VbXSxcbiAgbmV3SW5kZXg6IG51bWJlcixcbik6IG51bWJlciB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoY2hhbmdlcywgbmV3SW5kZXgsIC0xKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbmRleChcbiAgY2hhbmdlczogQ2hhbmdlW10sXG4gIGluZGV4OiBudW1iZXIsXG4gIGNvZWY6IG51bWJlcixcbik6IG51bWJlciB7XG4gIGxldCBkaWZmID0gMDtcbiAgbGV0IGN1cnJlbnQgPSAwO1xuICBjaGFuZ2VzLnNvbWUoKGNoYW5nZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGNoYW5nZVsxXSBhcyBzdHJpbmcpLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzd2l0Y2ggKChjaGFuZ2VbMF0gYXMgbnVtYmVyKSAqIGNvZWYpIHtcbiAgICAgICAgY2FzZSBmYXN0ZGlmZi5JTlNFUlQ6XG4gICAgICAgICAgZGlmZisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkRFTEVURTpcbiAgICAgICAgICBkaWZmLS07XG4gICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkVRVUFMOlxuICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ID4gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihpbmRleCwgY3VycmVudCAtIDEpICsgZGlmZiwgMCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFZ0cmVlIC0gQmFzaWMgdmlldyB0cmVlIGRhdGEgc3RydWN0dXJlcyBhbmQgc3VwcG9ydCB1dGlsaXRpZXMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Byb3AgZnJvbSBcIi4vY3NzLXByb3BcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgeyBQYWdlRmxvYXRzLCBTZWxlY3RvcnMsIFZ0cmVlLCBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZGVsYXllZFByb3BzID0ge1xuICB0cmFuc2Zvcm06IHRydWUsXG4gIFwidHJhbnNmb3JtLW9yaWdpblwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkID0ge1xuICB0b3A6IHRydWUsXG4gIGJvdHRvbTogdHJ1ZSxcbiAgbGVmdDogdHJ1ZSxcbiAgcmlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgRGVsYXllZEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFyZ2V0OiBFbGVtZW50LFxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHZhbHVlOiBDc3MuVmFsLFxuICApIHt9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VIeXBlcmxpbmtFdmVudCA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICB0YXJnZXQ7XG4gIGN1cnJlbnRUYXJnZXQ7XG4gIGFuY2hvckVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGhyZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRyaWdnZXIgPSB7XG4gIG9ic2VydmVyOiBzdHJpbmc7XG4gIGV2ZW50OiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICByZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zID0ge1xuICBzaG93OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgfSxcbiAgaGlkZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSxcbiAgcGxheTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5jdXJyZW50VGltZSA9IDA7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgcGF1c2U6IGZ1bmN0aW9uIChvYmopIHtcbiAgICBvYmoucGF1c2UoKTtcbiAgfSxcbiAgcmVzdW1lOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgbXV0ZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5tdXRlZCA9IHRydWU7XG4gIH0sXG4gIHVubXV0ZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5tdXRlZCA9IGZhbHNlO1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VMaXN0ZW5lcihcbiAgcmVmczogRWxlbWVudFtdLFxuICBhY3Rpb246IHN0cmluZyxcbik6IEV2ZW50TGlzdGVuZXIgfCBudWxsIHtcbiAgY29uc3QgYWN0aW9uRm4gPSBhY3Rpb25zW2FjdGlvbl07XG4gIGlmIChhY3Rpb25Gbikge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlZnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhY3Rpb25GbihyZWZzW2tdKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlIGV4dGVuZHMgQmFzZS5TaW1wbGVFdmVudFRhcmdldCB7XG4gIHByaXZhdGUgc3RhdGljIEFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEU6IHN0cmluZyA9XG4gICAgXCJkYXRhLXZpdmxpb3N0eWxlLWF1dG8tcGFnZS13aWR0aFwiO1xuICBwcml2YXRlIHN0YXRpYyBBVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURTogc3RyaW5nID1cbiAgICBcImRhdGEtdml2bGlvc3R5bGUtYXV0by1wYWdlLWhlaWdodFwiO1xuICBwYWdlQXJlYUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGRlbGF5ZWRJdGVtczogRGVsYXllZEl0ZW1bXSA9IFtdO1xuICBocmVmSGFuZGxlcjogKGU6IEV2ZW50KSA9PiB2b2lkO1xuICBlbGVtZW50c0J5SWQ6IHsgW2tleTogc3RyaW5nXTogRWxlbWVudFtdIH0gPSB7fTtcbiAgZGltZW5zaW9uczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gIGlzRmlyc3RQYWdlOiBib29sZWFuID0gZmFsc2U7XG4gIGlzTGFzdFBhZ2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNBdXRvUGFnZVdpZHRoOiBib29sZWFuID0gdHJ1ZTtcbiAgaXNBdXRvUGFnZUhlaWdodDogYm9vbGVhbiA9IHRydWU7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IDA7XG4gIHBvc2l0aW9uOiBMYXlvdXRQb3NpdGlvbiA9IG51bGw7XG4gIG9mZnNldDogbnVtYmVyID0gLTE7XG4gIHNpZGU6IENvbnN0YW50cy5QYWdlU2lkZSB8IG51bGwgPSBudWxsO1xuICBmZXRjaGVyczogVGFza1V0aWwuRmV0Y2hlcjx7fT5bXSA9IFtdO1xuICBtYXJnaW5Cb3hlczoge1xuICAgIHRvcDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgICBib3R0b206IHsgW2tleTogc3RyaW5nXTogQ29udGFpbmVyIH07XG4gICAgbGVmdDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgICByaWdodDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgfSA9IHsgdG9wOiB7fSwgYm90dG9tOiB7fSwgbGVmdDoge30sIHJpZ2h0OiB7fSB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBibGVlZEJveDogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5ocmVmSGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgYW5jaG9yRWxlbWVudCA9IGUuY3VycmVudFRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgY29uc3QgaHJlZiA9XG4gICAgICAgIGFuY2hvckVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fFxuICAgICAgICBhbmNob3JFbGVtZW50LmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuWExJTkssIFwiaHJlZlwiKTtcbiAgICAgIGlmIChocmVmKSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgICAgICB0eXBlOiBcImh5cGVybGlua1wiLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFuY2hvckVsZW1lbnQsXG4gICAgICAgICAgaHJlZixcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc2V0QXV0b1BhZ2VXaWR0aChpc0F1dG86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzQXV0b1BhZ2VXaWR0aCA9IGlzQXV0bztcbiAgICBpZiAoaXNBdXRvKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfV0lEVEhfQVRUUklCVVRFLCBcInRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShQYWdlLkFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEUpO1xuICAgIH1cbiAgfVxuXG4gIHNldEF1dG9QYWdlSGVpZ2h0KGlzQXV0bzogYm9vbGVhbikge1xuICAgIHRoaXMuaXNBdXRvUGFnZUhlaWdodCA9IGlzQXV0bztcbiAgICBpZiAoaXNBdXRvKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSwgXCJ0cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSk7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJFbGVtZW50V2l0aElkKGVsZW1lbnQ6IEVsZW1lbnQsIGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmVsZW1lbnRzQnlJZFtpZF07XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNCeUlkW2lkXSA9IFtlbGVtZW50XTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZmluaXNoKHRyaWdnZXJzOiBUcmlnZ2VyW10sIGNsaWVudExheW91dDogQ2xpZW50TGF5b3V0KTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIElEIG9mIGVsZW1lbnRzIHdoaWNoIGV2ZW50dWFsbHkgZGlkIG5vdCBmaXQgaW4gdGhlIHBhZ2VcbiAgICAvLyAoU29tZSBub2RlcyBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgYWZ0ZXIgcmVnaXN0cmF0aW9uIGlmIHRoZXkgZGlkIG5vdCBmaXRcbiAgICAvLyBpbiB0aGUgcGFnZSlcbiAgICBPYmplY3Qua2V5cyh0aGlzLmVsZW1lbnRzQnlJZCkuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1zID0gdGhpcy5lbGVtZW50c0J5SWRbaWRdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7ICkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuY29udGFpbnMoZWxlbXNbaV0pKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50c0J5SWRbaWRdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmRlbGF5ZWRJdGVtcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIgJiZcbiAgICAgICAgaXRlbS5uYW1lID09PSBcInRyYW5zZm9ybVwiICYmXG4gICAgICAgICF0aGlzLmlzQXV0b1BhZ2VXaWR0aCAmJlxuICAgICAgICAhdGhpcy5pc0F1dG9QYWdlSGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgLy8gV2hlbiBmaXhlZCBwYWdlIHNpemUgaXMgc3BlY2lmaWVkLCBjYW5jZWwgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eVxuICAgICAgICAvLyBzZXQgYXQgT1BGVmlldy5tYWtlUGFnZSgpIGZvciB0aGUgc3BlY2lmaWVkIHZpZXdwb3J0IHNpemVcbiAgICAgICAgLy8gKGUuZy4gYDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD0xMzA3LCBoZWlnaHQ9MTkyMFwiLz5gKVxuICAgICAgICAvLyB0byBhdm9pZCB3cm9uZyBwYWdlIHJlc2l6aW5nLlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoaXRlbS50YXJnZXQsIGl0ZW0ubmFtZSwgaXRlbS52YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICAvLyB1c2Ugc2l6ZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBQYWdlTWFzdGVySW5zdGFuY2VcbiAgICBjb25zdCByZWN0ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHRoaXMuY29udGFpbmVyKTtcbiAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSByZWN0LndpZHRoO1xuICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWdnZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gdHJpZ2dlcnNbaV07XG4gICAgICBjb25zdCByZWZzID0gdGhpcy5lbGVtZW50c0J5SWRbdHJpZ2dlci5yZWZdO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5lbGVtZW50c0J5SWRbdHJpZ2dlci5vYnNlcnZlcl07XG4gICAgICBpZiAocmVmcyAmJiBvYnNlcnZlcnMpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBtYWtlTGlzdGVuZXIocmVmcywgdHJpZ2dlci5hY3Rpb24pO1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG9ic2VydmVycy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzW2tdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlci5ldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogWm9vbSBwYWdlLlxuICAgKiBAcGFyYW0gc2NhbGUgRmFjdG9yIHRvIHdoaWNoIHRoZSBwYWdlIHdpbGwgYmUgc2NhbGVkLlxuICAgKi9cbiAgem9vbShzY2FsZTogbnVtYmVyKSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRhaW5lciwgXCJ0cmFuc2Zvcm1cIiwgYHNjYWxlKCR7c2NhbGV9KWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBhZ2UgYXJlYSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0UGFnZUFyZWFFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5wYWdlQXJlYUVsZW1lbnQgfHwgdGhpcy5jb250YWluZXI7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgU3ByZWFkID0ge1xuICBsZWZ0OiBQYWdlO1xuICByaWdodDogUGFnZTtcbn07XG5cbi8qKlxuICogTWFya3MgYW4gZWxlbWVudCBhcyBcInNwZWNpYWxcIi4gSXQgc2hvdWxkIG5vdCBiZSB1c2VkIGluIGJib3ggY2FsY3VsYXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lBTF9BVFRSID0gXCJkYXRhLWFkYXB0LXNwZWNcIjtcblxuZXhwb3J0IGNvbnN0IFdoaXRlc3BhY2UgPSBWdHJlZS5XaGl0ZXNwYWNlO1xuZXhwb3J0IHR5cGUgV2hpdGVzcGFjZSA9IFZ0cmVlLldoaXRlc3BhY2U7XG5cbi8qKlxuICogUmVzb2x2ZXMgV2hpdGVzcGFjZSB2YWx1ZSBmcm9tIGEgdmFsdWUgb2YgJ3doaXRlLXNwYWNlJyBwcm9wZXJ0eVxuICogQHBhcmFtIHdoaXRlc3BhY2UgVGhlIHZhbHVlIG9mICd3aGl0ZS1zcGFjZScgcHJvcGVydHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZShcbiAgd2hpdGVzcGFjZTogc3RyaW5nLFxuKTogV2hpdGVzcGFjZSB8IG51bGwge1xuICBzd2l0Y2ggKHdoaXRlc3BhY2UpIHtcbiAgICBjYXNlIFwibm9ybWFsXCI6XG4gICAgY2FzZSBcIm5vd3JhcFwiOlxuICAgICAgcmV0dXJuIFdoaXRlc3BhY2UuSUdOT1JFO1xuICAgIGNhc2UgXCJwcmUtbGluZVwiOlxuICAgICAgcmV0dXJuIFdoaXRlc3BhY2UuTkVXTElORTtcbiAgICBjYXNlIFwicHJlXCI6XG4gICAgY2FzZSBcInByZS13cmFwXCI6XG4gICAgICByZXR1cm4gV2hpdGVzcGFjZS5QUkVTRVJWRTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbklnbm9yZShub2RlOiBOb2RlLCB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlKTogYm9vbGVhbiB7XG4gIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gIHN3aXRjaCAod2hpdGVzcGFjZSkge1xuICAgIGNhc2UgV2hpdGVzcGFjZS5JR05PUkU6XG4gICAgICByZXR1cm4gISF0ZXh0Lm1hdGNoKC9eXFxzKiQvKTtcbiAgICBjYXNlIFdoaXRlc3BhY2UuTkVXTElORTpcbiAgICAgIHJldHVybiAhIXRleHQubWF0Y2goL15bIFxcdFxcZl0qJC8pO1xuICAgIGNhc2UgV2hpdGVzcGFjZS5QUkVTRVJWRTpcbiAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA9PSAwO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB3aGl0ZXNwYWNlOiAke3doaXRlc3BhY2V9YCk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93IHtcbiAgZm9yY2VkQnJlYWtPZmZzZXRzID0gW10gYXMgbnVtYmVyW107XG4gIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnRGbG93TmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRmxvd0NodW5rIHtcbiAgc3RhcnRQYWdlOiBudW1iZXIgPSAtMTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwdWJsaWMgc3RhcnRPZmZzZXQ6IG51bWJlcixcbiAgICBwdWJsaWMgcHJpb3JpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgbGluZ2VyOiBudW1iZXIsXG4gICAgcHVibGljIGV4Y2x1c2l2ZTogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVwZWF0ZWQ6IGJvb2xlYW4sXG4gICAgcHVibGljIGxhc3Q6IGJvb2xlYW4sXG4gICAgcHVibGljIGJyZWFrQmVmb3JlOiBzdHJpbmcgfCBudWxsLFxuICApIHt9XG5cbiAgaXNCZXR0ZXIob3RoZXI6IEZsb3dDaHVuayk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5leGNsdXNpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlci5leGNsdXNpdmUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcmlvcml0eSA+IG90aGVyLnByaW9yaXR5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDbGllbnRSZWN0ID0gVnRyZWUuQ2xpZW50UmVjdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWVudHJlY3RJbmNyZWFzaW5nVG9wKFxuICByMTogQ2xpZW50UmVjdCxcbiAgcjI6IENsaWVudFJlY3QsXG4pOiBudW1iZXIge1xuICByZXR1cm4gcjEudG9wIC0gcjIudG9wO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpZW50cmVjdERlY3JlYXNpbmdSaWdodChcbiAgcjE6IENsaWVudFJlY3QsXG4gIHIyOiBDbGllbnRSZWN0LFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIHIyLnJpZ2h0IC0gcjEucmlnaHQ7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHRvIHJlYWQgdGhlIHBvc2l0aW9uIGFzc2lnbmVkIHRvIHRoZSBlbGVtZW50cyBhbmQgcmFuZ2VzIGJ5IHRoZVxuICogYnJvd3Nlci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xpZW50TGF5b3V0ID0gVnRyZWUuQ2xpZW50TGF5b3V0O1xuXG4vKipcbiAqIFN0eWxpbmcsIGNyZWF0aW5nIGEgc2luZ2xlIG5vZGUncyB2aWV3LCBldGMuXG4gKi9cbmV4cG9ydCB0eXBlIExheW91dENvbnRleHQgPSBWdHJlZS5MYXlvdXRDb250ZXh0O1xuXG4vKipcbiAqIEZvcm1hdHRpbmcgY29udGV4dC5cbiAqL1xuZXhwb3J0IHR5cGUgRm9ybWF0dGluZ0NvbnRleHQgPSBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IGZ1bmN0aW9uIGVhY2hBbmNlc3RvckZvcm1hdHRpbmdDb250ZXh0KFxuICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gIGNhbGxiYWNrOiAocDE6IEZvcm1hdHRpbmdDb250ZXh0KSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBmYyA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0OyBmYzsgZmMgPSBmYy5nZXRQYXJlbnQoKSkge1xuICAgIGNhbGxiYWNrKGZjKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBOb2RlUG9zaXRpb25TdGVwID0gVnRyZWUuTm9kZVBvc2l0aW9uU3RlcDtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU5vZGVQb3NpdGlvblN0ZXAoXG4gIG5wczE6IE5vZGVQb3NpdGlvblN0ZXAsXG4gIG5wczI6IE5vZGVQb3NpdGlvblN0ZXAsXG4pOiBib29sZWFuIHtcbiAgaWYgKG5wczEgPT09IG5wczIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIW5wczEgfHwgIW5wczIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBucHMxLm5vZGUgPT09IG5wczIubm9kZSAmJlxuICAgIG5wczEuc2hhZG93VHlwZSA9PT0gbnBzMi5zaGFkb3dUeXBlICYmXG4gICAgaXNTYW1lU2hhZG93Q29udGV4dChucHMxLnNoYWRvd0NvbnRleHQsIG5wczIuc2hhZG93Q29udGV4dCkgJiZcbiAgICBpc1NhbWVTaGFkb3dDb250ZXh0KG5wczEubm9kZVNoYWRvdywgbnBzMi5ub2RlU2hhZG93KSAmJlxuICAgIGlzU2FtZU5vZGVQb3NpdGlvblN0ZXAobnBzMS5zaGFkb3dTaWJsaW5nLCBucHMyLnNoYWRvd1NpYmxpbmcpXG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIE5vZGVQb3NpdGlvbiA9IFZ0cmVlLk5vZGVQb3NpdGlvbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU5vZGVQb3NpdGlvbihcbiAgbnAxOiBOb2RlUG9zaXRpb24gfCBudWxsLFxuICBucDI6IE5vZGVQb3NpdGlvbiB8IG51bGwsXG4pOiBib29sZWFuIHtcbiAgaWYgKG5wMSA9PT0gbnAyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFucDEgfHwgIW5wMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgbnAxLm9mZnNldEluTm9kZSAhPT0gbnAyLm9mZnNldEluTm9kZSB8fFxuICAgIG5wMS5hZnRlciAhPT0gbnAyLmFmdGVyIHx8XG4gICAgbnAxLnN0ZXBzLmxlbmd0aCAhPT0gbnAyLnN0ZXBzLmxlbmd0aFxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBucDEuc3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWlzU2FtZU5vZGVQb3NpdGlvblN0ZXAobnAxLnN0ZXBzW2ldLCBucDIuc3RlcHNbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGUobm9kZTogTm9kZSk6IE5vZGVQb3NpdGlvbiB7XG4gIGNvbnN0IHN0ZXA6IE5vZGVQb3NpdGlvblN0ZXAgPSB7XG4gICAgbm9kZSxcbiAgICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlLk5PTkUsXG4gICAgc2hhZG93Q29udGV4dDogbnVsbCxcbiAgICBub2RlU2hhZG93OiBudWxsLFxuICAgIHNoYWRvd1NpYmxpbmc6IG51bGwsXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IG51bGwsXG4gICAgZnJhZ21lbnRJbmRleDogMCxcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBzdGVwczogW3N0ZXBdLFxuICAgIG9mZnNldEluTm9kZTogMCxcbiAgICBhZnRlcjogZmFsc2UsXG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgaW5pdGlhbEZyYWdtZW50SW5kZXg6IG51bWJlciB8IG51bGwsXG4pOiBOb2RlUG9zaXRpb24ge1xuICBjb25zdCBzdGVwOiBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGU6IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUsXG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZS5OT05FLFxuICAgIHNoYWRvd0NvbnRleHQ6IG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHQsXG4gICAgbm9kZVNoYWRvdzogbnVsbCxcbiAgICBzaGFkb3dTaWJsaW5nOiBudWxsLFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBudWxsLFxuICAgIGZyYWdtZW50SW5kZXg6XG4gICAgICBpbml0aWFsRnJhZ21lbnRJbmRleCAhPSBudWxsXG4gICAgICAgID8gaW5pdGlhbEZyYWdtZW50SW5kZXhcbiAgICAgICAgOiBub2RlQ29udGV4dC5mcmFnbWVudEluZGV4LFxuICB9O1xuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBbc3RlcF0sXG4gICAgb2Zmc2V0SW5Ob2RlOiAwLFxuICAgIGFmdGVyOiBmYWxzZSxcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogbm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChcbiAgc3RlcDogTm9kZVBvc2l0aW9uU3RlcCxcbiAgcGFyZW50OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IE5vZGVDb250ZXh0IHtcbiAgY29uc3Qgbm9kZUNvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQoc3RlcC5ub2RlLCBwYXJlbnQgYXMgTm9kZUNvbnRleHQsIDApO1xuICBub2RlQ29udGV4dC5zaGFkb3dUeXBlID0gc3RlcC5zaGFkb3dUeXBlO1xuICBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0ID0gc3RlcC5zaGFkb3dDb250ZXh0O1xuICBub2RlQ29udGV4dC5ub2RlU2hhZG93ID0gc3RlcC5ub2RlU2hhZG93O1xuICBub2RlQ29udGV4dC5zaGFkb3dTaWJsaW5nID0gc3RlcC5zaGFkb3dTaWJsaW5nXG4gICAgPyBtYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChzdGVwLnNoYWRvd1NpYmxpbmcsIHBhcmVudC5jb3B5KCkpXG4gICAgOiBudWxsO1xuICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IHN0ZXAuZm9ybWF0dGluZ0NvbnRleHQ7XG4gIG5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXggPSBzdGVwLmZyYWdtZW50SW5kZXggKyAxO1xuICByZXR1cm4gbm9kZUNvbnRleHQ7XG59XG5cbmV4cG9ydCBjb25zdCBTaGFkb3dUeXBlID0gVnRyZWUuU2hhZG93VHlwZTtcbmV4cG9ydCB0eXBlIFNoYWRvd1R5cGUgPSBWdHJlZS5TaGFkb3dUeXBlO1xuXG4vKipcbiAqIERhdGEgYWJvdXQgc2hhZG93IHRyZWUgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkb3dDb250ZXh0IGltcGxlbWVudHMgVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gIHN1YlNoYWRvdzogU2hhZG93Q29udGV4dCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG93bmVyOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSByb290OiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudFNoYWRvdzogU2hhZG93Q29udGV4dCxcbiAgICBzdXBlclNoYWRvdzogU2hhZG93Q29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogU2hhZG93VHlwZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyOiBvYmplY3QsXG4gICkge1xuICAgIGlmIChzdXBlclNoYWRvdykge1xuICAgICAgc3VwZXJTaGFkb3cuc3ViU2hhZG93ID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBlcXVhbHMob3RoZXI6IFNoYWRvd0NvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoIW90aGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm93bmVyID09PSBvdGhlci5vd25lciAmJlxuICAgICAgdGhpcy54bWxkb2MgPT09IG90aGVyLnhtbGRvYyAmJlxuICAgICAgdGhpcy50eXBlID09PSBvdGhlci50eXBlICYmXG4gICAgICBpc1NhbWVTaGFkb3dDb250ZXh0KHRoaXMucGFyZW50U2hhZG93LCBvdGhlci5wYXJlbnRTaGFkb3cpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lU2hhZG93Q29udGV4dChcbiAgc2MxOiBTaGFkb3dDb250ZXh0LFxuICBzYzI6IFNoYWRvd0NvbnRleHQsXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHNjMSA9PT0gc2MyIHx8ICghIXNjMSAmJiAhIXNjMiAmJiBzYzEuZXF1YWxzKHNjMikpO1xufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IDpmaXJzdC1sZXR0ZXIgb3IgOmZpcnN0LWxpbmUgcHNldWRvZWxlbWVudHNcbiAqIEBwYXJhbSBjb3VudCAwIC0gZmlyc3QtbGV0dGVyLCAxIG9yIG1vcmUgLSBmaXJzdCBsaW5lKHMpXG4gKi9cbmV4cG9ydCBjbGFzcyBGaXJzdFBzZXVkbyBpbXBsZW1lbnRzIFZ0cmVlLkZpcnN0UHNldWRvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG91dGVyOiBGaXJzdFBzZXVkbyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnQ6IG51bWJlcixcbiAgKSB7fVxufVxuXG4vKipcbiAqIE5vZGVDb250ZXh0IHJlcHJlc2VudHMgYSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgKyBsYXlvdXQtcmVsYXRlZFxuICogaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gaXQuIFdoZW4gYWZ0ZXI9ZmFsc2UgYW5kIG9mZnNldEluTm9kZT0wLCB0aGVcbiAqIHBvc2l0aW9uIGlzIGluc2lkZSB0aGUgZWxlbWVudCAobm9kZSksIGJ1dCBqdXN0IGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gKiBXaGVuIG9mZnNldEluTm9kZT4wIGl0IHJlcHJlc2VudHMgb2Zmc2V0IGluIHRoZSB0ZXh0dWFsIGNvbnRlbnQgb2YgdGhlXG4gKiBub2RlLiBXaGVuIGFmdGVyPXRydWUgaXQgcmVwcmVzZW50cyBwb3NpdGlvbiByaWdodCBhZnRlciB0aGUgbGFzdCBjaGlsZFxuICogb2YgdGhlIG5vZGUuIGJveE9mZnNldCBpcyBpbmNyZW1lbnRlZCBieSAxIGZvciBhbnkgdmFsaWQgbm9kZSBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVDb250ZXh0IGltcGxlbWVudHMgVnRyZWUuTm9kZUNvbnRleHQge1xuICAvLyBwb3NpdGlvbiBpdHNlbGZcbiAgb2Zmc2V0SW5Ob2RlOiBudW1iZXIgPSAwO1xuICBhZnRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlO1xuXG4gIC8vIHBhcmVudCdzIHNoYWRvdyB0eXBlXG4gIHNoYWRvd0NvbnRleHQ6IFNoYWRvd0NvbnRleHQ7XG4gIG5vZGVTaGFkb3c6IFNoYWRvd0NvbnRleHQgPSBudWxsO1xuICBzaGFkb3dTaWJsaW5nOiBOb2RlQ29udGV4dCA9IG51bGw7XG5cbiAgLy8gbmV4dCBcInNpYmxpbmdcIiBpbiB0aGUgc2hhZG93IHRyZWVcbiAgLy8gb3RoZXIgc3R1ZmZcbiAgc2hhcmVkOiBib29sZWFuID0gZmFsc2U7XG4gIGlubGluZTogYm9vbGVhbiA9IHRydWU7XG4gIG92ZXJmbG93OiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrUGVuYWx0eTogbnVtYmVyO1xuICBkaXNwbGF5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG4gIGZsb2F0U2lkZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGwgPSBudWxsO1xuICBjb2x1bW5TcGFuOiBDc3MuVmFsIHwgbnVsbCA9IG51bGw7XG4gIHZlcnRpY2FsQWxpZ246IHN0cmluZyA9IFwiYmFzZWxpbmVcIjtcbiAgY2FwdGlvblNpZGU6IHN0cmluZyA9IFwidG9wXCI7XG4gIGlubGluZUJvcmRlclNwYWNpbmc6IG51bWJlciA9IDA7XG4gIGJsb2NrQm9yZGVyU3BhY2luZzogbnVtYmVyID0gMDtcbiAgZmxleENvbnRhaW5lcjogYm9vbGVhbiA9IGZhbHNlO1xuICB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlO1xuICBoeXBoZW5hdGVDaGFyYWN0ZXI6IHN0cmluZyB8IG51bGw7XG4gIGJyZWFrV29yZDogYm9vbGVhbjtcbiAgZXN0YWJsaXNoZXNCRkM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdmlld05vZGU6IE5vZGUgPSBudWxsO1xuICBjbGVhclNwYWNlcjogTm9kZSA9IG51bGw7XG4gIGluaGVyaXRlZFByb3BzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IHN0cmluZyB8IENzcy5WYWwgfTtcbiAgdmVydGljYWw6IGJvb2xlYW47XG4gIGRpcmVjdGlvbjogc3RyaW5nO1xuICBmaXJzdFBzZXVkbzogRmlyc3RQc2V1ZG87XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGwgPSBudWxsO1xuICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQ7XG4gIHJlcGVhdE9uQnJlYWs6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwbHVnaW5Qcm9wczoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IHVuZGVmaW5lZCB8IG51bGwgfCAobnVtYmVyIHwgbnVsbClbXTtcbiAgfSA9IHt9O1xuICBmcmFnbWVudEluZGV4OiBudW1iZXIgPSAxO1xuICBhZnRlcklmQ29udGludWVzOiBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcyA9IG51bGw7XG4gIGZvb3Rub3RlUG9saWN5OiBDc3MuSWRlbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgc291cmNlTm9kZTogTm9kZSxcbiAgICBwdWJsaWMgcGFyZW50OiBOb2RlQ29udGV4dCxcbiAgICBwdWJsaWMgYm94T2Zmc2V0OiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMuc2hhZG93VHlwZSA9IFNoYWRvd1R5cGUuTk9ORTtcbiAgICB0aGlzLnNoYWRvd0NvbnRleHQgPSBwYXJlbnQgPyBwYXJlbnQuc2hhZG93Q29udGV4dCA6IG51bGw7XG4gICAgdGhpcy5icmVha1BlbmFsdHkgPSBwYXJlbnQgPyBwYXJlbnQuYnJlYWtQZW5hbHR5IDogMDtcbiAgICB0aGlzLmZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgdGhpcy53aGl0ZXNwYWNlID0gcGFyZW50ID8gcGFyZW50LndoaXRlc3BhY2UgOiBXaGl0ZXNwYWNlLklHTk9SRTtcbiAgICB0aGlzLmh5cGhlbmF0ZUNoYXJhY3RlciA9IHBhcmVudCA/IHBhcmVudC5oeXBoZW5hdGVDaGFyYWN0ZXIgOiBudWxsO1xuICAgIHRoaXMuYnJlYWtXb3JkID0gcGFyZW50ID8gcGFyZW50LmJyZWFrV29yZCA6IGZhbHNlO1xuICAgIHRoaXMuaW5oZXJpdGVkUHJvcHMgPSBwYXJlbnQgPyBwYXJlbnQuaW5oZXJpdGVkUHJvcHMgOiB7fTtcbiAgICB0aGlzLnZlcnRpY2FsID0gcGFyZW50ID8gcGFyZW50LnZlcnRpY2FsIDogZmFsc2U7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBwYXJlbnQgPyBwYXJlbnQuZGlyZWN0aW9uIDogXCJsdHJcIjtcbiAgICB0aGlzLmZpcnN0UHNldWRvID0gcGFyZW50ID8gcGFyZW50LmZpcnN0UHNldWRvIDogbnVsbDtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gcGFyZW50ID8gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbDtcbiAgfVxuXG4gIHJlc2V0VmlldygpOiB2b2lkIHtcbiAgICB0aGlzLmlubGluZSA9IHRydWU7XG4gICAgdGhpcy5icmVha1BlbmFsdHkgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmJyZWFrUGVuYWx0eSA6IDA7XG4gICAgdGhpcy52aWV3Tm9kZSA9IG51bGw7XG4gICAgdGhpcy5jbGVhclNwYWNlciA9IG51bGw7XG4gICAgdGhpcy5vZmZzZXRJbk5vZGUgPSAwO1xuICAgIHRoaXMuYWZ0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLmRpc3BsYXkgPSBudWxsO1xuICAgIHRoaXMuZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLklOTElORTtcbiAgICB0aGlzLmZsb2F0U2lkZSA9IG51bGw7XG4gICAgdGhpcy5jbGVhclNpZGUgPSBudWxsO1xuICAgIHRoaXMuZmxvYXRNaW5XcmFwQmxvY2sgPSBudWxsO1xuICAgIHRoaXMuY29sdW1uU3BhbiA9IG51bGw7XG4gICAgdGhpcy52ZXJ0aWNhbEFsaWduID0gXCJiYXNlbGluZVwiO1xuICAgIHRoaXMuZmxleENvbnRhaW5lciA9IGZhbHNlO1xuICAgIHRoaXMud2hpdGVzcGFjZSA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQud2hpdGVzcGFjZSA6IFdoaXRlc3BhY2UuSUdOT1JFO1xuICAgIHRoaXMuaHlwaGVuYXRlQ2hhcmFjdGVyID0gdGhpcy5wYXJlbnRcbiAgICAgID8gdGhpcy5wYXJlbnQuaHlwaGVuYXRlQ2hhcmFjdGVyXG4gICAgICA6IG51bGw7XG4gICAgdGhpcy5icmVha1dvcmQgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmJyZWFrV29yZCA6IGZhbHNlO1xuICAgIHRoaXMuYnJlYWtCZWZvcmUgPSBudWxsO1xuICAgIHRoaXMuYnJlYWtBZnRlciA9IG51bGw7XG4gICAgdGhpcy5ub2RlU2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLmVzdGFibGlzaGVzQkZDID0gZmFsc2U7XG4gICAgdGhpcy5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IGZhbHNlO1xuICAgIHRoaXMudmVydGljYWwgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnZlcnRpY2FsIDogZmFsc2U7XG4gICAgdGhpcy5ub2RlU2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50ID0gbnVsbDtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA6IG51bGw7XG4gICAgdGhpcy5yZXBlYXRPbkJyZWFrID0gbnVsbDtcbiAgICB0aGlzLnBsdWdpblByb3BzID0ge307XG4gICAgdGhpcy5mcmFnbWVudEluZGV4ID0gMTtcbiAgICB0aGlzLmFmdGVySWZDb250aW51ZXMgPSBudWxsO1xuICAgIHRoaXMuZm9vdG5vdGVQb2xpY3kgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBjbG9uZUl0ZW0oKTogTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IG5wID0gbmV3IE5vZGVDb250ZXh0KHRoaXMuc291cmNlTm9kZSwgdGhpcy5wYXJlbnQsIHRoaXMuYm94T2Zmc2V0KTtcbiAgICBucC5vZmZzZXRJbk5vZGUgPSB0aGlzLm9mZnNldEluTm9kZTtcbiAgICBucC5hZnRlciA9IHRoaXMuYWZ0ZXI7XG4gICAgbnAubm9kZVNoYWRvdyA9IHRoaXMubm9kZVNoYWRvdztcbiAgICBucC5zaGFkb3dUeXBlID0gdGhpcy5zaGFkb3dUeXBlO1xuICAgIG5wLnNoYWRvd0NvbnRleHQgPSB0aGlzLnNoYWRvd0NvbnRleHQ7XG4gICAgbnAuc2hhZG93U2libGluZyA9IHRoaXMuc2hhZG93U2libGluZztcbiAgICBucC5pbmxpbmUgPSB0aGlzLmlubGluZTtcbiAgICBucC5icmVha1BlbmFsdHkgPSB0aGlzLmJyZWFrUGVuYWx0eTtcbiAgICBucC5kaXNwbGF5ID0gdGhpcy5kaXNwbGF5O1xuICAgIG5wLmZsb2F0UmVmZXJlbmNlID0gdGhpcy5mbG9hdFJlZmVyZW5jZTtcbiAgICBucC5mbG9hdFNpZGUgPSB0aGlzLmZsb2F0U2lkZTtcbiAgICBucC5jbGVhclNpZGUgPSB0aGlzLmNsZWFyU2lkZTtcbiAgICBucC5mbG9hdE1pbldyYXBCbG9jayA9IHRoaXMuZmxvYXRNaW5XcmFwQmxvY2s7XG4gICAgbnAuY29sdW1uU3BhbiA9IHRoaXMuY29sdW1uU3BhbjtcbiAgICBucC52ZXJ0aWNhbEFsaWduID0gdGhpcy52ZXJ0aWNhbEFsaWduO1xuICAgIG5wLmNhcHRpb25TaWRlID0gdGhpcy5jYXB0aW9uU2lkZTtcbiAgICBucC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gdGhpcy5pbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgIG5wLmJsb2NrQm9yZGVyU3BhY2luZyA9IHRoaXMuYmxvY2tCb3JkZXJTcGFjaW5nO1xuICAgIG5wLmVzdGFibGlzaGVzQkZDID0gdGhpcy5lc3RhYmxpc2hlc0JGQztcbiAgICBucC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IHRoaXMuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU7XG4gICAgbnAuZmxleENvbnRhaW5lciA9IHRoaXMuZmxleENvbnRhaW5lcjtcbiAgICBucC53aGl0ZXNwYWNlID0gdGhpcy53aGl0ZXNwYWNlO1xuICAgIG5wLmh5cGhlbmF0ZUNoYXJhY3RlciA9IHRoaXMuaHlwaGVuYXRlQ2hhcmFjdGVyO1xuICAgIG5wLmJyZWFrV29yZCA9IHRoaXMuYnJlYWtXb3JkO1xuICAgIG5wLmJyZWFrQmVmb3JlID0gdGhpcy5icmVha0JlZm9yZTtcbiAgICBucC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgIG5wLnZpZXdOb2RlID0gdGhpcy52aWV3Tm9kZTtcbiAgICBucC5jbGVhclNwYWNlciA9IHRoaXMuY2xlYXJTcGFjZXI7XG4gICAgbnAuZmlyc3RQc2V1ZG8gPSB0aGlzLmZpcnN0UHNldWRvO1xuICAgIG5wLnZlcnRpY2FsID0gdGhpcy52ZXJ0aWNhbDtcbiAgICBucC5vdmVyZmxvdyA9IHRoaXMub3ZlcmZsb3c7XG4gICAgbnAucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50O1xuICAgIG5wLmZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBucC5yZXBlYXRPbkJyZWFrID0gdGhpcy5yZXBlYXRPbkJyZWFrO1xuICAgIG5wLnBsdWdpblByb3BzID0gT2JqZWN0LmNyZWF0ZSh0aGlzLnBsdWdpblByb3BzKTtcbiAgICBucC5mcmFnbWVudEluZGV4ID0gdGhpcy5mcmFnbWVudEluZGV4O1xuICAgIG5wLmFmdGVySWZDb250aW51ZXMgPSB0aGlzLmFmdGVySWZDb250aW51ZXM7XG4gICAgbnAuZm9vdG5vdGVQb2xpY3kgPSB0aGlzLmZvb3Rub3RlUG9saWN5O1xuICAgIHJldHVybiBucDtcbiAgfVxuXG4gIG1vZGlmeSgpOiBOb2RlQ29udGV4dCB7XG4gICAgaWYgKCF0aGlzLnNoYXJlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb25lSXRlbSgpO1xuICB9XG5cbiAgY29weSgpOiBOb2RlQ29udGV4dCB7XG4gICAgbGV0IG5wOiBOb2RlQ29udGV4dCA9IHRoaXM7XG4gICAgZG8ge1xuICAgICAgaWYgKG5wLnNoYXJlZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5wLnNoYXJlZCA9IHRydWU7XG4gICAgICBucCA9IG5wLnBhcmVudDtcbiAgICB9IHdoaWxlIChucCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbG9uZSgpOiBOb2RlQ29udGV4dCB7XG4gICAgY29uc3QgbnAgPSB0aGlzLmNsb25lSXRlbSgpO1xuICAgIGxldCBucGMgPSBucDtcbiAgICBsZXQgbnBwOiBOb2RlQ29udGV4dDtcbiAgICB3aGlsZSAoKG5wcCA9IG5wYy5wYXJlbnQpICE9IG51bGwpIHtcbiAgICAgIG5wcCA9IG5wcC5jbG9uZUl0ZW0oKTtcbiAgICAgIG5wYy5wYXJlbnQgPSBucHA7XG4gICAgICBucGMgPSBucHA7XG4gICAgfVxuICAgIHJldHVybiBucDtcbiAgfVxuXG4gIHRvTm9kZVBvc2l0aW9uU3RlcCgpOiBOb2RlUG9zaXRpb25TdGVwIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogdGhpcy5zb3VyY2VOb2RlLFxuICAgICAgc2hhZG93VHlwZTogdGhpcy5zaGFkb3dUeXBlLFxuICAgICAgc2hhZG93Q29udGV4dDogdGhpcy5zaGFkb3dDb250ZXh0LFxuICAgICAgbm9kZVNoYWRvdzogdGhpcy5ub2RlU2hhZG93LFxuICAgICAgc2hhZG93U2libGluZzogdGhpcy5zaGFkb3dTaWJsaW5nXG4gICAgICAgID8gdGhpcy5zaGFkb3dTaWJsaW5nLnRvTm9kZVBvc2l0aW9uU3RlcCgpXG4gICAgICAgIDogbnVsbCxcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0OiB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgZnJhZ21lbnRJbmRleDogdGhpcy5mcmFnbWVudEluZGV4LFxuICAgIH07XG4gIH1cblxuICB0b05vZGVQb3NpdGlvbigpOiBOb2RlUG9zaXRpb24ge1xuICAgIGxldCBuYzogTm9kZUNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IHN0ZXBzID0gW107XG4gICAgZG8ge1xuICAgICAgLy8gV2UgbmVlZCBmdWxseSBcInBlZWxlZFwiIHBhdGgsIHNvIGRvbid0IHJlY29yZCBmaXJzdC1YWFggcHNldWRvZWxlbWVudFxuICAgICAgLy8gY29udGFpbmVyc1xuICAgICAgaWYgKFxuICAgICAgICAhbmMuZmlyc3RQc2V1ZG8gfHxcbiAgICAgICAgIW5jLnBhcmVudCB8fFxuICAgICAgICBuYy5wYXJlbnQuZmlyc3RQc2V1ZG8gPT09IG5jLmZpcnN0UHNldWRvXG4gICAgICApIHtcbiAgICAgICAgc3RlcHMucHVzaChuYy50b05vZGVQb3NpdGlvblN0ZXAoKSk7XG4gICAgICB9XG4gICAgICBuYyA9IG5jLnBhcmVudDtcbiAgICB9IHdoaWxlIChuYyk7XG4gICAgY29uc3QgYWN0dWFsT2Zmc2V0SW5Ob2RlID0gdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudFxuICAgICAgPyBEaWZmLnJlc29sdmVPcmlnaW5hbEluZGV4KFxuICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgICAgICAgdGhpcy5vZmZzZXRJbk5vZGUsXG4gICAgICAgIClcbiAgICAgIDogdGhpcy5vZmZzZXRJbk5vZGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0ZXBzLFxuICAgICAgb2Zmc2V0SW5Ob2RlOiBhY3R1YWxPZmZzZXRJbk5vZGUsXG4gICAgICBhZnRlcjogdGhpcy5hZnRlcixcbiAgICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBpc0luc2lkZUJGQygpOiBib29sZWFuIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5lc3RhYmxpc2hlc0JGQykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKCk6IE5vZGVDb250ZXh0IHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogV2FsayB1cCBOb2RlQ29udGV4dCB0cmVlIChzdGFydGluZyBmcm9tIGl0c2VsZikgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIGZvclxuICAgKiBlYWNoIGJsb2NrLlxuICAgKi9cbiAgd2Fsa1VwQmxvY2tzKGNhbGxiYWNrOiAocDE6IE5vZGVDb250ZXh0KSA9PiBhbnkpIHtcbiAgICBsZXQgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0ID0gdGhpcztcbiAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgIGlmICghbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIGJlbG9uZ3NUbyhmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCA9PT0gZm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICEhdGhpcy5wYXJlbnQgJiZcbiAgICAgIHRoaXMucGFyZW50LmZvcm1hdHRpbmdDb250ZXh0ID09PSBmb3JtYXR0aW5nQ29udGV4dFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENodW5rUG9zaXRpb24gaW1wbGVtZW50cyBWdHJlZS5DaHVua1Bvc2l0aW9uIHtcbiAgZmxvYXRzOiBOb2RlUG9zaXRpb25bXSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHByaW1hcnk6IE5vZGVQb3NpdGlvbikge31cblxuICBjbG9uZSgpOiBDaHVua1Bvc2l0aW9uIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2h1bmtQb3NpdGlvbih0aGlzLnByaW1hcnkpO1xuICAgIGlmICh0aGlzLmZsb2F0cykge1xuICAgICAgcmVzdWx0LmZsb2F0cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZsb2F0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXN1bHQuZmxvYXRzW2ldID0gdGhpcy5mbG9hdHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogQ2h1bmtQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFpc1NhbWVOb2RlUG9zaXRpb24odGhpcy5wcmltYXJ5LCBvdGhlci5wcmltYXJ5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5mbG9hdHMpIHtcbiAgICAgIGlmICghb3RoZXIuZmxvYXRzIHx8IHRoaXMuZmxvYXRzLmxlbmd0aCAhPT0gb3RoZXIuZmxvYXRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxvYXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNTYW1lTm9kZVBvc2l0aW9uKHRoaXMuZmxvYXRzW2ldLCBvdGhlci5mbG9hdHNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvdGhlci5mbG9hdHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsb3dDaHVua1Bvc2l0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGNodW5rUG9zaXRpb246IENodW5rUG9zaXRpb24sXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dDaHVuazogRmxvd0NodW5rLFxuICApIHt9XG5cbiAgY2xvbmUoKTogRmxvd0NodW5rUG9zaXRpb24ge1xuICAgIHJldHVybiBuZXcgRmxvd0NodW5rUG9zaXRpb24odGhpcy5jaHVua1Bvc2l0aW9uLmNsb25lKCksIHRoaXMuZmxvd0NodW5rKTtcbiAgfVxuXG4gIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBGbG93Q2h1bmtQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAhIW90aGVyICYmXG4gICAgICAodGhpcyA9PT0gb3RoZXIgfHwgdGhpcy5jaHVua1Bvc2l0aW9uLmlzU2FtZVBvc2l0aW9uKG90aGVyLmNodW5rUG9zaXRpb24pKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsb3dQb3NpdGlvbiB7XG4gIHBvc2l0aW9uczogRmxvd0NodW5rUG9zaXRpb25bXSA9IFtdO1xuICBzdGFydFNpZGU6IHN0cmluZyA9IFwiYW55XCI7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNsb25lKCk6IEZsb3dQb3NpdGlvbiB7XG4gICAgY29uc3QgbmV3ZnAgPSBuZXcgRmxvd1Bvc2l0aW9uKCk7XG4gICAgY29uc3QgYXJyID0gdGhpcy5wb3NpdGlvbnM7XG4gICAgY29uc3QgbmV3YXJyID0gbmV3ZnAucG9zaXRpb25zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdhcnJbaV0gPSBhcnJbaV0uY2xvbmUoKTtcbiAgICB9XG4gICAgbmV3ZnAuc3RhcnRTaWRlID0gdGhpcy5zdGFydFNpZGU7XG4gICAgbmV3ZnAuYnJlYWtBZnRlciA9IHRoaXMuYnJlYWtBZnRlcjtcbiAgICByZXR1cm4gbmV3ZnA7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogRmxvd1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlciB8fCB0aGlzLnBvc2l0aW9ucy5sZW5ndGggIT09IG90aGVyLnBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvc2l0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnBvc2l0aW9uc1tpXS5pc1NhbWVQb3NpdGlvbihvdGhlci5wb3NpdGlvbnNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXNDb250ZW50KG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucG9zaXRpb25zLmxlbmd0aCA+IDAgJiZcbiAgICAgIHRoaXMucG9zaXRpb25zWzBdLmZsb3dDaHVuay5zdGFydE9mZnNldCA8PSBvZmZzZXRcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRQb3NpdGlvbiB7XG4gIC8qKlxuICAgKiBPbmUtYmFzZWQsIGluY3JlbWVudGVkIGJlZm9yZSBsYXlvdXQuXG4gICAqL1xuICBwYWdlOiBudW1iZXIgPSAwO1xuICBmbG93czogeyBba2V5OiBzdHJpbmddOiBGbG93IH0gPSB7fTtcbiAgZmxvd1Bvc2l0aW9uczogeyBba2V5OiBzdHJpbmddOiBGbG93UG9zaXRpb24gfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBmbG93UG9zaXRpb25zIGlzIGJ1aWx0IHVwIHRvIHRoaXMgb2Zmc2V0LlxuICAgKi9cbiAgaGlnaGVzdFNlZW5PZmZzZXQ6IG51bWJlciA9IDA7XG5cbiAgLy8gRklYTUU6IFRoaXMgcHJvcGVydGllcyBzZWVtIHRvIGJlIG5vdCB1c2VkXG4gIGhpZ2hlc3RTZWVuTm9kZTogTm9kZTtcbiAgbG9va3VwUG9zaXRpb25PZmZzZXQ6IG51bWJlcjtcblxuICBjbG9uZSgpOiBMYXlvdXRQb3NpdGlvbiB7XG4gICAgY29uc3QgbmV3Y3AgPSBuZXcgTGF5b3V0UG9zaXRpb24oKTtcbiAgICBuZXdjcC5wYWdlID0gdGhpcy5wYWdlO1xuICAgIG5ld2NwLmhpZ2hlc3RTZWVuTm9kZSA9IHRoaXMuaGlnaGVzdFNlZW5Ob2RlO1xuICAgIG5ld2NwLmhpZ2hlc3RTZWVuT2Zmc2V0ID0gdGhpcy5oaWdoZXN0U2Vlbk9mZnNldDtcbiAgICBuZXdjcC5sb29rdXBQb3NpdGlvbk9mZnNldCA9IHRoaXMubG9va3VwUG9zaXRpb25PZmZzZXQ7XG4gICAgbmV3Y3AuZmxvd3MgPSB0aGlzLmZsb3dzO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIG5ld2NwLmZsb3dQb3NpdGlvbnNbbmFtZV0gPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV0uY2xvbmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld2NwO1xuICB9XG5cbiAgaXNTYW1lUG9zaXRpb24ob3RoZXI6IExheW91dFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIW90aGVyIHx8XG4gICAgICB0aGlzLnBhZ2UgIT09IG90aGVyLnBhZ2UgfHxcbiAgICAgIHRoaXMuaGlnaGVzdFNlZW5PZmZzZXQgIT09IG90aGVyLmhpZ2hlc3RTZWVuT2Zmc2V0XG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRoaXNGbG93TmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmZsb3dQb3NpdGlvbnMpO1xuICAgIGNvbnN0IG90aGVyRmxvd05hbWVzID0gT2JqZWN0LmtleXMob3RoZXIuZmxvd1Bvc2l0aW9ucyk7XG4gICAgaWYgKHRoaXNGbG93TmFtZXMubGVuZ3RoICE9PSBvdGhlckZsb3dOYW1lcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBvZiB0aGlzRmxvd05hbWVzKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdLmlzU2FtZVBvc2l0aW9uKFxuICAgICAgICAgIG90aGVyLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbmFtZSBmbG93IG5hbWUuXG4gICAqL1xuICBoYXNDb250ZW50KG5hbWU6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBmbG93UG9zID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgIGlmICghZmxvd1Bvcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd1Bvcy5oYXNDb250ZW50KG9mZnNldCk7XG4gIH1cblxuICBzdGFydFNpZGVPZkZsb3cobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBmbG93UG9zID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgIGlmICghZmxvd1Bvcykge1xuICAgICAgcmV0dXJuIFwiYW55XCI7XG4gICAgfVxuICAgIHJldHVybiBmbG93UG9zLnN0YXJ0U2lkZTtcbiAgfVxuXG4gIGZpcnN0Rmxvd0NodW5rT2ZGbG93KG5hbWU6IHN0cmluZyk6IEZsb3dDaHVuayB8IG51bGwge1xuICAgIGNvbnN0IGZsb3dQb3MgPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV07XG4gICAgaWYgKCFmbG93UG9zKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZmxvd0NodW5rUG9zaXRpb24gPSBmbG93UG9zLnBvc2l0aW9uc1swXTtcbiAgICBpZiAoIWZsb3dDaHVua1Bvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dDaHVua1Bvc2l0aW9uLmZsb3dDaHVuaztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyIGltcGxlbWVudHMgVnRyZWUuQ29udGFpbmVyIHtcbiAgbGVmdDogbnVtYmVyID0gMDtcbiAgdG9wOiBudW1iZXIgPSAwO1xuICBtYXJnaW5MZWZ0OiBudW1iZXIgPSAwO1xuICBtYXJnaW5SaWdodDogbnVtYmVyID0gMDtcbiAgbWFyZ2luVG9wOiBudW1iZXIgPSAwO1xuICBtYXJnaW5Cb3R0b206IG51bWJlciA9IDA7XG4gIGJvcmRlckxlZnQ6IG51bWJlciA9IDA7XG4gIGJvcmRlclJpZ2h0OiBudW1iZXIgPSAwO1xuICBib3JkZXJUb3A6IG51bWJlciA9IDA7XG4gIGJvcmRlckJvdHRvbTogbnVtYmVyID0gMDtcbiAgcGFkZGluZ0xlZnQ6IG51bWJlciA9IDA7XG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMDtcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMDtcbiAgcGFkZGluZ0JvdHRvbTogbnVtYmVyID0gMDtcbiAgd2lkdGg6IG51bWJlciA9IDA7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgb3JpZ2luWDogbnVtYmVyID0gMDtcbiAgb3JpZ2luWTogbnVtYmVyID0gMDtcbiAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10gPSBudWxsO1xuICBpbm5lclNoYXBlOiBHZW9tZXRyeVV0aWwuU2hhcGUgPSBudWxsO1xuICBjb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyID0gMDtcbiAgc25hcFdpZHRoOiBudW1iZXIgPSAwO1xuICBzbmFwSGVpZ2h0OiBudW1iZXIgPSAwO1xuICBzbmFwT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgc25hcE9mZnNldFk6IG51bWJlciA9IDA7XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7IC8vIHZlcnRpY2FsIHdyaXRpbmdcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudDogRWxlbWVudCkge31cblxuICBnZXRJbnNldFRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5Ub3AgKyB0aGlzLmJvcmRlclRvcCArIHRoaXMucGFkZGluZ1RvcDtcbiAgfVxuXG4gIGdldEluc2V0Qm90dG9tKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpbkJvdHRvbSArIHRoaXMuYm9yZGVyQm90dG9tICsgdGhpcy5wYWRkaW5nQm90dG9tO1xuICB9XG5cbiAgZ2V0SW5zZXRMZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpbkxlZnQgKyB0aGlzLmJvcmRlckxlZnQgKyB0aGlzLnBhZGRpbmdMZWZ0O1xuICB9XG5cbiAgZ2V0SW5zZXRSaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5SaWdodCArIHRoaXMuYm9yZGVyUmlnaHQgKyB0aGlzLnBhZGRpbmdSaWdodDtcbiAgfVxuXG4gIGdldEluc2V0QmVmb3JlKCkge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldFJpZ2h0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0VG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRBZnRlcigpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRTdGFydCgpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRFbmQoKSB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0UmlnaHQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRCZWZvcmVFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gucmlnaHQgOiBib3gudG9wO1xuICB9XG5cbiAgZ2V0QWZ0ZXJFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gubGVmdCA6IGJveC5ib3R0b207XG4gIH1cblxuICBnZXRTdGFydEVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC50b3AgOiBib3gubGVmdDtcbiAgfVxuXG4gIGdldEVuZEVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5ib3R0b20gOiBib3gucmlnaHQ7XG4gIH1cblxuICBnZXRJbmxpbmVTaXplKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3guYm90dG9tIC0gYm94LnRvcCA6IGJveC5yaWdodCAtIGJveC5sZWZ0O1xuICB9XG5cbiAgZ2V0Qm94U2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LnJpZ2h0IC0gYm94LmxlZnQgOiBib3guYm90dG9tIC0gYm94LnRvcDtcbiAgfVxuXG4gIGdldEJveERpcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gLTEgOiAxO1xuICB9XG5cbiAgZ2V0SW5saW5lRGlyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBjb3B5RnJvbShvdGhlcjogQ29udGFpbmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50ID0gb3RoZXIuZWxlbWVudDtcbiAgICB0aGlzLmxlZnQgPSBvdGhlci5sZWZ0O1xuICAgIHRoaXMudG9wID0gb3RoZXIudG9wO1xuICAgIHRoaXMubWFyZ2luTGVmdCA9IG90aGVyLm1hcmdpbkxlZnQ7XG4gICAgdGhpcy5tYXJnaW5SaWdodCA9IG90aGVyLm1hcmdpblJpZ2h0O1xuICAgIHRoaXMubWFyZ2luVG9wID0gb3RoZXIubWFyZ2luVG9wO1xuICAgIHRoaXMubWFyZ2luQm90dG9tID0gb3RoZXIubWFyZ2luQm90dG9tO1xuICAgIHRoaXMuYm9yZGVyTGVmdCA9IG90aGVyLmJvcmRlckxlZnQ7XG4gICAgdGhpcy5ib3JkZXJSaWdodCA9IG90aGVyLmJvcmRlclJpZ2h0O1xuICAgIHRoaXMuYm9yZGVyVG9wID0gb3RoZXIuYm9yZGVyVG9wO1xuICAgIHRoaXMuYm9yZGVyQm90dG9tID0gb3RoZXIuYm9yZGVyQm90dG9tO1xuICAgIHRoaXMucGFkZGluZ0xlZnQgPSBvdGhlci5wYWRkaW5nTGVmdDtcbiAgICB0aGlzLnBhZGRpbmdSaWdodCA9IG90aGVyLnBhZGRpbmdSaWdodDtcbiAgICB0aGlzLnBhZGRpbmdUb3AgPSBvdGhlci5wYWRkaW5nVG9wO1xuICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IG90aGVyLnBhZGRpbmdCb3R0b207XG4gICAgdGhpcy53aWR0aCA9IG90aGVyLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3RoZXIuaGVpZ2h0O1xuICAgIHRoaXMub3JpZ2luWCA9IG90aGVyLm9yaWdpblg7XG4gICAgdGhpcy5vcmlnaW5ZID0gb3RoZXIub3JpZ2luWTtcbiAgICB0aGlzLmlubmVyU2hhcGUgPSBvdGhlci5pbm5lclNoYXBlO1xuICAgIHRoaXMuZXhjbHVzaW9ucyA9IG90aGVyLmV4Y2x1c2lvbnM7XG4gICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9IG90aGVyLmNvbXB1dGVkQmxvY2tTaXplO1xuICAgIHRoaXMuc25hcFdpZHRoID0gb3RoZXIuc25hcFdpZHRoO1xuICAgIHRoaXMuc25hcEhlaWdodCA9IG90aGVyLnNuYXBIZWlnaHQ7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IG90aGVyLnZlcnRpY2FsO1xuICB9XG5cbiAgc2V0VmVydGljYWxQb3NpdGlvbih0b3A6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJ0b3BcIiwgYCR7dG9wfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICB9XG5cbiAgc2V0SG9yaXpvbnRhbFBvc2l0aW9uKGxlZnQ6IG51bWJlciwgd2lkdGg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcImxlZnRcIiwgYCR7bGVmdH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcIndpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gIH1cblxuICBzZXRCbG9ja1Bvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKHN0YXJ0ICsgZXh0ZW50ICogdGhpcy5nZXRCb3hEaXIoKSwgZXh0ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRWZXJ0aWNhbFBvc2l0aW9uKHN0YXJ0LCBleHRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHNldElubGluZVBvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2V0VmVydGljYWxQb3NpdGlvbihzdGFydCwgZXh0ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRIb3Jpem9udGFsUG9zaXRpb24oc3RhcnQsIGV4dGVudCk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGxldCBjOiBOb2RlO1xuICAgIHdoaWxlICgoYyA9IHBhcmVudC5sYXN0Q2hpbGQpKSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoYyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5uZXJTaGFwZSgpOiBHZW9tZXRyeVV0aWwuU2hhcGUge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldElubmVyUmVjdCgpO1xuICAgIGlmICh0aGlzLmlubmVyU2hhcGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmlubmVyU2hhcGUud2l0aE9mZnNldChyZWN0LngxLCByZWN0LnkxKTtcbiAgICB9XG4gICAgcmV0dXJuIEdlb21ldHJ5VXRpbC5zaGFwZUZvclJlY3QocmVjdC54MSwgcmVjdC55MSwgcmVjdC54MiwgcmVjdC55Mik7XG4gIH1cblxuICBnZXRJbm5lclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQgKyB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcCArIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICByZXR1cm4gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgb2Zmc2V0WCxcbiAgICAgIG9mZnNldFksXG4gICAgICBvZmZzZXRYICsgdGhpcy53aWR0aCxcbiAgICAgIG9mZnNldFkgKyB0aGlzLmhlaWdodCxcbiAgICApO1xuICB9XG5cbiAgZ2V0UGFkZGluZ1JlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIGNvbnN0IHBhZGRpbmdYID1cbiAgICAgIHRoaXMub3JpZ2luWCArIHRoaXMubGVmdCArIHRoaXMubWFyZ2luTGVmdCArIHRoaXMuYm9yZGVyTGVmdDtcbiAgICBjb25zdCBwYWRkaW5nWSA9IHRoaXMub3JpZ2luWSArIHRoaXMudG9wICsgdGhpcy5tYXJnaW5Ub3AgKyB0aGlzLmJvcmRlclRvcDtcbiAgICBjb25zdCBwYWRkaW5nV2lkdGggPSB0aGlzLnBhZGRpbmdMZWZ0ICsgdGhpcy53aWR0aCArIHRoaXMucGFkZGluZ1JpZ2h0O1xuICAgIGNvbnN0IHBhZGRpbmdIZWlnaHQgPSB0aGlzLnBhZGRpbmdUb3AgKyB0aGlzLmhlaWdodCArIHRoaXMucGFkZGluZ0JvdHRvbTtcbiAgICByZXR1cm4gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgcGFkZGluZ1gsXG4gICAgICBwYWRkaW5nWSxcbiAgICAgIHBhZGRpbmdYICsgcGFkZGluZ1dpZHRoLFxuICAgICAgcGFkZGluZ1kgKyBwYWRkaW5nSGVpZ2h0LFxuICAgICk7XG4gIH1cblxuICBnZXRPdXRlclNoYXBlKFxuICAgIG91dGVyU2hhcGVQcm9wOiBDc3MuVmFsLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICk6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuZ2V0T3V0ZXJSZWN0KCk7XG4gICAgcmV0dXJuIENzc1Byb3AudG9TaGFwZShcbiAgICAgIG91dGVyU2hhcGVQcm9wLFxuICAgICAgcmVjdC54MSxcbiAgICAgIHJlY3QueTEsXG4gICAgICByZWN0LngyIC0gcmVjdC54MSxcbiAgICAgIHJlY3QueTIgLSByZWN0LnkxLFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICBjb25zdCBvdXRlclggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQ7XG4gICAgY29uc3Qgb3V0ZXJZID0gdGhpcy5vcmlnaW5ZICsgdGhpcy50b3A7XG4gICAgY29uc3Qgb3V0ZXJXaWR0aCA9IHRoaXMuZ2V0SW5zZXRMZWZ0KCkgKyB0aGlzLndpZHRoICsgdGhpcy5nZXRJbnNldFJpZ2h0KCk7XG4gICAgY29uc3Qgb3V0ZXJIZWlnaHQgPVxuICAgICAgdGhpcy5nZXRJbnNldFRvcCgpICsgdGhpcy5oZWlnaHQgKyB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgcmV0dXJuIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIG91dGVyWCxcbiAgICAgIG91dGVyWSxcbiAgICAgIG91dGVyWCArIG91dGVyV2lkdGgsXG4gICAgICBvdXRlclkgKyBvdXRlckhlaWdodCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEV4cHJDb250ZW50TGlzdGVuZXIgPSBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudFByb3BlcnR5SGFuZGxlciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW06IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RDb250ZW50VmFsdWU6IENzcy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IEV4cHJDb250ZW50TGlzdGVuZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwcml2YXRlIHZpc2l0U3RySW5uZXIoc3RyOiBzdHJpbmcsIG5vZGU/OiBOb2RlIHwgbnVsbCkge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgbm9kZSA9IHRoaXMuZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cik7XG4gICAgfVxuICAgIHRoaXMuZWxlbS5hcHBlbmRDaGlsZChub2RlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFN0cklubmVyKHN0ci5zdHIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICBpZiAoKHRoaXMucm9vdENvbnRlbnRWYWx1ZSBhcyBhbnkpLnVybCkge1xuICAgICAgdGhpcy5lbGVtLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1cmwudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW1nID0gdGhpcy5lbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEJhc2UuTlMuWEhUTUwsIFwiaW1nXCIpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1cmwudXJsKTtcbiAgICAgIHRoaXMuZWxlbS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBleCA9IGV4cHIudG9FeHByKCk7XG4gICAgbGV0IHZhbCA9IGV4LmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIEV4cHJzLk5hbWVkKSB7XG4gICAgICAgIC8vIEZvciBlbnYocHViLXRpdGxlKSBhbmQgZW52KGRvYy10aXRsZSlcbiAgICAgICAgLy8gTmVlZCB0byB1bnF1b3RlIHRoZSByZXN1bHQuIFRvIGJlIGNvbnNpc3RlbnQgd2l0aCBjc3NwYXJzZS5ldmFsdWF0ZUV4cHJUb0NTUygpXG4gICAgICAgIHZhbCA9IENzc1BhcnNlci5wYXJzZVZhbHVlKFxuICAgICAgICAgIGV4LnNjb3BlLFxuICAgICAgICAgIG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHZhbCwgbnVsbCksXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgKS5zdHJpbmdWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgYXNzZXJ0KHRoaXMuZWxlbS5vd25lckRvY3VtZW50KTtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIoZXgsIHZhbCwgdGhpcy5lbGVtLm93bmVyRG9jdW1lbnQpO1xuICAgICAgdGhpcy52aXNpdFN0cklubmVyKHZhbCwgbm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub25Ucml2aWFsQ29udGVudCh2YWw6IENzcy5WYWwpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB2YWwgIT0gbnVsbCAmJlxuICAgIHZhbCAhPT0gQ3NzLmlkZW50Lm5vcm1hbCAmJlxuICAgIHZhbCAhPT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICB2YWwgIT09IENzcy5pZGVudC5pbmhlcml0XG4gICk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQYWdlRmxvYXRzIC0gQ1NTIFBhZ2UgRmxvYXRzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgQ3NzTG9naWNhbFV0aWwgZnJvbSBcIi4vY3NzLWxvZ2ljYWwtdXRpbFwiO1xuaW1wb3J0ICogYXMgU2l6aW5nIGZyb20gXCIuL3NpemluZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCBhcyBMYXlvdXRUeXBlLCBQYWdlRmxvYXRzLCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBGbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG5leHBvcnQgdHlwZSBGbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG5cbnR5cGUgUGFnZUZsb2F0SUQgPSBQYWdlRmxvYXRzLlBhZ2VGbG9hdElEO1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvYXRSZWZlcmVuY2VPZihzdHI6IHN0cmluZyk6IEZsb2F0UmVmZXJlbmNlIHtcbiAgc3dpdGNoIChzdHIpIHtcbiAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgICByZXR1cm4gRmxvYXRSZWZlcmVuY2UuSU5MSU5FO1xuICAgIGNhc2UgXCJjb2x1bW5cIjpcbiAgICAgIHJldHVybiBGbG9hdFJlZmVyZW5jZS5DT0xVTU47XG4gICAgY2FzZSBcInJlZ2lvblwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLlJFR0lPTjtcbiAgICBjYXNlIFwicGFnZVwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLlBBR0U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmbG9hdC1yZWZlcmVuY2U6ICR7c3RyfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhZ2VGbG9hdChmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpOiBib29sZWFuIHtcbiAgc3dpdGNoIChmbG9hdFJlZmVyZW5jZSkge1xuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuSU5MSU5FOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuQ09MVU1OOlxuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuUkVHSU9OOlxuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuUEFHRTpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmxvYXQtcmVmZXJlbmNlOiAke2Zsb2F0UmVmZXJlbmNlfWApO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJwcmV0IGEgZmxvYXQgdmFsdWUgd2l0aCB0aGUgd3JpdGluZy1tb2RlIGFuZCBkaXJlY3Rpb24gYXNzdW1pbmcgdGhlXG4gKiBmbG9hdC1yZWZlcmVuY2UgaXMgaW5saW5lIGFuZCByZXR1cm5zIFwibGVmdFwiIG9yIFwicmlnaHRcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbmxpbmVGbG9hdERpcmVjdGlvbihcbiAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBkaXJlY3Rpb246IHN0cmluZyxcbik6IHN0cmluZyB7XG4gIGNvbnN0IHdyaXRpbmdNb2RlID0gdmVydGljYWwgPyBcInZlcnRpY2FsLXJsXCIgOiBcImhvcml6b250YWwtdGJcIjtcbiAgaWYgKGZsb2F0U2lkZSA9PT0gXCJ0b3BcIiB8fCBmbG9hdFNpZGUgPT09IFwiYm90dG9tXCIpIHtcbiAgICBmbG9hdFNpZGUgPSBDc3NMb2dpY2FsVXRpbC50b0xvZ2ljYWwoZmxvYXRTaWRlLCB3cml0aW5nTW9kZSwgZGlyZWN0aW9uKTtcbiAgfVxuICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLXN0YXJ0XCIpIHtcbiAgICBmbG9hdFNpZGUgPSBcImlubGluZS1zdGFydFwiO1xuICB9XG4gIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIpIHtcbiAgICBmbG9hdFNpZGUgPSBcImlubGluZS1lbmRcIjtcbiAgfVxuICBpZiAoZmxvYXRTaWRlID09PSBcImlubGluZS1zdGFydFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCIpIHtcbiAgICBjb25zdCBwaHlzaWNhbFZhbHVlID0gQ3NzTG9naWNhbFV0aWwudG9QaHlzaWNhbChcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICk7XG4gICAgY29uc3QgbGluZVJlbGF0aXZlVmFsdWUgPSBDc3NMb2dpY2FsVXRpbC50b0xpbmVSZWxhdGl2ZShcbiAgICAgIHBoeXNpY2FsVmFsdWUsXG4gICAgICB3cml0aW5nTW9kZSxcbiAgICApO1xuICAgIGlmIChsaW5lUmVsYXRpdmVWYWx1ZSA9PT0gXCJsaW5lLWxlZnRcIikge1xuICAgICAgZmxvYXRTaWRlID0gXCJsZWZ0XCI7XG4gICAgfSBlbHNlIGlmIChsaW5lUmVsYXRpdmVWYWx1ZSA9PT0gXCJsaW5lLXJpZ2h0XCIpIHtcbiAgICAgIGZsb2F0U2lkZSA9IFwicmlnaHRcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb2F0U2lkZSAhPT0gXCJsZWZ0XCIgJiYgZmxvYXRTaWRlICE9PSBcInJpZ2h0XCIpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBJbnZhbGlkIGZsb2F0IHZhbHVlOiAke2Zsb2F0U2lkZX0uIEZhbGxiYWNrIHRvIGxlZnQuYCk7XG4gICAgZmxvYXRTaWRlID0gXCJsZWZ0XCI7XG4gIH1cbiAgcmV0dXJuIGZsb2F0U2lkZTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdCBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHtcbiAgb3JkZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBpZDogUGFnZUZsb2F0SUQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbCxcbiAgKSB7fVxuXG4gIGdldE9yZGVyKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMub3JkZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwYWdlIGZsb2F0IGlzIG5vdCB5ZXQgYWRkZWRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9yZGVyO1xuICB9XG5cbiAgZ2V0SWQoKTogUGFnZUZsb2F0SUQge1xuICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhZ2UgZmxvYXQgaXMgbm90IHlldCBhZGRlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICBpc0FsbG93ZWRPbkNvbnRleHQocGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzQW5jaG9yQWxyZWFkeUFwcGVhcmVkKHRoaXMuZ2V0SWQoKSk7XG4gIH1cblxuICBpc0FsbG93ZWRUb1ByZWNlZGUob3RoZXI6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0U3RvcmUge1xuICBwcml2YXRlIGZsb2F0czogUGFnZUZsb2F0W10gPSBbXTtcbiAgcHJpdmF0ZSBuZXh0UGFnZUZsb2F0SW5kZXg6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBuZXh0T3JkZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5uZXh0UGFnZUZsb2F0SW5kZXgrKztcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUGFnZUZsb2F0SWQob3JkZXI6IG51bWJlcik6IFBhZ2VGbG9hdElEIHtcbiAgICByZXR1cm4gYHBmJHtvcmRlcn1gO1xuICB9XG5cbiAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRzLmZpbmRJbmRleCgoZikgPT5cbiAgICAgIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oZi5ub2RlUG9zaXRpb24sIGZsb2F0Lm5vZGVQb3NpdGlvbiksXG4gICAgKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkEgcGFnZSBmbG9hdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBub2RlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3JkZXIgPSAoZmxvYXQub3JkZXIgPSB0aGlzLm5leHRPcmRlcigpKTtcbiAgICAgIGZsb2F0LmlkID0gdGhpcy5jcmVhdGVQYWdlRmxvYXRJZChvcmRlcik7XG4gICAgICB0aGlzLmZsb2F0cy5wdXNoKGZsb2F0KTtcbiAgICB9XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHMuZmluZEluZGV4KChmKSA9PlxuICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbihmLm5vZGVQb3NpdGlvbiwgbm9kZVBvc2l0aW9uKSxcbiAgICApO1xuICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5mbG9hdHNbaW5kZXhdIDogbnVsbDtcbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRCeUlkKGlkOiBQYWdlRmxvYXRJRCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHMuZmluZEluZGV4KChmKSA9PiBmLmlkID09PSBpZCk7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgPyB0aGlzLmZsb2F0c1tpbmRleF0gOiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIGNvbnRpbnVlcyBSZXByZXNlbnRzIHdoZXRoZXIgdGhlIGZsb2F0IGlzIGZyYWdtZW50ZWQgYW5kIGNvbnRpbnVlc1xuICogICAgIGFmdGVyIHRoaXMgZnJhZ21lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdEZyYWdtZW50IGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJlYTogVnRyZWUuQ29udGFpbmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250aW51ZXM6IGJvb2xlYW4sXG4gICkge31cblxuICBoYXNGbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29udGludWF0aW9ucy5zb21lKChjKSA9PiBjLmZsb2F0ID09PSBmbG9hdCk7XG4gIH1cblxuICBmaW5kTm90QWxsb3dlZEZsb2F0KGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBQYWdlRmxvYXQgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jb250aW51YXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBmID0gdGhpcy5jb250aW51YXRpb25zW2ldLmZsb2F0O1xuICAgICAgaWYgKCFmLmlzQWxsb3dlZE9uQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRPdXRlclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gICAgcmV0dXJuIHRoaXMuYXJlYS5nZXRPdXRlclNoYXBlKG51bGwsIG51bGwpO1xuICB9XG5cbiAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICByZXR1cm4gdGhpcy5hcmVhLmdldE91dGVyUmVjdCgpO1xuICB9XG5cbiAgZ2V0T3JkZXIoKTogbnVtYmVyIHtcbiAgICBjb25zdCBmbG9hdHMgPSB0aGlzLmNvbnRpbnVhdGlvbnMubWFwKChjKSA9PiBjLmZsb2F0KTtcbiAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgZmxvYXRzLm1hcCgoZikgPT4gZi5nZXRPcmRlcigpKSxcbiAgICApO1xuICB9XG5cbiAgc2hvdWxkQmVTdGFzaGVkQmVmb3JlKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPcmRlcigpIDwgZmxvYXQuZ2V0T3JkZXIoKTtcbiAgfVxuXG4gIGFkZENvbnRpbnVhdGlvbnMoY29udGludWF0aW9uczogUGFnZUZsb2F0Q29udGludWF0aW9uW10pIHtcbiAgICBjb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgIHRoaXMuY29udGludWF0aW9ucy5wdXNoKGMpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Rmxvd05hbWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmbG93TmFtZSA9IHRoaXMuY29udGludWF0aW9uc1swXS5mbG9hdC5mbG93TmFtZTtcbiAgICBBc3NlcnRzLmFzc2VydChcbiAgICAgIHRoaXMuY29udGludWF0aW9ucy5ldmVyeSgoYykgPT4gYy5mbG9hdC5mbG93TmFtZSA9PT0gZmxvd05hbWUpLFxuICAgICk7XG4gICAgcmV0dXJuIGZsb3dOYW1lO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRDb250aW51YXRpb24gaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdDogUGFnZUZsb2F0LFxuICAgIHB1YmxpYyByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKSB7fVxuXG4gIGVxdWFscyhvdGhlcjogUGFnZUZsb2F0Q29udGludWF0aW9uIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZmxvYXQgPT09IG90aGVyLmZsb2F0ICYmXG4gICAgICBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKHRoaXMubm9kZVBvc2l0aW9uLCBvdGhlci5ub2RlUG9zaXRpb24pXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbjtcblxuLyoqXG4gKiBAcGFyYW0gZ2VuZXJhdGluZ05vZGVQb3NpdGlvbiBTb3VyY2UgTm9kZVBvc2l0aW9uIGdlbmVyYXRpbmcgdGhlIGNvbnRleHQuXG4gKiAgICAgU3BlY2lmeSB3aGVuIGEgY29sdW1uIGNvbnRleHQgaXMgZ2VuZXJhdGVkIGJ5IGEgbm9uLXJvb3QgZWxlbWVudCAoZm9yXG4gKiAgICAgZXhhbXBsZSBwYWdlIGZsb2F0cylcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdExheW91dENvbnRleHRcbiAgaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICBwcml2YXRlIGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10gPSBbXTtcbiAgd3JpdGluZ01vZGU6IENzcy5WYWw7XG4gIGRpcmVjdGlvbjogQ3NzLlZhbDtcbiAgcHJpdmF0ZSBpbnZhbGlkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGZsb2F0U3RvcmU6IFBhZ2VGbG9hdFN0b3JlO1xuICBwcml2YXRlIGZvcmJpZGRlbkZsb2F0czogUGFnZUZsb2F0SURbXSA9IFtdO1xuICBmbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXSA9IFtdO1xuICBwcml2YXRlIHN0YXNoZWRGbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXSA9IFtdO1xuICBwcml2YXRlIGZsb2F0QW5jaG9yczogeyBba2V5IGluIFBhZ2VGbG9hdElEXTogTm9kZSB9ID0ge307XG4gIHByaXZhdGUgZmxvYXRzRGVmZXJyZWRUb05leHQ6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdID0gW107XG4gIHByaXZhdGUgZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICBwcml2YXRlIGxheW91dENvbnN0cmFpbnRzOiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnRbXSA9IFtdO1xuICBwcml2YXRlIGxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UgfCBudWxsLFxuICAgIHByaXZhdGUgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsLFxuICAgIHdyaXRpbmdNb2RlOiBDc3MuVmFsIHwgbnVsbCxcbiAgICBkaXJlY3Rpb246IENzcy5WYWwgfCBudWxsLFxuICApIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy53cml0aW5nTW9kZSA9XG4gICAgICB3cml0aW5nTW9kZSB8fCAocGFyZW50ICYmIHBhcmVudC53cml0aW5nTW9kZSkgfHwgQ3NzLmlkZW50Lmhvcml6b250YWxfdGI7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgKHBhcmVudCAmJiBwYXJlbnQuZGlyZWN0aW9uKSB8fCBDc3MuaWRlbnQubHRyO1xuICAgIHRoaXMuZmxvYXRTdG9yZSA9IHBhcmVudCA/IHBhcmVudC5mbG9hdFN0b3JlIDogbmV3IFBhZ2VGbG9hdFN0b3JlKCk7XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5nID0gdGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTtcbiAgICB0aGlzLmZsb2F0c0RlZmVycmVkRnJvbVByZXZpb3VzID0gcHJldmlvdXNTaWJsaW5nXG4gICAgICA/IFtdLmNvbmNhdChwcmV2aW91c1NpYmxpbmcuZmxvYXRzRGVmZXJyZWRUb05leHQpXG4gICAgICA6IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IGZvciAke2Zsb2F0UmVmZXJlbmNlfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBwcml2YXRlIGdldFByZXZpb3VzU2libGluZ09mKFxuICAgIGNoaWxkOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHwgbnVsbCxcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UgfCBudWxsLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGdlbmVyYXRpbmdOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwsXG4gICk6IFBhZ2VGbG9hdExheW91dENvbnRleHQgfCBudWxsIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQgYXMgUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKFxuICAgICAgICByZXN1bHQuZmxvYXRSZWZlcmVuY2UgPT09IGZsb2F0UmVmZXJlbmNlICYmXG4gICAgICAgIHJlc3VsdC5mbG93TmFtZSA9PT0gZmxvd05hbWUgJiZcbiAgICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbihcbiAgICAgICAgICByZXN1bHQuZ2VuZXJhdGluZ05vZGVQb3NpdGlvbixcbiAgICAgICAgICBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5nZXRQcmV2aW91c1NpYmxpbmdPZihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICAgIGZsb3dOYW1lLFxuICAgICAgICAgIGdlbmVyYXRpbmdOb2RlUG9zaXRpb24sXG4gICAgICAgICk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcmV2aW91c1NpYmxpbmcoKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB8IG51bGwge1xuICAgIGxldCBjaGlsZDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXM7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIGxldCByZXN1bHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgcmVzdWx0ID0gcGFyZW50LmdldFByZXZpb3VzU2libGluZ09mKFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgdGhpcy5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgdGhpcy5mbG93TmFtZSxcbiAgICAgICAgdGhpcy5nZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gcGFyZW50O1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRDb250YWluZXIoZmxvYXRSZWZlcmVuY2U/OiBGbG9hdFJlZmVyZW5jZSk6IFZ0cmVlLkNvbnRhaW5lciB7XG4gICAgaWYgKCFmbG9hdFJlZmVyZW5jZSB8fCBmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZSk7XG4gIH1cblxuICBzZXRDb250YWluZXIoY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnJlYXR0YWNoRmxvYXRGcmFnbWVudHMoKTtcbiAgfVxuXG4gIGFkZFBhZ2VGbG9hdChmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgdGhpcy5mbG9hdFN0b3JlLmFkZFBhZ2VGbG9hdChmbG9hdCk7XG4gIH1cblxuICBnZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogUGFnZUZsb2F0IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXRTdG9yZS5maW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24obm9kZVBvc2l0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICBjb25zdCBpZCA9IGZsb2F0LmdldElkKCk7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGlmICghdGhpcy5mb3JiaWRkZW5GbG9hdHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIHRoaXMuZm9yYmlkZGVuRmxvYXRzLnB1c2goaWQpO1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5RmxvYXQoXG4gICAgICAgICAgZmxvYXQsXG4gICAgICAgICk7XG4gICAgICAgIHN0cmF0ZWd5LmZvcmJpZChmbG9hdCwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5mb3JiaWQoZmxvYXQpO1xuICAgIH1cbiAgfVxuXG4gIGlzRm9yYmlkZGVuKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICBjb25zdCBpZCA9IGZsb2F0LmdldElkKCk7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcmJpZGRlbkZsb2F0cy5pbmNsdWRlcyhpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuaXNGb3JiaWRkZW4oZmxvYXQpO1xuICAgIH1cbiAgfVxuXG4gIGFkZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgIGRvbnRJbnZhbGlkYXRlPzogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdEZyYWdtZW50LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcGFyZW50LmFkZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0RnJhZ21lbnQsIGRvbnRJbnZhbGlkYXRlKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmZsb2F0RnJhZ21lbnRzLmluY2x1ZGVzKGZsb2F0RnJhZ21lbnQpKSB7XG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLnB1c2goZmxvYXRGcmFnbWVudCk7XG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLnNvcnQoKGZyMSwgZnIyKSA9PiBmcjEuZ2V0T3JkZXIoKSAtIGZyMi5nZXRPcmRlcigpKTtcbiAgICB9XG4gICAgaWYgKCFkb250SW52YWxpZGF0ZSkge1xuICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0RnJhZ21lbnQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICBwYXJlbnQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXRGcmFnbWVudCwgZG9udEludmFsaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRGcmFnbWVudHMuaW5kZXhPZihmbG9hdEZyYWdtZW50KTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZnJhZ21lbnQuYXJlYSAmJiBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRJbnZhbGlkYXRlKSB7XG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCB7XG4gICAgaWYgKGZsb2F0LmZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm4gcGFyZW50LmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5maW5kSW5kZXgoKGYpID0+IGYuaGFzRmxvYXQoZmxvYXQpKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmxvYXRGcmFnbWVudHNbaW5kZXhdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBoYXNGbG9hdEZyYWdtZW50cyhjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50KSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKCFjb25kaXRpb24gfHwgdGhpcy5mbG9hdEZyYWdtZW50cy5zb21lKGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lmhhc0Zsb2F0RnJhZ21lbnRzKGNvbmRpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBoYXNDb250aW51aW5nRmxvYXRGcmFnbWVudHNJbkZsb3coZmxvd05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc0Zsb2F0RnJhZ21lbnRzKFxuICAgICAgKGZyYWdtZW50KSA9PiBmcmFnbWVudC5jb250aW51ZXMgJiYgZnJhZ21lbnQuZ2V0Rmxvd05hbWUoKSA9PT0gZmxvd05hbWUsXG4gICAgKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0OiBQYWdlRmxvYXQsIGFuY2hvclZpZXdOb2RlOiBOb2RlKSB7XG4gICAgdGhpcy5mbG9hdEFuY2hvcnNbZmxvYXQuZ2V0SWQoKV0gPSBhbmNob3JWaWV3Tm9kZTtcbiAgfVxuXG4gIGNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZsb2F0QW5jaG9ycyk7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ucmVkdWNlKFxuICAgICAgKHByZXYsIGNoaWxkKSA9PiBPYmplY3QuYXNzaWduKHByZXYsIGNoaWxkLmNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCkpLFxuICAgICAgYW5jaG9ycyxcbiAgICApO1xuICB9XG5cbiAgaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoZmxvYXRJZDogUGFnZUZsb2F0SUQpIHtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHRoaXMuZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKCk7XG4gICAgaWYgKGRlZmVycmVkRmxvYXRzLnNvbWUoKGNvbnQpID0+IGNvbnQuZmxvYXQuZ2V0SWQoKSA9PT0gZmxvYXRJZCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdEFuY2hvcnMgPSB0aGlzLmNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCk7XG4gICAgY29uc3QgYW5jaG9yVmlld05vZGUgPSBmbG9hdEFuY2hvcnNbZmxvYXRJZF07XG4gICAgaWYgKCFhbmNob3JWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250YWluZXIgJiYgdGhpcy5jb250YWluZXIuZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmVsZW1lbnQuY29udGFpbnMoYW5jaG9yVmlld05vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWZlclBhZ2VGbG9hdChjb250aW51YXRpb246IFBhZ2VGbG9hdENvbnRpbnVhdGlvbikge1xuICAgIGNvbnN0IGZsb2F0ID0gY29udGludWF0aW9uLmZsb2F0O1xuICAgIGlmIChmbG9hdC5mbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LmZpbmRJbmRleChcbiAgICAgICAgKGMpID0+IGMuZmxvYXQgPT09IGZsb2F0LFxuICAgICAgKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuc3BsaWNlKGluZGV4LCAxLCBjb250aW51YXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5wdXNoKGNvbnRpbnVhdGlvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KFxuICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgaWdub3JlUmVmZXJlbmNlPzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFpZ25vcmVSZWZlcmVuY2UgJiYgZmxvYXQuZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudChcbiAgICAgICAgZmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgICApLmhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KGZsb2F0LCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICBjb25zdCBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuc29tZShcbiAgICAgIChjKSA9PiBjLmZsb2F0LmdldE9yZGVyKCkgPCBvcmRlciAmJiAhZmxvYXQuaXNBbGxvd2VkVG9QcmVjZWRlKGMuZmxvYXQpLFxuICAgICk7XG4gICAgaWYgKGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICBsZXQgbGFzdEZvbGxvd2luZzogUGFnZUZsb2F0ID0gbnVsbDtcbiAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICBmcmFnbWVudC5jb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZiA9IGMuZmxvYXQ7XG4gICAgICAgIGNvbnN0IG8gPSBmLmdldE9yZGVyKCk7XG4gICAgICAgIGlmIChvID4gb3JkZXIgJiYgKCFsYXN0Rm9sbG93aW5nIHx8IG8gPiBsYXN0Rm9sbG93aW5nLmdldE9yZGVyKCkpKSB7XG4gICAgICAgICAgbGFzdEZvbGxvd2luZyA9IGY7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgY29uc3QgbGFzdEZvbGxvd2luZ09mUGFyZW50ID0gdGhpcy5wYXJlbnQuZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoXG4gICAgICAgIGZsb2F0LFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbGFzdEZvbGxvd2luZ09mUGFyZW50ICYmXG4gICAgICAgICghbGFzdEZvbGxvd2luZyB8fFxuICAgICAgICAgIGxhc3RGb2xsb3dpbmdPZlBhcmVudC5nZXRPcmRlcigpID4gbGFzdEZvbGxvd2luZy5nZXRPcmRlcigpKVxuICAgICAgKSB7XG4gICAgICAgIGxhc3RGb2xsb3dpbmcgPSBsYXN0Rm9sbG93aW5nT2ZQYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsYXN0Rm9sbG93aW5nO1xuICB9XG5cbiAgZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKFxuICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0Q29udGludWF0aW9uW10ge1xuICAgIGZsb3dOYW1lID0gZmxvd05hbWUgfHwgdGhpcy5mbG93TmFtZTtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5mbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cy5maWx0ZXIoXG4gICAgICAoY29udCkgPT4gIWZsb3dOYW1lIHx8IGNvbnQuZmxvYXQuZmxvd05hbWUgPT09IGZsb3dOYW1lLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnBhcmVudFxuICAgICAgICAuZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKGZsb3dOYW1lKVxuICAgICAgICAuY29uY2F0KHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuc29ydCgoYzEsIGMyKSA9PiBjMS5mbG9hdC5nZXRPcmRlcigpIC0gYzIuZmxvYXQuZ2V0T3JkZXIoKSk7XG4gIH1cblxuICBnZXRQYWdlRmxvYXRDb250aW51YXRpb25zRGVmZXJyZWRUb05leHQoXG4gICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSB7XG4gICAgZmxvd05hbWUgPSBmbG93TmFtZSB8fCB0aGlzLmZsb3dOYW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuZmlsdGVyKFxuICAgICAgKGNvbnQpID0+ICFmbG93TmFtZSB8fCBjb250LmZsb2F0LmZsb3dOYW1lID09PSBmbG93TmFtZSxcbiAgICApO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50XG4gICAgICAgIC5nZXRQYWdlRmxvYXRDb250aW51YXRpb25zRGVmZXJyZWRUb05leHQoZmxvd05hbWUpXG4gICAgICAgIC5jb25jYXQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBnZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpOiBQYWdlRmxvYXRbXSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IGRvbmUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGRvbmUuaW5jbHVkZXMoY2hpbGQuZmxvd05hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZG9uZS5wdXNoKGNoaWxkLmZsb3dOYW1lKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoY2hpbGQuZmxvYXRzRGVmZXJyZWRUb05leHQubWFwKChjKSA9PiBjLmZsb2F0KSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNoaWxkLmdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgY2hlY2tBbmRGb3JiaWROb3RBbGxvd2VkRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHNbaV07XG4gICAgICBjb25zdCBub3RBbGxvd2VkRmxvYXQgPSBmcmFnbWVudC5maW5kTm90QWxsb3dlZEZsb2F0KHRoaXMpO1xuICAgICAgaWYgKG5vdEFsbG93ZWRGbG9hdCkge1xuICAgICAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgICAgICB0aGlzLmZvcmJpZChub3RBbGxvd2VkRmxvYXQpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHJlbW92ZWQgZmxvYXQgaXMgYSBibG9jay1lbmQvaW5saW5lLWVuZCBmbG9hdCxcbiAgICAgICAgICAvLyB3ZSBzaG91bGQgcmUtbGF5b3V0IHByZWNlZGluZyBmbG9hdHMgd2l0aCB0aGUgc2FtZSBmbG9hdCBkaXJlY3Rpb24uXG4gICAgICAgICAgdGhpcy5yZW1vdmVFbmRGbG9hdEZyYWdtZW50cyhmcmFnbWVudC5mbG9hdFNpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5mbG9hdFJlZmVyZW5jZSA9PT0gRmxvYXRSZWZlcmVuY2UuUkVHSU9OICYmIHRoaXMucGFyZW50LmxvY2tlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGRlZmVycmVkRmxvYXRzID0gdGhpcy5nZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpO1xuICAgIGNvbnN0IGZsb2F0c0luRnJhZ21lbnRzID0gdGhpcy5mbG9hdEZyYWdtZW50cy5yZWR1Y2UoXG4gICAgICAociwgZnIpID0+IHIuY29uY2F0KGZyLmNvbnRpbnVhdGlvbnMubWFwKChjKSA9PiBjLmZsb2F0KSksXG4gICAgICBbXSxcbiAgICApO1xuICAgIGZsb2F0c0luRnJhZ21lbnRzLnNvcnQoKGYxLCBmMikgPT4gZjIuZ2V0T3JkZXIoKSAtIGYxLmdldE9yZGVyKCkpO1xuICAgIGZvciAoY29uc3QgZmxvYXQgb2YgZmxvYXRzSW5GcmFnbWVudHMpIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgZGVmZXJyZWRGbG9hdHMuc29tZShcbiAgICAgICAgICAoZCkgPT4gIWZsb2F0LmlzQWxsb3dlZFRvUHJlY2VkZShkKSAmJiBvcmRlciA+IGQuZ2V0T3JkZXIoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9yYmlkKGZsb2F0KTtcbiAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0KTtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChmcmFnbWVudCk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5jaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0W2ldO1xuICAgICAgaWYgKCFjb250aW51YXRpb24uZmxvYXQuaXNBbGxvd2VkT25Db250ZXh0KHRoaXMpKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cy5mb3JFYWNoKChjb250aW51YXRpb24pID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5maW5kSW5kZXgoKGMpID0+IGNvbnRpbnVhdGlvbi5lcXVhbHMoYykpID49IDBcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mbG9hdEZyYWdtZW50cy5zb21lKChmKSA9PiBmLmhhc0Zsb2F0KGNvbnRpbnVhdGlvbi5mbG9hdCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQucHVzaChjb250aW51YXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgaGFzU2FtZUNvbnRhaW5lckFzKG90aGVyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhdGhpcy5jb250YWluZXIgJiZcbiAgICAgICEhb3RoZXIuY29udGFpbmVyICYmXG4gICAgICB0aGlzLmNvbnRhaW5lci5lbGVtZW50ID09PSBvdGhlci5jb250YWluZXIuZWxlbWVudFxuICAgICk7XG4gIH1cblxuICBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMuaW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgLy8gU2luY2UgdGhlIHNhbWUgY29udGFpbmVyIGVsZW1lbnQgaXMgc2hhcmVkIGJ5IGEgcmVnaW9uIHBhZ2UgZmxvYXRcbiAgICAgICAgLy8gbGF5b3V0IGNvbnRleHQgYW5kIGEgY29sdW1uIHBhZ2UgZmxvYXQgbGF5b3V0IGNvbnRleHQgaW4gYSBzaW5nbGVcbiAgICAgICAgLy8gY29sdW1uIHJlZ2lvbiwgdmlldyBlbGVtZW50cyBvZiBmbG9hdCBmcmFnbWVudHMgb2YgdGhlIGNoaWxkIChjb2x1bW4pXG4gICAgICAgIC8vIGNvbnRleHQgbmVlZCB0byBiZSByZW1vdmVkIGhlcmUuXG4gICAgICAgIGlmICh0aGlzLmhhc1NhbWVDb250YWluZXJBcyhjaGlsZCkpIHtcbiAgICAgICAgICBjaGlsZC5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGZyYWdtZW50LmFyZWEuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgY2hpbGQubGF5b3V0Q29uc3RyYWludHMuc3BsaWNlKDApO1xuICAgIH0pO1xuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKDApO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuZmxvYXRBbmNob3JzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5mbG9hdEFuY2hvcnNba107XG4gICAgfSk7XG4gIH1cblxuICBkZXRhY2hDaGlsZHJlbigpOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoMCk7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgIGNoaWxkLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgYXR0YWNoQ2hpbGRyZW4oY2hpbGRyZW46IFBhZ2VGbG9hdExheW91dENvbnRleHRbXSkge1xuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgY2hpbGQucmVhdHRhY2hGbG9hdEZyYWdtZW50cygpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNJbnZhbGlkYXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnZhbGlkYXRlZCB8fCAoISF0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc0ludmFsaWRhdGVkKCkpO1xuICB9XG5cbiAgdmFsaWRhdGUoKSB7XG4gICAgdGhpcy5pbnZhbGlkYXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSB0b0xvZ2ljYWwoc2lkZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHRoaXMud3JpdGluZ01vZGUudG9TdHJpbmcoKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbi50b1N0cmluZygpO1xuICAgIHJldHVybiBDc3NMb2dpY2FsVXRpbC50b0xvZ2ljYWwoc2lkZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbik7XG4gIH1cblxuICBwcml2YXRlIHRvUGh5c2ljYWwoc2lkZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHRoaXMud3JpdGluZ01vZGUudG9TdHJpbmcoKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbi50b1N0cmluZygpO1xuICAgIHJldHVybiBDc3NMb2dpY2FsVXRpbC50b1BoeXNpY2FsKHNpZGUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgcmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMoZmxvYXRTaWRlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fCBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIikge1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHNbaV07XG4gICAgICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUyID0gdGhpcy50b0xvZ2ljYWwoZnJhZ21lbnQuZmxvYXRTaWRlKTtcbiAgICAgICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUyID09PSBsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3Rhc2hFbmRGbG9hdEZyYWdtZW50cyhmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5zdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZsb2F0LmZsb2F0U2lkZSk7XG4gICAgaWYgKFxuICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fFxuICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgfHxcbiAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiXG4gICAgKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50c1tpXTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmcmFnbWVudC5mbG9hdFNpZGUpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGZyYWdtZW50RmxvYXRTaWRlID09PSBsb2dpY2FsRmxvYXRTaWRlIHx8XG4gICAgICAgICAgICAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgJiZcbiAgICAgICAgICAgICAgZnJhZ21lbnRGbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIpKSAmJlxuICAgICAgICAgIGZyYWdtZW50LnNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkucmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50cy5mb3JFYWNoKChzdGFzaGVkKSA9PiB7XG4gICAgICB0aGlzLmFkZFBhZ2VGbG9hdEZyYWdtZW50KHN0YXNoZWQsIHRydWUpO1xuICAgIH0pO1xuICAgIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIGRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSkge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMuc3BsaWNlKDApO1xuICB9XG5cbiAgZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnRbXSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHNcbiAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgIC5zb3J0KChmcjEsIGZyMikgPT4gZnIyLmdldE9yZGVyKCkgLSBmcjEuZ2V0T3JkZXIoKSk7IC8vIHJldHVybiBpbiByZXZlcnNlIG9yZGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRMaW1pdFZhbHVlKFxuICAgIHNpZGU6IHN0cmluZyxcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQsIHAyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiBudW1iZXIge1xuICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGFpbmVyKTtcbiAgICBjb25zdCBsb2dpY2FsU2lkZSA9IHRoaXMudG9Mb2dpY2FsKHNpZGUpO1xuICAgIGNvbnN0IHBoeXNpY2FsU2lkZSA9IHRoaXMudG9QaHlzaWNhbChzaWRlKTtcbiAgICBjb25zdCBsaW1pdCA9IHRoaXMuZ2V0TGltaXRWYWx1ZUlubmVyKFxuICAgICAgbG9naWNhbFNpZGUsXG4gICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgY29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNvbnRhaW5lcikge1xuICAgICAgY29uc3QgcGFyZW50TGltaXQgPSB0aGlzLnBhcmVudC5nZXRMaW1pdFZhbHVlKFxuICAgICAgICBwaHlzaWNhbFNpZGUsXG4gICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgY29uZGl0aW9uLFxuICAgICAgKTtcbiAgICAgIHN3aXRjaCAocGh5c2ljYWxTaWRlKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgobGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgobGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1pbihsaW1pdCwgcGFyZW50TGltaXQpO1xuICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4obGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBBc3NlcnRzLmZhaWwoXCJTaG91bGQgYmUgdW5yZWFjaGFibGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW1pdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGltaXRWYWx1ZUlubmVyKFxuICAgIGxvZ2ljYWxTaWRlOiBzdHJpbmcsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50LCBwMjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkgPT4gYm9vbGVhbixcbiAgKTogbnVtYmVyIHtcbiAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmNvbnRhaW5lcik7XG4gICAgY29uc3QgbGltaXRzID0gdGhpcy5nZXRMaW1pdFZhbHVlc0lubmVyKFxuICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICAgIGNvbmRpdGlvbixcbiAgICApO1xuICAgIHN3aXRjaCAobG9naWNhbFNpZGUpIHtcbiAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMucmlnaHQgOiBsaW1pdHMudG9wO1xuICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMubGVmdCA6IGxpbWl0cy5ib3R0b207XG4gICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy50b3AgOiBsaW1pdHMubGVmdDtcbiAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy5ib3R0b20gOiBsaW1pdHMucmlnaHQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbG9naWNhbCBzaWRlOiAke2xvZ2ljYWxTaWRlfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGltaXRWYWx1ZXNJbm5lcihcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQsIHAyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiB7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydDogbnVtYmVyO1xuICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kOiBudW1iZXI7XG4gIH0ge1xuICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGFpbmVyKTtcbiAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5jb250YWluZXIub3JpZ2luWDtcbiAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5jb250YWluZXIub3JpZ2luWTtcbiAgICBjb25zdCBwYWRkaW5nUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgbGV0IGxpbWl0cyA9IHtcbiAgICAgIHRvcDogcGFkZGluZ1JlY3QueTEgLSBvZmZzZXRZLFxuICAgICAgbGVmdDogcGFkZGluZ1JlY3QueDEgLSBvZmZzZXRYLFxuICAgICAgYm90dG9tOiBwYWRkaW5nUmVjdC55MiAtIG9mZnNldFksXG4gICAgICByaWdodDogcGFkZGluZ1JlY3QueDIgLSBvZmZzZXRYLFxuICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydDogMCxcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kOiAwLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShudW1lcmljLCB2aWV3Tm9kZSwgY29udGFpbmVyTGVuZ3RoKSB7XG4gICAgICBpZiAobnVtZXJpYy51bml0ID09PSBcIiVcIikge1xuICAgICAgICByZXR1cm4gKGNvbnRhaW5lckxlbmd0aCAqIG51bWVyaWMubnVtKSAvIDEwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsYXlvdXRDb250ZXh0LmNvbnZlcnRMZW5ndGhUb1B4KG51bWVyaWMsIHZpZXdOb2RlLCBjbGllbnRMYXlvdXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmcmFnbWVudHMgPSB0aGlzLmZsb2F0RnJhZ21lbnRzO1xuICAgIGlmIChmcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgbGltaXRzID0gZnJhZ21lbnRzLnJlZHVjZSgobCwgZikgPT4ge1xuICAgICAgICBpZiAoY29uZGl0aW9uICYmICFjb25kaXRpb24oZiwgdGhpcykpIHtcbiAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZi5mbG9hdFNpZGUpO1xuICAgICAgICBjb25zdCBhcmVhID0gZi5hcmVhO1xuICAgICAgICBjb25zdCBmbG9hdE1pbldyYXBCbG9jayA9IGYuY29udGludWF0aW9uc1swXS5mbG9hdC5mbG9hdE1pbldyYXBCbG9jaztcbiAgICAgICAgbGV0IHRvcCA9IGwudG9wO1xuICAgICAgICBsZXQgbGVmdCA9IGwubGVmdDtcbiAgICAgICAgbGV0IGJvdHRvbSA9IGwuYm90dG9tO1xuICAgICAgICBsZXQgcmlnaHQgPSBsLnJpZ2h0O1xuICAgICAgICBsZXQgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tTdGFydDtcbiAgICAgICAgbGV0IGZsb2F0TWluV3JhcEJsb2NrRW5kID0gbC5mbG9hdE1pbldyYXBCbG9ja0VuZDtcbiAgICAgICAgc3dpdGNoIChsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBhcmVhLnRvcCArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCBhcmVhLmxlZnQgKyBhcmVhLndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEubGVmdCA8IHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKFxuICAgICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICAgICAgICAgICAoYXJlYSBhcyBhbnkpLnJvb3RWaWV3Tm9kZXNbMF0sXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmVjdC54MiAtIHBhZGRpbmdSZWN0LngxLFxuICAgICAgICAgICAgICAgICkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIGFyZWEubGVmdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZmxvYXRNaW5XcmFwQmxvY2sgJiYgYXJlYS50b3AgKyBhcmVhLmhlaWdodCA+IHRvcCkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueTIgLSBwYWRkaW5nUmVjdC55MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIGFyZWEudG9wICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWluKGJvdHRvbSwgYXJlYS50b3ApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgYXJlYS5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJibG9jay1lbmRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIGlmIChmbG9hdE1pbldyYXBCbG9jayAmJiBhcmVhLmxlZnQgKyBhcmVhLndpZHRoID4gbGVmdCkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kID0gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgICAgICAgICAgIChhcmVhIGFzIGFueSkucm9vdFZpZXdOb2Rlc1swXSxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSZWN0LngyIC0gcGFkZGluZ1JlY3QueDEsXG4gICAgICAgICAgICAgICAgKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIGFyZWEubGVmdCArIGFyZWEud2lkdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEudG9wIDwgYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueTIgLSBwYWRkaW5nUmVjdC55MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1pbihib3R0b20sIGFyZWEudG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbG9naWNhbCBmbG9hdCBzaWRlOiAke2xvZ2ljYWxGbG9hdFNpZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdCxcbiAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCxcbiAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZCxcbiAgICAgICAgfTtcbiAgICAgIH0sIGxpbWl0cyk7XG4gICAgfVxuICAgIGxpbWl0cy5sZWZ0ICs9IG9mZnNldFg7XG4gICAgbGltaXRzLnJpZ2h0ICs9IG9mZnNldFg7XG4gICAgbGltaXRzLnRvcCArPSBvZmZzZXRZO1xuICAgIGxpbWl0cy5ib3R0b20gKz0gb2Zmc2V0WTtcbiAgICByZXR1cm4gbGltaXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhbmNob3JFZGdlIE51bGwgaW5kaWNhdGVzIHRoYXQgdGhlIGFuY2hvciBpcyBub3QgaW4gdGhlIGN1cnJlbnRcbiAgICogICAgIGNvbnRhaW5lci5cbiAgICogQHJldHVybiBMb2dpY2FsIGZsb2F0IHNpZGUgKHNuYXAtYmxvY2sgaXMgcmVzb2x2ZWQgd2hlbiBpbml0PWZhbHNlKS4gTnVsbFxuICAgKiAgICAgaW5kaWNhdGVzIHRoYXQgdGhlIGZsb2F0IGFyZWEgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgY29udGFpbmVyXG4gICAqL1xuICBzZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgIGFyZWE6IExheW91dFR5cGUuUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBpbml0OiBib29sZWFuLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICApOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICAgICAgYXJlYSxcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgYW5jaG9yRWRnZSxcbiAgICAgICAgaW5pdCxcbiAgICAgICAgZm9yY2UsXG4gICAgICAgIGNvbmRpdGlvbixcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIpIHtcbiAgICAgIGlmICghY29uZGl0aW9uW1wiYmxvY2stc3RhcnRcIl0gJiYgIWNvbmRpdGlvbltcImJsb2NrLWVuZFwiXSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjb25kaXRpb25bbG9naWNhbEZsb2F0U2lkZV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KGFyZWEuY2xpZW50TGF5b3V0KTtcbiAgICBsZXQgYmxvY2tTdGFydCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stc3RhcnRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGJsb2NrRW5kID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJibG9jay1lbmRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGlubGluZVN0YXJ0ID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJpbmxpbmUtc3RhcnRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGlubGluZUVuZCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiaW5saW5lLWVuZFwiLFxuICAgICAgYXJlYS5sYXlvdXRDb250ZXh0LFxuICAgICAgYXJlYS5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja09mZnNldCA9IGFyZWEudmVydGljYWwgPyBhcmVhLm9yaWdpblggOiBhcmVhLm9yaWdpblk7XG4gICAgY29uc3QgaW5saW5lT2Zmc2V0ID0gYXJlYS52ZXJ0aWNhbCA/IGFyZWEub3JpZ2luWSA6IGFyZWEub3JpZ2luWDtcbiAgICBibG9ja1N0YXJ0ID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgPyBNYXRoLm1pbihcbiAgICAgICAgICBibG9ja1N0YXJ0LFxuICAgICAgICAgIGFyZWEubGVmdCArXG4gICAgICAgICAgICBhcmVhLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgICAgIGFyZWEud2lkdGggK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldFJpZ2h0KCkgK1xuICAgICAgICAgICAgYmxvY2tPZmZzZXQsXG4gICAgICAgIClcbiAgICAgIDogTWF0aC5tYXgoYmxvY2tTdGFydCwgYXJlYS50b3AgKyBibG9ja09mZnNldCk7XG4gICAgYmxvY2tFbmQgPSBhcmVhLnZlcnRpY2FsXG4gICAgICA/IE1hdGgubWF4KGJsb2NrRW5kLCBhcmVhLmxlZnQgKyBibG9ja09mZnNldClcbiAgICAgIDogTWF0aC5taW4oXG4gICAgICAgICAgYmxvY2tFbmQsXG4gICAgICAgICAgYXJlYS50b3AgK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgICAgIGFyZWEuaGVpZ2h0ICtcbiAgICAgICAgICAgIGFyZWEuZ2V0SW5zZXRCb3R0b20oKSArXG4gICAgICAgICAgICBibG9ja09mZnNldCxcbiAgICAgICAgKTtcblxuICAgIGZ1bmN0aW9uIGxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0KGdldFJlY3QsIHJlY3QpIHtcbiAgICAgIGxldCBvcGVuUmVjdCA9IGdldFJlY3QoYXJlYS5iYW5kcywgcmVjdCk7XG4gICAgICBpZiAob3BlblJlY3QpIHtcbiAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICBvcGVuUmVjdCA9IEdlb21ldHJ5VXRpbC51bnJvdGF0ZUJveChvcGVuUmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgYmxvY2tTdGFydCA9IGFyZWEudmVydGljYWxcbiAgICAgICAgICA/IE1hdGgubWluKGJsb2NrU3RhcnQsIG9wZW5SZWN0LngyKVxuICAgICAgICAgIDogTWF0aC5tYXgoYmxvY2tTdGFydCwgb3BlblJlY3QueTEpO1xuICAgICAgICBibG9ja0VuZCA9IGFyZWEudmVydGljYWxcbiAgICAgICAgICA/IE1hdGgubWF4KGJsb2NrRW5kLCBvcGVuUmVjdC54MSlcbiAgICAgICAgICA6IE1hdGgubWluKGJsb2NrRW5kLCBvcGVuUmVjdC55Mik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcmNlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgYmxvY2tTaXplOiBudW1iZXI7XG4gICAgbGV0IGlubGluZVNpemU6IG51bWJlcjtcbiAgICBsZXQgb3V0ZXJCbG9ja1NpemU6IG51bWJlcjtcbiAgICBsZXQgb3V0ZXJJbmxpbmVTaXplOiBudW1iZXI7XG4gICAgaWYgKGluaXQpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBhcmVhLnZlcnRpY2FsXG4gICAgICAgID8gR2VvbWV0cnlVdGlsLnJvdGF0ZUJveChcbiAgICAgICAgICAgIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChibG9ja0VuZCwgaW5saW5lU3RhcnQsIGJsb2NrU3RhcnQsIGlubGluZUVuZCksXG4gICAgICAgICAgKVxuICAgICAgICA6IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChpbmxpbmVTdGFydCwgYmxvY2tTdGFydCwgaW5saW5lRW5kLCBibG9ja0VuZCk7XG4gICAgICBpZiAoXG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiYmxvY2stc3RhcnRcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1zdGFydFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdChcbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbC5maW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdChcbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbC5maW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QsXG4gICAgICAgICAgICByZWN0LFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dGVyQmxvY2tTaXplID0gKGJsb2NrRW5kIC0gYmxvY2tTdGFydCkgKiBhcmVhLmdldEJveERpcigpO1xuICAgICAgYmxvY2tTaXplID0gb3V0ZXJCbG9ja1NpemUgLSBhcmVhLmdldEluc2V0QmVmb3JlKCkgLSBhcmVhLmdldEluc2V0QWZ0ZXIoKTtcbiAgICAgIG91dGVySW5saW5lU2l6ZSA9IGlubGluZUVuZCAtIGlubGluZVN0YXJ0O1xuICAgICAgaW5saW5lU2l6ZSA9IG91dGVySW5saW5lU2l6ZSAtIGFyZWEuZ2V0SW5zZXRTdGFydCgpIC0gYXJlYS5nZXRJbnNldEVuZCgpO1xuICAgICAgaWYgKCFmb3JjZSAmJiAoYmxvY2tTaXplIDw9IDAgfHwgaW5saW5lU2l6ZSA8PSAwKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYmxvY2tTaXplID0gYXJlYS5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICAgIG91dGVyQmxvY2tTaXplID0gYmxvY2tTaXplICsgYXJlYS5nZXRJbnNldEJlZm9yZSgpICsgYXJlYS5nZXRJbnNldEFmdGVyKCk7XG4gICAgICBjb25zdCBhdmFpbGFibGVCbG9ja1NpemUgPSAoYmxvY2tFbmQgLSBibG9ja1N0YXJ0KSAqIGFyZWEuZ2V0Qm94RGlyKCk7XG4gICAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIpIHtcbiAgICAgICAgaWYgKGFuY2hvckVkZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBEZWZlcnJlZCBmcm9tIHByZXZpb3VzIGNvbnRhaW5lclxuICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPSBcImJsb2NrLXN0YXJ0XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgICAgICAgY29uc3QgZnJvbVN0YXJ0ID1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmdldEJveERpcigpICpcbiAgICAgICAgICAgIChhbmNob3JFZGdlIC1cbiAgICAgICAgICAgICAgKHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gY29udGFpbmVyUmVjdC54MiA6IGNvbnRhaW5lclJlY3QueTEpKTtcbiAgICAgICAgICBjb25zdCBmcm9tRW5kID1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmdldEJveERpcigpICpcbiAgICAgICAgICAgICgodGhpcy5jb250YWluZXIudmVydGljYWwgPyBjb250YWluZXJSZWN0LngxIDogY29udGFpbmVyUmVjdC55MikgLVxuICAgICAgICAgICAgICBhbmNob3JFZGdlIC1cbiAgICAgICAgICAgICAgb3V0ZXJCbG9ja1NpemUpO1xuICAgICAgICAgIGlmIChmcm9tU3RhcnQgPD0gZnJvbUVuZCkge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stc3RhcnRcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stZW5kXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZGl0aW9uW2xvZ2ljYWxGbG9hdFNpZGVdKSB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbltcImJsb2NrLWVuZFwiXSkge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stZW5kXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3JjZSAmJiBhdmFpbGFibGVCbG9ja1NpemUgPCBvdXRlckJsb2NrU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtc3RhcnRcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIlxuICAgICAgKSB7XG4gICAgICAgIGlubGluZVNpemUgPSBTaXppbmcuZ2V0U2l6ZShhcmVhLmNsaWVudExheW91dCwgYXJlYS5lbGVtZW50LCBbXG4gICAgICAgICAgU2l6aW5nLlNpemUuRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUsXG4gICAgICAgIF0pW1NpemluZy5TaXplLkZJVF9DT05URU5UX0lOTElORV9TSVpFXTtcbiAgICAgIH0gZWxzZSBpZiAoYXJlYS5hZGp1c3RDb250ZW50UmVsYXRpdmVTaXplKSB7XG4gICAgICAgIGlubGluZVNpemUgPSBhcmVhLmdldENvbnRlbnRJbmxpbmVTaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmxpbmVTaXplID0gYXJlYS52ZXJ0aWNhbCA/IGFyZWEuaGVpZ2h0IDogYXJlYS53aWR0aDtcbiAgICAgIH1cbiAgICAgIG91dGVySW5saW5lU2l6ZSA9IGlubGluZVNpemUgKyBhcmVhLmdldEluc2V0U3RhcnQoKSArIGFyZWEuZ2V0SW5zZXRFbmQoKTtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZUlubGluZVNpemUgPSBpbmxpbmVFbmQgLSBpbmxpbmVTdGFydDtcbiAgICAgIGlmICghZm9yY2UgJiYgYXZhaWxhYmxlSW5saW5lU2l6ZSA8IG91dGVySW5saW5lU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgYmxvY2tTdGFydCAtPSBibG9ja09mZnNldDtcbiAgICBibG9ja0VuZCAtPSBibG9ja09mZnNldDtcbiAgICBpbmxpbmVTdGFydCAtPSBpbmxpbmVPZmZzZXQ7XG4gICAgaW5saW5lRW5kIC09IGlubGluZU9mZnNldDtcbiAgICBzd2l0Y2ggKGxvZ2ljYWxGbG9hdFNpZGUpIHtcbiAgICAgIGNhc2UgXCJpbmxpbmUtc3RhcnRcIjpcbiAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgY2FzZSBcInNuYXAtYmxvY2tcIjpcbiAgICAgICAgYXJlYS5zZXRJbmxpbmVQb3NpdGlvbihpbmxpbmVTdGFydCwgaW5saW5lU2l6ZSk7XG4gICAgICAgIGFyZWEuc2V0QmxvY2tQb3NpdGlvbihibG9ja1N0YXJ0LCBibG9ja1NpemUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICBjYXNlIFwiYmxvY2stZW5kXCI6XG4gICAgICAgIGFyZWEuc2V0SW5saW5lUG9zaXRpb24oaW5saW5lRW5kIC0gb3V0ZXJJbmxpbmVTaXplLCBpbmxpbmVTaXplKTtcbiAgICAgICAgYXJlYS5zZXRCbG9ja1Bvc2l0aW9uKFxuICAgICAgICAgIGJsb2NrRW5kIC0gb3V0ZXJCbG9ja1NpemUgKiBhcmVhLmdldEJveERpcigpLFxuICAgICAgICAgIGJsb2NrU2l6ZSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gZmxvYXQgZGlyZWN0aW9uOiAke2Zsb2F0U2lkZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ2ljYWxGbG9hdFNpZGU7XG4gIH1cblxuICBnZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5tYXAoKGZyYWdtZW50KSA9PlxuICAgICAgZnJhZ21lbnQuZ2V0T3V0ZXJTaGFwZSgpLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKS5jb25jYXQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlYXR0YWNoRmxvYXRGcmFnbWVudHMoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5jb250YWluZXIuZWxlbWVudCAmJiB0aGlzLmNvbnRhaW5lci5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQuYXJlYS5lbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldE1heFJlYWNoZWRBZnRlckVkZ2UoKTogbnVtYmVyIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5nZXRDb250YWluZXIoKS52ZXJ0aWNhbDtcbiAgICByZXR1cm4gdGhpcy5mbG9hdEZyYWdtZW50cy5yZWR1Y2UoXG4gICAgICAoZWRnZSwgZnJhZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGZyYWdtZW50LmdldE91dGVyUmVjdCgpO1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1pbihlZGdlLCByZWN0LngxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZWRnZSwgcmVjdC55Mik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc1ZlcnRpY2FsID8gSW5maW5pdHkgOiAwLFxuICAgICk7XG4gIH1cblxuICBnZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMoKTogbnVtYmVyIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5nZXRDb250YWluZXIoKS52ZXJ0aWNhbDtcbiAgICByZXR1cm4gdGhpcy5mbG9hdEZyYWdtZW50c1xuICAgICAgLmZpbHRlcigoZnJhZ21lbnQpID0+IGZyYWdtZW50LmZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIilcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChlZGdlLCBmcmFnbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSBmcmFnbWVudC5nZXRPdXRlclJlY3QoKTtcbiAgICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGVkZ2UsIHJlY3QueDIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZWRnZSwgcmVjdC55MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1ZlcnRpY2FsID8gMCA6IEluZmluaXR5LFxuICAgICAgKTtcbiAgfVxuXG4gIGdldFBhZ2VGbG9hdENsZWFyRWRnZShjbGVhcjogc3RyaW5nLCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogbnVtYmVyIHtcbiAgICBmdW5jdGlvbiBpc0NvbnRpbnVhdGlvbk9mQWxyZWFkeUFwcGVhcmVkRmxvYXQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIChjb250aW51YXRpb24pID0+XG4gICAgICAgIGNvbnRleHQuaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoY29udGludWF0aW9uLmZsb2F0LmdldElkKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQoZnJhZ21lbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmcmFnbWVudC5jb250aW51YXRpb25zLnNvbWUoXG4gICAgICAgIGlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdChjb250ZXh0KSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGNvbHVtblJlY3QgPSBjb2x1bW4uZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBjb25zdCBjb2x1bW5CbG9ja0VuZCA9IGNvbHVtbi52ZXJ0aWNhbCA/IGNvbHVtblJlY3QueDEgOiBjb2x1bW5SZWN0LnkyO1xuICAgIGxldCBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcztcbiAgICB3aGlsZSAoY29udGV4dCkge1xuICAgICAgaWYgKFxuICAgICAgICBjb250ZXh0LmZsb2F0c0RlZmVycmVkVG9OZXh0LnNvbWUoXG4gICAgICAgICAgaXNDb250aW51YXRpb25PZkFscmVhZHlBcHBlYXJlZEZsb2F0KGNvbnRleHQpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbkJsb2NrRW5kO1xuICAgICAgfVxuICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChjb2x1bW4uY2xpZW50TGF5b3V0KTtcbiAgICBjb25zdCBibG9ja1N0YXJ0TGltaXQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImJsb2NrLXN0YXJ0XCIsXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgICBpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0LFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tFbmRMaW1pdCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stZW5kXCIsXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgICBpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0LFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgYmxvY2tFbmRMaW1pdCAqIGNvbHVtbi5nZXRCb3hEaXIoKSA8XG4gICAgICBjb2x1bW5CbG9ja0VuZCAqIGNvbHVtbi5nZXRCb3hEaXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNvbHVtbkJsb2NrRW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmxvY2tTdGFydExpbWl0O1xuICAgIH1cbiAgfVxuXG4gIGdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uIHtcbiAgICBpZiAoZmxvYXQuZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKGZsb2F0LCBmbG9hdFNpZGUsIGNsZWFyU2lkZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdDogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uID0ge1xuICAgICAgXCJibG9jay1zdGFydFwiOiB0cnVlLFxuICAgICAgXCJibG9jay1lbmRcIjogdHJ1ZSxcbiAgICAgIFwiaW5saW5lLXN0YXJ0XCI6IHRydWUsXG4gICAgICBcImlubGluZS1lbmRcIjogdHJ1ZSxcbiAgICB9O1xuICAgIGlmICghY2xlYXJTaWRlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBjb25zdCBsb2dpY2FsQ2xlYXJTaWRlID0gdGhpcy50b0xvZ2ljYWwoY2xlYXJTaWRlKTtcbiAgICBsZXQgbG9naWNhbFNpZGVzOiBzdHJpbmdbXTtcbiAgICBpZiAobG9naWNhbENsZWFyU2lkZSA9PT0gXCJhbGxcIikge1xuICAgICAgbG9naWNhbFNpZGVzID0gW1wiYmxvY2stc3RhcnRcIiwgXCJibG9jay1lbmRcIiwgXCJpbmxpbmUtc3RhcnRcIiwgXCJpbmxpbmUtZW5kXCJdO1xuICAgIH0gZWxzZSBpZiAobG9naWNhbENsZWFyU2lkZSA9PT0gXCJib3RoXCIpIHtcbiAgICAgIGxvZ2ljYWxTaWRlcyA9IFtcImlubGluZS1zdGFydFwiLCBcImlubGluZS1lbmRcIl07XG4gICAgfSBlbHNlIGlmIChsb2dpY2FsQ2xlYXJTaWRlID09PSBcInNhbWVcIikge1xuICAgICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiKSB7XG4gICAgICAgIGxvZ2ljYWxTaWRlcyA9IFtcImJsb2NrLXN0YXJ0XCIsIFwiYmxvY2stZW5kXCJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9naWNhbFNpZGVzID0gW2xvZ2ljYWxGbG9hdFNpZGVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dpY2FsU2lkZXMgPSBbbG9naWNhbENsZWFyU2lkZV07XG4gICAgfVxuICAgIGNvbnN0IGZsb2F0T3JkZXIgPSBmbG9hdC5nZXRPcmRlcigpO1xuXG4gICAgZnVuY3Rpb24gaXNQcmVjZWRpbmdGcmFnbWVudChcbiAgICAgIHNpZGU6IHN0cmluZyxcbiAgICApOiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50KSA9PiBib29sZWFuIHtcbiAgICAgIHJldHVybiAoZnJhZ21lbnQpID0+XG4gICAgICAgIGZyYWdtZW50LmZsb2F0U2lkZSA9PT0gc2lkZSAmJiBmcmFnbWVudC5nZXRPcmRlcigpIDwgZmxvYXRPcmRlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4oXG4gICAgICBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgc2lkZTogc3RyaW5nLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY2hpbGRyZW4uc29tZShcbiAgICAgICAgKGNoaWxkKSA9PlxuICAgICAgICAgIGNoaWxkLmZsb2F0RnJhZ21lbnRzLnNvbWUoaXNQcmVjZWRpbmdGcmFnbWVudChzaWRlKSkgfHxcbiAgICAgICAgICBoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4oY2hpbGQsIHNpZGUpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyhcbiAgICAgIGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICEhcGFyZW50ICYmXG4gICAgICAgIChwYXJlbnQuZmxvYXRGcmFnbWVudHMuc29tZShpc1ByZWNlZGluZ0ZyYWdtZW50KHNpZGUpKSB8fFxuICAgICAgICAgIGhhc1ByZWNlZGluZ0ZyYWdtZW50SW5QYXJlbnRzKHBhcmVudCwgc2lkZSkpXG4gICAgICApO1xuICAgIH1cbiAgICBsb2dpY2FsU2lkZXMuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICAgICAgcmVzdWx0W3NpZGVdID0gIWhhc1ByZWNlZGluZ0ZyYWdtZW50SW5DaGlsZHJlbih0aGlzLCBzaWRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICBjYXNlIFwiaW5saW5lLWVuZFwiOlxuICAgICAgICAgIHJlc3VsdFtzaWRlXSA9ICFoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyh0aGlzLCBzaWRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgc2lkZTogJHtzaWRlfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBnZXRMYXlvdXRDb25zdHJhaW50cygpOiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnRbXSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmdldExheW91dENvbnN0cmFpbnRzKCkgOiBbXTtcbiAgICByZXR1cm4gY29uc3RyYWludHMuY29uY2F0KHRoaXMubGF5b3V0Q29uc3RyYWludHMpO1xuICB9XG5cbiAgYWRkTGF5b3V0Q29uc3RyYWludChcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnQsXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICApIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMubGF5b3V0Q29uc3RyYWludHMucHVzaChsYXlvdXRDb25zdHJhaW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmFkZExheW91dENvbnN0cmFpbnQoXG4gICAgICAgIGxheW91dENvbnN0cmFpbnQsXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBpc0NvbHVtbkZ1bGxXaXRoUGFnZUZsb2F0cyhjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGF5b3V0Q29udGV4dCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGNsaWVudExheW91dCA9IGNvbHVtbi5jbGllbnRMYXlvdXQ7XG4gICAgQXNzZXJ0cy5hc3NlcnQoY2xpZW50TGF5b3V0KTtcbiAgICBsZXQgY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXM7XG4gICAgbGV0IGxpbWl0czoge1xuICAgICAgdG9wOiBudW1iZXI7XG4gICAgICBsZWZ0OiBudW1iZXI7XG4gICAgICBib3R0b206IG51bWJlcjtcbiAgICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0OiBudW1iZXI7XG4gICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZDogbnVtYmVyO1xuICAgIH0gPSBudWxsO1xuICAgIHdoaWxlIChjb250ZXh0ICYmIGNvbnRleHQuY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBsID0gY29udGV4dC5nZXRMaW1pdFZhbHVlc0lubmVyKGxheW91dENvbnRleHQsIGNsaWVudExheW91dCk7XG4gICAgICBpZiAobGltaXRzKSB7XG4gICAgICAgIGlmIChjb2x1bW4udmVydGljYWwpIHtcbiAgICAgICAgICBpZiAobC5yaWdodCA8IGxpbWl0cy5yaWdodCkge1xuICAgICAgICAgICAgbGltaXRzLnJpZ2h0ID0gbC5yaWdodDtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gbC5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobC5sZWZ0ID4gbGltaXRzLmxlZnQpIHtcbiAgICAgICAgICAgIGxpbWl0cy5sZWZ0ID0gbC5sZWZ0O1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrRW5kID0gbC5mbG9hdE1pbldyYXBCbG9ja0VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGwudG9wID4gbGltaXRzLnRvcCkge1xuICAgICAgICAgICAgbGltaXRzLnRvcCA9IGwudG9wO1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSBsLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsLmJvdHRvbSA8IGxpbWl0cy5ib3R0b20pIHtcbiAgICAgICAgICAgIGxpbWl0cy5ib3R0b20gPSBsLmJvdHRvbTtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja0VuZCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tFbmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW1pdHMgPSBsO1xuICAgICAgfVxuICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgICBjb25zdCBmbG9hdE1pbldyYXBCbG9jayA9IE1hdGgubWF4KFxuICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQsXG4gICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tFbmQsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja1NwYWNlID0gY29sdW1uLnZlcnRpY2FsXG4gICAgICA/IGxpbWl0cy5yaWdodCAtIGxpbWl0cy5sZWZ0XG4gICAgICA6IGxpbWl0cy5ib3R0b20gLSBsaW1pdHMudG9wO1xuICAgIHJldHVybiBibG9ja1NwYWNlIDw9IGZsb2F0TWluV3JhcEJsb2NrO1xuICB9XG5cbiAgZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCk6IG51bWJlciB7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuZ2V0Q29udGFpbmVyKCkudmVydGljYWw7XG4gICAgaWYgKCF0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLm1hcCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3QgYXJlYSA9IGZyYWdtZW50LmFyZWE7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZWEud2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGFyZWEuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgbG9jaygpIHtcbiAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gIH1cblxuICB1bmxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlzTG9ja2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxvY2tlZDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5XG4gIGV4dGVuZHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7fVxuXG5jb25zdCBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzOiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVtdID0gW107XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIHtcbiAgc3RhdGljIHJlZ2lzdGVyKHN0cmF0ZWd5OiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSkge1xuICAgIHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMucHVzaChzdHJhdGVneSk7XG4gIH1cblxuICBmaW5kQnlOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgZm9yIChsZXQgaSA9IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llc1tpXTtcbiAgICAgIGlmIChzdHJhdGVneS5hcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5O1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IGZvdW5kIGZvciAke25vZGVDb250ZXh0fWApO1xuICB9XG5cbiAgZmluZEJ5RmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgICBmb3IgKGxldCBpID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzW2ldO1xuICAgICAgaWYgKHN0cmF0ZWd5LmFwcGxpZXNUb0Zsb2F0KGZsb2F0KSkge1xuICAgICAgICByZXR1cm4gc3RyYXRlZ3k7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kgZm91bmQgZm9yICR7ZmxvYXR9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vcm1hbFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IGltcGxlbWVudHMgUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaXNQYWdlRmxvYXQobm9kZUNvbnRleHQuZmxvYXRSZWZlcmVuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbGllc1RvRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdD4ge1xuICAgIGxldCBmbG9hdFJlZmVyZW5jZSA9IG5vZGVDb250ZXh0LmZsb2F0UmVmZXJlbmNlO1xuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LmZsb2F0U2lkZSk7XG4gICAgY29uc3QgZmxvYXRTaWRlOiBzdHJpbmcgPSBub2RlQ29udGV4dC5mbG9hdFNpZGU7XG4gICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICByZXR1cm4gY29sdW1uXG4gICAgICAucmVzb2x2ZUZsb2F0UmVmZXJlbmNlRnJvbUNvbHVtblNwYW4oXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICBub2RlQ29udGV4dC5jb2x1bW5TcGFuLFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgIClcbiAgICAgIC50aGVuQXN5bmMoKHJlZikgPT4ge1xuICAgICAgICBmbG9hdFJlZmVyZW5jZSA9IHJlZjtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSk7XG4gICAgICAgIGNvbnN0IGZsb2F0ID0gbmV3IFBhZ2VGbG9hdChcbiAgICAgICAgICBub2RlUG9zaXRpb24sXG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICAgIG5vZGVDb250ZXh0LmNsZWFyU2lkZSxcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lLFxuICAgICAgICAgIG5vZGVDb250ZXh0LmZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICApO1xuICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmFkZFBhZ2VGbG9hdChmbG9hdCk7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmbG9hdCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGZsb2F0QXJlYTogTGF5b3V0VHlwZS5QYWdlRmxvYXRBcmVhLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIGNvbnN0IGYgPSBjb250aW51YXRpb25zWzBdLmZsb2F0O1xuICAgIHJldHVybiBuZXcgUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgY29udGludWF0aW9ucyxcbiAgICAgIGZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnQgfCBudWxsIHtcbiAgICByZXR1cm4gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdEFyZWE6IExheW91dFR5cGUuUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmb3JiaWQoZmxvYXQ6IFBhZ2VGbG9hdCwgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkge31cbn1cblxuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlci5yZWdpc3RlcihuZXcgTm9ybWFsUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3koKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBGb290bm90ZXNcbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBQYWdlRmxvYXRzIGZyb20gXCIuL3BhZ2UtZmxvYXRzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBQYWdlRmxvYXRGcmFnbWVudCA9IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQ7XG5cbmV4cG9ydCBjbGFzcyBGb290bm90ZSBleHRlbmRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGwsXG4gICAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBub2RlUG9zaXRpb24sXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgIFwiYmxvY2stZW5kXCIsXG4gICAgICBudWxsLFxuICAgICAgZmxvd05hbWUsXG4gICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNBbGxvd2VkVG9QcmVjZWRlKG90aGVyOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhKG90aGVyIGluc3RhbmNlb2YgRm9vdG5vdGUpO1xuICB9XG59XG5cbi8qKlxuICogQGV4dGVuZHMgUGFnZUZsb2F0RnJhZ21lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIEZvb3Rub3RlRnJhZ21lbnQgZXh0ZW5kcyBQYWdlRmxvYXRGcmFnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgYXJlYTogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoZmxvYXRSZWZlcmVuY2UsIFwiYmxvY2stZW5kXCIsIGNvbnRpbnVhdGlvbnMsIGFyZWEsIGNvbnRpbnVlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcmRlcigpOiBudW1iZXIge1xuICAgIHJldHVybiBJbmZpbml0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICBpZiAoZmxvYXQgaW5zdGFuY2VvZiBGb290bm90ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE9yZGVyKCkgPCBmbG9hdC5nZXRPcmRlcigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZvb3Rub3RlOiBGb290bm90ZSkge31cblxuICBhbGxvd0xheW91dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCBub2RlUG9zaXRpb24gPSBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgIHJldHVybiAhVnRyZWUuaXNTYW1lTm9kZVBvc2l0aW9uKG5vZGVQb3NpdGlvbiwgdGhpcy5mb290bm90ZS5ub2RlUG9zaXRpb24pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGb290bm90ZUxheW91dFN0cmF0ZWd5XG4gIGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb05vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlQ29udGV4dC5mbG9hdFNpZGUgPT09IFwiZm9vdG5vdGVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb0Zsb2F0KGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmbG9hdCBpbnN0YW5jZW9mIEZvb3Rub3RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLlBhZ2VGbG9hdD4ge1xuICAgIGxldCBmbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OO1xuXG4gICAgLy8gSWYgdGhlIHJlZ2lvbiBjb250ZXh0IGhhcyB0aGUgc2FtZSBjb250YWluZXIgYXMgdGhlIHBhZ2UgY29udGV4dCxcbiAgICAvLyB1c2UgdGhlIHBhZ2UgY29udGV4dCBhcyB0aGUgY29udGV4dCBmb3IgdGhlIGZvb3Rub3RlLlxuICAgIGNvbnN0IHJlZ2lvbkNvbnRleHQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VDb250ZXh0ID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5QQUdFLFxuICAgICk7XG4gICAgaWYgKHBhZ2VDb250ZXh0Lmhhc1NhbWVDb250YWluZXJBcyhyZWdpb25Db250ZXh0KSkge1xuICAgICAgZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlBBR0U7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgQXNzZXJ0cy5hc3NlcnQocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSk7XG4gICAgY29uc3QgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0ID0gbmV3IEZvb3Rub3RlKFxuICAgICAgbm9kZVBvc2l0aW9uLFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lLFxuICAgICAgbm9kZUNvbnRleHQuZm9vdG5vdGVQb2xpY3ksXG4gICAgICBub2RlQ29udGV4dC5mbG9hdE1pbldyYXBCbG9jayxcbiAgICApO1xuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuYWRkUGFnZUZsb2F0KGZsb2F0KTtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmxvYXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBmbG9hdEFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKTogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB7XG4gICAgY29uc3QgZiA9IGNvbnRpbnVhdGlvbnNbMF0uZmxvYXQ7XG4gICAgcmV0dXJuIG5ldyBGb290bm90ZUZyYWdtZW50KFxuICAgICAgZi5mbG9hdFJlZmVyZW5jZSxcbiAgICAgIGNvbnRpbnVhdGlvbnMsXG4gICAgICBmbG9hdEFyZWEsXG4gICAgICBjb250aW51ZXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG4gICAgY29uc3QgZnJhZ21lbnRzID0gY29udGV4dC5mbG9hdEZyYWdtZW50cy5maWx0ZXIoXG4gICAgICAoZnIpID0+IGZyIGluc3RhbmNlb2YgRm9vdG5vdGVGcmFnbWVudCxcbiAgICApO1xuICAgIEFzc2VydHMuYXNzZXJ0KGZyYWdtZW50cy5sZW5ndGggPD0gMSk7XG4gICAgcmV0dXJuIGZyYWdtZW50c1swXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdEFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBmbG9hdEFyZWEuaXNGb290bm90ZSA9IHRydWU7XG4gICAgZmxvYXRBcmVhLmFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUgPSBmYWxzZTtcbiAgICBjb25zdCBlbGVtZW50ID0gZmxvYXRBcmVhLmVsZW1lbnQ7XG4gICAgQXNzZXJ0cy5hc3NlcnQoZWxlbWVudCk7XG4gICAgZmxvYXRBcmVhLnZlcnRpY2FsID0gY29sdW1uLmxheW91dENvbnRleHQuYXBwbHlGb290bm90ZVN0eWxlKFxuICAgICAgZmxvYXRDb250YWluZXIudmVydGljYWwsXG4gICAgICAoY29sdW1uLmxheW91dENvbnRleHQgYXMgYW55KS5ub2RlQ29udGV4dCAmJlxuICAgICAgICAoY29sdW1uLmxheW91dENvbnRleHQgYXMgYW55KS5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICBlbGVtZW50LFxuICAgICk7XG4gICAgZmxvYXRBcmVhLmNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4KGVsZW1lbnQpO1xuICAgIGNvbHVtbi5zZXRDb21wdXRlZEluc2V0cyhlbGVtZW50LCBmbG9hdEFyZWEpO1xuICAgIGNvbHVtbi5zZXRDb21wdXRlZFdpZHRoQW5kSGVpZ2h0KGVsZW1lbnQsIGZsb2F0QXJlYSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmb3JiaWQoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKSB7XG4gICAgY29uc3QgZm9vdG5vdGUgPSBmbG9hdCBhcyBGb290bm90ZTtcbiAgICBzd2l0Y2ggKGZvb3Rub3RlLmZvb3Rub3RlUG9saWN5KSB7XG4gICAgICBjYXNlIENzcy5pZGVudC5saW5lOiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludChmb290bm90ZSk7XG4gICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuYWRkTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBjb25zdHJhaW50LFxuICAgICAgICAgIGZvb3Rub3RlLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyLnJlZ2lzdGVyKFxuICBuZXcgRm9vdG5vdGVMYXlvdXRTdHJhdGVneSgpLFxuKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJyZWFrIC0gQ29udHJvbCBmcmFnbWVudGF0aW9uLlxuICovXG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5cbi8qKlxuICogQ29udmVydCBvbGQgcGFnZS1icmVhay0qIHByb3BlcnRpZXMgdG8gYnJlYWstKiBwcm9wZXJ0aWVzIHdpdGggYXBwcm9wcmlhdGVcbiAqIHZhbHVlcyBhcyBzcGVjaWZpZWQgYnkgQ1NTIEZyYWdtZW50YXRpb24gbW9kdWxlOlxuICogaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1icmVhay8jcGFnZS1icmVhay1wcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UGFnZUJyZWFrQWxpYXNlcyhvcmlnaW5hbDoge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZhbHVlOiBDc3MuVmFsO1xuICBpbXBvcnRhbnQ6IGJvb2xlYW47XG59KTogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBDc3MuVmFsOyBpbXBvcnRhbnQ6IGJvb2xlYW4gfSB7XG4gIGNvbnN0IG5hbWUgPSBvcmlnaW5hbFtcIm5hbWVcIl07XG4gIGNvbnN0IHZhbHVlID0gb3JpZ2luYWxbXCJ2YWx1ZVwiXTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBcInBhZ2UtYnJlYWstYmVmb3JlXCI6XG4gICAgY2FzZSBcInBhZ2UtYnJlYWstYWZ0ZXJcIjpcbiAgICBjYXNlIFwicGFnZS1icmVhay1pbnNpZGVcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUucmVwbGFjZSgvXnBhZ2UtLywgXCJcIiksXG4gICAgICAgIHZhbHVlOiB2YWx1ZSA9PT0gQ3NzLmlkZW50LmFsd2F5cyA/IENzcy5pZGVudC5wYWdlIDogdmFsdWUsXG4gICAgICAgIGltcG9ydGFudDogb3JpZ2luYWxbXCJpbXBvcnRhbnRcIl0sXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gb3JpZ2luYWw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZvcmNlZEJyZWFrVmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBudWxsIH0gPSB7XG4gIHBhZ2U6IHRydWUsXG4gIGxlZnQ6IHRydWUsXG4gIHJpZ2h0OiB0cnVlLFxuICByZWN0bzogdHJ1ZSxcbiAgdmVyc286IHRydWUsXG4gIGNvbHVtbjogdHJ1ZSxcbiAgcmVnaW9uOiB0cnVlLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBvbmUgb2YgdGhlIGZvcmNlZCBicmVhayB2YWx1ZXMuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJyZWFrIHZhbHVlIHRvIGJlIGp1ZGdlZC4gVHJlYXRzIG51bGwgYXMgJ2F1dG8nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JjZWRCcmVha1ZhbHVlKHZhbHVlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWZvcmNlZEJyZWFrVmFsdWVzW3ZhbHVlXTtcbn1cblxuZXhwb3J0IGNvbnN0IGF2b2lkQnJlYWtWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB8IG51bGwgfSA9IHtcbiAgYXZvaWQ6IHRydWUsXG4gIFwiYXZvaWQtcGFnZVwiOiB0cnVlLFxuICBcImF2b2lkLWNvbHVtblwiOiB0cnVlLFxuICBcImF2b2lkLXJlZ2lvblwiOiB0cnVlLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBvbmUgb2YgdGhlIGF2b2lkIGJyZWFrIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgYnJlYWsgdmFsdWUgdG8gYmUganVkZ2VkLiBUcmVhdHMgbnVsbCBhcyAnYXV0bycuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F2b2lkQnJlYWtWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFhdm9pZEJyZWFrVmFsdWVzW3ZhbHVlXTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgZWZmZWN0aXZlIGJyZWFrIHZhbHVlIGdpdmVuIHR3byBicmVhayB2YWx1ZXMgYXQgYSBzaW5nbGUgYnJlYWtcbiAqIHBvaW50LiBUaGUgb3JkZXIgb2YgdGhlIGFyZ3VtZW50cyBhcmUgcmVsZXZhbnQsIHNpbmNlIGEgdmFsdWUgc3BlY2lmaWVkIG9uXG4gKiB0aGUgbGF0dGVyIGVsZW1lbnQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIG9uZSBvbiB0aGUgZm9ybWVyLiBBIGZvcmNlZCBicmVha1xuICogdmFsdWUgaXMgY2hvc2VuIGlmIHByZXNlbnQuIE90aGVyd2lzZSwgYW4gYXZvaWQgYnJlYWsgdmFsdWUgaXMgY2hvc2VuIGlmXG4gKiBwcmVzZW50LiBTZWUgQ1NTIEZyYWdtZW50YXRpb24gTW9kdWxlIGZvciB0aGUgcnVsZTpcbiAqICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWJyZWFrLyNmb3JjZWQtYnJlYWtzXG4gKiAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1icmVhay8jdW5mb3JjZWQtYnJlYWtzXG4gKiBOb3RlIHRoYXQgdGhvdWdoIHRoZSBzcGVjIHJlcXVpcmVzIHRvIGhvbm9yIG11bHRpcGxlIGJyZWFrIHZhbHVlcyBhdCBhIHNpbmdsZVxuICogYnJlYWsgcG9pbnQsIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIGNob29zZSBvbmUgb2YgdGhlbSBhbmQgZGlzY2FyZCB0aGVcbiAqIG90aGVycy5cbiAqIEBwYXJhbSBmaXJzdCBUaGUgYnJlYWsgdmFsdWUgc3BlY2lmaWVkIG9uIHRoZSBmb3JtZXIgZWxlbWVudC4gbnVsbCBtZWFuc1xuICogICAgICdhdXRvJyAobm90IHNwZWNpZmllZClcbiAqIEBwYXJhbSBzZWNvbmQgVGhlIGJyZWFrIHZhbHVlIHNwZWNpZmllZCBvbiB0aGUgbGF0dGVyIGVsZW1lbnQuIG51bGwgbWVhbnNcbiAqICAgICAnYXV0bycgKG5vdCBzcGVjaWZpZWQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgZmlyc3Q6IHN0cmluZyB8IG51bGwsXG4gIHNlY29uZDogc3RyaW5nIHwgbnVsbCxcbik6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIWZpcnN0KSB7XG4gICAgcmV0dXJuIHNlY29uZDtcbiAgfSBlbHNlIGlmICghc2Vjb25kKSB7XG4gICAgcmV0dXJuIGZpcnN0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGZpcnN0SXNGb3JjZWRCcmVha1ZhbHVlID0gaXNGb3JjZWRCcmVha1ZhbHVlKGZpcnN0KTtcbiAgICBjb25zdCBzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUgPSBpc0ZvcmNlZEJyZWFrVmFsdWUoc2Vjb25kKTtcbiAgICBpZiAoZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUgJiYgc2Vjb25kSXNGb3JjZWRCcmVha1ZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHNlY29uZCkge1xuICAgICAgICBjYXNlIFwiY29sdW1uXCI6XG4gICAgICAgICAgLy8gXCJjb2x1bW5cIiBpcyB0aGUgd2Vha2VzdCB2YWx1ZVxuICAgICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgICAgY2FzZSBcInJlZ2lvblwiOlxuICAgICAgICAgIC8vIFwicmVnaW9uXCIgaXMgc3Ryb25nZXIgdGhhbiBcImNvbHVtblwiIGJ1dCB3ZWFrZXIgdGhhbiBwYWdlXG4gICAgICAgICAgLy8gdmFsdWVzXG4gICAgICAgICAgcmV0dXJuIGZpcnN0ID09PSBcImNvbHVtblwiID8gc2Vjb25kIDogZmlyc3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gcGFnZSB2YWx1ZXMgYXJlIHN0cm9uZ2VzdFxuICAgICAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUpIHtcbiAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgfSBlbHNlIGlmIChmaXJzdElzRm9yY2VkQnJlYWtWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH0gZWxzZSBpZiAoaXNBdm9pZEJyZWFrVmFsdWUoc2Vjb25kKSkge1xuICAgICAgcmV0dXJuIHNlY29uZDtcbiAgICB9IGVsc2UgaWYgKGlzQXZvaWRCcmVha1ZhbHVlKGZpcnN0KSkge1xuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2Vjb25kO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUoYnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gIHN3aXRjaCAoYnJlYWtWYWx1ZSkge1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgY2FzZSBcInJlY3RvXCI6XG4gICAgY2FzZSBcInZlcnNvXCI6XG4gICAgICByZXR1cm4gYnJlYWtWYWx1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiYW55XCI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2lkZVZhbHVlVG9CcmVha1ZhbHVlKFxuICBzdGFydFNpZGVWYWx1ZTogc3RyaW5nLFxuKTogc3RyaW5nIHwgbnVsbCB7XG4gIHN3aXRjaCAoc3RhcnRTaWRlVmFsdWUpIHtcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgcmV0dXJuIHN0YXJ0U2lkZVZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFwiU0lNUExFX1BST1BFUlRZXCIsIGNvbnZlcnRQYWdlQnJlYWtBbGlhc2VzKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRIZWxwZXIgLSBIZWxwZXIgZnVuY3Rpb25zIG9mIExheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0LCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogVGhvdWdoIG1ldGhvZCB1c2VkIHRvIGJlIHVzZWQgYXMgYSB3b3JrYXJvdW5kIGZvciBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0XG4gKiB0aGUgYnVnIGhhcyBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCBhcyBhIHdvcmthcm91bmQgZm9yIEZpcmVmb3ggYnVnOlxuICogICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTU5MzA5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhCb3hlc0Zvck5vZGUoXG4gIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICBib3hlczogVnRyZWUuQ2xpZW50UmVjdFtdLFxuICBub2RlOiBOb2RlLFxuKTogVnRyZWUuQ2xpZW50UmVjdFtdIHtcbiAgY29uc3QgZnVsbFJhbmdlID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGZ1bGxSYW5nZS5zZXRTdGFydChub2RlLCAwKTtcbiAgZnVsbFJhbmdlLnNldEVuZChub2RlLCBub2RlLnRleHRDb250ZW50Lmxlbmd0aCk7XG4gIGNvbnN0IGZ1bGxCb3hlcyA9IGNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKGZ1bGxSYW5nZSk7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xuICAgIGxldCBrOiBudW1iZXI7XG4gICAgZm9yIChrID0gMDsgayA8IGZ1bGxCb3hlcy5sZW5ndGg7IGsrKykge1xuICAgICAgY29uc3QgZnVsbEJveCA9IGZ1bGxCb3hlc1trXTtcbiAgICAgIGlmIChcbiAgICAgICAgYm94LnRvcCA+PSBmdWxsQm94LnRvcCAmJlxuICAgICAgICBib3guYm90dG9tIDw9IGZ1bGxCb3guYm90dG9tICYmXG4gICAgICAgIE1hdGguYWJzKGJveC5sZWZ0IC0gZnVsbEJveC5sZWZ0KSA8IDFcbiAgICAgICkge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgdG9wOiBib3gudG9wLFxuICAgICAgICAgIGxlZnQ6IGZ1bGxCb3gubGVmdCxcbiAgICAgICAgICBib3R0b206IGJveC5ib3R0b20sXG4gICAgICAgICAgcmlnaHQ6IGZ1bGxCb3gucmlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGsgPT0gZnVsbEJveGVzLmxlbmd0aCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkNvdWxkIG5vdCBmaXggY2hhcmFjdGVyIGJveFwiKTtcbiAgICAgIHJlc3VsdC5wdXNoKGJveCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgXCJhZnRlclwiIGVkZ2UgaW4gdGhlIGJsb2NrLXByb2dyZXNzaW9uXG4gKiBkaW1lbnNpb24uIFJldHVybiAwIGlmIHBvc2l0aW9uIHdhcyBkZXRlcm1pbmVkIHN1Y2Nlc3NmdWxseSBhbmQgcmV0dXJuXG4gKiBub24temVybyBpZiBwb3NpdGlvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBhbmQgdGhlIG5vZGUgc2hvdWxkIGJlXG4gKiBjb25zaWRlcmVkIHplcm8taGVpZ2h0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRWRnZShcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgZXh0cmFPZmZzZXQ6IG51bWJlcixcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBudW1iZXIge1xuICBjb25zdCBub2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlciB8fCAhbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICBjb25zdCBjYm94ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KG5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBpZiAoY2JveC5yaWdodCA+PSBjYm94LmxlZnQgJiYgY2JveC5ib3R0b20gPj0gY2JveC50b3ApIHtcbiAgICAgICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZlcnRpY2FsID8gY2JveC5sZWZ0IDogY2JveC5ib3R0b207XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZlcnRpY2FsID8gY2JveC5yaWdodCA6IGNib3gudG9wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOYU47XG4gIH0gZWxzZSB7XG4gICAgbGV0IGVkZ2UgPSBOYU47XG4gICAgY29uc3QgcmFuZ2UgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBjb25zdCBsZW5ndGggPSBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBleHRyYU9mZnNldCArPSBsZW5ndGg7XG4gICAgfVxuICAgIGlmIChleHRyYU9mZnNldCA+PSBsZW5ndGgpIHtcbiAgICAgIGV4dHJhT2Zmc2V0ID0gbGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgZXh0cmFPZmZzZXQpO1xuICAgIHJhbmdlLnNldEVuZChub2RlLCBleHRyYU9mZnNldCArIDEpO1xuICAgIGxldCBib3hlcyA9IGNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKHJhbmdlKTtcbiAgICBpZiAodmVydGljYWwgJiYgQmFzZS5jaGVja1ZlcnRpY2FsQkJveEJ1Zyhkb2N1bWVudC5ib2R5KSkge1xuICAgICAgYm94ZXMgPSBmaXhCb3hlc0Zvck5vZGUoY2xpZW50TGF5b3V0LCBib3hlcywgbm9kZSk7XG4gICAgfVxuICAgIGxldCBtYXhTaXplID0gMDtcblxuICAgIC8vIEdldCBmaXJzdCBvZiB0aGUgd2lkZXN0IGJveGVzICh3b3JrcyBhcm91bmQgQ2hyb21lIHJlc3VsdHMgZm9yIHNvZnRcbiAgICAvLyBoeXBoZW5zKS5cbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xuICAgICAgY29uc3QgYm94U2l6ZSA9IHZlcnRpY2FsID8gYm94LmJvdHRvbSAtIGJveC50b3AgOiBib3gucmlnaHQgLSBib3gubGVmdDtcbiAgICAgIGlmIChcbiAgICAgICAgYm94LnJpZ2h0ID4gYm94LmxlZnQgJiZcbiAgICAgICAgYm94LmJvdHRvbSA+IGJveC50b3AgJiZcbiAgICAgICAgKGlzTmFOKGVkZ2UpIHx8IGJveFNpemUgPiBtYXhTaXplKVxuICAgICAgKSB7XG4gICAgICAgIGVkZ2UgPSB2ZXJ0aWNhbCA/IGJveC5sZWZ0IDogYm94LmJvdHRvbTtcbiAgICAgICAgbWF4U2l6ZSA9IGJveFNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlZGdlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50SGVpZ2h0KFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgY29uc3QgcmVjdCA9IGNvbHVtbi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudCk7XG4gIGNvbnN0IG1hcmdpbiA9IGNvbHVtbi5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgcmV0dXJuIHZlcnRpY2FsXG4gICAgPyByZWN0W1wid2lkdGhcIl0gKyBtYXJnaW5bXCJsZWZ0XCJdICsgbWFyZ2luW1wicmlnaHRcIl1cbiAgICA6IHJlY3RbXCJoZWlnaHRcIl0gKyBtYXJnaW5bXCJ0b3BcIl0gKyBtYXJnaW5bXCJib3R0b21cIl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09ycGhhbihub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSA9PT0gbm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGb2xsb3dpbmdTaWJsaW5ncyhcbiAgcGFyZW50Tm9kZTogTm9kZSxcbiAgdmlld05vZGU6IE5vZGUsXG4pOiB2b2lkIHtcbiAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBsYXN0Q2hpbGQ6IE5vZGU7XG4gIHdoaWxlICgobGFzdENoaWxkID0gcGFyZW50Tm9kZS5sYXN0Q2hpbGQpICE9IHZpZXdOb2RlKSB7XG4gICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsYXN0Q2hpbGQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NwZWNpYWwoZTogRWxlbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFlLmdldEF0dHJpYnV0ZShWdHJlZUltcGwuU1BFQ0lBTF9BVFRSKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gIGlmICh2aWV3Tm9kZSAmJiB2aWV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBpc1NwZWNpYWwodmlld05vZGUgYXMgRWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQnJlYWtQb3NpdGlvbiAtIERlZmluaXRpb25zIG9mIEJyZWFrUG9zaXRpb24uXG4gKi9cbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0IHsgTGF5b3V0LCBSZXBldGl0aXZlRWxlbWVudCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgQnJlYWtQb3NpdGlvbiA9IExheW91dC5CcmVha1Bvc2l0aW9uO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RCcmVha1Bvc2l0aW9uXG4gIGltcGxlbWVudHMgTGF5b3V0LkFic3RyYWN0QnJlYWtQb3NpdGlvbiB7XG4gIGFic3RyYWN0IGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG5cbiAgYWJzdHJhY3QgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlcjtcblxuICBjYWxjdWxhdGVPZmZzZXQoY29sdW1uKTogeyBjdXJyZW50OiBudW1iZXI7IG1pbmltdW06IG51bWJlciB9IHtcbiAgICByZXR1cm4gY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgdGhpcy5nZXROb2RlQ29udGV4dCgpLFxuICAgICAgY29sdW1uLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQge31cblxuICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBlbGVtZW50c09mZnNldHM6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10sXG4pOiB7IGN1cnJlbnQ6IG51bWJlcjsgbWluaW11bTogbnVtYmVyIH0ge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnQ6IGVsZW1lbnRzT2Zmc2V0cy5yZWR1Y2UoXG4gICAgICAodmFsLCByZXBldGl0aXZlRWxlbWVudCkgPT5cbiAgICAgICAgdmFsICsgcmVwZXRpdGl2ZUVsZW1lbnQuY2FsY3VsYXRlT2Zmc2V0KG5vZGVDb250ZXh0KSxcbiAgICAgIDAsXG4gICAgKSxcbiAgICBtaW5pbXVtOiBlbGVtZW50c09mZnNldHMucmVkdWNlKFxuICAgICAgKHZhbCwgcmVwZXRpdGl2ZUVsZW1lbnQpID0+XG4gICAgICAgIHZhbCArIHJlcGV0aXRpdmVFbGVtZW50LmNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQpLFxuICAgICAgMCxcbiAgICApLFxuICB9O1xufVxuXG4vKipcbiAqIFBvdGVudGlhbCBlZGdlIGJyZWFraW5nIHBvc2l0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgRWRnZUJyZWFrUG9zaXRpb24gZXh0ZW5kcyBBYnN0cmFjdEJyZWFrUG9zaXRpb25cbiAgaW1wbGVtZW50cyBMYXlvdXQuRWRnZUJyZWFrUG9zaXRpb24ge1xuICBvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDogYm9vbGVhbjtcbiAgcHJvdGVjdGVkIGlzRWRnZVVwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBlZGdlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCA9IG92ZXJmbG93cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHRoaXMudXBkYXRlT3ZlcmZsb3dzKGNvbHVtbik7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbi5maW5kRWRnZUJyZWFrUG9zaXRpb24odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuaXNFZGdlVXBkYXRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWRnZUJyZWFrUG9zaXRpb24ucHJvdG90eXBlLnVwZGF0ZUVkZ2Ugbm90IGNhbGxlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcHJlZmVyRHJvcHBpbmcgPVxuICAgICAgdGhpcy5pc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIoKSAmJlxuICAgICAgIXRoaXMub3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQ7XG4gICAgcmV0dXJuIChcbiAgICAgIChCcmVhay5pc0F2b2lkQnJlYWtWYWx1ZSh0aGlzLmJyZWFrT25FZGdlKSA/IDEgOiAwKSArXG4gICAgICAodGhpcy5vdmVyZmxvd3MgJiYgIXByZWZlckRyb3BwaW5nID8gMyA6IDApICtcbiAgICAgICh0aGlzLnBvc2l0aW9uLnBhcmVudCA/IHRoaXMucG9zaXRpb24ucGFyZW50LmJyZWFrUGVuYWx0eSA6IDApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRWRnZShjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb25zdCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gY29sdW1uLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoXG4gICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICk7XG4gICAgdGhpcy5lZGdlID1cbiAgICAgIExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICAgICAwLFxuICAgICAgICBjb2x1bW4udmVydGljYWwsXG4gICAgICApICsgY2xvbmVkUGFkZGluZ0JvcmRlcjtcbiAgICB0aGlzLmlzRWRnZVVwZGF0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVPdmVyZmxvd3MoY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRnZVVwZGF0ZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRWRnZShjb2x1bW4pO1xuICAgIH1cbiAgICBjb25zdCBlZGdlID0gdGhpcy5lZGdlO1xuICAgIGNvbnN0IG9mZnNldHMgPSB0aGlzLmNhbGN1bGF0ZU9mZnNldChjb2x1bW4pO1xuICAgIHRoaXMub3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQgPSBjb2x1bW4uaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLm1pbmltdW0sXG4gICAgKTtcbiAgICB0aGlzLm92ZXJmbG93cyA9IHRoaXMucG9zaXRpb24ub3ZlcmZsb3cgPSBjb2x1bW4uaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLmN1cnJlbnQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSB0aGlzLmdldE5vZGVDb250ZXh0KCk7XG4gICAgaWYgKCFub2RlQ29udGV4dCB8fCAhbm9kZUNvbnRleHQucGFyZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHsgZm9ybWF0dGluZ0NvbnRleHQgfSA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICBpZiAoXG4gICAgICAhUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cy5pc0ZpcnN0Q29udGVudE5vZGUobm9kZUNvbnRleHQpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBEaXNwbGF5IC0gQ1NTIERpc3BsYXkgTW9kdWxlXG4gKi9cbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcblxuZXhwb3J0IGNvbnN0IEZMT1dfUk9PVF9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLWZsb3ctcm9vdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGbG93Um9vdChlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShGTE9XX1JPT1RfQVRUUikgPT09IFwidHJ1ZVwiO1xufVxuXG4vKipcbiAqICdCbG9ja2lmeScgYSBkaXNwbGF5IHZhbHVlLlxuICogY2YuIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtZGlzcGxheS8jdHJhbnNmb3JtYXRpb25zXG4gKiAgICAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2NzczIvdmlzdXJlbi5odG1sI2Rpcy1wb3MtZmxvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibG9ja2lmeShkaXNwbGF5OiBDc3MuSWRlbnQpOiBDc3MuSWRlbnQge1xuICBjb25zdCBkaXNwbGF5U3RyID0gZGlzcGxheS50b1N0cmluZygpO1xuICBsZXQgYmxvY2tpZmllZFN0cjogc3RyaW5nO1xuICBzd2l0Y2ggKGRpc3BsYXlTdHIpIHtcbiAgICBjYXNlIFwiaW5saW5lLWZsZXhcIjpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBcImZsZXhcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmUtZ3JpZFwiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwiZ3JpZFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImlubGluZS10YWJsZVwiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwidGFibGVcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmVcIjpcbiAgICBjYXNlIFwidGFibGUtcm93LWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLWNvbHVtblwiOlxuICAgIGNhc2UgXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIjpcbiAgICBjYXNlIFwidGFibGUtaGVhZGVyLWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLWZvb3Rlci1ncm91cFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1yb3dcIjpcbiAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1jYXB0aW9uXCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwiYmxvY2tcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBibG9ja2lmaWVkU3RyID0gZGlzcGxheVN0cjtcbiAgfVxuICByZXR1cm4gQ3NzLmdldE5hbWUoYmxvY2tpZmllZFN0cik7XG59XG5cbi8qKlxuICogSnVkZ2UgaWYgdGhlIGdlbmVyYXRlZCBib3ggaXMgYWJzb2x1dGVseSBwb3NpdGlvbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbjogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LmFic29sdXRlIHx8IHBvc2l0aW9uID09PSBDc3MuaWRlbnQuZml4ZWQ7XG59XG5cbi8qKlxuICogR2V0IGNvbXB1dGVkIHZhbHVlcyBvZiBkaXNwbGF5LCBwb3NpdGlvbiBhbmQgZmxvYXQuXG4gKiBjZi4gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1kaXNwbGF5LyN0cmFuc2Zvcm1hdGlvbnNcbiAqICAgICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzMi92aXN1cmVuLmh0bWwjZGlzLXBvcy1mbG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXB1dGVkRGlzbGF5VmFsdWUoXG4gIGRpc3BsYXk6IENzcy5JZGVudCxcbiAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgZmxvYXQ6IENzcy5JZGVudCxcbiAgaXNSb290OiBib29sZWFuLFxuKTogeyBkaXNwbGF5OiBDc3MuSWRlbnQ7IHBvc2l0aW9uOiBDc3MuSWRlbnQ7IGZsb2F0OiBDc3MuSWRlbnQgfSB7XG4gIGlmIChkaXNwbGF5ID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgIC8vIG5vIG5lZWQgdG8gY29udmVydCB2YWx1ZXMgd2hlbiAnZGlzcGxheScgaXMgJ25vbmUnXG4gIH0gZWxzZSBpZiAoaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbikpIHtcbiAgICBmbG9hdCA9IENzcy5pZGVudC5ub25lO1xuICAgIGRpc3BsYXkgPSBibG9ja2lmeShkaXNwbGF5KTtcbiAgfSBlbHNlIGlmICgoZmxvYXQgJiYgZmxvYXQgIT09IENzcy5pZGVudC5ub25lKSB8fCBpc1Jvb3QpIHtcbiAgICBkaXNwbGF5ID0gYmxvY2tpZnkoZGlzcGxheSk7XG4gIH1cbiAgcmV0dXJuIHsgZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0IH07XG59XG5cbi8qKlxuICogSnVkZ2VzIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGlzIGJsb2NrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCbG9jayhcbiAgZGlzcGxheTogQ3NzLklkZW50LFxuICBwb3NpdGlvbjogQ3NzLklkZW50LFxuICBmbG9hdDogQ3NzLklkZW50LFxuICBpc1Jvb3Q6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBnZXRDb21wdXRlZERpc2xheVZhbHVlKGRpc3BsYXksIHBvc2l0aW9uLCBmbG9hdCwgaXNSb290KS5kaXNwbGF5ID09PVxuICAgIENzcy5pZGVudC5ibG9ja1xuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmxpbmVMZXZlbChkaXNwbGF5OiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgc3dpdGNoIChkaXNwbGF5LnRvU3RyaW5nKCkpIHtcbiAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgIGNhc2UgXCJpbmxpbmUtbGlzdC1pdGVtXCI6XG4gICAgY2FzZSBcImlubGluZS1mbGV4XCI6XG4gICAgY2FzZSBcImlubGluZS1ncmlkXCI6XG4gICAgY2FzZSBcInJ1YnlcIjpcbiAgICBjYXNlIFwiaW5saW5lLXRhYmxlXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1J1YnlJbnRlcm5hbERpc3BsYXkoZGlzcGxheTogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZGlzcGxheS50b1N0cmluZygpKSB7XG4gICAgY2FzZSBcInJ1YnktYmFzZVwiOlxuICAgIGNhc2UgXCJydWJ5LXRleHRcIjpcbiAgICBjYXNlIFwicnVieS1iYXNlLWNvbnRhaW5lclwiOlxuICAgIGNhc2UgXCJydWJ5LXRleHQtY29udGFpbmVyXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogSnVkZ2VzIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGVzdGFibGlzaGVzIGEgbmV3IGJsb2NrIGZvcm1hdHRpbmcgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGFibGlzaGVzQkZDKFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0OiBDc3MuSWRlbnQsXG4gIG92ZXJmbG93OiBDc3MuSWRlbnQsXG4gIHdyaXRpbmdNb2RlPzogQ3NzLklkZW50LFxuICBwYXJlbnRXcml0aW5nTW9kZT86IENzcy5JZGVudCxcbiAgaXNGbG93Um9vdD86IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgd3JpdGluZ01vZGUgPSB3cml0aW5nTW9kZSB8fCBwYXJlbnRXcml0aW5nTW9kZSB8fCBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcbiAgcmV0dXJuIChcbiAgICAhIWlzRmxvd1Jvb3QgfHxcbiAgICAoISFmbG9hdCAmJiBmbG9hdCAhPT0gQ3NzLmlkZW50Lm5vbmUpIHx8XG4gICAgaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbikgfHxcbiAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQuaW5saW5lX2Jsb2NrIHx8XG4gICAgZGlzcGxheSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NlbGwgfHxcbiAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQudGFibGVfY2FwdGlvbiB8fFxuICAgIGRpc3BsYXkgPT0gQ3NzLmlkZW50LmZsZXggfHxcbiAgICAoKGRpc3BsYXkgPT09IENzcy5pZGVudC5ibG9jayB8fCBkaXNwbGF5ID09PSBDc3MuaWRlbnQubGlzdF9pdGVtKSAmJlxuICAgICAgISFvdmVyZmxvdyAmJlxuICAgICAgb3ZlcmZsb3cgIT09IENzcy5pZGVudC52aXNpYmxlKSB8fFxuICAgICghIXBhcmVudFdyaXRpbmdNb2RlICYmIHdyaXRpbmdNb2RlICE9PSBwYXJlbnRXcml0aW5nTW9kZSlcbiAgKTtcbn1cblxuLyoqXG4gKiBKdWRnZXMgaWYgdGhlIGdlbmVyYXRlZCBib3ggZXN0YWJsaXNoZXMgYSBjb250YWluaW5nIGJsb2NrIGZvciBkZXNjZW5kYW50XG4gKiBib3hlcyB3aXRoICdwb3NpdGlvbjogYWJzb2x1dGUnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXN0YWJsaXNoZXNDQkZvckFic29sdXRlKHBvc2l0aW9uOiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LnJlbGF0aXZlIHx8XG4gICAgcG9zaXRpb24gPT09IENzcy5pZGVudC5hYnNvbHV0ZSB8fFxuICAgIHBvc2l0aW9uID09PSBDc3MuaWRlbnQuZml4ZWRcbiAgKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRQcm9jZXNzb3IgLSBEZWZpbml0aW9ucyBvZiBMYXlvdXRQcm9jZXNzb3IuXG4gKi9cbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0SGVscGVyIGZyb20gXCIuL2xheW91dC1oZWxwZXJcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgRm9ybWF0dGluZ0NvbnRleHRUeXBlLCBMYXlvdXQsIExheW91dFByb2Nlc3NvciwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIFByb2Nlc3NvciBkb2luZyBzb21lIHNwZWNpYWwgbGF5b3V0IChlLmcuIHRhYmxlIGxheW91dClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRQcm9jZXNzb3Ige1xuICAvKipcbiAgICogRG8gYWN0dWFsIGxheW91dCBpbiB0aGUgY29sdW1uIHN0YXJ0aW5nIGZyb20gZ2l2ZW4gTm9kZUNvbnRleHQuXG4gICAqL1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gIC8qKlxuICAgKiBQb3RlbnRpYWwgZWRnZSBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dC5CcmVha1Bvc2l0aW9uO1xuXG4gIC8qKlxuICAgKiBwcm9jZXNzIG5vZGVjb250ZXh0IGF0IHRoZSBzdGFydCBvZiBhIG5vbiBpbmxpbmUgZWxlbWVudC5cbiAgICogQHJldHVybiByZXR1cm4gdHJ1ZSBpZiB5b3Ugc2tpcCB0aGUgc3Vic2VxdWVudCBub2Rlc1xuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBwcm9jZXNzIG5vZGVjb250ZXh0IGFmdGVyIGEgbm9uIGlubGluZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIHlvdSBza2lwIHRoZSBzdWJzZXF1ZW50IG5vZGVzXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICk7XG59XG5cbi8qKlxuICogUmVzb2x2ZXIgZmluZGluZyBhbiBhcHByb3ByaWF0ZSBMYXlvdXRQcm9jZXNzb3IgZ2l2ZW4gYSBmb3JtYXR0aW5nIGNvbnRleHRcbiAqL1xuZXhwb3J0IGNsYXNzIExheW91dFByb2Nlc3NvclJlc29sdmVyIHtcbiAgLyoqXG4gICAqIEZpbmQgTGF5b3V0UHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKi9cbiAgZmluZChmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBMYXlvdXRQcm9jZXNzb3Ige1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SLFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJvY2Vzc29yID0gaG9va3NbaV0oZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgaWYgKHByb2Nlc3Nvcikge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc29yO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgTm8gcHJvY2Vzc29yIGZvdW5kIGZvciBhIGZvcm1hdHRpbmcgY29udGV4dDogJHtmb3JtYXR0aW5nQ29udGV4dC5nZXROYW1lKCl9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja0xheW91dFByb2Nlc3NvciBpbXBsZW1lbnRzIExheW91dFByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChjb2x1bW4uaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRGbG9hdE9yRm9vdG5vdGUobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAoY29sdW1uLmlzQnJlYWthYmxlKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRCcmVha2FibGVCbG9jayhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb2x1bW4ubGF5b3V0VW5icmVha2FibGUobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dC5CcmVha1Bvc2l0aW9uIHtcbiAgICByZXR1cm4gbmV3IEJyZWFrUG9zaXRpb24uRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgICBwb3NpdGlvbi5jb3B5KCksXG4gICAgICBicmVha09uRWRnZSxcbiAgICAgIG92ZXJmbG93cyxcbiAgICAgIGNvbHVtbkJsb2NrU2l6ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGU7XG4gICAgTGF5b3V0SGVscGVyLnJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzKHBhcmVudE5vZGUsIG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICBpZiAocmVtb3ZlU2VsZikge1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlbW92ZVNlbGYgPVxuICAgICAgZm9yY2VSZW1vdmVTZWxmIHx8XG4gICAgICAobm9kZUNvbnRleHQudmlld05vZGUgIT0gbnVsbCAmJlxuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlcik7XG4gICAgY29sdW1uLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKG5vZGVDb250ZXh0LCByZW1vdmVTZWxmKTtcbiAgICBpZiAoZW5kT2ZDb2x1bW4pIHtcbiAgICAgIGNvbHVtbi5maXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQobm9kZUNvbnRleHQsIHRydWUpO1xuICAgICAgY29sdW1uLmxheW91dENvbnRleHQucHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UoXG4gICAgICAgIHJlbW92ZVNlbGYgPyBub2RlQ29udGV4dCA6IG5vZGVDb250ZXh0LnBhcmVudCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxvY2tGb3JtYXR0aW5nQ29udGV4dFxuICBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5CbG9ja0Zvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIkJsb2NrXCI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0KSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJCbG9jayBmb3JtYXR0aW5nIGNvbnRleHQgKEJsb2NrRm9ybWF0dGluZ0NvbnRleHQpXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc0ZpcnN0VGltZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGZpcnN0VGltZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmaXJzdFRpbWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQYXJlbnQoKTogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2F2ZVN0YXRlKCk6IGFueSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdG9yZVN0YXRlKHN0YXRlOiBhbnkpIHt9XG59XG5cbmV4cG9ydCBjb25zdCBibG9ja0xheW91dFByb2Nlc3NvciA9IG5ldyBCbG9ja0xheW91dFByb2Nlc3NvcigpO1xuXG5leHBvcnQgY29uc3QgaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCA9XG4gIExheW91dFByb2Nlc3Nvci5pc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0O1xuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQsXG4gIChub2RlQ29udGV4dCwgZmlyc3RUaW1lLCBkaXNwbGF5LCBwb3NpdGlvbiwgZmxvYXRTaWRlLCBpc1Jvb3QpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgaWYgKCFwYXJlbnQgJiYgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYXJlbnQgJiZcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ICE9PSBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBub2RlQ29udGV4dC5lc3RhYmxpc2hlc0JGQyB8fFxuICAgICAgKCFub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgICBEaXNwbGF5LmlzQmxvY2soZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0U2lkZSwgaXNSb290KSlcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgQmxvY2tGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgcGFyZW50ID8gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSxcbik7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIChmb3JtYXR0aW5nQ29udGV4dCkgPT4ge1xuICAgIGlmIChmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIHJldHVybiBibG9ja0xheW91dFByb2Nlc3NvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dFJldHJ5ZXJzIC0gRGVmaW5pdGlvbnMgb2YgTGF5b3V0UmV0cnllci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IExheW91dCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RMYXlvdXRSZXRyeWVyIHtcbiAgaW5pdGlhbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbltdID0gbnVsbDtcbiAgaW5pdGlhbFN0YXRlT2ZGb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0O1xuICBpbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHRoaXMucHJlcGFyZUxheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICByZXR1cm4gdGhpcy50cnlMYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gIH1cblxuICBwcml2YXRlIHRyeUxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4oXG4gICAgICBcIkFic3RyYWN0TGF5b3V0UmV0cnllci50cnlMYXlvdXRcIixcbiAgICApO1xuICAgIHRoaXMuc2F2ZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IG1vZGUgPSB0aGlzLnJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0KTtcbiAgICBtb2RlLmRvTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKHBvc2l0aW9uQWZ0ZXIpID0+IHtcbiAgICAgIGxldCBhY2NlcHRlZCA9IG1vZGUuYWNjZXB0KHBvc2l0aW9uQWZ0ZXIsIGNvbHVtbik7XG4gICAgICBhY2NlcHRlZCA9IG1vZGUucG9zdExheW91dChcbiAgICAgICAgcG9zaXRpb25BZnRlcixcbiAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24sXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgYWNjZXB0ZWQsXG4gICAgICApO1xuICAgICAgaWYgKGFjY2VwdGVkKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChwb3NpdGlvbkFmdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuaW5pdGlhbFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5jbGVhck5vZGVzKHRoaXMuaW5pdGlhbFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgICAgIHRoaXMudHJ5TGF5b3V0KHRoaXMuaW5pdGlhbFBvc2l0aW9uLCBjb2x1bW4pLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGFic3RyYWN0IHJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dC5MYXlvdXRNb2RlO1xuXG4gIHByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHt9XG5cbiAgY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgY29uc3Qgdmlld05vZGUgPVxuICAgICAgaW5pdGlhbFBvc2l0aW9uLnZpZXdOb2RlIHx8IGluaXRpYWxQb3NpdGlvbi5wYXJlbnQudmlld05vZGU7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIHdoaWxlICgoY2hpbGQgPSB2aWV3Tm9kZS5sYXN0Q2hpbGQpKSB7XG4gICAgICB2aWV3Tm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGxldCBzaWJsaW5nOiBOb2RlO1xuICAgIHdoaWxlICgoc2libGluZyA9IHZpZXdOb2RlLm5leHRTaWJsaW5nKSkge1xuICAgICAgc2libGluZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNpYmxpbmcpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgIHRoaXMuaW5pdGlhbEJyZWFrUG9zaXRpb25zID0gW10uY29uY2F0KGNvbHVtbi5icmVha1Bvc2l0aW9ucyk7XG4gICAgdGhpcy5pbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdLmNvbmNhdChcbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLFxuICAgICk7XG4gICAgaWYgKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICB0aGlzLmluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQgPSBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dC5zYXZlU3RhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZXN0b3JlU3RhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb2x1bW4uYnJlYWtQb3NpdGlvbnMgPSB0aGlzLmluaXRpYWxCcmVha1Bvc2l0aW9ucztcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IHRoaXMuaW5pdGlhbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM7XG4gICAgaWYgKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dC5yZXN0b3JlU3RhdGUoXG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlT2ZGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRVdGlsIC0gVXRpbGl0aWVzIHJlbGF0ZWQgdG8gbGF5b3V0LlxuICovXG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBMYXlvdXRJdGVyYXRvclN0YXRlID0ge1xuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbjtcbiAgYnJlYWs6IGJvb2xlYW47XG4gIGxlYWRpbmdFZGdlPzogYm9vbGVhbjtcbiAgYnJlYWtBdFRoZUVkZ2U/OiBzdHJpbmcgfCBudWxsO1xuICBvblN0YXJ0RWRnZXM/OiBib29sZWFuO1xuICBsZWFkaW5nRWRnZUNvbnRleHRzPzogVnRyZWUuTm9kZUNvbnRleHRbXTtcbiAgbGFzdEFmdGVyTm9kZUNvbnRleHQ/OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgTGF5b3V0SXRlcmF0b3JTdHJhdGVneSB7XG4gIGluaXRpYWxTdGF0ZShpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0SXRlcmF0b3JTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVDb250ZXh0OiBpbml0aWFsTm9kZUNvbnRleHQsXG4gICAgICBhdFVuZm9yY2VkQnJlYWs6IGZhbHNlLFxuICAgICAgYnJlYWs6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBzdGFydE5vbkRpc3BsYXlhYmxlTm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25EaXNwbGF5YWJsZU5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIHN0YXJ0SWdub3JlZFRleHROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlcklnbm9yZWRUZXh0Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnROb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnRJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgZmluaXNoKHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRJdGVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RyYXRlZ3k6IExheW91dEl0ZXJhdG9yU3RyYXRlZ3ksXG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICApIHt9XG5cbiAgaXRlcmF0ZShcbiAgICBpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5zdHJhdGVneTtcbiAgICBjb25zdCBzdGF0ZSA9IHN0cmF0ZWd5LmluaXRpYWxTdGF0ZShpbml0aWFsTm9kZUNvbnRleHQpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIkxheW91dEl0ZXJhdG9yXCIsXG4gICAgKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBsZXQgcjogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgICAgICB3aGlsZSAoc3RhdGUubm9kZUNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoIXN0YXRlLm5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVyTm9uRGlzcGxheWFibGVOb2RlKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydE5vbkRpc3BsYXlhYmxlTm9kZShzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5ub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBWdHJlZUltcGwuY2FuSWdub3JlKFxuICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LnZpZXdOb2RlLFxuICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJJZ25vcmVkVGV4dE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydElnbm9yZWRUZXh0Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlck5vbkVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnROb25FbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0SW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnQgPSByICYmIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5icmVhaykge1xuICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUoXG4gICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICBzdGF0ZS5hdFVuZm9yY2VkQnJlYWssXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChuZXh0UmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oKG5leHROb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSBuZXh0Tm9kZUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmJyZWFrKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gbmV4dFJlc3VsdC5nZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RyYXRlZ3kuZmluaXNoKHN0YXRlKTtcbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHN0YXRlLm5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRnZVNraXBwZXIgZXh0ZW5kcyBMYXlvdXRJdGVyYXRvclN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJlYWRvbmx5IGxlYWRpbmdFZGdlPzogYm9vbGVhbikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBzdGFydE5vbklubGluZUJveChzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGVuZEVtcHR5Tm9uSW5saW5lQm94KFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBlbmROb25JbmxpbmVCb3goc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUpOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBpbml0aWFsU3RhdGUoaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dEl0ZXJhdG9yU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlQ29udGV4dDogaW5pdGlhbE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrOiAhIXRoaXMubGVhZGluZ0VkZ2UgJiYgaW5pdGlhbE5vZGVDb250ZXh0LmFmdGVyLFxuICAgICAgYnJlYWs6IGZhbHNlLFxuICAgICAgbGVhZGluZ0VkZ2U6IHRoaXMubGVhZGluZ0VkZ2UsXG4gICAgICBicmVha0F0VGhlRWRnZTogbnVsbCxcbiAgICAgIG9uU3RhcnRFZGdlczogZmFsc2UsXG4gICAgICBsZWFkaW5nRWRnZUNvbnRleHRzOiBbXSxcbiAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0OiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgYSBmb3JjZWQgYnJlYWsgb2NjdXJzLlxuICAgKi9cbiAgcHJvY2Vzc0ZvcmNlZEJyZWFrKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVlZEZvcmNlZEJyZWFrID1cbiAgICAgICFzdGF0ZS5sZWFkaW5nRWRnZSAmJiBCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoc3RhdGUuYnJlYWtBdFRoZUVkZ2UpO1xuICAgIGlmIChuZWVkRm9yY2VkQnJlYWspIHtcbiAgICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gKHN0YXRlLm5vZGVDb250ZXh0ID1cbiAgICAgICAgc3RhdGUubGVhZGluZ0VkZ2VDb250ZXh0c1swXSB8fCBzdGF0ZS5ub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gc3RhdGUuYnJlYWtBdFRoZUVkZ2U7XG4gICAgfVxuICAgIHJldHVybiBuZWVkRm9yY2VkQnJlYWs7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgdGhlIG5vZGUgb3ZlcmZsb3dzIHRoZSBjb2x1bW4uXG4gICAqL1xuICBzYXZlRWRnZUFuZFByb2Nlc3NPdmVyZmxvdyhcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG92ZXJmbG93ID0gY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgIG51bGwsXG4gICAgICB0cnVlLFxuICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgKTtcbiAgICBpZiAob3ZlcmZsb3cpIHtcbiAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gKFxuICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBzdGF0ZS5ub2RlQ29udGV4dFxuICAgICAgKS5tb2RpZnkoKTtcbiAgICAgIHN0YXRlLm5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG92ZXJmbG93O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGF5b3V0IGNvbnN0cmFpbnQgaXMgdmlvbGF0ZWQuXG4gICAqL1xuICBwcm9jZXNzTGF5b3V0Q29uc3RyYWludChcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXQuTGF5b3V0Q29uc3RyYWludCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGxldCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHZpb2xhdGVDb25zdHJhaW50ID0gIWxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQobm9kZUNvbnRleHQpO1xuICAgIGlmICh2aW9sYXRlQ29uc3RyYWludCkge1xuICAgICAgY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICApO1xuICAgICAgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdmlvbGF0ZUNvbnN0cmFpbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbkVsZW1lbnROb2RlKHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgc3RhdGUubGVhZGluZ0VkZ2VDb250ZXh0cy5wdXNoKHN0YXRlLm5vZGVDb250ZXh0LmNvcHkoKSk7XG4gICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICAgc3RhdGUubm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgKTtcbiAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLnN0YXJ0Tm9uSW5saW5lQm94KHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgbGV0IHI6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgaWYgKHN0YXRlLm9uU3RhcnRFZGdlcykge1xuICAgICAgciA9IHRoaXMuZW5kRW1wdHlOb25JbmxpbmVCb3goc3RhdGUpO1xuICAgICAgY29udCA9IHIgJiYgci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIGNvbnQgPSBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIGlmICghc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICBzdGF0ZS5sZWFkaW5nRWRnZUNvbnRleHRzID0gW107XG4gICAgICAgICAgc3RhdGUubGVhZGluZ0VkZ2UgPSBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS5hdFVuZm9yY2VkQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHIgPSB0aGlzLmVuZE5vbklubGluZUJveChzdGF0ZSk7XG4gICAgICBjb250ID0gciAmJiByLmlzUGVuZGluZygpID8gciA6IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gY29udC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5icmVhaykge1xuICAgICAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQuYnJlYWtBZnRlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNoYXJlZCAtIEdsb2JhbCB2YXJpYWJsZXMgb2YgVml2bGlvc3R5bGUuanNcbiAqL1xuaW1wb3J0IHsgUmVwZXRpdGl2ZUVsZW1lbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgbGV0IHJlcGV0aXRpdmVFbGVtZW50c0NhY2hlOiB7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGVsZW1lbnRzOiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHM7XG59W10gPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUoKTogdm9pZCB7XG4gIHJlcGV0aXRpdmVFbGVtZW50c0NhY2hlID0gW107XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUHNldWRvRWxlbWVudCAtIENTUyBwc2V1ZG8gZWxlbWVudHMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzU3R5bGVyIGZyb20gXCIuL2Nzcy1zdHlsZXJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgUHNldWRvRWxlbWVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBkb2N1bWVudCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXG4gIGA8cm9vdCB4bWxucz1cIiR7QmFzZS5OUy5TSEFET1d9XCIvPmAsXG4gIFwidGV4dC94bWxcIixcbik7XG5cbi8qKlxuICogUHNldWRvZWxlbWVudCBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgaW5zZXJ0ZWQgaW4gdGhlIHNoYWRvdyBET00sXG4gKiBlbXB0eSBzdHJpbmcgaXMgdGhlIHBsYWNlIHdoZXJlIHRoZSBlbGVtZW50J3MgRE9NIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwc2V1ZG9OYW1lcyA9IFtcbiAgXCJmb290bm90ZS1tYXJrZXJcIixcbiAgXCJmaXJzdC01LWxpbmVzXCIsXG4gIFwiZmlyc3QtNC1saW5lc1wiLFxuICBcImZpcnN0LTMtbGluZXNcIixcbiAgXCJmaXJzdC0yLWxpbmVzXCIsXG4gIFwiZmlyc3QtbGluZVwiLFxuICBcImZpcnN0LWxldHRlclwiLFxuICBcImJlZm9yZVwiLFxuICBcIlwiLFxuICAvKiBjb250ZW50ICovXG4gIFwiYWZ0ZXJcIixcbl07XG5cbmV4cG9ydCBjb25zdCBQU0VVRE9fQVRUUiA9IFwiZGF0YS1hZGFwdC1wc2V1ZG9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBzZXVkb05hbWUoZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShQU0VVRE9fQVRUUikgfHwgXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBzZXVkb05hbWUoZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFBTRVVET19BVFRSLCBuYW1lKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBzZXVkb2VsZW1lbnRTdHlsZXIgaW1wbGVtZW50cyBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIge1xuICBjb250ZW50UHJvY2Vzc2VkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuXG4gIC8vIGFmdGVyIGNvbnRlbnQ6IHVwZGF0ZSBzdHlsZVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBleHByQ29udGVudExpc3RlbmVyOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBjb25zdCBwc2V1ZG9OYW1lID0gZ2V0UHNldWRvTmFtZShlbGVtZW50KTtcbiAgICBpZiAodGhpcy5zdHlsZXIgJiYgcHNldWRvTmFtZSAmJiBwc2V1ZG9OYW1lLm1hdGNoKC9hZnRlciQvKSkge1xuICAgICAgdGhpcy5zdHlsZSA9IHRoaXMuc3R5bGVyLmdldFN0eWxlKHRoaXMuZWxlbWVudCwgdHJ1ZSk7XG4gICAgICB0aGlzLnN0eWxlciA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAodGhpcy5zdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBjb25zdCBzdHlsZSA9IHBzZXVkb01hcFtwc2V1ZG9OYW1lXSB8fCAoe30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpO1xuICAgIGlmIChwc2V1ZG9OYW1lLm1hdGNoKC9eZmlyc3QtLykgJiYgIXN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl0pIHtcbiAgICAgIGxldCBuZXN0ID0gMTtcbiAgICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgICAgaWYgKHBzZXVkb05hbWUgPT0gXCJmaXJzdC1sZXR0ZXJcIikge1xuICAgICAgICBuZXN0ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoKHIgPSBwc2V1ZG9OYW1lLm1hdGNoKC9eZmlyc3QtKFswLTldKyktbGluZXMkLykpICE9IG51bGwpIHtcbiAgICAgICAgbmVzdCA9IChyWzFdIGFzIGFueSkgLSAwO1xuICAgICAgfVxuICAgICAgc3R5bGVbXCJ4LWZpcnN0LXBzZXVkb1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgICAgbmV3IENzcy5JbnQobmVzdCksXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzQ29udGVudChlbGVtZW50OiBFbGVtZW50LCBzdHlsZXM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3QgcHNldWRvTmFtZSA9IGdldFBzZXVkb05hbWUoZWxlbWVudCk7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRQcm9jZXNzZWRbcHNldWRvTmFtZV0pIHtcbiAgICAgIHRoaXMuY29udGVudFByb2Nlc3NlZFtwc2V1ZG9OYW1lXSA9IHRydWU7XG4gICAgICBjb25zdCBjb250ZW50VmFsID0gc3R5bGVzW1wiY29udGVudFwiXTtcbiAgICAgIGlmIChjb250ZW50VmFsKSB7XG4gICAgICAgIGlmIChWdHJlZS5ub25Ucml2aWFsQ29udGVudChjb250ZW50VmFsKSkge1xuICAgICAgICAgIGNvbnRlbnRWYWwudmlzaXQoXG4gICAgICAgICAgICBuZXcgVnRyZWUuQ29udGVudFByb3BlcnR5SGFuZGxlcihcbiAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICBjb250ZW50VmFsLFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0IC0gRmlsbHMgYSBjb2x1bW4gd2l0aCBzdHlsZWQgY29udGVudC5cbiAqIFRoaXMgZmlsZSBkb2VzIG5vdCBjb21tdW5pY2F0ZSB3aXRoIHRoZSBzdHlsaW5nIHN5c3RlbSBkaXJlY3RseS5cbiAqIEluc3RlYWQgaXQgZ29lcyB0aHJvdWdoIHRoZSBsYXlvdXQgaW50ZXJmYWNlIHRoYXQgZ2l2ZXMgaXQgb25lIHZpZXcgdHJlZVxuICogbm9kZSBhdCBhIHRpbWUuXG4gKi9cbmltcG9ydCAqIGFzIExheW91dFJldHJ5ZXJzIGZyb20gXCIuL2xheW91dC1yZXRyeWVyc1wiO1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBTaXppbmcgZnJvbSBcIi4vc2l6aW5nXCI7XG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWtQb3NpdGlvbiBmcm9tIFwiLi9icmVhay1wb3NpdGlvblwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgTWF0Y2hlcnMgZnJvbSBcIi4vbWF0Y2hlcnNcIjtcbmltcG9ydCAqIGFzIFBzZXVkb0VsZW1lbnQgZnJvbSBcIi4vcHNldWRvLWVsZW1lbnRcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7XG4gIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUsXG4gIExheW91dCxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFNlbGVjdG9ycyxcbiAgVGFibGUsXG4gIFZ0cmVlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQgPVxuICBTZWxlY3RvcnMuaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQ7XG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGcmFnbWVudEluZGV4ID1cbiAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLnJlZ2lzdGVyRnJhZ21lbnRJbmRleDtcbmV4cG9ydCBjb25zdCBjbGVhckZyYWdtZW50SW5kaWNlcyA9XG4gIE1hdGNoZXJzLk50aEZyYWdtZW50TWF0Y2hlci5jbGVhckZyYWdtZW50SW5kaWNlcztcblxuZXhwb3J0IGNsYXNzIEFmdGVySWZDb250aW51ZXMgaW1wbGVtZW50cyBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VOb2RlOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZXI6IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcixcbiAgKSB7fVxuXG4gIGNyZWF0ZUVsZW1lbnQoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGNvbnN0IGRvYyA9IHBhcmVudE5vZGVDb250ZXh0LnZpZXdOb2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3Qgdmlld1Jvb3QgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSBuZXcgUHNldWRvQ29sdW1uKGNvbHVtbiwgdmlld1Jvb3QsIHBhcmVudE5vZGVDb250ZXh0KTtcbiAgICBjb25zdCBpbml0aWFsUGFnZUJyZWFrVHlwZSA9IHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlO1xuICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICByZXR1cm4gcHNldWRvQ29sdW1uXG4gICAgICAubGF5b3V0KHRoaXMuY3JlYXRlTm9kZVBvc2l0aW9uRm9yUHNldWRvRWxlbWVudCgpLCB0cnVlKVxuICAgICAgLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIHRoaXMuc3R5bGVyLmNvbnRlbnRQcm9jZXNzZWRbXCJhZnRlci1pZi1jb250aW51ZXNcIl0gPSBmYWxzZTtcbiAgICAgICAgcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGUgPSBpbml0aWFsUGFnZUJyZWFrVHlwZTtcbiAgICAgICAgY29uc3QgcHNldWRvRWxlbWVudCA9IHZpZXdSb290LmZpcnN0Q2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwc2V1ZG9FbGVtZW50LCBcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHBzZXVkb0VsZW1lbnQpO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQoKTogVnRyZWUuQ2h1bmtQb3NpdGlvbiB7XG4gICAgY29uc3Qgc291cmNlTm9kZSA9IFBzZXVkb0VsZW1lbnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgQmFzZS5OUy5YSFRNTCxcbiAgICAgIFwiZGl2XCIsXG4gICAgKTtcbiAgICBQc2V1ZG9FbGVtZW50LnNldFBzZXVkb05hbWUoc291cmNlTm9kZSwgXCJhZnRlci1pZi1jb250aW51ZXNcIik7XG4gICAgY29uc3Qgc2hhZG93Q29udGV4dCA9IHRoaXMuY3JlYXRlU2hhZG93Q29udGV4dChzb3VyY2VOb2RlKTtcbiAgICBjb25zdCBzdGVwID0ge1xuICAgICAgbm9kZTogc291cmNlTm9kZSxcbiAgICAgIHNoYWRvd1R5cGU6IHNoYWRvd0NvbnRleHQudHlwZSxcbiAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICBub2RlU2hhZG93OiBudWxsLFxuICAgICAgc2hhZG93U2libGluZzogbnVsbCxcbiAgICB9O1xuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IHtcbiAgICAgIHN0ZXBzOiBbc3RlcF0sXG4gICAgICBvZmZzZXRJbk5vZGU6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogbnVsbCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24obm9kZVBvc2l0aW9uIGFzIGFueSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNoYWRvd0NvbnRleHQocm9vdDogRWxlbWVudCk6IFZ0cmVlLlNoYWRvd0NvbnRleHQge1xuICAgIHJldHVybiBuZXcgVnRyZWVJbXBsLlNoYWRvd0NvbnRleHQoXG4gICAgICB0aGlzLnNvdXJjZU5vZGUsXG4gICAgICByb290LFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09URUQsXG4gICAgICB0aGlzLnN0eWxlcixcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICAgIFwiQWZ0ZXJJZkNvbnRpbnVlXCI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXMsXG4gICAgcHVibGljIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIChvdmVyZmxvd25Ob2RlQ29udGV4dCAmJiAhbm9kZUNvbnRleHQpIHx8XG4gICAgICAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQub3ZlcmZsb3cpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKS5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWZ0ZXJJZkNvbnRpbnVlc1xuICAgICAgLmNyZWF0ZUVsZW1lbnQoY29sdW1uLCB0aGlzLm5vZGVDb250ZXh0KVxuICAgICAgLnRoZW5Bc3luYygoZWxlbWVudCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFJlcGV0aXRpdmVFbGVtZW50cygpIHtcbiAgICByZXR1cm4gbmV3IEFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgICB0aGlzLnBzZXVkb0VsZW1lbnRIZWlnaHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXF1YWxzVG8oY29uc3RyYWludDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuYWZ0ZXJJZkNvbnRpbnVlcyA9PVxuICAgICAgKGNvbnN0cmFpbnQgYXMgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQpLmFmdGVySWZDb250aW51ZXNcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gOTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0XG4gIGltcGxlbWVudHMgU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBub2RlQ29udGV4dCwgcHVibGljIHBzZXVkb0VsZW1lbnRIZWlnaHQpIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuYWZmZWN0VG8obm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHNldWRvRWxlbWVudEhlaWdodDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dCk7XG4gIH1cblxuICBhZmZlY3RUbyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0XG4gICAgICA/IG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHQub3duZXJcbiAgICAgIDogbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICBpZiAoc291cmNlTm9kZSA9PT0gdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlKSB7XG4gICAgICByZXR1cm4gISFub2RlQ29udGV4dC5hZnRlcjtcbiAgICB9XG4gICAgZm9yIChsZXQgbiA9IHNvdXJjZU5vZGUucGFyZW50Tm9kZTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKG4gPT09IHRoaXMubm9kZUNvbnRleHQuc291cmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZOb2RlQ29udGV4dChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICBpZiAoXG4gICAgIW5vZGVDb250ZXh0IHx8XG4gICAgIW5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXMgfHxcbiAgICBub2RlQ29udGV4dC5hZnRlciB8fFxuICAgIGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpXG4gICkge1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gIH1cbiAgY29uc3QgYWZ0ZXJJZkNvbnRpbnVlcyA9IG5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXM7XG4gIHJldHVybiBhZnRlcklmQ29udGludWVzXG4gICAgLmNyZWF0ZUVsZW1lbnQoY29sdW1uLCBub2RlQ29udGV4dClcbiAgICAudGhlbkFzeW5jKChwc2V1ZG9FbGVtZW50KSA9PiB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dCAhPT0gbnVsbCk7XG4gICAgICBjb25zdCBwc2V1ZG9FbGVtZW50SGVpZ2h0ID0gY2FsY3VsYXRlUHNldWRvRWxlbWVudEhlaWdodChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgcHNldWRvRWxlbWVudCxcbiAgICAgICk7XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5wdXNoKFxuICAgICAgICBuZXcgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgbm9kZUNvbnRleHQgYXMgVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICAgICAgYWZ0ZXJJZkNvbnRpbnVlcyxcbiAgICAgICAgICBwc2V1ZG9FbGVtZW50SGVpZ2h0LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyhcbiAgcmVzdWx0OiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4sXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gIHJldHVybiByZXN1bHQudGhlbkFzeW5jKChub2RlQ29udGV4dCkgPT5cbiAgICBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQobm9kZUNvbnRleHQsIGNvbHVtbiksXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgIFwicHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZkFuY2VzdG9yc1wiLFxuICApO1xuICBsZXQgY3VycmVudDogVnRyZWUuTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgZnJhbWVcbiAgICAubG9vcCgoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQoY3VycmVudCwgY29sdW1uKTtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQc2V1ZG9FbGVtZW50SGVpZ2h0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgcHNldWRvRWxlbWVudDogRWxlbWVudCxcbik6IG51bWJlciB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHBzZXVkb0VsZW1lbnQpO1xuICBjb25zdCBoZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICBwc2V1ZG9FbGVtZW50LFxuICAgIGNvbHVtbixcbiAgICBub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgKTtcbiAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwc2V1ZG9FbGVtZW50KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZXhwb3J0IGNvbnN0IG1lZGlhVGFncyA9IHtcbiAgaW1nOiB0cnVlLFxuICBzdmc6IHRydWUsXG4gIGF1ZGlvOiB0cnVlLFxuICB2aWRlbzogdHJ1ZSxcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnN0cmFpbnQgb24gbGF5b3V0XG4gKi9cbmV4cG9ydCB0eXBlIExheW91dENvbnN0cmFpbnQgPSBMYXlvdXQuTGF5b3V0Q29uc3RyYWludDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29uc3RyYWludCB0aGF0IGFsbG93cyBsYXlvdXQgaWYgYWxsIHRoZSBjb25zdHJhaW50cyBpdCBjb250YWluc1xuICogYWxsb3cgbGF5b3V0LlxuICovXG5leHBvcnQgY2xhc3MgQWxsTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uc3RyYWludHM6IExheW91dENvbnN0cmFpbnRbXSkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhbGxvd0xheW91dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50cy5ldmVyeSgoYykgPT4gYy5hbGxvd0xheW91dChub2RlQ29udGV4dCkpO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBjb25zdHJhaW50cyBvbiBsYXlpbmcgb3V0IGZyYWdtZW50c1xuICovXG5leHBvcnQgdHlwZSBGcmFnbWVudExheW91dENvbnN0cmFpbnQgPSBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50O1xuXG5leHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQgPSBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0O1xuXG4vKipcbiAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBpbnNpZGUgQ1NTIGJveCAoYmV0d2VlbiBsaW5lcykuXG4gKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgYnJlYWtpbmcgcG9pbnRzIGZvciBicmVha2FibGUgYmxvY2tcbiAqL1xuZXhwb3J0IGNsYXNzIEJveEJyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvblxuICBpbXBsZW1lbnRzIExheW91dC5Cb3hCcmVha1Bvc2l0aW9uIHtcbiAgcHJpdmF0ZSBhbHJlYWR5RXZhbHVhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgcHVibGljIHJlYWRvbmx5IHBlbmFsdHk6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoY29sdW1uOiBDb2x1bW4sIHBlbmFsdHk6IG51bWJlcik6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYWxyZWFkeUV2YWx1YXRlZCkge1xuICAgICAgdGhpcy5icmVha05vZGVDb250ZXh0ID0gY29sdW1uLmZpbmRCb3hCcmVha1Bvc2l0aW9uKHRoaXMsIHBlbmFsdHkgPiAwKTtcbiAgICAgIHRoaXMuYWxyZWFkeUV2YWx1YXRlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJyZWFrTm9kZUNvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wZW5hbHR5O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuYWxyZWFkeUV2YWx1YXRlZFxuICAgICAgPyB0aGlzLmJyZWFrTm9kZUNvbnRleHRcbiAgICAgIDogdGhpcy5jaGVja1BvaW50c1t0aGlzLmNoZWNrUG9pbnRzLmxlbmd0aCAtIDFdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgY2hlY2tQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjcDAgPSBjaGVja1BvaW50c1tpIC0gMV07XG4gICAgY29uc3QgY3AxID0gY2hlY2tQb2ludHNbaV07XG4gICAgaWYgKGNwMCA9PT0gY3AxKSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogZHVwbGljYXRlIGVudHJ5XCIpO1xuICAgIH0gZWxzZSBpZiAoY3AwLmJveE9mZnNldCA+PSBjcDEuYm94T2Zmc2V0KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogaW5jb3JyZWN0IGJveE9mZnNldFwiKTtcbiAgICB9IGVsc2UgaWYgKGNwMC5zb3VyY2VOb2RlID09IGNwMS5zb3VyY2VOb2RlKSB7XG4gICAgICBpZiAoY3AxLmFmdGVyKSB7XG4gICAgICAgIGlmIChjcDAuYWZ0ZXIpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogZHVwbGljYXRlIGFmdGVyIHBvaW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFjcDAuYWZ0ZXIpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjcDEuYm94T2Zmc2V0IC0gY3AwLmJveE9mZnNldCAhPVxuICAgICAgICAgICAgY3AxLm9mZnNldEluTm9kZSAtIGNwMC5vZmZzZXRJbk5vZGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIFwidmFsaWRhdGVDaGVja1BvaW50czogYm94T2Zmc2V0IGluY29uc2lzdGVudCB3aXRoIG9mZnNldEluTm9kZVwiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbElubGluZURpc3BsYXkoZGlzcGxheTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZGlzcGxheSkge1xuICAgIGNhc2UgXCJydWJ5XCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgIGNhc2UgXCJpbmxpbmUtZmxleFwiOlxuICAgIGNhc2UgXCJpbmxpbmUtZ3JpZFwiOlxuICAgIGNhc2UgXCJpbmxpbmUtbGlzdC1pdGVtXCI6XG4gICAgY2FzZSBcImlubGluZS10YWJsZVwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uIGV4dGVuZHMgVnRyZWVJbXBsLkNvbnRhaW5lciBpbXBsZW1lbnRzIExheW91dC5Db2x1bW4ge1xuICBsYXN0OiBOb2RlO1xuICB2aWV3RG9jdW1lbnQ6IERvY3VtZW50O1xuICBmbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCA9IG51bGw7XG4gIGlzRmxvYXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNGb290bm90ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzdGFydEVkZ2U6IG51bWJlciA9IDA7XG4gIGVuZEVkZ2U6IG51bWJlciA9IDA7XG4gIGJlZm9yZUVkZ2U6IG51bWJlciA9IDA7XG4gIGFmdGVyRWRnZTogbnVtYmVyID0gMDtcbiAgZm9vdG5vdGVFZGdlOiBudW1iZXIgPSAwO1xuICBib3g6IEdlb21ldHJ5VXRpbC5SZWN0ID0gbnVsbDtcbiAgY2h1bmtQb3NpdGlvbnM6IFZ0cmVlLkNodW5rUG9zaXRpb25bXSA9IG51bGw7XG4gIGJhbmRzOiBHZW9tZXRyeVV0aWwuQmFuZFtdID0gbnVsbDtcbiAgb3ZlcmZsb3duOiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrUG9zaXRpb25zOiBCcmVha1Bvc2l0aW9uLkJyZWFrUG9zaXRpb25bXSA9IG51bGw7XG4gIHBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBmb3JjZU5vbmZpdHRpbmc6IGJvb2xlYW4gPSB0cnVlO1xuICBsZWZ0RmxvYXRFZGdlOiBudW1iZXIgPSAwOyAvLyBib3R0b20gb2YgdGhlIGJvdHRvbW1vc3QgbGVmdCBmbG9hdFxuICByaWdodEZsb2F0RWRnZTogbnVtYmVyID0gMDsgLy8gYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IHJpZ2h0IGZsb2F0XG4gIGJvdHRvbW1vc3RGbG9hdFRvcDogbnVtYmVyID0gMDsgLy8gVG9wIG9mIHRoZSBib3R0b21tb3N0IGZsb2F0XG4gIHN0b3BBdE92ZXJmbG93OiBib29sZWFuID0gdHJ1ZTtcbiAgbGFzdEFmdGVyUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBmcmFnbWVudExheW91dENvbnN0cmFpbnRzOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRbXSA9IFtdO1xuICBwc2V1ZG9QYXJlbnQ6IENvbHVtbiA9IG51bGw7XG4gIG5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50czogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHM6IG51bWJlciA9IE5hTjtcbiAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIHB1YmxpYyBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApIHtcbiAgICBzdXBlcihlbGVtZW50KTtcbiAgICB0aGlzLmxhc3QgPSBlbGVtZW50Lmxhc3RDaGlsZDtcbiAgICB0aGlzLnZpZXdEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcih0aGlzKTtcbiAgfVxuXG4gIGdldFRvcEVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuc3RhcnRFZGdlIDogdGhpcy5iZWZvcmVFZGdlO1xuICB9XG5cbiAgZ2V0Qm90dG9tRWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5lbmRFZGdlIDogdGhpcy5hZnRlckVkZ2U7XG4gIH1cblxuICBnZXRMZWZ0RWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5hZnRlckVkZ2UgOiB0aGlzLnN0YXJ0RWRnZTtcbiAgfVxuXG4gIGdldFJpZ2h0RWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5iZWZvcmVFZGdlIDogdGhpcy5lbmRFZGdlO1xuICB9XG5cbiAgaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5vZGVDb250ZXh0LmZsb2F0U2lkZSAmJiAoIXRoaXMuaXNGbG9hdCB8fCAhIW5vZGVDb250ZXh0LnBhcmVudCk7XG4gIH1cblxuICBzdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wQXRPdmVyZmxvdyAmJiAhIW5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0Lm92ZXJmbG93O1xuICB9XG5cbiAgaXNPdmVyZmxvd24oZWRnZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiBlZGdlIDwgdGhpcy5mb290bm90ZUVkZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlZGdlID4gdGhpcy5mb290bm90ZUVkZ2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSB7XG4gICAgY29uc3QgcGFnZUZsb2F0RXhjbHVzaW9ucyA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpO1xuICAgIHJldHVybiB0aGlzLmV4Y2x1c2lvbnMuY29uY2F0KHBhZ2VGbG9hdEV4Y2x1c2lvbnMpO1xuICB9XG5cbiAgb3BlbkFsbFZpZXdzKHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJvcGVuQWxsVmlld3NcIik7XG4gICAgY29uc3Qgc3RlcHMgPSBwb3NpdGlvbi5zdGVwcztcbiAgICBzZWxmLmxheW91dENvbnRleHQuc2V0Vmlld1Jvb3Qoc2VsZi5lbGVtZW50LCBzZWxmLmlzRm9vdG5vdGUpO1xuICAgIGxldCBzdGVwSW5kZXggPSBzdGVwcy5sZW5ndGggLSAxO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIHdoaWxlIChzdGVwSW5kZXggPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHByZXZDb250ZXh0ID0gbm9kZUNvbnRleHQ7XG4gICAgICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzW3N0ZXBJbmRleF07XG4gICAgICAgICAgbm9kZUNvbnRleHQgPSBWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgICAgICAgICBzdGVwLFxuICAgICAgICAgICAgcHJldkNvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGVwSW5kZXggPT09IHN0ZXBzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICFub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgPSBzZWxmLmZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGVwSW5kZXggPT0gMCkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID0gc2VsZi5jYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChcbiAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuYWZ0ZXIgPSBwb3NpdGlvbi5hZnRlcjtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LnByZXByb2Nlc3NlZFRleHRDb250ZW50ID1cbiAgICAgICAgICAgICAgcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHIgPSBzZWxmLmxheW91dENvbnRleHQuc2V0Q3VycmVudChcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgc3RlcEluZGV4ID09IDAgJiYgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID09IDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzdGVwSW5kZXgtLTtcbiAgICAgICAgICBpZiAoci5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dCk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnRcbiAgICAgID8gRGlmZi5yZXNvbHZlTmV3SW5kZXgoXG4gICAgICAgICAgcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgICAgICAgcG9zaXRpb24ub2Zmc2V0SW5Ob2RlLFxuICAgICAgICApXG4gICAgICA6IHBvc2l0aW9uLm9mZnNldEluTm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY291bnQgZmlyc3QtWFhYIG5lc3RpbmcgaWRlbnRpZmllclxuICAgKi9cbiAgbWF5YmVQZWVsT2ZmKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb3VudDogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChcbiAgICAgIHBvc2l0aW9uLmZpcnN0UHNldWRvICYmXG4gICAgICBwb3NpdGlvbi5pbmxpbmUgJiZcbiAgICAgICFwb3NpdGlvbi5hZnRlciAmJlxuICAgICAgcG9zaXRpb24uZmlyc3RQc2V1ZG8uY291bnQgPT0gMFxuICAgICkge1xuICAgICAgLy8gZmlyc3QgY2hhclxuICAgICAgaWYgKHBvc2l0aW9uLnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHBvc2l0aW9uLnZpZXdOb2RlLnRleHRDb250ZW50O1xuICAgICAgICBjb25zdCByID0gdGV4dC5tYXRjaChmaXJzdENoYXJQYXR0ZXJuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0Q29udGV4dC5wZWVsT2ZmKHBvc2l0aW9uLCByWzBdLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChwb3NpdGlvbikgYXMgVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgdmlldyB1bnRpbCBhIENTUyBib3ggZWRnZSBpcyByZWFjaGVkLlxuICAgKiBAcGFyYW0gcG9zaXRpb24gc3RhcnQgc291cmNlIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgdG8gYXBwZW5kIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICovXG4gIGJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHZpb2xhdGVDb25zdHJhaW50ID0gZmFsc2U7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlXCIsXG4gICAgKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGJvZHlGcmFtZSkgPT4ge1xuICAgICAgICBpZiAocG9zaXRpb24udmlld05vZGUgJiYgIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChwb3NpdGlvbikpIHtcbiAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uLmNvcHkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXliZVBlZWxPZmYocG9zaXRpb24sIDApLnRoZW4oKHBvc2l0aW9uMVBhcmFtKSA9PiB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24xID0gcG9zaXRpb24xUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uMSAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgaWYgKCFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgIGNoZWNrUG9pbnRzLnB1c2gocG9zaXRpb24uY29weSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5uZXh0SW5UcmVlKHBvc2l0aW9uKS50aGVuKChwb3NpdGlvblBhcmFtKSA9PiB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIEV4aXQgdGhlIGxvb3BcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHZpb2xhdGVDb25zdHJhaW50IHx8XG4gICAgICAgICAgICAgICFzZWxmLmxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQocG9zaXRpb24pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmlvbGF0ZUNvbnN0cmFpbnQgPSB0cnVlO1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLm1vZGlmeSgpO1xuICAgICAgICAgICAgICBwb3NpdGlvbi5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0Zsb2F0Tm9kZUNvbnRleHQocG9zaXRpb24pICYmICFzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIHNlbGYubGF5b3V0RmxvYXRPckZvb3Rub3RlKHBvc2l0aW9uKS50aGVuKChwb3NpdGlvblBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvblBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBvc2l0aW9uLmlubGluZSkge1xuICAgICAgICAgICAgICAvLyBFeGl0IHRoZSBsb29wXG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBsb29wXG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2gocG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbmV4dEluVHJlZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBjb250ID0gdGhpcy5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUocG9zaXRpb24sIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgcmV0dXJuIHByb2Nlc3NBZnRlcklmQ29udGludWVzKGNvbnQsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgdmlldyBmb3IgYSBzaW5nbGUgdW5icmVha2FibGUgZWxlbWVudC5cbiAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICovXG4gIGJ1aWxkRGVlcEVsZW1lbnRWaWV3KFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoIXBvc2l0aW9uLnZpZXdOb2RlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocG9zaXRpb24pO1xuICAgIH1cbiAgICBsZXQgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBjb25zdCBzb3VyY2VOb2RlID0gcG9zaXRpb24uc291cmNlTm9kZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJidWlsZERlZXBFbGVtZW50Vmlld1wiLFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBlbmQgdGhlIGxvb3AgYmFzZWQgb24gZGVwdGgsIG5vdCBzb3VyY2VOb2RlIGNvbXBhcmlzb25cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGJvZHlGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zaXRpb24udmlld05vZGUgJiZcbiAgICAgICAgICBwb3NpdGlvbi5pbmxpbmUgJiZcbiAgICAgICAgICAhTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uLmNvcHkoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYucG9zdExheW91dEJsb2NrKHBvc2l0aW9uLCBjaGVja1BvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrUG9pbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXliZVBlZWxPZmYocG9zaXRpb24sIDApLnRoZW4oKHBvc2l0aW9uMVBhcmFtKSA9PiB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24xID0gcG9zaXRpb24xUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uMSAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgIGxldCBwID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgd2hpbGUgKHAgJiYgcC5zb3VyY2VOb2RlICE9IHNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgICAgcCA9IHAucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHAgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBvdXRzaWRlIG9mIHRoZSBzdWJ0cmVlXG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uMSkpIHtcbiAgICAgICAgICAgICAgY2hlY2tQb2ludHMucHVzaChwb3NpdGlvbjEuY29weSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5uZXh0SW5UcmVlKHBvc2l0aW9uMSkudGhlbigocG9zaXRpb25QYXJhbSkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvblBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbiB8fCBwb3NpdGlvbi5zb3VyY2VOb2RlID09IHNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLm1vZGlmeSgpO1xuICAgICAgICAgICAgICBwb3NpdGlvbi5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgIGlmIChzZWxmLnN0b3BBdE92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2VsZi5wb3N0TGF5b3V0QmxvY2socG9zaXRpb24sIGNoZWNrUG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNpbmdsZSBmbG9hdGluZyBlbGVtZW50IChmb3IgZXhjbHVzaW9uIGFyZWFzKS5cbiAgICogQHBhcmFtIHJlZiBjb250YWluZXIncyBjaGlsZCB0byBpbnNlcnQgZmxvYXQgYmVmb3JlIChjYW4gYmUgbnVsbCkuXG4gICAqIEBwYXJhbSBzaWRlIGZsb2F0IHNpZGUgKFwibGVmdFwiIG9yIFwicmlnaHRcIikuXG4gICAqIEBwYXJhbSB3aWR0aCBmbG9hdCBpbmxpbmUgZGltZW5zaW9uLlxuICAgKiBAcGFyYW0gaGVpZ2h0IGZsb2F0IGJveCBwcm9ncmVzc2lvbiBkaW1lbnNpb24uXG4gICAqIEByZXR1cm4gbmV3bHkgY3JlYXRlZCBmbG9hdCBlbGVtZW50LlxuICAgKi9cbiAgY3JlYXRlRmxvYXQocmVmOiBOb2RlLCBzaWRlOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogRWxlbWVudCB7XG4gICAgY29uc3QgZGl2ID0gdGhpcy52aWV3RG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgaWYgKGhlaWdodCA+PSB0aGlzLmhlaWdodCkge1xuICAgICAgICBoZWlnaHQgLT0gMC4xO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiaGVpZ2h0XCIsIGAke3dpZHRofXB4YCk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJ3aWR0aFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdpZHRoID49IHRoaXMud2lkdGgpIHtcbiAgICAgICAgd2lkdGggLT0gMC4xO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICB9XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiZmxvYXRcIiwgc2lkZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiY2xlYXJcIiwgc2lkZSk7XG5cbiAgICAvLyBlbmFibGUgdG8gdmlzdWFsaXplXG4gICAgLy8gQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiM1MEYwRkZcIik7XG4gICAgdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShkaXYsIHJlZik7XG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHRoZSBleGNsdXNpb24gZmxvYXRzLlxuICAgKi9cbiAga2lsbEZsb2F0cygpOiB2b2lkIHtcbiAgICBsZXQgYzogTm9kZSA9IHRoaXMuZWxlbWVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjKSB7XG4gICAgICBjb25zdCBuYyA9IGMubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoYy5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIGNvbnN0IGUgPSBjIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBmID0gZS5zdHlsZS5jc3NGbG9hdDtcbiAgICAgICAgaWYgKGYgPT0gXCJsZWZ0XCIgfHwgZiA9PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGMgPSBuYztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGV4Y2x1c2lvbiBmbG9hdHMgZm9yIGEgY29sdW1uLlxuICAgKi9cbiAgY3JlYXRlRmxvYXRzKCk6IHZvaWQge1xuICAgIGNvbnN0IHJlZiA9IHRoaXMuZWxlbWVudC5maXJzdENoaWxkO1xuICAgIGNvbnN0IGJhbmRzID0gdGhpcy5iYW5kcztcbiAgICBjb25zdCB4MSA9IHRoaXMudmVydGljYWwgPyB0aGlzLmdldFRvcEVkZ2UoKSA6IHRoaXMuZ2V0TGVmdEVkZ2UoKTtcbiAgICBjb25zdCB4MiA9IHRoaXMudmVydGljYWwgPyB0aGlzLmdldEJvdHRvbUVkZ2UoKSA6IHRoaXMuZ2V0UmlnaHRFZGdlKCk7XG4gICAgZm9yIChjb25zdCBiYW5kIG9mIGJhbmRzKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBiYW5kLnkyIC0gYmFuZC55MTtcbiAgICAgIGJhbmQubGVmdCA9IHRoaXMuY3JlYXRlRmxvYXQocmVmLCBcImxlZnRcIiwgYmFuZC54MSAtIHgxLCBoZWlnaHQpO1xuICAgICAgYmFuZC5yaWdodCA9IHRoaXMuY3JlYXRlRmxvYXQocmVmLCBcInJpZ2h0XCIsIHgyIC0gYmFuZC54MiwgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vZGVDb250ZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSBibG9ja1xuICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgcG9zc2libGUgYnJlYWtpbmcgcG9pbnRzLlxuICAgKiBAcGFyYW0gaW5kZXggaW5kZXggb2YgdGhlIGJyZWFraW5nIHBvaW50XG4gICAqIEBwYXJhbSBib3hPZmZzZXQgYm94IG9mZnNldFxuICAgKiBAcmV0dXJuIGVkZ2UgcG9zaXRpb25cbiAgICovXG4gIGNhbGN1bGF0ZUVkZ2UoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgYm94T2Zmc2V0OiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgbGV0IGVkZ2U6IG51bWJlcjtcbiAgICBpZiAobm9kZUNvbnRleHQgJiYgTGF5b3V0SGVscGVyLmlzT3JwaGFuKG5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9IGVsc2UgaWYgKG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0LmFmdGVyICYmICFub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgIGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIGlmICghaXNOYU4oZWRnZSkpIHtcbiAgICAgICAgcmV0dXJuIGVkZ2U7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGVDb250ZXh0ID0gY2hlY2tQb2ludHNbaW5kZXhdO1xuICAgIGxldCBvZmZzZXQgPSBib3hPZmZzZXQgLSBub2RlQ29udGV4dC5ib3hPZmZzZXQ7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICApO1xuICAgICAgaWYgKCFpc05hTihlZGdlKSkge1xuICAgICAgICByZXR1cm4gZWRnZTtcbiAgICAgIH1cbiAgICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICAgIG9mZnNldC0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4LS07XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlZm9yZUVkZ2U7XG4gICAgICB9XG4gICAgICBub2RlQ29udGV4dCA9IGNoZWNrUG9pbnRzW2luZGV4XTtcbiAgICAgIGlmIChub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIG9mZnNldCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgQ1NTIGNvbXB1dGVkIGxlbmd0aCAoaW4gcGl4ZWxzKVxuICAgKiBAcGFyYW0gdmFsIENTUyBsZW5ndGggaW4gXCJweFwiIHVuaXRzIG9yIGEgbnVtYmVyLlxuICAgKiBAcmV0dXJuIHZhbHVlIGluIHBpeGVscyBvciAwIGlmIG5vdCBwYXJzYWJsZVxuICAgKi9cbiAgcGFyc2VDb21wdXRlZExlbmd0aCh2YWw6IHN0cmluZyB8IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgY29uc3QgciA9IHZhbC5tYXRjaCgvXigtP1swLTldKihcXC5bMC05XSopPylweCQvKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoclswXSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgbWFyZ2luLlxuICAgKi9cbiAgZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHMge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgaW5zZXRzID0gbmV3IEdlb21ldHJ5VXRpbC5JbnNldHMoMCwgMCwgMCwgMCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBpbnNldHMubGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgICAgIGluc2V0cy50b3AgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5SaWdodCk7XG4gICAgICBpbnNldHMuYm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIHBhZGRpbmcgKyBib3JkZXJzLlxuICAgKi9cbiAgZ2V0Q29tcHV0ZWRQYWRkaW5nQm9yZGVyKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGluc2V0cyA9IG5ldyBHZW9tZXRyeVV0aWwuSW5zZXRzKDAsIDAsIDAsIDApO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaW5zZXRzLmxlZnQgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICBpbnNldHMudG9wID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgaW5zZXRzLmJvdHRvbSA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMobWFyZ2lucyArIGJvcmRlciArIHBhZGRpbmcgb3IgbWFyZ2lucyA6XG4gICAqIGRlcGVuZHMgb24gYm94LXNpemluZylcbiAgICovXG4gIGdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGluc2V0cyA9IG5ldyBHZW9tZXRyeVV0aWwuSW5zZXRzKDAsIDAsIDAsIDApO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaWYgKHN0eWxlLmJveFNpemluZyA9PSBcImJvcmRlci1ib3hcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGluc2V0cy5sZWZ0ID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkxlZnQpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgaW5zZXRzLnRvcCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Ub3ApICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5SaWdodCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgIGluc2V0cy5ib3R0b20gPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luQm90dG9tKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGVsZW1lbnQncyBjb21wdXRlZCBDU1MgaW5zZXRzIHRvIENvbHVtbiBDb250YWluZXJcbiAgICovXG4gIHNldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQsIGNvbnRhaW5lcjogQ29sdW1uKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5MZWZ0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkxlZnQpO1xuICAgICAgY29udGFpbmVyLmJvcmRlckxlZnQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICBjb250YWluZXIubWFyZ2luVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblRvcCk7XG4gICAgICBjb250YWluZXIuYm9yZGVyVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgY29udGFpbmVyLm1hcmdpblJpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJSaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nUmlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5Cb3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luQm90dG9tKTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJCb3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoXG4gICAgICAgIHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoLFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nQm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZWxlbWVudCdzIGNvbXB1dGVkIHdpZHRoIGFuZCBoZWlnaHQgdG8gQ29sdW1uIENvbnRhaW5lclxuICAgKi9cbiAgc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbikge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBjb250YWluZXIud2lkdGggPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUud2lkdGgpO1xuICAgICAgY29udGFpbmVyLmhlaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5oZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgYSBzaW5nbGUgdW5icmVha2FibGUgZWxlbWVudC5cbiAgICovXG4gIGxheW91dFVuYnJlYWthYmxlKFxuICAgIG5vZGVDb250ZXh0SW46IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0SW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIExheW91dCBhIHNpbmdsZSBmbG9hdCBlbGVtZW50LlxuICAgKi9cbiAgbGF5b3V0RmxvYXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0RmxvYXRcIik7XG4gICAgY29uc3QgZWxlbWVudCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgZmxvYXRTaWRlID0gbm9kZUNvbnRleHQuZmxvYXRTaWRlIGFzIHN0cmluZztcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZmxvYXRcIiwgXCJub25lXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcInRvcFwiKTtcbiAgICBzZWxmLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0KS50aGVuKChub2RlQ29udGV4dEFmdGVyKSA9PiB7XG4gICAgICBjb25zdCBmbG9hdEJCb3ggPSBzZWxmLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICAgIGNvbnN0IG1hcmdpbiA9IHNlbGYuZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gICAgICBsZXQgZmxvYXRCb3ggPSBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICAgIGZsb2F0QkJveC5sZWZ0IC0gbWFyZ2luLmxlZnQsXG4gICAgICAgIGZsb2F0QkJveC50b3AgLSBtYXJnaW4udG9wLFxuICAgICAgICBmbG9hdEJCb3gucmlnaHQgKyBtYXJnaW4ucmlnaHQsXG4gICAgICAgIGZsb2F0QkJveC5ib3R0b20gKyBtYXJnaW4uYm90dG9tLFxuICAgICAgKTtcbiAgICAgIGxldCB4MSA9IHNlbGYuc3RhcnRFZGdlO1xuICAgICAgbGV0IHgyID0gc2VsZi5lbmRFZGdlO1xuICAgICAgbGV0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LmlubGluZSkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBQb3NpdGlvbiBpdCBhdCB0aGUgcGFyZW50IGVsZW1lbnQncyBlZGdlLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGdldCB0aGUgZWRnZSBvZiB0aGUgcGFyZW50J3MgY29udGVudCBhcmVhLCBjYWxsaW5nXG4gICAgICAgIC8vIGdldEVsZW1lbnRDbGllbnRSZWN0IHdpbGwgYWxzbyBnaXZlIHVzIGJvcmRlcnMuIEF2b2lkIGl0IGJ5IGNyZWF0aW5nXG4gICAgICAgIC8vIGEgdGVtcG9yYXJ5IGVsZW1lbnQgYW5kIHVzaW5nIGl0IGZvciBtZWFzdXJtZW50LlxuICAgICAgICBjb25zdCBwcm9iZSA9IHBhcmVudC52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHByb2JlLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICBwcm9iZS5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgIHByb2JlLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gICAgICAgICAgcHJvYmUuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2JlLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC52aWV3Tm9kZS5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgICAgIGNvbnN0IHBhcmVudEJveCA9IHNlbGYuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICAgICAgeDEgPSBNYXRoLm1heChzZWxmLmdldFN0YXJ0RWRnZShwYXJlbnRCb3gpLCB4MSk7XG4gICAgICAgIHgyID0gTWF0aC5taW4oc2VsZi5nZXRFbmRFZGdlKHBhcmVudEJveCksIHgyKTtcbiAgICAgICAgcGFyZW50LnZpZXdOb2RlLnJlbW92ZUNoaWxkKHByb2JlKTtcbiAgICAgICAgY29uc3QgZmxvYXRCb3hNZWFzdXJlID0gc2VsZi52ZXJ0aWNhbFxuICAgICAgICAgID8gZmxvYXRCb3gueTIgLSBmbG9hdEJveC55MVxuICAgICAgICAgIDogZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgICAgICAgaWYgKGZsb2F0U2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIHgyID0gTWF0aC5tYXgoeDIsIHgxICsgZmxvYXRCb3hNZWFzdXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4MSA9IE1hdGgubWluKHgxLCB4MiAtIGZsb2F0Qm94TWVhc3VyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIHRoZSBmbG9hdCBiZWxvdyB0aGUgYmxvY2sgcGFyZW50LlxuICAgICAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSBmbG9hdCBpcyBhdHRhY2hlZCB0byBhbiBpbmxpbmUgYm94IHdpdGggJ3Bvc2l0aW9uOlxuICAgICAgICAvLyByZWxhdGl2ZScsIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyBvZiB0aGUgZmxvYXQgZ2V0cyBicm9rZW4sIHNpbmNlXG4gICAgICAgIC8vIHRoZSBpbmxpbmUgcGFyZW50IGNhbiBiZSBwdXNoZWQgaG9yaXpvbnRhbGx5IGJ5IGV4Y2x1c2lvbiBmbG9hdHNcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIGxheW91dCBvZiB0aGUgZmxvYXQgaXMgZG9uZS5cbiAgICAgICAgcGFyZW50LnZpZXdOb2RlLmFwcGVuZENoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gYm94IGlzIHJvdGF0ZWQgZm9yIHZlcnRpY2FsIG9yaWVudGF0aW9uXG4gICAgICBsZXQgYm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgICB4MSxcbiAgICAgICAgc2VsZi5nZXRCb3hEaXIoKSAqIHNlbGYuYmVmb3JlRWRnZSxcbiAgICAgICAgeDIsXG4gICAgICAgIHNlbGYuZ2V0Qm94RGlyKCkgKiBzZWxmLmFmdGVyRWRnZSxcbiAgICAgICk7XG4gICAgICBsZXQgZmxvYXRIb3JCb3ggPSBmbG9hdEJveDtcbiAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgIGZsb2F0SG9yQm94ID0gR2VvbWV0cnlVdGlsLnJvdGF0ZUJveChmbG9hdEJveCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkaXIgPSBzZWxmLmdldEJveERpcigpO1xuICAgICAgaWYgKGZsb2F0SG9yQm94LnkxIDwgc2VsZi5ib3R0b21tb3N0RmxvYXRUb3AgKiBkaXIpIHtcbiAgICAgICAgY29uc3QgYm94RXh0ZW50ID0gZmxvYXRIb3JCb3gueTIgLSBmbG9hdEhvckJveC55MTtcbiAgICAgICAgZmxvYXRIb3JCb3gueTEgPSBzZWxmLmJvdHRvbW1vc3RGbG9hdFRvcCAqIGRpcjtcbiAgICAgICAgZmxvYXRIb3JCb3gueTIgPSBmbG9hdEhvckJveC55MSArIGJveEV4dGVudDtcbiAgICAgIH1cbiAgICAgIEdlb21ldHJ5VXRpbC5wb3NpdGlvbkZsb2F0KGJveCwgc2VsZi5iYW5kcywgZmxvYXRIb3JCb3gsIGZsb2F0U2lkZSk7XG4gICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICBmbG9hdEJveCA9IEdlb21ldHJ5VXRpbC51bnJvdGF0ZUJveChmbG9hdEhvckJveCk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnNldHMgPSBzZWxmLmdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQpO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXCJ3aWR0aFwiLFxuICAgICAgICBgJHtmbG9hdEJveC54MiAtIGZsb2F0Qm94LngxIC0gaW5zZXRzLmxlZnQgLSBpbnNldHMucmlnaHR9cHhgLFxuICAgICAgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICAgIGAke2Zsb2F0Qm94LnkyIC0gZmxvYXRCb3gueTEgLSBpbnNldHMudG9wIC0gaW5zZXRzLmJvdHRvbX1weGAsXG4gICAgICApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5kaXNwbGF5KTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIG5vZGVDb250ZXh0LmRpc3BsYXkpO1xuICAgICAgbGV0IG9mZnNldHM7XG4gICAgICBsZXQgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gcGFyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gcGFyZW50LmdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICBjb25zdCBwcm9iZSA9IGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICApO1xuICAgICAgICBwcm9iZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZlcnRpY2FsKSB7XG4gICAgICAgICAgcHJvYmUuc3R5bGUucmlnaHQgPSBcIjBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvYmUuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZpZXdOb2RlLmFwcGVuZENoaWxkKHByb2JlKTtcbiAgICAgICAgb2Zmc2V0cyA9IHNlbGYuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmlld05vZGUucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgICBsZWZ0OiBzZWxmLmdldExlZnRFZGdlKCkgLSBzZWxmLnBhZGRpbmdMZWZ0LFxuICAgICAgICAgIHJpZ2h0OiBzZWxmLmdldFJpZ2h0RWRnZSgpICsgc2VsZi5wYWRkaW5nUmlnaHQsXG4gICAgICAgICAgdG9wOiBzZWxmLmdldFRvcEVkZ2UoKSAtIHNlbGYucGFkZGluZ1RvcCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGVcbiAgICAgICAgICA/IGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZlcnRpY2FsXG4gICAgICAgICAgOiBzZWxmLnZlcnRpY2FsXG4gICAgICApIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIFwicmlnaHRcIixcbiAgICAgICAgICBgJHtvZmZzZXRzLnJpZ2h0IC0gZmxvYXRCb3gueDJ9cHhgLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImxlZnRcIiwgYCR7ZmxvYXRCb3gueDEgLSBvZmZzZXRzLmxlZnR9cHhgKTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ0b3BcIiwgYCR7ZmxvYXRCb3gueTEgLSBvZmZzZXRzLnRvcH1weGApO1xuICAgICAgaWYgKG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyKSB7XG4gICAgICAgIG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQuY2xlYXJTcGFjZXIpO1xuICAgICAgICBub2RlQ29udGV4dC5jbGVhclNwYWNlciA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBmbG9hdEJveEVkZ2UgPSBzZWxmLnZlcnRpY2FsID8gZmxvYXRCb3gueDEgOiBmbG9hdEJveC55MjtcbiAgICAgIGNvbnN0IGZsb2F0Qm94VG9wID0gc2VsZi52ZXJ0aWNhbCA/IGZsb2F0Qm94LngyIDogZmxvYXRCb3gueTE7XG5cbiAgICAgIC8vIFRPRE86IHN1YnRyYWN0IGFmdGVyIG1hcmdpbiB3aGVuIGRldGVybWluaW5nIG92ZXJmbG93LlxuICAgICAgaWYgKCFzZWxmLmlzT3ZlcmZsb3duKGZsb2F0Qm94RWRnZSkgfHwgc2VsZi5icmVha1Bvc2l0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAvLyBubyBvdmVyZmxvd1xuICAgICAgICBzZWxmLmtpbGxGbG9hdHMoKTtcbiAgICAgICAgYm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgICAgIHNlbGYuZ2V0TGVmdEVkZ2UoKSxcbiAgICAgICAgICBzZWxmLmdldFRvcEVkZ2UoKSxcbiAgICAgICAgICBzZWxmLmdldFJpZ2h0RWRnZSgpLFxuICAgICAgICAgIHNlbGYuZ2V0Qm90dG9tRWRnZSgpLFxuICAgICAgICApO1xuICAgICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgIGJveCA9IEdlb21ldHJ5VXRpbC5yb3RhdGVCb3goYm94KTtcbiAgICAgICAgfVxuICAgICAgICBHZW9tZXRyeVV0aWwuYWRkRmxvYXRUb0JhbmRzKFxuICAgICAgICAgIGJveCxcbiAgICAgICAgICBzZWxmLmJhbmRzLFxuICAgICAgICAgIGZsb2F0SG9yQm94LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICApO1xuICAgICAgICBzZWxmLmNyZWF0ZUZsb2F0cygpO1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09IFwibGVmdFwiKSB7XG4gICAgICAgICAgc2VsZi5sZWZ0RmxvYXRFZGdlID0gZmxvYXRCb3hFZGdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYucmlnaHRGbG9hdEVkZ2UgPSBmbG9hdEJveEVkZ2U7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5ib3R0b21tb3N0RmxvYXRUb3AgPSBmbG9hdEJveFRvcDtcbiAgICAgICAgc2VsZi51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGZsb2F0Qm94RWRnZSk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzZXR1cEZsb2F0QXJlYShcbiAgICBhcmVhOiBQYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGZsb2F0Q29udGFpbmVyID0gZmxvYXRMYXlvdXRDb250ZXh0LmdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZSk7XG4gICAgY29uc3QgZWxlbWVudCA9IGFyZWEuZWxlbWVudDtcbiAgICBmbG9hdENvbnRhaW5lci5lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgYXJlYS5pc0Zsb2F0ID0gdHJ1ZTtcbiAgICBhcmVhLm9yaWdpblggPSBmbG9hdENvbnRhaW5lci5vcmlnaW5YO1xuICAgIGFyZWEub3JpZ2luWSA9IGZsb2F0Q29udGFpbmVyLm9yaWdpblk7XG4gICAgYXJlYS52ZXJ0aWNhbCA9IGZsb2F0Q29udGFpbmVyLnZlcnRpY2FsO1xuICAgIGFyZWEubWFyZ2luTGVmdCA9IGFyZWEubWFyZ2luUmlnaHQgPSBhcmVhLm1hcmdpblRvcCA9IGFyZWEubWFyZ2luQm90dG9tID0gMDtcbiAgICBhcmVhLmJvcmRlckxlZnQgPSBhcmVhLmJvcmRlclJpZ2h0ID0gYXJlYS5ib3JkZXJUb3AgPSBhcmVhLmJvcmRlckJvdHRvbSA9IDA7XG4gICAgYXJlYS5wYWRkaW5nTGVmdCA9IGFyZWEucGFkZGluZ1JpZ2h0ID0gYXJlYS5wYWRkaW5nVG9wID0gYXJlYS5wYWRkaW5nQm90dG9tID0gMDtcbiAgICBhcmVhLmV4Y2x1c2lvbnMgPSAoZmxvYXRDb250YWluZXIuZXhjbHVzaW9ucyB8fCBbXSkuY29uY2F0KCk7XG4gICAgYXJlYS5mb3JjZU5vbmZpdHRpbmcgPSAhZmxvYXRMYXlvdXRDb250ZXh0Lmhhc0Zsb2F0RnJhZ21lbnRzKCk7XG4gICAgYXJlYS5pbm5lclNoYXBlID0gbnVsbDtcbiAgICBjb25zdCBjb250YWluaW5nQmxvY2tSZWN0ID0gZmxvYXRDb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBhcmVhLnNldEhvcml6b250YWxQb3NpdGlvbihcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueDEgLSBmbG9hdENvbnRhaW5lci5vcmlnaW5YLFxuICAgICAgY29udGFpbmluZ0Jsb2NrUmVjdC54MiAtIGNvbnRhaW5pbmdCbG9ja1JlY3QueDEsXG4gICAgKTtcbiAgICBhcmVhLnNldFZlcnRpY2FsUG9zaXRpb24oXG4gICAgICBjb250YWluaW5nQmxvY2tSZWN0LnkxIC0gZmxvYXRDb250YWluZXIub3JpZ2luWSxcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueTIgLSBjb250YWluaW5nQmxvY2tSZWN0LnkxLFxuICAgICk7XG4gICAgc3RyYXRlZ3kuYWRqdXN0UGFnZUZsb2F0QXJlYShhcmVhLCBmbG9hdENvbnRhaW5lciwgdGhpcyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgYmFuZHMgZnJvbSB0aGUgZXhjbHVzaW9ucyBiZWZvcmUgc2V0dGluZyBmbG9hdCBhcmVhIGRpbWVuc2lvbnNcbiAgICBhcmVhLmluaXQoKTtcbiAgICBjb25zdCBmaXRXaXRoaW5Db250YWluZXIgPSAhIWZsb2F0TGF5b3V0Q29udGV4dC5zZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgICAgYXJlYSxcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgYW5jaG9yRWRnZSxcbiAgICAgIHRydWUsXG4gICAgICAhZmxvYXRMYXlvdXRDb250ZXh0Lmhhc0Zsb2F0RnJhZ21lbnRzKCksXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBpZiAoZml0V2l0aGluQ29udGFpbmVyKSB7XG4gICAgICAvLyBOZXcgZGltZW5zaW9ucyBoYXZlIGJlZW4gc2V0LCByZW1vdmUgZXhjbHVzaW9uIGZsb2F0cyBhbmQgcmUtaW5pdFxuICAgICAgYXJlYS5raWxsRmxvYXRzKCk7XG4gICAgICBhcmVhLmluaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmxvYXRDb250YWluZXIuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZml0V2l0aGluQ29udGFpbmVyO1xuICB9XG5cbiAgY3JlYXRlUGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQgfCBudWxsLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgKTogUGFnZUZsb2F0QXJlYSB8IG51bGwge1xuICAgIGNvbnN0IGZsb2F0QXJlYUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZmxvYXRBcmVhRWxlbWVudCwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgIGNvbnN0IHBhcmVudFBhZ2VGbG9hdExheW91dENvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBlc3RhYmxpc2ggaG93IHRvIHNwZWNpZnkgYW4gYXBwcm9wcmlhdGUgZ2VuZXJhdGluZyBlbGVtZW50IGZvciB0aGVcbiAgICAvLyBuZXcgcGFnZSBmbG9hdCBsYXlvdXQgY29udGV4dFxuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgbnVsbCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuQ09MVU1OLFxuICAgICAgbnVsbCxcbiAgICAgIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSxcbiAgICAgIGZsb2F0Lm5vZGVQb3NpdGlvbixcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgY29uc3QgcGFyZW50Q29udGFpbmVyID0gcGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRDb250YWluZXIoKTtcbiAgICBjb25zdCBmbG9hdEFyZWEgPSBuZXcgUGFnZUZsb2F0QXJlYShcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGZsb2F0QXJlYUVsZW1lbnQsXG4gICAgICB0aGlzLmxheW91dENvbnRleHQuY2xvbmUoKSxcbiAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgdGhpcy5sYXlvdXRDb25zdHJhaW50LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIHBhcmVudENvbnRhaW5lcixcbiAgICApO1xuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuc2V0Q29udGFpbmVyKGZsb2F0QXJlYSk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zZXR1cEZsb2F0QXJlYShcbiAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICBmbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICBhbmNob3JFZGdlLFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgY29uZGl0aW9uLFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZsb2F0QXJlYTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgbGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGwsXG4gICAgYWxsb3dGcmFnbWVudGVkOiBib29sZWFuLFxuICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgcGFnZUZsb2F0RnJhZ21lbnQ/OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbENvbnRpbnVhdGlvbnMgPSBwYWdlRmxvYXRGcmFnbWVudFxuICAgICAgPyBwYWdlRmxvYXRGcmFnbWVudC5jb250aW51YXRpb25zXG4gICAgICA6IFtdO1xuICAgIGNvbnRpbnVhdGlvbnMgPSBvcmlnaW5hbENvbnRpbnVhdGlvbnMuY29uY2F0KGNvbnRpbnVhdGlvbnMpO1xuICAgIGNvbnN0IGZpcnN0RmxvYXQgPSBjb250aW51YXRpb25zWzBdLmZsb2F0O1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGNvbnRleHQuZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKFxuICAgICAgZmlyc3RGbG9hdCxcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGNsZWFyU2lkZSxcbiAgICApO1xuICAgIGNvbnN0IGZsb2F0QXJlYSA9IHRoaXMuY3JlYXRlUGFnZUZsb2F0QXJlYShcbiAgICAgIGZpcnN0RmxvYXQsXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBhbmNob3JFZGdlLFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdCA9IHtcbiAgICAgIGZsb2F0QXJlYSxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50OiBudWxsLFxuICAgICAgbmV3UG9zaXRpb246IG51bGwsXG4gICAgfTtcbiAgICBpZiAoIWZsb2F0QXJlYSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQ+KFxuICAgICAgXCJsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudFwiLFxuICAgICk7XG4gICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA+PSBjb250aW51YXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYyA9IGNvbnRpbnVhdGlvbnNbaV07XG4gICAgICAgIGNvbnN0IGZsb2F0Q2h1bmtQb3NpdGlvbiA9IG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihjLm5vZGVQb3NpdGlvbik7XG4gICAgICAgIGZsb2F0QXJlYS5sYXlvdXQoZmxvYXRDaHVua1Bvc2l0aW9uLCB0cnVlKS50aGVuKChuZXdQb3NpdGlvbikgPT4ge1xuICAgICAgICAgIHJlc3VsdC5uZXdQb3NpdGlvbiA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICAgIGlmICghbmV3UG9zaXRpb24gfHwgYWxsb3dGcmFnbWVudGVkKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICghZmFpbGVkKSB7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZmxvYXRBcmVhKTtcbiAgICAgICAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gY29udGV4dC5zZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgICAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICAgICAgZmlyc3RGbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICAgIGFuY2hvckVkZ2UsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGFsbG93RnJhZ21lbnRlZCxcbiAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghbG9naWNhbEZsb2F0U2lkZSkge1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJhZ21lbnQgPSBzdHJhdGVneS5jcmVhdGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgICAgICAgICAgY29udGludWF0aW9ucyxcbiAgICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSxcbiAgICAgICAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICAgICAgICAhIXJlc3VsdC5uZXdQb3NpdGlvbixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb250ZXh0LmFkZFBhZ2VGbG9hdEZyYWdtZW50KG5ld0ZyYWdtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIHJlc3VsdC5wYWdlRmxvYXRGcmFnbWVudCA9IG5ld0ZyYWdtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxheW91dFBhZ2VGbG9hdElubmVyKFxuICAgIGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24sXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGZsb2F0ID0gY29udGludWF0aW9uLmZsb2F0O1xuICAgIGNvbnRleHQuc3Rhc2hFbmRGbG9hdEZyYWdtZW50cyhmbG9hdCk7XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxMYXlvdXQoZmxvYXRBcmVhLCBwYWdlRmxvYXRGcmFnbWVudCkge1xuICAgICAgaWYgKHBhZ2VGbG9hdEZyYWdtZW50KSB7XG4gICAgICAgIGNvbnRleHQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQocGFnZUZsb2F0RnJhZ21lbnQsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChmbG9hdEFyZWEpIHtcbiAgICAgICAgZmxvYXRBcmVhLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmbG9hdEFyZWEuZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIGNvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0UGFnZUZsb2F0SW5uZXJcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5sYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIFtjb250aW51YXRpb25dLFxuICAgICAgZmxvYXQuZmxvYXRTaWRlLFxuICAgICAgZmxvYXQuY2xlYXJTaWRlLFxuICAgICAgIWNvbnRleHQuaGFzRmxvYXRGcmFnbWVudHMoKSxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZSxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zdCBmbG9hdEFyZWEgPSByZXN1bHQuZmxvYXRBcmVhO1xuICAgICAgY29uc3QgbmV3RnJhZ21lbnQgPSByZXN1bHQucGFnZUZsb2F0RnJhZ21lbnQ7XG4gICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHJlc3VsdC5uZXdQb3NpdGlvbjtcbiAgICAgIGlmIChuZXdGcmFnbWVudCkge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmxheW91dFN0YXNoZWRQYWdlRmxvYXRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlLCBbcGFnZUZsb2F0RnJhZ21lbnRdKVxuICAgICAgICAgIC50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAvLyBBZGQgYWdhaW4gdG8gaW52YWxpZGF0ZSB0aGUgY29udGV4dFxuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChuZXdGcmFnbWVudCk7XG4gICAgICAgICAgICAgIGNvbnRleHQuYWRkUGFnZUZsb2F0RnJhZ21lbnQobmV3RnJhZ21lbnQpO1xuICAgICAgICAgICAgICBjb250ZXh0LmRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uKFxuICAgICAgICAgICAgICAgICAgZmxvYXQsXG4gICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi5wcmltYXJ5LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbmNlbExheW91dChmbG9hdEFyZWEsIG5ld0ZyYWdtZW50KTtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbmNlbExheW91dChmbG9hdEFyZWEsIG5ld0ZyYWdtZW50KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgUmVwcmVzZW50cyBpZiB0aGUgbGF5b3V0IHdhcyBzdWNjZWVkZWQgb3Igbm90XG4gICAqL1xuICBwcml2YXRlIGxheW91dFN0YXNoZWRQYWdlRmxvYXRzKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGV4Y2x1ZGVkOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50W10sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IHN0YXNoZWRGbG9hdEZyYWdtZW50cyA9IGNvbnRleHQuZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgICBjb25zdCBuZXdGbG9hdEFyZWFzID0gW107XG4gICAgY29uc3QgbmV3RnJhZ21lbnRzID0gW107XG4gICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcImxheW91dFN0YXNoZWRQYWdlRmxvYXRzXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA+PSBzdGFzaGVkRmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFzaGVkRnJhZ21lbnQgPSBzdGFzaGVkRmxvYXRGcmFnbWVudHNbaV07XG4gICAgICAgIGlmIChleGNsdWRlZC5pbmNsdWRlcyhzdGFzaGVkRnJhZ21lbnQpKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5RmxvYXQoXG4gICAgICAgICAgc3Rhc2hlZEZyYWdtZW50LmNvbnRpbnVhdGlvbnNbMF0uZmxvYXQsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVmFsdWUgb2YgJ2NsZWFyJyBpcyBpcnJlbGV2YW50IHdoZW4gbGF5aW5nIG91dCBzdGFzaGVkIGZsb2F0c1xuICAgICAgICAvLyBzaW5jZSB3aGV0aGVyIHRoZSAnY2xlYXInIHZhbHVlIGFsbG93cyBwbGFjaW5nIHRoZSBmbG9hdFxuICAgICAgICAvLyBoZXJlIGlzIGFscmVhZHkgcmVzb2x2ZWQuXG4gICAgICAgIHNlbGZcbiAgICAgICAgICAubGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICAgICAgICBzdGFzaGVkRnJhZ21lbnQuY29udGludWF0aW9ucyxcbiAgICAgICAgICAgIHN0YXNoZWRGcmFnbWVudC5mbG9hdFNpZGUsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJlYSA9IHJlc3VsdC5mbG9hdEFyZWE7XG4gICAgICAgICAgICBpZiAoZmxvYXRBcmVhKSB7XG4gICAgICAgICAgICAgIG5ld0Zsb2F0QXJlYXMucHVzaChmbG9hdEFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSByZXN1bHQucGFnZUZsb2F0RnJhZ21lbnQ7XG4gICAgICAgICAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgbmV3RnJhZ21lbnRzLnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICBuZXdGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZnJhZ21lbnQsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0Zsb2F0QXJlYXMuZm9yRWFjaCgoYXJlYSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGFyZWEuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gZnJhZ21lbnQuYXJlYS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2goIWZhaWxlZCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzZXRGbG9hdEFuY2hvclZpZXdOb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGFuY2hvciA9IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgIGlmIChub2RlQ29udGV4dC5mbG9hdFNpZGUgPT09IFwiZm9vdG5vdGVcIikge1xuICAgICAgLy8gRGVmYXVsdHMgZm9yIGZvb3Rub3RlLWNhbGwsIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHN0eWxlc2hlZXQuXG4gICAgICB0aGlzLmxheW91dENvbnRleHQuYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBcImZvb3Rub3RlLWNhbGxcIixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgKTtcbiAgICB9XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGFuY2hvcik7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICBjb25zdCBub2RlQ29udGV4dEFmdGVyID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgbm9kZUNvbnRleHRBZnRlci5hZnRlciA9IHRydWU7XG4gICAgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSA9IGFuY2hvcjtcbiAgICByZXR1cm4gbm9kZUNvbnRleHRBZnRlcjtcbiAgfVxuXG4gIHJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGNvbHVtblNwYW46IENzcy5WYWwsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhblwiLFxuICAgICkgYXMgVGFzay5GcmFtZTxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPjtcbiAgICBjb25zdCBjb2x1bW5Db250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IHJlZ2lvbkNvbnRleHQgPSBjb2x1bW5Db250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTixcbiAgICApO1xuICAgIGNvbnN0IGlzUmVnaW9uV2lkZXIgPVxuICAgICAgY29sdW1uQ29udGV4dC5nZXRDb250YWluZXIoKS53aWR0aCA8IHJlZ2lvbkNvbnRleHQuZ2V0Q29udGFpbmVyKCkud2lkdGg7XG4gICAgaWYgKGlzUmVnaW9uV2lkZXIgJiYgZmxvYXRSZWZlcmVuY2UgPT09IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuQ09MVU1OKSB7XG4gICAgICBpZiAoY29sdW1uU3BhbiA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgdGhpcy5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dC5jb3B5KCkpLnRoZW4oKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IHBvc2l0aW9uLnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgbGV0IGlubGluZVNpemUgPSBTaXppbmcuZ2V0U2l6ZShzZWxmLmNsaWVudExheW91dCwgZWxlbWVudCwgW1xuICAgICAgICAgICAgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkUsXG4gICAgICAgICAgXSlbU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkVdO1xuICAgICAgICAgIGNvbnN0IG1hcmdpbiA9IHNlbGYuZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gICAgICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgICAgIGlubGluZVNpemUgKz0gbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b207XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlubGluZVNpemUgKz0gbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmxpbmVTaXplID4gc2VsZi53aWR0aCkge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjb2x1bW5TcGFuID09PSBDc3MuaWRlbnQuYWxsKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZS5maW5pc2goZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2goZmxvYXRSZWZlcmVuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsYXlvdXRQYWdlRmxvYXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5Tm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLlBhZ2VGbG9hdD47XG4gICAgY29uc3QgZmxvYXQgPSBjb250ZXh0LmZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCksXG4gICAgKTtcbiAgICBpZiAoIWZsb2F0KSB7XG4gICAgICBjb250ID0gc3RyYXRlZ3kuY3JlYXRlUGFnZUZsb2F0KG5vZGVDb250ZXh0LCBjb250ZXh0LCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KGZsb2F0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnQudGhlbkFzeW5jKChmbG9hdCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgICAgY29uc3Qgbm9kZUNvbnRleHRBZnRlciA9IHNlbGYuc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dCk7XG4gICAgICBjb25zdCBwYWdlRmxvYXRGcmFnbWVudCA9IHN0cmF0ZWd5LmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCwgY29udGV4dCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24oXG4gICAgICAgIGZsb2F0LFxuICAgICAgICBub2RlUG9zaXRpb24sXG4gICAgICApO1xuICAgICAgaWYgKHBhZ2VGbG9hdEZyYWdtZW50ICYmIHBhZ2VGbG9hdEZyYWdtZW50Lmhhc0Zsb2F0KGZsb2F0KSkge1xuICAgICAgICBjb250ZXh0LnJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0LCBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlKTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0QWZ0ZXIgYXMgVnRyZWUuTm9kZUNvbnRleHQpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY29udGV4dC5pc0ZvcmJpZGRlbihmbG9hdCkgfHxcbiAgICAgICAgY29udGV4dC5oYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChmbG9hdClcbiAgICAgICkge1xuICAgICAgICBjb250ZXh0LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgICAgIGNvbnRleHQucmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoZmxvYXQsIG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlciBhcyBWdHJlZS5Ob2RlQ29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgICBub2RlQ29udGV4dEFmdGVyLFxuICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgIDAsXG4gICAgICAgICAgc2VsZi52ZXJ0aWNhbCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlbGYuaXNPdmVyZmxvd24oZWRnZSkpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGZcbiAgICAgICAgICAgIC5sYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICAgICAgICAgICAgY29udGludWF0aW9uLFxuICAgICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgICAgZWRnZSxcbiAgICAgICAgICAgICAgcGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbkFzeW5jKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGZsb2F0KTtcbiAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWdpc3RlclBhZ2VGbG9hdEFuY2hvcihcbiAgICAgICAgICAgICAgICAgIGZsb2F0LFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQoXG4gICAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4gICAgZG9jOiBEb2N1bWVudCxcbiAgICBwYXJlbnROb2RlOiBOb2RlLFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3Qgc3BhbiA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBzcGFuLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHNwYW4uc3R5bGUudmVydGljYWxBbGlnbiA9IFwidG9wXCI7XG4gICAgc3Bhbi5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgIGNvbnN0IGlubmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlubmVyLnN0eWxlLmZvbnRTaXplID0gXCIwXCI7XG4gICAgaW5uZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMFwiO1xuICAgIGlubmVyLnRleHRDb250ZW50ID0gXCIgI1wiO1xuICAgIHNwYW4uYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gICAgLy8gTWVhc3VyZSBpbmxpbmUtc3RhcnQgYW5kIGlubGluZS1lbmQgZWRnZSBwb3NpdGlvbnMgb2YgdGhlIGxpbmUgYm94LFxuICAgIC8vIHRha2luZyAoZXhjbHVzaW9uKSBmbG9hdHMgaW50byBjb25zaWRlcmF0aW9uXG4gICAgc3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHNwYW4uc3R5bGUudGV4dEluZGVudCA9IFwiMFwiO1xuICAgIHNwYW4uc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3BhbiwgaW5zZXJ0aW9uUG9pbnQpO1xuICAgIGNvbnN0IGxlZnRQb3MgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChpbm5lcik7XG4gICAgc3Bhbi5zdHlsZS50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgY29uc3QgcmlnaHRQb3MgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChpbm5lcik7XG4gICAgc3Bhbi5zdHlsZS50ZXh0QWxpZ24gPSBcIlwiO1xuICAgIGlmIChCYXNlLmNoZWNrSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICAvLyBGb3IgQ2hyb21lXG4gICAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3IgRmlyZWZveCwgRWRnZSBhbmQgSUVcbiAgICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcgPSB2ZXJ0aWNhbFxuICAgICAgPyByaWdodFBvcy50b3AgLSBsZWZ0UG9zLnRvcFxuICAgICAgOiByaWdodFBvcy5sZWZ0IC0gbGVmdFBvcy5sZWZ0O1xuICAgIGNvbnN0IHBhZGRpbmdTdHIgPSBwYWRkaW5nID49IDEgPyBgJHtwYWRkaW5nIC0gMX1weGAgOiBcIjEwMCVcIjtcbiAgICBpZiAodmVydGljYWwpIHtcbiAgICAgIHNwYW4uc3R5bGUucGFkZGluZ1RvcCA9IHBhZGRpbmdTdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW4uc3R5bGUucGFkZGluZ0xlZnQgPSBwYWRkaW5nU3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3BhbjtcbiAgfVxuXG4gIGFkZEFuZEFkanVzdEp1c3RpZmljYXRpb25FbGVtZW50KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbnNlcnRBZnRlcjogYm9vbGVhbixcbiAgICBub2RlOiBOb2RlLFxuICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgIGRvYzogRG9jdW1lbnQsXG4gICAgcGFyZW50Tm9kZTogTm9kZSxcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGZpeEp1c3RpZmljYXRpb25Pbkh5cGhlbihub2RlQ29udGV4dCwgaW5zZXJ0QWZ0ZXIsIG5vZGUsIGluc2VydGlvblBvaW50KTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQoXG4gICAgICBpbnNlcnRpb25Qb2ludCxcbiAgICAgIGRvYyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICBub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICApO1xuICB9XG5cbiAgY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KFxuICAgIHNwYW46IEVsZW1lbnQsXG4gICAgYnI6IEVsZW1lbnQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICBjb25zdCBzcGFuUmVjdCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHNwYW4pO1xuICAgIGNvbnN0IGJyUmVjdCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGJyKTtcbiAgICBpZiAobm9kZUNvbnRleHQudmVydGljYWwpIHtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHtcbiAgICAgICAgYnJSZWN0LnJpZ2h0IC0gc3BhblJlY3QucmlnaHRcbiAgICAgIH1weGA7XG4gICAgICAoYnIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgKGJyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5tYXJnaW5Ub3AgPSBgJHtzcGFuUmVjdC50b3AgLSBiclJlY3QudG9wfXB4YDtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICB9XG4gICAgYnIuc2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIsIFwiMVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXgganVzdGlmaWNhdGlvbiBvZiB0aGUgbGFzdCBsaW5lIG9mIHRleHQgYnJva2VuIGFjcm9zcyBwYWdlcyAoaWZcbiAgICogbmVlZGVkKS5cbiAgICovXG4gIGZpeEp1c3RpZmljYXRpb25JZk5lZWRlZChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlciAmJiAhbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbmRPZkNvbHVtbikge1xuICAgICAgbGV0IHRleHRBbGlnbiA9IFwiXCI7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgICBwYXJlbnQgJiYgIXRleHRBbGlnbjtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICAgICAgKSB7XG4gICAgICAgIGlmICghcGFyZW50LmlubGluZSAmJiBwYXJlbnQudmlld05vZGUpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAocGFyZW50LnZpZXdOb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50ZXh0QWxpZ247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0QWxpZ24gIT09IFwianVzdGlmeVwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBpbnNlcnRBZnRlciA9XG4gICAgICBlbmRPZkNvbHVtbiAmJiAobm9kZUNvbnRleHQuYWZ0ZXIgfHwgbm9kZS5ub2RlVHlwZSAhPSAxKTtcbiAgICBsZXQgaW5zZXJ0aW9uUG9pbnQgPSBpbnNlcnRBZnRlciA/IG5vZGUubmV4dFNpYmxpbmcgOiBub2RlO1xuICAgIGlmIChpbnNlcnRpb25Qb2ludCAmJiAhaW5zZXJ0aW9uUG9pbnQucGFyZW50Tm9kZSkge1xuICAgICAgLy8gUG9zc2libGUgaWYgcmVtb3ZlU2VsZiA9IGZhbHNlIGluIGZpbmlzaEJyZWFrKClcbiAgICAgIGluc2VydGlvblBvaW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9XG4gICAgICBub2RlLnBhcmVudE5vZGUgfHwgKG5vZGVDb250ZXh0LnBhcmVudCAmJiBub2RlQ29udGV4dC5wYXJlbnQudmlld05vZGUpO1xuICAgIGlmICghcGFyZW50Tm9kZSkge1xuICAgICAgLy8gUG9zc2libGUgaWYgbm90aGluZyB3YXMgYWRkZWQgdG8gdGhlIGNvbHVtblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzcGFuID0gdGhpcy5hZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgaW5zZXJ0QWZ0ZXIsXG4gICAgICBub2RlLFxuICAgICAgaW5zZXJ0aW9uUG9pbnQsXG4gICAgICBkb2MsXG4gICAgICBwYXJlbnROb2RlLFxuICAgICk7XG4gICAgaWYgKCFlbmRPZkNvbHVtbikge1xuICAgICAgY29uc3QgYnIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJyLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICB0aGlzLmNvbXBlbnNhdGVKdXN0aWZpY2F0aW9uTGluZUhlaWdodChzcGFuLCBiciwgbm9kZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVzTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInByb2Nlc3NMaW5lU3R5bGluZ1wiLFxuICAgICk7XG4gICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzKTtcbiAgICB9XG4gICAgbGV0IGxhc3RDaGVja1BvaW50cyA9IGNoZWNrUG9pbnRzLmNvbmNhdChbXSk7IC8vIG1ha2UgYSBjb3B5XG4gICAgY2hlY2tQb2ludHMuc3BsaWNlKDAsIGNoZWNrUG9pbnRzLmxlbmd0aCk7IC8vIG1ha2UgZW1wdHlcbiAgICBsZXQgdG90YWxMaW5lQ291bnQgPSAwO1xuICAgIGxldCBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvOyAvLyA6Zmlyc3QtbGV0dGVyIGlzIG5vdCBwcm9jZXNzZWQgaGVyZVxuICAgIGlmIChmaXJzdFBzZXVkby5jb3VudCA9PSAwKSB7XG4gICAgICBmaXJzdFBzZXVkbyA9IGZpcnN0UHNldWRvLm91dGVyOyAvLyBtb3ZlIHRvIGxpbmUgcHNldWRvZWxlbWVudCAoaWYgYW55KVxuICAgIH1cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoIWZpcnN0UHNldWRvKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lUG9zaXRpb25zID0gc2VsZi5maW5kTGluZVBvc2l0aW9ucyhsYXN0Q2hlY2tQb2ludHMpO1xuICAgICAgICBjb25zdCBjb3VudCA9IGZpcnN0UHNldWRvLmNvdW50IC0gdG90YWxMaW5lQ291bnQ7XG4gICAgICAgIGlmIChsaW5lUG9zaXRpb25zLmxlbmd0aCA8PSBjb3VudCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZUJyZWFrID0gc2VsZi5maW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgICAgICAgIGxhc3RDaGVja1BvaW50cyxcbiAgICAgICAgICBsaW5lUG9zaXRpb25zW2NvdW50IC0gMV0sXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGxpbmVCcmVhayA9PSBudWxsKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmZpbmlzaEJyZWFrKGxpbmVCcmVhaywgZmFsc2UsIGZhbHNlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0b3RhbExpbmVDb3VudCArPSBjb3VudDtcbiAgICAgICAgICBzZWxmLmxheW91dENvbnRleHRcbiAgICAgICAgICAgIC5wZWVsT2ZmKGxpbmVCcmVhaywgMClcbiAgICAgICAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gcmVzTm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgc2VsZi5maXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgZmlyc3RQc2V1ZG8gPSBub2RlQ29udGV4dC5maXJzdFBzZXVkbztcbiAgICAgICAgICAgICAgbGFzdENoZWNrUG9pbnRzID0gW107IC8vIFdpcGUgb3V0IGxpbmUgYnJlYWtzIGluc2lkZSBwc2V1ZG9lbGVtZW50c1xuICAgICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAgICAgLmJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShub2RlQ29udGV4dCwgbGFzdENoZWNrUG9pbnRzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNOb2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjaGVja1BvaW50cywgbGFzdENoZWNrUG9pbnRzKTtcbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGVja1BvaW50cyhjaGVja1BvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc05vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGlzTG9uZUltYWdlKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogYm9vbGVhbiB7XG4gICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCAhPSAyICYmIHRoaXMuYnJlYWtQb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2tQb2ludHNbMF0uc291cmNlTm9kZSA9PSBjaGVja1BvaW50c1sxXS5zb3VyY2VOb2RlICYmXG4gICAgICBtZWRpYVRhZ3NbKGNoZWNrUG9pbnRzWzBdLnNvdXJjZU5vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lXVxuICAgICk7XG4gIH1cblxuICBnZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50KFxuICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBudW1iZXIge1xuICAgIC8vIE1hcmdpbnMgcHVzaCB0aGUgY29tcHV0ZWQgaGVpZ2h0LCBidXQgYXJlIG5vdCBjb3VudGVkIGFzIG92ZXJmbG93LiBXZVxuICAgIC8vIG5lZWQgdG8gZmluZCB0aGUgb3ZlcmFsbCBjb2xsYXBzZWQgbWFyZ2luIGZyb20gYWxsIGVuY2xvc2VkIGJsb2Nrcy5cbiAgICBsZXQgbWF4UG9zID0gMDtcbiAgICBsZXQgbWluTmVnID0gMDtcbiAgICBmb3IgKGxldCBpID0gdHJhaWxpbmdFZGdlQ29udGV4dHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gdHJhaWxpbmdFZGdlQ29udGV4dHNbaV07XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlciB8fFxuICAgICAgICAhbm9kZUNvbnRleHQudmlld05vZGUgfHxcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMVxuICAgICAgKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5nZXRDb21wdXRlZE1hcmdpbihub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIGNvbnN0IG0gPSB0aGlzLnZlcnRpY2FsID8gLW1hcmdpbi5sZWZ0IDogbWFyZ2luLmJvdHRvbTtcbiAgICAgIGlmIChtID4gMCkge1xuICAgICAgICBtYXhQb3MgPSBNYXRoLm1heChtYXhQb3MsIG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluTmVnID0gTWF0aC5taW4obWluTmVnLCBtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heFBvcyAtIG1pbk5lZztcbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgYSBzaW5nbGUgQ1NTIGJveC5cbiAgICovXG4gIGxheW91dEJyZWFrYWJsZUJsb2NrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJsYXlvdXRCcmVha2FibGVCbG9ja1wiLFxuICAgICk7XG4gICAgY29uc3QgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBzZWxmXG4gICAgICAuYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlKG5vZGVDb250ZXh0LCBjaGVja1BvaW50cylcbiAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGEgc2luZ2xlIGJsb2NrIHdhcyBhcHBlbmRlZCB0byB0aGUgY29sdW1uXG4gICAgICAgIC8vIGZsb3dQb3NpdGlvbiBpcyBlaXRoZXIgbnVsbCBvclxuICAgICAgICAvLyAgLSBpZiAhYWZ0ZXI6IGNvbnRhaW5zIHZpZXcgZm9yIHRoZSBuZXh0IGJsb2NrIGVsZW1lbnRcbiAgICAgICAgLy8gIC0gaWYgYWZ0ZXI6IGNvbnRhaW5zIHZpZXcgZm9yIHRoZSBlbmNsb3NpbmcgYmxvY2sgZWxlbWVudFxuICAgICAgICBjb25zdCBjaGVja1BvaW50SW5kZXggPSBjaGVja1BvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoY2hlY2tQb2ludEluZGV4IDwgMCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXNOb2RlQ29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjb3JkIHRoZSBoZWlnaHRcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgZG9uZSBhZnRlciBmaXJzdC1saW5lIGNhbGN1bGF0aW9uP1xuICAgICAgICBsZXQgZWRnZSA9IHNlbGYuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgICByZXNOb2RlQ29udGV4dCxcbiAgICAgICAgICBjaGVja1BvaW50cyxcbiAgICAgICAgICBjaGVja1BvaW50SW5kZXgsXG4gICAgICAgICAgY2hlY2tQb2ludHNbY2hlY2tQb2ludEluZGV4XS5ib3hPZmZzZXQsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBvdmVyZmxvd24gPSBmYWxzZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyZXNOb2RlQ29udGV4dCB8fFxuICAgICAgICAgICFMYXlvdXRIZWxwZXIuaXNPcnBoYW4ocmVzTm9kZUNvbnRleHQudmlld05vZGUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG9mZnNldHMgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgICAgIHJlc05vZGVDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIG92ZXJmbG93biA9IHNlbGYuaXNPdmVyZmxvd24oXG4gICAgICAgICAgICBlZGdlICsgKHNlbGYudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5taW5pbXVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VsZi5pc092ZXJmbG93bihcbiAgICAgICAgICAgICAgZWRnZSArIChzZWxmLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMuY3VycmVudCxcbiAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICFzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50c1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgPSByZXNOb2RlQ29udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc05vZGVDb250ZXh0ID09IG51bGwpIHtcbiAgICAgICAgICBlZGdlICs9IHNlbGYuZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChjaGVja1BvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgICAgICBsZXQgbGluZUNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAgICAgaWYgKG5vZGVDb250ZXh0LmZpcnN0UHNldWRvKSB7XG4gICAgICAgICAgLy8gcG9zc2libHkgbmVlZCB0byBkZWFsIHdpdGggOmZpcnN0LWxpbmUgYW5kIGZyaWVuZHNcbiAgICAgICAgICBsaW5lQ29udCA9IHNlbGYucHJvY2Vzc0xpbmVTdHlsaW5nKFxuICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICByZXNOb2RlQ29udGV4dCxcbiAgICAgICAgICAgIGNoZWNrUG9pbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluZUNvbnQgPSBUYXNrLm5ld1Jlc3VsdChyZXNOb2RlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGluZUNvbnQudGhlbigobm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgICBzZWxmLnBvc3RMYXlvdXRCbG9jayhub2RlQ29udGV4dCwgY2hlY2tQb2ludHMpO1xuICAgICAgICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnNhdmVCb3hCcmVha1Bvc2l0aW9uKGNoZWNrUG9pbnRzKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogaG93IHRvIHNpZ25hbCBvdmVyZmxvdyBpbiB0aGUgbGFzdCBwYWdhcmdhcGg/Pz9cbiAgICAgICAgICAgIGlmIChvdmVyZmxvd24gJiYgIXNlbGYuaXNMb25lSW1hZ2UoY2hlY2tQb2ludHMpICYmIG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwb3N0TGF5b3V0QmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlBvc3RMYXlvdXRCbG9ja0hvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUE9TVF9MQVlPVVRfQkxPQ0ssXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBob29rKG5vZGVDb250ZXh0LCBjaGVja1BvaW50cywgdGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kRW5kT2ZMaW5lKFxuICAgIGxpbmVQb3NpdGlvbjogbnVtYmVyLFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZTogYm9vbGVhbixcbiAgKToge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIGNoZWNrUG9pbnRJbmRleDogbnVtYmVyO1xuICB9IHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHZhbGlkYXRlQ2hlY2tQb2ludHMoY2hlY2tQb2ludHMpO1xuICAgIH1cblxuICAgIC8vIFdvcmthcm91bmQgZm9yIEJsaW5rIG5vdCByZXR1cm5pbmcgY29ycmVjdCBmcmFjdGlvbmFsIHZhbHVlcyBmb3JcbiAgICAvLyBSYW5nZS5nZXRDbGllbnRSZWN0cy5cbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02Mjk4MjhcbiAgICBjb25zdCBlZmZlY3RpdmVMaW5lUG9zaXRpb24gPSB0aGlzLnZlcnRpY2FsXG4gICAgICA/IGxpbmVQb3NpdGlvbiAtIDFcbiAgICAgIDogbGluZVBvc2l0aW9uICsgMTtcblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGNoYXJhY3RlciB3aGljaCBpcyBvdXRcbiAgICBsZXQgbG93Q1AgPSAwO1xuICAgIGxldCBsb3cgPSBjaGVja1BvaW50c1swXS5ib3hPZmZzZXQ7XG4gICAgbGV0IGxvdzEgPSBsb3dDUDtcbiAgICBsZXQgaGlnaENQID0gY2hlY2tQb2ludHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgaGlnaCA9IGNoZWNrUG9pbnRzW2hpZ2hDUF0uYm94T2Zmc2V0O1xuICAgIGxldCBtaWQ6IG51bWJlcjtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgbWlkID0gbG93ICsgTWF0aC5jZWlsKChoaWdoIC0gbG93KSAvIDIpO1xuXG4gICAgICAvLyBmaW5kIHRoZSBub2RlIHdoaWNoIGNvbnRhaW5zIG1pZCBpbmRleFxuICAgICAgbG93MSA9IGxvd0NQO1xuICAgICAgbGV0IGhpZ2gxID0gaGlnaENQO1xuICAgICAgd2hpbGUgKGxvdzEgPCBoaWdoMSkge1xuICAgICAgICBjb25zdCBtaWQxID0gbG93MSArIE1hdGguY2VpbCgoaGlnaDEgLSBsb3cxKSAvIDIpO1xuICAgICAgICBpZiAoY2hlY2tQb2ludHNbbWlkMV0uYm94T2Zmc2V0ID4gbWlkKSB7XG4gICAgICAgICAgaGlnaDEgPSBtaWQxIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb3cxID0gbWlkMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWRnZSA9IHRoaXMuY2FsY3VsYXRlRWRnZShudWxsLCBjaGVja1BvaW50cywgbG93MSwgbWlkKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gZWRnZSA8PSBlZmZlY3RpdmVMaW5lUG9zaXRpb25cbiAgICAgICAgICA6IGVkZ2UgPj0gZWZmZWN0aXZlTGluZVBvc2l0aW9uXG4gICAgICApIHtcbiAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgIHdoaWxlIChjaGVja1BvaW50c1tsb3cxXS5ib3hPZmZzZXQgPT0gbWlkKSB7XG4gICAgICAgICAgbG93MS0tO1xuICAgICAgICB9XG4gICAgICAgIGhpZ2hDUCA9IGxvdzE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNVcGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGxvdyA9IG1pZDtcbiAgICAgICAgbG93Q1AgPSBsb3cxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZUNvbnRleHQ6IGNoZWNrUG9pbnRzW2xvdzFdLFxuICAgICAgaW5kZXg6IGxvdyxcbiAgICAgIGNoZWNrUG9pbnRJbmRleDogbG93MSxcbiAgICB9O1xuICB9XG5cbiAgZmluZEFjY2VwdGFibGVCcmVha0luc2lkZShcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBlZGdlUG9zaXRpb246IG51bWJlcixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5maW5kRW5kT2ZMaW5lKGVkZ2VQb3NpdGlvbiwgY2hlY2tQb2ludHMsIHRydWUpO1xuICAgIGxldCBub2RlQ29udGV4dCA9IHBvc2l0aW9uLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gICAgaWYgKHZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgIGNvbnN0IHRleHROb2RlID0gdmlld05vZGUgYXMgVGV4dDtcbiAgICAgIGNvbnN0IHRleHROb2RlQnJlYWtlciA9IHRoaXMucmVzb2x2ZVRleHROb2RlQnJlYWtlcihub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dCA9IHRleHROb2RlQnJlYWtlci5icmVha1RleHROb2RlKFxuICAgICAgICB0ZXh0Tm9kZSxcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHBvc2l0aW9uLmluZGV4LFxuICAgICAgICBjaGVja1BvaW50cyxcbiAgICAgICAgcG9zaXRpb24uY2hlY2tQb2ludEluZGV4LFxuICAgICAgICBmb3JjZSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICByZXNvbHZlVGV4dE5vZGVCcmVha2VyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFRleHROb2RlQnJlYWtlciB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlVGV4dE5vZGVCcmVha2VySG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5SRVNPTFZFX1RFWFRfTk9ERV9CUkVBS0VSLFxuICAgICk7XG4gICAgcmV0dXJuIGhvb2tzLnJlZHVjZShcbiAgICAgIChwcmV2LCBob29rKSA9PiBob29rKG5vZGVDb250ZXh0KSB8fCBwcmV2LFxuICAgICAgVGV4dE5vZGVCcmVha2VyLmluc3RhbmNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCByYW5nZXMgc2tpcHBpbmcgc3BlY2lhbCBlbG1lbnRzXG4gICAqL1xuICBnZXRSYW5nZUJveGVzKHN0YXJ0OiBOb2RlLCBlbmQ6IE5vZGUpOiBWdHJlZS5DbGllbnRSZWN0W10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGNvbnN0IHJhbmdlID0gc3RhcnQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIGxldCB3ZW50VXAgPSBmYWxzZTtcbiAgICBsZXQgbm9kZSA9IHN0YXJ0O1xuICAgIGxldCBsYXN0R29vZDogTm9kZSA9IG51bGw7XG4gICAgbGV0IGhhdmVTdGFydCA9IGZhbHNlO1xuICAgIGxldCBlbmROb3RSZWFjaGVkID0gdHJ1ZTtcbiAgICB3aGlsZSAoZW5kTm90UmVhY2hlZCkge1xuICAgICAgbGV0IHNlZWtSYW5nZSA9IHRydWU7XG4gICAgICBkbyB7XG4gICAgICAgIGxldCBuZXh0OiBOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgPT0gZW5kKSB7XG4gICAgICAgICAgaWYgKGVuZC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gSWYgZW5kIGlzIGFuIGVsZW1lbnQsIGNvbnRpbnVlIHRyYXZlcnNpbmcgaXRzIGNoaWxkcmVuIHRvIGZpbmRcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHRleHQgbm9kZSBpbnNpZGUgaXQuIEZpbmlzaCB3aGVuIGVuZCBoYXMgbm8gY2hpbGQgb3JcbiAgICAgICAgICAgIC8vIHdoZW4gY2FtZSBiYWNrIGZyb20gaXRzIGNoaWxkcmVuICh3ZW50VXA9PXRydWUpLlxuICAgICAgICAgICAgZW5kTm90UmVhY2hlZCA9ICEoIWVuZC5maXJzdENoaWxkIHx8IHdlbnRVcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZE5vdFJlYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgIGlmICghaGF2ZVN0YXJ0KSB7XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShub2RlKTtcbiAgICAgICAgICAgIGhhdmVTdGFydCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RHb29kID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZW50VXApIHtcbiAgICAgICAgICB3ZW50VXAgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChMYXlvdXRIZWxwZXIuaXNTcGVjaWFsKG5vZGUgYXMgRWxlbWVudCkpIHtcbiAgICAgICAgICAvLyBTa2lwIHNwZWNpYWxcbiAgICAgICAgICBzZWVrUmFuZ2UgPSAhaGF2ZVN0YXJ0O1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSA9PSBcInJ1YnlcIiB8fFxuICAgICAgICAgIGlzU3BlY2lhbElubGluZURpc3BsYXkoXG4gICAgICAgICAgICB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShub2RlIGFzIEVsZW1lbnQpLmRpc3BsYXksXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBydWJ5LCBpbmxpbmUtYmxvY2ssIGV0Yy5cbiAgICAgICAgICBzZWVrUmFuZ2UgPSAhaGF2ZVN0YXJ0O1xuICAgICAgICAgIGlmIChzZWVrUmFuZ2UpIHtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKG5vZGUpO1xuICAgICAgICAgICAgaGF2ZVN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RHb29kID0gbm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUuY29udGFpbnMoZW5kKSkge1xuICAgICAgICAgICAgZW5kTm90UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgd2VudFVwID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgfSB3aGlsZSAoc2Vla1JhbmdlICYmIGVuZE5vdFJlYWNoZWQpO1xuICAgICAgaWYgKGhhdmVTdGFydCkge1xuICAgICAgICByYW5nZS5zZXRFbmRBZnRlcihsYXN0R29vZCk7XG4gICAgICAgIGNvbnN0IGJveExpc3QgPSB0aGlzLmNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKHJhbmdlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3hMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2goYm94TGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaGF2ZVN0YXJ0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogR2l2ZSBibG9jaydzIGluaXRpYWwgYW5kIGZpbmFsIG5vZGVzLCBmaW5kIHBvc2l0aW9ucyBvZiB0aGUgbGluZSBib3R0b21zLlxuICAgKiBUaGlzIGlzLCBvZiBjb3Vyc2UsIHNvbWV3aGF0IGhhY2t5IGltcGxlbWVudGF0aW9uLlxuICAgKiBAcmV0dXJuIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzXG4gICAqL1xuICBmaW5kTGluZVBvc2l0aW9ucyhjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IG51bWJlcltdIHtcbiAgICBjb25zdCBMT1dfT1ZFUkxBUCA9IDAuMjtcbiAgICBjb25zdCBNSURfT1ZFUkxBUCA9IDAuNjtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0UmFuZ2VCb3hlcyhcbiAgICAgIGNoZWNrUG9pbnRzWzBdLnZpZXdOb2RlLFxuICAgICAgY2hlY2tQb2ludHNbY2hlY2tQb2ludHMubGVuZ3RoIC0gMV0udmlld05vZGUsXG4gICAgKTtcbiAgICBib3hlcy5zb3J0KFxuICAgICAgdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IFZ0cmVlSW1wbC5jbGllbnRyZWN0RGVjcmVhc2luZ1JpZ2h0XG4gICAgICAgIDogVnRyZWVJbXBsLmNsaWVudHJlY3RJbmNyZWFzaW5nVG9wLFxuICAgICk7XG4gICAgbGV0IGxpbmVCZWZvcmUgPSAwO1xuICAgIGxldCBsaW5lQWZ0ZXIgPSAwO1xuICAgIGxldCBsaW5lRW5kID0gMDtcbiAgICBsZXQgbGluZUxlbmd0aCA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGRpciA9IHRoaXMuZ2V0Qm94RGlyKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChpIDwgYm94ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IGJveGVzW2ldO1xuICAgICAgICBsZXQgb3ZlcmxhcCA9IDE7XG4gICAgICAgIGlmIChsaW5lTGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGJveFNpemUgPSBNYXRoLm1heCh0aGlzLmdldEJveFNpemUoYm94KSwgMSk7XG4gICAgICAgICAgaWYgKGRpciAqIHRoaXMuZ2V0QmVmb3JlRWRnZShib3gpIDwgZGlyICogbGluZUJlZm9yZSkge1xuICAgICAgICAgICAgb3ZlcmxhcCA9IChkaXIgKiAodGhpcy5nZXRBZnRlckVkZ2UoYm94KSAtIGxpbmVCZWZvcmUpKSAvIGJveFNpemU7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXIgKiB0aGlzLmdldEFmdGVyRWRnZShib3gpID4gZGlyICogbGluZUFmdGVyKSB7XG4gICAgICAgICAgICBvdmVybGFwID0gKGRpciAqIChsaW5lQWZ0ZXIgLSB0aGlzLmdldEJlZm9yZUVkZ2UoYm94KSkpIC8gYm94U2l6ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3ZlcmxhcCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgfHxcbiAgICAgICAgICBvdmVybGFwID49IE1JRF9PVkVSTEFQIHx8XG4gICAgICAgICAgKG92ZXJsYXAgPj0gTE9XX09WRVJMQVAgJiYgdGhpcy5nZXRTdGFydEVkZ2UoYm94KSA+PSBsaW5lRW5kIC0gMSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGluZUVuZCA9IHRoaXMuZ2V0RW5kRWRnZShib3gpO1xuICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsaW5lQmVmb3JlID1cbiAgICAgICAgICAgICAgbGluZUxlbmd0aCA9PSAwID8gYm94LnJpZ2h0IDogTWF0aC5tYXgobGluZUJlZm9yZSwgYm94LnJpZ2h0KTtcbiAgICAgICAgICAgIGxpbmVBZnRlciA9XG4gICAgICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCA/IGJveC5sZWZ0IDogTWF0aC5taW4obGluZUFmdGVyLCBib3gubGVmdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVCZWZvcmUgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3gudG9wIDogTWF0aC5taW4obGluZUJlZm9yZSwgYm94LnRvcCk7XG4gICAgICAgICAgICBsaW5lQWZ0ZXIgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3guYm90dG9tIDogTWF0aC5tYXgobGluZUFmdGVyLCBib3guYm90dG9tKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGluZUxlbmd0aCsrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbGluZVxuICAgICAgaWYgKGxpbmVMZW5ndGggPiAwKSB7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGxpbmVBZnRlcik7XG4gICAgICAgIGxpbmVMZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKGkgPj0gYm94ZXMubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBwb3NpdGlvbnMuc29ydChCYXNlLm51bWJlckNvbXBhcmUpO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBwb3NpdGlvbnMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zaXRpb25zO1xuICB9XG5cbiAgY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gMDtcbiAgICBub2RlQ29udGV4dC53YWxrVXBCbG9ja3MoKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXSA9PT0gXCJjbG9uZVwiKSB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KGJsb2NrLnZpZXdOb2RlIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3JkZXJzID0gdGhpcy5nZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoXG4gICAgICAgICAgYmxvY2sudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgY2xvbmVkUGFkZGluZ0JvcmRlciArPSBibG9jay52ZXJ0aWNhbFxuICAgICAgICAgID8gLXBhZGRpbmdCb3JkZXJzLmxlZnRcbiAgICAgICAgICA6IHBhZGRpbmdCb3JkZXJzLmJvdHRvbTtcbiAgICAgICAgaWYgKGJsb2NrLmRpc3BsYXkgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIGNsb25lZFBhZGRpbmdCb3JkZXIgKz0gYmxvY2suYmxvY2tCb3JkZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lZFBhZGRpbmdCb3JkZXI7XG4gIH1cblxuICBwcml2YXRlIGdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKFxuICAgIGJwPzogQnJlYWtQb3NpdGlvbi5CcmVha1Bvc2l0aW9uLFxuICApOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQ6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfTtcbiAgICBpZiAoYnApIHtcbiAgICAgIG9mZnNldCA9IGJwLmNhbGN1bGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2Zmc2V0ID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0LmN1cnJlbnQ7XG4gIH1cblxuICBmaW5kQm94QnJlYWtQb3NpdGlvbihcbiAgICBicDogQm94QnJlYWtQb3NpdGlvbixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNoZWNrUG9pbnRzID0gYnAuY2hlY2tQb2ludHM7XG4gICAgbGV0IGJsb2NrID0gY2hlY2tQb2ludHNbMF07XG4gICAgd2hpbGUgKGJsb2NrLnBhcmVudCAmJiBibG9jay5pbmxpbmUpIHtcbiAgICAgIGJsb2NrID0gYmxvY2sucGFyZW50O1xuICAgIH1cbiAgICBsZXQgd2lkb3dzOiBudW1iZXI7XG4gICAgbGV0IG9ycGhhbnM6IG51bWJlcjtcbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIC8vIExhc3QgcmVzb3J0LCBpZ25vcmUgd2lkb3dzL29ycGhhbnNcbiAgICAgIHdpZG93cyA9IDE7XG4gICAgICBvcnBoYW5zID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gR2V0IHdpZG93cy9vcnBoYW5zIHNldHRpbmdzIGZyb20gdGhlIGJsb2NrIGVsZW1lbnRcbiAgICAgIHdpZG93cyA9IE1hdGgubWF4KFxuICAgICAgICAoKGJsb2NrLmluaGVyaXRlZFByb3BzW1wid2lkb3dzXCJdIGFzIG51bWJlcikgfHwgMikgLSAwLFxuICAgICAgICAxLFxuICAgICAgKTtcbiAgICAgIG9ycGhhbnMgPSBNYXRoLm1heChcbiAgICAgICAgKChibG9jay5pbmhlcml0ZWRQcm9wc1tcIm9ycGhhbnNcIl0gYXMgbnVtYmVyKSB8fCAyKSAtIDAsXG4gICAgICAgIDEsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEluIGNhc2Ugb2YgYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lLCB3aWR0aCAob3IgaGVpZ2h0IGluIHZlcnRpY2FsXG4gICAgLy8gd3JpdGluZyBtb2RlKSBvZiBjbG9uZWQgcGFkZGluZ3MgYW5kIGJvcmRlcnMgc2hvdWxkIGJlIHRha2VuIGludG9cbiAgICAvLyBhY2NvdW50LlxuICAgIGNvbnN0IGNsb25lZFBhZGRpbmdCb3JkZXIgPSBzZWxmLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoYmxvY2spO1xuXG4gICAgLy8gU2VsZWN0IHRoZSBmaXJzdCBvdmVyZmxvd2luZyBsaW5lIGJyZWFrIHBvc2l0aW9uXG4gICAgY29uc3QgbGluZVBvc2l0aW9ucyA9IHRoaXMuZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHMpO1xuICAgIGxldCBlZGdlID0gdGhpcy5mb290bm90ZUVkZ2UgLSBjbG9uZWRQYWRkaW5nQm9yZGVyO1xuICAgIGNvbnN0IGRpciA9IHRoaXMuZ2V0Qm94RGlyKCk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzT2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cyhicCk7XG4gICAgZWRnZSAtPSBkaXIgKiByZXBldGl0aXZlRWxlbWVudHNPZmZzZXQ7XG5cbiAgICAvLyBJZiBhbiBcIm92ZXJmbG93aW5nXCIgY2hlY2twb2ludCAoZS5nLiBub3QgYWxsb3dlZCBieSBMYXlvdXRDb25zdHJhaW50KVxuICAgIC8vIGV4aXN0cyBiZWZvcmUgdGhlIGVkZ2UsIGEgbGluZSBjb250YWluaW5nIHRoZSBjaGVja3BvaW50IHNob3VsZCBiZVxuICAgIC8vIGRlZmVycmVkIHRvIHRoZSBuZXh0IGNvbHVtbi5cbiAgICBjb25zdCBmaXJzdE92ZXJmbG93aW5nID0gdGhpcy5maW5kRmlyc3RPdmVyZmxvd2luZ0VkZ2VBbmRDaGVja1BvaW50KFxuICAgICAgY2hlY2tQb2ludHMsXG4gICAgKTtcbiAgICBpZiAoaXNOYU4oZmlyc3RPdmVyZmxvd2luZy5lZGdlKSkge1xuICAgICAgZmlyc3RPdmVyZmxvd2luZy5lZGdlID0gZGlyICogSW5maW5pdHk7XG4gICAgfVxuICAgIGxldCBsaW5lSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChsaW5lUG9zaXRpb25zLmxlbmd0aCwgKGkpID0+IHtcbiAgICAgIGNvbnN0IHAgPSBsaW5lUG9zaXRpb25zW2ldO1xuICAgICAgcmV0dXJuIHNlbGYudmVydGljYWxcbiAgICAgICAgPyBwIDwgZWRnZSB8fCBwIDw9IGZpcnN0T3ZlcmZsb3dpbmcuZWRnZVxuICAgICAgICA6IHAgPiBlZGdlIHx8IHAgPj0gZmlyc3RPdmVyZmxvd2luZy5lZGdlO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgbm8gYnJlYWsgcG9pbnQgaXMgZm91bmQgZHVlIHRvIHRoZSBcIm92ZXJmbG93aW5nXCIgY2hlY2twb2ludCxcbiAgICAvLyBnaXZlIHVwIGRlZmVycmluZyBhIGxpbmUgY29udGFpbmluZyB0aGUgY2hlY2twb2ludCBhbmQgdHJ5IHRvIGN1dCB0aGVcbiAgICAvLyBsaW5lIGp1c3QgYmVmb3JlIGl0LlxuICAgIGNvbnN0IGZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmcgPSBsaW5lSW5kZXggPD0gMDtcbiAgICBpZiAoZm9yY2VDdXRCZWZvcmVPdmVyZmxvd2luZykge1xuICAgICAgbGluZUluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2gobGluZVBvc2l0aW9ucy5sZW5ndGgsIChpKSA9PlxuICAgICAgICBzZWxmLnZlcnRpY2FsID8gbGluZVBvc2l0aW9uc1tpXSA8IGVkZ2UgOiBsaW5lUG9zaXRpb25zW2ldID4gZWRnZSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRmlyc3QgZWRnZSBhZnRlciB0aGUgb25lIHRoYXQgYm90aCBmaXRzIGFuZCBzYXRpc2ZpZXMgd2lkb3dzIGNvbnN0cmFpbnQuXG4gICAgbGluZUluZGV4ID0gTWF0aC5taW4obGluZVBvc2l0aW9ucy5sZW5ndGggLSB3aWRvd3MsIGxpbmVJbmRleCk7XG4gICAgaWYgKGxpbmVJbmRleCA8IG9ycGhhbnMpIHtcbiAgICAgIC8vIE5vdCBlbm91Z2ggbGluZXMgdG8gc2F0aXNmeSBvcnBoYW5zIGNvbnN0cmFpbnQsIGNhbm5vdCBicmVhayBoZXJlLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVkZ2UgPSBsaW5lUG9zaXRpb25zW2xpbmVJbmRleCAtIDFdO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgaWYgKGZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmcpIHtcbiAgICAgIG5vZGVDb250ZXh0ID0gZmlyc3RPdmVyZmxvd2luZy5jaGVja1BvaW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlQ29udGV4dCA9IHRoaXMuZmluZEFjY2VwdGFibGVCcmVha0luc2lkZShicC5jaGVja1BvaW50cywgZWRnZSwgZm9yY2UpO1xuICAgIH1cbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIC8vIFdoZW4gbGluZS1oZWlnaHQgaXMgc21hbGwsIHRoZSBlZGdlIGNhbGN1bGF0ZWQgYWJvdmUgKHVzaW5nIFJhbmdlKVxuICAgICAgLy8gY2FuIGJlIGxhcmdlciB0aGFuIHRoZSBlZGdlIG9mIHRoZSBibG9jayBjb250YWluZXIgY29udGFpbmluZyB0aGUgdGV4dC5cbiAgICAgIC8vIFdlIHVwZGF0ZSB0aGUgZWRnZSBieSBtZWFzdXJpbmcgdGhlIGJsb2NrIGVkZ2UuXG4gICAgICBjb25zdCBibG9ja0VkZ2UgPSB0aGlzLmdldEFmdGVyRWRnZU9mQmxvY2tDb250YWluZXIobm9kZUNvbnRleHQpO1xuICAgICAgaWYgKCFpc05hTihibG9ja0VkZ2UpICYmIGJsb2NrRWRnZSA8IGVkZ2UpIHtcbiAgICAgICAgZWRnZSA9IGJsb2NrRWRnZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPVxuICAgICAgICBkaXIgKiAoZWRnZSAtIHRoaXMuYmVmb3JlRWRnZSkgKyByZXBldGl0aXZlRWxlbWVudHNPZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgfVxuXG4gIGdldEFmdGVyRWRnZU9mQmxvY2tDb250YWluZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBsZXQgYmxvY2tQYXJlbnQgPSBub2RlQ29udGV4dDtcbiAgICBkbyB7XG4gICAgICBibG9ja1BhcmVudCA9IGJsb2NrUGFyZW50LnBhcmVudDtcbiAgICB9IHdoaWxlIChibG9ja1BhcmVudCAmJiBibG9ja1BhcmVudC5pbmxpbmUpO1xuICAgIGlmIChibG9ja1BhcmVudCkge1xuICAgICAgYmxvY2tQYXJlbnQgPSBibG9ja1BhcmVudC5jb3B5KCkubW9kaWZ5KCk7XG4gICAgICBibG9ja1BhcmVudC5hZnRlciA9IHRydWU7XG4gICAgICByZXR1cm4gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgIGJsb2NrUGFyZW50LFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICB9XG5cbiAgZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogeyBlZGdlOiBudW1iZXI7IGNoZWNrUG9pbnQ6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCB9IHtcbiAgICBjb25zdCBpbmRleCA9IGNoZWNrUG9pbnRzLmZpbmRJbmRleCgoY3ApID0+IGNwLm92ZXJmbG93KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4geyBlZGdlOiBOYU4sIGNoZWNrUG9pbnQ6IG51bGwgfTtcbiAgICB9XG4gICAgY29uc3QgY3AgPSBjaGVja1BvaW50c1tpbmRleF07XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkZ2U6IHRoaXMuY2FsY3VsYXRlRWRnZShudWxsLCBjaGVja1BvaW50cywgaW5kZXgsIGNwLmJveE9mZnNldCksXG4gICAgICBjaGVja1BvaW50OiBjcCxcbiAgICB9O1xuICB9XG5cbiAgZmluZEVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIGJwOiBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9XG4gICAgICBicC5jb21wdXRlZEJsb2NrU2l6ZSArIHRoaXMuZ2V0T2Zmc2V0QnlSZXBldGl0aXZlRWxlbWVudHMoYnApO1xuICAgIHJldHVybiBicC5wb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5hbGl6ZSBhIGxpbmUgYnJlYWsuXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGxldCByZXN1bHQgPSBsYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICB0aGlzLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBMYXlvdXRQcm9jZXNzb3IuYmxvY2tMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICAgIGVuZE9mQ29sdW1uLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpOiBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQge1xuICAgIGxldCBicDogTGF5b3V0LkJyZWFrUG9zaXRpb24gPSBudWxsO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGxldCBwZW5hbHR5ID0gMDtcbiAgICBsZXQgbmV4dFBlbmFsdHkgPSAwO1xuICAgIGRvIHtcbiAgICAgIHBlbmFsdHkgPSBuZXh0UGVuYWx0eTtcbiAgICAgIG5leHRQZW5hbHR5ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpID0gdGhpcy5icmVha1Bvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICBpID49IDAgJiYgIW5vZGVDb250ZXh0O1xuICAgICAgICAtLWlcbiAgICAgICkge1xuICAgICAgICBicCA9IHRoaXMuYnJlYWtQb3NpdGlvbnNbaV07XG4gICAgICAgIG5vZGVDb250ZXh0ID0gYnAuZmluZEFjY2VwdGFibGVCcmVhayh0aGlzLCBwZW5hbHR5KTtcbiAgICAgICAgY29uc3QgbWluUGVuYWx0eSA9IGJwLmdldE1pbkJyZWFrUGVuYWx0eSgpO1xuICAgICAgICBpZiAobWluUGVuYWx0eSA+IHBlbmFsdHkpIHtcbiAgICAgICAgICBuZXh0UGVuYWx0eSA9IE1hdGgubWluKG5leHRQZW5hbHR5LCBtaW5QZW5hbHR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKFxuICAgICAgLy8gRG9uJ3QgbmVlZCB0byBmaW5kIGEgbm9uLW9wdGltYWwgYnJlYWsgcG9zaXRpb24gaWZcbiAgICAgIC8vIGZvcmNlTm9uZml0dGluZz1mYWxzZVxuICAgICAgbmV4dFBlbmFsdHkgPiBwZW5hbHR5ICYmXG4gICAgICAhbm9kZUNvbnRleHQgJiZcbiAgICAgIHRoaXMuZm9yY2VOb25maXR0aW5nXG4gICAgKTtcbiAgICByZXR1cm4geyBicmVha1Bvc2l0aW9uOiBub2RlQ29udGV4dCA/IGJwIDogbnVsbCwgbm9kZUNvbnRleHQgfTtcbiAgfVxuXG4gIGRvRmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkgfHxcbiAgICAgIHRoaXMucGFnZUJyZWFrVHlwZSB8fFxuICAgICAgIW92ZXJmbG93bk5vZGVDb250ZXh0XG4gICAgKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9GaW5pc2hCcmVha1wiKTtcbiAgICBsZXQgZm9yY2VSZW1vdmVTZWxmID0gZmFsc2U7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgLy8gTGFzdCByZXNvcnRcbiAgICAgIGlmICh0aGlzLmZvcmNlTm9uZml0dGluZykge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiQ291bGQgbm90IGZpbmQgYW55IHBhZ2UgYnJlYWtzPyEhXCIpO1xuICAgICAgICBzZWxmLnNraXBUYWlsRWRnZXMob3ZlcmZsb3duTm9kZUNvbnRleHQpLnRoZW4oKG5vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZmluaXNoQnJlYWsobm9kZUNvbnRleHQsIGZvcmNlUmVtb3ZlU2VsZiwgdHJ1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlQ29udGV4dCA9IGluaXRpYWxOb2RlQ29udGV4dDtcbiAgICAgICAgZm9yY2VSZW1vdmVTZWxmID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5jb21wdXRlZEJsb2NrU2l6ZSA9IGluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSBwYWdlIGJyZWFrIGlzIGFjY2VwdGFibGUgYXQgdGhpcyBwb3NpdGlvblxuICAgKi9cbiAgaXNCcmVha2FibGUoZmxvd1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmIChmbG93UG9zaXRpb24uYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBtYXkgYmUgYW4gZW1wdHkgYmxvY2tcbiAgICB9XG4gICAgc3dpdGNoIChmbG93UG9zaXRpb24uc291cmNlTm9kZS5uYW1lc3BhY2VVUkkpIHtcbiAgICAgIGNhc2UgQmFzZS5OUy5TVkc6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFmbG93UG9zaXRpb24uZmxleENvbnRhaW5lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGFuIGluZGVudCB2YWx1ZSBpcyB6ZXJvXG4gICAqL1xuICB6ZXJvSW5kZW50KHZhbDogc3RyaW5nIHwgbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcyA9IHZhbC50b1N0cmluZygpO1xuICAgIHJldHVybiBzID09IFwiXCIgfHwgcyA9PSBcImF1dG9cIiB8fCAhIXMubWF0Y2goL14wKyguMCopP1teMC05XS8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICovXG4gIGNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbihub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAwLFxuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICApO1xuICAgIGNvbnN0IG9mZnNldHMgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICApO1xuICAgIGNvbnN0IG92ZXJmbG93biA9IHRoaXMuaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKHRoaXMudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5taW5pbXVtLFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc092ZXJmbG93bihlZGdlICsgKHRoaXMudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5jdXJyZW50KSAmJlxuICAgICAgIXRoaXMubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzXG4gICAgKSB7XG4gICAgICB0aGlzLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyA9IG5vZGVDb250ZXh0O1xuICAgIH0gZWxzZSBpZiAodHJhaWxpbmdFZGdlQ29udGV4dHMpIHtcbiAgICAgIC8vIElmIHRoZSBlZGdlIGRvZXMgbm90IG92ZXJmbG93IGFkZCB0aGUgdHJhaWxpbmcgbWFyZ2luLCB3aGljaCBpc1xuICAgICAgLy8gdHJ1bmNhdGVkIHRvIHRoZSByZW1haW5pbmcgZnJhZ21lbnRhaW5lciBleHRlbnQuXG4gICAgICBjb25zdCBtYXJnaW5FZGdlID1cbiAgICAgICAgZWRnZSArIHRoaXMuZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudCh0cmFpbGluZ0VkZ2VDb250ZXh0cyk7XG4gICAgICBjb25zdCBmb290bm90ZUVkZ2UgPVxuICAgICAgICB0aGlzLmZvb3Rub3RlRWRnZSAtIHRoaXMuZ2V0Qm94RGlyKCkgKiBvZmZzZXRzLmN1cnJlbnQ7XG4gICAgICBlZGdlID0gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IE1hdGgubWluKGVkZ2UsIE1hdGgubWF4KG1hcmdpbkVkZ2UsIGZvb3Rub3RlRWRnZSkpXG4gICAgICAgIDogTWF0aC5tYXgoZWRnZSwgTWF0aC5taW4obWFyZ2luRWRnZSwgZm9vdG5vdGVFZGdlKSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShlZGdlKTtcbiAgICByZXR1cm4gb3ZlcmZsb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSBwb3NzaWJsZSBwYWdlIGJyZWFrIHBvc2l0aW9uIG9uIGEgQ1NTIGJsb2NrIGVkZ2UuIENoZWNrIGlmIGl0XG4gICAqIG92ZXJmbG93cy5cbiAgICogQHJldHVybiB0cnVlIGlmIG92ZXJmbG93c1xuICAgKi9cbiAgY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgc2F2ZUV2ZW5PdmVyZmxvd246IGJvb2xlYW4sXG4gICAgYnJlYWtBdFRoZUVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbihub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgb3ZlcmZsb3duID0gdGhpcy5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzLFxuICAgICk7XG4gICAgaWYgKHNhdmVFdmVuT3ZlcmZsb3duIHx8ICFvdmVyZmxvd24pIHtcbiAgICAgIHRoaXMuc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKG5vZGVDb250ZXh0LCBicmVha0F0VGhlRWRnZSwgb3ZlcmZsb3duKTtcbiAgICB9XG4gICAgcmV0dXJuIG92ZXJmbG93bjtcbiAgfVxuXG4gIGFwcGx5Q2xlYXJhbmNlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZSkge1xuICAgICAgLy8gQ2Fubm90IGRvIGNlcmFsYW5jZSBmb3Igbm9kZXMgd2l0aG91dCBwYXJlbnRzXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbWVhc3VyZSB3aGVyZSB0aGUgZWRnZSBvZiB0aGUgZWxlbWVudCB3b3VsZCBiZSB3aXRob3V0IGNsZWFyYW5jZVxuICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4obm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCk7XG4gICAgY29uc3Qgc3BhY2VyID0gbm9kZUNvbnRleHQudmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBzcGFjZXIuc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgIHNwYWNlci5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHttYXJnaW4ucmlnaHR9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFjZXIuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgc3BhY2VyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUubWFyZ2luVG9wID0gYCR7bWFyZ2luLnRvcH1weGA7XG4gICAgfVxuICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNwYWNlciwgbm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIGxldCBzcGFjZXJCb3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChzcGFjZXIpO1xuICAgIGNvbnN0IGVkZ2UgPSB0aGlzLmdldEJlZm9yZUVkZ2Uoc3BhY2VyQm94KTtcbiAgICBjb25zdCBkaXIgPSB0aGlzLmdldEJveERpcigpO1xuICAgIGNvbnN0IGNsZWFyID0gbm9kZUNvbnRleHQuY2xlYXJTaWRlO1xuICAgIGxldCBjbGVhckVkZ2UgPSAtdGhpcy5nZXRCb3hEaXIoKSAqIEluZmluaXR5O1xuICAgIGlmIChjbGVhciA9PT0gXCJhbGxcIikge1xuICAgICAgY2xlYXJFZGdlID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdENsZWFyRWRnZShcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgIH1cbiAgICBzd2l0Y2ggKGNsZWFyKSB7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBjbGVhckVkZ2UgPSBkaXIgKiBNYXRoLm1heChjbGVhckVkZ2UgKiBkaXIsIHRoaXMubGVmdEZsb2F0RWRnZSAqIGRpcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgIGNsZWFyRWRnZSA9IGRpciAqIE1hdGgubWF4KGNsZWFyRWRnZSAqIGRpciwgdGhpcy5yaWdodEZsb2F0RWRnZSAqIGRpcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2xlYXJFZGdlID1cbiAgICAgICAgICBkaXIgKlxuICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgY2xlYXJFZGdlICogZGlyLFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5yaWdodEZsb2F0RWRnZSAqIGRpciwgdGhpcy5sZWZ0RmxvYXRFZGdlICogZGlyKSxcbiAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIGVkZ2UgaG9sZHMgdGhlIHBvc2l0aW9uIHdoZXJlIGVsZW1lbnQgYm9yZGVyIFwiYmVmb3JlXCIgZWRnZSB3aWxsIGJlXG4gICAgLy8gd2l0aG91dCBjbGVhcmFuY2UuIGNsZWFyRWRnZSBpcyB0aGUgXCJhZnRlclwiIGVkZ2Ugb2YgdGhlIGZsb2F0IHRvIGNsZWFyLlxuICAgIGlmIChlZGdlICogZGlyID49IGNsZWFyRWRnZSAqIGRpcikge1xuICAgICAgLy8gTm8gbmVlZCBmb3IgY2xlYXJhbmNlXG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNwYWNlcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5lZWQgc29tZSBjbGVhcmFuY2UsIGRldGVybWluZSBob3cgbXVjaC4gQWRkIHRoZSBjbGVhcmFuY2Ugbm9kZSxcbiAgICAgIC8vIG1lYXN1cmUgaXRzIGFmdGVyIGVkZ2UgYW5kIGFkanVzdCBhZnRlciBtYXJnaW4gKHJlcXVpcmVkIGR1ZSB0b1xuICAgICAgLy8gcG9zc2libGUgbWFyZ2luIGNvbGxhcHNlIGJlZm9yZSBjbGVhcmFuY2Ugd2FzIGludHJvZHVjZWQpLlxuICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgKGNsZWFyRWRnZSAtIGVkZ2UpICogZGlyKTtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHNwYWNlci5zdHlsZS53aWR0aCA9IGAke2hlaWdodH1weGA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGFjZXIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgIH1cbiAgICAgIHNwYWNlckJveCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHNwYWNlcik7XG4gICAgICBjb25zdCBhZnRlckVkZ2UgPSB0aGlzLmdldEFmdGVyRWRnZShzcGFjZXJCb3gpO1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgbGV0IHdBZGogPSBhZnRlckVkZ2UgKyBtYXJnaW4ucmlnaHQgLSBjbGVhckVkZ2U7XG4gICAgICAgIGlmICh3QWRqID4gMCA9PSBtYXJnaW4ucmlnaHQgPj0gMCkge1xuICAgICAgICAgIC8vIEluIGFkZGl0aW9uIHRvIGNvbGxhcHNlZCBwb3J0aW9uXG4gICAgICAgICAgd0FkaiArPSBtYXJnaW4ucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpbkxlZnQgPSBgJHt3QWRqfXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBoQWRqID0gY2xlYXJFZGdlIC0gKGFmdGVyRWRnZSArIG1hcmdpbi50b3ApO1xuICAgICAgICBpZiAoaEFkaiA+IDAgPT0gbWFyZ2luLnRvcCA+PSAwKSB7XG4gICAgICAgICAgLy8gSW4gYWRkaXRpb24gdG8gY29sbGFwc2VkIHBvcnRpb25cbiAgICAgICAgICBoQWRqICs9IG1hcmdpbi50b3A7XG4gICAgICAgIH1cbiAgICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpbkJvdHRvbSA9IGAke2hBZGp9cHhgO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQuY2xlYXJTcGFjZXIgPSBzcGFjZXI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpc0JGQyhmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoTGF5b3V0UHJvY2Vzc29yLmlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNraXBzIHBvc2l0aW9ucyB1bnRpbCBlaXRoZXIgdGhlIHN0YXJ0IG9mIHVuYnJlYWthYmxlIGJsb2NrIG9yIGlubGluZVxuICAgKiBjb250ZW50LiBBbHNvIHNldHMgYnJlYWtCZWZvcmUgb24gdGhlIHJlc3VsdCBjb21iaW5pbmcgYnJlYWstYmVmb3JlIGFuZFxuICAgKiBicmVhay1hZnRlciBwcm9wZXJ0aWVzIGZyb20gYWxsIGVsZW1lbnRzIHRoYXQgbWVldCBhdCB0aGUgZWRnZS5cbiAgICovXG4gIHNraXBFZGdlcyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgZm9yY2VkQnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmYyA9IG5vZGVDb250ZXh0LmFmdGVyXG4gICAgICA/IG5vZGVDb250ZXh0LnBhcmVudCAmJiBub2RlQ29udGV4dC5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIDogbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgaWYgKGZjICYmICF0aGlzLmlzQkZDKGZjKSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcInNraXBFZGdlc1wiKTtcblxuICAgIC8vIElmIGEgZm9yY2VkIGJyZWFrIG9jY3VycmVkIGF0IHRoZSBlbmQgb2YgdGhlIHByZXZpb3VzIGNvbHVtbixcbiAgICAvLyBub2RlQ29udGV4dC5hZnRlciBzaG91bGQgYmUgZmFsc2UuXG4gICAgbGV0IGF0VW5mb3JjZWRCcmVhayA9XG4gICAgICAhZm9yY2VkQnJlYWtWYWx1ZSAmJiBsZWFkaW5nRWRnZSAmJiBub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5hZnRlcjtcbiAgICBsZXQgYnJlYWtBdFRoZUVkZ2UgPSBmb3JjZWRCcmVha1ZhbHVlO1xuICAgIGxldCBsYXN0QWZ0ZXJOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGxldCBsZWFkaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgbGV0IHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgbGV0IG9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gbmVlZEZvcmNlZEJyZWFrKCkge1xuICAgICAgLy8gbGVhZGluZ0VkZ2U9dHJ1ZSBtZWFucyB0aGF0IHdlIGFyZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXcgY29sdW1uXG4gICAgICAvLyBhbmQgaGVuY2UgbXVzdCBhdm9pZCBhIGJyZWFrIChPdGhlcndpc2UgbGVhZGluZyB0byBhbiBpbmZpbml0ZSBsb29wKVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgISFmb3JjZWRCcmVha1ZhbHVlIHx8XG4gICAgICAgICghbGVhZGluZ0VkZ2UgJiYgQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0ZvcmNlZEJyZWFrKCkge1xuICAgICAgbm9kZUNvbnRleHQgPSBsZWFkaW5nRWRnZUNvbnRleHRzWzBdIHx8IG5vZGVDb250ZXh0O1xuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICB9XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEEgY29kZSBibG9jayB0byBiZSBhYmxlIHRvIHVzZSBicmVhay4gQnJlYWsgbW92ZXMgdG8gdGhlIG5leHRcbiAgICAgICAgICAvLyBub2RlIHBvc2l0aW9uLlxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgICAgLy8gTm9uLWRpc3BsYXlhYmxlIGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuaW5saW5lICYmIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFZ0cmVlSW1wbC5jYW5JZ25vcmUoXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmFibGUgdGV4dCBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZSBvZiBub24tZW1wdHkgYmxvY2sgLT4gZmluaXNoZWQgZ29pbmcgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IChzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICAgICAgID8gbGFzdEFmdGVyTm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgOiBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgKS5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGxheW91dFByb2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGlmIChsYXlvdXRQcm9jZXNzb3Iuc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuY2xlYXJTaWRlKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxmLmFwcGx5Q2xlYXJhbmNlKG5vZGVDb250ZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuYnJlYWtQb3NpdGlvbnMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuY29weSgpLFxuICAgICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXNlbGYuaXNCRkMobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICBzZWxmLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXR0aW5nIGNvbnRleHQsIG9yIGZsb2F0IG9yIGZsZXggY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLy8gKHVuYnJlYWthYmxlKVxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlQ29udGV4dHMucHVzaChub2RlQ29udGV4dC5jb3B5KCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAhc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gKHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBsYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICApLm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICAvLyBub3QgYW4gZWxlbWVudFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZTtcbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAvLyBTa2lwIGFuIGVtcHR5IGlubGluZSBib3ggYXQgdGhlIHN0YXJ0IG9mIGEgYmxvY2tcbiAgICAgICAgICAgICAgLy8gKEFuIGFub255bW91cyBibG9jayBjb25zaXN0aW5nIGVudGlyZWx5IG9mXG4gICAgICAgICAgICAgIC8vIGNvbGxhcHNpYmxlIHdoaXRlIHNwYWNlIGlzIHJlbW92ZWQgZnJvbSB0aGUgcmVuZGVyaW5nIHRyZWUpXG4gICAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGF5b3V0UHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgbGF5b3V0UHJvY2Vzc29yLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BBdE92ZXJmbG93LFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgZWRnZVxuICAgICAgICAgICAgICBpZiAob25TdGFydEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoZWQgZ29pbmcgdGhyb3VnaCBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveC5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBhIGJyZWFrIGRpZCBub3Qgb2NjdXIsIG1vdmUgdG8gdGhlIG5leHQgZWRnZS4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIGVkZ2UgaXMgbm8gbG9uZ2VyIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0cyA9IFtdO1xuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXRVbmZvcmNlZEJyZWFrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IGZhbHNlOyAvLyB3ZSBhcmUgbm93IG9uIGVuZCBlZGdlcy5cbiAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgICAgICAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzLnB1c2gobGFzdEFmdGVyTm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdHlsZSAmJlxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUucGFkZGluZ0JvdHRvbSkgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYWlsaW5nIGluc2V0LlxuICAgICAgICAgICAgICAgIC8vIE1hcmdpbnMgZG9uJ3QgY29sbGFwc2UgYWNyb3NzIG5vbi16ZXJvIGJvcmRlcnMgYW5kXG4gICAgICAgICAgICAgICAgLy8gcGFkZGluZ3MuXG4gICAgICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMgPSBbbGFzdEFmdGVyTm9kZUNvbnRleHRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBMZWFkaW5nIGVkZ2VcbiAgICAgICAgICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0cy5wdXNoKG5vZGVDb250ZXh0LmNvcHkoKSk7XG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICFzZWxmLnN0b3BBdE92ZXJmbG93LFxuICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB2aWV3VGFnID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgaWYgKG1lZGlhVGFnc1t2aWV3VGFnXSkge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBpbmhlcmVudCBjb250ZW50XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChuZWVkRm9yY2VkQnJlYWsoKSkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0ZvcmNlZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gKHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBsYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICApLm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdHlsZSAmJlxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUucGFkZGluZ1RvcCkgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5ib3JkZXJUb3BXaWR0aClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIGxlYWRpbmcgaW5zZXRcbiAgICAgICAgICAgICAgICBhdFVuZm9yY2VkQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cyA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IHRydWU7IC8vIHdlIGFyZSBub3cgb24gc3RhcnRpbmcgZWRnZXMuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAoZmFsc2UpOyAvLyBFbmQgb2YgYmxvY2sgb2YgY29kZSB0byB1c2UgYnJlYWtcblxuICAgICAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBzZWxmLm5leHRJblRyZWUobm9kZUNvbnRleHQsIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgICAgICAgaWYgKG5leHRSZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIG5leHRSZXN1bHQudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IG5leHRSZXN1bHQuZ2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMsXG4gICAgICAgICAgICAhc2VsZi5zdG9wQXRPdmVyZmxvdyxcbiAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGxhc3RBZnRlck5vZGVDb250ZXh0ICYmIHNlbGYuc3RvcEF0T3ZlcmZsb3cpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbGFzdEFmdGVyTm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgdG8gcmV0dXJuIGhlcmU/P1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgIH1cbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGxhc3RBZnRlck5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgc2VsZi5sYXN0QWZ0ZXJQb3NpdGlvbiA9IGxhc3RBZnRlck5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTa2lwcyBub24tcmVuZGVyYWJsZSBwb3NpdGlvbnMgdW50aWwgaXQgaGl0cyB0aGUgZW5kIG9mIHRoZSBmbG93IG9yIHNvbWVcbiAgICogcmVuZGVyYWJsZSBjb250ZW50LiBSZXR1cm5zIHRoZSBub2RlQ29udGV4dCB0aGF0IHdhcyBwYXNzZWQgaW4gaWYgc29tZVxuICAgKiBjb250ZW50IHJlbWFpbnMgYW5kIG51bGwgaWYgYWxsIGNvbnRlbnQgY291bGQgYmUgc2tpcHBlZC5cbiAgICovXG4gIHNraXBUYWlsRWRnZXMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGxldCByZXN1bHROb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwic2tpcEVkZ2VzXCIpO1xuICAgIGxldCBicmVha0F0VGhlRWRnZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IG9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgICAgIC8vIEEgY29kZSBibG9jayB0byBiZSBhYmxlIHRvIHVzZSBicmVhay4gQnJlYWsgbW92ZXMgdG8gdGhlIG5leHRcbiAgICAgICAgICAvLyBub2RlIHBvc2l0aW9uLlxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgICAgLy8gTm9uLWRpc3BsYXlhYmxlIGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuaW5saW5lICYmIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFZ0cmVlSW1wbC5jYW5JZ25vcmUoXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmFibGUgdGV4dCBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZSBvZiBub24tZW1wdHkgYmxvY2sgLT4gZmluaXNoZWQgZ29pbmcgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94XG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzZWxmLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IG9yIGZsZXggY29udGFpbmVyICh1bmJyZWFrYWJsZSlcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgLy8gbm90IGFuIGVsZW1lbnRcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGU7XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgZWRnZVxuICAgICAgICAgICAgICBpZiAob25TdGFydEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoZWQgZ29pbmcgdGhyb3VnaCBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveC5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGEgYnJlYWsgZGlkIG5vdCBvY2N1ciwgbW92ZSB0byB0aGUgbmV4dCBlZGdlLlxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvblN0YXJ0RWRnZXMgPSBmYWxzZTsgLy8gd2UgYXJlIG5vdyBvbiBlbmQgZWRnZXMuXG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZVxuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCB2aWV3VGFnID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgaWYgKG1lZGlhVGFnc1t2aWV3VGFnXSkge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBpbmhlcmVudCBjb250ZW50XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3R5bGUgJiZcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLnBhZGRpbmdUb3ApICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBOb24temVybyBsZWFkaW5nIGluc2V0XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25TdGFydEVkZ2VzID0gdHJ1ZTsgLy8gd2UgYXJlIG5vdyBvbiBzdGFydGluZyBlZGdlcy5cbiAgICAgICAgICB9IHdoaWxlIChmYWxzZSk7IC8vIEVuZCBvZiBibG9jayBvZiBjb2RlIHRvIHVzZSBicmVha1xuXG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHNlbGYubGF5b3V0Q29udGV4dC5uZXh0SW5UcmVlKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICBpZiAobmV4dFJlc3VsdC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbmV4dFJlc3VsdC5nZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Tm9kZUNvbnRleHQgPSBudWxsO1xuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0Tm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbGF5b3V0RmxvYXRPckZvb3Rub3RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoXG4gICAgICBQYWdlRmxvYXRzLmlzUGFnZUZsb2F0KG5vZGVDb250ZXh0LmZsb2F0UmVmZXJlbmNlKSB8fFxuICAgICAgbm9kZUNvbnRleHQuZmxvYXRTaWRlID09PSBcImZvb3Rub3RlXCJcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmxheW91dFBhZ2VGbG9hdChub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmxheW91dEZsb2F0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGF5b3V0IG5leHQgcG9ydGlvbiBvZiB0aGUgc291cmNlLlxuICAgKi9cbiAgbGF5b3V0TmV4dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgZm9yY2VkQnJlYWtWYWx1ZT86IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcImxheW91dE5leHRcIik7XG4gICAgdGhpcy5za2lwRWRnZXMobm9kZUNvbnRleHQsIGxlYWRpbmdFZGdlLCBmb3JjZWRCcmVha1ZhbHVlIHx8IG51bGwpLnRoZW4oXG4gICAgICAobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhbm9kZUNvbnRleHQgfHxcbiAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgfHxcbiAgICAgICAgICBzZWxmLnN0b3BCeU92ZXJmbG93KG5vZGVDb250ZXh0KVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBmaW5pc2hlZCBhbGwgY29udGVudCwgZXhwbGljaXQgcGFnZSBicmVhayBvciBvdmVyZmxvdyAoYXV0b21hdGljXG4gICAgICAgICAgLy8gcGFnZSBicmVhaylcbiAgICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsYXlvdXRQcm9jZXNzb3JcbiAgICAgICAgICAgIC5sYXlvdXQobm9kZUNvbnRleHQsIHNlbGYsIGxlYWRpbmdFZGdlKVxuICAgICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChcbiAgICAgIGxldCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgICBub2RlQ29udGV4dDtcbiAgICAgIG5vZGVDb250ZXh0ID0gcGFyZW50LCBwYXJlbnQgPSBwYXJlbnQgPyBwYXJlbnQucGFyZW50IDogbnVsbFxuICAgICkge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSAocGFyZW50IHx8IG5vZGVDb250ZXh0KS5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gICAgICBsYXlvdXRQcm9jZXNzb3IuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHJlbW92ZVNlbGYsXG4gICAgICApO1xuICAgICAgcmVtb3ZlU2VsZiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGluaXRHZW9tKCk6IHZvaWQge1xuICAgIC8vIFRPRE86IHdlIHNob3VsZCBiZSBhYmxlIHRvIGF2b2lkIHF1ZXJ5aW5nIHRoZSBsYXlvdXQgZW5naW5lIGF0IHRoaXNcbiAgICAvLyBwb2ludC4gQ3JlYXRlIGFuIGVsZW1lbnQgdGhhdCBmaWxscyB0aGUgY29udGVudCBhcmVhIGFuZCBxdWVyeSBpdHMgc2l6ZS5cbiAgICAvLyBDYWxsaW5nIGdldEVsZW1lbnRDbGllbnRSZWN0IG9uIHRoZSBjb250YWluZXIgZWxlbWVudCBpbmNsdWRlcyBlbGVtZW50XG4gICAgLy8gcGFkZGluZyB3aGljaCBpcyB3cm9uZyBmb3Igb3VyIHB1cnBvc2VzLlxuICAgIGNvbnN0IHByb2JlID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwcm9iZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBwcm9iZS5zdHlsZS50b3AgPSBgJHt0aGlzLnBhZGRpbmdUb3B9cHhgO1xuICAgIHByb2JlLnN0eWxlLnJpZ2h0ID0gYCR7dGhpcy5wYWRkaW5nUmlnaHR9cHhgO1xuICAgIHByb2JlLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMucGFkZGluZ0JvdHRvbX1weGA7XG4gICAgcHJvYmUuc3R5bGUubGVmdCA9IGAke3RoaXMucGFkZGluZ0xlZnR9cHhgO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgY29uc3QgY29sdW1uQkJveCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQgKyB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcCArIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICB0aGlzLmJveCA9IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIG9mZnNldFgsXG4gICAgICBvZmZzZXRZLFxuICAgICAgb2Zmc2V0WCArIHRoaXMud2lkdGgsXG4gICAgICBvZmZzZXRZICsgdGhpcy5oZWlnaHQsXG4gICAgKTtcbiAgICB0aGlzLnN0YXJ0RWRnZSA9IGNvbHVtbkJCb3hcbiAgICAgID8gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IGNvbHVtbkJCb3gudG9wXG4gICAgICAgIDogY29sdW1uQkJveC5sZWZ0XG4gICAgICA6IDA7XG4gICAgdGhpcy5lbmRFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC5ib3R0b21cbiAgICAgICAgOiBjb2x1bW5CQm94LnJpZ2h0XG4gICAgICA6IDA7XG4gICAgdGhpcy5iZWZvcmVFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC5yaWdodFxuICAgICAgICA6IGNvbHVtbkJCb3gudG9wXG4gICAgICA6IDA7XG4gICAgdGhpcy5hZnRlckVkZ2UgPSBjb2x1bW5CQm94XG4gICAgICA/IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBjb2x1bW5CQm94LmxlZnRcbiAgICAgICAgOiBjb2x1bW5CQm94LmJvdHRvbVxuICAgICAgOiAwO1xuICAgIHRoaXMubGVmdEZsb2F0RWRnZSA9IHRoaXMuYmVmb3JlRWRnZTtcbiAgICB0aGlzLnJpZ2h0RmxvYXRFZGdlID0gdGhpcy5iZWZvcmVFZGdlO1xuICAgIHRoaXMuYm90dG9tbW9zdEZsb2F0VG9wID0gdGhpcy5iZWZvcmVFZGdlO1xuICAgIHRoaXMuZm9vdG5vdGVFZGdlID0gdGhpcy5hZnRlckVkZ2U7XG4gICAgdGhpcy5iYW5kcyA9IEdlb21ldHJ5VXRpbC5zaGFwZXNUb0JhbmRzKFxuICAgICAgdGhpcy5ib3gsXG4gICAgICBbdGhpcy5nZXRJbm5lclNoYXBlKCldLFxuICAgICAgdGhpcy5nZXRFeGNsdXNpb25zKCksXG4gICAgICA4LFxuICAgICAgdGhpcy5zbmFwSGVpZ2h0LFxuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICApO1xuICAgIHRoaXMuY3JlYXRlRmxvYXRzKCk7XG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuY2h1bmtQb3NpdGlvbnMgPSBbXTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJ3aWR0aFwiLCBgJHt0aGlzLndpZHRofXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke3RoaXMuaGVpZ2h0fXB4YCk7XG4gICAgdGhpcy5pbml0R2VvbSgpO1xuICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPSAwO1xuICAgIHRoaXMub3ZlcmZsb3duID0gZmFsc2U7XG4gICAgdGhpcy5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICB0aGlzLmxhc3RBZnRlclBvc2l0aW9uID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBwb3RlbnRpYWwgYnJlYWtpbmcgcG9zaXRpb24gYXQgdGhlIGVkZ2UuIFNob3VsZCwgaW4gZ2VuZXJhbCwgc2F2ZVxuICAgKiBcImFmdGVyXCIgcG9zaXRpb24gYnV0IG9ubHkgYWZ0ZXIgc2tpcHBpbmcgYWxsIG9mIHRoZSBcImJlZm9yZVwiIG9uZXMgYW5kXG4gICAqIGdldHRpbmcgdG8gdGhlIG5vbi1lbXB0eSBjb250ZW50ICh0byBnZXQgYnJlYWtBdEVkZ2UgcmlnaHQpLlxuICAgKi9cbiAgc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha0F0RWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIEFzc2VydHMuYXNzZXJ0KHBvc2l0aW9uLmZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICBjb25zdCBjb3B5ID0gcG9zaXRpb24uY29weSgpO1xuICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgcG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gdGhpcy5jYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKGNvcHkpO1xuICAgIGNvbnN0IGJwID0gbGF5b3V0UHJvY2Vzc29yLmNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgY29weSxcbiAgICAgIGJyZWFrQXRFZGdlLFxuICAgICAgb3ZlcmZsb3dzLFxuICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSArIGNsb25lZFBhZGRpbmdCb3JkZXIsXG4gICAgKTtcbiAgICB0aGlzLmJyZWFrUG9zaXRpb25zLnB1c2goYnApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yIGJyZWFrYWJsZSBibG9ja1xuICAgKi9cbiAgc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkIHtcbiAgICBjb25zdCBwZW5hbHR5ID0gY2hlY2tQb2ludHNbMF0uYnJlYWtQZW5hbHR5O1xuICAgIGNvbnN0IGJwID0gbmV3IEJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHMsIHBlbmFsdHkpO1xuICAgIHRoaXMuYnJlYWtQb3NpdGlvbnMucHVzaChicCk7XG4gIH1cblxuICB1cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGFmdGVyRWRnZTogbnVtYmVyKSB7XG4gICAgaWYgKCFpc05hTihhZnRlckVkZ2UpKSB7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRCb3hEaXIoKSAqIChhZnRlckVkZ2UgLSB0aGlzLmJlZm9yZUVkZ2UpO1xuICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9IE1hdGgubWF4KHNpemUsIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2h1bmtQb3NpdGlvbiBzdGFydGluZyBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIGxheW91dChcbiAgICBjaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIGJyZWFrQWZ0ZXI/OiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPiB7XG4gICAgdGhpcy5jaHVua1Bvc2l0aW9ucy5wdXNoKGNodW5rUG9zaXRpb24pOyAvLyBTbyB3ZSBjYW4gcmUtbGF5b3V0IHRoaXMgY29sdW1uIGxhdGVyXG4gICAgaWYgKGNodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlcikge1xuICAgICAgdGhpcy5sYXN0QWZ0ZXJQb3NpdGlvbiA9IGNodW5rUG9zaXRpb24ucHJpbWFyeTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RvcEF0T3ZlcmZsb3cgJiYgdGhpcy5vdmVyZmxvd24pIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChjaHVua1Bvc2l0aW9uIGFzIFZ0cmVlLkNodW5rUG9zaXRpb24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0Z1bGxXaXRoUGFnZUZsb2F0cygpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlciAmJlxuICAgICAgICBjaHVua1Bvc2l0aW9uLnByaW1hcnkuc3RlcHMubGVuZ3RoID09PSAxXG4gICAgICApIHtcbiAgICAgICAgLy8gRW5kIG9mIGNvbnRlbnRzXG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFZ0cmVlLkNodW5rUG9zaXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGNodW5rUG9zaXRpb24gYXMgVnRyZWUuQ2h1bmtQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLkNodW5rUG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcImxheW91dFwiKTtcblxuICAgIC8vIC0tLS0tLSBzdGFydCB0aGUgY29sdW1uIC0tLS0tLS0tLS0tXG4gICAgc2VsZi5vcGVuQWxsVmlld3MoY2h1bmtQb3NpdGlvbi5wcmltYXJ5KS50aGVuKChub2RlQ29udGV4dCkgPT4ge1xuICAgICAgbGV0IGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgIGluaXRpYWxOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHRJblRyZWVMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZ0Lm5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpbml0aWFsTm9kZUNvbnRleHQgPSBldnQubm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBzZWxmLmxheW91dENvbnRleHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgXCJuZXh0SW5UcmVlXCIsXG4gICAgICAgICAgICAgIG5leHRJblRyZWVMaXN0ZW5lcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLmxheW91dENvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihcIm5leHRJblRyZWVcIiwgbmV4dEluVHJlZUxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJldHJ5ZXIgPSBuZXcgQ29sdW1uTGF5b3V0UmV0cnllcihsZWFkaW5nRWRnZSwgYnJlYWtBZnRlcik7XG4gICAgICByZXRyeWVyLmxheW91dChub2RlQ29udGV4dCwgc2VsZikudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmRvRmluaXNoQnJlYWsoXG4gICAgICAgICAgICBub2RlQ29udGV4dFBhcmFtLFxuICAgICAgICAgICAgcmV0cnllci5jb250ZXh0Lm92ZXJmbG93bk5vZGVDb250ZXh0LFxuICAgICAgICAgICAgaW5pdGlhbE5vZGVDb250ZXh0LFxuICAgICAgICAgICAgcmV0cnllci5pbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChwb3NpdGlvbkFmdGVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj4gPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFzZWxmLnBzZXVkb1BhcmVudCkge1xuICAgICAgICAgICAgICBjb250ID0gc2VsZi5kb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uQWZ0ZXIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvbkFmdGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYub3ZlcmZsb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbkFmdGVyLnRvTm9kZVBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBpc0Z1bGxXaXRoUGFnZUZsb2F0cygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzQ29sdW1uRnVsbFdpdGhQYWdlRmxvYXRzKHRoaXMpO1xuICB9XG5cbiAgZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTtcbiAgfVxuXG4gIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJkb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzXCIsXG4gICAgKTtcbiAgICBjb25zdCBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gW10uY29uY2F0KFxuICAgICAgdGhpcy5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLFxuICAgICk7XG4gICAgc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5zb3J0KFxuICAgICAgKGEsIGIpID0+IGEuZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCkgLSBiLmdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpLFxuICAgICk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpIDwgc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzW2krK10uZmluaXNoQnJlYWsoXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBub2RlQ29udGV4dCBzdGFydGluZyBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8e1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH0+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTx7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfT4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9MYXlvdXRcIik7XG4gICAgbGV0IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG5cbiAgICAvLyAtLS0tLS0gaW5pdCBiYWNrdHJhY2tpbmcgbGlzdCAtLS0tLVxuICAgIHNlbGYuYnJlYWtQb3NpdGlvbnMgPSBbXTtcbiAgICBzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyA9IG51bGw7XG5cbiAgICAvLyAtLS0tLS0tIGZpbGwgdGhlIGNvbHVtbiAtLS0tLS0tLS0tLS0tXG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgLy8gZmlsbCBhIHNpbmdsZSBibG9ja1xuICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAubGF5b3V0TmV4dChub2RlQ29udGV4dCwgbGVhZGluZ0VkZ2UsIGJyZWFrQWZ0ZXIgfHwgbnVsbClcbiAgICAgICAgICAgIC50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgICAgICAgICBzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPVxuICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHM7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBleHBsaWNpdCBwYWdlIGJyZWFrXG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVDb250ZXh0ICYmIHNlbGYuc3RvcEJ5T3ZlcmZsb3cobm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3cgKGltcGxpY2l0IHBhZ2UgYnJlYWspOiBiYWNrIHVwIGFuZCBmaW5kIGFcbiAgICAgICAgICAgICAgICAvLyBwYWdlIGJyZWFrXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBicCA9IHNlbGYuZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBicC5ub2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBpZiAoYnAuYnJlYWtQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgYnAuYnJlYWtQb3NpdGlvbi5icmVha1Bvc2l0aW9uQ2hvc2VuKHNlbGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7IC8vIExvb3AgZW5kXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFN5bmMgY2FzZVxuICAgICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgLy8gQXN5bmMgY2FzZSBhbmQgbG9vcCBlbmRcbiAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgc2VsZi5jb21wdXRlZEJsb2NrU2l6ZSArPSBzZWxmLmdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh7IG5vZGVDb250ZXh0LCBvdmVyZmxvd25Ob2RlQ29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZS1sYXlvdXQgYWxyZWFkeSBsYWlkLW91dCBjaHVua3MuIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3QgZmxvdyBpZlxuICAgKiB0aGVyZSBpcyBhbiBvdmVyZmxvdy5cbiAgICogVE9ETzogZGVhbCB3aXRoIGNodW5rcyB0aGF0IGRpZCBub3QgZml0IGF0IGFsbC5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIHJlZG9MYXlvdXQoKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj4ge1xuICAgIGNvbnN0IGNodW5rUG9zaXRpb25zID0gdGhpcy5jaHVua1Bvc2l0aW9ucztcbiAgICBsZXQgbGFzdDogTm9kZSA9IHRoaXMuZWxlbWVudC5sYXN0Q2hpbGQ7XG4gICAgd2hpbGUgKGxhc3QgIT0gdGhpcy5sYXN0KSB7XG4gICAgICBjb25zdCBwcmV2ID0gbGFzdC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgdGhpcy5lbGVtZW50ID09PSBsYXN0LnBhcmVudE5vZGUgJiZcbiAgICAgICAgICAodGhpcy5sYXlvdXRDb250ZXh0IGFzIFZnZW4uVmlld0ZhY3RvcnkpLmlzUHNldWRvZWxlbWVudChsYXN0KVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGxhc3QpO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHByZXY7XG4gICAgfVxuICAgIHRoaXMua2lsbEZsb2F0cygpO1xuICAgIHRoaXMuaW5pdCgpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLkNodW5rUG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcInJlZG9MYXlvdXRcIik7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCByZXM6IFZ0cmVlLkNodW5rUG9zaXRpb24gPSBudWxsO1xuICAgIGxldCBsZWFkaW5nRWRnZSA9IHRydWU7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPCBjaHVua1Bvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBjaHVua1Bvc2l0aW9uID0gY2h1bmtQb3NpdGlvbnNbaSsrXTtcbiAgICAgICAgICBzZWxmLmxheW91dChjaHVua1Bvc2l0aW9uLCBsZWFkaW5nRWRnZSkudGhlbigocG9zKSA9PiB7XG4gICAgICAgICAgICBsZWFkaW5nRWRnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICByZXMgPSBwb3M7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCkge1xuICAgIGNvbnN0IGJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMoKTtcbiAgICBpZiAoXG4gICAgICBibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMgPiAwICYmXG4gICAgICBpc0Zpbml0ZShibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMpXG4gICAgKSB7XG4gICAgICB0aGlzLmJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzID1cbiAgICAgICAgdGhpcy5nZXRCb3hEaXIoKSAqXG4gICAgICAgIChibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMgLVxuICAgICAgICAgIHRoaXMuYmVmb3JlRWRnZSAtXG4gICAgICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSA9IFtdO1xuICAgIGZvciAobGV0IGN1cnJlbnQ6IENvbHVtbiA9IHRoaXM7IGN1cnJlbnQ7IGN1cnJlbnQgPSBjdXJyZW50LnBzZXVkb1BhcmVudCkge1xuICAgICAgY3VycmVudC5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmZvckVhY2goKGNvbnN0cmFpbnQpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudCA9IGNvbnN0cmFpbnQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBTZWxlY3RvcnMuaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoY29uc3RyYWludClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnQgPSBjb25zdHJhaW50LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVGFibGUuaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KGNvbnN0cmFpbnQpKSB7XG4gICAgICAgICAgY29uc3RyYWludFxuICAgICAgICAgICAgLmdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbCh0aGlzKVxuICAgICAgICAgICAgLmZvckVhY2goKHJlcGV0aXRpdmVFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBcInBzZXVkb1wiLWNvbHVtbiBuZXN0ZWQgaW5zaWRlIGEgcmVhbCBjb2x1bW4uXG4gKiBUaGlzIGNsYXNzIGlzIGNyZWF0ZWQgdG8gaGFuZGxlIHBhcmFsbGVsIGZyYWdtZW50ZWQgZmxvd3MgKGUuZy4gdGFibGUgY29sdW1uc1xuICogaW4gYSBzaW5nbGUgdGFibGUgcm93KS4gQSBwc2V1ZG8tY29sdW1uIGJlaGF2ZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICogb3JpZ2luYWwgY29sdW1uLCBzaGFyaW5nIGl0cyBwcm9wZXJ0aWVzLiBQcm9wZXJ0eSBjaGFuZ2VzIG9uIHRoZVxuICogcHNldWRvLWNvbHVtbiBhcmUgbm90IHByb3BhZ2F0ZWQgdG8gdGhlIG9yaWdpbmFsIGNvbHVtbi4gVGhlIExheW91dENvbnRleHQgb2ZcbiAqIHRoZSBvcmlnaW5hbCBjb2x1bW4gaXMgYWxzbyBjbG9uZWQgYW5kIHVzZWQgYnkgdGhlIHBzZXVkby1jb2x1bW4sIG5vdCB0b1xuICogcHJvcGFnYXRlIHN0YXRlIGNoYW5nZXMgb2YgdGhlIExheW91dENvbnRleHQgY2F1c2VkIGJ5IHRoZSBwc2V1ZG8tY29sdW1uLlxuICogQHBhcmFtIGNvbHVtbiBUaGUgb3JpZ2luYWwgKHBhcmVudCkgY29sdW1uXG4gKiBAcGFyYW0gdmlld1Jvb3QgUm9vdCBlbGVtZW50IGZvciB0aGUgcHNldWRvLWNvbHVtbiwgaS5lLiwgdGhlIHJvb3Qgb2YgdGhlXG4gKiAgICAgZnJhZ21lbnRlZCBmbG93LlxuICogQHBhcmFtIHBhcmVudE5vZGVDb250ZXh0IEEgTm9kZUNvbnRleHQgZ2VuZXJhdGluZyB0aGlzIFBzZXVkb0NvbHVtblxuICovXG5leHBvcnQgY2xhc3MgUHNldWRvQ29sdW1uIHtcbiAgc3RhcnROb2RlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgcHJpdmF0ZSBjb2x1bW46IExheW91dC5Db2x1bW47XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICB2aWV3Um9vdDogRWxlbWVudCxcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICkge1xuICAgIHRoaXMuY29sdW1uID0gT2JqZWN0LmNyZWF0ZShjb2x1bW4pIGFzIExheW91dC5Db2x1bW47XG4gICAgdGhpcy5jb2x1bW4uZWxlbWVudCA9IHZpZXdSb290O1xuICAgIHRoaXMuY29sdW1uLmxheW91dENvbnRleHQgPSBjb2x1bW4ubGF5b3V0Q29udGV4dC5jbG9uZSgpO1xuICAgIHRoaXMuY29sdW1uLnN0b3BBdE92ZXJmbG93ID0gZmFsc2U7XG4gICAgdGhpcy5jb2x1bW4uZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCA9IHBhcmVudE5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHRoaXMuY29sdW1uLnBzZXVkb1BhcmVudCA9IGNvbHVtbjtcbiAgICBjb25zdCBwYXJlbnRDbG9uZWRQYWRkaW5nQm9yZGVyID0gdGhpcy5jb2x1bW4uY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5jb2x1bW4uZm9vdG5vdGVFZGdlID1cbiAgICAgIHRoaXMuY29sdW1uLmZvb3Rub3RlRWRnZSAtIHBhcmVudENsb25lZFBhZGRpbmdCb3JkZXI7XG4gICAgY29uc3QgcHNldWRvQ29sdW1uID0gdGhpcztcbiAgICB0aGlzLmNvbHVtbi5vcGVuQWxsVmlld3MgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBDb2x1bW4ucHJvdG90eXBlLm9wZW5BbGxWaWV3c1xuICAgICAgICAuY2FsbCh0aGlzLCBwb3NpdGlvbilcbiAgICAgICAgLnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgICAgcHNldWRvQ29sdW1uLnN0YXJ0Tm9kZUNvbnRleHRzLnB1c2gocmVzdWx0LmNvcHkoKSk7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgbGF5b3V0KFxuICAgIGNodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW4ubGF5b3V0KGNodW5rUG9zaXRpb24sIGxlYWRpbmdFZGdlKTtcbiAgfVxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oXG4gICAgYWxsb3dCcmVha0F0U3RhcnRQb3NpdGlvbjogYm9vbGVhbixcbiAgKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgcCA9IHRoaXMuY29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpO1xuICAgIGlmIChhbGxvd0JyZWFrQXRTdGFydFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBzdGFydE5vZGVDb250ZXh0ID0gdGhpcy5zdGFydE5vZGVDb250ZXh0c1swXS5jb3B5KCk7XG4gICAgICBjb25zdCBicCA9IG5ldyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIGJwLmZpbmRBY2NlcHRhYmxlQnJlYWsodGhpcy5jb2x1bW4sIDApO1xuICAgICAgaWYgKCFwLm5vZGVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IGJyZWFrUG9zaXRpb246IGJwLCBub2RlQ29udGV4dDogc3RhcnROb2RlQ29udGV4dCB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCBlbmRPZkNvbHVtbik7XG4gIH1cbiAgZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHRoaXMuY29sdW1uLmRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMocG9zaXRpb25BZnRlcik7XG4gIH1cbiAgaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXJ0Tm9kZUNvbnRleHQgPSB0aGlzLnN0YXJ0Tm9kZUNvbnRleHRzWzBdO1xuICAgIHJldHVybiAoXG4gICAgICBzdGFydE5vZGVDb250ZXh0LnZpZXdOb2RlID09PSBub2RlQ29udGV4dC52aWV3Tm9kZSAmJlxuICAgICAgc3RhcnROb2RlQ29udGV4dC5hZnRlciA9PT0gbm9kZUNvbnRleHQuYWZ0ZXIgJiZcbiAgICAgIHN0YXJ0Tm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID09PSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGVcbiAgICApO1xuICB9XG4gIGlzTGFzdEFmdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgICBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpLFxuICAgICAgdGhpcy5jb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24sXG4gICAgKTtcbiAgfVxuICBnZXRDb2x1bW5FbGVtZW50KCk6IEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5lbGVtZW50O1xuICB9XG4gIGdldENvbHVtbigpOiBMYXlvdXQuQ29sdW1uIHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW47XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZpcnN0Q2hhclBhdHRlcm4gPSAvXlteQS1aYS16MC05X1xcdTAwOUVcXHUwMDlGXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN10qKFtBLVphLXowLTlfXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN11bXkEtWmEtejAtOV9cXHUwMDlFXFx1MDA5RlxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJBRlxcdTAzN0ItXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTA0ODJcXHUwNDhBLVxcdTA1MjddKik/LztcblxuZXhwb3J0IHR5cGUgU2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0ID0gTGF5b3V0LlNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpeEp1c3RpZmljYXRpb25Pbkh5cGhlbihcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBpbnNlcnRBZnRlcjogYm9vbGVhbixcbiAgbm9kZTogTm9kZSxcbiAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4pOiB2b2lkIHtcbiAgaWYgKEJhc2UuY2hlY2tTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcoZG9jdW1lbnQuYm9keSkpIHtcbiAgICBjb25zdCBoeXBoZW5DaGFyID0gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCk7XG4gICAgY29uc3QgcHJldlNpYmxpbmcgPSBpbnNlcnRBZnRlciA/IG5vZGUgOiBub2RlLnByZXZpb3VzU2libGluZztcbiAgICBjb25zdCBwcmV2VGV4dCA9IHByZXZTaWJsaW5nID8gcHJldlNpYmxpbmcudGV4dENvbnRlbnQgOiBcIlwiO1xuICAgIGlmIChwcmV2VGV4dC5jaGFyQXQocHJldlRleHQubGVuZ3RoIC0gMSkgPT09IGh5cGhlbkNoYXIpIHtcbiAgICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChCYXNlLmNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICAgIC8vIEZvciBJRVxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGRvYy5jcmVhdGVUZXh0Tm9kZShcIiBcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBFZGdlXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZG9jLmNyZWF0ZUVsZW1lbnQoXCJ3YnJcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dE5vZGVCcmVha2VyIGltcGxlbWVudHMgTGF5b3V0LlRleHROb2RlQnJlYWtlciB7XG4gIGJyZWFrVGV4dE5vZGUoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxvdzogbnVtYmVyLFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGNoZWNrcG9pbnRJbmRleDogbnVtYmVyLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSB0ZXh0Tm9kZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENoYXJhY3RlciB3aXRoIGluZGV4IGxvdyBpcyB0aGUgbGFzdCBvbmUgdGhhdCBmaXRzLlxuICAgICAgbGV0IHZpZXdJbmRleCA9IGxvdyAtIG5vZGVDb250ZXh0LmJveE9mZnNldDtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZXh0Tm9kZS5kYXRhO1xuICAgICAgaWYgKHRleHQuY2hhckNvZGVBdCh2aWV3SW5kZXgpID09IDE3Mykge1xuICAgICAgICB2aWV3SW5kZXggPSB0aGlzLmJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgICAgIHRleHROb2RlLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgdmlld0luZGV4LFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld0luZGV4ID0gdGhpcy5icmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgICAgICAgdGV4dE5vZGUsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICB2aWV3SW5kZXgsXG4gICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodmlld0luZGV4ID4gMCkge1xuICAgICAgICBub2RlQ29udGV4dCA9IHRoaXMudXBkYXRlTm9kZUNvbnRleHQobm9kZUNvbnRleHQsIHZpZXdJbmRleCwgdGV4dE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICBicmVha0FmdGVyU29mdEh5cGhlbihcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgdmlld0luZGV4OiBudW1iZXIsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBudW1iZXIge1xuICAgIC8vIGNvbnZlcnQgdHJhaWxpbmcgc29mdCBoeXBoZW4gdG8gYSByZWFsIGh5cGhlblxuICAgIHRleHROb2RlLnJlcGxhY2VEYXRhKFxuICAgICAgdmlld0luZGV4LFxuICAgICAgdGV4dC5sZW5ndGggLSB2aWV3SW5kZXgsXG4gICAgICAhbm9kZUNvbnRleHQuYnJlYWtXb3JkID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCkgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleCArIDE7XG4gIH1cblxuICBicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBrZWVwIHRoZSB0cmFpbGluZyBjaGFyYWN0ZXIgKGl0IG1heSBiZSBhIHNwYWNlIG9yIG5vdClcbiAgICBjb25zdCBjaDAgPSB0ZXh0LmNoYXJBdCh2aWV3SW5kZXgpO1xuICAgIHZpZXdJbmRleCsrO1xuICAgIGNvbnN0IGNoMSA9IHRleHQuY2hhckF0KHZpZXdJbmRleCk7XG5cbiAgICAvLyBJZiBhdXRvbWF0aWMgaHlwaGVuIHdhcyBpbnNlcnRlZCBoZXJlLCBhZGQgYSByZWFsIGh5cGhlbi5cbiAgICB0ZXh0Tm9kZS5yZXBsYWNlRGF0YShcbiAgICAgIHZpZXdJbmRleCxcbiAgICAgIHRleHQubGVuZ3RoIC0gdmlld0luZGV4LFxuICAgICAgIW5vZGVDb250ZXh0LmJyZWFrV29yZCAmJiBCYXNlLmlzTGV0dGVyKGNoMCkgJiYgQmFzZS5pc0xldHRlcihjaDEpXG4gICAgICAgID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dClcbiAgICAgICAgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleDtcbiAgfVxuXG4gIHVwZGF0ZU5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlICs9IHZpZXdJbmRleDtcbiAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSA9IG51bGw7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgc3RhdGljIGluc3RhbmNlOiBUZXh0Tm9kZUJyZWFrZXI7XG59XG5UZXh0Tm9kZUJyZWFrZXIuaW5zdGFuY2UgPSBuZXcgVGV4dE5vZGVCcmVha2VyKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSHlwaGVuYXRlQ2hhcmFjdGVyKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIG5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciB8fFxuICAgIChub2RlQ29udGV4dC5wYXJlbnQgJiYgbm9kZUNvbnRleHQucGFyZW50Lmh5cGhlbmF0ZUNoYXJhY3RlcikgfHxcbiAgICBcIi1cIlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uTGF5b3V0UmV0cnllciBleHRlbmRzIExheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciB7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgaW5pdGlhbFBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaW5pdGlhbE92ZXJmbG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9ID0ge1xuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBudWxsLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXQuTGF5b3V0TW9kZSB7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TGF5b3V0TW9kZShcbiAgICAgIHRoaXMubGVhZGluZ0VkZ2UsXG4gICAgICB0aGlzLmJyZWFrQWZ0ZXIsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdO1xuICAgIGlmICghY29sdW1uLnBzZXVkb1BhcmVudCkge1xuICAgICAgU2hhcmVkLmNsZWFyUmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlci5jbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gaW5pdGlhbFBvc2l0aW9uO1xuICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgY29uc3Qgdmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgICAgIGlmICh2aWV3Tm9kZSkge1xuICAgICAgICBMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3Modmlld05vZGUucGFyZW50Tm9kZSwgdmlld05vZGUpO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2F2ZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIuc2F2ZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIHRoaXMuaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZSA9IGNvbHVtbi5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICB0aGlzLmluaXRpYWxPdmVyZmxvd24gPSBjb2x1bW4ub3ZlcmZsb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIucmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gdGhpcy5pbml0aWFsUGFnZUJyZWFrVHlwZTtcbiAgICBjb2x1bW4uY29tcHV0ZWRCbG9ja1NpemUgPSB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTtcbiAgICBjb2x1bW4ub3ZlcmZsb3duID0gdGhpcy5pbml0aWFsT3ZlcmZsb3duO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGF5b3V0TW9kZSBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJEZWZhdWx0TGF5b3V0TW9kZS5kb0xheW91dFwiLFxuICAgICk7XG5cbiAgICBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKCkgPT4ge1xuICAgICAgY29sdW1uXG4gICAgICAgIC5kb0xheW91dChub2RlQ29udGV4dCwgdGhpcy5sZWFkaW5nRWRnZSwgdGhpcy5icmVha0FmdGVyKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0Lm92ZXJmbG93bk5vZGVDb250ZXh0ID0gcmVzdWx0Lm92ZXJmbG93bk5vZGVDb250ZXh0O1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQubm9kZUNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pOiBib29sZWFuIHtcbiAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpIHx8IGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmV2ZXJ5KChjb25zdHJhaW50KSA9PlxuICAgICAgY29uc3RyYWludC5hbGxvd0xheW91dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY29udGV4dC5vdmVyZmxvd25Ob2RlQ29udGV4dCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFhY2NlcHRlZCkge1xuICAgICAgY29uc3QgaGFzTmV4dENhbmRpZGF0ZSA9IGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnNvbWUoXG4gICAgICAgIChjb25zdHJhaW50KSA9PiBjb25zdHJhaW50Lm5leHRDYW5kaWRhdGUocG9zaXRpb25BZnRlciksXG4gICAgICApO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBuZXh0IGNhbmRpZGF0ZSwgd2UgYWNjZXB0IHRoZSBjdXJyZW50IGxheW91dCB0cmlhbC5cbiAgICAgIC8vIExhdGVyIENvbHVtbiNkb0ZpbmlzaEJyZWFrIGRlY2lkZXMgd2hldGhlciB0aGUgb3ZlcmZsb3dpbmcgY29udGVudFxuICAgICAgLy8gc2hvdWxkIGJlIHBsYWNlZCBhcyBpcyBvciBiZSBkZWZlcnJlZCB0byB0aGUgbmV4dCBjb2x1bW4sXG4gICAgICAvLyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIENvbHVtbiNmb3JjZU5vbmZpdHRpbmcuXG4gICAgICBhY2NlcHRlZCA9ICFoYXNOZXh0Q2FuZGlkYXRlO1xuICAgIH1cbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICBjb25zdHJhaW50LnBvc3RMYXlvdXQoYWNjZXB0ZWQsIHBvc2l0aW9uQWZ0ZXIsIGluaXRpYWxQb3NpdGlvbiwgY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjZXB0ZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdEFyZWEgZXh0ZW5kcyBDb2x1bW4gaW1wbGVtZW50cyBMYXlvdXQuUGFnZUZsb2F0QXJlYSB7XG4gIHByaXZhdGUgcm9vdFZpZXdOb2RlczogRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgZmxvYXRNYXJnaW5zOiBHZW9tZXRyeVV0aWwuSW5zZXRzW10gPSBbXTtcbiAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRDb25zdHJhaW50LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGxheW91dENvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb3BlbkFsbFZpZXdzKHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiBzdXBlci5vcGVuQWxsVmlld3MocG9zaXRpb24pLnRoZW5Bc3luYygobm9kZUNvbnRleHQpID0+IHtcbiAgICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgICB0aGlzLmZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICBjb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeCh0YXJnZXQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBjb250YWluaW5nQmxvY2tSZWN0ID0gdGhpcy5wYXJlbnRDb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBjb25zdCByZWZXaWR0aCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueDIgLSBjb250YWluaW5nQmxvY2tSZWN0LngxO1xuICAgIGNvbnN0IHJlZkhlaWdodCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueTIgLSBjb250YWluaW5nQmxvY2tSZWN0LnkxO1xuXG4gICAgZnVuY3Rpb24gY29udmVydFBlcmNlbnRhZ2VUb1B4KHByb3BzOiBzdHJpbmdbXSwgcmVmVmFsdWU6IG51bWJlcikge1xuICAgICAgcHJvcHMuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWVTdHJpbmcgPSBCYXNlLmdldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUpO1xuICAgICAgICBpZiAodmFsdWVTdHJpbmcgJiYgdmFsdWVTdHJpbmcuY2hhckF0KHZhbHVlU3RyaW5nLmxlbmd0aCAtIDEpID09PSBcIiVcIikge1xuICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHJpbmcpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHJlZlZhbHVlICogcGVyY2VudGFnZVZhbHVlKSAvIDEwMDtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIGAke3ZhbHVlfXB4YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wid2lkdGhcIiwgXCJtYXgtd2lkdGhcIiwgXCJtaW4td2lkdGhcIl0sIHJlZldpZHRoKTtcbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wiaGVpZ2h0XCIsIFwibWF4LWhlaWdodFwiLCBcIm1pbi1oZWlnaHRcIl0sIHJlZkhlaWdodCk7XG4gICAgY29udmVydFBlcmNlbnRhZ2VUb1B4KFxuICAgICAgW1xuICAgICAgICBcIm1hcmdpbi10b3BcIixcbiAgICAgICAgXCJtYXJnaW4tcmlnaHRcIixcbiAgICAgICAgXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgICAgIFwibWFyZ2luLWxlZnRcIixcbiAgICAgICAgXCJwYWRkaW5nLXRvcFwiLFxuICAgICAgICBcInBhZGRpbmctcmlnaHRcIixcbiAgICAgICAgXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgICAgICBcInBhZGRpbmctbGVmdFwiLFxuICAgICAgXSxcbiAgICAgIHRoaXMudmVydGljYWwgPyByZWZIZWlnaHQgOiByZWZXaWR0aCxcbiAgICApO1xuICAgIFtcIm1hcmdpbi10b3BcIiwgXCJtYXJnaW4tcmlnaHRcIiwgXCJtYXJnaW4tYm90dG9tXCIsIFwibWFyZ2luLWxlZnRcIl0uZm9yRWFjaChcbiAgICAgIChwcm9wTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IEJhc2UuZ2V0Q1NTUHJvcGVydHkodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIFwiMFwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgd2hpbGUgKG5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlID09PSAxKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMucm9vdFZpZXdOb2Rlcy5wdXNoKHJvb3RWaWV3Tm9kZSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgdGhpcy5jb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeChyb290Vmlld05vZGUpO1xuICAgIH1cbiAgICB0aGlzLmZsb2F0TWFyZ2lucy5wdXNoKHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4ocm9vdFZpZXdOb2RlKSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgY29uc3QgZmxvYXRTaWRlID0gdGhpcy5mbG9hdFNpZGU7XG4gICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5wYXJlbnRDb250YWluZXIudmVydGljYWw7XG4gICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJoZWlnaHRcIik7XG4gICAgICAgICAgaWYgKGhlaWdodCAhPT0gXCJcIiAmJiBoZWlnaHQgIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tdG9wXCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHwgZmxvYXRTaWRlID09PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJ3aWR0aFwiKTtcbiAgICAgICAgICBpZiAod2lkdGggIT09IFwiXCIgJiYgd2lkdGggIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tbGVmdFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29udGVudElubGluZVNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yb290Vmlld05vZGVzLm1hcCgociwgaSkgPT4ge1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChyKTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5mbG9hdE1hcmdpbnNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBtYXJnaW4udG9wICsgYm94LmhlaWdodCArIG1hcmdpbi5ib3R0b21cbiAgICAgICAgICA6IG1hcmdpbi5sZWZ0ICsgYm94LndpZHRoICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUmVwZXRpdGl2ZUVsZW1lbnQgLSBFbGVtZW50cyByZXBlYXRlZCBpbiBldmVyeSBmcmFnbWVudFxuICogYnkgcmVwZWF0LW9uLWJyZWFrIHByb3BlcnR5LlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHtcbiAgRm9ybWF0dGluZ0NvbnRleHRUeXBlLFxuICBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlLFxuICBMYXlvdXQgYXMgTGF5b3V0VHlwZSxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFRhYmxlLFxuICBWdHJlZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCI7XG4gIGlzUm9vdDogYm9vbGVhbiA9IGZhbHNlO1xuICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlJlcGV0aXRpdmUgZWxlbWVudHMgb3duZXIgZm9ybWF0dGluZyBjb250ZXh0IChSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmlyc3RUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UGFyZW50KCk6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICByZXR1cm4gdGhpcy5yZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBnZXRSb290Vmlld05vZGUocG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogRWxlbWVudCB8IG51bGwge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3ROb2RlQ29udGV4dChwb3NpdGlvbik7XG4gICAgcmV0dXJuIHJvb3QgPyAocm9vdC52aWV3Tm9kZSBhcyBFbGVtZW50KSA6IG51bGw7XG4gIH1cblxuICBnZXRSb290Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsIHtcbiAgICBkbyB7XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcykgJiZcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gdGhpcy5yb290U291cmNlTm9kZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgICAgIH1cbiAgICB9IHdoaWxlICgobm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHModmVydGljYWw6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5yZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm91bmQgPSBTaGFyZWQucmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUuc29tZSgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5yb290ID09PSB0aGlzLnJvb3RTb3VyY2VOb2RlKSB7XG4gICAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gZW50cnkuZWxlbWVudHM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQpIHtcbiAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50cyhcbiAgICAgICAgdmVydGljYWwsXG4gICAgICAgIHRoaXMucm9vdFNvdXJjZU5vZGUsXG4gICAgICApO1xuICAgICAgU2hhcmVkLnJlcGV0aXRpdmVFbGVtZW50c0NhY2hlLnB1c2goe1xuICAgICAgICByb290OiB0aGlzLnJvb3RTb3VyY2VOb2RlLFxuICAgICAgICBlbGVtZW50czogdGhpcy5yZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNhdmVTdGF0ZSgpOiBhbnkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KSB7fVxufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50c09mZnNldCA9IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0O1xuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzXG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgcHJpdmF0ZSBoZWFkZXJTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyU291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGhlYWRlclZpZXdOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyVmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoZWFkZXJOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZvb3Rlck5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaGVhZGVySGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGZvb3RlckhlaWdodDogbnVtYmVyID0gMDtcbiAgaXNTa2lwSGVhZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIGlzU2tpcEZvb3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbiA9IHRydWU7XG4gIGVuYWJsZVNraXBwaW5nSGVhZGVyOiBib29sZWFuID0gdHJ1ZTtcbiAgZG9uZUluaXRpYWxMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZmlyc3RDb250ZW50U291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhZmZlY3RlZE5vZGVDYWNoZToge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXN1bHQ6IGJvb2xlYW47XG4gIH1bXSA9IFtdO1xuICBwcml2YXRlIGFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGU6IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVzdWx0OiBib29sZWFuO1xuICB9W10gPSBbXTtcbiAgYWxsb3dJbnNlcnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcHVibGljIG93bmVyU291cmNlTm9kZTogRWxlbWVudCxcbiAgKSB7fVxuXG4gIHNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGlmICh0aGlzLmhlYWRlck5vZGVQb3NpdGlvbikge1xuICAgICAgcmV0dXJuOyAvLyB1c2UgZmlyc3Qgb25lLlxuICAgIH1cbiAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbiA9IFZ0cmVlSW1wbC5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLmhlYWRlclNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gIH1cblxuICBzZXRGb290ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5mb290ZXJOb2RlUG9zaXRpb24pIHtcbiAgICAgIHJldHVybjsgLy8gdXNlIGZpcnN0IG9uZS5cbiAgICB9XG4gICAgdGhpcy5mb290ZXJOb2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5mb290ZXJTb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICB9XG5cbiAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pIHtcbiAgICBpZiAodGhpcy5oZWFkZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5oZWFkZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaGVhZGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb290ZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5mb290ZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5mb290ZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByZXBhcmVMYXlvdXRGcmFnbWVudCgpIHtcbiAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IHRydWU7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IHRydWU7XG4gIH1cblxuICBhcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24gfHwgdGhpcy5pc1NraXBIZWFkZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kRWxlbWVudFRvRnJhZ21lbnQoXG4gICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbixcbiAgICAgIHJvb3ROb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICBjb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIGFwcGVuZEZvb3RlclRvRnJhZ21lbnQoXG4gICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbiB8fCB0aGlzLmlzU2tpcEZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcHBlbmRFbGVtZW50VG9GcmFnbWVudChcbiAgICAgIHRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uLFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZCxcbiAgICAgIGNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5cbiAgICovXG4gIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGRvYyA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHZpZXdSb290ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcm9vdFZpZXdOb2RlLmFwcGVuZENoaWxkKHZpZXdSb290KTtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSBuZXcgTGF5b3V0LlBzZXVkb0NvbHVtbihcbiAgICAgIGNvbHVtbixcbiAgICAgIHZpZXdSb290LFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZTtcbiAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSB0cnVlO1xuICAgIHJldHVybiBwc2V1ZG9Db2x1bW5cbiAgICAgIC5sYXlvdXQobmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKG5vZGVQb3NpdGlvbiksIHRydWUpXG4gICAgICAudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSBmYWxzZTtcbiAgICAgICAgcm9vdFZpZXdOb2RlLnJlbW92ZUNoaWxkKHZpZXdSb290KTtcbiAgICAgICAgdGhpcy5tb3ZlQ2hpbGRyZW4odmlld1Jvb3QsIHJvb3RWaWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gaW5pdGlhbFBhZ2VCcmVha1R5cGU7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCkge1xuICAgIGlmICghdG8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKGZyb20uZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBmcm9tLmZpcnN0Q2hpbGQ7XG4gICAgICBmcm9tLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIChjaGlsZCBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdG8uaW5zZXJ0QmVmb3JlKGNoaWxkLCBmaXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiAhdGhpcy5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmlzU2tpcEZvb3RlciB8fFxuICAgICAgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSlcbiAgICApIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmZvb3RlckhlaWdodDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlzU2tpcEhlYWRlcikge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmICF0aGlzLmFmZmVjdFRvKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSkge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuZm9vdGVySGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIpIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmhlYWRlckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIGlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0aGlzLmFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGUsXG4gICAgICAobmMpID0+XG4gICAgICAgIHRoaXMuaXNBZnRlck5vZGVDb250ZXh0T2YoXG4gICAgICAgICAgdGhpcy5sYXN0Q29udGVudFNvdXJjZU5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZmZlY3RUbyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKG5vZGVDb250ZXh0LCB0aGlzLmFmZmVjdGVkTm9kZUNhY2hlLCAobmMpID0+XG4gICAgICB0aGlzLmlzQWZ0ZXJOb2RlQ29udGV4dE9mKHRoaXMub3duZXJTb3VyY2VOb2RlLCBub2RlQ29udGV4dCwgdHJ1ZSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFJlc3VsdEZyb21DYWNoZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2FjaGU6IHsgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0OyByZXN1bHQ6IGJvb2xlYW4gfVtdLFxuICAgIGNhbGN1bGF0b3I6IChwMTogVnRyZWUuTm9kZUNvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlRW50cnkgPSBjYWNoZS5maWx0ZXIoXG4gICAgICAoY2FjaGUpID0+XG4gICAgICAgIGNhY2hlLm5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgJiZcbiAgICAgICAgY2FjaGUubm9kZUNvbnRleHQuYWZ0ZXIgPT09IG5vZGVDb250ZXh0LmFmdGVyLFxuICAgICk7XG4gICAgaWYgKGNhY2hlRW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGNhY2hlRW50cnlbMF0ucmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdG9yKG5vZGVDb250ZXh0KTtcbiAgICAgIGNhY2hlLnB1c2goeyBub2RlQ29udGV4dCwgcmVzdWx0IH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzQWZ0ZXJOb2RlQ29udGV4dE9mKFxuICAgIG5vZGU6IEVsZW1lbnQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluY2x1ZGVDaGlsZHJlbjogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcGFyZW50c09mTm9kZSA9IFtdO1xuICAgIGZvciAobGV0IG46IE5vZGUgfCBudWxsID0gbm9kZTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG4pIHtcbiAgICAgICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50c09mTm9kZS5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKFxuICAgICAgbGV0IGN1cnJlbnRQYXJlbnQ6IE5vZGUgfCBudWxsID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIGN1cnJlbnRQYXJlbnQ7XG4gICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnROb2RlXG4gICAgKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudHNPZk5vZGUuaW5kZXhPZihjdXJyZW50UGFyZW50KTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBpbmNsdWRlQ2hpbGRyZW4gPyBpbmRleCA9PT0gMCA6IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBsZXQgY3VycmVudDogRWxlbWVudCB8IG51bGwgPSBjdXJyZW50UGFyZW50IGFzIEVsZW1lbnQ7XG4gICAgICAgICAgY3VycmVudDtcbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChwYXJlbnRzT2ZOb2RlLmluY2x1ZGVzKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICB9XG5cbiAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBub2RlQ29udGV4dCAmJiB0aGlzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGVcbiAgICApO1xuICB9XG5cbiAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgICghdGhpcy5pc1NraXBGb290ZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciAmJlxuICAgICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbikgfHxcbiAgICAgICghdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciAmJlxuICAgICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhdGUoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaXNTa2lwRm9vdGVyICYmXG4gICAgICB0aGlzLmVuYWJsZVNraXBwaW5nRm9vdGVyICYmXG4gICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvblxuICAgICkge1xuICAgICAgdGhpcy5pc1NraXBGb290ZXIgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAhdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgJiZcbiAgICAgIHRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uXG4gICAgKSB7XG4gICAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJldmVudFNraXBwaW5nSGVhZGVyKCkge1xuICAgIHRoaXMuaXNTa2lwSGVhZGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IGZhbHNlO1xuICB9XG5cbiAgcHJldmVudFNraXBwaW5nRm9vdGVyKCkge1xuICAgIHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IGZhbHNlO1xuICB9XG5cbiAgaXNIZWFkZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNGb290ZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG5cbiAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb290ZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG59XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMYXlvdXRFbnRpcmVCbG9jayBpbXBsZW1lbnRzIExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFic3RyYWN0IGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5vZGVDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uLmNsaWVudExheW91dCk7XG4gICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMudXBkYXRlSGVpZ2h0KGNvbHVtbik7XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY2NlcHRlZDtcbiAgfVxufVxuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZEJsb2NrIGltcGxlbWVudHMgTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWJzdHJhY3QgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3N0TGF5b3V0KFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFjY2VwdGVkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRFbnRpcmVPd25lckJsb2NrIGV4dGVuZHMgTGF5b3V0RW50aXJlQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgLy8gRklYTUU6IExheW91dEVudGlyZUJsb2NrLnByb3RvdHlwZS5kb0xheW91dCBpcyB1bmRlZmluZWQgYmVjYXVzZSBpdCdzIGFic3RyYWN0IG1ldGhvZC5cbiAgICAvLyAgICAgICAgUHJvYmFibHksIHJlbW92aW5nIHRoaXMgY2FsbCBpcyBvay5cbiAgICAvLyBMYXlvdXRFbnRpcmVCbG9jay5wcm90b3R5cGUuZG9MYXlvdXQuY2FsbCh0aGlzLCBub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZE93bmVyQmxvY2sgZXh0ZW5kcyBMYXlvdXRGcmFnbWVudGVkQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKCFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiYgIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy51bnNoaWZ0KFxuICAgICAgICBuZXcgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KG5vZGVDb250ZXh0KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9XG4gICAgXCJSZXBldGl0aXZlRWxlbWVudHNPd25lclwiO1xuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG5cbiAgY29uc3RydWN0b3Iobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLm5vZGVDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbih0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cy5pc0VuYWJsZVRvVXBkYXRlU3RhdGUoKSkge1xuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnVwZGF0ZVN0YXRlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgaWYgKGNvbHVtbi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zaXRpb25BZnRlciA9PSBudWxsIHx8XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzQWZ0ZXJMYXN0Q29udGVudChwb3NpdGlvbkFmdGVyKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJldmVudFNraXBwaW5nRm9vdGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdE5vZGVDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dDtcbiAgICByZXR1cm4gYXBwZW5kSGVhZGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgKCkgPT5cbiAgICAgICAgYXBwZW5kRm9vdGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wcmVwYXJlTGF5b3V0RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXRUeXBlLkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKSA9PT1cbiAgICAgIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIGNvbnN0cmFpbnQubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIgZXh0ZW5kcyBMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9jZXNzb3I6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChcbiAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiZcbiAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXRcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RW50aXJlT3duZXJCbG9jayh0aGlzLmZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLnByb2Nlc3Nvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLmZvcm1hdHRpbmdDb250ZXh0KSAmJlxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXJcbiAgICAgICkge1xuICAgICAgICBpZiAocmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnByZXZlbnRTa2lwcGluZ0hlYWRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExheW91dEZyYWdtZW50ZWRPd25lckJsb2NrKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICB0aGlzLnByb2Nlc3NvcixcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnJvb3RTb3VyY2VOb2RlID09PSBub2RlQ29udGV4dC5wYXJlbnQuc291cmNlTm9kZVxuICAgICkge1xuICAgICAgc3dpdGNoIChub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcbiAgICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQucmVwZWF0T25CcmVhayA9IFwibm9uZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZvb3RlclwiOlxuICAgICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gXCJub25lXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICBzdGF0ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBmb3JtYXR0aW5nQ29udGV4dC5yb290U291cmNlTm9kZSkge1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkubGFzdENvbnRlbnRTb3VyY2VOb2RlID1cbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgJiZcbiAgICAgICAgKHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiaGVhZGVyXCIgfHxcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiZm9vdGVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnJhZ21lbnRlZEJsb2NrTGF5b3V0U3RyYXRlZ3kgZXh0ZW5kcyBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvclxuICBleHRlbmRzIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3NvclxuICBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3Ige1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dEZsb2F0T3JGb290bm90ZShub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKG5vZGVDb250ZXh0KTtcbiAgICBpZiAoIXJvb3RWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChsZWFkaW5nRWRnZSkge1xuICAgICAgICBhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyhub2RlQ29udGV4dC5wYXJlbnQsIGNvbHVtbik7XG4gICAgICB9XG4gICAgICBpZiAoIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyhmb3JtYXR0aW5nQ29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIoXG4gICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgKS5sYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5sYXlvdXQuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICBsZWFkaW5nRWRnZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgIChyZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpIHx8XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSkpXG4gICAgKSB7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZG9Jbml0aWFsTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiQmxvY2tMYXlvdXRQcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0XCIsXG4gICAgKTtcbiAgICB0aGlzLmxheW91dEVudGlyZUJsb2NrKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgbGF5b3V0RW50aXJlQmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9MYXlvdXRcIik7XG4gICAgY29uc3QgY29udCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICBMYXlvdXQucHJvY2Vzc0FmdGVySWZDb250aW51ZXMoY29udCwgY29sdW1uKS50aGVuKChyZXNOb2RlQ29udGV4dCkgPT4ge1xuICAgICAgbGV0IG5leHROb2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0O1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbHVtblxuICAgICAgICAgICAgICAubGF5b3V0TmV4dChuZXh0Tm9kZUNvbnRleHQsIGZhbHNlKVxuICAgICAgICAgICAgICAudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBjb2x1bW4uc3RvcEJ5T3ZlcmZsb3cobmV4dE5vZGVDb250ZXh0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dC5hZnRlciAmJlxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT0gZm9ybWF0dGluZ0NvbnRleHQucm9vdFNvdXJjZU5vZGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzeW5jIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlIGFuZCBsb29wIGVuZFxuICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobmV4dE5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB8IG51bGwge1xuICAgIHJldHVybiBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmZpbmlzaEJyZWFrLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgY29sdW1uLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBjb2x1bW4sXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZixcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNhbGxiYWNrOiAoXG4gICAgcDE6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcDI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApID0+IGFueSxcbik6IHZvaWQge1xuICBmb3IgKGxldCBuYyA9IG5vZGVDb250ZXh0OyBuYzsgbmMgPSBuYy5wYXJlbnQpIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5jLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICFuYy5iZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICBjYWxsYmFjayhmb3JtYXR0aW5nQ29udGV4dCwgbmMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IHZvaWQge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0LmFmdGVyID8gbm9kZUNvbnRleHQucGFyZW50IDogbm9kZUNvbnRleHQsXG4gICAgKGZvcm1hdHRpbmdDb250ZXh0LCBuYykgPT4ge1xuICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICAgIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQobmMpLFxuICAgICAgKTtcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyKFxuICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgaWYgKHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5maXJzdENoaWxkO1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cy5hcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZvb3RlcihcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc1NraXBGb290ZXIpIHtcbiAgICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICBpZiAocm9vdE5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHMuYXBwZW5kRm9vdGVyVG9GcmFnbWVudChcbiAgICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwge1xuICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKFxuICAgICEoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVxuICApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbik6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQge1xuICBBc3NlcnRzLmFzc2VydChcbiAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICk7XG4gIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dCBhcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0O1xufVxuXG5jb25zdCByZXBldGl0aXZlTGF5b3V0UHJvY2Vzc29yID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yKCk7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIChmb3JtYXR0aW5nQ29udGV4dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgIVRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVGFibGUgLSBUYWJsZSBmb3JtYXR0aW5nIGNvbnRleHQgYW5kIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBSZXBldGl0aXZlRWxlbWVudEltcGwgZnJvbSBcIi4vcmVwZXRpdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXQgZnJvbSBcIi4vbGF5b3V0XCI7XG5pbXBvcnQge1xuICBGb3JtYXR0aW5nQ29udGV4dFR5cGUsXG4gIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUsXG4gIExheW91dCBhcyBMYXlvdXRUeXBlLFxuICBSZXBldGl0aXZlRWxlbWVudCxcbiAgVGFibGUsXG4gIFZ0cmVlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSb3cge1xuICBjZWxsczogVGFibGVDZWxsW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlTm9kZTogTm9kZSxcbiAgKSB7fVxuXG4gIGFkZENlbGwoY2VsbDogVGFibGVDZWxsKSB7XG4gICAgdGhpcy5jZWxscy5wdXNoKGNlbGwpO1xuICB9XG5cbiAgZ2V0TWluaW11bUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmNlbGxzLm1hcCgoYykgPT4gYy5oZWlnaHQpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbCB7XG4gIHZpZXdFbGVtZW50OiBFbGVtZW50IHwgbnVsbDtcbiAgY29sU3BhbjogbnVtYmVyO1xuICByb3dTcGFuOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgYW5jaG9yU2xvdDogVGFibGVTbG90ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICB2aWV3RWxlbWVudDogRWxlbWVudCxcbiAgKSB7XG4gICAgdGhpcy52aWV3RWxlbWVudCA9IHZpZXdFbGVtZW50O1xuICAgIHRoaXMuY29sU3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkuY29sU3BhbiB8fCAxO1xuICAgIHRoaXMucm93U3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkucm93U3BhbiB8fCAxO1xuICB9XG5cbiAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICBzZXRBbmNob3JTbG90KHNsb3Q6IFRhYmxlU2xvdCkge1xuICAgIHRoaXMuYW5jaG9yU2xvdCA9IHNsb3Q7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlU2xvdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb3dJbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW5JbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsOiBUYWJsZUNlbGwsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgcHNldWRvQ29sdW1uOiBMYXlvdXQuUHNldWRvQ29sdW1uO1xuICBlbXB0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcHNldWRvQ29sdW1uQ29udGFpbmVyOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICB0aGlzLnBzZXVkb0NvbHVtbiA9IG5ldyBMYXlvdXQuUHNldWRvQ29sdW1uKFxuICAgICAgY29sdW1uLFxuICAgICAgcHNldWRvQ29sdW1uQ29udGFpbmVyLFxuICAgICAgY2VsbE5vZGVDb250ZXh0LFxuICAgICk7XG4gIH1cblxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbiA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ247XG4gICAgaWYgKHZlcnRpY2FsQWxpZ24gPT09IFwibWlkZGxlXCIgfHwgdmVydGljYWxBbGlnbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgIH1cbiAgICBjb25zdCBicCA9IHRoaXMucHNldWRvQ29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbih0cnVlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwidmVydGljYWwtYWxpZ25cIiwgdmVydGljYWxBbGlnbik7XG4gICAgcmV0dXJuIGJwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUNhcHRpb25WaWV3IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdOb2RlOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlOiBzdHJpbmcsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEJldHdlZW5UYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIHtcbiAgcHJpdmF0ZSBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcblxuICBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0W10gPSBudWxsO1xuICBwcml2YXRlIHJvd0luZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihwb3NpdGlvbiwgYnJlYWtPbkVkZ2UsIG92ZXJmbG93cywgY29sdW1uQmxvY2tTaXplKTtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gcG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQgYXMgVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IGJyZWFrTm9kZUNvbnRleHQgPSBzdXBlci5maW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbiwgcGVuYWx0eSk7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYWxsQ2VsbHNCcmVha2FibGUgPSB0aGlzLmdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKS5ldmVyeShcbiAgICAgIChicCkgPT4gISFicC5ub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChhbGxDZWxsc0JyZWFrYWJsZSkge1xuICAgICAgcmV0dXJuIGJyZWFrTm9kZUNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGxldCBwZW5hbHR5ID0gc3VwZXIuZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Um93SW5kZXgoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5yb3dJbmRleCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb3dJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLnJvd0luZGV4ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoXG4gICAgICB0aGlzLnBvc2l0aW9uLnNvdXJjZU5vZGUsXG4gICAgKSk7XG4gIH1cblxuICBwcml2YXRlIGdldENlbGxGcmFnbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3codGhpcy5nZXRSb3dJbmRleCgpKVxuICAgICAgLm1hcChcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsRnJhZ21lbnRPZkNlbGwsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnNpZGVUYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvbiB7XG4gIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnM6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHRbXSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGJlZm9yZU5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjZWxsRnJhZ21lbnRzID0gdGhpcy5nZXRDZWxsRnJhZ21lbnRzKCk7XG4gICAgY29uc3QgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZ2V0QWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucygpO1xuICAgIGNvbnN0IGFsbENlbGxzQnJlYWthYmxlID1cbiAgICAgIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMuZXZlcnkoKGJwKSA9PiAhIWJwLm5vZGVDb250ZXh0KSAmJlxuICAgICAgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucy5zb21lKChicCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcHNldWRvQ29sdW1uID0gY2VsbEZyYWdtZW50c1tpbmRleF0ucHNldWRvQ29sdW1uO1xuICAgICAgICBjb25zdCBub2RlQ29udGV4dCA9IGJwLm5vZGVDb250ZXh0O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSAmJlxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNMYXN0QWZ0ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYmVmb3JlTm9kZUNvbnRleHQub3ZlcmZsb3cgPSBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAoYnApID0+IGJwLm5vZGVDb250ZXh0ICYmIGJwLm5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICk7XG4gICAgaWYgKGFsbENlbGxzQnJlYWthYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5iZWZvcmVOb2RlQ29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHJvdyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd0J5SW5kZXgodGhpcy5yb3dJbmRleCk7XG4gICAgbGV0IHBlbmFsdHkgPSAwO1xuICAgIGlmICghZm9ybWF0dGluZ0NvbnRleHQuaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93KSkge1xuICAgICAgcGVuYWx0eSArPSAxMDtcbiAgICB9XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2VsbEZyYWdtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgLmdldENlbGxzRmFsbGluZ09uUm93KHRoaXMucm93SW5kZXgpXG4gICAgICAubWFwKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxGcmFnbWVudE9mQ2VsbCxcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnJva2VuVGFibGVDZWxsUG9zaXRpb24gPSB7XG4gIGNlbGxOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcbiAgYnJlYWtDaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uO1xuICBjZWxsOiBUYWJsZUNlbGw7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB0YWJsZVNvdXJjZU5vZGUgU291cmNlIG5vZGUgb2YgdGhlIHRhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0XG4gIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlRhYmxlXCI7XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbHVtbkNvdW50OiBudW1iZXIgPSAtMTtcbiAgdGFibGVXaWR0aDogbnVtYmVyID0gMDtcbiAgY2FwdGlvbnM6IFRhYmxlQ2FwdGlvblZpZXdbXSA9IFtdO1xuICBjb2xHcm91cHM6IERvY3VtZW50RnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgY29sV2lkdGhzOiBudW1iZXJbXSB8IG51bGwgPSBudWxsO1xuICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXIgPSAwO1xuICByb3dzOiBUYWJsZVJvd1tdID0gW107XG4gIHNsb3RzOiBUYWJsZVNsb3RbXVtdID0gW107XG4gIGNlbGxGcmFnbWVudHM6IFRhYmxlQ2VsbEZyYWdtZW50W11bXSA9IFtdO1xuICBsYXN0Um93Vmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgY2VsbEJyZWFrUG9zaXRpb25zOiBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdID0gW107XG4gIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFibGVTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHtcbiAgICBzdXBlcihwYXJlbnQsIHRhYmxlU291cmNlTm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiVGFibGUgZm9ybWF0dGluZyBjb250ZXh0IChUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gICAgc3dpdGNoIChub2RlQ29udGV4dC5kaXNwbGF5KSB7XG4gICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgICAgICByZXR1cm4gIXRoaXMuY2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAgICAgKHApID0+IHAuY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5ub2RlID09PSBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQYXJlbnQoKTogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIGZpbmlzaEZyYWdtZW50KCkge1xuICAgIHRoaXMuY2VsbEZyYWdtZW50cyA9IFtdO1xuICB9XG5cbiAgYWRkUm93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogVGFibGVSb3cpIHtcbiAgICB0aGlzLnJvd3Nbcm93SW5kZXhdID0gcm93O1xuICB9XG5cbiAgZ2V0Um93U2xvdHMocm93SW5kZXg6IG51bWJlcik6IFRhYmxlU2xvdFtdIHtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLnNsb3RzW3Jvd0luZGV4XTtcbiAgICBpZiAoIXJvd1Nsb3RzKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuc2xvdHNbcm93SW5kZXhdID0gW107XG4gICAgfVxuICAgIHJldHVybiByb3dTbG90cztcbiAgfVxuXG4gIGFkZENlbGwocm93SW5kZXg6IG51bWJlciwgY2VsbDogVGFibGVDZWxsKSB7XG4gICAgbGV0IHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgaWYgKCFyb3cpIHtcbiAgICAgIHRoaXMuYWRkUm93KHJvd0luZGV4LCBuZXcgVGFibGVSb3cocm93SW5kZXgsIG51bGwpKTtcbiAgICAgIHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KHJvdyk7XG4gICAgcm93LmFkZENlbGwoY2VsbCk7XG4gICAgY29uc3Qgcm93VXBwZXIgPSByb3dJbmRleCArIGNlbGwucm93U3BhbjtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICBsZXQgc3RhcnRDb2xJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJvd1Nsb3RzW3N0YXJ0Q29sSW5kZXhdKSB7XG4gICAgICBzdGFydENvbEluZGV4Kys7XG4gICAgfVxuICAgIGZvciAoOyByb3dJbmRleCA8IHJvd1VwcGVyOyByb3dJbmRleCsrKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuZ2V0Um93U2xvdHMocm93SW5kZXgpO1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0Q29sSW5kZXg7IGkgPCBzdGFydENvbEluZGV4ICsgY2VsbC5jb2xTcGFuOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IChyb3dTbG90c1tpXSA9IG5ldyBUYWJsZVNsb3Qocm93SW5kZXgsIGksIGNlbGwpKTtcbiAgICAgICAgaWYgKCFjZWxsLmFuY2hvclNsb3QpIHtcbiAgICAgICAgICBjZWxsLnNldEFuY2hvclNsb3Qoc2xvdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRSb3dCeUluZGV4KGluZGV4OiBudW1iZXIpOiBUYWJsZVJvdyB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5yb3dzW2luZGV4XTtcbiAgICBBc3NlcnRzLmFzc2VydChyb3cpO1xuICAgIHJldHVybiByb3c7XG4gIH1cblxuICBmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoc291cmNlTm9kZTogTm9kZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5maW5kSW5kZXgoKHJvdykgPT4gc291cmNlTm9kZSA9PT0gcm93LnNvdXJjZU5vZGUpO1xuICB9XG5cbiAgYWRkQ2VsbEZyYWdtZW50KFxuICAgIHJvd0luZGV4OiBudW1iZXIsXG4gICAgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICBjZWxsRnJhZ21lbnQ6IFRhYmxlQ2VsbEZyYWdtZW50LFxuICApIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMuY2VsbEZyYWdtZW50c1tyb3dJbmRleF07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBsaXN0ID0gdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd0luZGV4XSA9IFtdO1xuICAgIH1cbiAgICBsaXN0W2NvbHVtbkluZGV4XSA9IGNlbGxGcmFnbWVudDtcbiAgfVxuXG4gIGdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4OiBudW1iZXIpOiBUYWJsZUNlbGxbXSB7XG4gICAgY29uc3Qgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICByZXR1cm4gcm93U2xvdHMucmVkdWNlKCh1bmlxdWVDZWxscywgc2xvdCkgPT4ge1xuICAgICAgaWYgKHNsb3QuY2VsbCAhPT0gdW5pcXVlQ2VsbHNbdW5pcXVlQ2VsbHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzLmNvbmNhdChzbG90LmNlbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhyb3dJbmRleDogbnVtYmVyKTogVGFibGVDZWxsW10ge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4KS5maWx0ZXIoXG4gICAgICAoY2VsbCkgPT4gY2VsbC5yb3dJbmRleCArIGNlbGwucm93U3BhbiAtIDEgPiByb3dJbmRleCxcbiAgICApO1xuICB9XG5cbiAgZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKGNlbGw6IFRhYmxlQ2VsbCk6IFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jZWxsRnJhZ21lbnRzW2NlbGwucm93SW5kZXhdICYmXG4gICAgICB0aGlzLmNlbGxGcmFnbWVudHNbY2VsbC5yb3dJbmRleF1bY2VsbC5jb2x1bW5JbmRleF1cbiAgICApO1xuICB9XG5cbiAgaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93OiBUYWJsZVJvdyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiByb3cuZ2V0TWluaW11bUhlaWdodCgpID4gdGhpcy50YWJsZVdpZHRoIC8gMjtcbiAgfVxuXG4gIGdldENvbHVtbkNvdW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuY29sdW1uQ291bnQgPCAwKSB7XG4gICAgICB0aGlzLmNvbHVtbkNvdW50ID0gTWF0aC5tYXguYXBwbHkoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMucm93cy5tYXAoKHJvdykgPT5cbiAgICAgICAgICByb3cuY2VsbHMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuY29sU3BhbiwgMCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb2x1bW5Db3VudDtcbiAgfVxuXG4gIHVwZGF0ZUNlbGxTaXplcyhjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCkge1xuICAgIHRoaXMucm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoXG4gICAgICAgICAgY2VsbC52aWV3RWxlbWVudCBhcyBFbGVtZW50LFxuICAgICAgICApO1xuICAgICAgICBjZWxsLnZpZXdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY2VsbC5zZXRIZWlnaHQodGhpcy52ZXJ0aWNhbCA/IHJlY3RbXCJ3aWR0aFwiXSA6IHJlY3RbXCJoZWlnaHRcIl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBwb3NpdGlvblxuICAgKi9cbiAgZmluZENlbGxGcm9tQ29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogeyByb3dJbmRleDogbnVtYmVyOyBjb2x1bW5JbmRleDogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAoIWNvbHVtbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCB0YWJsZUNlbGw6IFRhYmxlQ2VsbCA9IG51bGw7XG4gICAgbGV0IHJvdyA9IDA7XG4gICAgbGV0IGNvbCA9IDA7XG4gICAgbG9vcDogZm9yIChyb3cgPSAwOyByb3cgPCB0aGlzLmNlbGxGcmFnbWVudHMubGVuZ3RoOyByb3crKykge1xuICAgICAgaWYgKCF0aGlzLmNlbGxGcmFnbWVudHNbcm93XSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29sID0gMDsgY29sIDwgdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBpZiAoIXRoaXMuY2VsbEZyYWdtZW50c1tyb3ddW2NvbF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uID09PSB0aGlzLmNlbGxGcmFnbWVudHNbcm93XVtjb2xdLnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKSkge1xuICAgICAgICAgIHRhYmxlQ2VsbCA9IHRoaXMucm93c1tyb3ddLmNlbGxzW2NvbF07XG4gICAgICAgICAgYnJlYWsgbG9vcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRhYmxlQ2VsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAoOyByb3cgPCB0aGlzLnNsb3RzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgIGZvciAoOyBjb2wgPCB0aGlzLnNsb3RzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5zbG90c1tyb3ddW2NvbF07XG4gICAgICAgIGlmIChzbG90LmNlbGwgPT09IHRhYmxlQ2VsbCkge1xuICAgICAgICAgIHJldHVybiB7IHJvd0luZGV4OiBzbG90LnJvd0luZGV4LCBjb2x1bW5JbmRleDogc2xvdC5jb2x1bW5JbmRleCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZVcHBlckNlbGxzKFxuICAgIHBvc2l0aW9uOiB7IHJvd0luZGV4OiBudW1iZXI7IGNvbHVtbkluZGV4OiBudW1iZXIgfSB8IG51bGwsXG4gICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGNvbGxlY3RlZCA9IFtdO1xuICAgIHJldHVybiB0aGlzLnNsb3RzLnJlZHVjZSgocmVwZXRpdGl2ZUVsZW1lbnRzLCByb3csIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPj0gcG9zaXRpb24ucm93SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9XG4gICAgICAgIHJvd1twb3NpdGlvbi5jb2x1bW5JbmRleF0gJiZcbiAgICAgICAgdGhpcy5nZXRDZWxsRnJhZ21lbnRPZkNlbGwocm93W3Bvc2l0aW9uLmNvbHVtbkluZGV4XS5jZWxsKTtcbiAgICAgIGlmICghY2VsbEZyYWdtZW50IHx8IGNvbGxlY3RlZC5pbmNsdWRlcyhjZWxsRnJhZ21lbnQpKSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHM7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbGxlY3RFbGVtZW50c09mZnNldEZyb21Db2x1bW4oXG4gICAgICAgIGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCksXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyxcbiAgICAgICk7XG4gICAgICBjb2xsZWN0ZWQucHVzaChjZWxsRnJhZ21lbnQpO1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICB9LCBbXSBhcyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdKTtcbiAgfVxuXG4gIGNvbGxlY3RFbGVtZW50c09mZnNldE9mSGlnaGVzdENvbHVtbigpOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdIHtcbiAgICBjb25zdCBlbGVtZW50c0luQ29sdW1uID0gW107XG4gICAgdGhpcy5yb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93LmNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghZWxlbWVudHNJbkNvbHVtbltpbmRleF0pIHtcbiAgICAgICAgICBlbGVtZW50c0luQ29sdW1uW2luZGV4XSA9IHsgY29sbGVjdGVkOiBbXSwgZWxlbWVudHM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBlbGVtZW50c0luQ29sdW1uW2luZGV4XTtcbiAgICAgICAgY29uc3QgY2VsbEZyYWdtZW50ID0gdGhpcy5nZXRDZWxsRnJhZ21lbnRPZkNlbGwoY2VsbCk7XG4gICAgICAgIGlmICghY2VsbEZyYWdtZW50IHx8IHN0YXRlLmNvbGxlY3RlZC5pbmNsdWRlcyhjZWxsRnJhZ21lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbihcbiAgICAgICAgICBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbigpLFxuICAgICAgICAgIHN0YXRlLmVsZW1lbnRzLFxuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5jb2xsZWN0ZWQucHVzaChjZWxsRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBFbGVtZW50c09mZnNldE9mVGFibGVDZWxsKFxuICAgICAgICBlbGVtZW50c0luQ29sdW1uLm1hcCgoZW50cnkpID0+IGVudHJ5LmVsZW1lbnRzKSxcbiAgICAgICksXG4gICAgXTtcbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbihcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSxcbiAgKSB7XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50ID0gY29uc3RyYWludC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChjb25zdHJhaW50KSkge1xuICAgICAgICBjb25zdHJhaW50XG4gICAgICAgICAgLmdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChudWxsKVxuICAgICAgICAgIC5mb3JFYWNoKChyZXBldGl0aXZlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3RhdGUoKTogYW55IHtcbiAgICByZXR1cm4gW10uY29uY2F0KHRoaXMuY2VsbEJyZWFrUG9zaXRpb25zKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdG9yZVN0YXRlKHN0YXRlOiBhbnkpIHtcbiAgICB0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucyA9IHN0YXRlIGFzIEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uW107XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRzT2Zmc2V0T2ZUYWJsZUNlbGxcbiAgaW1wbGVtZW50cyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByZXBlYXRpdGl2ZUVsZW1lbnRzSW5Db2x1bW5zOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdW10sXG4gICkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAob2Zmc2V0cykgPT4gb2Zmc2V0cy5jdXJyZW50LFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbihcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgKG9mZnNldHMpID0+IG9mZnNldHMubWluaW11bSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbihub2RlQ29udGV4dCwgcmVzb2x2ZXIpIHtcbiAgICBsZXQgbWF4T2Zmc2V0ID0gMDtcbiAgICB0aGlzLnJlcGVhdGl0aXZlRWxlbWVudHNJbkNvbHVtbnMuZm9yRWFjaCgocmVwZXRpdGl2ZUVsZW1lbnRzKSA9PiB7XG4gICAgICBjb25zdCBvZmZzZXRzID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICApO1xuICAgICAgbWF4T2Zmc2V0ID0gTWF0aC5tYXgobWF4T2Zmc2V0LCByZXNvbHZlcihvZmZzZXRzKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1heE9mZnNldDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICBmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4pOiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgQXNzZXJ0cy5hc3NlcnQoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KTtcbiAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0IGFzIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFibGVSb3dHcm91cGluZyhkaXNwbGF5OiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3ctZ3JvdXBcIiB8fFxuICAgIGRpc3BsYXkgPT09IFwidGFibGUtaGVhZGVyLWdyb3VwXCIgfHxcbiAgICBkaXNwbGF5ID09PSBcInRhYmxlLWZvb3Rlci1ncm91cFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzVGFibGVSb290KGRpc3BsYXk6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuIGRpc3BsYXkgPT09IFwidGFibGVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS10YWJsZVwiO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhkaXNwbGF5OiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc1RhYmxlUm93R3JvdXBpbmcoZGlzcGxheSkgfHwgaXNUYWJsZVJvb3QoZGlzcGxheSk7XG59XG5cbmZ1bmN0aW9uIHNraXBOZXN0ZWRUYWJsZShcbiAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHwgbnVsbCB7XG4gIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICBjb25zdCBwYXJlbnREaXNwbGF5ID0gbm9kZUNvbnRleHQucGFyZW50ID8gbm9kZUNvbnRleHQucGFyZW50LmRpc3BsYXkgOiBudWxsO1xuXG4gIC8vIElzIGlubGluZS10YWJsZSBuZXN0ZWQgaW4gYW5vdGhlciB0YWJsZT9cbiAgbGV0IGlzTmVzdGVkSW5saW5lVGFibGUgPSBmYWxzZTtcbiAgaWYgKFxuICAgIHBhcmVudERpc3BsYXkgPT09IFwiaW5saW5lLXRhYmxlXCIgJiZcbiAgICAhKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dClcbiAgKSB7XG4gICAgZm9yIChsZXQgbmMgPSBub2RlQ29udGV4dC5wYXJlbnQ7IG5jOyBuYyA9IG5jLnBhcmVudCkge1xuICAgICAgaWYgKG5jLmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgICBpc05lc3RlZElubGluZVRhYmxlID0gbmMuZm9ybWF0dGluZ0NvbnRleHQgPT09IGZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgaXNOZXN0ZWRUYWJsZSA9XG4gICAgaXNOZXN0ZWRJbmxpbmVUYWJsZSB8fFxuICAgIChkaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiICYmICFpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhwYXJlbnREaXNwbGF5KSkgfHxcbiAgICAoZGlzcGxheSA9PT0gXCJ0YWJsZS1jZWxsXCIgJiZcbiAgICAgIHBhcmVudERpc3BsYXkgIT09IFwidGFibGUtcm93XCIgJiZcbiAgICAgICFpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhwYXJlbnREaXNwbGF5KSkgfHxcbiAgICAobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCAhPT0gZm9ybWF0dGluZ0NvbnRleHQpO1xuICBpZiAoaXNOZXN0ZWRUYWJsZSkge1xuICAgIHJldHVybiBjb2x1bW5cbiAgICAgIC5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dClcbiAgICAgIC50aGVuQXN5bmMoKG5vZGVDb250ZXh0QWZ0ZXIpID0+IHtcbiAgICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSBub2RlQ29udGV4dEFmdGVyO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVMYXlvdXRTdHJhdGVneSBleHRlbmRzIExheW91dFV0aWwuRWRnZVNraXBwZXIge1xuICByb3dJbmRleDogbnVtYmVyID0gLTE7XG4gIGNvbHVtbkluZGV4OiBudW1iZXIgPSAwO1xuICBpblJvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICBpbkhlYWRlck9yRm9vdGVyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHIgPSBza2lwTmVzdGVkVGFibGUoc3RhdGUsIGZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLmNvbHVtbik7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB0aGlzLnBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzKHN0YXRlKTtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIHN3aXRjaCAoZGlzcGxheSkge1xuICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmlubGluZUJvcmRlclNwYWNpbmcgPSBub2RlQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YWJsZS1jYXB0aW9uXCI6IHtcbiAgICAgICAgY29uc3QgY2FwdGlvblZpZXcgPSBuZXcgVGFibGVDYXB0aW9uVmlldyhcbiAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgIG5vZGVDb250ZXh0LmNhcHRpb25TaWRlLFxuICAgICAgICApO1xuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5jYXB0aW9ucy5wdXNoKGNhcHRpb25WaWV3KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidGFibGUtaGVhZGVyLWdyb3VwXCI6XG4gICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzSGVhZGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgdGhpcy5pbkhlYWRlck9yRm9vdGVyID0gdHJ1ZTtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0SGVhZGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIGNhc2UgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjpcbiAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJSZWdpc3RlcmVkKCkpIHtcbiAgICAgICAgICB0aGlzLmluSGVhZGVyT3JGb290ZXIgPSB0cnVlO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5zZXRGb290ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgY2FzZSBcInRhYmxlLXJvd1wiOlxuICAgICAgICBpZiAoIXRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucm93SW5kZXgrKztcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgICAgICB0aGlzLmNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5hZGRSb3coXG4gICAgICAgICAgICB0aGlzLnJvd0luZGV4LFxuICAgICAgICAgICAgbmV3IFRhYmxlUm93KHRoaXMucm93SW5kZXgsIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gdGhpcy5jb2x1bW4uY2xpZW50TGF5b3V0O1xuICAgIHRoaXMucG9zdExheW91dEJsb2NrQ29udGVudHMoc3RhdGUpO1xuICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBmb3JtYXR0aW5nQ29udGV4dC50YWJsZVNvdXJjZU5vZGUpIHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShub2RlQ29udGV4dCkgYXMgRWxlbWVudCxcbiAgICAgICk7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC50YWJsZVdpZHRoID0gcGFyc2VGbG9hdChcbiAgICAgICAgY29tcHV0ZWRTdHlsZVtmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdLFxuICAgICAgKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpLmxhc3RDb250ZW50U291cmNlTm9kZSA9XG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0ICYmXG4gICAgICAgIChzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpO1xuICAgICAgc3RhdGUuYnJlYWsgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICAgICAgY2FzZSBcInRhYmxlLWhlYWRlci1ncm91cFwiOlxuICAgICAgICBjYXNlIFwidGFibGUtZm9vdGVyLWdyb3VwXCI6XG4gICAgICAgICAgaWYgKHRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgICAgdGhpcy5pbkhlYWRlck9yRm9vdGVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgICAgaWYgKCF0aGlzLmluSGVhZGVyT3JGb290ZXIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0Lmxhc3RSb3dWaWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmluUm93ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgICAgICAgIGlmICghdGhpcy5pbkhlYWRlck9yRm9vdGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5Sb3cpIHtcbiAgICAgICAgICAgICAgdGhpcy5yb3dJbmRleCsrO1xuICAgICAgICAgICAgICB0aGlzLmNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgdGhpcy5pblJvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmFkZENlbGwoXG4gICAgICAgICAgICAgIHRoaXMucm93SW5kZXgsXG4gICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwodGhpcy5yb3dJbmRleCwgdGhpcy5jb2x1bW5JbmRleCwgZWxlbSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5JbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydE5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZnRlck5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydElubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZnRlcklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgcmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpIHtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmIChcbiAgICAgIG5vZGVDb250ZXh0ICYmXG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSAmJlxuICAgICAgIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgICApIHtcbiAgICAgIHRoaXMuY2hlY2tQb2ludHMucHVzaChub2RlQ29udGV4dC5jbG9uZSgpKTtcbiAgICB9XG4gIH1cblxuICBwb3N0TGF5b3V0QmxvY2tDb250ZW50cyhzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jb2x1bW4ucG9zdExheW91dEJsb2NrKHN0YXRlLm5vZGVDb250ZXh0LCB0aGlzLmNoZWNrUG9pbnRzKTtcbiAgICB9XG4gICAgdGhpcy5jaGVja1BvaW50cyA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUxheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIHByaXZhdGUgc3RhdGljIGlnbm9yZUxpc3Q6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xuICAgIFwidGFibGUtY2FwdGlvblwiOiB0cnVlLFxuICAgIFwidGFibGUtY29sdW1uLWdyb3VwXCI6IHRydWUsXG4gICAgXCJ0YWJsZS1jb2x1bW5cIjogdHJ1ZSxcbiAgfTtcbiAgaW5Sb3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY3VycmVudFJvd0luZGV4OiBudW1iZXIgPSAtMTtcbiAgY3VycmVudENvbHVtbkluZGV4OiBudW1iZXIgPSAwO1xuICBvcmlnaW5hbFN0b3BBdE92ZXJmbG93OiBib29sZWFuO1xuICBpbkhlYWRlcjogYm9vbGVhbjtcbiAgaW5Gb290ZXI6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIHN1cGVyKHRydWUpO1xuICAgIHRoaXMub3JpZ2luYWxTdG9wQXRPdmVyZmxvdyA9IGNvbHVtbi5zdG9wQXRPdmVyZmxvdztcbiAgICBjb2x1bW4uc3RvcEF0T3ZlcmZsb3cgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2V0Q29sdW1uKCkge1xuICAgIHRoaXMuY29sdW1uLnN0b3BBdE92ZXJmbG93ID0gdGhpcy5vcmlnaW5hbFN0b3BBdE92ZXJmbG93O1xuICB9XG5cbiAgZ2V0Q29sU3Bhbm5pbmdDZWxsV2lkdGgoY2VsbDogVGFibGVDZWxsKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb2xXaWR0aHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNvbFdpZHRocztcbiAgICBBc3NlcnRzLmFzc2VydChjb2xXaWR0aHMpO1xuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsLmNvbFNwYW47IGkrKykge1xuICAgICAgd2lkdGggKz0gY29sV2lkdGhzW2NlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCArIGldO1xuICAgIH1cbiAgICB3aWR0aCArPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmlubGluZUJvcmRlclNwYWNpbmcgKiAoY2VsbC5jb2xTcGFuIC0gMSk7XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG5cbiAgbGF5b3V0Q2VsbChcbiAgICBjZWxsOiBUYWJsZUNlbGwsXG4gICAgY2VsbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdGFydENodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCByb3dJbmRleCA9IGNlbGwucm93SW5kZXg7XG4gICAgY29uc3QgY29sdW1uSW5kZXggPSBjZWxsLmNvbHVtbkluZGV4O1xuICAgIGNvbnN0IGNvbFNwYW4gPSBjZWxsLmNvbFNwYW47XG4gICAgY29uc3QgY2VsbFZpZXdOb2RlID0gY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbiA9IGNlbGxOb2RlQ29udGV4dC52ZXJ0aWNhbEFsaWduO1xuICAgIGlmIChjb2xTcGFuID4gMSkge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsVmlld05vZGUsIFwiYm94LXNpemluZ1wiLCBcImJvcmRlci1ib3hcIik7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBjZWxsVmlld05vZGUsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuICAgICAgICBgJHt0aGlzLmdldENvbFNwYW5uaW5nQ2VsbFdpZHRoKGNlbGwpfXB4YCxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHBzZXVkb0NvbHVtbkNvbnRhaW5lciA9IGNlbGxWaWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICk7XG4gICAgY2VsbFZpZXdOb2RlLmFwcGVuZENoaWxkKHBzZXVkb0NvbHVtbkNvbnRhaW5lcik7XG4gICAgY29uc3QgY2VsbEZyYWdtZW50ID0gbmV3IFRhYmxlQ2VsbEZyYWdtZW50KFxuICAgICAgdGhpcy5jb2x1bW4sXG4gICAgICBwc2V1ZG9Db2x1bW5Db250YWluZXIsXG4gICAgICBjZWxsTm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmFkZENlbGxGcmFnbWVudChyb3dJbmRleCwgY29sdW1uSW5kZXgsIGNlbGxGcmFnbWVudCk7XG4gICAgaWYgKFxuICAgICAgc3RhcnRDaHVua1Bvc2l0aW9uLnByaW1hcnkuc3RlcHMubGVuZ3RoID09PSAxICYmXG4gICAgICBzdGFydENodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlclxuICAgICkge1xuICAgICAgLy8gQ29udGVudHMgb2YgdGhlIGNlbGwgaGF2ZSBlbmRlZCBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnRcbiAgICAgIGNlbGxGcmFnbWVudC5lbXB0eSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uXG4gICAgICAubGF5b3V0KHN0YXJ0Q2h1bmtQb3NpdGlvbiwgdHJ1ZSlcbiAgICAgIC50aGVuUmV0dXJuKHRydWUpO1xuICB9XG5cbiAgaGFzQnJva2VuQ2VsbEF0U2xvdChzbG90SW5kZXgpOiBib29sZWFuIHtcbiAgICBjb25zdCBjZWxsQnJlYWtQb3NpdGlvbiA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zWzBdO1xuICAgIGlmIChjZWxsQnJlYWtQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCA9PT0gc2xvdEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RSb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucygpOiBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdW10ge1xuICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zO1xuICAgIGlmIChjZWxsQnJlYWtQb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGNvbnN0IHAgPSBjZWxsQnJlYWtQb3NpdGlvbnNbaV07XG4gICAgICBjb25zdCByb3dJbmRleCA9IHAuY2VsbC5yb3dJbmRleDtcbiAgICAgIGlmIChyb3dJbmRleCA8IHRoaXMuY3VycmVudFJvd0luZGV4KSB7XG4gICAgICAgIGxldCBhcnIgPSByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9uc1tyb3dJbmRleF07XG4gICAgICAgIGlmICghYXJyKSB7XG4gICAgICAgICAgYXJyID0gcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnNbcm93SW5kZXhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2gocCk7XG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaSA8IGNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGgpO1xuICAgIHJldHVybiByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIGxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudChcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zID0gdGhpcy5leHRyYWN0Um93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMoKTtcbiAgICBjb25zdCByb3dDb3VudCA9IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zLnJlZHVjZSgocykgPT4gcyArIDEsIDApO1xuICAgIGlmIChyb3dDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBsYXlvdXRDb250ZXh0ID0gdGhpcy5jb2x1bW4ubGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBjdXJyZW50Um93ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY3VycmVudFJvdy52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN1cnJlbnRSb3cudmlld05vZGUpO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcbiAgICAgIFwibGF5b3V0Um93U3Bhbm5pbmdDZWxsc0Zyb21QcmV2aW91c0ZyYWdtZW50XCIsXG4gICAgKTtcbiAgICBsZXQgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIGxldCBzcGFubmluZ0NlbGxSb3dJbmRleCA9IDA7XG4gICAgY29uc3Qgb2NjdXBpZWRTbG90SW5kaWNlcyA9IFtdO1xuICAgIHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zLmZvckVhY2goKHJvd0NlbGxCcmVha1Bvc2l0aW9ucykgPT4ge1xuICAgICAgY29udCA9IGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgLy8gSXMgaXQgYWx3YXlzIGNvcnJlY3QgdG8gYXNzdW1lIHN0ZXBzWzFdIHRvIGJlIHRoZSByb3c/XG4gICAgICAgIGNvbnN0IHJvd05vZGVDb250ZXh0ID0gVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKFxuICAgICAgICAgIHJvd0NlbGxCcmVha1Bvc2l0aW9uc1swXS5jZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzFdLFxuICAgICAgICAgIGN1cnJlbnRSb3cucGFyZW50LFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbGF5b3V0Q29udGV4dC5zZXRDdXJyZW50KHJvd05vZGVDb250ZXh0LCBmYWxzZSkudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICBsZXQgY29udDEgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICBsZXQgY29sdW1uSW5kZXggPSAwO1xuXG4gICAgICAgICAgZnVuY3Rpb24gYWRkRHVtbXlDZWxsVW50aWwodXBwZXJDb2x1bW5JbmRleCkge1xuICAgICAgICAgICAgd2hpbGUgKGNvbHVtbkluZGV4IDwgdXBwZXJDb2x1bW5JbmRleCkge1xuICAgICAgICAgICAgICBpZiAoIW9jY3VwaWVkU2xvdEluZGljZXMuaW5jbHVkZXMoY29sdW1uSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVtbXkgPSByb3dOb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGR1bW15LCBcInBhZGRpbmdcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIHJvd05vZGVDb250ZXh0LnZpZXdOb2RlLmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb2x1bW5JbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByb3dDZWxsQnJlYWtQb3NpdGlvbnMuZm9yRWFjaCgoY2VsbEJyZWFrUG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnQxID0gY29udDEudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxCcmVha1Bvc2l0aW9uLmNlbGw7XG4gICAgICAgICAgICAgIGFkZER1bW15Q2VsbFVudGlsKGNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IGNlbGxOb2RlUG9zaXRpb24gPSBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsTm9kZVBvc2l0aW9uO1xuICAgICAgICAgICAgICBjb25zdCBjZWxsTm9kZUNvbnRleHQgPSBWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgICAgICAgICAgICAgY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXSxcbiAgICAgICAgICAgICAgICByb3dOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY2VsbE5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IGNlbGxOb2RlUG9zaXRpb24ub2Zmc2V0SW5Ob2RlO1xuICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQuYWZ0ZXIgPSBjZWxsTm9kZVBvc2l0aW9uLmFmdGVyO1xuICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCA9XG4gICAgICAgICAgICAgICAgY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5mcmFnbWVudEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgcmV0dXJuIGxheW91dENvbnRleHRcbiAgICAgICAgICAgICAgICAuc2V0Q3VycmVudChjZWxsTm9kZUNvbnRleHQsIGZhbHNlKVxuICAgICAgICAgICAgICAgIC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYnJlYWtDaHVua1Bvc2l0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgY2VsbEJyZWFrUG9zaXRpb24uYnJlYWtDaHVua1Bvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsLmNvbFNwYW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBvY2N1cGllZFNsb3RJbmRpY2VzLnB1c2goY29sdW1uSW5kZXggKyBpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbHVtbkluZGV4ICs9IGNlbGwuY29sU3BhbjtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxheW91dENlbGwoXG4gICAgICAgICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICAgICAgICAgIGNlbGxOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtDaHVua1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgKS50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAoY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50KS5yb3dTcGFuID1cbiAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJvd0luZGV4ICtcbiAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJvd1NwYW4gLVxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ICtcbiAgICAgICAgICAgICAgICAgICAgICByb3dDb3VudCAtXG4gICAgICAgICAgICAgICAgICAgICAgc3Bhbm5pbmdDZWxsUm93SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnQxLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICBhZGREdW1teUNlbGxVbnRpbChmb3JtYXR0aW5nQ29udGV4dC5nZXRDb2x1bW5Db3VudCgpKTtcbiAgICAgICAgICAgIHNwYW5uaW5nQ2VsbFJvd0luZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgIGxheW91dENvbnRleHRcbiAgICAgICAgLnNldEN1cnJlbnQoY3VycmVudFJvdywgdHJ1ZSwgc3RhdGUuYXRVbmZvcmNlZEJyZWFrKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzdGFydFRhYmxlUm93KHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuaW5IZWFkZXIgfHwgdGhpcy5pbkZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBpZiAodGhpcy5jdXJyZW50Um93SW5kZXggPCAwKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKFxuICAgICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q29sdW1uSW5kZXggPSAwO1xuICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudChzdGF0ZSkudGhlbkFzeW5jKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ2VsbEZyYWdtZW50SW5kZXgoKTtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3duID0gdGhpcy5jb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvdmVyZmxvd24gJiZcbiAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3coXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCAtIDEsXG4gICAgICAgICAgKS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5yZXNldENvbHVtbigpO1xuICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckNlbGxGcmFnbWVudEluZGV4KCkge1xuICAgIGNvbnN0IGNlbGxzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dCeUluZGV4KHRoaXMuY3VycmVudFJvd0luZGV4KVxuICAgICAgLmNlbGxzO1xuICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9uID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnNbXG4gICAgICAgIGNlbGwuY29sdW1uSW5kZXhcbiAgICAgIF07XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uICYmXG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCA9PVxuICAgICAgICAgIGNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHRkTm9kZVN0ZXAgPSBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzBdO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAodGhpcy5jb2x1bW5cbiAgICAgICAgICAubGF5b3V0Q29udGV4dCBhcyBWZ2VuLlZpZXdGYWN0b3J5KS54bWxkb2MuZ2V0RWxlbWVudE9mZnNldChcbiAgICAgICAgICB0ZE5vZGVTdGVwLm5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgTGF5b3V0LnJlZ2lzdGVyRnJhZ21lbnRJbmRleChvZmZzZXQsIHRkTm9kZVN0ZXAuZnJhZ21lbnRJbmRleCArIDEsIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRUYWJsZUNlbGwoc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5pbkhlYWRlciB8fCB0aGlzLmluRm9vdGVyKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgaWYgKCF0aGlzLmluUm93KSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Um93SW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4Kys7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRDb2x1bW5JbmRleCA9IDA7XG4gICAgICB0aGlzLmluUm93ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgY2VsbCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um93QnlJbmRleCh0aGlzLmN1cnJlbnRSb3dJbmRleClcbiAgICAgIC5jZWxsc1t0aGlzLmN1cnJlbnRDb2x1bW5JbmRleF07XG4gICAgY29uc3QgYWZ0ZXJOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKS5tb2RpZnkoKTtcbiAgICBhZnRlck5vZGVDb250ZXh0LmFmdGVyID0gdHJ1ZTtcbiAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IGFmdGVyTm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFwic3RhcnRUYWJsZUNlbGxcIik7XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+O1xuICAgIGlmICh0aGlzLmhhc0Jyb2tlbkNlbGxBdFNsb3QoY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4KSkge1xuICAgICAgY29uc3QgY2VsbEJyZWFrUG9zaXRpb24gPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucy5zaGlmdCgpO1xuICAgICAgbm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCA9XG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF0uZnJhZ21lbnRJbmRleCArIDE7XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQoY2VsbEJyZWFrUG9zaXRpb24uYnJlYWtDaHVua1Bvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IHRoaXMuY29sdW1uXG4gICAgICAgIC5uZXh0SW5UcmVlKG5vZGVDb250ZXh0LCBzdGF0ZS5hdFVuZm9yY2VkQnJlYWspXG4gICAgICAgIC50aGVuQXN5bmMoKG5leHROb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgIGlmIChuZXh0Tm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnJlbW92ZUNoaWxkKG5leHROb2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN0YXJ0Tm9kZVBvc2l0aW9uID0gVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKHN0YXJ0Tm9kZVBvc2l0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb250LnRoZW4oKHN0YXJ0Q2h1bmtQb3NpdGlvbikgPT4ge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQpO1xuICAgICAgdGhpcy5sYXlvdXRDZWxsKGNlbGwsIG5vZGVDb250ZXh0LCBzdGFydENodW5rUG9zaXRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb2x1bW5JbmRleCsrO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzdGFydE5vbklubGluZUJveChcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgciA9IHNraXBOZXN0ZWRUYWJsZShcbiAgICAgIHN0YXRlLFxuICAgICAgZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dCh0aGlzLmZvcm1hdHRpbmdDb250ZXh0KSxcbiAgICAgIHRoaXMuY29sdW1uLFxuICAgICk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgaWYgKFxuICAgICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIiAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgKSB7XG4gICAgICB0aGlzLmluSGVhZGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1mb290ZXItZ3JvdXBcIiAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgKSB7XG4gICAgICB0aGlzLmluRm9vdGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0VGFibGVSb3coc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1jZWxsXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0VGFibGVDZWxsKHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGVuZE5vbklubGluZUJveChzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIHRoaXMuaW5Sb3cgPSBmYWxzZTtcbiAgICAgIGlmICghdGhpcy5pbkhlYWRlciAmJiAhdGhpcy5pbkZvb3Rlcikge1xuICAgICAgICBjb25zdCBiZWZvcmVOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKS5tb2RpZnkoKTtcbiAgICAgICAgYmVmb3JlTm9kZUNvbnRleHQuYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYnAgPSBuZXcgSW5zaWRlVGFibGVSb3dCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4LFxuICAgICAgICAgIGJlZm9yZU5vZGVDb250ZXh0LFxuICAgICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29sdW1uLmJyZWFrUG9zaXRpb25zLnB1c2goYnApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLWhlYWRlci1ncm91cFwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICAhcmVwZXRpdGl2ZUVsZW1lbnRzLmFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5pbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBcImRpc3BsYXlcIixcbiAgICAgICAgICBcInRhYmxlLXJvdy1ncm91cFwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1mb290ZXItZ3JvdXBcIikge1xuICAgICAgaWYgKFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuaW5Gb290ZXIgPSBmYWxzZTtcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICAgXCJkaXNwbGF5XCIsXG4gICAgICAgICAgXCJ0YWJsZS1yb3ctZ3JvdXBcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpc3BsYXkgJiYgVGFibGVMYXlvdXRTdHJhdGVneS5pZ25vcmVMaXN0W2Rpc3BsYXldKSB7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC50YWJsZVNvdXJjZU5vZGVcbiAgICApIHtcbiAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdGhpcy5jb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlKFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgbnVsbCxcbiAgICAgICk7XG4gICAgICB0aGlzLnJlc2V0Q29sdW1uKCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG59XG5cbnR5cGUgVGFibGVMYXlvdXRPcHRpb24gPSB7XG4gIGNhbGN1bGF0ZUJyZWFrUG9zaXRpb25zSW5zaWRlOiBib29sZWFuO1xufTtcbmNvbnN0IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGU6IHtcbiAgcm9vdDogTm9kZTtcbiAgdGFibGVMYXlvdXRPcHRpb246IFRhYmxlTGF5b3V0T3B0aW9uO1xufVtdID0gW107XG5cbmZ1bmN0aW9uIGdldFRhYmxlTGF5b3V0T3B0aW9uKFxuICB0YWJsZVJvb3RTb3VyY2VOb2RlOiBOb2RlLFxuKTogVGFibGVMYXlvdXRPcHRpb24gfCBudWxsIHtcbiAgY29uc3QgaSA9IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUuZmluZEluZGV4KFxuICAgIChjKSA9PiBjLnJvb3QgPT09IHRhYmxlUm9vdFNvdXJjZU5vZGUsXG4gICk7XG4gIGNvbnN0IHBhaXIgPSB0YWJsZUxheW91dE9wdGlvbkNhY2hlW2ldO1xuICByZXR1cm4gcGFpciA/IHBhaXIudGFibGVMYXlvdXRPcHRpb24gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBjbGVhclRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUodGFibGVSb290U291cmNlTm9kZTogTm9kZSk6IHZvaWQge1xuICBjb25zdCBpID0gdGFibGVMYXlvdXRPcHRpb25DYWNoZS5maW5kSW5kZXgoXG4gICAgKGMpID0+IGMucm9vdCA9PT0gdGFibGVSb290U291cmNlTm9kZSxcbiAgKTtcbiAgaWYgKGkgPj0gMCkge1xuICAgIHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUuc3BsaWNlKGksIDEpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUxheW91dFByb2Nlc3NvciBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3Ige1xuICBwcml2YXRlIGxheW91dEVudGlyZVRhYmxlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBFbnRpcmVUYWJsZUxheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb2x1bW5XaWR0aHMoXG4gICAgbGFzdFJvdzogRWxlbWVudCxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiBudW1iZXJbXSB7XG4gICAgY29uc3QgZG9jID0gbGFzdFJvdy5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGR1bW15Um93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICBjb25zdCBkdW1teUNlbGxzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgIGR1bW15Um93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgZHVtbXlDZWxscy5wdXNoKGNlbGwpO1xuICAgIH1cbiAgICBsYXN0Um93LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15Um93LCBsYXN0Um93Lm5leHRTaWJsaW5nKTtcbiAgICBjb25zdCBjb2xXaWR0aHMgPSBkdW1teUNlbGxzLm1hcCgoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgcmVjdCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChjZWxsKTtcbiAgICAgIHJldHVybiB2ZXJ0aWNhbCA/IHJlY3RbXCJoZWlnaHRcIl0gOiByZWN0W1wid2lkdGhcIl07XG4gICAgfSk7XG4gICAgbGFzdFJvdy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGR1bW15Um93KTtcbiAgICByZXR1cm4gY29sV2lkdGhzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb2xHcm91cEVsZW1lbnRzKHRhYmxlRWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnRbXSB7XG4gICAgY29uc3QgY29sR3JvdXBzID0gW107XG4gICAgbGV0IGNoaWxkID0gdGFibGVFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLmxvY2FsTmFtZSA9PT0gXCJjb2xncm91cFwiKSB7XG4gICAgICAgIGNvbEdyb3Vwcy5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gY29sR3JvdXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBub3JtYWxpemVBbmRHZXRDb2xFbGVtZW50cyhjb2xHcm91cHM6IEVsZW1lbnRbXSk6IEVsZW1lbnRbXSB7XG4gICAgY29uc3QgY29scyA9IFtdO1xuICAgIGNvbEdyb3Vwcy5mb3JFYWNoKChjb2xHcm91cCkgPT4ge1xuICAgICAgLy8gUmVwbGFjZSBjb2xncm91cFtzcGFuPW5dIHdpdGggY29sZ3JvdXAgd2l0aCBuIGNvbCBlbGVtZW50c1xuICAgICAgbGV0IHNwYW4gPSAoY29sR3JvdXAgYXMgYW55KS5zcGFuO1xuICAgICAgY29sR3JvdXAucmVtb3ZlQXR0cmlidXRlKFwic3BhblwiKTtcbiAgICAgIGxldCBjb2wgPSBjb2xHcm91cC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIHdoaWxlIChjb2wpIHtcbiAgICAgICAgaWYgKGNvbC5sb2NhbE5hbWUgPT09IFwiY29sXCIpIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIGNvbFtzcGFuPW5dIHdpdGggbiBjb2wgZWxlbWVudHNcbiAgICAgICAgICBsZXQgcyA9IChjb2wgYXMgYW55KS5zcGFuO1xuICAgICAgICAgIGNvbC5yZW1vdmVBdHRyaWJ1dGUoXCJzcGFuXCIpO1xuICAgICAgICAgIHNwYW4gLT0gcztcbiAgICAgICAgICB3aGlsZSAocy0tID4gMSkge1xuICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY29sLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbEdyb3VwLmluc2VydEJlZm9yZShjbG9uZWQsIGNvbCk7XG4gICAgICAgICAgICBjb2xzLnB1c2goY2xvbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29sID0gY29sLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzcGFuLS0gPiAwKSB7XG4gICAgICAgIGNvbCA9IGNvbEdyb3VwLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbFwiKTtcbiAgICAgICAgY29sR3JvdXAuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbHM7XG4gIH1cblxuICBwcml2YXRlIGFkZE1pc3NpbmdDb2xFbGVtZW50cyhcbiAgICBjb2xzOiBFbGVtZW50W10sXG4gICAgY29sR3JvdXBzOiBFbGVtZW50W10sXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICB0YWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gICkge1xuICAgIGlmIChjb2xzLmxlbmd0aCA8IGNvbHVtbkNvdW50KSB7XG4gICAgICBjb25zdCBjb2xHcm91cCA9IHRhYmxlRWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb2xncm91cFwiKTtcbiAgICAgIGNvbEdyb3Vwcy5wdXNoKGNvbEdyb3VwKTtcbiAgICAgIGZvciAobGV0IGkgPSBjb2xzLmxlbmd0aDsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgY29sID0gdGFibGVFbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbFwiKTtcbiAgICAgICAgY29sR3JvdXAuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmUgd2lkdGggb2YgY29sdW1ucyBhbmQgbm9ybWFsaXplIGNvbGdyb3VwIGFuZCBjb2wgZWxlbWVudHMgc28gdGhhdFxuICAgKiBlYWNoIGNvbHVtbiBoYXMgYSBjb3JyZXNwb25kaW5nIGNvbCBlbGVtZW50IHdpdGggdGhlIHdpZHRoIHNwZWNpZmllZC5cbiAgICovXG4gIG5vcm1hbGl6ZUNvbEdyb3VwcyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICB0YWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IGZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsO1xuICAgIGNvbnN0IGxhc3RSb3cgPSBmb3JtYXR0aW5nQ29udGV4dC5sYXN0Um93Vmlld05vZGU7XG4gICAgaWYgKCFsYXN0Um93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KGxhc3RSb3cpO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0Lmxhc3RSb3dWaWV3Tm9kZSA9IG51bGw7XG4gICAgY29uc3QgZG9jID0gbGFzdFJvdy5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIC8vIENvdW50IGNvbHVtbnNcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldENvbHVtbkNvdW50KCk7XG4gICAgaWYgKCEoY29sdW1uQ291bnQgPiAwKSkge1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzID0gZnJhZ21lbnQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWVhc3VyZSBjb2x1bW4gd2lkdGhzXG4gICAgY29uc3QgY29sV2lkdGhzID0gKGZvcm1hdHRpbmdDb250ZXh0LmNvbFdpZHRocyA9IHRoaXMuZ2V0Q29sdW1uV2lkdGhzKFxuICAgICAgbGFzdFJvdyxcbiAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgdmVydGljYWwsXG4gICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICkpO1xuXG4gICAgLy8gTm9ybWFsaXplIGNvbGdyb3VwIGFuZCBjb2wgZWxlbWVudHNcbiAgICBjb25zdCBjb2xHcm91cHMgPSB0aGlzLmdldENvbEdyb3VwRWxlbWVudHModGFibGVFbGVtZW50KTtcbiAgICBjb25zdCBjb2xzID0gdGhpcy5ub3JtYWxpemVBbmRHZXRDb2xFbGVtZW50cyhjb2xHcm91cHMpO1xuXG4gICAgLy8gQWRkIG1pc3NpbmcgY29sIGVsZW1lbnRzIGZvciByZW1haW5pbmcgY29sdW1uc1xuICAgIHRoaXMuYWRkTWlzc2luZ0NvbEVsZW1lbnRzKGNvbHMsIGNvbEdyb3VwcywgY29sdW1uQ291bnQsIHRhYmxlRWxlbWVudCk7XG5cbiAgICAvLyBBc3NpZ24gd2lkdGggdG8gY29sIGVsZW1lbnRzXG4gICAgY29scy5mb3JFYWNoKChjb2wsIGkpID0+IHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGNvbCxcbiAgICAgICAgdmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuICAgICAgICBgJHtjb2xXaWR0aHNbaV19cHhgLFxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb2xHcm91cHMuZm9yRWFjaCgoY29sR3JvdXApID0+IHtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbEdyb3VwLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgfSk7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzID0gZnJhZ21lbnQ7XG4gIH1cblxuICBkb0luaXRpYWxMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsID0gbm9kZUNvbnRleHQudmVydGljYWw7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQuaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyhub2RlQ29udGV4dC52ZXJ0aWNhbCk7XG4gICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgY29uc3QgdGFibGVMYXlvdXRPcHRpb24gPSBnZXRUYWJsZUxheW91dE9wdGlvbihub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICBjbGVhclRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiVGFibGVMYXlvdXRQcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0XCIsXG4gICAgKTtcbiAgICBjb25zdCBpbml0aWFsTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgdGhpcy5sYXlvdXRFbnRpcmVUYWJsZShub2RlQ29udGV4dCwgY29sdW1uKS50aGVuKChub2RlQ29udGV4dEFmdGVyKSA9PiB7XG4gICAgICBjb25zdCB0YWJsZUVsZW1lbnQgPSBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICBjb25zdCB0YWJsZUJCb3ggPSBjb2x1bW4uY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHRhYmxlRWxlbWVudCk7XG4gICAgICBsZXQgZWRnZSA9IGNvbHVtbi52ZXJ0aWNhbCA/IHRhYmxlQkJveC5sZWZ0IDogdGFibGVCQm94LmJvdHRvbTtcbiAgICAgIGVkZ2UgKz1cbiAgICAgICAgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKlxuICAgICAgICBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBjb2x1bW4uY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgICAgICkuY3VycmVudDtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbHVtbi5pc092ZXJmbG93bihlZGdlKSAmJlxuICAgICAgICAoIXRhYmxlTGF5b3V0T3B0aW9uIHx8ICF0YWJsZUxheW91dE9wdGlvbi5jYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZSlcbiAgICAgICkge1xuICAgICAgICBjb2x1bW4uYnJlYWtQb3NpdGlvbnMucHVzaChcbiAgICAgICAgICBuZXcgRW50aXJlVGFibGVCcmVha1Bvc2l0aW9uKGluaXRpYWxOb2RlQ29udGV4dCksXG4gICAgICAgICk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5ub3JtYWxpemVDb2xHcm91cHMoZm9ybWF0dGluZ0NvbnRleHQsIHRhYmxlRWxlbWVudCwgY29sdW1uKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnVwZGF0ZUNlbGxTaXplcyhjb2x1bW4uY2xpZW50TGF5b3V0KTtcbiAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGRDYXB0aW9ucyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICByb290Vmlld05vZGU6IEVsZW1lbnQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICkge1xuICAgIGNvbnN0IGNhcHRpb25zID0gZm9ybWF0dGluZ0NvbnRleHQuY2FwdGlvbnM7XG4gICAgY2FwdGlvbnMuZm9yRWFjaCgoY2FwdGlvbiwgaSkgPT4ge1xuICAgICAgaWYgKGNhcHRpb24pIHtcbiAgICAgICAgcm9vdFZpZXdOb2RlLmluc2VydEJlZm9yZShjYXB0aW9uLnZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICAgICAgaWYgKGNhcHRpb24uc2lkZSA9PT0gXCJ0b3BcIikge1xuICAgICAgICAgIGNhcHRpb25zW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ29sR3JvdXBzKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHJvb3RWaWV3Tm9kZTogRWxlbWVudCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzICYmXG4gICAgICB0aGlzLmdldENvbEdyb3VwRWxlbWVudHMocm9vdFZpZXdOb2RlKS5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHJvb3RWaWV3Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3Vwcy5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUNvbEdyb3VwcyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICByb290Vmlld05vZGU6IEVsZW1lbnQsXG4gICkge1xuICAgIGlmIChmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMgJiYgcm9vdFZpZXdOb2RlKSB7XG4gICAgICBjb25zdCBjb2xHcm91cHMgPSB0aGlzLmdldENvbEdyb3VwRWxlbWVudHMocm9vdFZpZXdOb2RlKTtcbiAgICAgIGlmIChjb2xHcm91cHMpIHtcbiAgICAgICAgY29sR3JvdXBzLmZvckVhY2goKGNvbEdyb3VwKSA9PiB7XG4gICAgICAgICAgcm9vdFZpZXdOb2RlLnJlbW92ZUNoaWxkKGNvbEdyb3VwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICkgYXMgRWxlbWVudDtcbiAgICBjb25zdCBmaXJzdENoaWxkID0gcm9vdFZpZXdOb2RlLmZpcnN0Q2hpbGQ7XG4gICAgdGhpcy5hZGRDYXB0aW9ucyhmb3JtYXR0aW5nQ29udGV4dCwgcm9vdFZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICB0aGlzLmFkZENvbEdyb3Vwcyhmb3JtYXR0aW5nQ29udGV4dCwgcm9vdFZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBUYWJsZUxheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiVGFibGVGb3JtYXR0aW5nQ29udGV4dC5kb0xheW91dFwiLFxuICAgICk7XG4gICAgaXRlcmF0b3IuaXRlcmF0ZShub2RlQ29udGV4dCkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUobm9kZUNvbnRleHQpO1xuICAgIGlmICghcm9vdFZpZXdOb2RlKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGxlYWRpbmdFZGdlKSB7XG4gICAgICAgIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5hcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyhcbiAgICAgICAgICBub2RlQ29udGV4dC5wYXJlbnQsXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMYXlvdXRSZXRyeWVyKGZvcm1hdHRpbmdDb250ZXh0LCB0aGlzKS5sYXlvdXQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBjb2x1bW4sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dFR5cGUuQnJlYWtQb3NpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBCZXR3ZWVuVGFibGVSb3dCcmVha1Bvc2l0aW9uKFxuICAgICAgcG9zaXRpb24sXG4gICAgICBicmVha09uRWRnZSxcbiAgICAgIG92ZXJmbG93cyxcbiAgICAgIGNvbHVtbkJsb2NrU2l6ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChub2RlQ29udGV4dC5kaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKFxuICAgICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucyA9IFtdO1xuICAgICAgbGV0IGNlbGxzOiBUYWJsZUNlbGxbXTtcbiAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgY2VsbHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsc0ZhbGxpbmdPblJvdyhyb3dJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxscyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhcbiAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxscy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFxuICAgICAgICAgIFwiVGFibGVMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWtcIixcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmcmFtZVxuICAgICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpID09PSBjZWxscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gY2VsbHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxGcmFnbWVudE9mQ2VsbChjZWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrTm9kZUNvbnRleHQgPSBjZWxsRnJhZ21lbnQuZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKClcbiAgICAgICAgICAgICAgLm5vZGVDb250ZXh0O1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoYnJlYWtOb2RlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBjZWxsTm9kZUNvbnRleHQgPSBjZWxsRnJhZ21lbnQuY2VsbE5vZGVDb250ZXh0O1xuICAgICAgICAgICAgY29uc3QgY2VsbE5vZGVQb3NpdGlvbiA9IGNlbGxOb2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgYnJlYWtDaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKFxuICAgICAgICAgICAgICBicmVha05vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICBjZWxsTm9kZVBvc2l0aW9uLFxuICAgICAgICAgICAgICBicmVha0NodW5rUG9zaXRpb24sXG4gICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICB9IGFzIEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxWaWV3Tm9kZSA9IGNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcbiAgICAgICAgICAgIGNlbGxGcmFnbWVudC5jb2x1bW4ubGF5b3V0Q29udGV4dC5wcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShcbiAgICAgICAgICAgICAgY2VsbEZyYWdtZW50LmNlbGxOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPCBjZWxsLnJvd0luZGV4ICsgY2VsbC5yb3dTcGFuIC0gMSkge1xuICAgICAgICAgICAgICBjZWxsVmlld05vZGUucm93U3BhbiA9IHJvd0luZGV4IC0gY2VsbC5yb3dJbmRleCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNlbGxGcmFnbWVudC5lbXB0eSkge1xuICAgICAgICAgICAgICBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uXG4gICAgICAgICAgICAgICAgLmZpbmlzaEJyZWFrKGJyZWFrTm9kZUNvbnRleHQsIGZhbHNlLCB0cnVlKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGNlbGxGcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICBhZGp1c3RDZWxsSGVpZ2h0KFxuICAgICAgICAgICAgICAgICAgICBjZWxsRnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBicmVha05vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbHVtbi5jbGVhck92ZXJmbG93blZpZXdOb2Rlcyhub2RlQ29udGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgY29sdW1uLmxheW91dENvbnRleHQucHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZmluaXNoRnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtYXR0aW5nQ29udGV4dC5maW5pc2hGcmFnbWVudCgpO1xuICAgIHJldHVybiBMYXlvdXRQcm9jZXNzb3IuYmxvY2tMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICBjb2x1bW4sXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZixcbiAgICAgIGVuZE9mQ29sdW1uLFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBjb2x1bW4sXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZixcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkanVzdENlbGxIZWlnaHQoXG4gIGNlbGxGcmFnbWVudDogVGFibGVDZWxsRnJhZ21lbnQsXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IHZvaWQge1xuICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdmVydGljYWwgPSBmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbDtcbiAgY29uc3QgY29sdW1uID0gY2VsbEZyYWdtZW50LmNvbHVtbjtcbiAgY29uc3QgY2VsbENvbnRlbnRFbGVtZW50ID0gY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtbi5nZXRDb2x1bW5FbGVtZW50KCk7XG4gIGNvbnN0IGNlbGxFbGVtZW50ID0gY2VsbEZyYWdtZW50LmNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICBjb25zdCBjZWxsRWxlbWVudFJlY3QgPSBjb2x1bW4uY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGNlbGxFbGVtZW50KTtcbiAgY29uc3QgcGFkZGluZyA9IGNvbHVtbi5nZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoY2VsbEVsZW1lbnQpO1xuICBpZiAodmVydGljYWwpIHtcbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICBjZWxsRWxlbWVudFJlY3QucmlnaHQgLVxuICAgICAgY29sdW1uLmZvb3Rub3RlRWRnZSAtXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuY2FsY3VsYXRlT2Zmc2V0KGJyZWFrTm9kZUNvbnRleHQpIC1cbiAgICAgIHBhZGRpbmcucmlnaHQ7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsQ29udGVudEVsZW1lbnQsIFwibWF4LXdpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIGNvbHVtbi5mb290bm90ZUVkZ2UgLVxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmNhbGN1bGF0ZU9mZnNldChicmVha05vZGVDb250ZXh0KSAtXG4gICAgICBjZWxsRWxlbWVudFJlY3QudG9wIC1cbiAgICAgIHBhZGRpbmcudG9wO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY2VsbENvbnRlbnRFbGVtZW50LCBcIm1heC1oZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gIH1cbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsQ29udGVudEVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRSZXRyeWVyIGV4dGVuZHMgTGF5b3V0UmV0cnllcnMuQWJzdHJhY3RMYXlvdXRSZXRyeWVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0YWJsZUZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvY2Vzc29yOiBUYWJsZUxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzIHx8ICFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXQpIHtcbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RW50aXJlVGFibGUodGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLnByb2Nlc3Nvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT1cbiAgICAgICAgICB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQudGFibGVTb3VyY2VOb2RlICYmXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlclxuICAgICAgKSB7XG4gICAgICAgIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJldmVudFNraXBwaW5nSGVhZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RnJhZ21lbnRlZFRhYmxlKFxuICAgICAgICB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlci5jbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShcbiAgICAgIGluaXRpYWxQb3NpdGlvbixcbiAgICApO1xuICAgIHRoaXMucHJvY2Vzc29yLnJlbW92ZUNvbEdyb3Vwcyh0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQsIHJvb3RWaWV3Tm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXN0b3JlU3RhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBzdXBlci5yZXN0b3JlU3RhdGUobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmZpbmlzaEZyYWdtZW50KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEVudGlyZVRhYmxlIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEVudGlyZUJsb2NrIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NvcjogVGFibGVMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLmRvSW5pdGlhbExheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHRhYmxlTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIodGFibGVOb2RlQ29udGV4dCwgbnVsbCwgdGFibGVOb2RlQ29udGV4dC5vdmVyZmxvdywgMCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuaXNFZGdlVXBkYXRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWRnZUJyZWFrUG9zaXRpb24ucHJvdG90eXBlLnVwZGF0ZUVkZ2Ugbm90IGNhbGxlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLm92ZXJmbG93cyA/IDMgOiAwKSArXG4gICAgICAodGhpcy5wb3NpdGlvbi5wYXJlbnQgPyB0aGlzLnBvc2l0aW9uLnBhcmVudC5icmVha1BlbmFsdHkgOiAwKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQge1xuICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICBuZXcgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50KHRoaXMucG9zaXRpb24uc291cmNlTm9kZSksXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPSBcIkVudGlyZVRhYmxlXCI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhYmxlUm9vdE5vZGU6IE5vZGUpIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIElmIHRoZSBub2RlQ29udGV4dCBvdmVyZmxvd3MsIGFueSBFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQgc2hvdWxkIG5vdFxuICAgIC8vIGJlIHJlZ2lzdGVyZWQgaW4gdGhlIGZpcnN0IHBsYWNlLiBTZWVcbiAgICAvLyBUYWJsZUxheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuZG9Jbml0aWFsTGF5b3V0LlxuICAgIEFzc2VydHMuYXNzZXJ0KCFub2RlQ29udGV4dC5vdmVyZmxvdyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQocG9zaXRpb25BZnRlci5zb3VyY2VOb2RlKTtcbiAgICB0YWJsZUxheW91dE9wdGlvbkNhY2hlLnB1c2goe1xuICAgICAgcm9vdDogcG9zaXRpb25BZnRlci5zb3VyY2VOb2RlLFxuICAgICAgdGFibGVMYXlvdXRPcHRpb246IHtcbiAgICAgICAgY2FsY3VsYXRlQnJlYWtQb3NpdGlvbnNJbnNpZGU6IHRydWUsXG4gICAgICB9IGFzIFRhYmxlTGF5b3V0T3B0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVxdWFsc1RvKGNvbnN0cmFpbnQ6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgY29uc3RyYWludCBpbnN0YW5jZW9mIEVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludCAmJlxuICAgICAgY29uc3RyYWludC50YWJsZVJvb3ROb2RlID09PSB0aGlzLnRhYmxlUm9vdE5vZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEZyYWdtZW50ZWRUYWJsZSBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRGcmFnbWVudGVkQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBUYWJsZUxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5pc0FmdGVyTGFzdENvbnRlbnQobm9kZUNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFRhYmxlUm93TGF5b3V0Q29uc3RyYWludChub2RlQ29udGV4dCk7XG4gICAgICBpZiAoXG4gICAgICAgICFjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5zb21lKChjKSA9PiBjb25zdHJhaW50LmVxdWFsc1RvKGMpKVxuICAgICAgKSB7XG4gICAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnVuc2hpZnQoY29uc3RyYWludCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50XG4gIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIFRhYmxlLlRhYmxlUm93TGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPSBcIlRhYmxlUm93XCI7XG4gIGNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiB7XG4gICAgY29uc3RyYWludHM6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnRbXTtcbiAgICBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfVtdID0gW107XG5cbiAgY29uc3RydWN0b3Iobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhbGxvd0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb2x1bW4ucHNldWRvUGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbih0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBjZWxsRnJhZ21lbnRDb25zdHJhaW50cyA9IHRoaXMuY29sbGVjdENlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChcbiAgICAgIGNlbGxGcmFnbWVudENvbnN0cmFpbnRzLnNvbWUoKGVudHJ5KSA9PlxuICAgICAgICBlbnRyeS5jb25zdHJhaW50cy5zb21lKChjb25zdHJhaW50KSA9PlxuICAgICAgICAgIGNvbnN0cmFpbnQubmV4dENhbmRpZGF0ZShub2RlQ29udGV4dCksXG4gICAgICAgICksXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLm5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwb3N0TGF5b3V0KFxuICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gdGhpcy5jb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgICBwb3NpdGlvbkFmdGVyLFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBlbnRyeS5jb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICAgIGNvbnN0cmFpbnQucG9zdExheW91dChcbiAgICAgICAgICBhbGxvd2VkLFxuICAgICAgICAgIGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICAgICAgaW5pdGlhbFBvc2l0aW9uLFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKHRoaXMubm9kZUNvbnRleHQpO1xuICAgICAgbmV3IFRhYmxlTGF5b3V0UHJvY2Vzc29yKCkucmVtb3ZlQ29sR3JvdXBzKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgcm9vdFZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVEdW1teVJvd05vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgfVxuICAgIHN1cGVyLnBvc3RMYXlvdXQoYWxsb3dlZCwgcG9zaXRpb25BZnRlciwgaW5pdGlhbFBvc2l0aW9uLCBjb2x1bW4pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImZpbmlzaEJyZWFrXCIpO1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5yZWR1Y2UoXG4gICAgICAoYXJyYXksIGVudHJ5KSA9PlxuICAgICAgICBhcnJheS5jb25jYXQoXG4gICAgICAgICAgZW50cnkuY29uc3RyYWludHMubWFwKChjb25zdHJhaW50KSA9PiAoe1xuICAgICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgICAgIGJyZWFrUG9zaXRpb246IGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICAgICAgfSkpLFxuICAgICAgICApLFxuICAgICAgW10sXG4gICAgKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgaWYgKGkgPCBjb25zdHJhaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGNvbnN0cmFpbnRzW2krK107XG4gICAgICAgICAgcmV0dXJuIGVudHJ5LmNvbnN0cmFpbnRcbiAgICAgICAgICAgIC5maW5pc2hCcmVhayhlbnRyeS5icmVha1Bvc2l0aW9uLCBjb2x1bW4pXG4gICAgICAgICAgICAudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWVcbiAgICAgIC5yZXN1bHQoKVxuICAgICAgLnRoZW5Bc3luYygoKSA9PiBzdXBlci5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgY29sdW1uKSk7XG4gIH1cblxuICByZW1vdmVEdW1teVJvd05vZGVzKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGlmIChcbiAgICAgICFub2RlQ29udGV4dCB8fFxuICAgICAgbm9kZUNvbnRleHQuZGlzcGxheSAhPT0gXCJ0YWJsZS1yb3dcIiB8fFxuICAgICAgIW5vZGVDb250ZXh0LnZpZXdOb2RlXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICgobm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCkucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgY29uc3QgZHVtbXlOb2RlID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpXG4gICAgICAgIC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgaWYgKGR1bW15Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGR1bW15Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGR1bW15Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICApOiB7XG4gICAgY29uc3RyYWludHM6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnRbXTtcbiAgICBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfVtdIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDZWxsRnJhZ2VtbnRzKG5vZGVDb250ZXh0LCBmb3JtYXR0aW5nQ29udGV4dCkubWFwKFxuICAgICAgKGVudHJ5KSA9PiAoe1xuICAgICAgICBjb25zdHJhaW50czogZW50cnkuZnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbigpXG4gICAgICAgICAgLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMsXG4gICAgICAgIGJyZWFrUG9zaXRpb246IGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDZWxsRnJhZ2VtbnRzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgKTogeyBmcmFnbWVudDogVGFibGVDZWxsRnJhZ21lbnQ7IGJyZWFrUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0IH1bXSB7XG4gICAgbGV0IHJvd0luZGV4ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBpZiAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQuZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgICByb3dJbmRleCA9XG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmZpbmRSb3dJbmRleEJ5U291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKSArIDE7XG4gICAgfVxuICAgIHJvd0luZGV4ID0gTWF0aC5taW4oZm9ybWF0dGluZ0NvbnRleHQuY2VsbEZyYWdtZW50cy5sZW5ndGgsIHJvd0luZGV4KTtcbiAgICBjb25zdCBjZWxsRnJhZ21lbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dJbmRleDsgaSsrKSB7XG4gICAgICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0LmNlbGxGcmFnbWVudHNbaV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5jZWxsRnJhZ21lbnRzW2ldLmZvckVhY2goKGNlbGxGcmFnbWVudCkgPT4ge1xuICAgICAgICBpZiAoIWNlbGxGcmFnbWVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjZWxsRnJhZ21lbnRzLnB1c2goe1xuICAgICAgICAgIGZyYWdtZW50OiBjZWxsRnJhZ21lbnQsXG4gICAgICAgICAgYnJlYWtQb3NpdGlvbjogY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLm5vZGVDb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbEZyYWdtZW50cztcbiAgfVxuXG4gIGdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGZvcm1hdHRpbmdDb250ZXh0LmZpbmRDZWxsRnJvbUNvbHVtbihjb2x1bW4pO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmNvbGxlY3RFbGVtZW50c09mZnNldE9mVXBwZXJDZWxscyhwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dC5jb2xsZWN0RWxlbWVudHNPZmZzZXRPZkhpZ2hlc3RDb2x1bW4oKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGVxdWFsc1RvKGNvbnN0cmFpbnQ6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIShjb25zdHJhaW50IGluc3RhbmNlb2YgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dCh0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSA9PT1cbiAgICAgIGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoY29uc3RyYWludC5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dClcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHRhYmxlTGF5b3V0UHJvY2Vzc29yID0gbmV3IFRhYmxlTGF5b3V0UHJvY2Vzc29yKCk7XG5cbmZ1bmN0aW9uIHJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2soXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgZmlyc3RUaW1lOiBib29sZWFuLFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0U2lkZTogQ3NzLklkZW50LFxuICBpc1Jvb3Q6IGJvb2xlYW4sXG4pOiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHwgbnVsbCB7XG4gIGlmICghZmlyc3RUaW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGRpc3BsYXkgPT09IENzcy5pZGVudC50YWJsZSkge1xuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICByZXR1cm4gbmV3IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBwYXJlbnQgPyBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgOiBudWxsLFxuICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50LFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVMYXlvdXRQcm9jZXNzb3IoXG4gIGZvcm1hdHRpbmdDb250ZXh0LFxuKTogVGFibGVMYXlvdXRQcm9jZXNzb3IgfCBudWxsIHtcbiAgaWYgKGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCkge1xuICAgIHJldHVybiB0YWJsZUxheW91dFByb2Nlc3NvcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rLFxuKTtcblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUixcbiAgcmVzb2x2ZUxheW91dFByb2Nlc3Nvcixcbik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBNYXRoVXRpbCAtIE1hdGggdXRpbGl0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFuKGFycmF5OiBudW1iZXJbXSk6IG51bWJlciB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKyBjdXJyLCAwKSAvIGFycmF5Lmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhcmlhbmNlKGFycmF5OiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGNvbnN0IG1lYW5WYWx1ZSA9IG1lYW4oYXJyYXkpO1xuICByZXR1cm4gbWVhbihcbiAgICBhcnJheS5tYXAoKHgpID0+IHtcbiAgICAgIGNvbnN0IGQgPSB4IC0gbWVhblZhbHVlO1xuICAgICAgcmV0dXJuIGQgKiBkO1xuICAgIH0pLFxuICApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ29sdW1ucyAtIENvbnRyb2wgY29sdW1uIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBNYXRoVXRpbCBmcm9tIFwiLi9tYXRoLXV0aWxcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIENvbHVtbkxheW91dFJlc3VsdCA9IHtcbiAgY29sdW1uczogTGF5b3V0LkNvbHVtbltdO1xuICBwb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb247XG4gIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzPzogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0W107XG59O1xuXG5leHBvcnQgdHlwZSBDb2x1bW5HZW5lcmF0b3IgPSAoKSA9PiBUYXNrLlJlc3VsdDxDb2x1bW5MYXlvdXRSZXN1bHQgfCBudWxsPjtcblxuZXhwb3J0IGNsYXNzIENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0LFxuICAgIHB1YmxpYyByZWFkb25seSBwZW5hbHR5OiBudW1iZXIsXG4gICkge31cbn1cblxuZnVuY3Rpb24gZ2V0QmxvY2tTaXplKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogbnVtYmVyIHtcbiAgaWYgKGNvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgIHJldHVybiBjb250YWluZXIud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0QmxvY2tTaXplKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLCBzaXplOiBudW1iZXIpIHtcbiAgaWYgKGNvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgIGNvbnRhaW5lci53aWR0aCA9IHNpemU7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmhlaWdodCA9IHNpemU7XG4gIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbHVtbkJhbGFuY2VyIHtcbiAgb3JpZ2luYWxDb250YWluZXJCbG9ja1NpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICAgIHB1YmxpYyByZWFkb25seSByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICkge1xuICAgIHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUgPSBnZXRCbG9ja1NpemUobGF5b3V0Q29udGFpbmVyKTtcbiAgfVxuXG4gIGJhbGFuY2VDb2x1bW5zKFxuICAgIGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0LFxuICApOiBUYXNrLlJlc3VsdDxDb2x1bW5MYXlvdXRSZXN1bHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxDb2x1bW5MYXlvdXRSZXN1bHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiQ29sdW1uQmFsYW5jZXIjYmFsYW5jZUNvbHVtbnNcIixcbiAgICApO1xuICAgIHNlbGYucHJlQmFsYW5jZShsYXlvdXRSZXN1bHQpO1xuICAgIHNlbGYuc2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzKGxheW91dFJlc3VsdCk7XG4gICAgc2VsZi5sYXlvdXRDb250YWluZXIuY2xlYXIoKTtcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gW3NlbGYuY3JlYXRlVHJpYWxSZXN1bHQobGF5b3V0UmVzdWx0KV07XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKCFzZWxmLmhhc05leHRDYW5kaWRhdGUoY2FuZGlkYXRlcykpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudXBkYXRlQ29uZGl0aW9uKGNhbmRpZGF0ZXMpO1xuICAgICAgICBzZWxmLmNvbHVtbkdlbmVyYXRvcigpLnRoZW4oKGxheW91dFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHNlbGYuc2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzKGxheW91dFJlc3VsdCk7XG4gICAgICAgICAgc2VsZi5sYXlvdXRDb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgICBpZiAoIWxheW91dFJlc3VsdCkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goc2VsZi5jcmVhdGVUcmlhbFJlc3VsdChsYXlvdXRSZXN1bHQpKTtcbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FuZGlkYXRlcy5yZWR1Y2UoXG4gICAgICAgICAgKHByZXYsIGN1cnIpID0+IChjdXJyLnBlbmFsdHkgPCBwcmV2LnBlbmFsdHkgPyBjdXJyIDogcHJldiksXG4gICAgICAgICAgY2FuZGlkYXRlc1swXSxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5yZXN0b3JlQ29udGVudHMocmVzdWx0LmxheW91dFJlc3VsdCk7XG4gICAgICAgIHNlbGYucG9zdEJhbGFuY2UoKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc3VsdC5sYXlvdXRSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUcmlhbFJlc3VsdChcbiAgICBsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCxcbiAgKTogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHQge1xuICAgIGNvbnN0IHBlbmFsdHkgPSB0aGlzLmNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0KTtcbiAgICByZXR1cm4gbmV3IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0KGxheW91dFJlc3VsdCwgcGVuYWx0eSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJlQmFsYW5jZShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCkge31cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCk6IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFzTmV4dENhbmRpZGF0ZShcbiAgICBjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdLFxuICApOiBib29sZWFuO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVDb25kaXRpb24oXG4gICAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbiAgKTogdm9pZDtcblxuICBwcm90ZWN0ZWQgcG9zdEJhbGFuY2UoKSB7XG4gICAgc2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyLCB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplKTtcbiAgfVxuXG4gIHNhdmVQYWdlRmxvYXRMYXlvdXRDb250ZXh0cyhsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCB8IG51bGwpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMucmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5kZXRhY2hDaGlsZHJlbigpO1xuICAgIGlmIChsYXlvdXRSZXN1bHQpIHtcbiAgICAgIGxheW91dFJlc3VsdC5jb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyA9IGNoaWxkcmVuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzdG9yZUNvbnRlbnRzKG5ld0xheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5sYXlvdXRDb250YWluZXIuZWxlbWVudDtcbiAgICBuZXdMYXlvdXRSZXN1bHQuY29sdW1ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoYy5lbGVtZW50KTtcbiAgICB9KTtcbiAgICBBc3NlcnRzLmFzc2VydChuZXdMYXlvdXRSZXN1bHQuY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMpO1xuICAgIHRoaXMucmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5hdHRhY2hDaGlsZHJlbihcbiAgICAgIG5ld0xheW91dFJlc3VsdC5jb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyxcbiAgICApO1xuICB9XG59XG5jb25zdCBDT0xVTU5fTEVOR1RIX1NURVAgPSAxO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FuUmVkdWNlQ29udGFpbmVyU2l6ZShcbiAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbik6IGJvb2xlYW4ge1xuICBjb25zdCBsYXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdENhbmRpZGF0ZS5wZW5hbHR5ID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHNlY29uZExhc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMl07XG4gIGlmIChcbiAgICBzZWNvbmRMYXN0Q2FuZGlkYXRlICYmXG4gICAgbGFzdENhbmRpZGF0ZS5wZW5hbHR5ID49IHNlY29uZExhc3RDYW5kaWRhdGUucGVuYWx0eVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgY29sdW1ucyA9IGxhc3RDYW5kaWRhdGUubGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gIGNvbnN0IG1heENvbHVtbkJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgIG51bGwsXG4gICAgY29sdW1ucy5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpLFxuICApO1xuICBjb25zdCBtYXhQYWdlRmxvYXRCbG9ja1NpemUgPSBNYXRoLm1heC5hcHBseShcbiAgICBudWxsLFxuICAgIGNvbHVtbnMubWFwKChjKSA9PiBjLmdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpKSxcbiAgKTtcbiAgcmV0dXJuIG1heENvbHVtbkJsb2NrU2l6ZSA+IG1heFBhZ2VGbG9hdEJsb2NrU2l6ZSArIENPTFVNTl9MRU5HVEhfU1RFUDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZUNvbnRhaW5lclNpemUoXG4gIGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10sXG4gIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuKTogdm9pZCB7XG4gIGNvbnN0IGNvbHVtbnMgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMV0ubGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gIGNvbnN0IG1heENvbHVtbkJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgIG51bGwsXG4gICAgY29sdW1ucy5tYXAoKGMpID0+IHtcbiAgICAgIGlmICghaXNOYU4oYy5ibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cykpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjLmNvbXB1dGVkQmxvY2tTaXplIC1cbiAgICAgICAgICBjLmJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzICtcbiAgICAgICAgICBDT0xVTU5fTEVOR1RIX1NURVBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjLmNvbXB1dGVkQmxvY2tTaXplO1xuICAgICAgfVxuICAgIH0pLFxuICApO1xuICBjb25zdCBuZXdFZGdlID0gbWF4Q29sdW1uQmxvY2tTaXplIC0gQ09MVU1OX0xFTkdUSF9TVEVQO1xuICBpZiAobmV3RWRnZSA8IGdldEJsb2NrU2l6ZShjb250YWluZXIpKSB7XG4gICAgc2V0QmxvY2tTaXplKGNvbnRhaW5lciwgbmV3RWRnZSk7XG4gIH0gZWxzZSB7XG4gICAgc2V0QmxvY2tTaXplKGNvbnRhaW5lciwgZ2V0QmxvY2tTaXplKGNvbnRhaW5lcikgLSAxKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFsYW5jZUxhc3RDb2x1bW5CYWxhbmNlciBleHRlbmRzIENvbHVtbkJhbGFuY2VyIHtcbiAgb3JpZ2luYWxQb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgZm91bmRVcHBlckJvdW5kOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIobGF5b3V0Q29udGFpbmVyLCBjb2x1bW5HZW5lcmF0b3IsIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlQmFsYW5jZShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBsYXlvdXRSZXN1bHQuY29sdW1ucztcbiAgICBjb25zdCB0b3RhbEJsb2NrU2l6ZSA9IGNvbHVtbnMucmVkdWNlKFxuICAgICAgKHByZXYsIGMpID0+IHByZXYgKyBjLmNvbXB1dGVkQmxvY2tTaXplLFxuICAgICAgMCxcbiAgICApO1xuICAgIHNldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lciwgdG90YWxCbG9ja1NpemUgLyB0aGlzLmNvbHVtbkNvdW50KTtcbiAgICB0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSBsYXlvdXRSZXN1bHQucG9zaXRpb247XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUG9zaXRpb24ocG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm9yaWdpbmFsUG9zaXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsUG9zaXRpb24uaXNTYW1lUG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPT09IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmNoZWNrUG9zaXRpb24obGF5b3V0UmVzdWx0LnBvc2l0aW9uKSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBjb25zdCBjb2x1bW5zID0gbGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gICAgaWYgKGlzTGFzdENvbHVtbkxvbmdlclRoYW5BbnlPdGhlckNvbHVtbihjb2x1bW5zKSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgY29sdW1ucy5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYXNOZXh0Q2FuZGlkYXRlKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiBib29sZWFuIHtcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mb3VuZFVwcGVyQm91bmQpIHtcbiAgICAgIHJldHVybiBjYW5SZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsYXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHRoaXMuY2hlY2tQb3NpdGlvbihsYXN0Q2FuZGlkYXRlLmxheW91dFJlc3VsdC5wb3NpdGlvbikpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4oXG4gICAgICAgICAgICBsYXN0Q2FuZGlkYXRlLmxheW91dFJlc3VsdC5jb2x1bW5zLFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5mb3VuZFVwcGVyQm91bmQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIpIDwgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1cGRhdGVDb25kaXRpb24oY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZvdW5kVXBwZXJCb3VuZCkge1xuICAgICAgcmVkdWNlQ29udGFpbmVyU2l6ZShjYW5kaWRhdGVzLCB0aGlzLmxheW91dENvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5ld0VkZ2UgPSBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSxcbiAgICAgICAgZ2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyKSArXG4gICAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSAqIDAuMSxcbiAgICAgICk7XG4gICAgICBzZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIsIG5ld0VkZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4oXG4gIGNvbHVtbnM6IExheW91dC5Db2x1bW5bXSxcbik6IGJvb2xlYW4ge1xuICBpZiAoY29sdW1ucy5sZW5ndGggPD0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBsYXN0Q29sdW1uQmxvY2tTaXplID0gY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdLmNvbXB1dGVkQmxvY2tTaXplO1xuICBjb25zdCBvdGhlckNvbHVtbnMgPSBjb2x1bW5zLnNsaWNlKDAsIGNvbHVtbnMubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBvdGhlckNvbHVtbnMuZXZlcnkoKGMpID0+IGxhc3RDb2x1bW5CbG9ja1NpemUgPiBjLmNvbXB1dGVkQmxvY2tTaXplKTtcbn1cblxuZXhwb3J0IGNsYXNzIEJhbGFuY2VOb25MYXN0Q29sdW1uQmFsYW5jZXIgZXh0ZW5kcyBDb2x1bW5CYWxhbmNlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIHN1cGVyKGxheW91dENvbnRhaW5lciwgY29sdW1uR2VuZXJhdG9yLCByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpOiBudW1iZXIge1xuICAgIGlmIChsYXlvdXRSZXN1bHQuY29sdW1ucy5ldmVyeSgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSA9PT0gMCkpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRCbG9ja1NpemVzID0gbGF5b3V0UmVzdWx0LmNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+ICFjLnBhZ2VCcmVha1R5cGUpXG4gICAgICAubWFwKChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplKTtcbiAgICByZXR1cm4gTWF0aFV0aWwudmFyaWFuY2UoY29tcHV0ZWRCbG9ja1NpemVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc05leHRDYW5kaWRhdGUoY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjYW5SZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdXBkYXRlQ29uZGl0aW9uKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiB2b2lkIHtcbiAgICByZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMsIHRoaXMubGF5b3V0Q29udGFpbmVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29sdW1uQmFsYW5jZXIoXG4gIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gIGNvbHVtbkZpbGw6IENzcy5JZGVudCxcbiAgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gIGNvbHVtbnM6IExheW91dC5Db2x1bW5bXSxcbiAgZmxvd1Bvc2l0aW9uOiBWdHJlZS5GbG93UG9zaXRpb24sXG4pOiBDb2x1bW5CYWxhbmNlciB8IG51bGwge1xuICBpZiAoY29sdW1uRmlsbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUT0RPOiBob3cgdG8gaGFuZGxlIGEgY2FzZSB3aGVyZSBubyBtb3JlIGluLWZsb3cgY29udGVudHMgYnV0IHNvbWVcbiAgICAvLyBwYWdlIGZsb2F0c1xuICAgIGNvbnN0IG5vTW9yZUNvbnRlbnQgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBsYXN0Q29sdW1uID0gY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGlzTGFzdENvbHVtbkZvcmNlQnJva2VuID0gISEobGFzdENvbHVtbiAmJiBsYXN0Q29sdW1uLnBhZ2VCcmVha1R5cGUpO1xuICAgIGlmIChub01vcmVDb250ZW50IHx8IGlzTGFzdENvbHVtbkZvcmNlQnJva2VuKSB7XG4gICAgICByZXR1cm4gbmV3IEJhbGFuY2VMYXN0Q29sdW1uQmFsYW5jZXIoXG4gICAgICAgIGNvbHVtbkdlbmVyYXRvcixcbiAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb2x1bW5GaWxsID09PSBDc3MuaWRlbnQuYmFsYW5jZV9hbGwpIHtcbiAgICAgIHJldHVybiBuZXcgQmFsYW5jZU5vbkxhc3RDb2x1bW5CYWxhbmNlcihcbiAgICAgICAgY29sdW1uR2VuZXJhdG9yLFxuICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChjb2x1bW5GaWxsID09PSBDc3MuaWRlbnQuYmFsYW5jZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzU3R5bGVyIC0gQXBwbHkgQ1NTIGNhc2NhZGUgdG8gYSBkb2N1bWVudCBpbmNyZW1lbnRhbGx5IGFuZFxuICogY2FjaGUgdGhlIHJlc3VsdC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBDc3NTdHlsZXIsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBTbGlwUmFuZ2Uge1xuICBlbmRTdHVja0ZpeGVkOiBudW1iZXI7XG4gIGVuZEZpeGVkOiBudW1iZXI7XG4gIGVuZFNsaXBwZWQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbmRTdHVja0ZpeGVkLCBlbmRGaXhlZCwgZW5kU2xpcHBlZCkge1xuICAgIHRoaXMuZW5kU3R1Y2tGaXhlZCA9IGVuZFN0dWNrRml4ZWQ7XG4gICAgdGhpcy5lbmRGaXhlZCA9IGVuZEZpeGVkO1xuICAgIHRoaXMuZW5kU2xpcHBlZCA9IGVuZFNsaXBwZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXBzIGFsbCBpbnRzIGluIGEgcmFuZ2UgKFwiZml4ZWRcIikgdG8gaW50cyB3aXRoIHNsaXBwYWdlIChcInNsaXBwZWRcIilcbiAqL1xuZXhwb3J0IGNsYXNzIFNsaXBNYXAge1xuICBtYXAgPSBbXSBhcyBTbGlwUmFuZ2VbXTtcblxuICBnZXRNYXhGaXhlZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHJhbmdlLmVuZEZpeGVkO1xuICB9XG5cbiAgZ2V0TWF4U2xpcHBlZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHJhbmdlLmVuZFNsaXBwZWQ7XG4gIH1cblxuICBhZGRTdHVja1JhbmdlKGVuZEZpeGVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tYXAubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMubWFwLnB1c2gobmV3IFNsaXBSYW5nZShlbmRGaXhlZCwgZW5kRml4ZWQsIGVuZEZpeGVkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBlbmRTbGlwcGVkID0gcmFuZ2UuZW5kU2xpcHBlZCArIGVuZEZpeGVkIC0gcmFuZ2UuZW5kRml4ZWQ7XG4gICAgICBpZiAocmFuZ2UuZW5kRml4ZWQgPT0gcmFuZ2UuZW5kU3R1Y2tGaXhlZCkge1xuICAgICAgICByYW5nZS5lbmRGaXhlZCA9IGVuZEZpeGVkO1xuICAgICAgICByYW5nZS5lbmRTdHVja0ZpeGVkID0gZW5kRml4ZWQ7XG4gICAgICAgIHJhbmdlLmVuZFNsaXBwZWQgPSBlbmRTbGlwcGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tYXAucHVzaChuZXcgU2xpcFJhbmdlKGVuZEZpeGVkLCBlbmRGaXhlZCwgZW5kU2xpcHBlZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZFNsaXBwZWRSYW5nZShlbmRGaXhlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLm1hcC5wdXNoKG5ldyBTbGlwUmFuZ2UoZW5kRml4ZWQsIDAsIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV0uZW5kRml4ZWQgPSBlbmRGaXhlZDtcbiAgICB9XG4gIH1cblxuICBzbGlwcGVkQnlGaXhlZChmaXhlZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBpbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKFxuICAgICAgdGhpcy5tYXAubGVuZ3RoLFxuICAgICAgKGluZGV4KSA9PiBmaXhlZCA8PSBzZWxmLm1hcFtpbmRleF0uZW5kRml4ZWQsXG4gICAgKTtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW2luZGV4XTtcbiAgICByZXR1cm4gcmFuZ2UuZW5kU2xpcHBlZCAtIE1hdGgubWF4KDAsIHJhbmdlLmVuZFN0dWNrRml4ZWQgLSBmaXhlZCk7XG4gIH1cblxuICAvKipcbiAgICogU21hbGxlc3QgZml4ZWQgZm9yIGEgZ2l2ZW4gc2xpcHBlZC5cbiAgICovXG4gIGZpeGVkQnlTbGlwcGVkKHNsaXBwZWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgIHRoaXMubWFwLmxlbmd0aCxcbiAgICAgIChpbmRleCkgPT4gc2xpcHBlZCA8PSBzZWxmLm1hcFtpbmRleF0uZW5kU2xpcHBlZCxcbiAgICApO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbaW5kZXhdO1xuICAgIHJldHVybiByYW5nZS5lbmRTdHVja0ZpeGVkIC0gKHJhbmdlLmVuZFNsaXBwZWQgLSBzbGlwcGVkKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb3dMaXN0ZW5lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIGVuY291bnRlcmVkRmxvd0NodW5rKGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rLCBmbG93OiBWdHJlZS5GbG93KTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFic3RyYWN0U3R5bGVyIGV4dGVuZHMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHt9XG5cbi8qKlxuICogUmVwcmVzZW50IGEgYm94IGdlbmVyYXRlZCBieSBhIChwc2V1ZG8pZWxlbWVudC4gV2hlbiBjb25zdHJ1Y3RlZCwgYSBib3hcbiAqIGNvcnJlc3BvbmRpbmcgdG8gYDo6YmVmb3JlYCBwc2V1ZG9lbGVtZW50IGlzIGFsc28gY29uc3RydWN0ZWQgYW5kIHN0b3JlZCBpblxuICogYGJlZm9yZUJveGAgcHJvcGVydHksIHdoZXJlYXMgb25lIGNvcnJlc3BvbmRpbmcgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQgaXNcbiAqIG5vdCBjb25zdHJ1Y3RlZCBhbmQgYGFmdGVyQm94YCBwcm9wZXJ0eSBpcyBgbnVsbGAuIGBhZnRlckJveGAgaXMgY29uc3RydWN0ZWRcbiAqIGJ5IGBidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveGAgbWV0aG9kLlxuICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIHZhbHVlcyBmb3IgdGhlIGJveC5cbiAqIEBwYXJhbSBvZmZzZXQgVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgYm94LiBJdCBjb2luY2lkZXMgd2l0aCB0aGUgc3RhcnQgb2Zmc2V0XG4gKiAgICAgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGJveCBpcyBnZW5lcmF0ZWQgYnkgdGhlIGVsZW1lbnQgb3IgdGhlIGA6OmJlZm9yZWBcbiAqICAgICBwc2V1ZG9lbGVtZW50LiBXaGVuIHRoZSBib3ggY29ycmVzcG9uZHMgdG8gdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50LFxuICogICAgIHRoZSBvZmZzZXQgaXMganVzdCBhZnRlciB0aGUgY29udGVudCBiZWZvcmUgdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50LlxuICogQHBhcmFtIGlzUm9vdCBUcnVlIGlmIHRoZSBib3ggaXMgZ2VuZXJhdGVkIGJ5IHRoZSByb290IGVsZW1lbnQgKG5vdFxuICogICAgIHBzZXVkb2VsZW1lbnQpLlxuICogQHBhcmFtIGZsb3dDaHVuayBGbG93Q2h1bmsgdG8gd2hpY2ggdGhlIGJveCBiZWxvbmdzIHRvLlxuICogQHBhcmFtIGF0QmxvY2tTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGJsb2NrIHN0YXJ0IGVkZ2UuXG4gKiBAcGFyYW0gYXRGbG93U3RhcnQgVHJ1ZSBpZiB0aGUgYm94IGlzIHJpZ2h0IGFmdGVyIHRoZSBmbG93IHN0YXJ0LlxuICogQHBhcmFtIGlzUGFyZW50Qm94RGlzcGxheWVkIFRydWUgaWYgdGhlIHBhcmVudCBib3ggaGFzIGEgZGlzcGxheWVkIGJveC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJveCB7XG4gIGZsb3dOYW1lOiBzdHJpbmc7XG4gIGlzQmxvY2tWYWx1ZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICBoYXNCb3hWYWx1ZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICBzdHlsZVZhbHVlcyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9O1xuICBiZWZvcmVCb3g6IEJveCA9IG51bGw7XG4gIGFmdGVyQm94OiBCb3ggPSBudWxsO1xuICBicmVha0JlZm9yZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUm9vdDogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmssXG4gICAgcHVibGljIHJlYWRvbmx5IGF0QmxvY2tTdGFydDogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXRGbG93U3RhcnQ6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUGFyZW50Qm94RGlzcGxheWVkOiBib29sZWFuLFxuICApIHtcbiAgICB0aGlzLmZsb3dOYW1lID0gZmxvd0NodW5rLmZsb3dOYW1lO1xuICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICBjb25zdCBwc2V1ZG9NYXAgPSBzdHlsZVtcIl9wc2V1ZG9zXCJdO1xuICAgICAgaWYgKHBzZXVkb01hcCkge1xuICAgICAgICBpZiAocHNldWRvTWFwW1wiYmVmb3JlXCJdKSB7XG4gICAgICAgICAgY29uc3QgYmVmb3JlQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBwc2V1ZG9NYXBbXCJiZWZvcmVcIl0sXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZsb3dDaHVuayxcbiAgICAgICAgICAgIHRoaXMuaXNCbG9jaygpLFxuICAgICAgICAgICAgYXRGbG93U3RhcnQsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgYmVmb3JlQ29udGVudCA9IGJlZm9yZUJveC5zdHlsZVZhbHVlKFwiY29udGVudFwiKTtcbiAgICAgICAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoYmVmb3JlQ29udGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlQm94ID0gYmVmb3JlQm94O1xuICAgICAgICAgICAgdGhpcy5icmVha0JlZm9yZSA9IGJlZm9yZUJveC5icmVha0JlZm9yZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5icmVha0JlZm9yZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgdGhpcy5nZXRCcmVha1ZhbHVlKFwiYmVmb3JlXCIpLFxuICAgICAgdGhpcy5icmVha0JlZm9yZSxcbiAgICApO1xuICAgIGlmICh0aGlzLmF0Rmxvd1N0YXJ0ICYmIEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZSh0aGlzLmJyZWFrQmVmb3JlKSkge1xuICAgICAgZmxvd0NodW5rLmJyZWFrQmVmb3JlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgIGZsb3dDaHVuay5icmVha0JlZm9yZSxcbiAgICAgICAgdGhpcy5icmVha0JlZm9yZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgYm94IGNvcnJlc3BvbmRpbmcgdG8gYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQgYW5kIHN0b3JlcyBpdCBpblxuICAgKiBgYWZ0ZXJCb3hgIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50IGJveCwgd2hpY2ggaXNcbiAgICogICAgIGp1c3QgYWZ0ZXIgdGhlIGNvbnRlbnQgYmVmb3JlIHRoZSBgOjphZnRlcmAgcHNldWRvZWxlbWVudC5cbiAgICogQHBhcmFtIGF0QmxvY2tTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGJsb2NrIHN0YXJ0IGVkZ2UuXG4gICAqIEBwYXJhbSBhdEZsb3dTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGZsb3cgc3RhcnQuXG4gICAqL1xuICBidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveChcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhdEJsb2NrU3RhcnQ6IGJvb2xlYW4sXG4gICAgYXRGbG93U3RhcnQ6IGJvb2xlYW4sXG4gICkge1xuICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICBjb25zdCBwc2V1ZG9NYXAgPSB0aGlzLnN0eWxlW1wiX3BzZXVkb3NcIl07XG4gICAgICBpZiAocHNldWRvTWFwKSB7XG4gICAgICAgIGlmIChwc2V1ZG9NYXBbXCJhZnRlclwiXSkge1xuICAgICAgICAgIGNvbnN0IGFmdGVyQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBzZXVkb01hcFtcImFmdGVyXCJdLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0aGlzLmZsb3dDaHVuayxcbiAgICAgICAgICAgIGF0QmxvY2tTdGFydCxcbiAgICAgICAgICAgIGF0Rmxvd1N0YXJ0LFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGFmdGVyQ29udGVudCA9IGFmdGVyQm94LnN0eWxlVmFsdWUoXCJjb250ZW50XCIpO1xuICAgICAgICAgIGlmIChWdHJlZS5ub25Ucml2aWFsQ29udGVudChhZnRlckNvbnRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmFmdGVyQm94ID0gYWZ0ZXJCb3g7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3R5bGVWYWx1ZShuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IENzcy5WYWwpOiBDc3MuVmFsIHwgbnVsbCB7XG4gICAgaWYgKCEobmFtZSBpbiB0aGlzLnN0eWxlVmFsdWVzKSkge1xuICAgICAgY29uc3QgY3YgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgICAgdGhpcy5zdHlsZVZhbHVlc1tuYW1lXSA9IGN2XG4gICAgICAgID8gY3YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBuYW1lKVxuICAgICAgICA6IGRlZmF1bHRWYWx1ZSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHlsZVZhbHVlc1tuYW1lXTtcbiAgfVxuXG4gIGRpc3BsYXlWYWx1ZSgpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZVZhbHVlKFwiZGlzcGxheVwiLCBDc3MuaWRlbnQuaW5saW5lKTtcbiAgfVxuXG4gIGlzQmxvY2soKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNCbG9ja1ZhbHVlID09PSBudWxsKSB7XG4gICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5kaXNwbGF5VmFsdWUoKSBhcyBDc3MuSWRlbnQ7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuc3R5bGVWYWx1ZShcInBvc2l0aW9uXCIpIGFzIENzcy5JZGVudDtcbiAgICAgIGNvbnN0IGZsb2F0ID0gdGhpcy5zdHlsZVZhbHVlKFwiZmxvYXRcIikgYXMgQ3NzLklkZW50O1xuICAgICAgdGhpcy5pc0Jsb2NrVmFsdWUgPSBEaXNwbGF5LmlzQmxvY2soXG4gICAgICAgIGRpc3BsYXksXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBmbG9hdCxcbiAgICAgICAgdGhpcy5pc1Jvb3QsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pc0Jsb2NrVmFsdWU7XG4gIH1cblxuICBoYXNCb3goKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaGFzQm94VmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaGFzQm94VmFsdWUgPVxuICAgICAgICB0aGlzLmlzUGFyZW50Qm94RGlzcGxheWVkICYmIHRoaXMuZGlzcGxheVZhbHVlKCkgIT09IENzcy5pZGVudC5ub25lO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYXNCb3hWYWx1ZTtcbiAgfVxuXG4gIGdldEJyZWFrVmFsdWUoZWRnZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgbGV0IGJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGlmICh0aGlzLmlzQmxvY2soKSkge1xuICAgICAgY29uc3QgdmFsID0gdGhpcy5zdHlsZVZhbHVlKGBicmVhay0ke2VkZ2V9YCk7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIGJyZWFrVmFsdWUgPSB2YWwudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJyZWFrVmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBNYW5hZ2VzIGJveGVzIGdlbmVyYXRlZCBieSBlbGVtZW50cyBhcyBhIHN0YWNrLlxuICovXG5leHBvcnQgY2xhc3MgQm94U3RhY2sge1xuICBzdGFjayA9IFtdIGFzIEJveFtdO1xuICBhdEJsb2NrU3RhcnQ6IGJvb2xlYW4gPSB0cnVlOyAvLyBpbmRpY2F0ZXMgaWYgdGhlIG5leHQgcHVzaGVkIGJveCB3aWxsIGJlIGF0IHRoZSBibG9jayBzdGFydFxuICBhdEZsb3dTdGFydDogYm9vbGVhbiA9IHRydWU7IC8vIGluZGljYXRlcyBpZiB0aGUgbmV4dCBwdXNoZWQgYm94IHdpbGwgYmUgYXQgdGhlIGZsb3cgc3RhcnRcbiAgYXRTdGFydFN0YWNrID0gW10gYXMgeyBhdEJsb2NrU3RhcnQ6IGJvb2xlYW47IGF0Rmxvd1N0YXJ0OiBib29sZWFuIH1bXTsgLy8gcHVzaGVkIHdoZW4gYSBuZXcgZmxvdyBzdGFydHNcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCkge31cblxuICAvKipcbiAgICogUmV0dXJucyBpZiB0aGUgc3RhY2sgaXMgZW1wdHkuXG4gICAqL1xuICBlbXB0eSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrLlxuICAgKi9cbiAgbGFzdEJveCgpOiBCb3ggfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmxvdyBuYW1lIG9mIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2suXG4gICAqL1xuICBsYXN0Rmxvd05hbWUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3QgbGFzdEJveCA9IHRoaXMubGFzdEJveCgpO1xuICAgIHJldHVybiBsYXN0Qm94ID8gbGFzdEJveC5mbG93Q2h1bmsuZmxvd05hbWUgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjayBpcyBkaXNwbGF5ZWQuXG4gICAqL1xuICBpc0N1cnJlbnRCb3hEaXNwbGF5ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhY2suZXZlcnkoKGJveCkgPT4gYm94LmRpc3BsYXlWYWx1ZSgpICE9PSBDc3MuaWRlbnQubm9uZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJveCBhbmQgcHVzaCBpdCB0byB0aGUgc3RhY2suXG4gICAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSB2YWx1ZXMgZm9yIHRoZSBib3guXG4gICAqIEBwYXJhbSBvZmZzZXQgVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgYm94LlxuICAgKiBAcGFyYW0gaXNSb290IFRydWUgaWYgdGhlIGJveCBpcyBnZW5lcmF0ZWQgYnkgdGhlIHJvb3QgZWxlbWVudFxuICAgKiBAcGFyYW0gbmV3Rmxvd0NodW5rIFNwZWNpZnkgaWYgdGhlIGVsZW1lbnQgaXMgYSBmbG93IGVsZW1lbnQgKGkuZS4gdGhlXG4gICAqICAgICBlbGVtZW50IGlzIHNwZWNpZmllZCBhIG5ldyBgZmxvdy1pbnRvYCB2YWx1ZSlcbiAgICovXG4gIHB1c2goXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgICBuZXdGbG93Q2h1bms/OiBWdHJlZS5GbG93Q2h1bmssXG4gICk6IEJveCB7XG4gICAgY29uc3QgbGFzdEJveCA9IHRoaXMubGFzdEJveCgpO1xuICAgIGlmIChuZXdGbG93Q2h1bmsgJiYgbGFzdEJveCAmJiBuZXdGbG93Q2h1bmsuZmxvd05hbWUgIT09IGxhc3RCb3guZmxvd05hbWUpIHtcbiAgICAgIHRoaXMuYXRTdGFydFN0YWNrLnB1c2goe1xuICAgICAgICBhdEJsb2NrU3RhcnQ6IHRoaXMuYXRCbG9ja1N0YXJ0LFxuICAgICAgICBhdEZsb3dTdGFydDogdGhpcy5hdEZsb3dTdGFydCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBmbG93Q2h1bmsgPSBuZXdGbG93Q2h1bmsgfHwgbGFzdEJveC5mbG93Q2h1bms7XG4gICAgY29uc3QgaXNBdEZsb3dTdGFydCA9IHRoaXMuYXRGbG93U3RhcnQgfHwgISFuZXdGbG93Q2h1bms7XG4gICAgY29uc3QgaXNQYXJlbnRCb3hEaXNwbGF5ZWQgPSB0aGlzLmlzQ3VycmVudEJveERpc3BsYXllZCgpO1xuICAgIGNvbnN0IGJveCA9IG5ldyBCb3goXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgICBzdHlsZSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGlzUm9vdCxcbiAgICAgIGZsb3dDaHVuayxcbiAgICAgIGlzQXRGbG93U3RhcnQgfHwgdGhpcy5hdEJsb2NrU3RhcnQsXG4gICAgICBpc0F0Rmxvd1N0YXJ0LFxuICAgICAgaXNQYXJlbnRCb3hEaXNwbGF5ZWQsXG4gICAgKTtcbiAgICB0aGlzLnN0YWNrLnB1c2goYm94KTtcbiAgICB0aGlzLmF0QmxvY2tTdGFydCA9IGJveC5oYXNCb3goKVxuICAgICAgPyAhYm94LmJlZm9yZUJveCAmJiBib3guaXNCbG9jaygpXG4gICAgICA6IHRoaXMuYXRCbG9ja1N0YXJ0O1xuICAgIHRoaXMuYXRGbG93U3RhcnQgPSBib3guaGFzQm94KClcbiAgICAgID8gIWJveC5iZWZvcmVCb3ggJiYgaXNBdEZsb3dTdGFydFxuICAgICAgOiB0aGlzLmF0Rmxvd1N0YXJ0O1xuICAgIHJldHVybiBib3g7XG4gIH1cblxuICBlbmNvdW50ZXJlZFRleHROb2RlKG5vZGU6IE5vZGUpIHtcbiAgICBjb25zdCBib3ggPSB0aGlzLmxhc3RCb3goKTtcbiAgICBpZiAoKHRoaXMuYXRCbG9ja1N0YXJ0IHx8IHRoaXMuYXRGbG93U3RhcnQpICYmIGJveC5oYXNCb3goKSkge1xuICAgICAgY29uc3Qgd2hpdGVzcGFjZVZhbHVlID0gYm94XG4gICAgICAgIC5zdHlsZVZhbHVlKFwid2hpdGUtc3BhY2VcIiwgQ3NzLmlkZW50Lm5vcm1hbClcbiAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCB3aGl0ZXNwYWNlID0gVnRyZWUud2hpdGVzcGFjZUZyb21Qcm9wZXJ0eVZhbHVlKHdoaXRlc3BhY2VWYWx1ZSk7XG4gICAgICBBc3NlcnRzLmFzc2VydCh3aGl0ZXNwYWNlICE9PSBudWxsKTtcbiAgICAgIGlmICghVnRyZWUuY2FuSWdub3JlKG5vZGUsIHdoaXRlc3BhY2UpKSB7XG4gICAgICAgIHRoaXMuYXRCbG9ja1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXRGbG93U3RhcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUG9wIHRoZSBsYXN0IGJveC5cbiAgICovXG4gIHBvcChvZmZzZXQ6IG51bWJlcik6IEJveCB7XG4gICAgY29uc3QgYm94ID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICBib3guYnVpbGRBZnRlclBzZXVkb0VsZW1lbnRCb3gob2Zmc2V0LCB0aGlzLmF0QmxvY2tTdGFydCwgdGhpcy5hdEZsb3dTdGFydCk7XG4gICAgaWYgKHRoaXMuYXRGbG93U3RhcnQgJiYgYm94LmFmdGVyQm94KSB7XG4gICAgICBjb25zdCBicmVha0JlZm9yZSA9IGJveC5hZnRlckJveC5nZXRCcmVha1ZhbHVlKFwiYmVmb3JlXCIpO1xuICAgICAgYm94LmZsb3dDaHVuay5icmVha0JlZm9yZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICBib3guZmxvd0NodW5rLmJyZWFrQmVmb3JlLFxuICAgICAgICBicmVha0JlZm9yZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubGFzdEJveCgpO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZmxvd05hbWUgPT09IGJveC5mbG93TmFtZSkge1xuICAgICAgICBpZiAoYm94Lmhhc0JveCgpKSB7XG4gICAgICAgICAgdGhpcy5hdEJsb2NrU3RhcnQgPSB0aGlzLmF0Rmxvd1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGF0U3RhcnQgPSB0aGlzLmF0U3RhcnRTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5hdEJsb2NrU3RhcnQgPSBhdFN0YXJ0LmF0QmxvY2tTdGFydDtcbiAgICAgICAgdGhpcy5hdEZsb3dTdGFydCA9IGF0U3RhcnQuYXRGbG93U3RhcnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3g7XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSBuZWFyZXN0IGJsb2NrIHN0YXJ0IGVkZ2UgdG8gd2hpY2ggdGhlXG4gICAqIGBicmVhay1iZWZvcmVgIHZhbHVlIG9mIHRoZSBib3ggc2hvdWxkIGJlIHByb3BhZ2F0ZWQuIFRoaXMgbWV0aG9kIGNhbiBiZVxuICAgKiBjYWxsZWQgd2hlbiBhZnRlciBwdXNoaW5nIHRoZSBib3ggaW50byB0aGUgc3RhY2sgb3IgYWZ0ZXIgcG9wcGluZyB0aGUgYm94XG4gICAqIG91dCBvZiB0aGUgc3RhY2suXG4gICAqL1xuICBuZWFyZXN0QmxvY2tTdGFydE9mZnNldChib3g6IEJveCk6IG51bWJlciB7XG4gICAgaWYgKCFib3guYXRCbG9ja1N0YXJ0KSB7XG4gICAgICByZXR1cm4gYm94Lm9mZnNldDtcbiAgICB9XG4gICAgbGV0IGkgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMuc3RhY2tbaV07XG5cbiAgICAvLyBXaGVuIGNhbGxlZCBqdXN0IGFmdGVyIHRoZSBib3ggaXMgcG9wcGVkIG91dCwgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFja1xuICAgIC8vIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBib3ggYW5kIGl0IGlzIHRoZSBwYXJlbnQgb2YgdGhlIGJveC4gV2hlbiBjYWxsZWRcbiAgICAvLyBhZnRlciB0aGUgYm94IGlzIHB1c2hlZCwgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjayBpcyBpZGVudGljYWwgdG8gdGhlXG4gICAgLy8gYm94IGFuZCB0aGUgcGFyZW50IG9mIHRoZSBib3ggaXMgYSBib3ggcmlnaHQgYmVmb3JlIHRoZSBzcGVjaWZpZWQgYm94LlxuICAgIGlmIChwYXJlbnQgPT09IGJveCkge1xuICAgICAgaS0tO1xuICAgICAgcGFyZW50ID0gdGhpcy5zdGFja1tpXTtcbiAgICB9XG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgaWYgKHBhcmVudC5mbG93TmFtZSAhPT0gYm94LmZsb3dOYW1lKSB7XG4gICAgICAgIHJldHVybiBib3gub2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKCFwYXJlbnQuYXRCbG9ja1N0YXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQub2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC5pc1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBib3ggPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSB0aGlzLnN0YWNrWy0taV07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGJsb2NrIHN0YXJ0IG9mZnNldCBmb3VuZCFcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlciBpbXBsZW1lbnRzIEFic3RyYWN0U3R5bGVyIHtcbiAgcm9vdDogRWxlbWVudDtcbiAgY2FzY2FkZUhvbGRlcjogQ3NzQ2FzY2FkZS5DYXNjYWRlO1xuICBsYXN0OiBOb2RlO1xuICByb290U3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgc3R5bGVNYXA6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSA9IHt9O1xuICBmbG93cyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogVnRyZWUuRmxvdyB9O1xuICBmbG93Q2h1bmtzID0gW10gYXMgVnRyZWUuRmxvd0NodW5rW107XG4gIGZsb3dMaXN0ZW5lcjogRmxvd0xpc3RlbmVyID0gbnVsbDtcbiAgZmxvd1RvUmVhY2g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpZFRvUmVhY2g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZTtcbiAgb2Zmc2V0TWFwOiBTbGlwTWFwO1xuICBwcmltYXJ5OiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpbWFyeVN0YWNrID0gW10gYXMgYm9vbGVhbltdO1xuICByb290QmFja2dyb3VuZEFzc2lnbmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJvb3RMYXlvdXRBc3NpZ25lZDogYm9vbGVhbiA9IGZhbHNlO1xuICBsYXN0T2Zmc2V0OiBudW1iZXI7XG4gIGJyZWFrQmVmb3JlVmFsdWVzID0ge30gYXMgeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfCBudWxsIH07XG4gIGJveFN0YWNrOiBCb3hTdGFjaztcbiAgYm9keVJlYWNoZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBwcmltYXJ5Rmxvd3M6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9LFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJMaXN0ZW5lcjogQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIsXG4gICAgY291bnRlclJlc29sdmVyOiBDc3NDYXNjYWRlLkNvdW50ZXJSZXNvbHZlcixcbiAgKSB7XG4gICAgdGhpcy5yb290ID0geG1sZG9jLnJvb3Q7XG4gICAgdGhpcy5jYXNjYWRlSG9sZGVyID0gY2FzY2FkZTtcbiAgICB0aGlzLmxhc3QgPSB0aGlzLnJvb3Q7XG4gICAgdGhpcy5jYXNjYWRlID0gY2FzY2FkZS5jcmVhdGVJbnN0YW5jZShcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgICB4bWxkb2MubGFuZyxcbiAgICApO1xuICAgIHRoaXMub2Zmc2V0TWFwID0gbmV3IFNsaXBNYXAoKTtcbiAgICBjb25zdCByb290T2Zmc2V0ID0geG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGhpcy5yb290KTtcbiAgICB0aGlzLmxhc3RPZmZzZXQgPSByb290T2Zmc2V0O1xuICAgIHRoaXMuYm94U3RhY2sgPSBuZXcgQm94U3RhY2soY29udGV4dCk7XG4gICAgdGhpcy5vZmZzZXRNYXAuYWRkU3R1Y2tSYW5nZShyb290T2Zmc2V0KTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0QXR0clN0eWxlKHRoaXMucm9vdCk7XG4gICAgdGhpcy5jYXNjYWRlLnB1c2hFbGVtZW50KHRoaXMucm9vdCwgc3R5bGUsIHJvb3RPZmZzZXQpO1xuICAgIHRoaXMucG9zdHByb2Nlc3NUb3BTdHlsZShzdHlsZSwgZmFsc2UpO1xuICAgIHN3aXRjaCAodGhpcy5yb290Lm5hbWVzcGFjZVVSSSkge1xuICAgICAgY2FzZSBCYXNlLk5TLlhIVE1MOlxuICAgICAgY2FzZSBCYXNlLk5TLkZCMjpcbiAgICAgICAgdGhpcy5ib2R5UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5wcmltYXJ5U3RhY2sucHVzaCh0cnVlKTtcbiAgICB0aGlzLnN0eWxlTWFwID0ge307XG4gICAgdGhpcy5zdHlsZU1hcFtgZSR7cm9vdE9mZnNldH1gXSA9IHN0eWxlO1xuICAgIHRoaXMubGFzdE9mZnNldCsrO1xuICAgIHRoaXMucmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCgtMSk7XG4gIH1cblxuICBoYXNQcm9wKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBtYXA6IENzc1ZhbGlkYXRvci5WYWx1ZU1hcCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhc2NWYWwgPSBzdHlsZVtuYW1lXTtcbiAgICByZXR1cm4gY2FzY1ZhbCAmJiBjYXNjVmFsLmV2YWx1YXRlKHRoaXMuY29udGV4dCkgIT09IG1hcFtuYW1lXTtcbiAgfVxuXG4gIHRyYW5zZmVyUHJvcHNUb1Jvb3QoXG4gICAgc3JjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIG1hcDogQ3NzVmFsaWRhdG9yLlZhbHVlTWFwLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHBuYW1lIGluIG1hcCkge1xuICAgICAgY29uc3QgY2FzY3ZhbCA9IHNyY1N0eWxlW3BuYW1lXTtcbiAgICAgIGlmIChjYXNjdmFsKSB7XG4gICAgICAgIHRoaXMucm9vdFN0eWxlW3BuYW1lXSA9IGNhc2N2YWw7XG4gICAgICAgIGRlbGV0ZSBzcmNTdHlsZVtwbmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWwgPSBtYXBbcG5hbWVdO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgdGhpcy5yb290U3R5bGVbcG5hbWVdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgQ3NzUGFyc2VyLlNQRUNJRklDSVRZX0FVVEhPUixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCBvbiB0aGUgY29udGFpbmVyIChwYXJ0aXRpb24pXG4gICAqIGxldmVsIHRvIHRoaXMucm9vdFN0eWxlLlxuICAgKiBAcGFyYW0gZWxlbVN0eWxlIChzb3VyY2UpIGVsZW1lbnQgc3R5bGVcbiAgICovXG4gIHBvc3Rwcm9jZXNzVG9wU3R5bGUoXG4gICAgZWxlbVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBpc0JvZHk6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIFtcIndyaXRpbmctbW9kZVwiLCBcImRpcmVjdGlvblwiXS5mb3JFYWNoKChwcm9wTmFtZSkgPT4ge1xuICAgICAgaWYgKGVsZW1TdHlsZVtwcm9wTmFtZV0gJiYgIShpc0JvZHkgJiYgdGhpcy5yb290U3R5bGVbcHJvcE5hbWVdKSkge1xuICAgICAgICAvLyBDb3B5IGl0IG92ZXIsIGJ1dCBrZWVwIGl0IGF0IHRoZSByb290IGVsZW1lbnQgYXMgd2VsbC5cbiAgICAgICAgdGhpcy5yb290U3R5bGVbcHJvcE5hbWVdID0gZWxlbVN0eWxlW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMucm9vdEJhY2tncm91bmRBc3NpZ25lZCkge1xuICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gdGhpcy5oYXNQcm9wKFxuICAgICAgICBlbGVtU3R5bGUsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LmJhY2tncm91bmRQcm9wcyxcbiAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgICApXG4gICAgICAgID8gZWxlbVN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpXG4gICAgICAgIDogKG51bGwgYXMgQ3NzLlZhbCk7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmhhc1Byb3AoXG4gICAgICAgIGVsZW1TdHlsZSxcbiAgICAgICAgdGhpcy52YWxpZGF0b3JTZXQuYmFja2dyb3VuZFByb3BzLFxuICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIixcbiAgICAgIClcbiAgICAgICAgPyBlbGVtU3R5bGVbXCJiYWNrZ3JvdW5kLWltYWdlXCJdLmV2YWx1YXRlKHRoaXMuY29udGV4dClcbiAgICAgICAgOiAobnVsbCBhcyBDc3MuVmFsKTtcbiAgICAgIGlmIChcbiAgICAgICAgKGJhY2tncm91bmRDb2xvciAmJiBiYWNrZ3JvdW5kQ29sb3IgIT09IENzcy5pZGVudC5pbmhlcml0KSB8fFxuICAgICAgICAoYmFja2dyb3VuZEltYWdlICYmIGJhY2tncm91bmRJbWFnZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy50cmFuc2ZlclByb3BzVG9Sb290KGVsZW1TdHlsZSwgdGhpcy52YWxpZGF0b3JTZXQuYmFja2dyb3VuZFByb3BzKTtcbiAgICAgICAgdGhpcy5yb290QmFja2dyb3VuZEFzc2lnbmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnJvb3RMYXlvdXRBc3NpZ25lZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5Qcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5oYXNQcm9wKGVsZW1TdHlsZSwgdGhpcy52YWxpZGF0b3JTZXQubGF5b3V0UHJvcHMsIGNvbHVtblByb3BzW2ldKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnRyYW5zZmVyUHJvcHNUb1Jvb3QoZWxlbVN0eWxlLCB0aGlzLnZhbGlkYXRvclNldC5sYXlvdXRQcm9wcyk7XG4gICAgICAgICAgdGhpcy5yb290TGF5b3V0QXNzaWduZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNCb2R5KSB7XG4gICAgICBjb25zdCBmb250U2l6ZSA9IGVsZW1TdHlsZVtcImZvbnQtc2l6ZVwiXTtcbiAgICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBmb250U2l6ZS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgICAgICBsZXQgcHggPSB2YWwubnVtO1xuICAgICAgICBzd2l0Y2ggKHZhbC51bml0KSB7XG4gICAgICAgICAgY2FzZSBcImVtXCI6XG4gICAgICAgICAgY2FzZSBcInJlbVwiOlxuICAgICAgICAgICAgcHggKj0gdGhpcy5jb250ZXh0LmluaXRpYWxGb250U2l6ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJleFwiOlxuICAgICAgICAgICAgcHggKj1cbiAgICAgICAgICAgICAgKHRoaXMuY29udGV4dC5pbml0aWFsRm9udFNpemUgKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZXhcIl0pIC9cbiAgICAgICAgICAgICAgRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIiVcIjpcbiAgICAgICAgICAgIHB4ICo9IHRoaXMuY29udGV4dC5pbml0aWFsRm9udFNpemUgLyAxMDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCB1bml0U2l6ZSA9IEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbdmFsLnVuaXRdO1xuICAgICAgICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgICAgICAgIHB4ICo9IHVuaXRTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQucm9vdEZvbnRTaXplID0gcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0VG9wQ29udGFpbmVyU3R5bGUoKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHdoaWxlICghdGhpcy5ib2R5UmVhY2hlZCkge1xuICAgICAgb2Zmc2V0ICs9IDUwMDA7XG4gICAgICBpZiAodGhpcy5zdHlsZVVudGlsKG9mZnNldCwgMCkgPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yb290U3R5bGU7XG4gIH1cblxuICBnZXRBdHRyU3R5bGUoZWxlbTogRWxlbWVudCk6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICAvLyBza2lwIGNhc2VzIGluIHdoaWNoIGVsZW1lbnRzIGZvciBYTUwgb3RoZXIgdGhhbiBIVE1MIG9yIFNWR1xuICAgIC8vIGhhdmUgJ3N0eWxlJyBhdHRyaWJ1dGUgbm90IGZvciBDU1MgZGVjbGFyYXRpb25cbiAgICBpZiAoKGVsZW0gYXMgYW55KS5zdHlsZSBpbnN0YW5jZW9mIENTU1N0eWxlRGVjbGFyYXRpb24pIHtcbiAgICAgIGNvbnN0IHN0eWxlQXR0clZhbHVlID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgIGlmIChzdHlsZUF0dHJWYWx1ZSkge1xuICAgICAgICByZXR1cm4gQ3NzQ2FzY2FkZS5wYXJzZVN0eWxlQXR0cmlidXRlKFxuICAgICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgICAgICAgdGhpcy54bWxkb2MudXJsLFxuICAgICAgICAgIHN0eWxlQXR0clZhbHVlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBjdXJyZW50bHkgcmVhY2hlZCBvZmZzZXRcbiAgICovXG4gIGdldFJlYWNoZWRPZmZzZXQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0T2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxheSBmbG93IGVsZW1lbnRzIHRoYXQgd2VyZSBlbmNvdW50ZXJlZCBzaW5jZSB0aGUgZ2l2ZW4gb2Zmc2V0XG4gICAqL1xuICByZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KG9mZnNldDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKG9mZnNldCA+PSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCByb290T2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldCh0aGlzLnJvb3QpO1xuICAgIGlmIChvZmZzZXQgPCByb290T2Zmc2V0KSB7XG4gICAgICBjb25zdCByb290U3R5bGUgPSB0aGlzLmdldFN0eWxlKHRoaXMucm9vdCwgZmFsc2UpO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQocm9vdFN0eWxlKTtcbiAgICAgIGNvbnN0IGZsb3dOYW1lID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHJvb3RTdHlsZSwgXCJmbG93LWludG9cIik7XG4gICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lXG4gICAgICAgID8gZmxvd05hbWUuZXZhbHVhdGUoY29udGV4dCwgXCJmbG93LWludG9cIikudG9TdHJpbmcoKVxuICAgICAgICA6IFwiYm9keVwiO1xuICAgICAgY29uc3QgbmV3Rmxvd0NodW5rID0gdGhpcy5lbmNvdW50ZXJlZEZsb3dFbGVtZW50KFxuICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgcm9vdFN0eWxlLFxuICAgICAgICB0aGlzLnJvb3QsXG4gICAgICAgIHJvb3RPZmZzZXQsXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuYm94U3RhY2suZW1wdHkoKSkge1xuICAgICAgICB0aGlzLmJveFN0YWNrLnB1c2gocm9vdFN0eWxlLCByb290T2Zmc2V0LCB0cnVlLCBuZXdGbG93Q2h1bmspO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRoaXMueG1sZG9jLmdldE5vZGVCeU9mZnNldChvZmZzZXQpO1xuICAgIGxldCBub2RlT2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCAwLCBmYWxzZSk7XG4gICAgaWYgKG5vZGVPZmZzZXQgPj0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIG5vZGVPZmZzZXQgKz0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbGVtID0gbm9kZSBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgICBpZiAobm9kZU9mZnNldCAhPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbnNpc3RlbnQgb2Zmc2V0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoZWxlbSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBmbG93TmFtZSA9IHN0eWxlW1wiZmxvdy1pbnRvXCJdO1xuICAgICAgICBpZiAoZmxvd05hbWUpIHtcbiAgICAgICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lXG4gICAgICAgICAgICAuZXZhbHVhdGUoY29udGV4dCwgXCJmbG93LWludG9cIilcbiAgICAgICAgICAgIC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuZW5jb3VudGVyZWRGbG93RWxlbWVudChmbG93TmFtZVN0ciwgc3R5bGUsIGVsZW0sIG5vZGVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVPZmZzZXQrKztcbiAgICAgIH1cbiAgICAgIGlmIChub2RlT2Zmc2V0ID49IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxldCBuZXh0OiBOb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKG5leHQgPT0gbnVsbCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbmV4dDtcbiAgICB9XG4gIH1cblxuICByZXNldEZsb3dDaHVua1N0cmVhbShmbG93TGlzdGVuZXI6IEZsb3dMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZmxvd0xpc3RlbmVyID0gZmxvd0xpc3RlbmVyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mbG93Q2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmZsb3dMaXN0ZW5lci5lbmNvdW50ZXJlZEZsb3dDaHVuayhcbiAgICAgICAgdGhpcy5mbG93Q2h1bmtzW2ldLFxuICAgICAgICB0aGlzLmZsb3dzW3RoaXMuZmxvd0NodW5rc1tpXS5mbG93TmFtZV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHN0eWxlVW50aWxGbG93SXNSZWFjaGVkKGZsb3dOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLmZsb3dUb1JlYWNoID0gZmxvd05hbWU7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLmZsb3dUb1JlYWNoID09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gNTAwMDtcbiAgICAgIGlmICh0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKSA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3R5bGVVbnRpbElkSXNSZWFjaGVkKGlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaWRUb1JlYWNoID0gaWQ7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICghdGhpcy5pZFRvUmVhY2gpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gNTAwMDtcbiAgICAgIGlmICh0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlkVG9SZWFjaCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGVuY291bnRlcmVkRmxvd0VsZW1lbnQoXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgZWxlbTogRWxlbWVudCxcbiAgICBzdGFydE9mZnNldDogbnVtYmVyLFxuICApOiBWdHJlZS5GbG93Q2h1bmsge1xuICAgIGxldCBwcmlvcml0eSA9IDA7XG4gICAgbGV0IGxpbmdlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBsZXQgZXhjbHVzaXZlID0gZmFsc2U7XG4gICAgbGV0IHJlcGVhdGVkID0gZmFsc2U7XG4gICAgbGV0IGxhc3QgPSBmYWxzZTtcbiAgICBjb25zdCBvcHRpb25zQ1YgPSBzdHlsZVtcImZsb3ctb3B0aW9uc1wiXTtcbiAgICBpZiAob3B0aW9uc0NWKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gQ3NzUHJvcC50b1NldChcbiAgICAgICAgb3B0aW9uc0NWLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJmbG93LW9wdGlvbnNcIiksXG4gICAgICApO1xuICAgICAgZXhjbHVzaXZlID0gISFvcHRpb25zW1wiZXhjbHVzaXZlXCJdO1xuICAgICAgcmVwZWF0ZWQgPSAhIW9wdGlvbnNbXCJzdGF0aWNcIl07XG4gICAgICBsYXN0ID0gISFvcHRpb25zW1wibGFzdFwiXTtcbiAgICB9XG4gICAgY29uc3QgbGluZ2VyQ1YgPSBzdHlsZVtcImZsb3ctbGluZ2VyXCJdO1xuICAgIGlmIChsaW5nZXJDVikge1xuICAgICAgbGluZ2VyID0gQ3NzUHJvcC50b0ludChcbiAgICAgICAgbGluZ2VyQ1YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBcImZsb3ctbGluZ2VyXCIpLFxuICAgICAgICBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwcmlvcml0eUNWID0gc3R5bGVbXCJmbG93LXByaW9yaXR5XCJdO1xuICAgIGlmIChwcmlvcml0eUNWKSB7XG4gICAgICBwcmlvcml0eSA9IENzc1Byb3AudG9JbnQoXG4gICAgICAgIHByaW9yaXR5Q1YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBcImZsb3ctcHJpb3JpdHlcIiksXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBicmVha0JlZm9yZSA9IHRoaXMuYnJlYWtCZWZvcmVWYWx1ZXNbc3RhcnRPZmZzZXRdIHx8IG51bGw7XG4gICAgbGV0IGZsb3cgPSB0aGlzLmZsb3dzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIGNvbnN0IHBhcmVudEZsb3dOYW1lID0gdGhpcy5ib3hTdGFjay5sYXN0Rmxvd05hbWUoKTtcbiAgICAgIGZsb3cgPSB0aGlzLmZsb3dzW2Zsb3dOYW1lXSA9IG5ldyBWdHJlZS5GbG93KGZsb3dOYW1lLCBwYXJlbnRGbG93TmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZsb3dDaHVuayA9IG5ldyBWdHJlZS5GbG93Q2h1bmsoXG4gICAgICBmbG93TmFtZSxcbiAgICAgIGVsZW0sXG4gICAgICBzdGFydE9mZnNldCxcbiAgICAgIHByaW9yaXR5LFxuICAgICAgbGluZ2VyLFxuICAgICAgZXhjbHVzaXZlLFxuICAgICAgcmVwZWF0ZWQsXG4gICAgICBsYXN0LFxuICAgICAgYnJlYWtCZWZvcmUsXG4gICAgKTtcbiAgICB0aGlzLmZsb3dDaHVua3MucHVzaChmbG93Q2h1bmspO1xuICAgIGlmICh0aGlzLmZsb3dUb1JlYWNoID09IGZsb3dOYW1lKSB7XG4gICAgICB0aGlzLmZsb3dUb1JlYWNoID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZmxvd0xpc3RlbmVyKSB7XG4gICAgICB0aGlzLmZsb3dMaXN0ZW5lci5lbmNvdW50ZXJlZEZsb3dDaHVuayhmbG93Q2h1bmssIGZsb3cpO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd0NodW5rO1xuICB9XG5cbiAgcmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICBicmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICkge1xuICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGZvcmNlZEJyZWFrT2Zmc2V0cyA9IHRoaXMuZmxvd3NbZmxvd05hbWVdLmZvcmNlZEJyZWFrT2Zmc2V0cztcbiAgICAgIGlmIChcbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICBmb3JjZWRCcmVha09mZnNldHNbZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCAtIDFdIDwgb2Zmc2V0XG4gICAgICApIHtcbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRoaXMuYnJlYWtCZWZvcmVWYWx1ZXNbb2Zmc2V0XTtcbiAgICB0aGlzLmJyZWFrQmVmb3JlVmFsdWVzW29mZnNldF0gPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICBicmVha1ZhbHVlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50XG4gICAqIEBwYXJhbSBsb29rdXAgbG9va3VwIHdpbmRvdyBzaXplIGZvciB0aGUgbmV4dCBwYWdlXG4gICAqIEByZXR1cm4gbG9va3VwIG9mZnNldCBpbiB0aGUgZG9jdW1lbnQgZm9yIHRoZSBuZXh0IHBhZ2VcbiAgICovXG4gIHN0eWxlVW50aWwoc3RhcnRPZmZzZXQ6IG51bWJlciwgbG9va3VwOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gLTE7XG4gICAgbGV0IHNsaXBwZWRPZmZzZXQ6IG51bWJlcjtcbiAgICBpZiAoc3RhcnRPZmZzZXQgPD0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICBzbGlwcGVkT2Zmc2V0ID0gdGhpcy5vZmZzZXRNYXAuc2xpcHBlZEJ5Rml4ZWQoc3RhcnRPZmZzZXQpO1xuICAgICAgdGFyZ2V0U2xpcHBlZE9mZnNldCA9IHNsaXBwZWRPZmZzZXQgKyBsb29rdXA7XG4gICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8IHRoaXMub2Zmc2V0TWFwLmdldE1heFNsaXBwZWQoKSkge1xuICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0TWFwLmZpeGVkQnlTbGlwcGVkKHRhcmdldFNsaXBwZWRPZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5sYXN0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBuZXh0OiBOb2RlID0gdGhpcy5sYXN0LmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAobmV4dCA9PSBudWxsKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGFzdC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmNhc2NhZGUucG9wRWxlbWVudCh0aGlzLmxhc3QgYXMgRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnkgPSB0aGlzLnByaW1hcnlTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94U3RhY2sucG9wKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgICAgICBsZXQgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYm94LmFmdGVyQm94KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFmdGVyUHNldWRvQnJlYWtCZWZvcmUgPSBib3guYWZ0ZXJCb3guZ2V0QnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBcImJlZm9yZVwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgICAgICAgICAgICAgYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgICBib3guYWZ0ZXJCb3guYXRCbG9ja1N0YXJ0XG4gICAgICAgICAgICAgICAgICA/IHRoaXMuYm94U3RhY2submVhcmVzdEJsb2NrU3RhcnRPZmZzZXQoYm94KVxuICAgICAgICAgICAgICAgICAgOiBib3guYWZ0ZXJCb3gub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWtBZnRlciA9IGJveC5hZnRlckJveC5nZXRCcmVha1ZhbHVlKFwiYWZ0ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha0FmdGVyID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIGJveC5nZXRCcmVha1ZhbHVlKFwiYWZ0ZXJcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgICAgICAgICAgICBicmVha0FmdGVyLFxuICAgICAgICAgICAgICB0aGlzLmxhc3RPZmZzZXQsXG4gICAgICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQgPSB0aGlzLmxhc3QubmV4dFNpYmxpbmc7XG4gICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxhc3QgPSB0aGlzLmxhc3QucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAodGhpcy5sYXN0ID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPCB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgc2xpcHBlZE9mZnNldCA9IHRoaXMub2Zmc2V0TWFwLnNsaXBwZWRCeUZpeGVkKHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gc2xpcHBlZE9mZnNldCArIGxvb2t1cDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8PSB0aGlzLm9mZnNldE1hcC5nZXRNYXhTbGlwcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRNYXAuZml4ZWRCeVNsaXBwZWQodGFyZ2V0U2xpcHBlZE9mZnNldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3QgPSBuZXh0O1xuICAgICAgaWYgKHRoaXMubGFzdC5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIHRoaXMubGFzdE9mZnNldCArPSB0aGlzLmxhc3QudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICB0aGlzLmJveFN0YWNrLmVuY291bnRlcmVkVGV4dE5vZGUodGhpcy5sYXN0KTtcbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFN0dWNrUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTbGlwcGVkUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IHRoaXMubGFzdCBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0QXR0clN0eWxlKGVsZW0pO1xuICAgICAgICB0aGlzLnByaW1hcnlTdGFjay5wdXNoKHRoaXMucHJpbWFyeSk7XG4gICAgICAgIHRoaXMuY2FzY2FkZS5wdXNoRWxlbWVudChlbGVtLCBzdHlsZSwgdGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgaWQgPVxuICAgICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICAgICAgaWYgKGlkICYmIGlkID09PSB0aGlzLmlkVG9SZWFjaCkge1xuICAgICAgICAgIHRoaXMuaWRUb1JlYWNoID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMuYm9keVJlYWNoZWQgJiZcbiAgICAgICAgICBlbGVtLmxvY2FsTmFtZSA9PSBcImJvZHlcIiAmJlxuICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZSA9PSB0aGlzLnJvb3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5wb3N0cHJvY2Vzc1RvcFN0eWxlKHN0eWxlLCB0cnVlKTtcbiAgICAgICAgICB0aGlzLmJvZHlSZWFjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYm94OiBCb3g7XG4gICAgICAgIGNvbnN0IGZsb3dOYW1lID0gc3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgICAgIGlmIChmbG93TmFtZSkge1xuICAgICAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWVcbiAgICAgICAgICAgIC5ldmFsdWF0ZShjb250ZXh0LCBcImZsb3ctaW50b1wiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICAgICAgY29uc3QgbmV3Rmxvd0NodW5rID0gdGhpcy5lbmNvdW50ZXJlZEZsb3dFbGVtZW50KFxuICAgICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICB0aGlzLmxhc3RPZmZzZXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnByaW1hcnkgPSAhIXRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lU3RyXTtcbiAgICAgICAgICBib3ggPSB0aGlzLmJveFN0YWNrLnB1c2goXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIHRoaXMubGFzdE9mZnNldCxcbiAgICAgICAgICAgIGVsZW0gPT09IHRoaXMucm9vdCxcbiAgICAgICAgICAgIG5ld0Zsb3dDaHVuayxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJveCA9IHRoaXMuYm94U3RhY2sucHVzaChzdHlsZSwgdGhpcy5sYXN0T2Zmc2V0LCBlbGVtID09PSB0aGlzLnJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrU3RhcnRPZmZzZXQgPSB0aGlzLmJveFN0YWNrLm5lYXJlc3RCbG9ja1N0YXJ0T2Zmc2V0KGJveCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICBib3guYnJlYWtCZWZvcmUsXG4gICAgICAgICAgYmxvY2tTdGFydE9mZnNldCxcbiAgICAgICAgICBib3guZmxvd05hbWUsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChib3guYmVmb3JlQm94KSB7XG4gICAgICAgICAgY29uc3QgYmVmb3JlUHNldWRvQnJlYWtBZnRlciA9IGJveC5iZWZvcmVCb3guZ2V0QnJlYWtWYWx1ZShcImFmdGVyXCIpO1xuICAgICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICAgIGJlZm9yZVBzZXVkb0JyZWFrQWZ0ZXIsXG4gICAgICAgICAgICBib3guYmVmb3JlQm94LmF0QmxvY2tTdGFydCA/IGJsb2NrU3RhcnRPZmZzZXQgOiBib3gub2Zmc2V0LFxuICAgICAgICAgICAgYm94LmZsb3dOYW1lLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIGlmIChib3guZGlzcGxheVZhbHVlKCkgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldCh0aGlzLmxhc3QgYXMgRWxlbWVudCk7XG4gICAgICAgICAgaWYgKG9mZnNldCAhPSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBvZmZzZXRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3R5bGVNYXBbYGUke3RoaXMubGFzdE9mZnNldH1gXSA9IHN0eWxlO1xuICAgICAgICB0aGlzLmxhc3RPZmZzZXQrKztcbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFN0dWNrUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTbGlwcGVkUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPCB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIHNsaXBwZWRPZmZzZXQgPSB0aGlzLm9mZnNldE1hcC5zbGlwcGVkQnlGaXhlZChzdGFydE9mZnNldCk7XG4gICAgICAgICAgICB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gc2xpcHBlZE9mZnNldCArIGxvb2t1cDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPD0gdGhpcy5vZmZzZXRNYXAuZ2V0TWF4U2xpcHBlZCgpKSB7XG4gICAgICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZnNldE1hcC5maXhlZEJ5U2xpcHBlZCh0YXJnZXRTbGlwcGVkT2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTdHlsZShlbGVtZW50OiBFbGVtZW50LCBkZWVwOiBib29sZWFuKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgIGNvbnN0IGtleSA9IGBlJHtvZmZzZXR9YDtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChlbGVtZW50LCAwLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGFzdE9mZnNldCA8PSBvZmZzZXQpIHtcbiAgICAgIHRoaXMuc3R5bGVVbnRpbChvZmZzZXQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHlsZU1hcFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvY2Vzc0NvbnRlbnQoZWxlbWVudDogRWxlbWVudCwgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge31cbn1cblxuZXhwb3J0IGNvbnN0IGNvbHVtblByb3BzID0gW1wiY29sdW1uLWNvdW50XCIsIFwiY29sdW1uLXdpZHRoXCIsIFwiY29sdW1uLWZpbGxcIl07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1ZhbGlkYXRvciAtIFBhcnNlIHZhbGlkYXRpb24gcnVsZXMgKHZhbGlkYXRpb24udHh0KSwgdmFsaWRhdGVcbiAqIHByb3BlcnRpZXMgYW5kIHNob3J0aGFuZHMuXG4gKi9cbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgVmFsaWRhdGlvblR4dCBmcm9tIFwiLi9hc3NldHMvdmFsaWRhdGlvbi50eHRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVJlY2VpdmVyIHtcbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkO1xuXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkO1xuXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgc3VjY2VzczogTm9kZSA9IG51bGw7XG4gIGZhaWx1cmU6IE5vZGUgPSBudWxsO1xuICBjb2RlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yKSB7fVxuXG4gIGlzU3BlY2lhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlICE9IDA7XG4gIH1cblxuICBtYXJrQXNTdGFydEdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IC0xO1xuICB9XG5cbiAgaXNTdGFydEdyb3VwKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT0gLTE7XG4gIH1cblxuICBtYXJrQXNFbmRHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAtMjtcbiAgfVxuXG4gIGlzRW5kR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA9PSAtMjtcbiAgfVxuXG4gIG1hcmtBc1N0YXJ0QWx0ZXJuYXRlKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAyICogaW5kZXggKyAxO1xuICB9XG5cbiAgaXNTdGFydEFsdGVybmF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID4gMCAmJiB0aGlzLmNvZGUgJSAyICE9IDA7XG4gIH1cblxuICBtYXJrQXNFbmRBbHRlcm5hdGUoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IDIgKiBpbmRleCArIDI7XG4gIH1cblxuICBpc0VuZEFsdGVybmF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID4gMCAmJiB0aGlzLmNvZGUgJSAyID09IDA7XG4gIH1cblxuICBnZXRBbHRlcm5hdGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5jb2RlIC0gMSkgLyAyKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbiB7XG4gIHdoYXQ6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB3aGVyZTogbnVtYmVyLCBwdWJsaWMgc3VjY2VzczogYm9vbGVhbikge31cbn1cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBBZGQge1xuICBGT0xMT1cgPSAxLFxuICBPUFRJT05BTCxcbiAgUkVQRUFURUQsXG4gIEFMVEVSTkFURSxcbn1cblxuLyoqXG4gKiBBIGNsYXNzIHRvIGJ1aWxkIGEgbGlzdCB2YWxpZGF0b3IgZnJvbSBvdGhlciB2YWxpZGF0b3JzLlxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdGluZ0dyb3VwIHtcbiAgbm9kZXM6IE5vZGVbXSA9IFtdO1xuICBjb25uZWN0aW9uczogQ29ubmVjdGlvbltdID0gW107XG4gIG1hdGNoOiBudW1iZXJbXSA9IFtdOyAvLyBjb25uZWN0b3IgaW5kaWNpZXNcbiAgbm9tYXRjaDogbnVtYmVyW10gPSBbXTsgLy8gY29ubmVjdG9yIGluZGljaWVzXG4gIGVycm9yOiBudW1iZXJbXSA9IFtdOyAvLyBjb25uZWN0b3IgaW5kaWNpZXNcbiAgZW1wdHlIZWFkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25uZWN0KGFycjogbnVtYmVyW10sIG5vZGVJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbnNbYXJyW2ldXS53aGF0ID0gbm9kZUluZGV4O1xuICAgIH1cbiAgICBhcnIuc3BsaWNlKDAsIGFyci5sZW5ndGgpO1xuICB9XG5cbiAgY2xvbmUoKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGVzW2ldO1xuICAgICAgY29uc3QgY2xvbmVkTm9kZSA9IG5ldyBOb2RlKG5vZGUudmFsaWRhdG9yKTtcbiAgICAgIGNsb25lZE5vZGUuY29kZSA9IG5vZGUuY29kZTtcbiAgICAgIGdyb3VwLm5vZGVzLnB1c2goY2xvbmVkTm9kZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnNbaV07XG4gICAgICBjb25zdCBncm91cENvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbihcbiAgICAgICAgY29ubmVjdGlvbi53aGVyZSxcbiAgICAgICAgY29ubmVjdGlvbi5zdWNjZXNzLFxuICAgICAgKTtcbiAgICAgIGdyb3VwQ29ubmVjdGlvbi53aGF0ID0gY29ubmVjdGlvbi53aGF0O1xuICAgICAgZ3JvdXAuY29ubmVjdGlvbnMucHVzaChncm91cENvbm5lY3Rpb24pO1xuICAgIH1cbiAgICBncm91cC5tYXRjaC5wdXNoKC4uLnRoaXMubWF0Y2gpO1xuICAgIGdyb3VwLm5vbWF0Y2gucHVzaCguLi50aGlzLm5vbWF0Y2gpO1xuICAgIGdyb3VwLmVycm9yLnB1c2goLi4udGhpcy5lcnJvcik7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBcInNwZWNpYWxcIiB2YWxpZGF0aW9uIG5vZGUgdG8gYSBnaXZlbiBhcnJheSAobWF0Y2gsIG5vbWF0Y2gsIG9yIGVycm9yKS5cbiAgICogQHBhcmFtIHN0YXJ0IGlmIHRoaXMgYSBzdGFydCBvciB0aGUgZW5kIG9mIGEgY2xhdXNlL2dyb3VwXG4gICAqIEBwYXJhbSBjbGF1c2UgMCBpbmRpY2F0ZXMgZ3JvdXAgc3RhcnQvZW5kLCBvdGhlcndpc2UgY2xhdXNlIGluZGV4XG4gICAqL1xuICBwcml2YXRlIGFkZFNwZWNpYWxUb0FycihhcnI6IG51bWJlcltdLCBzdGFydDogYm9vbGVhbiwgY2xhdXNlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMubGVuZ3RoO1xuICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZShBTFdBWVNfRkFJTCk7XG4gICAgaWYgKGNsYXVzZSA+PSAwKSB7XG4gICAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgbm9kZS5tYXJrQXNTdGFydEFsdGVybmF0ZShjbGF1c2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5tYXJrQXNFbmRBbHRlcm5hdGUoY2xhdXNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgIG5vZGUubWFya0FzU3RhcnRHcm91cCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5tYXJrQXNFbmRHcm91cCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgdGhpcy5jb25uZWN0KGFyciwgaW5kZXgpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgdHJ1ZSk7XG4gICAgY29uc3QgZmFpbHVyZSA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCBmYWxzZSk7XG4gICAgYXJyLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChmYWlsdXJlKTtcbiAgICBhcnIucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKHN1Y2Nlc3MpO1xuICB9XG5cbiAgZW5kU3BlY2lhbEdyb3VwKCk6IHZvaWQge1xuICAgIGNvbnN0IGFycnMgPSBbdGhpcy5tYXRjaCwgdGhpcy5ub21hdGNoLCB0aGlzLmVycm9yXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKGFycnNbaV0sIGZhbHNlLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRTcGVjaWFsR3JvdXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubm9kZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNhbGxcIik7XG4gICAgfVxuICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKHRoaXMubWF0Y2gsIHRydWUsIC0xKTtcbiAgfVxuXG4gIGVuZENsYXVzZShjbGF1c2U6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKHRoaXMubWF0Y2gsIGZhbHNlLCBjbGF1c2UpO1xuICB9XG5cbiAgc3RhcnRDbGF1c2UoY2xhdXNlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub2Rlcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2FsbFwiKTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKEFMV0FZU19GQUlMKTtcbiAgICBub2RlLm1hcmtBc1N0YXJ0QWx0ZXJuYXRlKGNsYXVzZSk7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbigwLCB0cnVlKTtcbiAgICBjb25zdCBmYWlsdXJlID0gbmV3IENvbm5lY3Rpb24oMCwgZmFsc2UpO1xuICAgIHRoaXMubm9tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goZmFpbHVyZSk7XG4gICAgdGhpcy5tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goc3VjY2Vzcyk7XG4gIH1cblxuICBhZGRQcmltaXRpdmUodmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcik6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBOb2RlKHZhbGlkYXRvcikpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgdHJ1ZSk7XG4gICAgY29uc3QgZmFpbHVyZSA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCBmYWxzZSk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICBpZiAodGhpcy5lbXB0eUhlYWQpIHtcbiAgICAgIC8vIGlmIGRpZCBub3QgdmFsaWRhdGUgLT4gbm8gbWF0Y2hcbiAgICAgIHRoaXMubm9tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICAgIHRoaXMuZW1wdHlIZWFkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGRpZCBub3QgdmFsaWRhdGUgLT4gZmFpbHVyZVxuICAgICAgdGhpcy5lcnJvci5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB9XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGZhaWx1cmUpO1xuICAgIHRoaXMubWF0Y2gucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKHN1Y2Nlc3MpO1xuICB9XG5cbiAgaXNTaW1wbGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMubGVuZ3RoID09IDEgJiYgIXRoaXMubm9kZXNbMF0uaXNTcGVjaWFsKCk7XG4gIH1cblxuICBpc1ByaW1pdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5pc1NpbXBsZSgpICYmIHRoaXMubm9kZXNbMF0udmFsaWRhdG9yIGluc3RhbmNlb2YgUHJpbWl0aXZlVmFsaWRhdG9yXG4gICAgKTtcbiAgfVxuXG4gIGFkZEdyb3VwKGdyb3VwOiBWYWxpZGF0aW5nR3JvdXAsIGhvdzogQWRkKTogdm9pZCB7XG4gICAgaWYgKGdyb3VwLm5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG5cbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIGFsdGVybmF0ZSBwcmltaXRpdmUgdmFsaWRhdG9yc1xuICAgIGlmIChcbiAgICAgIGhvdyA9PSBBZGQuQUxURVJOQVRFICYmXG4gICAgICBpbmRleCA9PSAxICYmXG4gICAgICBncm91cC5pc1ByaW1pdGl2ZSgpICYmXG4gICAgICB0aGlzLmlzUHJpbWl0aXZlKClcbiAgICApIHtcbiAgICAgIHRoaXMubm9kZXNbMF0udmFsaWRhdG9yID0gKHRoaXMubm9kZXNbMF1cbiAgICAgICAgLnZhbGlkYXRvciBhcyBQcmltaXRpdmVWYWxpZGF0b3IpLmNvbWJpbmUoXG4gICAgICAgIGdyb3VwLm5vZGVzWzBdLnZhbGlkYXRvciBhcyBQcmltaXRpdmVWYWxpZGF0b3IsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm5vZGVzLnB1c2goZ3JvdXAubm9kZXNbaV0pO1xuICAgIH1cblxuICAgIC8vIG5vZGVzW2luZGV4XSBpcyBncm91cCBzdGFydFxuICAgIGlmIChob3cgPT0gQWRkLkFMVEVSTkFURSkge1xuICAgICAgdGhpcy5lbXB0eUhlYWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMubm9tYXRjaCwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbm5lY3QodGhpcy5tYXRjaCwgaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCBjb25uZWN0aW9uSW5kZXggPSB0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmNvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gZ3JvdXAuY29ubmVjdGlvbnNbaV07XG4gICAgICBjb25uZWN0aW9uLndoZXJlICs9IGluZGV4O1xuICAgICAgaWYgKGNvbm5lY3Rpb24ud2hhdCA+PSAwKSB7XG4gICAgICAgIGNvbm5lY3Rpb24ud2hhdCArPSBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5tYXRjaC5wdXNoKGdyb3VwLm1hdGNoW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICB9XG4gICAgaWYgKGhvdyA9PSBBZGQuUkVQRUFURUQpIHtcbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLm1hdGNoLCBpbmRleCk7XG4gICAgfVxuICAgIGlmIChob3cgPT0gQWRkLk9QVElPTkFMIHx8IGhvdyA9PSBBZGQuUkVQRUFURUQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLm1hdGNoLnB1c2goZ3JvdXAubm9tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmVtcHR5SGVhZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5ub21hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMubm9tYXRjaC5wdXNoKGdyb3VwLm5vbWF0Y2hbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbXB0eUhlYWQgPSBncm91cC5lbXB0eUhlYWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmVycm9yLnB1c2goZ3JvdXAubm9tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAuZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXJyb3IucHVzaChncm91cC5lcnJvcltpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgfVxuXG4gICAgLy8gaW52YWxpZGF0ZSBncm91cFxuICAgIGdyb3VwLm5vZGVzID0gbnVsbDtcbiAgICBncm91cC5jb25uZWN0aW9ucyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob3dcbiAgICovXG4gIGZpbmlzaChzdWNjZXNzVGVybWluYWw6IE5vZGUsIGZhaWxUZXJtaW5hbDogTm9kZSk6IE5vZGUge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKHN1Y2Nlc3NUZXJtaW5hbCk7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKGZhaWxUZXJtaW5hbCk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5ub21hdGNoLCBpbmRleCArIDEpO1xuICAgIHRoaXMuY29ubmVjdCh0aGlzLmVycm9yLCBpbmRleCArIDEpO1xuICAgIGZvciAoY29uc3QgY29ubmVjdGlvbiBvZiB0aGlzLmNvbm5lY3Rpb25zKSB7XG4gICAgICBpZiAoY29ubmVjdGlvbi5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGVyZV0uc3VjY2VzcyA9IHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGF0XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGVyZV0uZmFpbHVyZSA9IHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGF0XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhhdCBvdXIgZGF0YSBzdHJ1Y3R1cmUgaXMgY29ycmVjdFxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5kZXg7IGorKykge1xuICAgICAgaWYgKHRoaXMubm9kZXNbal0uZmFpbHVyZSA9PSBudWxsIHx8IHRoaXMubm9kZXNbal0uc3VjY2VzcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsaWRhdG9yIHN0YXRlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ub2Rlc1swXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQUxMT1dfRU1QVFkgPSAxO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfU1RSID0gMjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX0lERU5UID0gNDtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19OVU1FUklDID0gODtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19OVU0gPSAxNjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19JTlQgPSAzMjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX0NPTE9SID0gNjQ7XG5cbmV4cG9ydCBjb25zdCBBTExPV19VUkwgPSAxMjg7XG5cbmV4cG9ydCBjb25zdCBBTExPV19ORUdBVElWRSA9IDI1NjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1pFUk8gPSA1MTI7XG5cbmV4cG9ydCBjb25zdCBBTExPV19aRVJPX1BFUkNFTlQgPSAxMDI0O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfU0xBU0ggPSAyMDQ4O1xuXG5leHBvcnQgdHlwZSBWYWx1ZU1hcCA9IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzLlZhbDtcbn07XG5cbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgdG8gdmFsaWRhdGUgc2ltcGxlIENTUyBwcm9wZXJ0eSB2YWx1ZSAobm90IGEgc2hvcnRoYW5kKVxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlWYWxpZGF0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYSBzdWJzZXF1ZW5jZSBvZiB0aGUgZ2l2ZW4gdmFsdWVzIGZyb20gdGhlIGdpdmVuIGluZGV4LiBSZXR1cm4gdGhlXG4gICAqIGxpc3Qgb2YgbWF0Y2hlZCB2YWx1ZXMgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBtYXRjaC5cbiAgICovXG4gIHZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlczogQ3NzLlZhbFtdLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICBjb25zdCBydmFsID0gdmFsdWVzW2luZGV4XS52aXNpdCh0aGlzKTtcbiAgICBpZiAocnZhbCkge1xuICAgICAgcmV0dXJuIFtydmFsXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBhIHByaW1pdGl2ZSBDU1MgdmFsdWUgKG5vdCBhIGxpc3Qgb3IgZnVuY3Rpb24pLlxuICogQHBhcmFtIGFsbG93ZWQgbWFzayBvZiBBTExPV18qKiogY29uc3RhbnRzLlxuICovXG5leHBvcnQgY2xhc3MgUHJpbWl0aXZlVmFsaWRhdG9yIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWxsb3dlZDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBpZGVudHM6IFZhbHVlTWFwLFxuICAgIHB1YmxpYyByZWFkb25seSB1bml0czogVmFsdWVNYXAsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX0VNUFRZKSB7XG4gICAgICByZXR1cm4gZW1wdHk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTbGFzaChzbGFzaDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19TTEFTSCkge1xuICAgICAgcmV0dXJuIHNsYXNoO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19TVFIpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5pZGVudHNbaWRlbnQubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfSURFTlQpIHtcbiAgICAgIHJldHVybiBpZGVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAobnVtZXJpYy5udW0gPT0gMCAmJiAhKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8pKSB7XG4gICAgICBpZiAobnVtZXJpYy51bml0ID09IFwiJVwiICYmIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk9fUEVSQ0VOVCkge1xuICAgICAgICByZXR1cm4gbnVtZXJpYztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtZXJpYy5udW0gPCAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudW5pdHNbbnVtZXJpYy51bml0XSkge1xuICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW0obnVtOiBDc3MuTnVtKTogQ3NzLlZhbCB7XG4gICAgaWYgKG51bS5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8gPyBudW0gOiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtLm51bSA8PSAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1BPU19OVU0pIHtcbiAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBDc3MuSW50KTogQ3NzLlZhbCB7XG4gICAgaWYgKG51bS5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8gPyBudW0gOiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtLm51bSA8PSAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIChBTExPV19QT1NfSU5UIHwgQUxMT1dfUE9TX05VTSkpIHtcbiAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHRoaXMuaWRlbnRzW2Ake251bS5udW19YF07XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDc3MuQ29sb3IpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfQ09MT1IpIHtcbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfVVJMKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIDB4N2ZlKSB7XG4gICAgICAvLyBBTExPV19TVFJ8QUxMT1dfSURFTlR8Li4ufEFMTE9XX1pFUk9fUEVSQ0VOVFxuICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29tYmluZShvdGhlcjogUHJpbWl0aXZlVmFsaWRhdG9yKTogUHJpbWl0aXZlVmFsaWRhdG9yIHtcbiAgICBjb25zdCBpZGVudHM6IFZhbHVlTWFwID0ge307XG4gICAgY29uc3QgdW5pdHM6IFZhbHVlTWFwID0ge307XG4gICAgZm9yIChjb25zdCBpZGVudCBpbiB0aGlzLmlkZW50cykge1xuICAgICAgaWRlbnRzW2lkZW50XSA9IHRoaXMuaWRlbnRzW2lkZW50XTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpZGVudCBpbiBvdGhlci5pZGVudHMpIHtcbiAgICAgIGlkZW50c1tpZGVudF0gPSBvdGhlci5pZGVudHNbaWRlbnRdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHVuaXQgaW4gdGhpcy51bml0cykge1xuICAgICAgdW5pdHNbdW5pdF0gPSB0aGlzLnVuaXRzW3VuaXRdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHVuaXQgaW4gb3RoZXIudW5pdHMpIHtcbiAgICAgIHVuaXRzW3VuaXRdID0gb3RoZXIudW5pdHNbdW5pdF07XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKHRoaXMuYWxsb3dlZCB8IG90aGVyLmFsbG93ZWQsIGlkZW50cywgdW5pdHMpO1xuICB9XG59XG5cbmNvbnN0IE5PX0lERU5UUyA9IHt9O1xuXG5leHBvcnQgY29uc3QgQUxXQVlTX0ZBSUwgPSBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKDAsIE5PX0lERU5UUywgTk9fSURFTlRTKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsaXN0IHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0VmFsaWRhdG9yIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3Ige1xuICBzdWNjZXNzVGVybWluYWw6IE5vZGU7XG4gIGZhaWx1cmVUZXJtaW5hbDogTm9kZTtcbiAgZmlyc3Q6IE5vZGU7XG5cbiAgY29uc3RydWN0b3IoZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdWNjZXNzVGVybWluYWwgPSBuZXcgTm9kZShudWxsKTtcbiAgICB0aGlzLmZhaWx1cmVUZXJtaW5hbCA9IG5ldyBOb2RlKG51bGwpO1xuICAgIHRoaXMuZmlyc3QgPSBncm91cC5maW5pc2godGhpcy5zdWNjZXNzVGVybWluYWwsIHRoaXMuZmFpbHVyZVRlcm1pbmFsKTtcbiAgfVxuXG4gIHZhbGlkYXRlTGlzdChhcnI6IENzcy5WYWxbXSwgc2xpY2U6IGJvb2xlYW4sIHN0YXJ0SW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgbGV0IG91dDogQ3NzLlZhbFtdID0gc2xpY2UgPyBbXSA6IGFycjtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3Q7XG4gICAgbGV0IGluZGV4ID0gc3RhcnRJbmRleDtcbiAgICBsZXQgYWx0ZXJuYXRpdmVTdGFjazogc3RyaW5nW11bXSA9IG51bGw7XG4gICAgbGV0IGFsdGVybmF0aXZlczogc3RyaW5nW10gPSBudWxsO1xuICAgIHdoaWxlIChcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuc3VjY2Vzc1Rlcm1pbmFsICYmXG4gICAgICBjdXJyZW50ICE9PSB0aGlzLmZhaWx1cmVUZXJtaW5hbFxuICAgICkge1xuICAgICAgaWYgKGluZGV4ID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnZhbCA9IGFycltpbmRleF07XG4gICAgICBsZXQgb3V0dmFsID0gaW52YWw7XG4gICAgICBpZiAoY3VycmVudC5pc1NwZWNpYWwoKSkge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIGlmIChjdXJyZW50LmlzU3RhcnRHcm91cCgpKSB7XG4gICAgICAgICAgaWYgKGFsdGVybmF0aXZlU3RhY2spIHtcbiAgICAgICAgICAgIGFsdGVybmF0aXZlU3RhY2sucHVzaChhbHRlcm5hdGl2ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbHRlcm5hdGl2ZVN0YWNrID0gW2FsdGVybmF0aXZlc107XG4gICAgICAgICAgfVxuICAgICAgICAgIGFsdGVybmF0aXZlcyA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuaXNFbmRHcm91cCgpKSB7XG4gICAgICAgICAgaWYgKGFsdGVybmF0aXZlU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzID0gYWx0ZXJuYXRpdmVTdGFjay5wb3AoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5pc0VuZEFsdGVybmF0ZSgpKSB7XG4gICAgICAgICAgYWx0ZXJuYXRpdmVzW2N1cnJlbnQuZ2V0QWx0ZXJuYXRlKCldID0gXCJ0YWtlblwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2Nlc3MgPSBhbHRlcm5hdGl2ZXNbY3VycmVudC5nZXRBbHRlcm5hdGUoKV0gPT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gc3VjY2VzcyA/IGN1cnJlbnQuc3VjY2VzcyA6IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbmRleCA9PSAwICYmXG4gICAgICAgICAgIXNsaWNlICYmXG4gICAgICAgICAgY3VycmVudC52YWxpZGF0b3IgaW5zdGFuY2VvZiBTcGFjZUxpc3RWYWxpZGF0b3IgJiZcbiAgICAgICAgICB0aGlzIGluc3RhbmNlb2YgU3BhY2VMaXN0VmFsaWRhdG9yXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNwZWNpYWwgbmVzdGluZyBjYXNlOiB2YWxpZGF0ZSB0aGUgaW5wdXQgc3BhY2UgbGlzdCBhcyBhIHdob2xlLlxuICAgICAgICAgIG91dHZhbCA9IG5ldyBDc3MuU3BhY2VMaXN0KGFycikudmlzaXQoY3VycmVudC52YWxpZGF0b3IpO1xuICAgICAgICAgIGlmIChvdXR2YWwpIHtcbiAgICAgICAgICAgIGluZGV4ID0gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgaW5kZXggPT0gMCAmJlxuICAgICAgICAgICFzbGljZSAmJlxuICAgICAgICAgIGN1cnJlbnQudmFsaWRhdG9yIGluc3RhbmNlb2YgQ29tbWFMaXN0VmFsaWRhdG9yICYmXG4gICAgICAgICAgdGhpcyBpbnN0YW5jZW9mIFNwYWNlTGlzdFZhbGlkYXRvclxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIG5lc3RpbmcgY2FzZTogdmFsaWRhdGUgdGhlIGlucHV0IGNvbW1hIGxpc3QgYXMgYSB3aG9sZS5cbiAgICAgICAgICBvdXR2YWwgPSBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgICAgICBpZiAob3V0dmFsKSB7XG4gICAgICAgICAgICBpbmRleCA9IGFyci5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dHZhbCA9IGludmFsLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dHZhbCkge1xuICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHZhbCAhPT0gaW52YWwgJiYgYXJyID09PSBvdXQpIHtcbiAgICAgICAgICAvLyBzdGFydEluZGV4IGlzIHplcm8gaGVyZVxuICAgICAgICAgIG91dCA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgaW5kZXg7IGsrKykge1xuICAgICAgICAgICAgb3V0W2tdID0gYXJyW2tdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyICE9PSBvdXQpIHtcbiAgICAgICAgICBvdXRbaW5kZXggLSBzdGFydEluZGV4XSA9IG91dHZhbDtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5zdWNjZXNzVGVybWluYWwpIHtcbiAgICAgIGlmIChzbGljZSA/IG91dC5sZW5ndGggPiAwIDogaW5kZXggPT0gYXJyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhbGlkYXRlU2luZ2xlKGludmFsOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgLy8gbm8gbmVlZCB0byB3b3JyeSBhYm91dCBcInNwZWNpYWxzXCJcbiAgICBsZXQgb3V0dmFsOiBDc3MuVmFsID0gbnVsbDtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3Q7XG4gICAgd2hpbGUgKFxuICAgICAgY3VycmVudCAhPT0gdGhpcy5zdWNjZXNzVGVybWluYWwgJiZcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuZmFpbHVyZVRlcm1pbmFsXG4gICAgKSB7XG4gICAgICBpZiAoIWludmFsKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQuaXNTcGVjaWFsKCkpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBvdXR2YWwgPSBpbnZhbC52aXNpdChjdXJyZW50LnZhbGlkYXRvcik7XG4gICAgICBpZiAoIW91dHZhbCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGludmFsID0gbnVsbDtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlmIChjdXJyZW50ID09PSB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCkge1xuICAgICAgcmV0dXJuIG91dHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZW1wdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTbGFzaChzbGFzaDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHNsYXNoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHN0cik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShpZGVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW1lcmljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb2xvcihjb2xvcjogQ3NzLkNvbG9yKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoY29sb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBDc3MuVVJMKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdFZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICBpZiAoIWFycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIC8vIFNwZWNpYWwgQ2FzZSA6IElzc3VlICMxNTZcbiAgICBsZXQgbm9kZSA9IHRoaXMuZmlyc3Q7XG4gICAgbGV0IGhhc0NvbW1hTGlzdFZhbGlkYXRvciA9IGZhbHNlO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBpZiAobm9kZS52YWxpZGF0b3IgaW5zdGFuY2VvZiBDb21tYUxpc3RWYWxpZGF0b3IpIHtcbiAgICAgICAgaGFzQ29tbWFMaXN0VmFsaWRhdG9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5mYWlsdXJlO1xuICAgIH1cbiAgICBpZiAoaGFzQ29tbWFMaXN0VmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChsaXN0LnZhbHVlcywgZmFsc2UsIDApO1xuICAgICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9XG4gICAgICBpZiAoIWFycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlczogQ3NzLlZhbFtdLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUxpc3QodmFsdWVzLCB0cnVlLCBpbmRleCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hTGlzdFZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGxpc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICBpZiAoIWFycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzOiBDc3MuVmFsW10sIGluZGV4OiBudW1iZXIpOiBDc3MuVmFsW10ge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdDtcbiAgICBsZXQgcnZhbDogQ3NzLlZhbFtdO1xuICAgIHdoaWxlIChjdXJyZW50ICE9PSB0aGlzLmZhaWx1cmVUZXJtaW5hbCkge1xuICAgICAgcnZhbCA9IGN1cnJlbnQudmFsaWRhdG9yLnZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlcywgaW5kZXgpO1xuICAgICAgaWYgKHJ2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJ2YWw7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnVuY1ZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLCBncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVTaW5nbGUoaW52YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIGlmIChmdW5jLm5hbWUudG9Mb3dlckNhc2UoKSAhPSB0aGlzLm5hbWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChmdW5jLnZhbHVlcywgZmFsc2UsIDApO1xuICAgIGlmIChhcnIgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENzcy5GdW5jKGZ1bmMubmFtZSwgYXJyKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNob3J0aGFuZHNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIG5ldyBpbmRleC5cbiAgICovXG4gIHRyeVBhcnNlKFxuICAgIHZhbHVlczogQ3NzLlZhbFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IsXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgc3VjY2VzcyhydmFsOiBDc3MuVmFsLCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcik6IHZvaWQge31cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFN5bnRheFByb3BlcnR5IGV4dGVuZHMgU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gIHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3I7XG5cbiAgY29uc3RydWN0b3IodmFsaWRhdG9yU2V0OiBWYWxpZGF0b3JTZXQsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudmFsaWRhdG9yID0gdmFsaWRhdG9yU2V0LnZhbGlkYXRvcnNbdGhpcy5uYW1lXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRyeVBhcnNlKFxuICAgIHZhbHVlczogQ3NzLlZhbFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IsXG4gICk6IG51bWJlciB7XG4gICAgaWYgKHNob3J0aGFuZFZhbGlkYXRvci52YWx1ZXNbdGhpcy5uYW1lXSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBjb25zdCBydmFscyA9IHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlcywgaW5kZXgpO1xuICAgIGlmIChydmFscykge1xuICAgICAgY29uc3QgbGVuID0gcnZhbHMubGVuZ3RoO1xuICAgICAgY29uc3QgcnZhbCA9IGxlbiA+IDEgPyBuZXcgQ3NzLlNwYWNlTGlzdChydmFscykgOiBydmFsc1swXTtcbiAgICAgIHRoaXMuc3VjY2VzcyhydmFsLCBzaG9ydGhhbmRWYWxpZGF0b3IpO1xuICAgICAgcmV0dXJuIGluZGV4ICsgbGVuO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdWNjZXNzKHJ2YWw6IENzcy5WYWwsIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yKTogdm9pZCB7XG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yLnZhbHVlc1t0aGlzLm5hbWVdID0gcnZhbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOIGV4dGVuZHMgU2hvcnRoYW5kU3ludGF4UHJvcGVydHkge1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCwgcHVibGljIHJlYWRvbmx5IG5hbWVzOiBzdHJpbmdbXSkge1xuICAgIHN1cGVyKHZhbGlkYXRvclNldCwgbmFtZXNbMF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3VjY2VzcyhydmFsOiBDc3MuVmFsLCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcik6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yLnZhbHVlc1t0aGlzLm5hbWVzW2ldXSA9IHJ2YWw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRTeW50YXhDb21wb3VuZCBleHRlbmRzIFNob3J0aGFuZFN5bnRheE5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZXM6IFNob3J0aGFuZFN5bnRheE5vZGVbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2xhc2g6IGJvb2xlYW4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0cnlQYXJzZShcbiAgICB2YWx1ZXM6IENzcy5WYWxbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGluZGV4MCA9IGluZGV4O1xuICAgIGlmICh0aGlzLnNsYXNoKSB7XG4gICAgICBpZiAodmFsdWVzW2luZGV4XSA9PSBDc3Muc2xhc2gpIHtcbiAgICAgICAgaWYgKCsraW5kZXggPT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBpbmRleDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbmRleDA7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXdJbmRleCA9IHRoaXMubm9kZXNbMF0udHJ5UGFyc2UodmFsdWVzLCBpbmRleCwgc2hvcnRoYW5kVmFsaWRhdG9yKTtcbiAgICBpZiAobmV3SW5kZXggPT0gaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleDA7XG4gICAgfVxuICAgIGluZGV4ID0gbmV3SW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAmJiBpbmRleCA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3SW5kZXggPSB0aGlzLm5vZGVzW2ldLnRyeVBhcnNlKHZhbHVlcywgaW5kZXgsIHNob3J0aGFuZFZhbGlkYXRvcik7XG4gICAgICBpZiAobmV3SW5kZXggPT0gaW5kZXgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgc3ludGF4OiBTaG9ydGhhbmRTeW50YXhOb2RlW10gPSBudWxsO1xuICBwcm9wTGlzdDogc3RyaW5nW10gPSBudWxsO1xuICBlcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xuICB2YWx1ZXM6IFZhbHVlTWFwID0ge307XG4gIHZhbGlkYXRvclNldDogVmFsaWRhdG9yU2V0ID0gbnVsbDtcblxuICBzZXRPd25lcih2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCkge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gdmFsaWRhdG9yU2V0O1xuICB9XG5cbiAgc3ludGF4Tm9kZUZvclByb3BlcnR5KG5hbWU6IHN0cmluZyk6IFNob3J0aGFuZFN5bnRheE5vZGUge1xuICAgIHJldHVybiBuZXcgU2hvcnRoYW5kU3ludGF4UHJvcGVydHkodGhpcy52YWxpZGF0b3JTZXQsIG5hbWUpO1xuICB9XG5cbiAgY2xvbmUoKTogdGhpcyB7XG4gICAgY29uc3Qgb3RoZXIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSgpO1xuICAgIG90aGVyLnN5bnRheCA9IHRoaXMuc3ludGF4O1xuICAgIG90aGVyLnByb3BMaXN0ID0gdGhpcy5wcm9wTGlzdDtcbiAgICBvdGhlci52YWxpZGF0b3JTZXQgPSB0aGlzLnZhbGlkYXRvclNldDtcbiAgICByZXR1cm4gb3RoZXI7XG4gIH1cblxuICBpbml0KHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdLCBwcm9wTGlzdDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLnN5bnRheCA9IHN5bnRheDtcbiAgICB0aGlzLnByb3BMaXN0ID0gcHJvcExpc3Q7XG4gIH1cblxuICBmaW5pc2goaW1wb3J0YW50OiBib29sZWFuLCByZWNlaXZlcjogUHJvcGVydHlSZWNlaXZlcik6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5lcnJvcikge1xuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMucHJvcExpc3QpIHtcbiAgICAgICAgcmVjZWl2ZXIuc2ltcGxlUHJvcGVydHkoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSB8fCB0aGlzLnZhbGlkYXRvclNldC5kZWZhdWx0VmFsdWVzW25hbWVdLFxuICAgICAgICAgIGltcG9ydGFudCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcm9wYWdhdGVJbmhlcml0KGltcG9ydGFudDogYm9vbGVhbiwgcmVjZWl2ZXI6IFByb3BlcnR5UmVjZWl2ZXIpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5wcm9wTGlzdCkge1xuICAgICAgcmVjZWl2ZXIuc2ltcGxlUHJvcGVydHkobmFtZSwgQ3NzLmlkZW50LmluaGVyaXQsIGltcG9ydGFudCk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YWxpZGF0ZVNpbmdsZSh2YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbGlkYXRlTGlzdChbdmFsXSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZW1wdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGlkZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBDc3MuTnVtZXJpYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bWVyaWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW0obnVtOiBDc3MuTnVtKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SW50KG51bTogQ3NzLkludCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDc3MuQ29sb3IpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShjb2xvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZSh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSB0aGlzLnN5bnRheFtpXS50cnlQYXJzZShsaXN0LCBpbmRleCwgdGhpcyk7XG4gICAgICBpZiAobmV3SW5kZXggPiBpbmRleCkge1xuICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgICAgICBpID0gMDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKytpID09IHRoaXMuc3ludGF4Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGlmIChsaXN0Lmxlbmd0aCA+IHRoaXMuc3ludGF4Lmxlbmd0aCB8fCBsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3ludGF4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXggPSBpO1xuICAgICAgd2hpbGUgKGluZGV4ID49IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPT0gMSA/IDAgOiBpbmRleCAtIDI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zeW50YXhbaV0udHJ5UGFyc2UobGlzdCwgaW5kZXgsIHRoaXMpICE9IGluZGV4ICsgMSkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIGNyZWF0ZVN5bnRheE5vZGUoKTogU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOIHtcbiAgICByZXR1cm4gbmV3IFNob3J0aGFuZFN5bnRheFByb3BlcnR5Tih0aGlzLnZhbGlkYXRvclNldCwgdGhpcy5wcm9wTGlzdCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0c1NsYXNoU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGxldCBzbGFzaEluZGV4ID0gbGlzdC5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gQ3NzLnNsYXNoKSB7XG4gICAgICAgIHNsYXNoSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsYXNoSW5kZXggPiB0aGlzLnN5bnRheC5sZW5ndGggfHwgbGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN5bnRheC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGluZGV4MCA9IGk7XG4gICAgICB3aGlsZSAoaW5kZXgwID49IHNsYXNoSW5kZXgpIHtcbiAgICAgICAgaW5kZXgwID0gaW5kZXgwID09IDEgPyAwIDogaW5kZXgwIC0gMjtcbiAgICAgIH1cbiAgICAgIGxldCBpbmRleDE6IG51bWJlcjtcbiAgICAgIGlmIChzbGFzaEluZGV4ICsgMSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGluZGV4MSA9IHNsYXNoSW5kZXggKyBpICsgMTtcbiAgICAgICAgd2hpbGUgKGluZGV4MSA+PSBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgIGluZGV4MSA9IGluZGV4MSAtIChpbmRleDEgPT0gc2xhc2hJbmRleCArIDIgPyAxIDogMik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4MSA9IGluZGV4MDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHMgPSBbbGlzdFtpbmRleDBdLCBsaXN0W2luZGV4MV1dO1xuICAgICAgaWYgKHRoaXMuc3ludGF4W2ldLnRyeVBhcnNlKHZhbHMsIDAsIHRoaXMpICE9IDIpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdC5sZW5ndGg7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG1lcmdlSW4oYWNjOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWxbXSB9LCB2YWx1ZXM6IFZhbHVlTWFwKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMucHJvcExpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHZhbHVlc1tuYW1lXSB8fCB0aGlzLnZhbGlkYXRvclNldC5kZWZhdWx0VmFsdWVzW25hbWVdO1xuICAgICAgbGV0IGFyciA9IGFjY1tuYW1lXTtcbiAgICAgIGlmICghYXJyKSB7XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICBhY2NbbmFtZV0gPSBhcnI7XG4gICAgICB9XG4gICAgICBhcnIucHVzaCh2YWwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBhY2M6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbFtdIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IHt9O1xuICAgICAgaWYgKGxpc3QudmFsdWVzW2ldIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QudmFsdWVzW2ldLnZpc2l0KHRoaXMpO1xuICAgICAgICB0aGlzLm1lcmdlSW4oYWNjLCB0aGlzLnZhbHVlcyk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tcImJhY2tncm91bmQtY29sb3JcIl0gJiYgaSAhPSBsaXN0LnZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZhbHVlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBhY2MpIHtcbiAgICAgIGlmIChuYW1lID09IFwiYmFja2dyb3VuZC1jb2xvclwiKSB7XG4gICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0gYWNjW25hbWVdLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0gPSBuZXcgQ3NzLkNvbW1hTGlzdChhY2NbbmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9udFNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0KHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdLCBwcm9wTGlzdDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBzdXBlci5pbml0KHN5bnRheCwgcHJvcExpc3QpO1xuICAgIHRoaXMucHJvcExpc3QucHVzaChcImZvbnQtZmFtaWx5XCIsIFwibGluZS1oZWlnaHRcIiwgXCJmb250LXNpemVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSBzdXBlci52YWxpZGF0ZUxpc3QobGlzdCk7XG5cbiAgICAvLyBtdXN0IGF0IGxlYXN0IGhhdmUgZm9udC1zaXplIGFuZCBmb250LWZhbWlseSBhdCB0aGUgZW5kXG4gICAgaWYgKGluZGV4ICsgMiA+IGxpc3QubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgIGNvbnN0IHZhbGlkYXRvcnMgPSB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0b3JzO1xuICAgIGlmICghbGlzdFtpbmRleF0udmlzaXQodmFsaWRhdG9yc1tcImZvbnQtc2l6ZVwiXSkpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICB0aGlzLnZhbHVlc1tcImZvbnQtc2l6ZVwiXSA9IGxpc3RbaW5kZXgrK107XG4gICAgaWYgKGxpc3RbaW5kZXhdID09PSBDc3Muc2xhc2gpIHtcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIC8vIG11c3QgYXQgbGVhc3QgaGF2ZSBsaW5lLWhlaWdodCBhbmQgZm9udC1mYW1pbHkgYXQgdGhlIGVuZFxuICAgICAgaWYgKGluZGV4ICsgMiA+IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICBpZiAoIWxpc3RbaW5kZXhdLnZpc2l0KHZhbGlkYXRvcnNbXCJsaW5lLWhlaWdodFwiXSkpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWVzW1wibGluZS1oZWlnaHRcIl0gPSBsaXN0W2luZGV4KytdO1xuICAgIH1cbiAgICBjb25zdCBmb250RmFtaWx5ID1cbiAgICAgIGluZGV4ID09IGxpc3QubGVuZ3RoIC0gMVxuICAgICAgICA/IGxpc3RbaW5kZXhdXG4gICAgICAgIDogbmV3IENzcy5TcGFjZUxpc3QobGlzdC5zbGljZShpbmRleCwgbGlzdC5sZW5ndGgpKTtcbiAgICBpZiAoIWZvbnRGYW1pbHkudmlzaXQodmFsaWRhdG9yc1tcImZvbnQtZmFtaWx5XCJdKSkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHRoaXMudmFsdWVzW1wiZm9udC1mYW1pbHlcIl0gPSBmb250RmFtaWx5O1xuICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICBsaXN0LnZhbHVlc1swXS52aXNpdCh0aGlzKTtcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGZhbWlseUxpc3QgPSBbdGhpcy52YWx1ZXNbXCJmb250LWZhbWlseVwiXV07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaXN0LnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZmFtaWx5TGlzdC5wdXNoKGxpc3QudmFsdWVzW2ldKTtcbiAgICB9XG4gICAgY29uc3QgZmFtaWx5ID0gbmV3IENzcy5Db21tYUxpc3QoZmFtaWx5TGlzdCk7XG4gICAgaWYgKCFmYW1pbHkudmlzaXQodGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdG9yc1tcImZvbnQtZmFtaWx5XCJdKSkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmFsdWVzW1wiZm9udC1mYW1pbHlcIl0gPSBmYW1pbHk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnZhbGlkYXRvclNldC5zeXN0ZW1Gb250c1tpZGVudC5uYW1lXTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBwcm9wcykge1xuICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSA9IHByb3BzW25hbWVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNob3J0aGFuZFZhbGlkYXRvcnM6IHtcbiAgW2tleTogc3RyaW5nXTogdHlwZW9mIFNob3J0aGFuZFZhbGlkYXRvcjtcbn0gPSB7XG4gIFNJTVBMRTogU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBJTlNFVFM6IEluc2V0c1Nob3J0aGFuZFZhbGlkYXRvcixcbiAgSU5TRVRTX1NMQVNIOiBJbnNldHNTbGFzaFNob3J0aGFuZFZhbGlkYXRvcixcbiAgQ09NTUE6IENvbW1hU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBGT05UOiBGb250U2hvcnRoYW5kVmFsaWRhdG9yLFxufTtcblxuLy8tLS0tIHZhbGlkYXRpb24gZ3JhbW1hciBwYXJzZXIgYW5kIHB1YmxpYyBwcm9wZXJ0eSB2YWxpZGF0b3Jcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogT2JqZWN0IHRoYXQgdmFsaWRhdGVzIHNpbXBsZSBhbmQgc2hvcnRoYW5kIHByb3BlcnRpZXMsIGJyZWFraW5nIHVwIHNob3J0aGFuZFxuICogcHJvcGVydGllcyBpbnRvIGNvcnJlc3BvbmRpbmcgc2ltcGxlIG9uZXMsIGFsc28gc3RyaXBwaW5nIHByb3BlcnR5IHByZWZpeGVzLlxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdG9yU2V0IHtcbiAgdmFsaWRhdG9yczogeyBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eVZhbGlkYXRvciB9ID0ge307XG4gIHByZWZpeGVzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IH0gPSB7fTtcbiAgZGVmYXVsdFZhbHVlczogVmFsdWVNYXAgPSB7fTtcbiAgbmFtZWRWYWxpZGF0b3JzOiB7IFtrZXk6IHN0cmluZ106IFZhbGlkYXRpbmdHcm91cCB9ID0ge307XG4gIHN5c3RlbUZvbnRzOiB7IFtrZXk6IHN0cmluZ106IFZhbHVlTWFwIH0gPSB7fTtcbiAgc2hvcnRoYW5kczogeyBba2V5OiBzdHJpbmddOiBTaG9ydGhhbmRWYWxpZGF0b3IgfSA9IHt9O1xuICBsYXlvdXRQcm9wczogVmFsdWVNYXAgPSB7fTtcbiAgYmFja2dyb3VuZFByb3BzOiBWYWx1ZU1hcCA9IHt9O1xuXG4gIHByaXZhdGUgYWRkUmVwbGFjZW1lbnQoXG4gICAgdmFsOiBWYWxpZGF0aW5nR3JvdXAsXG4gICAgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbixcbiAgKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBsZXQgY3NzdmFsOiBDc3MuVmFsO1xuICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQykge1xuICAgICAgY3NzdmFsID0gbmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCk7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSCkge1xuICAgICAgY3NzdmFsID0gQ3NzUGFyc2VyLmNvbG9yRnJvbUhhc2godG9rZW4udGV4dCk7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgIGNzc3ZhbCA9IENzcy5nZXROYW1lKHRva2VuLnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHJlcGxhY2VtZW50XCIpO1xuICAgIH1cbiAgICBpZiAodmFsLmlzUHJpbWl0aXZlKCkpIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHZhbC5ub2Rlc1swXS52YWxpZGF0b3IgYXMgUHJpbWl0aXZlVmFsaWRhdG9yO1xuICAgICAgY29uc3QgaWRlbnRzID0gdmFsaWRhdG9yLmlkZW50cztcbiAgICAgIGZvciAoY29uc3QgaWRlbnQgaW4gaWRlbnRzKSB7XG4gICAgICAgIGlkZW50c1tpZGVudF0gPSBjc3N2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHJlcGxhY2VtZW50XCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXdHcm91cChvcDogc3RyaW5nLCB2YWxzOiBWYWxpZGF0aW5nR3JvdXBbXSk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgaWYgKG9wID09IFwifHxcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN1Ymdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgICAgICBzdWJncm91cC5zdGFydENsYXVzZShpKTtcbiAgICAgICAgc3ViZ3JvdXAuYWRkR3JvdXAodmFsc1tpXSwgQWRkLkZPTExPVyk7XG4gICAgICAgIHN1Ymdyb3VwLmVuZENsYXVzZShpKTtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAoc3ViZ3JvdXAsIGkgPT0gMCA/IEFkZC5GT0xMT1cgOiBBZGQuQUxURVJOQVRFKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG91dGVyID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgICAgb3V0ZXIuc3RhcnRTcGVjaWFsR3JvdXAoKTtcbiAgICAgIG91dGVyLmFkZEdyb3VwKGdyb3VwLCBBZGQuUkVQRUFURUQpO1xuICAgICAgb3V0ZXIuZW5kU3BlY2lhbEdyb3VwKCk7XG4gICAgICByZXR1cm4gb3V0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBob3c6IEFkZDtcbiAgICAgIHN3aXRjaCAob3ApIHtcbiAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICBob3cgPSBBZGQuRk9MTE9XO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICBjYXNlIFwifHxcIjpcbiAgICAgICAgICBob3cgPSBBZGQuQUxURVJOQVRFO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgb3BcIik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsc1tpXSwgaSA9PSAwID8gQWRkLkZPTExPVyA6IGhvdyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRDb3VudHMoXG4gICAgdmFsOiBWYWxpZGF0aW5nR3JvdXAsXG4gICAgbWluOiBudW1iZXIsXG4gICAgbWF4OiBudW1iZXIsXG4gICk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW47IGkrKykge1xuICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLmNsb25lKCksIEFkZC5GT0xMT1cpO1xuICAgIH1cbiAgICBpZiAobWF4ID09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLCBBZGQuUkVQRUFURUQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gbWluOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLmNsb25lKCksIEFkZC5PUFRJT05BTCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHByaXZhdGUgcHJpbWl0aXZlKHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3IpOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgIGdyb3VwLmFkZFByaW1pdGl2ZSh2YWxpZGF0b3IpO1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHByaXZhdGUgbmV3RnVuYyhmbjogc3RyaW5nLCB2YWw6IFZhbGlkYXRpbmdHcm91cCk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgbGV0IHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3I7XG4gICAgc3dpdGNoIChmbikge1xuICAgICAgY2FzZSBcIkNPTU1BXCI6XG4gICAgICAgIHZhbGlkYXRvciA9IG5ldyBDb21tYUxpc3RWYWxpZGF0b3IodmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU1BBQ0VcIjpcbiAgICAgICAgdmFsaWRhdG9yID0gbmV3IFNwYWNlTGlzdFZhbGlkYXRvcih2YWwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhbGlkYXRvciA9IG5ldyBGdW5jVmFsaWRhdG9yKGZuLnRvTG93ZXJDYXNlKCksIHZhbCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcmltaXRpdmUodmFsaWRhdG9yKTtcbiAgfVxuXG4gIGluaXRCdWlsdEluVmFsaWRhdG9ycygpOiB2b2lkIHtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIkhBU0hDT0xPUlwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19DT0xPUiwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfSU5UXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19JTlQsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX05VTVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19QRVJDRU5UQUdFXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHsgXCIlXCI6IENzcy5lbXB0eSB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiTkVHQVRJVkVcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfTkVHQVRJVkUsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiWkVST1wiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19aRVJPLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlpFUk9fUEVSQ0VOVEFHRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19aRVJPX1BFUkNFTlQsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX0xFTkdUSFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIGVtOiBDc3MuZW1wdHksXG4gICAgICAgIGV4OiBDc3MuZW1wdHksXG4gICAgICAgIGNoOiBDc3MuZW1wdHksXG4gICAgICAgIHJlbTogQ3NzLmVtcHR5LFxuICAgICAgICB2dzogQ3NzLmVtcHR5LFxuICAgICAgICB2aDogQ3NzLmVtcHR5LFxuICAgICAgICB2aTogQ3NzLmVtcHR5LFxuICAgICAgICB2YjogQ3NzLmVtcHR5LFxuICAgICAgICB2bWluOiBDc3MuZW1wdHksXG4gICAgICAgIHZtYXg6IENzcy5lbXB0eSxcbiAgICAgICAgcHZ3OiBDc3MuZW1wdHksXG4gICAgICAgIHB2aDogQ3NzLmVtcHR5LFxuICAgICAgICBwdmk6IENzcy5lbXB0eSxcbiAgICAgICAgcHZiOiBDc3MuZW1wdHksXG4gICAgICAgIHB2bWluOiBDc3MuZW1wdHksXG4gICAgICAgIHB2bWF4OiBDc3MuZW1wdHksXG4gICAgICAgIGNtOiBDc3MuZW1wdHksXG4gICAgICAgIG1tOiBDc3MuZW1wdHksXG4gICAgICAgIGluOiBDc3MuZW1wdHksXG4gICAgICAgIHB4OiBDc3MuZW1wdHksXG4gICAgICAgIHB0OiBDc3MuZW1wdHksXG4gICAgICAgIHBjOiBDc3MuZW1wdHksXG4gICAgICAgIHE6IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfQU5HTEVcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBkZWc6IENzcy5lbXB0eSxcbiAgICAgICAgZ3JhZDogQ3NzLmVtcHR5LFxuICAgICAgICByYWQ6IENzcy5lbXB0eSxcbiAgICAgICAgdHVybjogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19USU1FXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgczogQ3NzLmVtcHR5LFxuICAgICAgICBtczogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIkZSRVFVRU5DWVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIEh6OiBDc3MuZW1wdHksXG4gICAgICAgIGtIejogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlJFU09MVVRJT05cIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBkcGk6IENzcy5lbXB0eSxcbiAgICAgICAgZHBjbTogQ3NzLmVtcHR5LFxuICAgICAgICBkcHB4OiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiVVJJXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1VSTCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJJREVOVFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19JREVOVCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJTVFJJTkdcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfU1RSLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlNMQVNIXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1NMQVNILCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICBjb25zdCBzdGRmb250ID0geyBcImZvbnQtZmFtaWx5XCI6IENzcy5nZXROYW1lKFwic2Fucy1zZXJpZlwiKSB9O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJjYXB0aW9uXCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wiaWNvblwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcIm1lbnVcIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJtZXNzYWdlLWJveFwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcInNtYWxsLWNhcHRpb25cIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJzdGF0dXMtYmFyXCJdID0gc3RkZm9udDtcbiAgfVxuXG4gIHByaXZhdGUgaXNCdWlsdEluKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5hbWUubWF0Y2goL15bQS1aXzAtOV0rJC8pO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkTmFtZUFuZFByZWZpeGVzKFxuICAgIHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgICBzZWN0aW9uOiBudW1iZXIsXG4gICk6IHN0cmluZyB8IG51bGwge1xuICAgIGxldCB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GKSB7XG4gICAgICAvLyBGaW5pc2hlZCBub3JtYWxseVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGVQcmVmaXhlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7IFwiXCI6IHRydWUgfTtcbiAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLKSB7XG4gICAgICBkbyB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcmVmaXggbmFtZSBleHBlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydWxlUHJlZml4ZXNbdG9rZW4udGV4dF0gPSB0cnVlO1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgfSB3aGlsZSAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BKTtcbiAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkspIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ10nIGV4cGVjdGVkXCIpO1xuICAgICAgfVxuICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgfVxuICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3BlcnR5IG5hbWUgZXhwZWN0ZWRcIik7XG4gICAgfVxuICAgIGlmIChzZWN0aW9uID09IDIgPyB0b2tlbi50ZXh0ID09IFwiU0hPUlRIQU5EU1wiIDogdG9rZW4udGV4dCA9PSBcIkRFRkFVTFRTXCIpIHtcbiAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IHRva2VuLnRleHQ7XG4gICAgdG9rLmNvbnN1bWUoKTtcbiAgICBpZiAoc2VjdGlvbiAhPSAyKSB7XG4gICAgICBpZiAodG9rLnRva2VuKCkudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIic9JyBleHBlY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc0J1aWx0SW4obmFtZSkpIHtcbiAgICAgICAgdGhpcy5wcmVmaXhlc1tuYW1lXSA9IHJ1bGVQcmVmaXhlcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRvay50b2tlbigpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInOicgZXhwZWN0ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVZhbGlkYXRvcnModG9rOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHJ1bGVOYW1lID0gdGhpcy5yZWFkTmFtZUFuZFByZWZpeGVzKHRvaywgMSk7XG4gICAgICBpZiAoIXJ1bGVOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB2YWxzOiBWYWxpZGF0aW5nR3JvdXBbXSA9IFtdO1xuICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgIGxldCBvcCA9IFwiXCI7XG4gICAgICBsZXQgdmFsOiBWYWxpZGF0aW5nR3JvdXA7XG4gICAgICBsZXQgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgcmVkdWNlID0gKCk6IFZhbGlkYXRpbmdHcm91cCA9PiB7XG4gICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYubmV3R3JvdXAob3AsIHZhbHMpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldG9wID0gKGN1cnJvcDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2N1cnJvcH0nOiB1bmV4cGVjdGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wICYmIG9wICE9IGN1cnJvcCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbWl4ZWQgb3BlcmF0b3JzOiAnJHtjdXJyb3B9JyBhbmQgJyR7b3B9J2ApO1xuICAgICAgICB9XG4gICAgICAgIG9wID0gY3Vycm9wO1xuICAgICAgICBleHBlY3R2YWwgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIGxldCByZXN1bHQ6IFZhbGlkYXRpbmdHcm91cCA9IG51bGw7XG4gICAgICB3aGlsZSAoIXJlc3VsdCkge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgaWYgKCFleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgc2V0b3AoXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCdWlsdEluKHRva2VuLnRleHQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGJ1aWx0SW4gPSB0aGlzLm5hbWVkVmFsaWRhdG9yc1t0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgICAgaWYgKCFidWlsdEluKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0b2tlbi50ZXh0fScgdW5leHBlY3RlZGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbHMucHVzaChidWlsdEluLmNsb25lKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaWRlbnRzID0ge307XG4gICAgICAgICAgICAgIGlkZW50c1t0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCldID0gQ3NzLmdldE5hbWUodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIHZhbHMucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLnByaW1pdGl2ZShuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKDAsIGlkZW50cywgTk9fSURFTlRTKSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50cyA9IHt9O1xuICAgICAgICAgICAgaWRlbnRzW2Ake3Rva2VuLm51bX1gXSA9IG5ldyBDc3MuSW50KHRva2VuLm51bSk7XG4gICAgICAgICAgICB2YWxzLnB1c2goXG4gICAgICAgICAgICAgIHRoaXMucHJpbWl0aXZlKG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoMCwgaWRlbnRzLCBOT19JREVOVFMpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSOlxuICAgICAgICAgICAgc2V0b3AoXCJ8XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVI6XG4gICAgICAgICAgICBzZXRvcChcInx8XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLOlxuICAgICAgICAgICAgaWYgKCFleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgc2V0b3AoXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sucHVzaCh7IHZhbHMsIG9wLCBiOiBcIltcIiB9KTtcbiAgICAgICAgICAgIG9wID0gXCJcIjtcbiAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQzpcbiAgICAgICAgICAgIGlmICghZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHNldG9wKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyB2YWxzLCBvcCwgYjogXCIoXCIsIGZuOiB0b2tlbi50ZXh0IH0pO1xuICAgICAgICAgICAgb3AgPSBcIlwiO1xuICAgICAgICAgICAgdmFscyA9IFtdO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzoge1xuICAgICAgICAgICAgdmFsID0gcmVkdWNlKCk7XG4gICAgICAgICAgICBjb25zdCBvcGVuID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAob3Blbi5iICE9IFwiW1wiKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIiddJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscyA9IG9wZW4udmFscztcbiAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgb3AgPSBvcGVuLm9wO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSOiB7XG4gICAgICAgICAgICB2YWwgPSByZWR1Y2UoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZW4gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChvcGVuLmIgIT0gXCIoXCIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJyknIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzID0gb3Blbi52YWxzO1xuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMubmV3RnVuYyhvcGVuLmZuLCB2YWwpKTtcbiAgICAgICAgICAgIG9wID0gb3Blbi5vcDtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTjpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJzonIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkUmVwbGFjZW1lbnQodmFscy5wb3AoKSwgdG9rLnRva2VuKCkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSSzpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJz8nIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRDb3VudHModmFscy5wb3AoKSwgMCwgMSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVI6XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIicqJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIicrJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIDEsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDOiB7XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxpbnQ+IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWluID0gdG9rZW4ubnVtO1xuICAgICAgICAgICAgbGV0IG1heCA9IG1pbjtcbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQSkge1xuICAgICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxpbnQ+IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1heCA9IHRva2VuLm51bTtcbiAgICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ30nIGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIG1pbiwgbWF4KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0w6XG4gICAgICAgICAgICByZXN1bHQgPSByZWR1Y2UoKTtcbiAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5jbG9zZWQgJyR7c3RhY2sucG9wKCkuYn0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIGlmICh0aGlzLmlzQnVpbHRJbihydWxlTmFtZSkpIHtcbiAgICAgICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbcnVsZU5hbWVdID0gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pc1NpbXBsZSgpKSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JzW3J1bGVOYW1lXSA9IHJlc3VsdC5ub2Rlc1swXS52YWxpZGF0b3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JzW3J1bGVOYW1lXSA9IG5ldyBTcGFjZUxpc3RWYWxpZGF0b3IocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VEZWZhdWx0cyh0b2s6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIpOiB2b2lkIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgcHJvcE5hbWUgPSB0aGlzLnJlYWROYW1lQW5kUHJlZml4ZXModG9rLCAyKTtcbiAgICAgIGlmICghcHJvcE5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsczogQ3NzLlZhbFtdID0gW107XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wpIHtcbiAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIHZhbHMucHVzaChDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNOlxuICAgICAgICAgICAgdmFscy5wdXNoKG5ldyBDc3MuTnVtKHRva2VuLm51bSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICAgIHZhbHMucHVzaChuZXcgQ3NzLkludCh0b2tlbi5udW0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICAgICAgdmFscy5wdXNoKG5ldyBDc3MuTnVtZXJpYyh0b2tlbi5udW0sIHRva2VuLnRleHQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHRva2VuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHRWYWx1ZXNbcHJvcE5hbWVdID1cbiAgICAgICAgdmFscy5sZW5ndGggPiAxID8gbmV3IENzcy5TcGFjZUxpc3QodmFscykgOiB2YWxzWzBdO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VTaG9ydGhhbmRzKHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcik6IHZvaWQge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBydWxlTmFtZSA9IHRoaXMucmVhZE5hbWVBbmRQcmVmaXhlcyh0b2ssIDMpO1xuICAgICAgaWYgKCFydWxlTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgdG9rZW4gPSB0b2subnRoVG9rZW4oMSk7XG4gICAgICBsZXQgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3I7XG4gICAgICBpZiAoXG4gICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICBzaG9ydGhhbmRWYWxpZGF0b3JzW3Rva2VuLnRleHRdXG4gICAgICApIHtcbiAgICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yID0gbmV3IHNob3J0aGFuZFZhbGlkYXRvcnNbdG9rZW4udGV4dF0oKTtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3J0aGFuZFZhbGlkYXRvciA9IG5ldyBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3IoKTtcbiAgICAgIH1cbiAgICAgIHNob3J0aGFuZFZhbGlkYXRvci5zZXRPd25lcih0aGlzKTtcbiAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGxldCBzeW50YXg6IFNob3J0aGFuZFN5bnRheE5vZGVbXSA9IFtdO1xuICAgICAgbGV0IHNsYXNoID0gZmFsc2U7XG4gICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgY29uc3QgcHJvcExpc3QgPSBbXTtcbiAgICAgIHdoaWxlICghcmVzdWx0KSB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRvcnNbdG9rZW4udGV4dF0pIHtcbiAgICAgICAgICAgICAgc3ludGF4LnB1c2goc2hvcnRoYW5kVmFsaWRhdG9yLnN5bnRheE5vZGVGb3JQcm9wZXJ0eSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICAgIHByb3BMaXN0LnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICB0aGlzLnNob3J0aGFuZHNbdG9rZW4udGV4dF0gaW5zdGFuY2VvZiBJbnNldHNTaG9ydGhhbmRWYWxpZGF0b3JcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBpbnNldFNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1tcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0XG4gICAgICAgICAgICAgIF0gYXMgSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yO1xuICAgICAgICAgICAgICBzeW50YXgucHVzaChpbnNldFNob3J0aGFuZC5jcmVhdGVTeW50YXhOb2RlKCkpO1xuICAgICAgICAgICAgICBwcm9wTGlzdC5wdXNoKC4uLmluc2V0U2hvcnRoYW5kLnByb3BMaXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgJyR7dG9rZW4udGV4dH0nIGlzIG5laXRoZXIgYSBzaW1wbGUgcHJvcGVydHkgbm9yIGFuIGluc2V0IHNob3J0aGFuZGAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0g6XG4gICAgICAgICAgICBpZiAoc3ludGF4Lmxlbmd0aCA+IDAgfHwgc2xhc2gpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBzbGFzaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsYXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSSzpcbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyBzbGFzaCwgc3ludGF4IH0pO1xuICAgICAgICAgICAgc3ludGF4ID0gW107XG4gICAgICAgICAgICBzbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLOiB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3VuZCA9IG5ldyBTaG9ydGhhbmRTeW50YXhDb21wb3VuZChzeW50YXgsIHNsYXNoKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN5bnRheCA9IGl0ZW0uc3ludGF4O1xuICAgICAgICAgICAgc2xhc2ggPSBpdGVtLnNsYXNoO1xuICAgICAgICAgICAgc3ludGF4LnB1c2goY29tcG91bmQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MOlxuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yLmluaXQoc3ludGF4LCBwcm9wTGlzdCk7XG4gICAgICB0aGlzLnNob3J0aGFuZHNbcnVsZU5hbWVdID0gc2hvcnRoYW5kVmFsaWRhdG9yO1xuICAgIH1cbiAgfVxuXG4gIHBhcnNlKHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIE5vdCBhcyByb2J1c3QgYXMgQ1NTIHBhcnNlci5cbiAgICBjb25zdCB0b2sgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcih0ZXh0LCBudWxsKTtcbiAgICB0aGlzLnBhcnNlVmFsaWRhdG9ycyh0b2spO1xuICAgIHRoaXMucGFyc2VEZWZhdWx0cyh0b2spO1xuICAgIHRoaXMucGFyc2VTaG9ydGhhbmRzKHRvayk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kUHJvcHMgPSB0aGlzLm1ha2VQcm9wU2V0KFtcImJhY2tncm91bmRcIl0pO1xuICAgIHRoaXMubGF5b3V0UHJvcHMgPSB0aGlzLm1ha2VQcm9wU2V0KFtcbiAgICAgIFwibWFyZ2luXCIsXG4gICAgICBcImJvcmRlclwiLFxuICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICBcImNvbHVtbnNcIixcbiAgICAgIFwiY29sdW1uLWdhcFwiLFxuICAgICAgXCJjb2x1bW4tcnVsZVwiLFxuICAgICAgXCJjb2x1bW4tZmlsbFwiLFxuICAgIF0pO1xuICB9XG5cbiAgbWFrZVByb3BTZXQocHJvcExpc3Q6IHN0cmluZ1tdKTogVmFsdWVNYXAge1xuICAgIGNvbnN0IG1hcDogVmFsdWVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcExpc3QpIHtcbiAgICAgIGNvbnN0IHNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1twcm9wXTtcbiAgICAgIGNvbnN0IGxpc3QgPSBzaG9ydGhhbmQgPyBzaG9ydGhhbmQucHJvcExpc3QgOiBbcHJvcF07XG4gICAgICBmb3IgKGNvbnN0IHBuYW1lIG9mIGxpc3QpIHtcbiAgICAgICAgY29uc3QgcHZhbCA9IHRoaXMuZGVmYXVsdFZhbHVlc1twbmFtZV07XG4gICAgICAgIGlmICghcHZhbCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmtub3duIHByb3BlcnR5IGluIG1ha2VQcm9wU2V0OlwiLCBwbmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFwW3BuYW1lXSA9IHB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZhbHVlOiBDc3MuVmFsLFxuICAgIGltcG9ydGFudDogYm9vbGVhbixcbiAgICByZWNlaXZlcjogUHJvcGVydHlSZWNlaXZlcixcbiAgKTogdm9pZCB7XG4gICAgbGV0IHByZWZpeCA9IFwiXCI7XG4gICAgY29uc3Qgb3JpZ05hbWUgPSBuYW1lO1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgciA9IG5hbWUubWF0Y2goL14tKFthLXpdKyktKFstYS16MC05XSspJC8pO1xuICAgIGlmIChyKSB7XG4gICAgICBwcmVmaXggPSByWzFdO1xuICAgICAgbmFtZSA9IHJbMl07XG4gICAgfVxuICAgIGNvbnN0IHB4ID0gdGhpcy5wcmVmaXhlc1tuYW1lXTtcbiAgICBpZiAoIXB4IHx8ICFweFtwcmVmaXhdKSB7XG4gICAgICByZWNlaXZlci51bmtub3duUHJvcGVydHkob3JpZ05hbWUsIHZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JzW25hbWVdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHJ2YWx1ZSA9XG4gICAgICAgIHZhbHVlID09PSBDc3MuaWRlbnQuaW5oZXJpdCB8fCB2YWx1ZS5pc0V4cHIoKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IHZhbHVlLnZpc2l0KHZhbGlkYXRvcik7XG4gICAgICBpZiAocnZhbHVlKSB7XG4gICAgICAgIHJlY2VpdmVyLnNpbXBsZVByb3BlcnR5KG5hbWUsIHJ2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY2VpdmVyLmludmFsaWRQcm9wZXJ0eVZhbHVlKG9yaWdOYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1tuYW1lXS5jbG9uZSgpO1xuICAgICAgaWYgKHZhbHVlID09PSBDc3MuaWRlbnQuaW5oZXJpdCkge1xuICAgICAgICBzaG9ydGhhbmQucHJvcGFnYXRlSW5oZXJpdChpbXBvcnRhbnQsIHJlY2VpdmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlLnZpc2l0KHNob3J0aGFuZCk7XG4gICAgICAgIGlmICghc2hvcnRoYW5kLmZpbmlzaChpbXBvcnRhbnQsIHJlY2VpdmVyKSkge1xuICAgICAgICAgIHJlY2VpdmVyLmludmFsaWRQcm9wZXJ0eVZhbHVlKG9yaWdOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VWYWxpZGF0b3JTZXQoKTogVmFsaWRhdG9yU2V0IHtcbiAgY29uc3QgdmFsaWRhdG9yU2V0ID0gbmV3IFZhbGlkYXRvclNldCgpO1xuICB2YWxpZGF0b3JTZXQuaW5pdEJ1aWx0SW5WYWxpZGF0b3JzKCk7XG4gIHZhbGlkYXRvclNldC5wYXJzZShWYWxpZGF0aW9uVHh0KTtcbiAgcmV0dXJuIHZhbGlkYXRvclNldDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRm9udCAtIERlYWwgd2l0aCBlbWJlZGRlZCBmb250cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgdHJhaXRQcm9wczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0gPSB7XG4gIFwiZm9udC1zdHlsZVwiOiBDc3MuaWRlbnQubm9ybWFsLFxuICBcImZvbnQtdmFyaWFudFwiOiBDc3MuaWRlbnQubm9ybWFsLFxuICBcImZvbnQtd2VpZ2h0XCI6IENzcy5pZGVudC5ub3JtYWwsXG59O1xuXG5leHBvcnQgY29uc3QgYm9ndXNGb250RGF0YSA9IGBPVFRPJHtuZXcgRGF0ZSgpLnZhbHVlT2YoKX1gO1xuXG5leHBvcnQgbGV0IGJvZ3VzRm9udENvdW50ZXI6IG51bWJlciA9IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRm9udFRyYWl0S2V5KHByb3BlcnRpZXM6IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzLlZhbDtcbn0pOiBzdHJpbmcge1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgIHNiLmFwcGVuZChcIiBcIik7XG4gICAgc2IuYXBwZW5kKHByb3BlcnRpZXNbcHJvcF0udG9TdHJpbmcoKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsRGVmYXVsdHMocHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICBpZiAoIXByb3BlcnRpZXNbcHJvcF0pIHtcbiAgICAgIHByb3BlcnRpZXNbcHJvcF0gPSB0cmFpdFByb3BzW3Byb3BdO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVByb3BlcnRpZXMoXG4gIHByb3BlcnRpZXM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0ge1xuICBjb25zdCByZXN1bHQgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfTtcbiAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnRpZXMpIHtcbiAgICByZXN1bHRbcHJvcF0gPSBDc3NDYXNjYWRlLmdldFByb3AocHJvcGVydGllcywgcHJvcCkuZXZhbHVhdGUoY29udGV4dCwgcHJvcCk7XG4gIH1cbiAgZmlsbERlZmF1bHRzKHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBmb250IGRlY2xhcmVkIGluIGEgZm9udC1mYWNlIHJ1bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWNlIHtcbiAgZm9udFRyYWl0S2V5OiBzdHJpbmc7XG4gIHNyYzogc3RyaW5nIHwgbnVsbDtcbiAgYmxvYlVSTHM6IHN0cmluZ1tdID0gW107XG4gIGJsb2JzOiBCbG9iW10gPSBbXTtcbiAgZmFtaWx5OiBzdHJpbmcgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBwcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge1xuICAgIHRoaXMuZm9udFRyYWl0S2V5ID0gbWFrZUZvbnRUcmFpdEtleSh0aGlzLnByb3BlcnRpZXMpO1xuICAgIHRoaXMuc3JjID0gdGhpcy5wcm9wZXJ0aWVzW1wic3JjXCJdXG4gICAgICA/IHRoaXMucHJvcGVydGllc1tcInNyY1wiXS50b1N0cmluZygpXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZmFtaWx5ID0gdGhpcy5wcm9wZXJ0aWVzW1wiZm9udC1mYW1pbHlcIl07XG4gICAgdGhpcy5mYW1pbHkgPSBmYW1pbHkgPyBmYW1pbHkuc3RyaW5nVmFsdWUoKSA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgZm9udCB0cmFpdHMgYXJlIHRoZSBzYW1lIGZvciB0d28gZm9udCBmYWNlc1xuICAgKi9cbiAgdHJhaXRzRXF1YWwob3RoZXI6IEZhY2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb250VHJhaXRLZXkgPT0gb3RoZXIuZm9udFRyYWl0S2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBcImF0XCIgZm9udC1mYWNlIHJ1bGUuXG4gICAqL1xuICBtYWtlQXRSdWxlKHNyYzogc3RyaW5nLCBmb250Qnl0ZXM6IEJsb2IpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogXCIpO1xuICAgIHNiLmFwcGVuZCh0aGlzLmZhbWlseSBhcyBzdHJpbmcpO1xuICAgIHNiLmFwcGVuZChcIjtcXG4gIFwiKTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgICAgc2IuYXBwZW5kKHByb3ApO1xuICAgICAgc2IuYXBwZW5kKFwiOiBcIik7XG4gICAgICB0aGlzLnByb3BlcnRpZXNbcHJvcF0uYXBwZW5kVG8oc2IsIHRydWUpO1xuICAgICAgc2IuYXBwZW5kKFwiO1xcbiAgXCIpO1xuICAgIH1cbiAgICBpZiAoZm9udEJ5dGVzKSB7XG4gICAgICBzYi5hcHBlbmQoJ3NyYzogdXJsKFwiJyk7XG4gICAgICBjb25zdCBibG9iVVJMID0gTmV0LmNyZWF0ZU9iamVjdFVSTChmb250Qnl0ZXMpO1xuICAgICAgc2IuYXBwZW5kKGJsb2JVUkwpO1xuICAgICAgdGhpcy5ibG9iVVJMcy5wdXNoKGJsb2JVUkwpO1xuICAgICAgdGhpcy5ibG9icy5wdXNoKGZvbnRCeXRlcyk7XG4gICAgICBzYi5hcHBlbmQoJ1wiKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzYi5hcHBlbmQoXCJzcmM6IFwiKTtcbiAgICAgIHNiLmFwcGVuZChzcmMpO1xuICAgIH1cbiAgICBzYi5hcHBlbmQoXCI7XFxufVxcblwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBvZiB0aGUgZm9udHMgZGVjbGFyZWQgaW4gYWxsIHN0eWxlc2hlZXRzIG9mIGEgZG9jdW1lbnQuXG4gKiBAcGFyYW0gZGVvYmZ1c2NhdG9yIGZ1bmN0aW9uXG4gKiAgICAgdGhhdCB0YWtlcyB1cmwgYW5kIHJldHVybnMgZGF0YSBkZW9iZnVzY2F0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIERvY3VtZW50RmFjZXMge1xuICAvKipcbiAgICogTWFwcyBzb3VyY2UgZm9udCBmYW1pbHkgbmFtZXMgdG8gdGhlIGZhbWlseSBuYW1lcyB1c2VkIGluIHRoZSBIVE1MIHZpZXcuXG4gICAqL1xuICBmYW1pbHlNYXAgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBkZW9iZnVzY2F0b3I6XG4gICAgICB8ICgocDE6IHN0cmluZykgPT4gKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbClcbiAgICAgIHwgbnVsbCxcbiAgKSB7fVxuXG4gIHJlZ2lzdGVyRmFtaWx5KHNyY0ZhY2U6IEZhY2UsIHZpZXdGYWNlOiBGYWNlKTogdm9pZCB7XG4gICAgY29uc3Qgc3JjRmFtaWx5ID0gc3JjRmFjZS5mYW1pbHkgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHZpZXdGYW1pbHlGcm9tU3JjID0gdGhpcy5mYW1pbHlNYXBbc3JjRmFtaWx5XTtcbiAgICBjb25zdCB2aWV3RmFtaWx5RnJvbVZpZXcgPSB2aWV3RmFjZS5mYW1pbHk7XG4gICAgaWYgKHZpZXdGYW1pbHlGcm9tU3JjKSB7XG4gICAgICBpZiAodmlld0ZhbWlseUZyb21TcmMgIT0gdmlld0ZhbWlseUZyb21WaWV3KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRV9GT05UX0ZBTUlMWV9JTkNPTlNJU1RFTlQgJHtzcmNGYWNlLmZhbWlseX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mYW1pbHlNYXBbc3JjRmFtaWx5XSA9IHZpZXdGYW1pbHlGcm9tVmlldyBhcyBzdHJpbmc7XG4gICAgfVxuICB9XG5cbiAgZmlsdGVyRm9udEZhbWlseSh2YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgY29uc3QgbGlzdCA9ICh2YWwgYXMgQ3NzLkNvbW1hTGlzdCkudmFsdWVzO1xuICAgICAgY29uc3QgbmV3VmFsdWVzID0gW10gYXMgQ3NzLlZhbFtdO1xuICAgICAgZm9yIChjb25zdCB2IG9mIGxpc3QpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZmFtaWx5TWFwW3Yuc3RyaW5nVmFsdWUoKV07XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgbmV3VmFsdWVzLnB1c2goQ3NzLmdldE5hbWUocikpO1xuICAgICAgICB9XG4gICAgICAgIG5ld1ZhbHVlcy5wdXNoKHYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KG5ld1ZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJmID0gdGhpcy5mYW1pbHlNYXBbdmFsLnN0cmluZ1ZhbHVlKCldO1xuICAgICAgaWYgKHJmKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChbQ3NzLmdldE5hbWUocmYpLCB2YWxdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogT2JqZWN0IHRoYXQgbG9hZHMgZm9udHMgaW4gYSBkb2N1bWVudCBhbmQgYWxsb2NhdGVzIGZvbnQgZmFtaWxpZXMgZm9yIHRoZW1cbiAqIGluIHRoZSB2aWV3IGRvY3VtZW50XG4gKiBAcGFyYW0gaGVhZCB3aGVyZSB0byBhZGQgc3R5bGVzIGluIHRoZSB2aWV3IGRvY3VtZW50IChub3JtYWxseSBoZWFkIGVsZW1lbnQpXG4gKiBAcGFyYW0gYm9keSB3aGVyZSB0byBwcm9iZSB0ZXh0IGluIHRoZSB2aWV3IGRvY3VtZW50IChub3JtYWxseSBib2R5IGVsZW1lbnQpXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBwZXIge1xuICAvKipcbiAgICogTWFwcyBGYWNlLnNyYyB0byBhbiBlbnRyeSBmb3IgYW4gYWxyZWFkeS1sb2FkZWQgZm9udC5cbiAgICovXG4gIHNyY1VSTE1hcDogeyBba2V5OiBzdHJpbmddOiBUYXNrVXRpbC5GZXRjaGVyPEZhY2U+IH0gPSB7fTtcbiAgZmFtaWx5UHJlZml4OiBzdHJpbmc7XG4gIGZhbWlseUNvdW50ZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGhlYWQ6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJvZHk6IEVsZW1lbnQsXG4gICAgb3B0X2ZhbWlseVByZWZpeD86IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5mYW1pbHlQcmVmaXggPSBvcHRfZmFtaWx5UHJlZml4IHx8IFwiRm50X1wiO1xuICB9XG5cbiAgZ2V0Vmlld0ZvbnRGYW1pbHkoc3JjRmFjZTogRmFjZSwgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3JjRmFtaWx5ID0gc3JjRmFjZS5mYW1pbHkgYXMgc3RyaW5nO1xuICAgIGxldCB2aWV3RmFtaWx5ID0gZG9jdW1lbnRGYWNlcy5mYW1pbHlNYXBbc3JjRmFtaWx5XTtcbiAgICBpZiAodmlld0ZhbWlseSkge1xuICAgICAgcmV0dXJuIHZpZXdGYW1pbHk7XG4gICAgfVxuICAgIHZpZXdGYW1pbHkgPSB0aGlzLmZhbWlseVByZWZpeCArICsrdGhpcy5mYW1pbHlDb3VudGVyO1xuICAgIGRvY3VtZW50RmFjZXMuZmFtaWx5TWFwW3NyY0ZhbWlseV0gPSB2aWV3RmFtaWx5O1xuICAgIHJldHVybiB2aWV3RmFtaWx5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBmb250Qnl0ZXMgZGVvYmZ1c2NhdGVkIGZvbnQgYnl0ZXMgKGlmIGRlb2JmdXNjYXRpb24gaXMgbmVlZGVkKVxuICAgKi9cbiAgcHJpdmF0ZSBpbml0Rm9udChcbiAgICBzcmNGYWNlOiBGYWNlLFxuICAgIGZvbnRCeXRlczogQmxvYixcbiAgICBkb2N1bWVudEZhY2VzOiBEb2N1bWVudEZhY2VzLFxuICApOiBUYXNrLlJlc3VsdDxGYWNlPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8RmFjZT4gPSBUYXNrLm5ld0ZyYW1lKFwiaW5pdEZvbnRcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgc3JjID0gc3JjRmFjZS5zcmMgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHByb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH07XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICAgIHByb3BzW3Byb3BdID0gc3JjRmFjZS5wcm9wZXJ0aWVzW3Byb3BdO1xuICAgIH1cbiAgICBjb25zdCBmb250RmFtaWx5ID0gc2VsZi5nZXRWaWV3Rm9udEZhbWlseShzcmNGYWNlLCBkb2N1bWVudEZhY2VzKTtcbiAgICBwcm9wc1tcImZvbnQtZmFtaWx5XCJdID0gQ3NzLmdldE5hbWUoZm9udEZhbWlseSk7XG4gICAgY29uc3Qgdmlld0ZvbnRGYWNlID0gbmV3IEZhY2UocHJvcHMpO1xuICAgIGNvbnN0IHByb2JlID0gc2VsZi5ib2R5Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgcHJvYmUudGV4dENvbnRlbnQgPSBcIk1cIjtcbiAgICBjb25zdCBraWxsVGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpICsgMTAwMDtcbiAgICBjb25zdCBzdHlsZSA9IHNlbGYuaGVhZC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjb25zdCBib2d1c0RhdGEgPSBib2d1c0ZvbnREYXRhICsgYm9ndXNGb250Q291bnRlcisrO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdmlld0ZvbnRGYWNlLm1ha2VBdFJ1bGUoXCJcIiwgTmV0Lm1ha2VCbG9iKFtib2d1c0RhdGFdKSk7XG4gICAgc2VsZi5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICBzZWxmLmJvZHkuYXBwZW5kQ2hpbGQocHJvYmUpO1xuICAgIHByb2JlLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHByb2JlLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgIGZvciAoY29uc3QgcG5hbWUgaW4gdHJhaXRQcm9wcykge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwcm9iZSwgcG5hbWUsIHByb3BzW3BuYW1lXS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdCA9IHByb2JlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGluaXRXaWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgaW5pdEhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSB2aWV3Rm9udEZhY2UubWFrZUF0UnVsZShzcmMsIGZvbnRCeXRlcyk7XG4gICAgTG9nZ2luZy5sb2dnZXIuaW5mbyhcIlN0YXJ0aW5nIHRvIGxvYWQgZm9udDpcIiwgc3JjKTtcbiAgICBsZXQgbG9hZGVkID0gZmFsc2U7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IHByb2JlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyV2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBjdXJySGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgaWYgKGluaXRXaWR0aCAhPSBjdXJyV2lkdGggfHwgaW5pdEhlaWdodCAhPSBjdXJySGVpZ2h0KSB7XG4gICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJUaW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgICAgIGlmIChjdXJyVGltZSA+IGtpbGxUaW1lKSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhbWUuc2xlZXAoMTApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmluZm8oXCJMb2FkZWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGxvYWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJvZHkucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgICAgICBmcmFtZS5maW5pc2godmlld0ZvbnRGYWNlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRGb250KFxuICAgIHNyY0ZhY2U6IEZhY2UsXG4gICAgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyxcbiAgKTogVGFza1V0aWwuRmV0Y2hlcjxGYWNlPiB7XG4gICAgY29uc3Qgc3JjID0gc3JjRmFjZS5zcmMgYXMgc3RyaW5nO1xuICAgIGxldCBmZXRjaGVyID0gdGhpcy5zcmNVUkxNYXBbc3JjXTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoZmV0Y2hlcikge1xuICAgICAgZmV0Y2hlci5waWdneWJhY2soKHZpZXdGYWNlUGFyYW0pID0+IHtcbiAgICAgICAgY29uc3Qgdmlld0ZhY2UgPSB2aWV3RmFjZVBhcmFtIGFzIEZhY2U7XG4gICAgICAgIGlmICghdmlld0ZhY2UudHJhaXRzRXF1YWwoc3JjRmFjZSkpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9GT05UX0ZBQ0VfSU5DT01QQVRJQkxFXCIsIHNyY0ZhY2Uuc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudEZhY2VzLnJlZ2lzdGVyRmFtaWx5KHNyY0ZhY2UsIHZpZXdGYWNlKTtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRm91bmQgYWxyZWFkeS1sb2FkZWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZldGNoZXIgPSBuZXcgVGFza1V0aWwuRmV0Y2hlcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEZhY2U+ID0gVGFzay5uZXdGcmFtZShcImxvYWRGb250XCIpO1xuICAgICAgICBjb25zdCBkZW9iZnVzY2F0b3IgPSBkb2N1bWVudEZhY2VzLmRlb2JmdXNjYXRvclxuICAgICAgICAgID8gZG9jdW1lbnRGYWNlcy5kZW9iZnVzY2F0b3Ioc3JjKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKGRlb2JmdXNjYXRvcikge1xuICAgICAgICAgIE5ldC5hamF4KHNyYywgTmV0LlhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkJMT0IpLnRoZW4oKHhocikgPT4ge1xuICAgICAgICAgICAgaWYgKCF4aHIucmVzcG9uc2VCbG9iKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVvYmZ1c2NhdG9yKHhoci5yZXNwb25zZUJsb2IpLnRoZW4oKGZvbnRCeXRlcykgPT4ge1xuICAgICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAgICAgLmluaXRGb250KHNyY0ZhY2UsIGZvbnRCeXRlcywgZG9jdW1lbnRGYWNlcylcbiAgICAgICAgICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmluaXRGb250KHNyY0ZhY2UsIG51bGwsIGRvY3VtZW50RmFjZXMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgIH0sIGBsb2FkRm9udCAke3NyY31gKTtcbiAgICAgIHRoaXMuc3JjVVJMTWFwW3NyY10gPSBmZXRjaGVyO1xuICAgICAgZmV0Y2hlci5zdGFydCgpO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxuXG4gIGZpbmRPckxvYWRGb250cyhcbiAgICBzcmNGYWNlczogRmFjZVtdLFxuICAgIGRvY3VtZW50RmFjZXM6IERvY3VtZW50RmFjZXMsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmZXRjaGVycyA9IFtdIGFzIFRhc2tVdGlsLkZldGNoZXI8RmFjZT5bXTtcbiAgICBmb3IgKGNvbnN0IHNyY0ZhY2Ugb2Ygc3JjRmFjZXMpIHtcbiAgICAgIGlmICghc3JjRmFjZS5zcmMgfHwgIXNyY0ZhY2UuZmFtaWx5KSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0ZPTlRfRkFDRV9JTlZBTElEXCIpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZldGNoZXJzLnB1c2godGhpcy5sb2FkRm9udChzcmNGYWNlLCBkb2N1bWVudEZhY2VzKSk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrVXRpbC53YWl0Rm9yRmV0Y2hlcnMoZmV0Y2hlcnMpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFBhZ2VNYXN0ZXIgLSBEZWFsIHdpdGggcGFnZSBtYXN0ZXJzLCBwYXJ0aXRpb24gZ3JvdXBzLCBhbmQgcGFydGl0aW9ucy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbmV4cG9ydCBsZXQga2V5Q291bnQ6IG51bWJlciA9IDE7XG5cbi8qKlxuICogUmVwcmVzZW50IGFuIGF0LXJ1bGUgd2hpY2ggY3JlYXRlcyBhIHBhZ2UtbGV2ZWwgQ1NTIGJveCAocGFnZS1tYXN0ZXIsXG4gKiBwYXJ0aXRpb24sIGFuZCBwYXJ0aXRpb24tZ3JvdXApLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUGFnZUJveDxcbiAgSSBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZSA9IFBhZ2VCb3hJbnN0YW5jZTxhbnk+XG4+IHtcbiAgLy8gc3R5bGVzIHNwZWNpZmllZCBpbiB0aGUgYXQtcnVsZVxuICBzcGVjaWZpZWQ6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlID0ge307XG4gIGNoaWxkcmVuOiBQYWdlQm94W10gPSBbXTtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlciA9IG51bGw7XG4gIGluZGV4OiBudW1iZXIgPSAwO1xuICBrZXk6IHN0cmluZztcblxuICBwcm90ZWN0ZWQgX3Njb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG5cbiAgZ2V0IHNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogUGFnZUJveCxcbiAgKSB7XG4gICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLmtleSA9IGBwJHtrZXlDb3VudCsrfWA7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5pbmRleCA9IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlKTogUGFnZUJveEluc3RhbmNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURfQ0FMTFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgUGFnZUJveC5cbiAgICogQHBhcmFtIHBhcmFtIHBhcmVudDogVGhlIHBhcmVudCBvZiB0aGUgY2xvbmVkIFBhZ2VCb3guXG4gICAqICAgICBwc2V1ZG9OYW1lOiBBc3NpZ24gdGhpcyB2YWx1ZSBhcyB0aGUgcHNldWRvTmFtZSBvZiB0aGUgY2xvbmVkIFBhZ2VCb3guXG4gICAqL1xuICBjbG9uZShwYXJhbTogeyBwYXJlbnQ/OiBQYWdlQm94OyBwc2V1ZG9OYW1lPzogc3RyaW5nIH0pOiBQYWdlQm94PEk+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURfQ0FMTFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5ICdzcGVjaWZpZWQnIHByb3BlcnRpZXMgdG8gYW5vdGhlciBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGRlc3QgVGhlIFBhZ2VCb3ggaW50byB3aGljaCAnc3BlY2lmaWVkJyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWRcbiAgICovXG4gIHByb3RlY3RlZCBjb3B5U3BlY2lmaWVkKGRlc3Q6IFBhZ2VCb3gpIHtcbiAgICBjb25zdCBzcGVjaWZpZWQgPSB0aGlzLnNwZWNpZmllZDtcbiAgICBjb25zdCBkZXN0U3BlY2lmaWVkID0gZGVzdC5zcGVjaWZpZWQ7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNwZWNpZmllZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzcGVjaWZpZWQsIHByb3ApKSB7XG4gICAgICAgIGRlc3RTcGVjaWZpZWRbcHJvcF0gPSBzcGVjaWZpZWRbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIGNoaWxkcmVuIHdpdGggdGhlIHNwZWNpZmllZCBQYWdlQm94IGFzIHRoZWlyIHBhcmVudC5cbiAgICovXG4gIHByb3RlY3RlZCBjbG9uZUNoaWxkcmVuKHBhcmVudDogUGFnZUJveCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gdGhlIGNsb25lZCBjaGlsZCBpcyBhZGRlZCB0byBwYXJlbnQuY2hpbGRyZW4gaW4gdGhlIGNoaWxkIGNvbnN0cnVjdG9yLlxuICAgICAgdGhpcy5jaGlsZHJlbltpXS5jbG9uZSh7IHBhcmVudCB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJlbnQgb2YgYWxsIHBhZ2UgbWFzdGVyc1xuICovXG5leHBvcnQgY2xhc3MgUm9vdFBhZ2VCb3ggZXh0ZW5kcyBQYWdlQm94PFJvb3RQYWdlQm94SW5zdGFuY2U+IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBudWxsLCBbXSwgbnVsbCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbFdpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbEhlaWdodCwgMCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXN0ZXJTY29wZSBleHRlbmRzIEV4cHJzLkxleGljYWxTY29wZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHB1YmxpYyBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyKSB7XG4gICAgc3VwZXIoc2NvcGUsIHJlc29sdmVyKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiByZXNvbHZlcihxdWFsaWZpZWROYW1lLCBpc0Z1bmMpIHtcbiAgICAgIGNvbnN0IHIgPSBxdWFsaWZpZWROYW1lLm1hdGNoKC9eKFteLl0rKVxcLihbXi5dKykkLyk7XG4gICAgICBpZiAocikge1xuICAgICAgICBjb25zdCBrZXkgPSBzZWxmLnBhZ2VNYXN0ZXIua2V5TWFwW3JbMV1dO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgY29uc3QgaG9sZGVyID0gdGhpcyBhcyBJbnN0YW5jZUhvbGRlcjtcbiAgICAgICAgICBjb25zdCBib3hJbnN0YW5jZSA9IGhvbGRlci5sb29rdXBJbnN0YW5jZShrZXkpO1xuICAgICAgICAgIGlmIChib3hJbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgICAgICByZXR1cm4gYm94SW5zdGFuY2UucmVzb2x2ZUZ1bmMoclsyXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gYm94SW5zdGFuY2UucmVzb2x2ZU5hbWUoclsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYWdlLW1hc3RlciBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVyPFxuICBJIGV4dGVuZHMgUGFnZU1hc3Rlckluc3RhbmNlID0gUGFnZU1hc3Rlckluc3RhbmNlPGFueT5cbj4gZXh0ZW5kcyBQYWdlQm94PEk+IHtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlcjtcbiAga2V5TWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFyZW50OiBSb290UGFnZUJveCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IHNwZWNpZmljaXR5OiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzLCBwYXJlbnQpO1xuICAgIC8vIGlmIFBhZ2VNYXN0ZXJTY29wZSBvYmplY3QgaXMgcGFzc2VkLCB1c2UgKHNoYXJlKSBpdC5cbiAgICBpZiAoIShzY29wZSBpbnN0YW5jZW9mIFBhZ2VNYXN0ZXJTY29wZSkpIHtcbiAgICAgIHRoaXMuX3Njb3BlID0gbmV3IFBhZ2VNYXN0ZXJTY29wZShzY29wZSwgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMucGFnZU1hc3RlciA9IHRoaXM7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbFdpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbEhlaWdodCwgMCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3cmFwLWZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYXV0byxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcInBvc2l0aW9uXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LnJlbGF0aXZlLFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wib3ZlcmZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQudmlzaWJsZSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIC8vIFNoaWZ0IDFweCB0byB3b3JrYXJvdW5kIENocm9tZSBwcmludGluZyBidWdcbiAgICAvLyB0aGlzLnNwZWNpZmllZFtcInRvcFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShuZXcgQ3NzLk51bWVyaWMoLTEsIFwicHhcIiksIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZU1hc3Rlckluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsb25lKHBhcmFtKTogUGFnZU1hc3RlciB7XG4gICAgLy8gVGhlIGNsb25lZCBwYWdlIG1hc3RlciBzaGFyZXMgdGhlIHNhbWUgc2NvcGUgb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsXG4gICAgLy8gb25lLlxuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBQYWdlTWFzdGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHBhcmFtLnBzZXVkb05hbWUgfHwgdGhpcy5wc2V1ZG9OYW1lLFxuICAgICAgdGhpcy5jbGFzc2VzLFxuICAgICAgdGhpcy5wYXJlbnQgYXMgUm9vdFBhZ2VCb3gsXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMuc3BlY2lmaWNpdHksXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvaW50IHRoZSBwYWdlTWFzdGVyIHJlZmVyZW5jZSBpbiB0aGUgUGFnZU1hc3RlclNjb3BlIHRvIHRoZSBjdXJyZW50IHBhZ2VcbiAgICogbWFzdGVyLiBUaGlzIGlzIG5lZWRlZCB3aGVuIGEgcGFnZSBtYXN0ZXIgaXMgY2xvbmVkIGFuZCBzaGFyZXMgYSBjb21tb25cbiAgICogc2NvcGUgd2l0aCB0aGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXIuIFNpbmNlIGV2ZXJ5IEV4cHJzLlZhbCB3aGljaCB0aGVcbiAgICogcGFnZSBtYXN0ZXIgaG9sZHMgaGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBzY29wZSBhbmQgdXNlcyBpdCBmb3IgdmFyaWFibGVcbiAgICogcmVzb2x1dGlvbiwgdGhpcyByZWZlcmVuY2UgbXVzdCBiZSB1cGRhdGVkIHByb3Blcmx5IGJlZm9yZSB0aGUgcGFnZSBtYXN0ZXJcbiAgICogaW5zdGFuY2UgaXMgdXNlZC5cbiAgICovXG4gIHJlc2V0U2NvcGUoKSB7XG4gICAgKHRoaXMuc2NvcGUgYXMgYW55KS5wYWdlTWFzdGVyID0gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhcnRpdGlvbi1ncm91cCBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25Hcm91cCBleHRlbmRzIFBhZ2VCb3g8UGFydGl0aW9uR3JvdXBJbnN0YW5jZT4ge1xuICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICAgIHBhcmVudDogUGFnZUJveCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMsIHBhcmVudCk7XG4gICAgdGhpcy5wYWdlTWFzdGVyID0gcGFyZW50LnBhZ2VNYXN0ZXI7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMucGFnZU1hc3Rlci5rZXlNYXBbbmFtZV0gPSB0aGlzLmtleTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3cmFwLWZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYXV0byxcbiAgICAgIDAsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFydGl0aW9uR3JvdXBJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZShwYXJhbSk6IFBhcnRpdGlvbkdyb3VwIHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgUGFydGl0aW9uR3JvdXAoXG4gICAgICBwYXJhbS5wYXJlbnQuc2NvcGUsXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLnBzZXVkb05hbWUsXG4gICAgICB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJhbS5wYXJlbnQsXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFydGl0aW9uIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbjxcbiAgSSBleHRlbmRzIFBhcnRpdGlvbkluc3RhbmNlID0gUGFydGl0aW9uSW5zdGFuY2Vcbj4gZXh0ZW5kcyBQYWdlQm94PEk+IHtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwYXJlbnQ6IFBhZ2VCb3gsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzLCBwYXJlbnQpO1xuICAgIHRoaXMucGFnZU1hc3RlciA9IHBhcmVudC5wYWdlTWFzdGVyO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXIua2V5TWFwW25hbWVdID0gdGhpcy5rZXk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFydGl0aW9uSW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUocGFyYW0pOiBQYXJ0aXRpb24ge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBQYXJ0aXRpb24oXG4gICAgICBwYXJhbS5wYXJlbnQuc2NvcGUsXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLnBzZXVkb05hbWUsXG4gICAgICB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJhbS5wYXJlbnQsXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnN0YW5jZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEBwYXJhbSBkZWYgZGVmYXVsdCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBySWRlbnQoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgZGVmOiBzdHJpbmcsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCkge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIGRlZik7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHNjb3BlLnplcm8pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByQXV0byhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwck5vcm1hbChcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50Lm5vcm1hbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByWmVybyhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gc2NvcGUuemVybztcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgaXMgbm90IHNwZWNpZmllZCAobnVsbCksIHJldHVybnMgemVyby5cbiAqIElmIHRoZSB2YWx1ZSBpcyAnYXV0bycsIHJldHVybnMgbnVsbC5cbiAqIE90aGVyd2lzZSwgcmV0dXJuIHRoZSB2YWx1ZSBpdHNlbGYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJaZXJvQXV0byhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH0gZWxzZSBpZiAodmFsID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJaZXJvQm9yZGVyKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHN0eWxlVmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHN0eWxlVmFsID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgIHJldHVybiBzY29wZS56ZXJvO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByQm9vbChcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICBkZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsKSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxuICBpZiAodmFsID09PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICByZXR1cm4gc2NvcGUuX3RydWU7XG4gIH1cbiAgaWYgKHZhbCA9PT0gQ3NzLmlkZW50Ll9mYWxzZSkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHNjb3BlLnplcm8pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluc3RhbmNlSG9sZGVyIGV4dGVuZHMgRXhwcnMuQ29udGV4dCB7XG4gIHJlZ2lzdGVySW5zdGFuY2Uoa2V5OiBzdHJpbmcsIGluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGluc3RhbmNlXG4gICAqL1xuICBsb29rdXBJbnN0YW5jZShrZXk6IHN0cmluZyk6IFBhZ2VCb3hJbnN0YW5jZTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VCb3hJbnN0YW5jZTxQIGV4dGVuZHMgUGFnZUJveCA9IFBhZ2VCb3g8YW55Pj4ge1xuICAvKipcbiAgICogY2FzY2FkZWQgc3R5bGVzLCBnZW9tZXRyaWMgb25lcyBjb252ZXJ0ZWQgdG8gQ3NzLkV4cHJcbiAgICovXG4gIHByb3RlY3RlZCBjYXNjYWRlZDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgPSB7fTtcbiAgc3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9ID0ge307XG4gIHByaXZhdGUgYXV0b1dpZHRoOiBFeHBycy5OYXRpdmUgPSBudWxsO1xuICBwcml2YXRlIGF1dG9IZWlnaHQ6IEV4cHJzLk5hdGl2ZSA9IG51bGw7XG4gIGNoaWxkcmVuOiBQYWdlQm94SW5zdGFuY2VbXSA9IFtdO1xuICBpc0F1dG9XaWR0aDogYm9vbGVhbiA9IGZhbHNlO1xuICBpc0F1dG9IZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgY2FsY3VsYXRlZFdpZHRoOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNhbGN1bGF0ZWRIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlID0gbnVsbDtcbiAgbmFtZWRWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogRXhwcnMuVmFsIH0gPSB7fTtcbiAgbmFtZWRGdW5jczogeyBba2V5OiBzdHJpbmddOiBFeHBycy5WYWwgfSA9IHt9O1xuICB2ZXJ0aWNhbDogYm9vbGVhbiA9IGZhbHNlO1xuICBydGw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3VwcHJlc3NFbXB0eUJveEdlbmVyYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZUJveDogUCxcbiAgKSB7XG4gICAgaWYgKHBhcmVudEluc3RhbmNlKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5jaGlsZHJlbi5wdXNoKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGxheW91dC5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID0gMDtcbiAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgPSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGROYW1lZFZhbHVlcyhuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogRXhwcnMuVmFsIHtcbiAgICBjb25zdCB2MSA9IHRoaXMucmVzb2x2ZU5hbWUobmFtZTEpO1xuICAgIGNvbnN0IHYyID0gdGhpcy5yZXNvbHZlTmFtZShuYW1lMik7XG4gICAgaWYgKCF2MSB8fCAhdjIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfSU5URVJOQUxcIik7XG4gICAgfVxuICAgIHJldHVybiBFeHBycy5hZGQodGhpcy5wYWdlQm94LnNjb3BlLCB2MSwgdjIpO1xuICB9XG5cbiAgcmVzb2x2ZU5hbWUobmFtZTogc3RyaW5nKTogRXhwcnMuVmFsIHtcbiAgICBsZXQgZXhwciA9IHRoaXMubmFtZWRWYWx1ZXNbbmFtZV07XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgICBjb25zdCB2YWwgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGV4cHIgPSB2YWwudG9FeHByKHRoaXMucGFnZUJveC5zY29wZSwgdGhpcy5wYWdlQm94LnNjb3BlLnplcm8pO1xuICAgIH1cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgXCJtYXJnaW4tbGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLnJlc29sdmVOYW1lKFwibGVmdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWFyZ2luLXRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLnJlc29sdmVOYW1lKFwidG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtYXJnaW4tcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci1yaWdodC1lZGdlXCIsIFwibWFyZ2luLXJpZ2h0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtYXJnaW4tYm90dG9tLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3JkZXItYm90dG9tLWVkZ2VcIiwgXCJtYXJnaW4tYm90dG9tXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItbGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwibWFyZ2luLWxlZnQtZWRnZVwiLCBcIm1hcmdpbi1sZWZ0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItdG9wLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJtYXJnaW4tdG9wLWVkZ2VcIiwgXCJtYXJnaW4tdG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInBhZGRpbmctcmlnaHQtZWRnZVwiLCBcImJvcmRlci1yaWdodC13aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9yZGVyLWJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFxuICAgICAgICAgIFwicGFkZGluZy1ib3R0b20tZWRnZVwiLFxuICAgICAgICAgIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLWxlZnQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci1sZWZ0LWVkZ2VcIiwgXCJib3JkZXItbGVmdC13aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFkZGluZy10b3AtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci10b3AtZWRnZVwiLCBcImJvcmRlci10b3Atd2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZGRpbmctcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInJpZ2h0LWVkZ2VcIiwgXCJwYWRkaW5nLXJpZ2h0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLWJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm90dG9tLWVkZ2VcIiwgXCJwYWRkaW5nLWJvdHRvbVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicGFkZGluZy1sZWZ0LWVkZ2VcIiwgXCJwYWRkaW5nLWxlZnRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicGFkZGluZy10b3AtZWRnZVwiLCBcInBhZGRpbmctdG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwibGVmdC1lZGdlXCIsIFwid2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwidG9wLWVkZ2VcIiwgXCJoZWlnaHRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIWV4cHIpIHtcbiAgICAgIGxldCBhbHROYW1lOiBzdHJpbmc7XG4gICAgICBpZiAobmFtZSA9PSBcImV4dGVudFwiKSB7XG4gICAgICAgIGFsdE5hbWUgPSB0aGlzLnZlcnRpY2FsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBcIm1lYXN1cmVcIikge1xuICAgICAgICBhbHROYW1lID0gdGhpcy52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBDc3NDYXNjYWRlLmNvdXBsaW5nTWFwVmVydFxuICAgICAgICAgIDogQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcEhvcjtcbiAgICAgICAgYWx0TmFtZSA9IG5hbWU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuICAgICAgICAgIGFsdE5hbWUgPSBhbHROYW1lLnJlcGxhY2Uoa2V5LCBtYXBba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhbHROYW1lICE9IG5hbWUpIHtcbiAgICAgICAgZXhwciA9IHRoaXMucmVzb2x2ZU5hbWUoYWx0TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHByKSB7XG4gICAgICB0aGlzLm5hbWVkVmFsdWVzW25hbWVdID0gZXhwcjtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cblxuICByZXNvbHZlRnVuYyhuYW1lKSB7XG4gICAgbGV0IGV4cHIgPSB0aGlzLm5hbWVkRnVuY3NbbmFtZV07XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgXCJjb2x1bW5zXCI6IHtcbiAgICAgICAgLy8gbWluKGNvdW50LGNvbHVtbi1jb3VudCkgKiAoY29sdW1uLXdpZHRoICsgY29sdW1uLWdhcCkgLSBjb2x1bW4tZ2FwXG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgICAgICBjb25zdCBjb3VudCA9IG5ldyBFeHBycy5QYXJhbShzY29wZSwgMCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gdGhpcy5yZXNvbHZlTmFtZShcImNvbHVtbi1jb3VudFwiKTtcbiAgICAgICAgY29uc3QgY29sdW1uV2lkdGggPSB0aGlzLnJlc29sdmVOYW1lKFwiY29sdW1uLXdpZHRoXCIpO1xuICAgICAgICBjb25zdCBjb2x1bW5HYXAgPSB0aGlzLnJlc29sdmVOYW1lKFwiY29sdW1uLWdhcFwiKTtcbiAgICAgICAgZXhwciA9IEV4cHJzLnN1YihcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5tdWwoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcIm1pblwiLCBbY291bnQsIGNvbHVtbkNvdW50XSksXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGNvbHVtbldpZHRoLCBjb2x1bW5HYXApLFxuICAgICAgICAgICksXG4gICAgICAgICAgY29sdW1uR2FwLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHRoaXMubmFtZWRGdW5jc1tuYW1lXSA9IGV4cHI7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0RW5hYmxlZCgpOiB2b2lkIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgbGV0IGVuYWJsZWQgPSB0b0V4cHJCb29sKHNjb3BlLCBzdHlsZVtcImVuYWJsZWRcIl0sIHNjb3BlLl90cnVlKTtcbiAgICBjb25zdCBwYWdlID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJwYWdlXCJdLCBzY29wZS56ZXJvKTtcbiAgICBpZiAocGFnZSkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS1udW1iZXJcIik7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbmV3IEV4cHJzLkVxKHNjb3BlLCBwYWdlLCBjdXJyZW50UGFnZSksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBtaW5QYWdlV2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1pbi1wYWdlLXdpZHRoXCJdLCBzY29wZS56ZXJvKTtcbiAgICBpZiAobWluUGFnZVdpZHRoKSB7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbmV3IEV4cHJzLkdlKHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS13aWR0aFwiKSwgbWluUGFnZVdpZHRoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG1pblBhZ2VIZWlnaHQgPSB0b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcIm1pbi1wYWdlLWhlaWdodFwiXSxcbiAgICAgIHNjb3BlLnplcm8sXG4gICAgKTtcbiAgICBpZiAobWluUGFnZUhlaWdodCkge1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG5ldyBFeHBycy5HZShcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS1oZWlnaHRcIiksXG4gICAgICAgICAgbWluUGFnZUhlaWdodCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGVuYWJsZWQgPSB0aGlzLmJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkKTtcbiAgICBzdHlsZVtcImVuYWJsZWRcIl0gPSBuZXcgQ3NzLkV4cHIoZW5hYmxlZCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYm94U3BlY2lmaWNFbmFibGVkKGVuYWJsZWQ6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wid2lkdGhcIl0udG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgOiBudWxsO1xuICAgIGxldCBsZWZ0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJsZWZ0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IG1hcmdpbkxlZnQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi1sZWZ0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgYm9yZGVyTGVmdFdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gdG9FeHByWmVybyhzY29wZSwgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgd2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIndpZHRoXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IG1heFdpZHRoID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXgtd2lkdGhcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSB0b0V4cHJaZXJvKHNjb3BlLCBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJSaWdodFdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci1yaWdodC1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgbGV0IG1hcmdpblJpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXJnaW4tcmlnaHRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgcmlnaHQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcInJpZ2h0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgbGVmdEJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJMZWZ0V2lkdGgsIHBhZGRpbmdMZWZ0KTtcbiAgICBjb25zdCByaWdodEJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJMZWZ0V2lkdGgsIHBhZGRpbmdSaWdodCk7XG4gICAgaWYgKGxlZnQgJiYgcmlnaHQgJiYgd2lkdGgpIHtcbiAgICAgIGxldCBleHRyYSA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhcmVudFdpZHRoLFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBFeHBycy5hZGQoc2NvcGUsIGxlZnQsIGxlZnRCUCksIHJpZ2h0QlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICghbWFyZ2luTGVmdCkge1xuICAgICAgICBleHRyYSA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIHJpZ2h0KTtcbiAgICAgICAgaWYgKCFtYXJnaW5SaWdodCkge1xuICAgICAgICAgIG1hcmdpbkxlZnQgPSBFeHBycy5tdWwoc2NvcGUsIGV4dHJhLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDAuNSkpO1xuICAgICAgICAgIG1hcmdpblJpZ2h0ID0gbWFyZ2luTGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJnaW5MZWZ0ID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1hcmdpblJpZ2h0KSB7XG4gICAgICAgICAgbWFyZ2luUmlnaHQgPSBFeHBycy5zdWIoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCByaWdodCwgbWFyZ2luTGVmdCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBvdmVyY29uc3RyYWludFxuICAgICAgICAgIHJpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWFyZ2luTGVmdCkge1xuICAgICAgICBtYXJnaW5MZWZ0ID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbWFyZ2luUmlnaHQpIHtcbiAgICAgICAgbWFyZ2luUmlnaHQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFsZWZ0ICYmICFyaWdodCAmJiAhd2lkdGgpIHtcbiAgICAgICAgbGVmdCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIWxlZnQgJiYgIXdpZHRoKSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5hdXRvV2lkdGg7XG4gICAgICAgIHRoaXMuaXNBdXRvV2lkdGggPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcbiAgICAgICAgbGVmdCA9IHNjb3BlLnplcm87XG4gICAgICB9IGVsc2UgaWYgKCF3aWR0aCAmJiAhcmlnaHQpIHtcbiAgICAgICAgd2lkdGggPSB0aGlzLmF1dG9XaWR0aDtcbiAgICAgICAgdGhpcy5pc0F1dG9XaWR0aCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW1haW5zID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50V2lkdGgsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpbkxlZnQsIGxlZnRCUCksXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5SaWdodCwgcmlnaHRCUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgICAgaWYgKCFtYXhXaWR0aCkge1xuICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSB0aGUgY2FzZSB3aGVuIHJpZ2h0L2xlZnQgZGVwZW5kcyBvbiB3aWR0aFxuICAgICAgICAgIG1heFdpZHRoID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBsZWZ0ID8gbGVmdCA6IHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBtdWx0aS1jb2x1bW4gbGF5b3V0LCB3aWR0aCBpcyBtYXgtd2lkdGguXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy52ZXJ0aWNhbCAmJlxuICAgICAgICAgICh0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSwgbnVsbCkgfHxcbiAgICAgICAgICAgIHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdLCBudWxsKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgd2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgICB0aGlzLmlzQXV0b1dpZHRoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghbGVmdCkge1xuICAgICAgICBsZWZ0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIHJpZ2h0LCB3aWR0aCkpO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICAgICAgd2lkdGggPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgbGVmdCwgcmlnaHQpKTtcbiAgICAgIH0gZWxzZSBpZiAoIXJpZ2h0KSB7XG4gICAgICAgIHJpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIGxlZnQsIHdpZHRoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc25hcC13aWR0aCBpcyBpbmhlcml0ZWRcbiAgICBjb25zdCBzbmFwV2lkdGhWYWwgPVxuICAgICAgc3R5bGVbXCJzbmFwLXdpZHRoXCJdIHx8XG4gICAgICAodGhpcy5wYXJlbnRJbnN0YW5jZSA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJzbmFwLXdpZHRoXCJdIDogbnVsbCk7XG4gICAgY29uc3Qgc25hcFdpZHRoID0gdG9FeHByWmVybyhzY29wZSwgc25hcFdpZHRoVmFsLCBwYXJlbnRXaWR0aCk7XG4gICAgc3R5bGVbXCJsZWZ0XCJdID0gbmV3IENzcy5FeHByKGxlZnQpO1xuICAgIHN0eWxlW1wibWFyZ2luLWxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luTGVmdCk7XG4gICAgc3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdMZWZ0KTtcbiAgICBzdHlsZVtcIndpZHRoXCJdID0gbmV3IENzcy5FeHByKHdpZHRoKTtcbiAgICBzdHlsZVtcIm1heC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihtYXhXaWR0aCA/IG1heFdpZHRoIDogd2lkdGgpO1xuICAgIHN0eWxlW1wicGFkZGluZy1yaWdodFwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nUmlnaHQpO1xuICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlclJpZ2h0V2lkdGgpO1xuICAgIHN0eWxlW1wibWFyZ2luLXJpZ2h0XCJdID0gbmV3IENzcy5FeHByKG1hcmdpblJpZ2h0KTtcbiAgICBzdHlsZVtcInJpZ2h0XCJdID0gbmV3IENzcy5FeHByKHJpZ2h0KTtcbiAgICBzdHlsZVtcInNuYXAtd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoc25hcFdpZHRoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wid2lkdGhcIl0udG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHBhcmVudEhlaWdodCA9IHRoaXMucGFyZW50SW5zdGFuY2VcbiAgICAgID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcImhlaWdodFwiXS50b0V4cHIoc2NvcGUsIG51bGwpXG4gICAgICA6IG51bGw7XG4gICAgbGV0IHRvcCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1widG9wXCJdLCBwYXJlbnRIZWlnaHQpO1xuICAgIGxldCBtYXJnaW5Ub3AgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi10b3BcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJUb3BXaWR0aCA9IHRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXRvcC13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXRvcC1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ1RvcCA9IHRvRXhwclplcm8oc2NvcGUsIHN0eWxlW1wicGFkZGluZy10b3BcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgaGVpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJoZWlnaHRcIl0sIHBhcmVudEhlaWdodCk7XG4gICAgbGV0IG1heEhlaWdodCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWF4LWhlaWdodFwiXSwgcGFyZW50SGVpZ2h0KTtcbiAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gdG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVyQm90dG9tV2lkdGggPSB0b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcImJvcmRlci1ib3R0b20td2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci1ib3R0b20tc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGxldCBtYXJnaW5Cb3R0b20gPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi1ib3R0b21cIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgYm90dG9tID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJib3R0b21cIl0sIHBhcmVudEhlaWdodCk7XG4gICAgY29uc3QgdG9wQlAgPSBFeHBycy5hZGQoc2NvcGUsIGJvcmRlclRvcFdpZHRoLCBwYWRkaW5nVG9wKTtcbiAgICBjb25zdCBib3R0b21CUCA9IEV4cHJzLmFkZChzY29wZSwgYm9yZGVyQm90dG9tV2lkdGgsIHBhZGRpbmdCb3R0b20pO1xuICAgIGlmICh0b3AgJiYgYm90dG9tICYmIGhlaWdodCkge1xuICAgICAgbGV0IGV4dHJhID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50SGVpZ2h0LFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgRXhwcnMuYWRkKHNjb3BlLCB0b3AsIHRvcEJQKSwgYm90dG9tQlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICghbWFyZ2luVG9wKSB7XG4gICAgICAgIGV4dHJhID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgYm90dG9tKTtcbiAgICAgICAgaWYgKCFtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgICBtYXJnaW5Ub3AgPSBFeHBycy5tdWwoc2NvcGUsIGV4dHJhLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDAuNSkpO1xuICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IG1hcmdpblRvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJnaW5Ub3AgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBtYXJnaW5Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IEV4cHJzLnN1YihcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgZXh0cmEsXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGJvdHRvbSwgbWFyZ2luVG9wKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG92ZXJjb25zdHJhaW50XG4gICAgICAgICAgYm90dG9tID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luVG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW1hcmdpblRvcCkge1xuICAgICAgICBtYXJnaW5Ub3AgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgbWFyZ2luQm90dG9tID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghdG9wICYmICFib3R0b20gJiYgIWhlaWdodCkge1xuICAgICAgICB0b3AgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCF0b3AgJiYgIWhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSB0aGlzLmF1dG9IZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIXRvcCAmJiAhYm90dG9tKSB7XG4gICAgICAgIHRvcCA9IHNjb3BlLnplcm87XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQgJiYgIWJvdHRvbSkge1xuICAgICAgICBoZWlnaHQgPSB0aGlzLmF1dG9IZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbWFpbnMgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYXJlbnRIZWlnaHQsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblRvcCwgdG9wQlApLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luQm90dG9tLCBib3R0b21CUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICAgIGlmICghbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgLy8gVE9ETzogaGFuZGxlIHRoZSBjYXNlIHdoZW4gdG9wL2JvdHRvbSBkZXBlbmRzIG9uIGhlaWdodFxuICAgICAgICAgIG1heEhlaWdodCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgdG9wID8gdG9wIDogYm90dG9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBtdWx0aS1jb2x1bW4gbGF5b3V0IGluIHZlcnRpY2FsIHdyaXRpbmcsIGhlaWdodCBpcyBtYXgtaGVpZ2h0LlxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbCAmJlxuICAgICAgICAgICh0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSwgbnVsbCkgfHxcbiAgICAgICAgICAgIHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdLCBudWxsKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdG9wKSB7XG4gICAgICAgIHRvcCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBib3R0b20sIGhlaWdodCkpO1xuICAgICAgfSBlbHNlIGlmICghaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBib3R0b20sIHRvcCkpO1xuICAgICAgfSBlbHNlIGlmICghYm90dG9tKSB7XG4gICAgICAgIGJvdHRvbSA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCB0b3AsIGhlaWdodCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNuYXAtaGVpZ2h0IGlzIGluaGVyaXRlZFxuICAgIGNvbnN0IHNuYXBIZWlnaHRWYWwgPVxuICAgICAgc3R5bGVbXCJzbmFwLWhlaWdodFwiXSB8fFxuICAgICAgKHRoaXMucGFyZW50SW5zdGFuY2UgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wic25hcC1oZWlnaHRcIl0gOiBudWxsKTtcbiAgICBjb25zdCBzbmFwSGVpZ2h0ID0gdG9FeHByWmVybyhzY29wZSwgc25hcEhlaWdodFZhbCwgcGFyZW50V2lkdGgpO1xuICAgIHN0eWxlW1widG9wXCJdID0gbmV3IENzcy5FeHByKHRvcCk7XG4gICAgc3R5bGVbXCJtYXJnaW4tdG9wXCJdID0gbmV3IENzcy5FeHByKG1hcmdpblRvcCk7XG4gICAgc3R5bGVbXCJib3JkZXItdG9wLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlclRvcFdpZHRoKTtcbiAgICBzdHlsZVtcInBhZGRpbmctdG9wXCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdUb3ApO1xuICAgIHN0eWxlW1wiaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKGhlaWdodCk7XG4gICAgc3R5bGVbXCJtYXgtaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKG1heEhlaWdodCA/IG1heEhlaWdodCA6IGhlaWdodCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nQm90dG9tKTtcbiAgICBzdHlsZVtcImJvcmRlci1ib3R0b20td2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgIHN0eWxlW1wibWFyZ2luLWJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5Cb3R0b20pO1xuICAgIHN0eWxlW1wiYm90dG9tXCJdID0gbmV3IENzcy5FeHByKGJvdHRvbSk7XG4gICAgc3R5bGVbXCJzbmFwLWhlaWdodFwiXSA9IG5ldyBDc3MuRXhwcihzbmFwSGVpZ2h0KTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdENvbHVtbnMoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHdpZHRoID0gdG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbdGhpcy52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIGxldCBjb2x1bW5XaWR0aCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdLCB3aWR0aCk7XG4gICAgbGV0IGNvbHVtbkNvdW50ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4tY291bnRcIl0sIG51bGwpO1xuICAgIGxldCBjb2x1bW5HYXAgPSB0b0V4cHJOb3JtYWwoc2NvcGUsIHN0eWxlW1wiY29sdW1uLWdhcFwiXSwgbnVsbCk7XG4gICAgaWYgKCFjb2x1bW5HYXApIHtcbiAgICAgIGNvbHVtbkdhcCA9IG5ldyBFeHBycy5OdW1lcmljKHNjb3BlLCAxLCBcImVtXCIpO1xuICAgIH1cbiAgICBpZiAoY29sdW1uV2lkdGggJiYgIWNvbHVtbkNvdW50KSB7XG4gICAgICBjb2x1bW5Db3VudCA9IG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcImZsb29yXCIsIFtcbiAgICAgICAgRXhwcnMuZGl2KFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgd2lkdGgsIGNvbHVtbkdhcCksXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBjb2x1bW5XaWR0aCwgY29sdW1uR2FwKSxcbiAgICAgICAgKSxcbiAgICAgIF0pO1xuICAgICAgY29sdW1uQ291bnQgPSBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJtYXhcIiwgW3Njb3BlLm9uZSwgY29sdW1uQ291bnRdKTtcbiAgICB9XG4gICAgaWYgKCFjb2x1bW5Db3VudCkge1xuICAgICAgY29sdW1uQ291bnQgPSBzY29wZS5vbmU7XG4gICAgfVxuICAgIGNvbHVtbldpZHRoID0gRXhwcnMuc3ViKFxuICAgICAgc2NvcGUsXG4gICAgICBFeHBycy5kaXYoc2NvcGUsIEV4cHJzLmFkZChzY29wZSwgd2lkdGgsIGNvbHVtbkdhcCksIGNvbHVtbkNvdW50KSxcbiAgICAgIGNvbHVtbkdhcCxcbiAgICApO1xuICAgIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGNvbHVtbldpZHRoKTtcbiAgICBzdHlsZVtcImNvbHVtbi1jb3VudFwiXSA9IG5ldyBDc3MuRXhwcihjb2x1bW5Db3VudCk7XG4gICAgc3R5bGVbXCJjb2x1bW4tZ2FwXCJdID0gbmV3IENzcy5FeHByKGNvbHVtbkdhcCk7XG4gIH1cblxuICBwcml2YXRlIGRlcGVuZHMoXG4gICAgcHJvcE5hbWU6IHN0cmluZyxcbiAgICB2YWw6IEV4cHJzLlZhbCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZVtwcm9wTmFtZV1cbiAgICAgIC50b0V4cHIodGhpcy5wYWdlQm94LnNjb3BlLCBudWxsKVxuICAgICAgLmRlcGVuZCh2YWwsIGNvbnRleHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpOiB2b2lkIHtcbiAgICAvLyBJZiBjb250ZXh0IGRvZXMgbm90IGltcGxlbWVudCBJbnN0YW5jZUhvbGRlciB3ZSB3b3VsZCBub3QgYmUgYWJsZSB0b1xuICAgIC8vIHJlc29sdmUgXCJwYXJ0aXRpb24ucHJvcGVydHlcIiBuYW1lcyBsYXRlci5cbiAgICBjb25zdCBob2xkZXIgPSBjb250ZXh0IGFzIEluc3RhbmNlSG9sZGVyO1xuICAgIGhvbGRlci5yZWdpc3Rlckluc3RhbmNlKHRoaXMucGFnZUJveC5rZXksIHRoaXMpO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCByZWdpb25JZHMgPSB0aGlzLnBhcmVudEluc3RhbmNlXG4gICAgICA/IHRoaXMucGFyZW50SW5zdGFuY2UuZ2V0QWN0aXZlUmVnaW9ucyhjb250ZXh0KVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNhc2NNYXAgPSBDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlKFxuICAgICAgdGhpcy5jYXNjYWRlZCxcbiAgICAgIGNvbnRleHQsXG4gICAgICByZWdpb25JZHMsXG4gICAgICBmYWxzZSxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICB0aGlzLnZlcnRpY2FsID0gQ3NzQ2FzY2FkZS5pc1ZlcnRpY2FsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS52ZXJ0aWNhbCA6IGZhbHNlLFxuICAgICk7XG4gICAgdGhpcy5ydGwgPSBDc3NDYXNjYWRlLmlzUnRsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5ydGwgOiBmYWxzZSxcbiAgICApO1xuICAgIENzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgc3R5bGUsXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgdGhpcy5ydGwsXG4gICAgICAobmFtZSwgY2FzY1ZhbCkgPT4gY2FzY1ZhbC52YWx1ZSxcbiAgICApO1xuICAgIHRoaXMuYXV0b1dpZHRoID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHNjb3BlLFxuICAgICAgKCkgPT4gc2VsZi5jYWxjdWxhdGVkV2lkdGgsXG4gICAgICBcImF1dG9XaWR0aFwiLFxuICAgICk7XG4gICAgdGhpcy5hdXRvSGVpZ2h0ID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHNjb3BlLFxuICAgICAgKCkgPT4gc2VsZi5jYWxjdWxhdGVkSGVpZ2h0LFxuICAgICAgXCJhdXRvSGVpZ2h0XCIsXG4gICAgKTtcbiAgICB0aGlzLmluaXRIb3Jpem9udGFsKCk7XG4gICAgdGhpcy5pbml0VmVydGljYWwoKTtcbiAgICB0aGlzLmluaXRDb2x1bW5zKCk7XG4gICAgdGhpcy5pbml0RW5hYmxlZCgpO1xuICB9XG5cbiAgZ2V0UHJvcChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBuYW1lOiBzdHJpbmcpOiBDc3MuVmFsIHtcbiAgICBsZXQgdmFsID0gdGhpcy5zdHlsZVtuYW1lXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB2YWwsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIG5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IHZhbCA9IHRoaXMuc3R5bGVbbmFtZV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgdmFsID0gQ3NzUGFyc2VyLmV2YWx1YXRlQ1NTVG9DU1MoY29udGV4dCwgdmFsLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIENzcy50b051bWJlcih2YWwsIGNvbnRleHQpO1xuICB9XG5cbiAgZ2V0U3BlY2lhbChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBuYW1lOiBzdHJpbmcpOiBDc3MuVmFsW10ge1xuICAgIGNvbnN0IGFyciA9IENzc0Nhc2NhZGUuZ2V0U3BlY2lhbCh0aGlzLmNhc2NhZGVkLCBuYW1lKTtcbiAgICBpZiAoYXJyKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDc3MuVmFsW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gYXJyW2ldLmV2YWx1YXRlKGNvbnRleHQsIFwiXCIpO1xuICAgICAgICBpZiAodiAmJiB2ICE9PSBDc3MuZW1wdHkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRBY3RpdmVSZWdpb25zKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgYXJyID0gdGhpcy5nZXRTcGVjaWFsKGNvbnRleHQsIFwicmVnaW9uLWlkXCIpO1xuICAgIGlmIChhcnIpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdIGFzIHN0cmluZ1tdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gYXJyW2ldLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByb3BhZ2F0ZVByb3BlcnR5KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHlUb0VsZW1lbnQoY29udGV4dCwgY29udGFpbmVyLmVsZW1lbnQsIG5hbWUsIGRvY0ZhY2VzKTtcbiAgfVxuXG4gIHByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgbGV0IHZhbCA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBuYW1lKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbC5pc051bWVyaWMoKSAmJlxuICAgICAgICBFeHBycy5uZWVkVW5pdENvbnZlcnNpb24oKHZhbCBhcyBDc3MuTnVtZXJpYykudW5pdClcbiAgICAgICkge1xuICAgICAgICB2YWwgPSBDc3MuY29udmVydE51bWVyaWNUb1B4KHZhbCwgY29udGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAobmFtZSA9PT0gXCJmb250LWZhbWlseVwiKSB7XG4gICAgICAgIHZhbCA9IGRvY0ZhY2VzLmZpbHRlckZvbnRGYW1pbHkodmFsKTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgbmFtZSwgdmFsLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eShcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBkZWxheWVkSXRlbXM6IFZ0cmVlLkRlbGF5ZWRJdGVtW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBuYW1lKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICBkZWxheWVkSXRlbXMucHVzaChuZXcgVnRyZWUuRGVsYXllZEl0ZW0oY29udGFpbmVyLmVsZW1lbnQsIG5hbWUsIHZhbCkpO1xuICAgIH1cbiAgfVxuXG4gIGFzc2lnbkxlZnRQb3NpdGlvbihjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIGNvbnN0IGxlZnQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImxlZnRcIik7XG4gICAgY29uc3QgbWFyZ2luTGVmdCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWFyZ2luLWxlZnRcIik7XG4gICAgY29uc3QgcGFkZGluZ0xlZnQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctbGVmdFwiKTtcbiAgICBjb25zdCBib3JkZXJMZWZ0V2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImJvcmRlci1sZWZ0LXdpZHRoXCIpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJ3aWR0aFwiKTtcbiAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKGxlZnQsIHdpZHRoKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIm1hcmdpbi1sZWZ0XCIsIGAke21hcmdpbkxlZnR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInBhZGRpbmctbGVmdFwiLCBgJHtwYWRkaW5nTGVmdH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwiYm9yZGVyLWxlZnQtd2lkdGhcIixcbiAgICAgIGAke2JvcmRlckxlZnRXaWR0aH1weGAsXG4gICAgKTtcbiAgICBjb250YWluZXIubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gICAgY29udGFpbmVyLmJvcmRlckxlZnQgPSBib3JkZXJMZWZ0V2lkdGg7XG4gICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0ID0gcGFkZGluZ0xlZnQ7XG4gIH1cblxuICBhc3NpZ25SaWdodFBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJyaWdodFwiKTtcbiAgICBjb25zdCBzbmFwV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInNuYXAtaGVpZ2h0XCIpO1xuICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tcmlnaHRcIik7XG4gICAgbGV0IHBhZGRpbmdSaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicGFkZGluZy1yaWdodFwiKTtcbiAgICBjb25zdCBib3JkZXJSaWdodFdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwibWFyZ2luLXJpZ2h0XCIsIGAke21hcmdpblJpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJwYWRkaW5nLXJpZ2h0XCIsXG4gICAgICBgJHtwYWRkaW5nUmlnaHR9cHhgLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICAgIGAke2JvcmRlclJpZ2h0V2lkdGh9cHhgLFxuICAgICk7XG4gICAgY29udGFpbmVyLm1hcmdpblJpZ2h0ID0gbWFyZ2luUmlnaHQ7XG4gICAgY29udGFpbmVyLmJvcmRlclJpZ2h0ID0gYm9yZGVyUmlnaHRXaWR0aDtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCAmJiBzbmFwV2lkdGggPiAwKSB7XG4gICAgICBjb25zdCB4cG9zID0gcmlnaHQgKyBjb250YWluZXIuZ2V0SW5zZXRSaWdodCgpO1xuICAgICAgY29uc3QgciA9IHhwb3MgLSBNYXRoLmZsb29yKHhwb3MgLyBzbmFwV2lkdGgpICogc25hcFdpZHRoO1xuICAgICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zbmFwT2Zmc2V0WCA9IHNuYXBXaWR0aCAtIHI7XG4gICAgICAgIHBhZGRpbmdSaWdodCArPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5lci5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nUmlnaHQ7XG4gICAgY29udGFpbmVyLnNuYXBXaWR0aCA9IHNuYXBXaWR0aDtcbiAgfVxuXG4gIGFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgY29uc3Qgc25hcEhlaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwic25hcC1oZWlnaHRcIik7XG4gICAgY29uc3QgdG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJ0b3BcIik7XG4gICAgY29uc3QgbWFyZ2luVG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tdG9wXCIpO1xuICAgIGxldCBwYWRkaW5nVG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJwYWRkaW5nLXRvcFwiKTtcbiAgICBjb25zdCBib3JkZXJUb3BXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiYm9yZGVyLXRvcC13aWR0aFwiKTtcbiAgICBjb250YWluZXIudG9wID0gdG9wO1xuICAgIGNvbnRhaW5lci5tYXJnaW5Ub3AgPSBtYXJnaW5Ub3A7XG4gICAgY29udGFpbmVyLmJvcmRlclRvcCA9IGJvcmRlclRvcFdpZHRoO1xuICAgIGNvbnRhaW5lci5zbmFwSGVpZ2h0ID0gc25hcEhlaWdodDtcbiAgICBpZiAoIXRoaXMudmVydGljYWwgJiYgc25hcEhlaWdodCA+IDApIHtcbiAgICAgIGNvbnN0IHlwb3MgPSB0b3AgKyBjb250YWluZXIuZ2V0SW5zZXRUb3AoKTtcbiAgICAgIGNvbnN0IHIgPSB5cG9zIC0gTWF0aC5mbG9vcih5cG9zIC8gc25hcEhlaWdodCkgKiBzbmFwSGVpZ2h0O1xuICAgICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zbmFwT2Zmc2V0WSA9IHNuYXBIZWlnaHQgLSByO1xuICAgICAgICBwYWRkaW5nVG9wICs9IGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbmVyLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwidG9wXCIsIGAke3RvcH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwibWFyZ2luLXRvcFwiLCBgJHttYXJnaW5Ub3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInBhZGRpbmctdG9wXCIsIGAke3BhZGRpbmdUb3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci10b3Atd2lkdGhcIixcbiAgICAgIGAke2JvcmRlclRvcFdpZHRofXB4YCxcbiAgICApO1xuICB9XG5cbiAgYXNzaWduQm90dG9tUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbWFyZ2luQm90dG9tID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tYm90dG9tXCIpO1xuICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctYm90dG9tXCIpO1xuICAgIGNvbnN0IGJvcmRlckJvdHRvbVdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgKTtcbiAgICBjb25zdCBoZWlnaHQgPVxuICAgICAgdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJoZWlnaHRcIikgLSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgICBgJHttYXJnaW5Cb3R0b219cHhgLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgICAgYCR7cGFkZGluZ0JvdHRvbX1weGAsXG4gICAgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci1ib3R0b20td2lkdGhcIixcbiAgICAgIGAke2JvcmRlckJvdHRvbVdpZHRofXB4YCxcbiAgICApO1xuICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQgLSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgY29udGFpbmVyLm1hcmdpbkJvdHRvbSA9IG1hcmdpbkJvdHRvbTtcbiAgICBjb250YWluZXIuYm9yZGVyQm90dG9tID0gYm9yZGVyQm90dG9tV2lkdGg7XG4gICAgY29udGFpbmVyLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tO1xuICB9XG5cbiAgYXNzaWduQmVmb3JlUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuYXNzaWduUmlnaHRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgYXNzaWduQWZ0ZXJQb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5hc3NpZ25MZWZ0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25Cb3R0b21Qb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIGFzc2lnblN0YXJ0RW5kUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuYXNzaWduVG9wUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIHRoaXMuYXNzaWduQm90dG9tUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25SaWdodFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFzc2lnbkxlZnRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIHNpemVXaXRoTWF4SGVpZ2h0KGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJib3JkZXItdG9wLXdpZHRoXCIsIFwiMHB4XCIpO1xuICAgIGxldCBoZWlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1heC1oZWlnaHRcIik7XG4gICAgaWYgKHRoaXMuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQpIHtcbiAgICAgIGNvbnRhaW5lci5zZXRWZXJ0aWNhbFBvc2l0aW9uKDAsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduVG9wUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIGhlaWdodCAtPSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgICBjb250YWluZXIuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgfVxuICB9XG5cbiAgc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiYm9yZGVyLWxlZnQtd2lkdGhcIiwgXCIwcHhcIik7XG4gICAgbGV0IHdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXgtd2lkdGhcIik7XG4gICAgaWYgKHRoaXMuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoKSB7XG4gICAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKDAsIHdpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25SaWdodFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB3aWR0aCAtPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICBjb250YWluZXIud2lkdGggPSB3aWR0aDtcbiAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJyaWdodFwiKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwicmlnaHRcIiwgYCR7cmlnaHR9cHhgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICB9XG4gIH1cblxuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucGFyZW50SW5zdGFuY2UgfHwgdGhpcy52ZXJ0aWNhbCAhPSB0aGlzLnBhcmVudEluc3RhbmNlLnZlcnRpY2FsKSB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgXCJ3cml0aW5nLW1vZGVcIixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA/IFwidmVydGljYWwtcmxcIiA6IFwiaG9yaXpvbnRhbC10YlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b1dpZHRoIDogdGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaXplV2l0aE1heEhlaWdodChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnbkJlZm9yZVBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFzc2lnbkFmdGVyUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b0hlaWdodCA6IHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhIZWlnaHQoY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblN0YXJ0RW5kUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzUHJlUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXNzUHJlUHJvcGVydGllc1tpXSxcbiAgICAgICAgZG9jRmFjZXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZmVyQ29udGVudFByb3BzKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NDb250ZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXNzQ29udGVudFByb3BlcnRpZXNbaV0sXG4gICAgICAgIGRvY0ZhY2VzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICB0cmFuc2ZlclNpbmdsVXJpQ29udGVudFByb3BzKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eVRvRWxlbWVudChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcGFzc1NpbmdsZVVyaUNvbnRlbnRQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjb2x1bW4gKG51bGwgd2hlbiBjb250ZW50IGNvbWVzIGZyb20gdGhlIGNvbnRlbnQgcHJvcGVydHkpXG4gICAqL1xuICBmaW5pc2hDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNvbHVtbjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID1cbiAgICAgICAgY29udGFpbmVyLmNvbXB1dGVkQmxvY2tTaXplICsgY29udGFpbmVyLnNuYXBPZmZzZXRYO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgPVxuICAgICAgICBjb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUgKyBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgfVxuICAgIGNvbnN0IHJlYWRIZWlnaHQgPSAodGhpcy52ZXJ0aWNhbCB8fCAhY29sdW1uKSAmJiB0aGlzLmlzQXV0b0hlaWdodDtcbiAgICBjb25zdCByZWFkV2lkdGggPSAoIXRoaXMudmVydGljYWwgfHwgIWNvbHVtbikgJiYgdGhpcy5pc0F1dG9XaWR0aDtcbiAgICBsZXQgYmJveDogVnRyZWUuQ2xpZW50UmVjdCA9IG51bGw7XG4gICAgaWYgKHJlYWRXaWR0aCB8fCByZWFkSGVpZ2h0KSB7XG4gICAgICBpZiAocmVhZFdpZHRoKSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwid2lkdGhcIiwgXCJhdXRvXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWRIZWlnaHQpIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgICAgfVxuICAgICAgYmJveCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChcbiAgICAgICAgY29sdW1uID8gY29sdW1uLmVsZW1lbnQgOiBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICk7XG4gICAgICBpZiAocmVhZFdpZHRoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID0gTWF0aC5jZWlsKFxuICAgICAgICAgIGJib3gucmlnaHQgLVxuICAgICAgICAgICAgYmJveC5sZWZ0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCAtXG4gICAgICAgICAgICBjb250YWluZXIuYm9yZGVyTGVmdCAtXG4gICAgICAgICAgICBjb250YWluZXIucGFkZGluZ1JpZ2h0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJSaWdodCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZWRXaWR0aCArPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZWFkSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCA9XG4gICAgICAgICAgYmJveC5ib3R0b20gLVxuICAgICAgICAgIGJib3gudG9wIC1cbiAgICAgICAgICBjb250YWluZXIucGFkZGluZ1RvcCAtXG4gICAgICAgICAgY29udGFpbmVyLmJvcmRlclRvcCAtXG4gICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdCb3R0b20gLVxuICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJCb3R0b207XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCArPSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b0hlaWdodCA6IHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIHRoaXMuYXNzaWduU3RhcnRFbmRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCA/IHRoaXMuaXNBdXRvV2lkdGggOiB0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyB0aGlzLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aFxuICAgICAgICAgIDogdGhpcy5pc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQmVmb3JlUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzaWduQWZ0ZXJQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAoY29sdW1uQ291bnQgPiAxKSB7XG4gICAgICBjb25zdCBydWxlV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImNvbHVtbi1ydWxlLXdpZHRoXCIpO1xuICAgICAgY29uc3QgcnVsZVN0eWxlID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIFwiY29sdW1uLXJ1bGUtc3R5bGVcIik7XG4gICAgICBjb25zdCBydWxlQ29sb3IgPSB0aGlzLmdldFByb3AoY29udGV4dCwgXCJjb2x1bW4tcnVsZS1jb2xvclwiKTtcbiAgICAgIGlmIChcbiAgICAgICAgcnVsZVdpZHRoID4gMCAmJlxuICAgICAgICBydWxlU3R5bGUgJiZcbiAgICAgICAgcnVsZVN0eWxlICE9IENzcy5pZGVudC5ub25lICYmXG4gICAgICAgIHJ1bGVDb2xvciAhPSBDc3MuaWRlbnQudHJhbnNwYXJlbnRcbiAgICAgICkge1xuICAgICAgICBjb25zdCBjb2x1bW5HYXAgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImNvbHVtbi1nYXBcIik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBjb250YWluZXIuaGVpZ2h0XG4gICAgICAgICAgOiBjb250YWluZXIud2lkdGg7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMudmVydGljYWwgPyBcImJvcmRlci10b3BcIiA6IFwiYm9yZGVyLWxlZnRcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgcG9zID1cbiAgICAgICAgICAgICgoY29udGFpbmVyU2l6ZSArIGNvbHVtbkdhcCkgKiBpKSAvIGNvbHVtbkNvdW50IC1cbiAgICAgICAgICAgIGNvbHVtbkdhcCAvIDIgK1xuICAgICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0IC1cbiAgICAgICAgICAgIHJ1bGVXaWR0aCAvIDI7XG4gICAgICAgICAgY29uc3Qgc2l6ZSA9XG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ICsgY29udGFpbmVyLnBhZGRpbmdUb3AgKyBjb250YWluZXIucGFkZGluZ0JvdHRvbTtcbiAgICAgICAgICBjb25zdCBydWxlID0gY29udGFpbmVyLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgdGhpcy52ZXJ0aWNhbCA/IFwibGVmdFwiIDogXCJ0b3BcIiwgXCIwcHhcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShydWxlLCB0aGlzLnZlcnRpY2FsID8gXCJ0b3BcIiA6IFwibGVmdFwiLCBgJHtwb3N9cHhgKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJ1bGUsIHRoaXMudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLCBcIjBweFwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgIHRoaXMudmVydGljYWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiLFxuICAgICAgICAgICAgYCR7c2l6ZX1weGAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgIGJvcmRlcixcbiAgICAgICAgICAgIGAke3J1bGVXaWR0aH1weCAke3J1bGVTdHlsZS50b1N0cmluZygpfSR7XG4gICAgICAgICAgICAgIHJ1bGVDb2xvciA/IGAgJHtydWxlQ29sb3IudG9TdHJpbmcoKX1gIDogXCJcIlxuICAgICAgICAgICAgfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250YWluZXIuZWxlbWVudC5pbnNlcnRCZWZvcmUocnVsZSwgY29udGFpbmVyLmVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzUG9zdFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFzc1Bvc3RQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsYXllZFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlRGVsYXllZFByb3BlcnR5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGRlbGF5ZWRQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBwYWdlLmRlbGF5ZWRJdGVtcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2FzY2FkZWQ7XG4gICAgY29uc3Qgc3BlY2lmaWVkID0gdGhpcy5wYWdlQm94LnNwZWNpZmllZDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3BlY2lmaWVkKSB7XG4gICAgICBpZiAoQ3NzQ2FzY2FkZS5pc1Byb3BOYW1lKG5hbWUpKSB7XG4gICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChzdHlsZSwgbmFtZSwgQ3NzQ2FzY2FkZS5nZXRQcm9wKHNwZWNpZmllZCwgbmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wYWdlQm94LnBzZXVkb05hbWUgPT0gdXNlckFnZW50UGFnZU1hc3RlclBzZXVkbykge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgICBpZiAobmFtZS5tYXRjaCgvXmJhY2tncm91bmQtLykgfHwgbmFtZSA9PSBcIndyaXRpbmctbW9kZVwiKSB7XG4gICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucGFnZUJveC5wc2V1ZG9OYW1lID09IFwibGF5b3V0LWhvc3RcIikge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgICBpZiAoIW5hbWUubWF0Y2goL15iYWNrZ3JvdW5kLS8pICYmIG5hbWUgIT0gXCJ3cml0aW5nLW1vZGVcIikge1xuICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2NhZGUucHVzaFJ1bGUodGhpcy5wYWdlQm94LmNsYXNzZXMsIG51bGwsIHN0eWxlKTtcbiAgICBpZiAoc3R5bGVbXCJjb250ZW50XCJdKSB7XG4gICAgICBzdHlsZVtcImNvbnRlbnRcIl0gPSBzdHlsZVtcImNvbnRlbnRcIl0uZmlsdGVyVmFsdWUoXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNvbnRlbnRQcm9wVmlzaXRvcihcbiAgICAgICAgICBjYXNjYWRlLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY2FzY2FkZS5jb3VudGVyUmVzb2x2ZXIsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmluaXQoY2FzY2FkZS5jb250ZXh0KTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMucGFnZUJveC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGRJbnN0YW5jZSA9IGNoaWxkLmNyZWF0ZUluc3RhbmNlKHRoaXMpO1xuICAgICAgY2hpbGRJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG4gICAgfVxuICAgIGNhc2NhZGUucG9wUnVsZSgpO1xuICB9XG5cbiAgcmVzb2x2ZUF1dG9TaXppbmcoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IHZvaWQge1xuICAgIC8vIGFsbCBpbXBsaWNpdCBkZXBlbmRlbmNpZXMgYXJlIHNldCB1cCBhdCB0aGlzIHBvaW50XG4gICAgaWYgKHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIHRoaXMuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoID1cbiAgICAgICAgdGhpcy5kZXBlbmRzKFwicmlnaHRcIiwgdGhpcy5hdXRvV2lkdGgsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcIm1hcmdpbi1yaWdodFwiLCB0aGlzLmF1dG9XaWR0aCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJwYWRkaW5nLXJpZ2h0XCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICB0aGlzLmlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0ID1cbiAgICAgICAgdGhpcy5kZXBlbmRzKFwidG9wXCIsIHRoaXMuYXV0b0hlaWdodCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwibWFyZ2luLXRvcFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcImJvcmRlci10b3Atd2lkdGhcIiwgdGhpcy5hdXRvSGVpZ2h0LCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJwYWRkaW5nLXRvcFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkSW5zdGFuY2Ugb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgY2hpbGRJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyhjb250ZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIGJlZm9yZSB0aGUgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3QgcGFzc1ByZVByb3BlcnRpZXMgPSBbXG4gIFwiYm9yZGVyLWxlZnQtc3R5bGVcIixcbiAgXCJib3JkZXItcmlnaHQtc3R5bGVcIixcbiAgXCJib3JkZXItdG9wLXN0eWxlXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLFxuICBcImJvcmRlci1sZWZ0LWNvbG9yXCIsXG4gIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXG4gIFwiYm9yZGVyLXRvcC1jb2xvclwiLFxuICBcImJvcmRlci1ib3R0b20tY29sb3JcIixcbiAgXCJvdXRsaW5lLXN0eWxlXCIsXG4gIFwib3V0bGluZS1jb2xvclwiLFxuICBcIm91dGxpbmUtd2lkdGhcIixcbiAgXCJvdmVyZmxvd1wiLFxuICBcInZpc2liaWxpdHlcIixcbl07XG5cbi8qKlxuICogUHJvcGVydGllcyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCBhZnRlciB0aGUgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3QgcGFzc1Bvc3RQcm9wZXJ0aWVzID0gW1xuICBcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcIixcbiAgXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiLFxuICBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLFxuICBcImJvcmRlci1pbWFnZS1zb3VyY2VcIixcbiAgXCJib3JkZXItaW1hZ2Utc2xpY2VcIixcbiAgXCJib3JkZXItaW1hZ2Utd2lkdGhcIixcbiAgXCJib3JkZXItaW1hZ2Utb3V0c2V0XCIsXG4gIFwiYm9yZGVyLWltYWdlLXJlcGVhdFwiLFxuICBcImJhY2tncm91bmQtYXR0YWNobWVudFwiLFxuICBcImJhY2tncm91bmQtY29sb3JcIixcbiAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsXG4gIFwiYmFja2dyb3VuZC1yZXBlYXRcIixcbiAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsXG4gIFwiYmFja2dyb3VuZC1jbGlwXCIsXG4gIFwiYmFja2dyb3VuZC1vcmlnaW5cIixcbiAgXCJiYWNrZ3JvdW5kLXNpemVcIixcbiAgXCJvcGFjaXR5XCIsXG4gIFwiei1pbmRleFwiLFxuICBcImJhY2tncm91bmQtYmxlbmQtbW9kZVwiLFxuICBcImlzb2xhdGlvblwiLFxuICBcIm1peC1ibGVuZC1tb2RlXCIsXG4gIFwiZmlsdGVyXCIsXG5dO1xuXG4vKipcbiAqIE9ubHkgcGFzc2VkIHdoZW4gdGhlcmUgaXMgY29udGVudCBhc3NpZ25lZCBieSB0aGUgY29udGVudCBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhc3NDb250ZW50UHJvcGVydGllcyA9IFtcbiAgXCJjb2xvclwiLFxuICBcImZvbnQtZmFtaWx5XCIsXG4gIFwiZm9udC1zaXplXCIsXG4gIFwiZm9udC1zdHlsZVwiLFxuICBcImZvbnQtd2VpZ2h0XCIsXG4gIFwiZm9udC12YXJpYW50XCIsXG4gIFwibGluZS1oZWlnaHRcIixcbiAgXCJsZXR0ZXItc3BhY2luZ1wiLFxuICBcInRleHQtYWxpZ25cIixcbiAgXCJ0ZXh0LWRlY29yYXRpb25cIixcbiAgXCJ0ZXh0LWluZGVudFwiLFxuICBcInRleHQtdHJhbnNmb3JtXCIsXG4gIFwid2hpdGUtc3BhY2VcIixcbiAgXCJ3b3JkLXNwYWNpbmdcIixcbiAgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIixcbiAgXCJmb250LWtlcm5pbmdcIixcbiAgXCJmb250LXNpemUtYWRqdXN0XCIsXG4gIFwiZm9udC12YXJpYW50LWVhc3QtYXNpYW5cIixcbiAgXCJmb250LXN0cmV0Y2hcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tY29sb3JcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tbGluZVwiLFxuICBcInRleHQtZGVjb3JhdGlvbi1za2lwXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXN0eWxlXCIsXG4gIFwidGV4dC1lbXBoYXNpc1wiLFxuICBcInRleHQtZW1waGFzaXMtY29sb3JcIixcbiAgXCJ0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uXCIsXG4gIFwidGV4dC1lbXBoYXNpcy1zdHlsZVwiLFxuICBcInRleHQtc2hhZG93XCIsXG4gIFwidGV4dC11bmRlcmxpbmUtcG9zaXRpb25cIixcbl07XG5cbmV4cG9ydCBjb25zdCBwYXNzU2luZ2xlVXJpQ29udGVudFByb3BlcnRpZXMgPSBbXG4gIFwid2lkdGhcIixcbiAgXCJoZWlnaHRcIixcbiAgXCJpbWFnZS1yZXNvbHV0aW9uXCIsXG4gIFwib2JqZWN0LWZpdFwiLFxuICBcIm9iamVjdC1wb3NpdGlvblwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ZWRQcm9wZXJ0aWVzID0gW1widHJhbnNmb3JtXCIsIFwidHJhbnNmb3JtLW9yaWdpblwiXTtcblxuZXhwb3J0IGNvbnN0IHVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8gPSBcImJhY2tncm91bmQtaG9zdFwiO1xuXG5leHBvcnQgY2xhc3MgUm9vdFBhZ2VCb3hJbnN0YW5jZSBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZTxSb290UGFnZUJveD4ge1xuICBjb25zdHJ1Y3RvcihwYWdlQm94OiBSb290UGFnZUJveCkge1xuICAgIHN1cGVyKG51bGwsIHBhZ2VCb3gpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG5cbiAgICAvLyBTb3J0IHBhZ2UgbWFzdGVycyB1c2luZyBvcmRlciBhbmQgc3BlY2lmaWNpdHkuXG4gICAgY29uc3QgcGFnZU1hc3RlcnMgPSB0aGlzLmNoaWxkcmVuO1xuICAgIChwYWdlTWFzdGVycyBhcyBQYWdlTWFzdGVySW5zdGFuY2VbXSkuc29ydChcbiAgICAgIChhLCBiKSA9PlxuICAgICAgICAoYi5wYWdlQm94IGFzIGFueSkuc3BlY2lmaWNpdHkgLSAoYS5wYWdlQm94IGFzIGFueSkuc3BlY2lmaWNpdHkgfHwgLy8gcHJvYmFibHkgY2F1c2UgTmFOXG4gICAgICAgIGEucGFnZUJveC5pbmRleCAtIGIucGFnZUJveC5pbmRleCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVySW5zdGFuY2U8XG4gIFAgZXh0ZW5kcyBQYWdlTWFzdGVyID0gUGFnZU1hc3RlcjxQYWdlTWFzdGVySW5zdGFuY2U8YW55Pj5cbj4gZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2U8UD4ge1xuICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXJJbnN0YW5jZTtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlLCBwYWdlQm94OiBQKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VCb3gpO1xuICAgIHRoaXMucGFnZU1hc3Rlckluc3RhbmNlID0gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXIgPSB0aGlzLnBhZ2VCb3gucGFnZU1hc3RlcjtcbiAgICBpZiAocGFnZU1hc3Rlci5jb25kaXRpb24pIHtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQocGFnZU1hc3Rlci5zY29wZSwgZW5hYmxlZCwgcGFnZU1hc3Rlci5jb25kaXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgbGF5b3V0IG9mIGNvbnRlbnRzIG9mIHRoZSBwYWdlIGhhcyBkb25lIHRvIGFkanVzdCB0aGUgb3ZlcmFsbFxuICAgKiBwYWdlIGxheW91dC4gT3ZlcnJpZGUgaW4gc3ViY2xhc3Nlcy5cbiAgICovXG4gIGFkanVzdFBhZ2VMYXlvdXQoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25Hcm91cEluc3RhbmNlIGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFBhcnRpdGlvbkdyb3VwPiB7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UsIHBhZ2VCb3g6IFBhZ2VCb3gpIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZUJveCk7XG4gICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2UgPSBwYXJlbnRJbnN0YW5jZS5wYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkluc3RhbmNlPFxuICBQIGV4dGVuZHMgUGFydGl0aW9uID0gUGFydGl0aW9uPFBhcnRpdGlvbkluc3RhbmNlPGFueT4+XG4+IGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFA+IHtcbiAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSwgcGFnZUJveDogUCkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlQm94KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZSA9IHBhcmVudEluc3RhbmNlLnBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfVxuXG4gIHByb2Nlc3NQYXJ0aXRpb25MaXN0KFxuICAgIGVuYWJsZWQ6IEV4cHJzLlZhbCxcbiAgICBsaXN0VmFsOiBDc3MuVmFsLFxuICAgIGNvbmZsaWN0aW5nOiBib29sZWFuLFxuICApOiBFeHBycy5WYWwge1xuICAgIGxldCBsaXN0OiBDc3MuVmFsW10gPSBudWxsO1xuICAgIGlmIChsaXN0VmFsIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICBsaXN0ID0gW2xpc3RWYWxdO1xuICAgIH1cbiAgICBpZiAobGlzdFZhbCBpbnN0YW5jZW9mIENzcy5Db21tYUxpc3QpIHtcbiAgICAgIGxpc3QgPSAobGlzdFZhbCBhcyBDc3MuQ29tbWFMaXN0KS52YWx1ZXM7XG4gICAgfVxuICAgIGlmIChsaXN0KSB7XG4gICAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobGlzdFtpXSBpbnN0YW5jZW9mIENzcy5JZGVudCkge1xuICAgICAgICAgIGNvbnN0IHFuYW1lID0gRXhwcnMubWFrZVF1YWxpZmllZE5hbWUoXG4gICAgICAgICAgICAobGlzdFtpXSBhcyBDc3MuSWRlbnQpLm5hbWUsXG4gICAgICAgICAgICBcImVuYWJsZWRcIixcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCB0ZXJtOiBFeHBycy5WYWwgPSBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIHFuYW1lKTtcbiAgICAgICAgICBpZiAoY29uZmxpY3RpbmcpIHtcbiAgICAgICAgICAgIHRlcm0gPSBuZXcgRXhwcnMuTm90KHNjb3BlLCB0ZXJtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChzY29wZSwgZW5hYmxlZCwgdGVybSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBib3hTcGVjaWZpY0VuYWJsZWQoZW5hYmxlZDogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3QgcmVxdWlyZWQgPVxuICAgICAgdG9FeHByQm9vbChzY29wZSwgc3R5bGVbXCJyZXF1aXJlZFwiXSwgc2NvcGUuX2ZhbHNlKSAhPT0gc2NvcGUuX2ZhbHNlO1xuICAgIGlmIChyZXF1aXJlZCB8fCB0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgY29uc3QgZmxvd05hbWUgPSB0b0V4cHJJZGVudChzY29wZSwgc3R5bGVbXCJmbG93LWZyb21cIl0sIFwiYm9keVwiKTtcbiAgICAgIGNvbnN0IGhhc0NvbnRlbnQgPSBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJoYXMtY29udGVudFwiLCBbZmxvd05hbWVdKTtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoc2NvcGUsIGVuYWJsZWQsIGhhc0NvbnRlbnQpO1xuICAgIH1cbiAgICBlbmFibGVkID0gdGhpcy5wcm9jZXNzUGFydGl0aW9uTGlzdChcbiAgICAgIGVuYWJsZWQsXG4gICAgICBzdHlsZVtcInJlcXVpcmVkLXBhcnRpdGlvbnNcIl0sXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIGVuYWJsZWQgPSB0aGlzLnByb2Nlc3NQYXJ0aXRpb25MaXN0KFxuICAgICAgZW5hYmxlZCxcbiAgICAgIHN0eWxlW1wiY29uZmxpY3RpbmctcGFydGl0aW9uc1wiXSxcbiAgICAgIHRydWUsXG4gICAgKTtcbiAgICBpZiAocmVxdWlyZWQpIHtcbiAgICAgIGNvbnN0IHBtRW5hYmxlZFZhbCA9IHRoaXMucGFnZU1hc3Rlckluc3RhbmNlLnN0eWxlW1wiZW5hYmxlZFwiXTtcbiAgICAgIGxldCBwbUVuYWJsZWQgPSBwbUVuYWJsZWRWYWxcbiAgICAgICAgPyBwbUVuYWJsZWRWYWwudG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgICA6IHNjb3BlLl90cnVlO1xuICAgICAgcG1FbmFibGVkID0gRXhwcnMuYW5kKHNjb3BlLCBwbUVuYWJsZWQsIGVuYWJsZWQpO1xuICAgICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2Uuc3R5bGVbXCJlbmFibGVkXCJdID0gbmV3IENzcy5FeHByKHBtRW5hYmxlZCk7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKTsgLy8gZGVmYXVsdCB2YWx1ZVxuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwYXJzaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgUGFnZUJveFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IFBhZ2VCb3gsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50LFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIHRoaXMudGFyZ2V0LnNwZWNpZmllZFtuYW1lXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50XG4gICAgICAgID8gQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFXG4gICAgICAgIDogQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25QYXJzZXJIYW5kbGVyIGV4dGVuZHMgUGFnZUJveFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRhcmdldDogUGFydGl0aW9uLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0YXJnZXQsIHZhbGlkYXRvclNldCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkdyb3VwUGFyc2VySGFuZGxlciBleHRlbmRzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICB0YXJnZXQ6IFBhcnRpdGlvbkdyb3VwLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0YXJnZXQsIHZhbGlkYXRvclNldCk7XG4gICAgdGFyZ2V0LnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmh1bmRyZWRQZXJjZW50LFxuICAgICAgMCxcbiAgICApO1xuICAgIHRhcmdldC5zcGVjaWZpZWRbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaHVuZHJlZFBlcmNlbnQsXG4gICAgICAwLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYXJ0aXRpb24gPSBuZXcgUGFydGl0aW9uKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25QYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICBwYXJ0aXRpb24sXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbkdyb3VwID0gbmV3IFBhcnRpdGlvbkdyb3VwKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbkdyb3VwLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVyUGFyc2VySGFuZGxlciBleHRlbmRzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICB0YXJnZXQ6IFBhZ2VNYXN0ZXIsXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRhcmdldCwgdmFsaWRhdG9yU2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbiA9IG5ldyBQYXJ0aXRpb24oXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvblBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbixcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFydGl0aW9uR3JvdXAgPSBuZXcgUGFydGl0aW9uR3JvdXAoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvbkdyb3VwUGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgcGFydGl0aW9uR3JvdXAsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1BhZ2UgLSBgQHBhZ2VgIHJ1bGUgKENTUyBQYWdlZCBNZWRpYSkgc3VwcG9ydCBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXBhZ2UvXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIFBhZ2VNYXN0ZXIgZnJvbSBcIi4vcGFnZS1tYXN0ZXJcIjtcbmltcG9ydCAqIGFzIFNpemluZyBmcm9tIFwiLi9zaXppbmdcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbi8qKlxuICogUmVzb2x2ZSBwYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbiBmcm9tIHdyaXRpbmctbW9kZSBhbmQgZGlyZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbihcbiAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB7XG4gIGxldCB3cml0aW5nTW9kZSA9IHN0eWxlW1wid3JpdGluZy1tb2RlXCJdO1xuICB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlICYmIHdyaXRpbmdNb2RlLnZhbHVlO1xuICBsZXQgZGlyZWN0aW9uID0gc3R5bGVbXCJkaXJlY3Rpb25cIl07XG4gIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24udmFsdWU7XG4gIGlmIChcbiAgICB3cml0aW5nTW9kZSA9PT0gQ3NzLmlkZW50LnZlcnRpY2FsX2xyIHx8XG4gICAgKHdyaXRpbmdNb2RlICE9PSBDc3MuaWRlbnQudmVydGljYWxfcmwgJiYgZGlyZWN0aW9uICE9PSBDc3MuaWRlbnQucnRsKVxuICApIHtcbiAgICByZXR1cm4gQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uUlRMO1xuICB9XG59XG5leHBvcnQgdHlwZSBQYWdlU2l6ZSA9IHtcbiAgd2lkdGg6IENzcy5OdW1lcmljO1xuICBoZWlnaHQ6IENzcy5OdW1lcmljO1xufTtcblxuLyoqXG4gKiBOYW1lZCBwYWdlIHNpemVzLlxuICovXG5leHBvcnQgY29uc3QgcGFnZVNpemVzOiB7IFtrZXk6IHN0cmluZ106IFBhZ2VTaXplIH0gPSB7XG4gIGE1OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTQ4LCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyMTAsIFwibW1cIikgfSxcbiAgYTQ6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyMTAsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDI5NywgXCJtbVwiKSB9LFxuICBhMzogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDI5NywgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoNDIwLCBcIm1tXCIpIH0sXG4gIGI1OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTc2LCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyNTAsIFwibW1cIikgfSxcbiAgYjQ6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyNTAsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDM1MywgXCJtbVwiKSB9LFxuICBcImppcy1iNVwiOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxODIsIFwibW1cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMjU3LCBcIm1tXCIpLFxuICB9LFxuICBcImppcy1iNFwiOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyNTcsIFwibW1cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMzY0LCBcIm1tXCIpLFxuICB9LFxuICBsZXR0ZXI6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDguNSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxMSwgXCJpblwiKSxcbiAgfSxcbiAgbGVnYWw6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDguNSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxNCwgXCJpblwiKSxcbiAgfSxcbiAgbGVkZ2VyOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxMSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxNywgXCJpblwiKSxcbiAgfSxcbn07XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgbGluZSB3aWR0aCBvZiBwcmludGVyIG1hcmtzXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGg6IENzcy5OdW1lcmljID0gbmV3IENzcy5OdW1lcmljKFxuICAwLjI0LFxuICBcInB0XCIsXG4pO1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGRpc3RhbmNlIGJldHdlZW4gYW4gZWRnZSBvZiB0aGUgcGFnZSBhbmQgcHJpbnRlciBtYXJrc1xuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0OiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYygzLCBcIm1tXCIpO1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGxpbmUgbGVuZ3RoIG9mIHRoZSAoc2hvcnRlcikgbGluZSBvZiBhIGNyb3AgbWFyayBhbmQgdGhlXG4gKiBzaG9ydGVyIGxpbmUgb2YgYSBjcm9zcyBtYXJrXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoOiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYyhcbiAgMTAsXG4gIFwibW1cIixcbik7XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgYmxlZWQgb2Zmc2V0ICg9IGRlZmF1bHRQcmludGVyTWFya09mZnNldCArXG4gKiBkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoKVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEJsZWVkT2Zmc2V0OiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYygzICsgMTAsIFwibW1cIik7XG5cbmV4cG9ydCB0eXBlIFBhZ2VTaXplQW5kQmxlZWQgPSB7XG4gIHdpZHRoOiBDc3MuTnVtZXJpYztcbiAgaGVpZ2h0OiBDc3MuTnVtZXJpYztcbiAgYmxlZWQ6IENzcy5OdW1lcmljO1xuICBibGVlZE9mZnNldDogQ3NzLk51bWVyaWM7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoc3R5bGU6IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG59KTogUGFnZVNpemVBbmRCbGVlZCB7XG4gIC8vIGRlZmF1bHQgdmFsdWUgKGZpdCB0byB2aWV3cG9ydCwgbm8gYmxlZWQpXG4gIGNvbnN0IHBhZ2VTaXplQW5kQmxlZWQ6IFBhZ2VTaXplQW5kQmxlZWQgPSB7XG4gICAgd2lkdGg6IENzcy5mdWxsV2lkdGgsXG4gICAgaGVpZ2h0OiBDc3MuZnVsbEhlaWdodCxcbiAgICBibGVlZDogQ3NzLm51bWVyaWNaZXJvLFxuICAgIGJsZWVkT2Zmc2V0OiBDc3MubnVtZXJpY1plcm8sXG4gIH07XG4gIGNvbnN0IHNpemU6IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlID0gc3R5bGVbXCJzaXplXCJdO1xuXG4gIGlmICghc2l6ZSB8fCBzaXplLnZhbHVlID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIC8vIGlmIHNpemUgaXMgYXV0bywgZml0IHRvIHRoZSB2aWV3cG9ydCAodXNlIGRlZmF1bHQgdmFsdWUpXG4gIH0gZWxzZSB7XG4gICAgLyoqICF0eXBlIHshQ3NzLlZhbH0gKi9cbiAgICBjb25zdCB2YWx1ZSA9IHNpemUudmFsdWU7XG4gICAgbGV0IHZhbDE6IENzcy5WYWw7XG4gICAgbGV0IHZhbDI6IENzcy5WYWw7XG4gICAgaWYgKHZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgIHZhbDEgPSAodmFsdWUgYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzWzBdO1xuICAgICAgdmFsMiA9ICh2YWx1ZSBhcyBDc3MuU3BhY2VMaXN0KS52YWx1ZXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbDEgPSB2YWx1ZTtcbiAgICAgIHZhbDIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsMS5pc051bWVyaWMoKSkge1xuICAgICAgLy8gPGxlbmd0aD57MSwyfVxuICAgICAgcGFnZVNpemVBbmRCbGVlZC53aWR0aCA9IHZhbDEgYXMgQ3NzLk51bWVyaWM7XG4gICAgICBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodCA9ICh2YWwyIHx8IHZhbDEpIGFzIENzcy5OdW1lcmljO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyA8cGFnZS1zaXplPiB8fCBbIHBvcnRyYWl0IHwgbGFuZHNjYXBlIF1cbiAgICAgIGNvbnN0IHMgPVxuICAgICAgICAodmFsMSBhcyBhbnkpLm5hbWUgJiYgcGFnZVNpemVzWyh2YWwxIGFzIENzcy5JZGVudCkubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghcykge1xuICAgICAgICAvLyBwb3J0cmFpdCBvciBsYW5kc2NhcGUgaXMgc3BlY2lmaWVkIGFsb25lLiBmYWxsYmFjayB0byBmaXQgdG8gdGhlXG4gICAgICAgIC8vIHZpZXdwb3J0ICh1c2UgZGVmYXVsdCB2YWx1ZSlcbiAgICAgIH0gZWxzZSBpZiAodmFsMiAmJiB2YWwyID09PSBDc3MuaWRlbnQubGFuZHNjYXBlKSB7XG4gICAgICAgIC8vIHN3YXBcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC53aWR0aCA9IHMuaGVpZ2h0O1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodCA9IHMud2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXR1cm4ge1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLndpZHRoID0gcy53aWR0aDtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC5oZWlnaHQgPSBzLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgbWFya3MgPSBzdHlsZVtcIm1hcmtzXCJdO1xuICBpZiAobWFya3MgJiYgbWFya3MudmFsdWUgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldCA9IGRlZmF1bHRCbGVlZE9mZnNldDtcbiAgfVxuICBjb25zdCBibGVlZCA9IHN0eWxlW1wiYmxlZWRcIl07XG4gIGlmICghYmxlZWQgfHwgYmxlZWQudmFsdWUgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgLy8gXCIoJ2F1dG8nIHZhbHVlKSBDb21wdXRlcyB0byA2cHQgaWYgbWFya3MgaGFzIGNyb3AgYW5kIHRvIHplcm9cbiAgICAvLyBvdGhlcndpc2UuXCIgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1wYWdlLyN2YWxkZWYtcGFnZS1ibGVlZC1hdXRvXG4gICAgaWYgKG1hcmtzKSB7XG4gICAgICBsZXQgaGFzQ3JvcCA9IGZhbHNlO1xuICAgICAgaWYgKG1hcmtzLnZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgICAgaGFzQ3JvcCA9IChtYXJrcy52YWx1ZSBhcyBDc3MuU3BhY2VMaXN0KS52YWx1ZXMuc29tZShcbiAgICAgICAgICAodikgPT4gdiA9PT0gQ3NzLmlkZW50LmNyb3AsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNDcm9wID0gbWFya3MudmFsdWUgPT09IENzcy5pZGVudC5jcm9wO1xuICAgICAgfVxuICAgICAgaWYgKGhhc0Nyb3ApIHtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZCA9IG5ldyBDc3MuTnVtZXJpYyg2LCBcInB0XCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChibGVlZC52YWx1ZSAmJiBibGVlZC52YWx1ZS5pc051bWVyaWMoKSkge1xuICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgPSBibGVlZC52YWx1ZSBhcyBDc3MuTnVtZXJpYztcbiAgfVxuICByZXR1cm4gcGFnZVNpemVBbmRCbGVlZDtcbn1cblxuZXhwb3J0IHR5cGUgRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCA9IHtcbiAgcGFnZVdpZHRoOiBudW1iZXI7XG4gIHBhZ2VIZWlnaHQ6IG51bWJlcjtcbiAgYmxlZWQ6IG51bWJlcjtcbiAgYmxlZWRPZmZzZXQ6IG51bWJlcjtcbiAgY3JvcE9mZnNldDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSBhY3R1YWwgcGFnZSB3aWR0aCwgaGVpZ2h0IGFuZCBibGVlZCBmcm9tIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlXG4gKiBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICBwYWdlU2l6ZUFuZEJsZWVkOiBQYWdlU2l6ZUFuZEJsZWVkLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCB7XG4gIGNvbnN0IGV2YWx1YXRlZCA9IHt9IGFzIEV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQ7XG4gIGNvbnN0IGJsZWVkID1cbiAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkLm51bSAqXG4gICAgY29udGV4dC5xdWVyeVVuaXRTaXplKHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQudW5pdCwgZmFsc2UpO1xuICBjb25zdCBibGVlZE9mZnNldCA9XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldC5udW0gKlxuICAgIGNvbnRleHQucXVlcnlVbml0U2l6ZShwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0LnVuaXQsIGZhbHNlKTtcbiAgY29uc3QgY3JvcE9mZnNldCA9IGJsZWVkICsgYmxlZWRPZmZzZXQ7XG4gIGNvbnN0IHdpZHRoID0gcGFnZVNpemVBbmRCbGVlZC53aWR0aDtcbiAgaWYgKHdpZHRoID09PSBDc3MuZnVsbFdpZHRoKSB7XG4gICAgaWYgKGNvbnRleHQucHJlZi5kZWZhdWx0UGFwZXJTaXplKSB7XG4gICAgICBldmFsdWF0ZWQucGFnZVdpZHRoID1cbiAgICAgICAgY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUud2lkdGggKlxuICAgICAgICBjb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJweFwiLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlV2lkdGggPVxuICAgICAgICAoY29udGV4dC5wcmVmLnNwcmVhZFZpZXdcbiAgICAgICAgICA/IE1hdGguZmxvb3IoY29udGV4dC52aWV3cG9ydFdpZHRoIC8gMikgLSBjb250ZXh0LnByZWYucGFnZUJvcmRlclxuICAgICAgICAgIDogY29udGV4dC52aWV3cG9ydFdpZHRoKSAtXG4gICAgICAgIGNyb3BPZmZzZXQgKiAyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBldmFsdWF0ZWQucGFnZVdpZHRoID0gd2lkdGgubnVtICogY29udGV4dC5xdWVyeVVuaXRTaXplKHdpZHRoLnVuaXQsIGZhbHNlKTtcbiAgfVxuICBjb25zdCBoZWlnaHQgPSBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodDtcbiAgaWYgKGhlaWdodCA9PT0gQ3NzLmZ1bGxIZWlnaHQpIHtcbiAgICBpZiAoY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUpIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlSGVpZ2h0ID1cbiAgICAgICAgY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUuaGVpZ2h0ICpcbiAgICAgICAgY29udGV4dC5xdWVyeVVuaXRTaXplKFwicHhcIiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmFsdWF0ZWQucGFnZUhlaWdodCA9IGNvbnRleHQudmlld3BvcnRIZWlnaHQgLSBjcm9wT2Zmc2V0ICogMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXZhbHVhdGVkLnBhZ2VIZWlnaHQgPVxuICAgICAgaGVpZ2h0Lm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShoZWlnaHQudW5pdCwgZmFsc2UpO1xuICB9XG4gIGV2YWx1YXRlZC5ibGVlZCA9IGJsZWVkO1xuICBldmFsdWF0ZWQuYmxlZWRPZmZzZXQgPSBibGVlZE9mZnNldDtcbiAgZXZhbHVhdGVkLmNyb3BPZmZzZXQgPSBjcm9wT2Zmc2V0O1xuICByZXR1cm4gZXZhbHVhdGVkO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiAnc3ZnJyBlbGVtZW50IGZvciBhIHByaW50ZXIgbWFyay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByaW50ZXJNYXJrU3ZnKFxuICBkb2M6IERvY3VtZW50LFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBjb25zdCBtYXJrID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlNWRywgXCJzdmdcIik7XG4gIG1hcmsuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICBtYXJrLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQpO1xuICBtYXJrLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICByZXR1cm4gbWFyaztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gU1ZHIGVsZW1lbnQgZm9yIGEgcHJpbnRlciBtYXJrIGxpbmUuXG4gKiBAcGFyYW0gZWxlbWVudFR5cGUgU3BlY2lmaWVzIHdoaWNoIHR5cGUgb2YgZWxlbWVudCB0byBjcmVhdGUuIERlZmF1bHQgdmFsdWVcbiAqICAgICBpcyBcInBvbHlsaW5lXCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoXG4gIGRvYzogRG9jdW1lbnQsXG4gIGxpbmVXaWR0aDogbnVtYmVyLFxuICBlbGVtZW50VHlwZT86IHN0cmluZyxcbik6IEVsZW1lbnQge1xuICBlbGVtZW50VHlwZSA9IGVsZW1lbnRUeXBlIHx8IFwicG9seWxpbmVcIjtcbiAgY29uc3QgbGluZSA9IGRvYy5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TVkcsIGVsZW1lbnRUeXBlKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgXCJibGFja1wiKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIiwgbGluZVdpZHRoKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgcmV0dXJuIGxpbmU7XG59XG5cbi8qKlxuICogUG9zaXRpb24gb2YgYSBjb3JuZXIgbWFya1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gQ29ybmVyTWFya1Bvc2l0aW9uIHtcbiAgVE9QX0xFRlQgPSBcInRvcCBsZWZ0XCIsXG4gIFRPUF9SSUdIVCA9IFwidG9wIHJpZ2h0XCIsXG4gIEJPVFRPTV9MRUZUID0gXCJib3R0b20gbGVmdFwiLFxuICBCT1RUT01fUklHSFQgPSBcImJvdHRvbSByaWdodFwiLFxufVxuXG4vKipcbiAqIENyZWF0ZSBhIGNvcm5lciBtYXJrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29ybmVyTWFyayhcbiAgZG9jOiBEb2N1bWVudCxcbiAgcG9zaXRpb246IENvcm5lck1hcmtQb3NpdGlvbixcbiAgbGluZVdpZHRoOiBudW1iZXIsXG4gIGNyb3BNYXJrTGluZUxlbmd0aDogbnVtYmVyLFxuICBibGVlZDogbnVtYmVyLFxuICBvZmZzZXQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBsZXQgYmxlZWRNYXJrTGluZUxlbmd0aCA9IGNyb3BNYXJrTGluZUxlbmd0aDtcblxuICAvLyBibGVlZCBtYXJrIGxpbmUgc2hvdWxkIGJlIGxvbmdlciB0aGFuIGJsZWVkICsgMm1tXG4gIGlmIChibGVlZE1hcmtMaW5lTGVuZ3RoIDw9IGJsZWVkICsgMiAqIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJtbVwiXSkge1xuICAgIGJsZWVkTWFya0xpbmVMZW5ndGggPSBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aCAvIDI7XG4gIH1cbiAgY29uc3QgbWF4TGluZUxlbmd0aCA9IE1hdGgubWF4KGNyb3BNYXJrTGluZUxlbmd0aCwgYmxlZWRNYXJrTGluZUxlbmd0aCk7XG4gIGNvbnN0IHN2Z1dpZHRoID0gYmxlZWQgKyBtYXhMaW5lTGVuZ3RoICsgbGluZVdpZHRoIC8gMjtcbiAgY29uc3QgbWFyayA9IGNyZWF0ZVByaW50ZXJNYXJrU3ZnKGRvYywgc3ZnV2lkdGgsIHN2Z1dpZHRoKTtcbiAgbGV0IHBvaW50czEgPSBbXG4gICAgWzAsIGJsZWVkICsgY3JvcE1hcmtMaW5lTGVuZ3RoXSxcbiAgICBbY3JvcE1hcmtMaW5lTGVuZ3RoLCBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aF0sXG4gICAgW2Nyb3BNYXJrTGluZUxlbmd0aCwgYmxlZWQgKyBjcm9wTWFya0xpbmVMZW5ndGggLSBibGVlZE1hcmtMaW5lTGVuZ3RoXSxcbiAgXTtcblxuICAvLyByZWZsZWN0IHdpdGggcmVzcGVjdCB0byB5PXhcbiAgbGV0IHBvaW50czIgPSBwb2ludHMxLm1hcCgocCkgPT4gW3BbMV0sIHBbMF1dKTtcbiAgaWYgKFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uVE9QX1JJR0hUIHx8XG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5CT1RUT01fUklHSFRcbiAgKSB7XG4gICAgLy8gcmVmbGVjdCB3aXRoIHJlc3BlY3QgdG8gYSB2ZXJ0aWNhbCBheGlzXG4gICAgcG9pbnRzMSA9IHBvaW50czEubWFwKChwKSA9PiBbYmxlZWQgKyBtYXhMaW5lTGVuZ3RoIC0gcFswXSwgcFsxXV0pO1xuICAgIHBvaW50czIgPSBwb2ludHMyLm1hcCgocCkgPT4gW2JsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMF0sIHBbMV1dKTtcbiAgfVxuICBpZiAoXG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5CT1RUT01fTEVGVCB8fFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uQk9UVE9NX1JJR0hUXG4gICkge1xuICAgIC8vIHJlZmxlY3Qgd2l0aCByZXNwZWN0IHRvIGEgdmVydGljYWwgYXhpc1xuICAgIHBvaW50czEgPSBwb2ludHMxLm1hcCgocCkgPT4gW3BbMF0sIGJsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMV1dKTtcbiAgICBwb2ludHMyID0gcG9pbnRzMi5tYXAoKHApID0+IFtwWzBdLCBibGVlZCArIG1heExpbmVMZW5ndGggLSBwWzFdXSk7XG4gIH1cbiAgY29uc3QgbGluZTEgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICBsaW5lMS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgcG9pbnRzMS5tYXAoKHApID0+IHAuam9pbihcIixcIikpLmpvaW4oXCIgXCIpKTtcbiAgbWFyay5hcHBlbmRDaGlsZChsaW5lMSk7XG4gIGNvbnN0IGxpbmUyID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgbGluZTIuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50czIubWFwKChwKSA9PiBwLmpvaW4oXCIsXCIpKS5qb2luKFwiIFwiKSk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQobGluZTIpO1xuICBwb3NpdGlvbi5zcGxpdChcIiBcIikuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBgJHtvZmZzZXR9cHhgO1xuICB9KTtcbiAgcmV0dXJuIG1hcms7XG59XG5cbi8qKlxuICogUG9zaXRpb24gb2YgYSBjcm9zcyBtYXJrXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBDcm9zc01hcmtQb3NpdGlvbiB7XG4gIFRPUCA9IFwidG9wXCIsXG4gIEJPVFRPTSA9IFwiYm90dG9tXCIsXG4gIExFRlQgPSBcImxlZnRcIixcbiAgUklHSFQgPSBcInJpZ2h0XCIsXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY3Jvc3MgbWFyay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNyb3NzTWFyayhcbiAgZG9jOiBEb2N1bWVudCxcbiAgcG9zaXRpb246IENyb3NzTWFya1Bvc2l0aW9uLFxuICBsaW5lV2lkdGg6IG51bWJlcixcbiAgbGluZUxlbmd0aDogbnVtYmVyLFxuICBvZmZzZXQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBjb25zdCBsb25nTGluZUxlbmd0aCA9IGxpbmVMZW5ndGggKiAyO1xuICBsZXQgd2lkdGg6IG51bWJlcjtcbiAgbGV0IGhlaWdodDogbnVtYmVyO1xuICBpZiAoXG4gICAgcG9zaXRpb24gPT09IENyb3NzTWFya1Bvc2l0aW9uLlRPUCB8fFxuICAgIHBvc2l0aW9uID09PSBDcm9zc01hcmtQb3NpdGlvbi5CT1RUT01cbiAgKSB7XG4gICAgd2lkdGggPSBsb25nTGluZUxlbmd0aDtcbiAgICBoZWlnaHQgPSBsaW5lTGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gbGluZUxlbmd0aDtcbiAgICBoZWlnaHQgPSBsb25nTGluZUxlbmd0aDtcbiAgfVxuICBjb25zdCBtYXJrID0gY3JlYXRlUHJpbnRlck1hcmtTdmcoZG9jLCB3aWR0aCwgaGVpZ2h0KTtcbiAgY29uc3QgaG9yaXpvbnRhbExpbmUgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICBob3Jpem9udGFsTGluZS5zZXRBdHRyaWJ1dGUoXG4gICAgXCJwb2ludHNcIixcbiAgICBgMCwke2hlaWdodCAvIDJ9ICR7d2lkdGh9LCR7aGVpZ2h0IC8gMn1gLFxuICApO1xuICBtYXJrLmFwcGVuZENoaWxkKGhvcml6b250YWxMaW5lKTtcbiAgY29uc3QgdmVydGljYWxMaW5lID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgdmVydGljYWxMaW5lLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBgJHt3aWR0aCAvIDJ9LDAgJHt3aWR0aCAvIDJ9LCR7aGVpZ2h0fWApO1xuICBtYXJrLmFwcGVuZENoaWxkKHZlcnRpY2FsTGluZSk7XG4gIGNvbnN0IGNpcmNsZSA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCwgXCJjaXJjbGVcIik7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCB3aWR0aCAvIDIpO1xuICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiY3lcIiwgaGVpZ2h0IC8gMik7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIGxpbmVMZW5ndGggLyA0KTtcbiAgbWFyay5hcHBlbmRDaGlsZChjaXJjbGUpO1xuICBsZXQgb3Bwb3NpdGU6IENyb3NzTWFya1Bvc2l0aW9uO1xuICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5UT1A6XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLkJPVFRPTTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ3Jvc3NNYXJrUG9zaXRpb24uQk9UVE9NOlxuICAgICAgb3Bwb3NpdGUgPSBDcm9zc01hcmtQb3NpdGlvbi5UT1A7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENyb3NzTWFya1Bvc2l0aW9uLkxFRlQ6XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLlJJR0hUO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5SSUdIVDpcbiAgICAgIG9wcG9zaXRlID0gQ3Jvc3NNYXJrUG9zaXRpb24uTEVGVDtcbiAgICAgIGJyZWFrO1xuICB9XG4gIE9iamVjdC5rZXlzKENyb3NzTWFya1Bvc2l0aW9uKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBzaWRlID0gQ3Jvc3NNYXJrUG9zaXRpb25ba2V5XTtcbiAgICBpZiAoc2lkZSA9PT0gcG9zaXRpb24pIHtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBgJHtvZmZzZXR9cHhgO1xuICAgIH0gZWxzZSBpZiAoc2lkZSAhPT0gb3Bwb3NpdGUpIHtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBcIjBcIjtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbYG1hcmdpbi0ke3NpZGV9YF0gPSBcImF1dG9cIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFyaztcbn1cblxuLyoqXG4gKiBBZGQgcHJpbnRlciBtYXJrcyB0byB0aGUgcGFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByaW50ZXJNYXJrcyhcbiAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkOiBFdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICBwYWdlOiBWdHJlZS5QYWdlLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogdm9pZCB7XG4gIGxldCBjcm9wID0gZmFsc2U7XG4gIGxldCBjcm9zcyA9IGZhbHNlO1xuICBjb25zdCBtYXJrcyA9IGNhc2NhZGVkUGFnZVN0eWxlW1wibWFya3NcIl07XG4gIGlmIChtYXJrcykge1xuICAgIGNvbnN0IHZhbHVlID0gbWFya3MudmFsdWU7XG4gICAgaWYgKHZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgIHZhbHVlLnZhbHVlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIGlmICh2ID09PSBDc3MuaWRlbnQuY3JvcCkge1xuICAgICAgICAgIGNyb3AgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHYgPT09IENzcy5pZGVudC5jcm9zcykge1xuICAgICAgICAgIGNyb3NzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gQ3NzLmlkZW50LmNyb3ApIHtcbiAgICAgIGNyb3AgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IENzcy5pZGVudC5jcm9zcykge1xuICAgICAgY3Jvc3MgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoIWNyb3AgJiYgIWNyb3NzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IHBhZ2UuY29udGFpbmVyO1xuICBjb25zdCBkb2MgPSBjb250YWluZXIub3duZXJEb2N1bWVudCBhcyBEb2N1bWVudDtcbiAgQXNzZXJ0cy5hc3NlcnQoZG9jKTtcbiAgY29uc3QgYmxlZWQgPSBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkO1xuICBjb25zdCBsaW5lV2lkdGggPSBDc3MudG9OdW1iZXIoZGVmYXVsdFByaW50ZXJNYXJrTGluZVdpZHRoLCBjb250ZXh0KTtcbiAgY29uc3QgcHJpbnRlck1hcmtPZmZzZXQgPSBDc3MudG9OdW1iZXIoZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0LCBjb250ZXh0KTtcbiAgY29uc3QgbGluZUxlbmd0aCA9IENzcy50b051bWJlcihkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoLCBjb250ZXh0KTtcblxuICBpZiAoYmxlZWQpIHtcbiAgICBjb25zdCBiZ2NvbG9yID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdO1xuICAgIGlmIChiZ2NvbG9yICYmIGJnY29sb3IudmFsdWUpIHtcbiAgICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdjb2xvci52YWx1ZS5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvcm5lciBtYXJrc1xuICBpZiAoY3JvcCkge1xuICAgIE9iamVjdC5rZXlzKENvcm5lck1hcmtQb3NpdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IENvcm5lck1hcmtQb3NpdGlvbltrZXldO1xuICAgICAgY29uc3QgbWFyayA9IGNyZWF0ZUNvcm5lck1hcmsoXG4gICAgICAgIGRvYyxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGxpbmVXaWR0aCxcbiAgICAgICAgbGluZUxlbmd0aCxcbiAgICAgICAgYmxlZWQsXG4gICAgICAgIHByaW50ZXJNYXJrT2Zmc2V0LFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtYXJrKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNyb3NzIG1hcmtzXG4gIGlmIChjcm9zcykge1xuICAgIE9iamVjdC5rZXlzKENyb3NzTWFya1Bvc2l0aW9uKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gQ3Jvc3NNYXJrUG9zaXRpb25ba2V5XTtcbiAgICAgIGNvbnN0IG1hcmsgPSBjcmVhdGVDcm9zc01hcmsoXG4gICAgICAgIGRvYyxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGxpbmVXaWR0aCxcbiAgICAgICAgbGluZUxlbmd0aCxcbiAgICAgICAgcHJpbnRlck1hcmtPZmZzZXQsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1hcmspO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyB0cmFuc2ZlcmVkIGZyb20gdGhlIFBhZ2VSdWxlTWFzdGVyIHRvIHRoZSBQYWdlUnVsZVBhcnRpdGlvblxuICovXG5leHBvcnQgY29uc3QgcHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbiA9ICgoKSA9PiB7XG4gIGNvbnN0IHNpZGVzID0gW1xuICAgIFwibGVmdFwiLFxuICAgIFwicmlnaHRcIixcbiAgICBcInRvcFwiLFxuICAgIFwiYm90dG9tXCIsXG4gICAgXCJiZWZvcmVcIixcbiAgICBcImFmdGVyXCIsXG4gICAgXCJzdGFydFwiLFxuICAgIFwiZW5kXCIsXG4gICAgXCJibG9jay1zdGFydFwiLFxuICAgIFwiYmxvY2stZW5kXCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIixcbiAgICBcImlubGluZS1lbmRcIixcbiAgXTtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgd2lkdGg6IHRydWUsXG4gICAgaGVpZ2h0OiB0cnVlLFxuICAgIFwiYmxvY2stc2l6ZVwiOiB0cnVlLFxuICAgIFwiaW5saW5lLXNpemVcIjogdHJ1ZSxcbiAgICBtYXJnaW46IHRydWUsXG4gICAgcGFkZGluZzogdHJ1ZSxcbiAgICBib3JkZXI6IHRydWUsXG4gICAgb3V0bGluZTogdHJ1ZSxcbiAgICBcIm91dGxpbmUtd2lkdGhcIjogdHJ1ZSxcbiAgICBcIm91dGxpbmUtc3R5bGVcIjogdHJ1ZSxcbiAgICBcIm91dGxpbmUtY29sb3JcIjogdHJ1ZSxcbiAgfTtcbiAgc2lkZXMuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgIHByb3BzW2BtYXJnaW4tJHtzaWRlfWBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgcGFkZGluZy0ke3NpZGV9YF0gPSB0cnVlO1xuICAgIHByb3BzW2Bib3JkZXItJHtzaWRlfS13aWR0aGBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgYm9yZGVyLSR7c2lkZX0tc3R5bGVgXSA9IHRydWU7XG4gICAgcHJvcHNbYGJvcmRlci0ke3NpZGV9LWNvbG9yYF0gPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHByb3BzO1xufSkoKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHBvc2l0aW9uIG9mIGEgbWFyZ2luIGJveCBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uIG9mIHRoZSBwYWdlLlxuICogU1RBUlQgYW5kIEVORCBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgJ2lubGluZS1zdGFydCcgYW5kICdpbmxpbmUtZW5kJyBpblxuICogaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgd3JpdGluZyBtb2Rlcy4gRm9yIGV4YW1wbGUsIGZvciB0b3AgbWFyZ2luIGJveGVzXG4gKiAoQHRvcC1sZWZ0LWNvcm5lciwgQHRvcC1sZWZ0LCBAdG9wLWNlbnRlciwgQHRvcC1yaWdodCwgQHRvcC1yaWdodC1jb3JuZXIpLFxuICogQHRvcC1sZWZ0IGNvcnJlc3BvbmRzIHRvIFNUQVJULCBAdG9wLWNlbnRlciB0byBDRU5URVIsIGFuZCBAdG9wLXJpZ2h0IHRvIEVORC5cbiAqIFRoZSBjb3JuZXIgYm94ZXMgKEB0b3AtbGVmdC1jb3JuZXIgYW5kIEB0b3AtcmlnaHQtY29ybmVyKSBoYXZlIGEgJ251bGwnXG4gKiBwb3NpdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiB7XG4gIFNUQVJUID0gXCJzdGFydFwiLFxuICBDRU5URVIgPSBcImNlbnRlclwiLFxuICBFTkQgPSBcImVuZFwiLFxufVxuXG5leHBvcnQgdHlwZSBQYWdlTWFyZ2luQm94SW5mb3JtYXRpb24gPSB7XG4gIG9yZGVyOiBudW1iZXI7XG4gIGlzSW5Ub3BSb3c6IGJvb2xlYW47XG4gIGlzSW5Cb3R0b21Sb3c6IGJvb2xlYW47XG4gIGlzSW5MZWZ0Q29sdW1uOiBib29sZWFuO1xuICBpc0luUmlnaHRDb2x1bW46IGJvb2xlYW47XG4gIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uO1xufTtcblxuLyoqXG4gKiBQYWdlLW1hcmdpbiBib3hlcy5cbiAqIEBkaWN0XG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlTWFyZ2luQm94ZXM6IHsgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveEluZm9ybWF0aW9uIH0gPSB7XG4gIFwidG9wLWxlZnQtY29ybmVyXCI6IHtcbiAgICBvcmRlcjogMSxcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwidG9wLWxlZnRcIjoge1xuICAgIG9yZGVyOiAyLFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxuICBcInRvcC1jZW50ZXJcIjoge1xuICAgIG9yZGVyOiAzLFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJ0b3AtcmlnaHRcIjoge1xuICAgIG9yZGVyOiA0LFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcInRvcC1yaWdodC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiA1LFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwicmlnaHQtdG9wXCI6IHtcbiAgICBvcmRlcjogNixcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVCxcbiAgfSxcbiAgXCJyaWdodC1taWRkbGVcIjoge1xuICAgIG9yZGVyOiA3LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJyaWdodC1ib3R0b21cIjoge1xuICAgIG9yZGVyOiA4LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcImJvdHRvbS1yaWdodC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiA5LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwiYm90dG9tLXJpZ2h0XCI6IHtcbiAgICBvcmRlcjogMTAsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQsXG4gIH0sXG4gIFwiYm90dG9tLWNlbnRlclwiOiB7XG4gICAgb3JkZXI6IDExLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJib3R0b20tbGVmdFwiOiB7XG4gICAgb3JkZXI6IDEyLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxuICBcImJvdHRvbS1sZWZ0LWNvcm5lclwiOiB7XG4gICAgb3JkZXI6IDEzLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwibGVmdC1ib3R0b21cIjoge1xuICAgIG9yZGVyOiAxNCxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORCxcbiAgfSxcbiAgXCJsZWZ0LW1pZGRsZVwiOiB7XG4gICAgb3JkZXI6IDE1LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJsZWZ0LXRvcFwiOiB7XG4gICAgb3JkZXI6IDE2LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxufTtcblxuLyoqXG4gKiBOYW1lcyBmb3IgcGFnZS1tYXJnaW4gYm94ZXMgb3JkZXIgaW4gdGhlIGRlZmF1bHQgcGFpbnRpbmcgb3JkZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlTWFyZ2luQm94TmFtZXM6IHN0cmluZ1tdID0gKCgpID0+IHtcbiAgY29uc3QgYm94ZXMgPSBwYWdlTWFyZ2luQm94ZXM7XG4gIHJldHVybiBPYmplY3Qua2V5cyhib3hlcykuc29ydCgoYSwgYikgPT4gYm94ZXNbYV0ub3JkZXIgLSBib3hlc1tiXS5vcmRlcik7XG59KSgpO1xuXG4vKipcbiAqIEluZGljYXRlcyB0aGF0IHRoZSBwYWdlIG1hc3RlciBpcyBnZW5lcmF0ZWQgZm9yIGBAcGFnZWAgcnVsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUgPSBcInZpdmxpb3N0eWxlLXBhZ2UtcnVsZS1tYXN0ZXJcIjtcblxuLyoqXG4gKiBLZXkgZm9yIHByb3BlcnRpZXMgaW4gbWFyZ2luIGNvbnRleHRzLlxuICogU3R5bGVzIGluIG1hcmdpbiBjb250ZXh0cyBhcmUgc3RvcmVkIGluIHBhZ2VTdHlsZVtcIl9tYXJnaW5Cb3hlc1wiXVsobWFyZ2luXG4gKiBib3gncyBuYW1lKV0uXG4gKi9cbmV4cG9ydCBjb25zdCBtYXJnaW5Cb3hlc0tleTogc3RyaW5nID0gXCJfbWFyZ2luQm94ZXNcIjtcblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYWdlIG1hc3RlciBnZW5lcmF0ZWQgZm9yIGBAcGFnZWAgcnVsZXNcbiAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlc1xuICovXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVNYXN0ZXIgZXh0ZW5kcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXI8XG4gIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2Vcbj4ge1xuICBwcml2YXRlIGJvZHlQYXJ0aXRpb25LZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBwYWdlTWFyZ2luQm94ZXMgPSB7fSBhcyB7XG4gICAgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveFBhcnRpdGlvbjtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHBhcmVudDogUGFnZU1hc3Rlci5Sb290UGFnZUJveCxcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUsIFtdLCBwYXJlbnQsIG51bGwsIDApO1xuICAgIGNvbnN0IHBhZ2VTaXplID0gcmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoc3R5bGUgYXMgYW55KTtcbiAgICBjb25zdCBwYXJ0aXRpb24gPSBuZXcgUGFnZVJ1bGVQYXJ0aXRpb24odGhpcy5zY29wZSwgdGhpcywgc3R5bGUsIHBhZ2VTaXplKTtcbiAgICB0aGlzLmJvZHlQYXJ0aXRpb25LZXkgPSBwYXJ0aXRpb24ua2V5O1xuICAgIHRoaXMuY3JlYXRlUGFnZU1hcmdpbkJveGVzKHN0eWxlKTtcbiAgICB0aGlzLmFwcGx5U3BlY2lmaWVkKHN0eWxlLCBwYWdlU2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHBhZ2UtbWFyZ2luIGJveGVzXG4gICAqL1xuICBjcmVhdGVQYWdlTWFyZ2luQm94ZXMoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKSB7XG4gICAgY29uc3QgbWFyZ2luQm94ZXNNYXAgPSBzdHlsZVttYXJnaW5Cb3hlc0tleV07XG4gICAgaWYgKG1hcmdpbkJveGVzTWFwKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHBhZ2VNYXJnaW5Cb3hOYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgIGlmIChtYXJnaW5Cb3hlc01hcFtuYW1lXSkge1xuICAgICAgICAgIHNlbGYucGFnZU1hcmdpbkJveGVzW25hbWVdID0gbmV3IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24oXG4gICAgICAgICAgICBzZWxmLnNjb3BlLFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgY2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXMgdG8gJ3NwZWNpZmllZCcgc3R5bGUgb2YgdGhpc1xuICAgKiBQYWdlQm94XG4gICAqL1xuICBwcml2YXRlIGFwcGx5U3BlY2lmaWVkKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSwgcGFnZVNpemU6IFBhZ2VTaXplKSB7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJwb3NpdGlvblwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5yZWxhdGl2ZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHBhZ2VTaXplLndpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS5oZWlnaHQsIDApO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZSkge1xuICAgICAgaWYgKCFwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uW25hbWVdICYmIG5hbWUgIT09IFwiYmFja2dyb3VuZC1jbGlwXCIpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpZWRbbmFtZV0gPSBzdHlsZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VSdWxlTWFzdGVySW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24gcGxhY2VkIGluIGEgUGFnZVJ1bGVNYXN0ZXJcbiAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlc1xuICovXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVQYXJ0aXRpb24gZXh0ZW5kcyBQYWdlTWFzdGVyLlBhcnRpdGlvbjxcbiAgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZVxuPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFyZW50OiBQYWdlUnVsZU1hc3RlcixcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTaXplOiBQYWdlU2l6ZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIG51bGwsIFtdLCBwYXJlbnQpO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiei1pbmRleFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShuZXcgQ3NzLkludCgwKSwgMCk7XG4gICAgdGhpcy5hcHBseVNwZWNpZmllZChzdHlsZSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgY2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXMgdG8gJ3NwZWNpZmllZCcgc3R5bGUgb2YgdGhpc1xuICAgKiBQYWdlQm94XG4gICAqL1xuICBwcml2YXRlIGFwcGx5U3BlY2lmaWVkKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSkge1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiZmxvdy1mcm9tXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmdldE5hbWUoXCJib2R5XCIpLFxuICAgICAgMCxcbiAgICApO1xuXG4gICAgLy8gVXNlIGFic29sdXRlIHBvc2l0aW9uaW5nIHNvIHRoYXQgdGhpcyBwYXJ0aXRpb24ncyBtYXJnaW5zIGRvbid0IGNvbGxhcHNlXG4gICAgLy8gd2l0aCBpdHMgcGFyZW50J3MgbWFyZ2luc1xuICAgIHRoaXMuc3BlY2lmaWVkW1wicG9zaXRpb25cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYWJzb2x1dGUsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJvdmVyZmxvd1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC52aXNpYmxlLFxuICAgICAgMCxcbiAgICApO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uKSB7XG4gICAgICBpZiAocHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICB0aGlzLnNwZWNpZmllZFtwcm9wXSA9IHN0eWxlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24gZm9yIGEgcGFnZS1tYXJnaW4gYm94XG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFyZ2luQm94UGFydGl0aW9uIGV4dGVuZHMgUGFnZU1hc3Rlci5QYXJ0aXRpb248XG4gIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZVxuPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFyZW50OiBQYWdlUnVsZU1hc3RlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFyZ2luQm94TmFtZTogc3RyaW5nLFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIG51bGwsIFtdLCBwYXJlbnQpO1xuICAgIHRoaXMuYXBwbHlTcGVjaWZpZWQoc3R5bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIGNhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzIHRvICdzcGVjaWZpZWQnIHN0eWxlIG9mIHRoaXNcbiAgICogUGFnZU1hcmdpbkJveFxuICAgKi9cbiAgYXBwbHlTcGVjaWZpZWQoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKSB7XG4gICAgY29uc3Qgb3duU3R5bGUgPSBzdHlsZVttYXJnaW5Cb3hlc0tleV1bXG4gICAgICB0aGlzLm1hcmdpbkJveE5hbWVcbiAgICBdIGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuXG4gICAgLy8gSW5oZXJpdCBwcm9wZXJ0aWVzIGluIHRoZSBwYWdlIGNvbnRleHQgdG8gdGhlIHBhZ2UtbWFyZ2luIGNvbnRleHRcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3R5bGUpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHN0eWxlW3Byb3BdIGFzIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xuICAgICAgY29uc3Qgb3duVmFsID0gb3duU3R5bGVbcHJvcF0gYXMgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG4gICAgICBpZiAoXG4gICAgICAgIENzc0Nhc2NhZGUuaW5oZXJpdGVkUHJvcHNbcHJvcF0gfHxcbiAgICAgICAgKG93blZhbCAmJiBvd25WYWwudmFsdWUgPT09IENzcy5pZGVudC5pbmhlcml0KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWVkW3Byb3BdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gb3duU3R5bGUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3duU3R5bGUsIHByb3ApKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IG93blN0eWxlW3Byb3BdIGFzIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xuICAgICAgICBpZiAodmFsICYmIHZhbC52YWx1ZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgICB0aGlzLnNwZWNpZmllZFtwcm9wXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW5zdGFuY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCB0eXBlIFBhZ2VBcmVhRGltZW5zaW9uID0ge1xuICBib3JkZXJCb3hXaWR0aDogRXhwcnMuVmFsO1xuICBib3JkZXJCb3hIZWlnaHQ6IEV4cHJzLlZhbDtcbiAgbWFyZ2luVG9wOiBFeHBycy5WYWw7XG4gIG1hcmdpbkJvdHRvbTogRXhwcnMuVmFsO1xuICBtYXJnaW5MZWZ0OiBFeHBycy5WYWw7XG4gIG1hcmdpblJpZ2h0OiBFeHBycy5WYWw7XG59O1xuXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlPFxuICBQYWdlUnVsZU1hc3RlclxuPiB7XG4gIHBhZ2VBcmVhRGltZW5zaW9uOiBQYWdlQXJlYURpbWVuc2lvbiB8IG51bGwgPSBudWxsO1xuICBwYWdlTWFyZ2luQm94SW5zdGFuY2VzOiB7XG4gICAgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlO1xuICB9ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIHBhZ2VSdWxlTWFzdGVyOiBQYWdlUnVsZU1hc3RlcixcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VSdWxlTWFzdGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNhc2NhZGVkO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBkb2NFbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jRWxlbWVudFN0eWxlLCBuYW1lKSkge1xuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwid3JpdGluZy1tb2RlXCI6XG4gICAgICAgICAgY2FzZSBcImRpcmVjdGlvblwiOlxuICAgICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuYXBwbHlDYXNjYWRlQW5kSW5pdChjYXNjYWRlLCBkb2NFbGVtZW50U3R5bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIHN0eWxlW1wibGVmdFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi1sZWZ0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXdpZHRoXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLXJpZ2h0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicmlnaHRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuXG4gICAgLy8gU2hpZnQgMXB4IHRvIHdvcmthcm91bmQgQ2hyb21lIHByaW50aW5nIGJ1Z1xuICAgIC8vIHN0eWxlW1widG9wXCJdID0gbmV3IENzcy5OdW1lcmljKC0xLCBcInB4XCIpO1xuICAgIHN0eWxlW1widG9wXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLXRvcFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLXRvcFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInBhZGRpbmctYm90dG9tXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi1ib3R0b21cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3R0b21cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gIH1cblxuICBzZXRQYWdlQXJlYURpbWVuc2lvbihkaW06IFBhZ2VBcmVhRGltZW5zaW9uKSB7XG4gICAgdGhpcy5wYWdlQXJlYURpbWVuc2lvbiA9IGRpbTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgc3R5bGVbXCJ3aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihkaW0uYm9yZGVyQm94V2lkdGgpO1xuICAgIHN0eWxlW1wiaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKGRpbS5ib3JkZXJCb3hIZWlnaHQpO1xuICAgIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5MZWZ0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpblJpZ2h0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctdG9wXCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5Ub3ApO1xuICAgIHN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpbkJvdHRvbSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGp1c3RQYWdlTGF5b3V0KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7XG4gICAgY29uc3QgbWFyZ2luQm94Q29udGFpbmVycyA9IHBhZ2UubWFyZ2luQm94ZXM7XG4gICAgY29uc3QgaG9yaXpvbnRhbERpbWVuc2lvbnMgPSB7XG4gICAgICBzdGFydDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5tYXJnaW5MZWZ0LFxuICAgICAgZW5kOiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpblJpZ2h0LFxuICAgICAgZXh0ZW50OiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLmJvcmRlckJveFdpZHRoLFxuICAgIH07XG4gICAgY29uc3QgdmVydGljYWxEaW1lbnNpb25zID0ge1xuICAgICAgc3RhcnQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24ubWFyZ2luVG9wLFxuICAgICAgZW5kOiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpbkJvdHRvbSxcbiAgICAgIGV4dGVudDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5ib3JkZXJCb3hIZWlnaHQsXG4gICAgfTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLnRvcCxcbiAgICAgIHRydWUsXG4gICAgICBob3Jpem9udGFsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLmJvdHRvbSxcbiAgICAgIHRydWUsXG4gICAgICBob3Jpem9udGFsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLmxlZnQsXG4gICAgICBmYWxzZSxcbiAgICAgIHZlcnRpY2FsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLnJpZ2h0LFxuICAgICAgZmFsc2UsXG4gICAgICB2ZXJ0aWNhbERpbWVuc2lvbnMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGFuZCBzZXQgbWFyZ2luIGJveGVzJyBzaXplcyBhbG9uZyB2YXJpYWJsZSBkaW1lbnNpb24gdXNpbmcgYW5cbiAgICogYWxnb3JpdGhtIHNwZWNpZmllZCBpbiBDU1MgUGFnZWQgTWVkaWEgc3BlYy5cbiAgICogQHBhcmFtIG1hcmdpbkJveENvbnRhaW5lcnMgQ29udGFpbmVycyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXQgbWFyZ2luXG4gICAqICAgICBib3hlcyBpbiBvbmUgcGFnZSBlZGdlICh0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQpXG4gICAqIEBwYXJhbSBpc0hvcml6b250YWwgSW5kaWNhdGVzIGlmIHRoZSB0YXJnZXQgbWFyZ2luIGJveGVzIGFyZSBvbiB0aGVcbiAgICogICAgIGhvcml6b250YWwgZWRnZSAodG9wIG9yIGJvdHRvbSkgb3Igbm90IChsZWZ0IG9yIHJpZ2h0KS5cbiAgICogQHBhcmFtIGRpbWVuc2lvbnMgUGFnZSBkaW1lbnNpb25zLiBzdGFydDogbWFyZ2luLWxlZnQgb3IgbWFyZ2luLXRvcC4gZW5kOlxuICAgKiAgICAgbWFyZ2luLXJpZ2h0IG9yIG1hcmdpbi1ib3R0b20uIGV4dGVudDogYm9yZGVyLWJveCB3aWR0aCBvciBoZWlnaHQgb2ZcbiAgICogICAgIHRoZSBwYWdlIGFyZWEgKD0gYXZhaWxhYmxlIHdpZHRoIG9yIGhlaWdodCBmb3IgdGhlIHRhcmdldCBtYXJnaW4gYm94ZXMpXG4gICAqL1xuICBwcml2YXRlIHNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgbWFyZ2luQm94Q29udGFpbmVyczogeyBba2V5OiBzdHJpbmddOiBWdHJlZS5Db250YWluZXIgfSxcbiAgICBpc0hvcml6b250YWw6IGJvb2xlYW4sXG4gICAgZGltZW5zaW9uczogeyBzdGFydDogRXhwcnMuVmFsOyBlbmQ6IEV4cHJzLlZhbDsgZXh0ZW50OiBFeHBycy5WYWwgfSxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHtcbiAgICBjb25zdCBTVEFSVCA9IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVDtcbiAgICBjb25zdCBDRU5URVIgPSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSO1xuICAgIGNvbnN0IEVORCA9IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQ7XG5cbiAgICAvLyBwcmVwYXJlIHBhcmFtZXRlcnNcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBjb250YWluZXJzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBWdHJlZS5Db250YWluZXI7XG4gICAgfSA9IHt9O1xuICAgIGNvbnN0IGJveEluc3RhbmNlczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlO1xuICAgIH0gPSB7fTtcbiAgICBjb25zdCBib3hQYXJhbXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IE1hcmdpbkJveFNpemluZ1BhcmFtO1xuICAgIH0gPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gbWFyZ2luQm94Q29udGFpbmVycykge1xuICAgICAgY29uc3QgYm94SW5mbyA9IHBhZ2VNYXJnaW5Cb3hlc1tuYW1lXTtcbiAgICAgIGlmIChib3hJbmZvKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG1hcmdpbkJveENvbnRhaW5lcnNbbmFtZV07XG4gICAgICAgIGNvbnN0IGJveEluc3RhbmNlID0gdGhpcy5wYWdlTWFyZ2luQm94SW5zdGFuY2VzW25hbWVdO1xuICAgICAgICBjb25zdCBib3hQYXJhbSA9IG5ldyBTaW5nbGVCb3hNYXJnaW5Cb3hTaXppbmdQYXJhbShcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgKGJveEluc3RhbmNlIGFzIGFueSkuc3R5bGUsXG4gICAgICAgICAgaXNIb3Jpem9udGFsLFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGFpbmVyc1tib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0gPSBjb250YWluZXI7XG4gICAgICAgIGJveEluc3RhbmNlc1tib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0gPSBib3hJbnN0YW5jZTtcbiAgICAgICAgYm94UGFyYW1zW2JveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXSA9IGJveFBhcmFtO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRldGVybWluZSBzaXplc1xuICAgIGNvbnN0IGV2YWx1YXRlZERpbSA9IHtcbiAgICAgIHN0YXJ0OiBkaW1lbnNpb25zLnN0YXJ0LmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcixcbiAgICAgIGVuZDogZGltZW5zaW9ucy5lbmQuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyLFxuICAgICAgZXh0ZW50OiBkaW1lbnNpb25zLmV4dGVudC5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXIsXG4gICAgfTtcbiAgICBsZXQgc2l6ZXMgPSB0aGlzLmdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBib3hQYXJhbXMsXG4gICAgICBldmFsdWF0ZWREaW0uZXh0ZW50LFxuICAgICk7XG4gICAgbGV0IG5lZWRSZWNhbGN1bGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLy8gQ2hlY2sgbWF4LXdpZHRoL21heC1oZWlnaHRcbiAgICBjb25zdCBtYXhPdXRlclNpemVzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXI7XG4gICAgfSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGNvbnRhaW5lcnMpLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBuIGFzIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjtcbiAgICAgIGNvbnN0IG1heFNpemUgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGVbaXNIb3Jpem9udGFsID8gXCJtYXgtd2lkdGhcIiA6IFwibWF4LWhlaWdodFwiXSxcbiAgICAgICAgZGltZW5zaW9ucy5leHRlbnQsXG4gICAgICApO1xuICAgICAgaWYgKG1heFNpemUpIHtcbiAgICAgICAgY29uc3QgZXZhbHVhdGVkTWF4U2l6ZSA9IG1heFNpemUuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyO1xuICAgICAgICBpZiAoc2l6ZXNbbmFtZV0gPiBldmFsdWF0ZWRNYXhTaXplKSB7XG4gICAgICAgICAgY29uc3QgcCA9IChib3hQYXJhbXNbbmFtZV0gPSBuZXcgRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0oXG4gICAgICAgICAgICBjb250YWluZXJzW25hbWVdLFxuICAgICAgICAgICAgYm94SW5zdGFuY2VzW25hbWVdLnN0eWxlLFxuICAgICAgICAgICAgaXNIb3Jpem9udGFsLFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBjbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBldmFsdWF0ZWRNYXhTaXplLFxuICAgICAgICAgICkpO1xuICAgICAgICAgIG1heE91dGVyU2l6ZXNbbmFtZV0gPSBwLmdldE91dGVyU2l6ZSgpO1xuICAgICAgICAgIG5lZWRSZWNhbGN1bGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAobmVlZFJlY2FsY3VsYXRlKSB7XG4gICAgICBzaXplcyA9IHRoaXMuZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgICAgYm94UGFyYW1zLFxuICAgICAgICBldmFsdWF0ZWREaW0uZXh0ZW50LFxuICAgICAgKTtcbiAgICAgIG5lZWRSZWNhbGN1bGF0ZSA9IGZhbHNlO1xuICAgICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBzaXplc1tuYW1lXSA9IG1heE91dGVyU2l6ZXNbbmFtZV0gfHwgc2l6ZXNbbmFtZV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBtaW4td2lkdGgvbWluLWhlaWdodFxuICAgIGNvbnN0IG1pbk91dGVyU2l6ZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlcjtcbiAgICB9ID0ge307XG4gICAgT2JqZWN0LmtleXMoY29udGFpbmVycykuZm9yRWFjaCgobikgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IG4gYXMgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uO1xuICAgICAgY29uc3QgbWluU2l6ZSA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGJveEluc3RhbmNlc1tuYW1lXS5zdHlsZVtpc0hvcml6b250YWwgPyBcIm1pbi13aWR0aFwiIDogXCJtaW4taGVpZ2h0XCJdLFxuICAgICAgICBkaW1lbnNpb25zLmV4dGVudCxcbiAgICAgICk7XG4gICAgICBpZiAobWluU2l6ZSkge1xuICAgICAgICBjb25zdCBldmFsdWF0ZWRNaW5TaXplID0gbWluU2l6ZS5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXI7XG4gICAgICAgIGlmIChzaXplc1tuYW1lXSA8IGV2YWx1YXRlZE1pblNpemUpIHtcbiAgICAgICAgICBjb25zdCBwID0gKGJveFBhcmFtc1tuYW1lXSA9IG5ldyBGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbShcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbbmFtZV0sXG4gICAgICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGUsXG4gICAgICAgICAgICBpc0hvcml6b250YWwsXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgICAgIGV2YWx1YXRlZE1pblNpemUsXG4gICAgICAgICAgKSk7XG4gICAgICAgICAgbWluT3V0ZXJTaXplc1tuYW1lXSA9IHAuZ2V0T3V0ZXJTaXplKCk7XG4gICAgICAgICAgbmVlZFJlY2FsY3VsYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChuZWVkUmVjYWxjdWxhdGUpIHtcbiAgICAgIHNpemVzID0gdGhpcy5nZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICBib3hQYXJhbXMsXG4gICAgICAgIGV2YWx1YXRlZERpbS5leHRlbnQsXG4gICAgICApO1xuICAgICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBzaXplc1tuYW1lXSA9IG1pbk91dGVyU2l6ZXNbbmFtZV0gfHwgc2l6ZXNbbmFtZV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBzZXQgc2l6ZXNcbiAgICBjb25zdCBlbmRFZGdlID0gZXZhbHVhdGVkRGltLnN0YXJ0ICsgZXZhbHVhdGVkRGltLmV4dGVudDtcbiAgICBjb25zdCBzdGFydEVuZFN1bSA9XG4gICAgICBldmFsdWF0ZWREaW0uc3RhcnQgKyAoZXZhbHVhdGVkRGltLnN0YXJ0ICsgZXZhbHVhdGVkRGltLmV4dGVudCk7XG4gICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgY29uc3Qgb3V0ZXJTaXplID0gc2l6ZXNbbmFtZV07XG4gICAgICBpZiAob3V0ZXJTaXplKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbbmFtZV07XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICBjYXNlIFNUQVJUOlxuICAgICAgICAgICAgb2Zmc2V0ID0gaXNIb3Jpem9udGFsID8gY29udGFpbmVyLmxlZnQgOiBjb250YWluZXIudG9wO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDRU5URVI6XG4gICAgICAgICAgICBvZmZzZXQgPSAoc3RhcnRFbmRTdW0gLSBvdXRlclNpemUpIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kRWRnZSAtIG91dGVyU2l6ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgb3V0ZXJTaXplIC0gY29udGFpbmVyLmdldEluc2V0TGVmdCgpIC0gY29udGFpbmVyLmdldEluc2V0UmlnaHQoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhaW5lci5zZXRWZXJ0aWNhbFBvc2l0aW9uKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgb3V0ZXJTaXplIC0gY29udGFpbmVyLmdldEluc2V0VG9wKCkgLSBjb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgYm94UGFyYW1zOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBNYXJnaW5Cb3hTaXppbmdQYXJhbTtcbiAgICB9LFxuICAgIGF2YWlsYWJsZVNpemU6IG51bWJlcixcbiAgKTogeyBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXIgfSB7XG4gICAgY29uc3Qgc3RhcnRCb3hQYXJhbSA9XG4gICAgICBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXTtcbiAgICBjb25zdCBjZW50ZXJCb3hQYXJhbSA9XG4gICAgICBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUl07XG4gICAgY29uc3QgZW5kQm94UGFyYW0gPSBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORF07XG4gICAgY29uc3Qgc2l6ZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlcjtcbiAgICB9ID0ge307XG4gICAgaWYgKCFjZW50ZXJCb3hQYXJhbSkge1xuICAgICAgY29uc3Qgc3RhcnRFbmRTaXplcyA9IHRoaXMuZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyhcbiAgICAgICAgc3RhcnRCb3hQYXJhbSxcbiAgICAgICAgZW5kQm94UGFyYW0sXG4gICAgICAgIGF2YWlsYWJsZVNpemUsXG4gICAgICApO1xuICAgICAgaWYgKHN0YXJ0RW5kU2l6ZXMueFNpemUpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXSA9XG4gICAgICAgICAgc3RhcnRFbmRTaXplcy54U2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydEVuZFNpemVzLnlTaXplKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkRdID1cbiAgICAgICAgICBzdGFydEVuZFNpemVzLnlTaXplO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbc3RhcnRCb3hQYXJhbSwgZW5kQm94UGFyYW1dLmZpbHRlcigocCkgPT4gcCk7XG4gICAgICBjb25zdCBzdGFydEVuZEJveFBhcmFtID0gcGFyYW1zLmxlbmd0aFxuICAgICAgICA/IG5ldyBNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0ocGFyYW1zKVxuICAgICAgICA6IG51bGw7XG4gICAgICBjb25zdCBjZW50ZXJTaXplcyA9IHRoaXMuZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyhcbiAgICAgICAgY2VudGVyQm94UGFyYW0sXG4gICAgICAgIHN0YXJ0RW5kQm94UGFyYW0sXG4gICAgICAgIGF2YWlsYWJsZVNpemUsXG4gICAgICApO1xuICAgICAgaWYgKGNlbnRlclNpemVzLnhTaXplKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVJdID1cbiAgICAgICAgICBjZW50ZXJTaXplcy54U2l6ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbnRlclNpemUgPSBjZW50ZXJTaXplcy54U2l6ZSB8fCBjZW50ZXJCb3hQYXJhbS5nZXRPdXRlclNpemUoKTtcbiAgICAgIGNvbnN0IHN0YXJ0RW5kQXV0b1NpemUgPSAoYXZhaWxhYmxlU2l6ZSAtIGNlbnRlclNpemUpIC8gMjtcbiAgICAgIGlmIChzdGFydEJveFBhcmFtICYmIHN0YXJ0Qm94UGFyYW0uaGFzQXV0b1NpemUoKSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRdID0gc3RhcnRFbmRBdXRvU2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmRCb3hQYXJhbSAmJiBlbmRCb3hQYXJhbS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkRdID0gc3RhcnRFbmRBdXRvU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemVzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3RyaWJ1dGUgYXV0byBtYXJnaW4gc2l6ZXMgYW1vbmcgdHdvIG1hcmdpbiBib3hlcyB1c2luZyBhbiBhbGdvcml0aG1cbiAgICogc3BlY2lmaWVkIGluIENTUyBQYWdlZCBNZWRpYSBzcGVjLlxuICAgKiBAcGFyYW0geCBQYXJhbWV0ZXIgZm9yIHRoZSBmaXJzdCBtYXJnaW4gYm94LiBudWxsIGlmIHRoZSBib3ggaXMgbm90XG4gICAqICAgICBnZW5lcmF0ZWQuXG4gICAqIEBwYXJhbSB5IFBhcmFtZXRlciBmb3IgdGhlIHNlY29uZCBtYXJnaW4gYm94LiBudWxsIGlmIHRoZSBib3ggaXMgbm90XG4gICAqICAgICBnZW5lcmF0ZWQuXG4gICAqIEBwYXJhbSBhdmFpbGFibGVTaXplIEF2YWlsYWJsZSBzaXplIGZvciB0aGUgbWFyZ2luIGJveGVzLlxuICAgKiBAcmV0dXJucyBEZXRlcm1pbmVkIHNpemVzIGZvciB0aGUgdHdvIGJveGVzLiBFYWNoIHZhbHVlIGlzIHByZXNlbnQgb25seVxuICAgKiAgICAgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBib3ggaXMgJ2F1dG8nLlxuICAgKi9cbiAgcHJpdmF0ZSBkaXN0cmlidXRlQXV0b01hcmdpbkJveFNpemVzKFxuICAgIHg6IE1hcmdpbkJveFNpemluZ1BhcmFtLFxuICAgIHk6IE1hcmdpbkJveFNpemluZ1BhcmFtLFxuICAgIGF2YWlsYWJsZVNpemU6IG51bWJlcixcbiAgKTogeyB4U2l6ZTogbnVtYmVyIHwgbnVsbDsgeVNpemU6IG51bWJlciB8IG51bGwgfSB7XG4gICAgY29uc3QgcmVzdWx0OiB7IHhTaXplOiBudW1iZXIgfCBudWxsOyB5U2l6ZTogbnVtYmVyIHwgbnVsbCB9ID0ge1xuICAgICAgeFNpemU6IG51bGwsXG4gICAgICB5U2l6ZTogbnVsbCxcbiAgICB9O1xuICAgIGlmICh4ICYmIHkpIHtcbiAgICAgIGlmICh4Lmhhc0F1dG9TaXplKCkgJiYgeS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIGNvbnN0IHhPdXRlck1heENvbnRlbnRTaXplID0geC5nZXRPdXRlck1heENvbnRlbnRTaXplKCk7XG4gICAgICAgIGNvbnN0IHlPdXRlck1heENvbnRlbnRTaXplID0geS5nZXRPdXRlck1heENvbnRlbnRTaXplKCk7XG4gICAgICAgIGlmICh4T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDAgJiYgeU91dGVyTWF4Q29udGVudFNpemUgPiAwKSB7XG4gICAgICAgICAgY29uc3QgbWF4Q29udGVudFNpemVTdW0gPSB4T3V0ZXJNYXhDb250ZW50U2l6ZSArIHlPdXRlck1heENvbnRlbnRTaXplO1xuICAgICAgICAgIGlmIChtYXhDb250ZW50U2l6ZVN1bSA8IGF2YWlsYWJsZVNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdC54U2l6ZSA9XG4gICAgICAgICAgICAgIChhdmFpbGFibGVTaXplICogeE91dGVyTWF4Q29udGVudFNpemUpIC8gbWF4Q29udGVudFNpemVTdW07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHhPdXRlck1pbkNvbnRlbnRTaXplID0geC5nZXRPdXRlck1pbkNvbnRlbnRTaXplKCk7XG4gICAgICAgICAgICBjb25zdCB5T3V0ZXJNaW5Db250ZW50U2l6ZSA9IHkuZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgbWluQ29udGVudFNpemVTdW0gPVxuICAgICAgICAgICAgICB4T3V0ZXJNaW5Db250ZW50U2l6ZSArIHlPdXRlck1pbkNvbnRlbnRTaXplO1xuICAgICAgICAgICAgaWYgKG1pbkNvbnRlbnRTaXplU3VtIDwgYXZhaWxhYmxlU2l6ZSkge1xuICAgICAgICAgICAgICByZXN1bHQueFNpemUgPVxuICAgICAgICAgICAgICAgIHhPdXRlck1pbkNvbnRlbnRTaXplICtcbiAgICAgICAgICAgICAgICAoKGF2YWlsYWJsZVNpemUgLSBtaW5Db250ZW50U2l6ZVN1bSkgKlxuICAgICAgICAgICAgICAgICAgKHhPdXRlck1heENvbnRlbnRTaXplIC0geE91dGVyTWluQ29udGVudFNpemUpKSAvXG4gICAgICAgICAgICAgICAgICAobWF4Q29udGVudFNpemVTdW0gLSBtaW5Db250ZW50U2l6ZVN1bSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkNvbnRlbnRTaXplU3VtID4gMCkge1xuICAgICAgICAgICAgICByZXN1bHQueFNpemUgPVxuICAgICAgICAgICAgICAgIChhdmFpbGFibGVTaXplICogeE91dGVyTWluQ29udGVudFNpemUpIC8gbWluQ29udGVudFNpemVTdW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQueFNpemUgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQueVNpemUgPSBhdmFpbGFibGVTaXplIC0gcmVzdWx0LnhTaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh4T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDApIHtcbiAgICAgICAgICByZXN1bHQueFNpemUgPSBhdmFpbGFibGVTaXplO1xuICAgICAgICB9IGVsc2UgaWYgKHlPdXRlck1heENvbnRlbnRTaXplID4gMCkge1xuICAgICAgICAgIHJlc3VsdC55U2l6ZSA9IGF2YWlsYWJsZVNpemU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeC5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC54U2l6ZSA9IE1hdGgubWF4KGF2YWlsYWJsZVNpemUgLSB5LmdldE91dGVyU2l6ZSgpLCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoeS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC55U2l6ZSA9IE1hdGgubWF4KGF2YWlsYWJsZVNpemUgLSB4LmdldE91dGVyU2l6ZSgpLCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHgpIHtcbiAgICAgIGlmICh4Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnhTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHkpIHtcbiAgICAgIGlmICh5Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnlTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcblxuICAgIC8vIEFkZCBhbiBhdHRyaWJ1dGUgdG8gdGhlIGVsZW1lbnQgc28gdGhhdCBpdCBjYW4gYmUgcmVmZXJlZCBmcm9tIGV4dGVybmFsXG4gICAgLy8gc3R5bGUgc2hlZXRzLlxuICAgIGNvbnRhaW5lci5lbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcGFnZS1ib3hcIiwgdHJ1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgdXNlZCBmb3IgcGFyYW1ldGVycyBwYXNzZWQgdG8gZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyBtZXRob2QuXG4gKi9cbmludGVyZmFjZSBNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW47XG5cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXI7XG5cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXI7XG5cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNYXJnaW5Cb3hTaXppbmdQYXJhbSBmb3IgYSBzaW5nbGUgcGFnZS1tYXJnaW4gYm94LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIGNvbnRhaW5lciBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqIEBwYXJhbSBzdHlsZSBTdHlsZXMgc3BlY2lmaWVkIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqL1xuY2xhc3MgU2luZ2xlQm94TWFyZ2luQm94U2l6aW5nUGFyYW0gaW1wbGVtZW50cyBNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIHByaXZhdGUgaGFzQXV0b1NpemVfOiBib29sZWFuO1xuICBwcml2YXRlIHNpemU6IHsgW2tleSBpbiBTaXppbmcuU2l6ZV06IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaXNIb3Jpem9udGFsOiBib29sZWFuLFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7XG4gICAgdGhpcy5oYXNBdXRvU2l6ZV8gPSAhUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtpc0hvcml6b250YWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiXSxcbiAgICAgIG5ldyBFeHBycy5OdW1lcmljKHNjb3BlLCAwLCBcInB4XCIpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQXV0b1NpemVfO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTaXplKCk6IHsgW2tleSBpbiBTaXppbmcuU2l6ZV06IG51bWJlciB9IHtcbiAgICBpZiAoIXRoaXMuc2l6ZSkge1xuICAgICAgY29uc3Qgc2l6ZXMgPSB0aGlzLmlzSG9yaXpvbnRhbFxuICAgICAgICA/IFtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9XSURUSCwgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfV0lEVEhdXG4gICAgICAgIDogW1NpemluZy5TaXplLk1BWF9DT05URU5UX0hFSUdIVCwgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSEVJR0hUXTtcbiAgICAgIHRoaXMuc2l6ZSA9IFNpemluZy5nZXRTaXplKFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgdGhpcy5jb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgc2l6ZXMsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9XSURUSF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICBzaXplW1NpemluZy5TaXplLk1BWF9DT05URU5UX0hFSUdIVF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWluQ29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHNpemVbU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfV0lEVEhdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9IRUlHSFRdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlclNpemUoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgdGhpcy5jb250YWluZXIud2lkdGggK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5oZWlnaHQgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1hcmdpbkJveFNpemluZ1BhcmFtIHdpdGggd2hpY2ggbXVsdGlwbGUgbWFyZ2luIGJveGVzIGFyZSB0cmVhdGVkIGFzIG9uZVxuICogbWFyZ2luIGJveC4gRWFjaCBtZXRob2QgcXVlcnlpbmcgYSBkaW1lbnNpb24gcmV0dXJucyB0aGUgbWF4aW11bSBvZiB0aGUgYm94ZXNcbiAqIG11bHRpcGxpZWQgYnkgdGhlIG51bWJlciBvZiB0aGUgYm94ZXMuXG4gKiBAcGFyYW0gcGFyYW1zIE1hcmdpbkJveFNpemluZ1BhcmFtJ3Mgb2YgdGhlIHRhcmdldCBtYXJnaW4gYm94ZXMuXG4gKi9cbmNsYXNzIE11bHRpcGxlQm94ZXNNYXJnaW5Cb3hTaXppbmdQYXJhbSBpbXBsZW1lbnRzIE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwYXJhbXM6IE1hcmdpbkJveFNpemluZ1BhcmFtW10pIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLnNvbWUoKHApID0+IHAuaGFzQXV0b1NpemUoKSk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemVzID0gdGhpcy5wYXJhbXMubWFwKChwKSA9PiBwLmdldE91dGVyTWF4Q29udGVudFNpemUoKSk7XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHNpemVzKSAqIHNpemVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1pbkNvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnBhcmFtcy5tYXAoKHApID0+IHAuZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpKTtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc2l6ZXMpICogc2l6ZXMubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyU2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemVzID0gdGhpcy5wYXJhbXMubWFwKChwKSA9PiBwLmdldE91dGVyU2l6ZSgpKTtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc2l6ZXMpICogc2l6ZXMubGVuZ3RoO1xuICB9XG59XG5cbi8qKlxuICogTWFyZ2luQm94U2l6aW5nUGFyYW0gZm9yIGEgc2luZ2xlIHBhZ2UtbWFyZ2luIGJveCB3aXRoIGEgZml4ZWQgc2l6ZSBhbG9uZyB0aGVcbiAqIHZhcmlhYmxlIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBjb250YWluZXIgY29ycmVzcG9uZGluZyB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKiBAcGFyYW0gc3R5bGUgU3R5bGVzIHNwZWNpZmllZCB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKiBAcGFyYW0gc2l6ZSBUaGUgZml4ZWQgc2l6ZSAod2lkdGggb3IgaGVpZ2h0KSBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uLlxuICovXG5jbGFzcyBGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbSBleHRlbmRzIFNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgcHJpdmF0ZSBmaXhlZFNpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgaXNIb3Jpem9udGFsOiBib29sZWFuLFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgc2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihjb250YWluZXIsIHN0eWxlLCBpc0hvcml6b250YWwsIHNjb3BlLCBjbGllbnRMYXlvdXQpO1xuICAgIHRoaXMuZml4ZWRTaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1heENvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3V0ZXJTaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldE91dGVyU2l6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHRoaXMuZml4ZWRTaXplICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgdGhpcy5maXhlZFNpemUgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2U8XG4gIFBhZ2VSdWxlUGFydGl0aW9uXG4+IHtcbiAgYm9yZGVyQm94V2lkdGg6IEV4cHJzLlZhbCA9IG51bGw7XG4gIGJvcmRlckJveEhlaWdodDogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luVG9wOiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5SaWdodDogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luQm90dG9tOiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5MZWZ0OiBFeHBycy5WYWwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwYWdlUnVsZVBhcnRpdGlvbjogUGFnZVJ1bGVQYXJ0aXRpb24sXG4gICkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlUnVsZVBhcnRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUNhc2NhZGVBbmRJbml0KFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jYXNjYWRlZDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZG9jRWxlbWVudFN0eWxlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0VsZW1lbnRTdHlsZSwgbmFtZSkpIHtcbiAgICAgICAgaWYgKG5hbWUubWF0Y2goL15jb2x1bW4uKiQvKSB8fCBuYW1lLm1hdGNoKC9eYmFja2dyb3VuZC0vKSkge1xuICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLmFwcGx5Q2FzY2FkZUFuZEluaXQoY2FzY2FkZSwgZG9jRWxlbWVudFN0eWxlKTtcbiAgICBjb25zdCBwYWdlUnVsZU1hc3Rlckluc3RhbmNlID0gdGhpc1xuICAgICAgLnBhcmVudEluc3RhbmNlIGFzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2U7XG4gICAgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZS5zZXRQYWdlQXJlYURpbWVuc2lvbih7XG4gICAgICBib3JkZXJCb3hXaWR0aDogdGhpcy5ib3JkZXJCb3hXaWR0aCxcbiAgICAgIGJvcmRlckJveEhlaWdodDogdGhpcy5ib3JkZXJCb3hIZWlnaHQsXG4gICAgICBtYXJnaW5Ub3A6IHRoaXMubWFyZ2luVG9wLFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoaXMubWFyZ2luUmlnaHQsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoaXMubWFyZ2luQm90dG9tLFxuICAgICAgbWFyZ2luTGVmdDogdGhpcy5tYXJnaW5MZWZ0LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgZGltID0gdGhpcy5yZXNvbHZlUGFnZUJveERpbWVuc2lvbnMoe1xuICAgICAgc3RhcnQ6IFwibGVmdFwiLFxuICAgICAgZW5kOiBcInJpZ2h0XCIsXG4gICAgICBleHRlbnQ6IFwid2lkdGhcIixcbiAgICB9KTtcbiAgICB0aGlzLmJvcmRlckJveFdpZHRoID0gZGltLmJvcmRlckJveEV4dGVudDtcbiAgICB0aGlzLm1hcmdpbkxlZnQgPSBkaW0ubWFyZ2luU3RhcnQ7XG4gICAgdGhpcy5tYXJnaW5SaWdodCA9IGRpbS5tYXJnaW5FbmQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3QgZGltID0gdGhpcy5yZXNvbHZlUGFnZUJveERpbWVuc2lvbnMoe1xuICAgICAgc3RhcnQ6IFwidG9wXCIsXG4gICAgICBlbmQ6IFwiYm90dG9tXCIsXG4gICAgICBleHRlbnQ6IFwiaGVpZ2h0XCIsXG4gICAgfSk7XG4gICAgdGhpcy5ib3JkZXJCb3hIZWlnaHQgPSBkaW0uYm9yZGVyQm94RXh0ZW50O1xuICAgIHRoaXMubWFyZ2luVG9wID0gZGltLm1hcmdpblN0YXJ0O1xuICAgIHRoaXMubWFyZ2luQm90dG9tID0gZGltLm1hcmdpbkVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGFnZSBkaW1lbnNpb25zIGFzIHNwZWNpZmllZCBpbiBDU1MgUGFnZWQgTWVkaWFcbiAgICogKGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1wYWdlLyNwYWdlLW1vZGVsKSBQYWdlIGJvcmRlciBib3ggZXh0ZW50IGFuZFxuICAgKiBtYXJnaW5zLiBTaW5jZSB0aGUgY29udGFpbmluZyBibG9jayBjYW4gYmUgcmVzaXplZCBpbiB0aGUgb3Zlci1jb25zdHJhaW5lZFxuICAgKiBjYXNlLCB0aGUgc3VtIG9mIHRoZXNlIHZhbHVlcyBpcyBub3QgbmVjZXNzYXJpbHkgc2FtZSB0byB0aGUgb3JpZ2luYWwgcGFnZVxuICAgKiBkaW1lbnNpb24gc3BlY2lmaWVkIGluIHRoZSBwYWdlIGF0LXJ1bGVzLlxuICAgKi9cbiAgcHJpdmF0ZSByZXNvbHZlUGFnZUJveERpbWVuc2lvbnMobmFtZXM6IHtcbiAgICBzdGFydDogc3RyaW5nO1xuICAgIGVuZDogc3RyaW5nO1xuICAgIGV4dGVudDogc3RyaW5nO1xuICB9KToge1xuICAgIGJvcmRlckJveEV4dGVudDogRXhwcnMuVmFsO1xuICAgIG1hcmdpblN0YXJ0OiBFeHBycy5WYWw7XG4gICAgbWFyZ2luRW5kOiBFeHBycy5WYWw7XG4gIH0ge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBwYWdlU2l6ZSA9IHRoaXMucGFnZUJveC5wYWdlU2l6ZTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdGFydFNpZGUgPSBuYW1lcy5zdGFydDtcbiAgICBjb25zdCBlbmRTaWRlID0gbmFtZXMuZW5kO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgcGFnZUV4dGVudCA9IHBhZ2VTaXplW2V4dGVudE5hbWVdLnRvRXhwcihzY29wZSwgbnVsbCk7XG4gICAgbGV0IGV4dGVudCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhzY29wZSwgc3R5bGVbZXh0ZW50TmFtZV0sIHBhZ2VFeHRlbnQpO1xuICAgIGxldCBtYXJnaW5TdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke3N0YXJ0U2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBsZXQgbWFyZ2luRW5kID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7ZW5kU2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nU3RhcnQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdFbmQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7ZW5kU2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJTdGFydFdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS13aWR0aGBdLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJFbmRXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBsZXQgcmVtYWlucyA9IEV4cHJzLnN1YihcbiAgICAgIHNjb3BlLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm9yZGVyU3RhcnRXaWR0aCwgcGFkZGluZ1N0YXJ0KSxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJFbmRXaWR0aCwgcGFkZGluZ0VuZCksXG4gICAgICApLFxuICAgICk7XG5cbiAgICAvLyBUaGUgZGltZW5zaW9ucyBhcmUgY2FsY3VsYXRlZCBhcyBmb3IgYSBub24tcmVwbGFjZWQgYmxvY2sgZWxlbWVudCBpblxuICAgIC8vIG5vcm1hbCBmbG93IChodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS92aXN1ZGV0Lmh0bWwjYmxvY2t3aWR0aClcbiAgICBpZiAoIWV4dGVudCkge1xuICAgICAgaWYgKCFtYXJnaW5TdGFydCkge1xuICAgICAgICBtYXJnaW5TdGFydCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIW1hcmdpbkVuZCkge1xuICAgICAgICBtYXJnaW5FbmQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgZXh0ZW50ID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcmVtYWlucyxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5TdGFydCwgbWFyZ2luRW5kKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbWFpbnMgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIGV4dGVudCk7XG4gICAgICBpZiAoIW1hcmdpblN0YXJ0ICYmICFtYXJnaW5FbmQpIHtcbiAgICAgICAgbWFyZ2luU3RhcnQgPSBFeHBycy5tdWwoc2NvcGUsIHJlbWFpbnMsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMC41KSk7XG4gICAgICAgIG1hcmdpbkVuZCA9IG1hcmdpblN0YXJ0O1xuICAgICAgfSBlbHNlIGlmIChtYXJnaW5TdGFydCkge1xuICAgICAgICBtYXJnaW5FbmQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIG1hcmdpblN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmdpblN0YXJ0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBtYXJnaW5FbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gb3Zlci1jb25zdHJhaW5lZCBjYXNlXG4gICAgLy8gXCJpZiB0aGUgdmFsdWVzIGFyZSBvdmVyLWNvbnN0cmFpbmVkLCBpbnN0ZWFkIG9mIGlnbm9yaW5nIGFueSBtYXJnaW5zLCB0aGVcbiAgICAvLyBjb250YWluaW5nIGJsb2NrIGlzIHJlc2l6ZWQgdG8gY29pbmNpZGUgd2l0aCB0aGUgbWFyZ2luIGVkZ2VzIG9mIHRoZSBwYWdlXG4gICAgLy8gYm94LlwiIChDU1MgUGFnZWQgTWVkaWEgaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXBhZ2UvI3BhZ2UtbW9kZWwpXG4gICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5TdGFydCk7XG4gICAgc3R5bGVbZW5kU2lkZV0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luRW5kKTtcbiAgICBzdHlsZVtgbWFyZ2luLSR7c3RhcnRTaWRlfWBdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtlbmRTaWRlfWBdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdID0gbmV3IENzcy5FeHByKHBhZGRpbmdTdGFydCk7XG4gICAgc3R5bGVbYHBhZGRpbmctJHtlbmRTaWRlfWBdID0gbmV3IENzcy5FeHByKHBhZGRpbmdFbmQpO1xuICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXdpZHRoYF0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyU3RhcnRXaWR0aCk7XG4gICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXdpZHRoYF0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyRW5kV2lkdGgpO1xuICAgIHN0eWxlW2V4dGVudE5hbWVdID0gbmV3IENzcy5FeHByKGV4dGVudCk7XG4gICAgc3R5bGVbYG1heC0ke2V4dGVudE5hbWV9YF0gPSBuZXcgQ3NzLkV4cHIoZXh0ZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgYm9yZGVyQm94RXh0ZW50OiBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYWdlRXh0ZW50LFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblN0YXJ0LCBtYXJnaW5FbmQpLFxuICAgICAgKSxcbiAgICAgIG1hcmdpblN0YXJ0LFxuICAgICAgbWFyZ2luRW5kLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5wcmVwYXJlQ29udGFpbmVyKGNvbnRleHQsIGNvbnRhaW5lciwgcGFnZSwgZG9jRmFjZXMsIGNsaWVudExheW91dCk7XG4gICAgcGFnZS5wYWdlQXJlYUVsZW1lbnQgPSBjb250YWluZXIuZWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAgIC8vIFNldCBwYWdlIGFyZWEgc2l6ZSBmb3IgdncvdmggdW5pdCBjYWxjdWxhdGlvblxuICAgIGNvbnRleHQucGFnZUFyZWFXaWR0aCA9IHBhcnNlRmxvYXQocGFnZS5wYWdlQXJlYUVsZW1lbnQuc3R5bGUud2lkdGgpO1xuICAgIGNvbnRleHQucGFnZUFyZWFIZWlnaHQgPSBwYXJzZUZsb2F0KHBhZ2UucGFnZUFyZWFFbGVtZW50LnN0eWxlLmhlaWdodCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2U8XG4gIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25cbj4ge1xuICBib3hJbmZvOiBQYWdlTWFyZ2luQm94SW5mb3JtYXRpb247XG4gIHN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFnZU1hcmdpbkJveFBhcnRpdGlvbjogUGFnZU1hcmdpbkJveFBhcnRpdGlvbixcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24pO1xuICAgIGNvbnN0IG5hbWUgPSBwYWdlTWFyZ2luQm94UGFydGl0aW9uLm1hcmdpbkJveE5hbWU7XG4gICAgdGhpcy5ib3hJbmZvID0gcGFnZU1hcmdpbkJveGVzW25hbWVdO1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSBwYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UucGFnZU1hcmdpbkJveEluc3RhbmNlc1tuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmFwcGx5VmVydGljYWxBbGlnbihjb250ZXh0LCBjb250YWluZXIuZWxlbWVudCk7XG4gICAgc3VwZXIucHJlcGFyZUNvbnRhaW5lcihjb250ZXh0LCBjb250YWluZXIsIHBhZ2UsIGRvY0ZhY2VzLCBjbGllbnRMYXlvdXQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseVZlcnRpY2FsQWxpZ24oY29udGV4dDogRXhwcnMuQ29udGV4dCwgZWxlbWVudDogRWxlbWVudCkge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiZmxleFwiKTtcbiAgICBjb25zdCB2ZXJ0aWNhbEFsaWduOiBDc3MuVmFsID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIFwidmVydGljYWwtYWxpZ25cIik7XG4gICAgbGV0IGZsZXhBbGlnbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHZlcnRpY2FsQWxpZ24gPT09IENzcy5nZXROYW1lKFwibWlkZGxlXCIpKSB7XG4gICAgICBmbGV4QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIH0gZWxzZSBpZiAodmVydGljYWxBbGlnbiA9PT0gQ3NzLmdldE5hbWUoXCJ0b3BcIikpIHtcbiAgICAgIGZsZXhBbGlnbiA9IFwiZmxleC1zdGFydFwiO1xuICAgIH0gZWxzZSBpZiAodmVydGljYWxBbGlnbiA9PT0gQ3NzLmdldE5hbWUoXCJib3R0b21cIikpIHtcbiAgICAgIGZsZXhBbGlnbiA9IFwiZmxleC1lbmRcIjtcbiAgICB9XG4gICAgaWYgKGZsZXhBbGlnbikge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXCJmbGV4LWZsb3dcIixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA/IFwicm93XCIgOiBcImNvbHVtblwiLFxuICAgICAgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJqdXN0aWZ5LWNvbnRlbnRcIiwgZmxleEFsaWduKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHBhZ2UtbWFyZ2luIGJveGVzIHBvc2l0aW9ucyBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uIG9mIHRoZVxuICAgKiBwYWdlLiBGb3IgQ0VOVEVSIGFuZCBFTkQgbWFyZ2luIGJveGVzLCB0aGUgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBvbmx5IGlmXG4gICAqIHRoZSBkaW1lbnNpb24gKHdpZHRoIG9yIGhlaWdodCkgaXMgbm9uLWF1dG8sIHNvIHRoYXQgaXQgY2FuIGJlIHJlc29sdmVkIGF0XG4gICAqIHRoaXMgcG9pbnQuIElmIHRoZSBkaW1lbnNpb24gaXMgYXV0bywgdGhlIGNhbGN1bGF0aW9uIGlzIGRlZmZlcmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgbmFtZXM6IHsgc3RhcnQ6IHN0cmluZzsgZW5kOiBzdHJpbmc7IGV4dGVudDogc3RyaW5nIH0sXG4gICAgZGltOiBQYWdlQXJlYURpbWVuc2lvbiB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdGFydFNpZGUgPSBuYW1lcy5zdGFydDtcbiAgICBjb25zdCBlbmRTaWRlID0gbmFtZXMuZW5kO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gc3RhcnRTaWRlID09PSBcImxlZnRcIjtcbiAgICBjb25zdCBhdmFpbGFibGVFeHRlbnQgPSBpc0hvcml6b250YWxcbiAgICAgID8gZGltLmJvcmRlckJveFdpZHRoXG4gICAgICA6IGRpbS5ib3JkZXJCb3hIZWlnaHQ7XG4gICAgY29uc3QgZXh0ZW50ID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtleHRlbnROYW1lXSxcbiAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gaXNIb3Jpem9udGFsID8gZGltLm1hcmdpbkxlZnQgOiBkaW0ubWFyZ2luVG9wO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24gPT09XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRcbiAgICApIHtcbiAgICAgIHN0eWxlW3N0YXJ0U2lkZV0gPSBuZXcgQ3NzLkV4cHIoc3RhcnRPZmZzZXQpO1xuICAgIH0gZWxzZSBpZiAoZXh0ZW50KSB7XG4gICAgICBjb25zdCBtYXJnaW5TdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BtYXJnaW4tJHtzdGFydFNpZGV9YF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBtYXJnaW5FbmQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgbWFyZ2luLSR7ZW5kU2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdTdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgcGFkZGluZ0VuZCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BwYWRkaW5nLSR7ZW5kU2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJvcmRlclN0YXJ0V2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS13aWR0aGBdLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS1zdHlsZWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgYm9yZGVyRW5kV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0td2lkdGhgXSxcbiAgICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXN0eWxlYF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBvdXRlckV4dGVudCA9IEV4cHJzLmFkZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGV4dGVudCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgcGFkZGluZ1N0YXJ0LCBwYWRkaW5nRW5kKSxcbiAgICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm9yZGVyU3RhcnRXaWR0aCwgYm9yZGVyRW5kV2lkdGgpLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5TdGFydCwgbWFyZ2luRW5kKSxcbiAgICAgICAgICApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHN3aXRjaCAodGhpcy5ib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbikge1xuICAgICAgICBjYXNlIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVI6XG4gICAgICAgICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICBFeHBycy5kaXYoXG4gICAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgICAgRXhwcnMuc3ViKHNjb3BlLCBhdmFpbGFibGVFeHRlbnQsIG91dGVyRXh0ZW50KSxcbiAgICAgICAgICAgICAgICBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDIpLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQ6XG4gICAgICAgICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgICAgIEV4cHJzLnN1YihcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgc3RhcnRPZmZzZXQsIGF2YWlsYWJsZUV4dGVudCksXG4gICAgICAgICAgICAgIG91dGVyRXh0ZW50LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGFnZS1tYXJnaW4gYm94ZXMgcG9zaXRpb25zIGFsb25nIHRoZSBmaXhlZCBkaW1lbnNpb24gb2YgdGhlXG4gICAqIHBhZ2UuXG4gICAqL1xuICBwcml2YXRlIHBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgbmFtZXM6IHsgaW5zaWRlOiBzdHJpbmc7IG91dHNpZGU6IHN0cmluZzsgZXh0ZW50OiBzdHJpbmcgfSxcbiAgICBkaW06IFBhZ2VBcmVhRGltZW5zaW9uIHwgbnVsbCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IGluc2lkZU5hbWUgPSBuYW1lcy5pbnNpZGU7XG4gICAgY29uc3Qgb3V0c2lkZU5hbWUgPSBuYW1lcy5vdXRzaWRlO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgcGFnZU1hcmdpbiA9XG4gICAgICBkaW1bXG4gICAgICAgIGBtYXJnaW4ke291dHNpZGVOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7b3V0c2lkZU5hbWUuc3Vic3RyaW5nKFxuICAgICAgICAgIDEsXG4gICAgICAgICl9YFxuICAgICAgXTtcbiAgICBjb25zdCBtYXJnaW5JbnNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7aW5zaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBtYXJnaW5PdXRzaWRlID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke291dHNpZGVOYW1lfWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdJbnNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7aW5zaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nT3V0c2lkZSA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYHBhZGRpbmctJHtvdXRzaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJJbnNpZGVXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2luc2lkZU5hbWV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7aW5zaWRlTmFtZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJPdXRzaWRlV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtvdXRzaWRlTmFtZX0td2lkdGhgXSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtvdXRzaWRlTmFtZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBleHRlbnQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW2V4dGVudE5hbWVdLCBwYWdlTWFyZ2luKTtcbiAgICBsZXQgcmVzdWx0OiB7XG4gICAgICBleHRlbnQ6IEV4cHJzLlJlc3VsdDtcbiAgICAgIG1hcmdpbkluc2lkZTogRXhwcnMuUmVzdWx0O1xuICAgICAgbWFyZ2luT3V0c2lkZTogRXhwcnMuUmVzdWx0O1xuICAgIH0gPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRWYWx1ZXMoXG4gICAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgICk6IHtcbiAgICAgIGV4dGVudDogRXhwcnMuUmVzdWx0IHwgbnVsbDtcbiAgICAgIG1hcmdpbkluc2lkZTogRXhwcnMuUmVzdWx0IHwgbnVsbDtcbiAgICAgIG1hcmdpbk91dHNpZGU6IEV4cHJzLlJlc3VsdCB8IG51bGw7XG4gICAgfSB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIGV4dGVudDogZXh0ZW50ID8gZXh0ZW50LmV2YWx1YXRlKGNvbnRleHQpIDogbnVsbCxcbiAgICAgICAgbWFyZ2luSW5zaWRlOiBtYXJnaW5JbnNpZGUgPyBtYXJnaW5JbnNpZGUuZXZhbHVhdGUoY29udGV4dCkgOiBudWxsLFxuICAgICAgICBtYXJnaW5PdXRzaWRlOiBtYXJnaW5PdXRzaWRlID8gbWFyZ2luT3V0c2lkZS5ldmFsdWF0ZShjb250ZXh0KSA6IG51bGwsXG4gICAgICB9O1xuICAgICAgY29uc3QgcGFnZU1hcmdpblZhbHVlID0gcGFnZU1hcmdpbi5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICAgIGxldCBib3JkZXJBbmRQYWRkaW5nID0gMDtcbiAgICAgIFtcbiAgICAgICAgYm9yZGVySW5zaWRlV2lkdGgsXG4gICAgICAgIHBhZGRpbmdJbnNpZGUsXG4gICAgICAgIHBhZGRpbmdPdXRzaWRlLFxuICAgICAgICBib3JkZXJPdXRzaWRlV2lkdGgsXG4gICAgICBdLmZvckVhY2goKHgpID0+IHtcbiAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nICs9IHguZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQubWFyZ2luSW5zaWRlID09PSBudWxsIHx8IHJlc3VsdC5tYXJnaW5PdXRzaWRlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsID1cbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nICtcbiAgICAgICAgICAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpICtcbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbkluc2lkZSBhcyBudW1iZXIpICtcbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbk91dHNpZGUgYXMgbnVtYmVyKTtcbiAgICAgICAgaWYgKHRvdGFsID4gcGFnZU1hcmdpblZhbHVlKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5tYXJnaW5JbnNpZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0Lm1hcmdpbk91dHNpZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlICE9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy8gb3Zlci1jb25zdHJhaW5lZFxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHJlc3VsdC5leHRlbnQgPT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSAhPT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdC5leHRlbnQgPVxuICAgICAgICAgIHBhZ2VNYXJnaW5WYWx1ZSAtXG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKSAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZXN1bHQuZXh0ZW50ICE9PSBudWxsICYmXG4gICAgICAgIChyZXN1bHQubWFyZ2luSW5zaWRlIGFzIG51bWJlcikgPT09IG51bGwgJiZcbiAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcikgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID1cbiAgICAgICAgICBwYWdlTWFyZ2luVmFsdWUgLVxuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgLVxuICAgICAgICAgIChyZXN1bHQuZXh0ZW50IGFzIG51bWJlcikgLVxuICAgICAgICAgIChyZXN1bHQubWFyZ2luT3V0c2lkZSBhcyBudW1iZXIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPVxuICAgICAgICAgIHBhZ2VNYXJnaW5WYWx1ZSAtXG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyAtXG4gICAgICAgICAgKHJlc3VsdC5leHRlbnQgYXMgbnVtYmVyKSAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmV4dGVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID0gcmVzdWx0Lm1hcmdpbk91dHNpZGUgPSAwO1xuICAgICAgICByZXN1bHQuZXh0ZW50ID0gcGFnZU1hcmdpblZhbHVlIC0gYm9yZGVyQW5kUGFkZGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPSByZXN1bHQubWFyZ2luT3V0c2lkZSA9XG4gICAgICAgICAgKHBhZ2VNYXJnaW5WYWx1ZSAtIGJvcmRlckFuZFBhZGRpbmcgLSAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpKSAvIDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdHlsZVtleHRlbnROYW1lXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDb21wdXRlZFZhbHVlcyh0aGlzKS5leHRlbnQ7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gMCA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBleHRlbnROYW1lLFxuICAgICAgKSxcbiAgICApO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtpbnNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbXB1dGVkVmFsdWVzKHRoaXMpLm1hcmdpbkluc2lkZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyAwIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGBtYXJnaW4tJHtpbnNpZGVOYW1lfWAsXG4gICAgICApLFxuICAgICk7XG4gICAgc3R5bGVbYG1hcmdpbi0ke291dHNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbXB1dGVkVmFsdWVzKHRoaXMpLm1hcmdpbk91dHNpZGU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gMCA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBgbWFyZ2luLSR7b3V0c2lkZU5hbWV9YCxcbiAgICAgICksXG4gICAgKTtcbiAgICBpZiAoaW5zaWRlTmFtZSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgIHN0eWxlW1wibGVmdFwiXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBkaW0ubWFyZ2luTGVmdCwgZGltLmJvcmRlckJveFdpZHRoKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpbnNpZGVOYW1lID09PSBcInRvcFwiKSB7XG4gICAgICBzdHlsZVtcInRvcFwiXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBkaW0ubWFyZ2luVG9wLCBkaW0uYm9yZGVyQm94SGVpZ2h0KSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSA9IHRoaXNcbiAgICAgIC5wYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIGNvbnN0IGRpbSA9IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UucGFnZUFyZWFEaW1lbnNpb247XG4gICAgaWYgKHRoaXMuYm94SW5mby5pc0luTGVmdENvbHVtbikge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJyaWdodFwiLCBvdXRzaWRlOiBcImxlZnRcIiwgZXh0ZW50OiBcIndpZHRoXCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYm94SW5mby5pc0luUmlnaHRDb2x1bW4pIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICAgICAgeyBpbnNpZGU6IFwibGVmdFwiLCBvdXRzaWRlOiBcInJpZ2h0XCIsIGV4dGVudDogXCJ3aWR0aFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICB7IHN0YXJ0OiBcImxlZnRcIiwgZW5kOiBcInJpZ2h0XCIsIGV4dGVudDogXCJ3aWR0aFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdFZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSB0aGlzXG4gICAgICAucGFyZW50SW5zdGFuY2UgYXMgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZTtcbiAgICBjb25zdCBkaW0gPSBwYWdlUnVsZU1hc3Rlckluc3RhbmNlLnBhZ2VBcmVhRGltZW5zaW9uO1xuICAgIGlmICh0aGlzLmJveEluZm8uaXNJblRvcFJvdykge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJib3R0b21cIiwgb3V0c2lkZTogXCJ0b3BcIiwgZXh0ZW50OiBcImhlaWdodFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJveEluZm8uaXNJbkJvdHRvbVJvdykge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJ0b3BcIiwgb3V0c2lkZTogXCJib3R0b21cIiwgZXh0ZW50OiBcImhlaWdodFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICB7IHN0YXJ0OiBcInRvcFwiLCBlbmQ6IFwiYm90dG9tXCIsIGV4dGVudDogXCJoZWlnaHRcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaENvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY29sdW1uOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5maW5pc2hDb250YWluZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFnZSxcbiAgICAgIGNvbHVtbixcbiAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgZG9jRmFjZXMsXG4gICAgKTtcblxuICAgIC8vIGZpbmlzaENvbnRhaW5lciBpcyBjYWxsZWQgb25seSB3aGVuIHRoZSBtYXJnaW4gYm94IGlzIGdlbmVyYXRlZC5cbiAgICAvLyBJbiB0aGlzIGNhc2UsIHN0b3JlIHRoZSBnZW5lcmF0ZWQgY29udGFpbmVyIGZvciB0aGUgbWFyZ2luIGJveCBpbiB0aGVcbiAgICAvLyBwYWdlIG9iamVjdC4gKGV4Y2VwdCB3aGVuIGl0IGlzIGEgY29ybmVyIG1hcmdpbiBib3gsIGJlY2F1c2Ugc2l6ZSBvZiBhXG4gICAgLy8gY29ybmVyIG1hcmdpbiBib3ggZG9lcyBub3QgbmVlZCB0byBiZSBhZGp1c3RlZCBhZnRlciB0aGUgbGF5b3V0KVxuICAgIGNvbnN0IG1hcmdpbkJveGVzID0gcGFnZS5tYXJnaW5Cb3hlcztcbiAgICBjb25zdCBuYW1lID0gKHRoaXMucGFnZUJveCBhcyBhbnkpLm1hcmdpbkJveE5hbWU7XG4gICAgY29uc3QgYm94SW5mbyA9IHRoaXMuYm94SW5mbztcbiAgICBpZiAoIWJveEluZm8uaXNJbkxlZnRDb2x1bW4gJiYgIWJveEluZm8uaXNJblJpZ2h0Q29sdW1uKSB7XG4gICAgICBpZiAoYm94SW5mby5pc0luVG9wUm93KSB7XG4gICAgICAgIG1hcmdpbkJveGVzLnRvcFtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAoYm94SW5mby5pc0luQm90dG9tUm93KSB7XG4gICAgICAgIG1hcmdpbkJveGVzLmJvdHRvbVtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFib3hJbmZvLmlzSW5Ub3BSb3cgJiYgIWJveEluZm8uaXNJbkJvdHRvbVJvdykge1xuICAgICAgaWYgKGJveEluZm8uaXNJbkxlZnRDb2x1bW4pIHtcbiAgICAgICAgbWFyZ2luQm94ZXMubGVmdFtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAoYm94SW5mby5pc0luUmlnaHRDb2x1bW4pIHtcbiAgICAgICAgbWFyZ2luQm94ZXMucmlnaHRbbmFtZV0gPSBjb250YWluZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRHluYW1pY2FsbHkgZ2VuZXJhdGUgYW5kIG1hbmFnZSBwYWdlIG1hc3RlcnMgY29ycmVzcG9uZGluZyB0byBwYWdlIGF0LXJ1bGVzLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hbmFnZXIge1xuICBwcml2YXRlIHBhZ2VNYXN0ZXJDYWNoZTogYW55ID0ge30gYXMge1xuICAgIFtrZXk6IHN0cmluZ106IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcm9vdFBhZ2VCb3hJbnN0YW5jZTogUGFnZU1hc3Rlci5Sb290UGFnZUJveEluc3RhbmNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHRoaXMuZGVmaW5lUGFnZVByb2dyZXNzaW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBwYWdlIHByb2dyZXNzaW9uIGFuZCBkZWZpbmUgbGVmdC9yaWdodC9yZWN0by92ZXJzbyBwYWdlcy5cbiAgICovXG4gIHByaXZhdGUgZGVmaW5lUGFnZVByb2dyZXNzaW9uKCkge1xuICAgIC8vIFRPRE8gSWYgYSBwYWdlIGJyZWFrIGlzIGZvcmNlZCBiZWZvcmUgdGhlIHJvb3QgZWxlbWVudCwgcmVjdG8vdmVyc28gcGFnZXNcbiAgICAvLyBhcmUgbm8gbG9uZ2VyIG9kZC9ldmVuIHBhZ2VzLiBsZWZ0L3JpZ2h0IGFyZSByZXZlcnNlZCB0b28uXG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VTY29wZTtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInBhZ2UtbnVtYmVyXCIpO1xuICAgIGNvbnN0IGlzRXZlblBhZ2UgPSBuZXcgRXhwcnMuRXEoXG4gICAgICBzY29wZSxcbiAgICAgIG5ldyBFeHBycy5Nb2R1bG8oc2NvcGUsIHBhZ2VOdW1iZXIsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMikpLFxuICAgICAgc2NvcGUuemVybyxcbiAgICApO1xuICAgIHNjb3BlLmRlZmluZU5hbWUoXCJyZWN0by1wYWdlXCIsIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIGlzRXZlblBhZ2UpKTtcbiAgICBzY29wZS5kZWZpbmVOYW1lKFwidmVyc28tcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICBjb25zdCBzdHlsZUluc3RhbmNlOiBhbnkgLyogT3BzLlN0eWxlSW5zdGFuY2UgKi8gPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgcGFnZVByb2dyZXNzaW9uID1cbiAgICAgIHN0eWxlSW5zdGFuY2UucGFnZVByb2dyZXNzaW9uIHx8XG4gICAgICByZXNvbHZlUGFnZVByb2dyZXNzaW9uKHRoaXMuZG9jRWxlbWVudFN0eWxlKTtcbiAgICBpZiAocGFnZVByb2dyZXNzaW9uID09PSBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLkxUUikge1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcImxlZnQtcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICAgIHNjb3BlLmRlZmluZU5hbWUoXCJyaWdodC1wYWdlXCIsIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIGlzRXZlblBhZ2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcImxlZnQtcGFnZVwiLCBuZXcgRXhwcnMuTm90KHNjb3BlLCBpc0V2ZW5QYWdlKSk7XG4gICAgICBzY29wZS5kZWZpbmVOYW1lKFwicmlnaHQtcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNhc2NhZGVkIHBhZ2Ugc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2UgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICovXG4gIGdldENhc2NhZGVkUGFnZVN0eWxlKCk6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBjb25zdCBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLnB1c2hSdWxlKFtdLCBcIlwiLCBzdHlsZSk7XG4gICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UucG9wUnVsZSgpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBQYWdlTWFzdGVySW5zdGFuY2Ugd2l0aCBwYWdlIHJ1bGVzIGFwcGxpZWQuIFJldHVybiBhIGNhY2hlZFxuICAgKiBpbnN0YW5jZSBpZiB0aGVyZSBhbHJlYWR5IGV4aXN0cyBvbmUgd2l0aCB0aGUgc2FtZSBzdHlsZXMuXG4gICAqIEBwYXJhbSBwYWdlTWFzdGVySW5zdGFuY2UgVGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gY2FzY2FkZWRQYWdlU3R5bGUgQ2FzY2FkZWQgcGFnZSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZSBjb250ZXh0LlxuICAgKi9cbiAgZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyKFxuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UsXG4gICAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IHBhZ2VNYXN0ZXJJbnN0YW5jZS5wYWdlQm94IGFzIFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcjtcblxuICAgIC8vIElmIG5vIHByb3BlcmllcyBhcmUgc3BlY2lmaWVkIGluIEBwYWdlIHJ1bGVzLCB1c2UgdGhlIG9yaWdpbmFsIHBhZ2VcbiAgICAvLyBtYXN0ZXIuXG4gICAgaWYgKE9iamVjdC5rZXlzKGNhc2NhZGVkUGFnZVN0eWxlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHBhZ2VNYXN0ZXIucmVzZXRTY29wZSgpO1xuICAgICAgcmV0dXJuIHBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdGhpcy5tYWtlQ2FjaGVLZXkoY2FzY2FkZWRQYWdlU3R5bGUsIHBhZ2VNYXN0ZXIpO1xuICAgIGxldCBhcHBsaWVkID0gdGhpcy5wYWdlTWFzdGVyQ2FjaGVba2V5XTtcbiAgICBpZiAoIWFwcGxpZWQpIHtcbiAgICAgIGlmIChwYWdlTWFzdGVyLnBzZXVkb05hbWUgPT09IFBhZ2VNYXN0ZXIudXNlckFnZW50UGFnZU1hc3RlclBzZXVkbykge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHBhZ2UgbWFzdGVyIGlzIGEgVUEgcGFnZSBtYXN0ZXIsXG4gICAgICAgIC8vIGlnbm9yZSBpdCBhbmQgZ2VuZXJhdGUgYSBuZXcgcGFnZSBtYXN0ZXIgZnJvbSBAcGFnZSBydWxlcy5cbiAgICAgICAgYXBwbGllZCA9IHRoaXMuZ2VuZXJhdGVQYWdlUnVsZU1hc3RlcihjYXNjYWRlZFBhZ2VTdHlsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgY2FzY2FkZSBzb21lIHByb3BlcnRpZXMgZnJvbSBAcGFnZSBydWxlcyB0byB0aGUgcGFnZVxuICAgICAgICAvLyBtYXN0ZXIuXG4gICAgICAgIGFwcGxpZWQgPSB0aGlzLmdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyKFxuICAgICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXJDYWNoZVtrZXldID0gYXBwbGllZDtcbiAgICB9XG4gICAgYXBwbGllZC5wYWdlQm94LnJlc2V0U2NvcGUoKTtcbiAgICByZXR1cm4gYXBwbGllZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIGNhY2hlIGtleSBmcm9tIHRoZSBzcGVjaWZpZWQgc3R5bGVzIGFuZCB0aGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXJcbiAgICoga2V5LlxuICAgKi9cbiAgcHJpdmF0ZSBtYWtlQ2FjaGVLZXkoXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBwcm9wc1N0ciA9IHRoaXMubWFrZUNhc2NhZGVWYWx1ZU9iamVjdEtleShzdHlsZSk7XG4gICAgcmV0dXJuIGAke3BhZ2VNYXN0ZXIua2V5fV4ke3Byb3BzU3RyfWA7XG4gIH1cblxuICBwcml2YXRlIG1ha2VDYXNjYWRlVmFsdWVPYmplY3RLZXkob2JqZWN0OiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJvcHMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgY29uc3QgdmFsID0gb2JqZWN0W3Byb3BdO1xuICAgICAgICBsZXQgc3RyOiBzdHJpbmc7XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSkge1xuICAgICAgICAgIHN0ciA9IGAke3ZhbC52YWx1ZX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHRoaXMubWFrZUNhc2NhZGVWYWx1ZU9iamVjdEtleSh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLnB1c2gocHJvcCArIHN0ciArICh2YWwucHJpb3JpdHkgfHwgXCJcIikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHMuc29ydCgpLmpvaW4oXCJeXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBhZ2VSdWxlTWFzdGVyKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IG5ldyBQYWdlUnVsZU1hc3RlcihcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLnBhZ2VCb3ggYXMgUGFnZU1hc3Rlci5Sb290UGFnZUJveCxcbiAgICAgIHN0eWxlLFxuICAgICk7XG4gICAgY29uc3QgcGFnZU1hc3Rlckluc3RhbmNlID0gcGFnZU1hc3Rlci5jcmVhdGVJbnN0YW5jZShcbiAgICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZSxcbiAgICApO1xuXG4gICAgLy8gRG8gdGhlIHNhbWUgaW5pdGlhbGl6YXRpb24gYXMgaW4gT3BzLlN0eWxlSW5zdGFuY2UucHJvdG90eXBlLmluaXRcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UuYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLFxuICAgICAgdGhpcy5kb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcodGhpcy5jb250ZXh0KTtcbiAgICByZXR1cm4gcGFnZU1hc3Rlckluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhc2NhZGUgc29tZSBwcm9wZXJ0aWVzIGZyb20gYEBwYWdlYCBydWxlcyB0byBhIHBhZ2UgbWFzdGVyLlxuICAgKiBGb3Igbm93LCBvbmx5ICd3aWR0aCcgYW5kICdoZWlnaHQnIHJlc29sdmVkIGZyb20gJ3NpemUnIHZhbHVlIGFyZSBjYXNjYWRlZC5cbiAgICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIGluIHRoZSBwYWdlIGNvbnRleHRcbiAgICogQHBhcmFtIHBhZ2VNYXN0ZXIgVGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXIsXG4gICk6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlIHtcbiAgICBjb25zdCBuZXdQYWdlTWFzdGVyID0gcGFnZU1hc3Rlci5jbG9uZSh7XG4gICAgICBwc2V1ZG9OYW1lOiBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUsXG4gICAgfSk7XG4gICAgY29uc3QgcGFnZU1hc3RlclN0eWxlID0gbmV3UGFnZU1hc3Rlci5zcGVjaWZpZWQ7XG4gICAgY29uc3Qgc2l6ZSA9IHN0eWxlW1wic2l6ZVwiXTtcbiAgICBpZiAoc2l6ZSkge1xuICAgICAgY29uc3QgcGFnZVNpemUgPSByZXNvbHZlUGFnZVNpemVBbmRCbGVlZChzdHlsZSBhcyBhbnkpO1xuICAgICAgY29uc3QgcHJpb3JpdHkgPSBzaXplLnByaW9yaXR5O1xuICAgICAgcGFnZU1hc3RlclN0eWxlW1wid2lkdGhcIl0gPSBDc3NDYXNjYWRlLmNhc2NhZGVWYWx1ZXMoXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgcGFnZU1hc3RlclN0eWxlW1wid2lkdGhcIl0sXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS53aWR0aCwgcHJpb3JpdHkpLFxuICAgICAgKTtcbiAgICAgIHBhZ2VNYXN0ZXJTdHlsZVtcImhlaWdodFwiXSA9IENzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyhcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICBwYWdlTWFzdGVyU3R5bGVbXCJoZWlnaHRcIl0sXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS5oZWlnaHQsIHByaW9yaXR5KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVHJhbnNmZXIgY291bnRlciBwcm9wZXJ0aWVzIHRvIHRoZSBwYWdlIHN0eWxlIHNvIHRoYXQgdGhlc2Ugc3BlY2lmaWVkIGluXG4gICAgLy8gdGhlIHBhZ2UgbWFzdGVyIGFyZSBhbHNvIGVmZmVjdGl2ZS4gTm90ZSB0aGF0IHRoZXNlIHZhbHVlcyAoaWYgc3BlY2lmaWVkKVxuICAgIC8vIGFsd2F5cyBvdmVycmlkZSB2YWx1ZXMgaW4gcGFnZSBjb250ZXh0cy5cbiAgICBbXCJjb3VudGVyLXJlc2V0XCIsIFwiY291bnRlci1pbmNyZW1lbnRcIl0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKHBhZ2VNYXN0ZXJTdHlsZVtuYW1lXSkge1xuICAgICAgICBzdHlsZVtuYW1lXSA9IHBhZ2VNYXN0ZXJTdHlsZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBwYWdlTWFzdGVySW5zdGFuY2UgPSBuZXdQYWdlTWFzdGVyLmNyZWF0ZUluc3RhbmNlKFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLFxuICAgICkgYXMgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgICAvLyBEbyB0aGUgc2FtZSBpbml0aWFsaXphdGlvbiBhcyBpbiBPcHMuU3R5bGVJbnN0YW5jZS5wcm90b3R5cGUuaW5pdFxuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KFxuICAgICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UsXG4gICAgICB0aGlzLmRvY0VsZW1lbnRTdHlsZSxcbiAgICApO1xuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyh0aGlzLmNvbnRleHQpO1xuICAgIHJldHVybiBwYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrUGFnZVR5cGVBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGFnZVR5cGU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50UGFnZVR5cGUgPT09IHRoaXMucGFnZVR5cGUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5wYWdldHlwZXMsIHRoaXMucGFnZVR5cGUsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0ZpcnN0UGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwicGFnZS1udW1iZXJcIik7XG4gICAgaWYgKHBhZ2VOdW1iZXIuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpID09PSAxKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0xlZnRQYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGxlZnRQYWdlID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwibGVmdC1wYWdlXCIpO1xuICAgIGlmIChsZWZ0UGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUmlnaHRQYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHJpZ2h0UGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInJpZ2h0LXBhZ2VcIik7XG4gICAgaWYgKHJpZ2h0UGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUmVjdG9QYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHJlY3RvUGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInJlY3RvLXBhZ2VcIik7XG4gICAgaWYgKHJlY3RvUGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzVmVyc29QYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHZlcnNvUGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInZlcnNvLXBhZ2VcIik7XG4gICAgaWYgKHZlcnNvUGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuLyoqXG4gKiBBY3Rpb24gYXBwbHlpbmcgYW4gYXQtcGFnZSBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHBseVBhZ2VSdWxlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsIHNwZWNpZmljaXR5OiBudW1iZXIpIHtcbiAgICBzdXBlcihzdHlsZSwgc3BlY2lmaWNpdHksIG51bGwsIG51bGwsIG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIG1lcmdlSW5QYWdlUnVsZShcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGUsXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZXJnZSBwYWdlIHN0eWxlcywgaW5jbHVkaW5nIHN0eWxlcyBzcGVjaWZpZWQgb24gcGFnZS1tYXJnaW4gYm94ZXMsXG4gKiBjb25zaWRlcmluZyBzcGVjaWZpY2l0eS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBpbiBwbGFjZSBvZlxuICogQ3NzQ2FzY2FkZS5tZXJnZUluLCB3aGljaCBpcyBmb3IgZWxlbWVudCBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUluUGFnZVJ1bGUoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHRhcmdldDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbik6IHZvaWQge1xuICBDc3NDYXNjYWRlLm1lcmdlSW4oY29udGV4dCwgdGFyZ2V0LCBzdHlsZSwgc3BlY2lmaWNpdHksIG51bGwsIG51bGwsIG51bGwpO1xuICBjb25zdCBtYXJnaW5Cb3hlcyA9IHN0eWxlW21hcmdpbkJveGVzS2V5XTtcbiAgaWYgKG1hcmdpbkJveGVzKSB7XG4gICAgY29uc3QgdGFyZ2V0TWFwID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAodGFyZ2V0LCBtYXJnaW5Cb3hlc0tleSk7XG4gICAgZm9yIChjb25zdCBib3hOYW1lIGluIG1hcmdpbkJveGVzKSB7XG4gICAgICBpZiAobWFyZ2luQm94ZXMuaGFzT3duUHJvcGVydHkoYm94TmFtZSkpIHtcbiAgICAgICAgbGV0IHRhcmdldEJveCA9IHRhcmdldE1hcFtib3hOYW1lXTtcbiAgICAgICAgaWYgKCF0YXJnZXRCb3gpIHtcbiAgICAgICAgICB0YXJnZXRCb3ggPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgICAgICB0YXJnZXRNYXBbYm94TmFtZV0gPSB0YXJnZXRCb3g7XG4gICAgICAgIH1cbiAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZUluKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgdGFyZ2V0Qm94LFxuICAgICAgICAgIG1hcmdpbkJveGVzW2JveE5hbWVdLFxuICAgICAgICAgIHNwZWNpZmljaXR5LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlckhhbmRsZXIgZm9yIGBAcGFnZWAgcnVsZXMuIEl0IGhhbmRsZXMgcHJvcGVydGllcyBzcGVjaWZpZWQgd2l0aCBwYWdlXG4gKiBjb250ZXh0cy4gSXQgYWxzbyBkb2VzIGJhc2ljIGNhc2NhZGluZyAod2hpY2ggY2FuIGJlIGRvbmUgd2l0aG91dCBpbmZvcm1hdGlvblxuICogb3RoZXIgdGhhbiB0aGUgcGFnZSBydWxlcyB0aGVtc2VsdmVzKSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gYHBhZ2VQcm9wc2BcbiAqIG9iamVjdCBhcyBhIG1hcCBmcm9tIHBhZ2Ugc2VsZWN0b3JzIHRvIHNldHMgb2YgcHJvcGVydGllcy4gVGhpcyByZXN1bHQgaXNcbiAqIGxhdGVyIHVzZWQgZm9yIGFkZGluZyBgQHBhZ2VgIHJ1bGVzIHRvIHRoZSByZWFsIERPTSwgd2hpY2ggYXJlIHRoZW4gdXNlZCBieVxuICogdGhlIFBERiByZW5kZXJlciAoQ2hyb21pdW0pIHRvIGRldGVybWluZSBwYWdlIHNpemVzLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBwcml2YXRlIGN1cnJlbnRQYWdlU2VsZWN0b3JzOiB7XG4gICAgc2VsZWN0b3JzOiBzdHJpbmdbXSB8IG51bGw7XG4gICAgc3BlY2lmaWNpdHk6IG51bWJlcjtcbiAgfVtdID0gW107XG4gIHByaXZhdGUgY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIGN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwYXJlbnQ6IENzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXIsXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFnZVByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgbnVsbCwgcGFyZW50LCBudWxsLCB2YWxpZGF0b3JTZXQsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBBc3NlcnRzLmFzc2VydChuYW1lKTtcbiAgICB0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciA9IG5hbWU7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tQYWdlVHlwZUFjdGlvbihuYW1lKSk7XG4gICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDY1NTM2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBzZXVkb2NsYXNzU2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB0aGlzLnJlcG9ydEFuZFNraXAoXG4gICAgICAgIGBFX0lOVkFMSURfUEFHRV9TRUxFQ1RPUiA6JHtuYW1lfSgke3BhcmFtcy5qb2luKFwiXCIpfSlgLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzLnB1c2goYDoke25hbWV9YCk7XG4gICAgc3dpdGNoIChuYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgXCJmaXJzdFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAyNTY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0xlZnRQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzUmlnaHRQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzUmVjdG9QYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzVmVyc29QYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMucmVwb3J0QW5kU2tpcChgRV9JTlZBTElEX1BBR0VfU0VMRUNUT1IgOiR7bmFtZX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgY3VycmVudGx5IHByb2Nlc3NlZCBzZWxlY3RvciBhbmQgcmVzZXQgdmFyaWFibGVzLlxuICAgKi9cbiAgcHJpdmF0ZSBmaW5pc2hTZWxlY3RvcigpIHtcbiAgICBsZXQgc2VsZWN0b3JzOiBzdHJpbmdbXTtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IgJiZcbiAgICAgICF0aGlzLmN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBzZWxlY3RvcnMgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RvcnMgPSBbdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3JdLmNvbmNhdChcbiAgICAgICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzLnNvcnQoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFBhZ2VTZWxlY3RvcnMucHVzaCh7XG4gICAgICBzZWxlY3RvcnMsXG4gICAgICBzcGVjaWZpY2l0eTogdGhpcy5zcGVjaWZpY2l0eSxcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hTZWxlY3RvcigpO1xuICAgIHN1cGVyLm5leHRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaFNlbGVjdG9yKCk7XG4gICAgc3VwZXIuc3RhcnRSdWxlQm9keSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgLy8gd2UgbGltaXQgJ2JsZWVkJyBhbmQgJ21hcmtzJyB0byBiZSBlZmZlY3RpdmUgb25seSB3aGVuIHNwZWNpZmllZCB3aXRob3V0XG4gICAgLy8gcGFnZSBzZWxlY3RvcnNcbiAgICBpZiAoXG4gICAgICAobmFtZSA9PT0gXCJibGVlZFwiIHx8IG5hbWUgPT09IFwibWFya3NcIikgJiZcbiAgICAgICF0aGlzLmN1cnJlbnRQYWdlU2VsZWN0b3JzLnNvbWUoKHMpID0+IHMuc2VsZWN0b3JzID09PSBudWxsKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdXBlci5zaW1wbGVQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICBjb25zdCBjYXNjVmFsID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lKTtcbiAgICBjb25zdCBwYWdlUHJvcHMgPSB0aGlzLnBhZ2VQcm9wcztcbiAgICBpZiAobmFtZSA9PT0gXCJibGVlZFwiIHx8IG5hbWUgPT09IFwibWFya3NcIikge1xuICAgICAgaWYgKCFwYWdlUHJvcHNbXCJcIl0pIHtcbiAgICAgICAgcGFnZVByb3BzW1wiXCJdID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGNhbiBzaW1wbHkgb3ZlcndyaXRlIHdpdGhvdXQgY29uc2lkZXJpbmcgc3BlY2lmaWNpdHlcbiAgICAgIC8vIHNpbmNlICdibGVlZCcgYW5kICdtYXJrcycgYWx3YXlzIGNvbWUgZnJvbSBhIHBhZ2UgcnVsZSB3aXRob3V0IHBhZ2VcbiAgICAgIC8vIHNlbGVjdG9ycy5cbiAgICAgIE9iamVjdC5rZXlzKHBhZ2VQcm9wcykuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHBhZ2VQcm9wc1tzZWxlY3Rvcl0sIG5hbWUsIGNhc2NWYWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSBcInNpemVcIikge1xuICAgICAgY29uc3Qgbm9QYWdlU2VsZWN0b3JQcm9wcyA9IHBhZ2VQcm9wc1tcIlwiXTtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VTZWxlY3RvcnMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAvLyB1cGRhdGUgc3BlY2lmaWNpdHkgdG8gcmVmbGVjdCB0aGUgc3BlY2lmaWNpdHkgb2YgdGhlIHNlbGVjdG9yXG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICAgICAgY2FzY1ZhbC52YWx1ZSxcbiAgICAgICAgICBjYXNjVmFsLnByaW9yaXR5ICsgcy5zcGVjaWZpY2l0eSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBzLnNlbGVjdG9ycyA/IHMuc2VsZWN0b3JzLmpvaW4oXCJcIikgOiBcIlwiO1xuICAgICAgICBsZXQgcHJvcHMgPSBwYWdlUHJvcHNbc2VsZWN0b3JdO1xuICAgICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgICAgLy8gc2luY2Ugbm8gcHJvcGVydGllcyBmb3IgdGhpcyBzZWxlY3RvciBoYXZlIGJlZW4gc3RvcmVkIGJlZm9yZSxcbiAgICAgICAgICAvLyB3ZSBjYW4gc2ltcGx5IHNldCB0aGUgJ3NpemUnLCAnYmxlZWQnIGFuZCAnbWFya3MnIHByb3BlcnRpZXMuXG4gICAgICAgICAgcHJvcHMgPSBwYWdlUHJvcHNbc2VsZWN0b3JdID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHByb3BzLCBuYW1lLCByZXN1bHQpO1xuICAgICAgICAgIGlmIChub1BhZ2VTZWxlY3RvclByb3BzKSB7XG4gICAgICAgICAgICBbXCJibGVlZFwiLCBcIm1hcmtzXCJdLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKG5vUGFnZVNlbGVjdG9yUHJvcHNbbl0pIHtcbiAgICAgICAgICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocHJvcHMsIG4sIG5vUGFnZVNlbGVjdG9yUHJvcHNbbl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29uc2lkZXIgc3BlY2lmaWNpdHkgd2hlbiBzZXR0aW5nICdzaXplJyBwcm9wZXJ0eS5cbiAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIHNldCAnYmxlZWQnIGFuZCAnbWFya3MnIHNpbmNlIHRoZXkgc2hvdWxkIGhhdmVcbiAgICAgICAgICAvLyBiZWVuIGFscmVhZHkgdXBkYXRlZC5cbiAgICAgICAgICBjb25zdCBwcmV2Q2FzY1ZhbCA9IENzc0Nhc2NhZGUuZ2V0UHJvcChwcm9wcywgbmFtZSk7XG4gICAgICAgICAgcmVzdWx0ID0gcHJldkNhc2NWYWxcbiAgICAgICAgICAgID8gQ3NzQ2FzY2FkZS5jYXNjYWRlVmFsdWVzKG51bGwsIHJlc3VsdCwgcHJldkNhc2NWYWwpXG4gICAgICAgICAgICA6IHJlc3VsdDtcbiAgICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocHJvcHMsIG5hbWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluc2VydE5vblByaW1hcnkoYWN0aW9uOiBDc3NDYXNjYWRlLkNhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICAvLyBXZSByZXByZXNlbnQgcGFnZSBydWxlcyB3aXRob3V0IHNlbGVjdG9ycyBieSAqLCB0aG91Z2ggaXQgaXMgaWxsZWdhbCBpblxuICAgIC8vIENTU1xuICAgIHRoaXMuY2FzY2FkZS5pbnNlcnRJblRhYmxlKHRoaXMuY2FzY2FkZS5wYWdldHlwZXMsIFwiKlwiLCBhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZUFwcGx5UnVsZUFjdGlvbihzcGVjaWZpY2l0eTogbnVtYmVyKTogQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24ge1xuICAgIHJldHVybiBuZXcgQXBwbHlQYWdlUnVsZUFjdGlvbih0aGlzLmVsZW1lbnRTdHlsZSwgc3BlY2lmaWNpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBtYXJnaW5Cb3hNYXAgPSBDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcChcbiAgICAgIHRoaXMuZWxlbWVudFN0eWxlLFxuICAgICAgbWFyZ2luQm94ZXNLZXksXG4gICAgKTtcbiAgICBsZXQgYm94U3R5bGUgPSBtYXJnaW5Cb3hNYXBbbmFtZV07XG4gICAgaWYgKCFib3hTdHlsZSkge1xuICAgICAgYm94U3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgIG1hcmdpbkJveE1hcFtuYW1lXSA9IGJveFN0eWxlO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhZ2VNYXJnaW5Cb3hQYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICAgIGJveFN0eWxlLFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlciBoYW5kbGVyIGZvciBhIHBhZ2UtbWFyZ2luIGJveCBydWxlLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hcmdpbkJveFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJveFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50LFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW52YWxpZFByb3BlcnR5VmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUUgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIGNvbnN0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIGNvbnN0IGNhc2N2YWwgPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5KTtcbiAgICBDc3NDYXNjYWRlLnNldFByb3AodGhpcy5ib3hTdHlsZSwgbmFtZSwgY2FzY3ZhbCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFVybHMgLSBVUkwgVXRpbGl0aWVzXG4gKi9cblxuLyoqXG4gKiB0cmFuc2Zvcm0gYWxsIHVybHMgaW4gYXR0cmlidXRlVmFsdWUgdXNpbmcgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci5cbiAqXG4gKiBAcmV0dXJucyB0cmFuc2Zvcm1lZCBhdHRyaWJ1dGVWYWx1ZVxuICovXG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1VUklzID0gKFxuICBhdHRyaWJ1dGVWYWx1ZSxcbiAgYmFzZVVybCxcbiAgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbikgPT5cbiAgYXR0cmlidXRlVmFsdWVcbiAgICAucmVwbGFjZShcbiAgICAgIC9bdVVdW3JSXVtsTF1cXChcXHMqXCIoKFxcXFwoW14wLTlhLWZBLUZdK3xbMC05YS1mQS1GXStcXHMqKXxbXlwiXFxyXFxuXSkrKVwiL2dtLFxuICAgICAgKG1hdGNoLCBtMSkgPT5cbiAgICAgICAgYHVybChcIiR7ZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwobTEsIGJhc2VVcmwpfVwiYCxcbiAgICApXG4gICAgLnJlcGxhY2UoXG4gICAgICAvW3VVXVtyUl1bbExdXFwoXFxzKicoKFxcXFwoW14wLTlhLWZBLUZdK3xbMC05YS1mQS1GXStcXHMqKXxbXidcXHJcXG5dKSspJy9nbSxcbiAgICAgIChtYXRjaCwgbTEpID0+XG4gICAgICAgIGB1cmwoJyR7ZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwobTEsIGJhc2VVcmwpfSdgLFxuICAgIClcbiAgICAucmVwbGFjZShcbiAgICAgIC9bdVVdW3JSXVtsTF1cXChcXHMqKChcXFxcKFteMC05YS1mQS1GXSt8WzAtOWEtZkEtRl0rXFxzKil8W15cIidcXHJcXG5cXClcXHNdKSspL2dtLFxuICAgICAgKG1hdGNoLCBtMSkgPT4gYHVybCgke2RvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtVVJMKG0xLCBiYXNlVXJsKX1gLFxuICAgICk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFZnZW4gLSBWaWV3IHRyZWUgZ2VuZXJhdG9yLlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzU3R5bGVyIGZyb20gXCIuL2Nzcy1zdHlsZXJcIjtcbmltcG9ydCAqIGFzIERpZmYgZnJvbSBcIi4vZGlmZlwiO1xuaW1wb3J0ICogYXMgRGlzcGxheSBmcm9tIFwiLi9kaXNwbGF5XCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUHNldWRvRWxlbWVudCBmcm9tIFwiLi9wc2V1ZG8tZWxlbWVudFwiO1xuaW1wb3J0ICogYXMgUmVwZXRpdGl2ZUVsZW1lbnQgZnJvbSBcIi4vcmVwZXRpdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuaW1wb3J0ICogYXMgVXJscyBmcm9tIFwiLi91cmxzXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHsgWG1sRG9jIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgbmFtZXNwYWNlUHJlZml4TWFwID0ge307XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VCbGFja0xpc3RIb3I6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gIFwidGV4dC1pbmRlbnRcIjogXCIwcHhcIixcbiAgXCJtYXJnaW4tdG9wXCI6IFwiMHB4XCIsXG4gIFwicGFkZGluZy10b3BcIjogXCIwcHhcIixcbiAgXCJib3JkZXItdG9wLXdpZHRoXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXRvcC1zdHlsZVwiOiBcIm5vbmVcIixcbiAgXCJib3JkZXItdG9wLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIixcbiAgXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VCbGFja0xpc3RWZXJ0OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcInRleHQtaW5kZW50XCI6IFwiMHB4XCIsXG4gIFwibWFyZ2luLXJpZ2h0XCI6IFwiMHB4XCIsXG4gIFwicGFkZGluZy1yaWdodFwiOiBcIjBweFwiLFxuICBcImJvcmRlci1yaWdodC13aWR0aFwiOiBcIjBweFwiLFxuICBcImJvcmRlci1yaWdodC1zdHlsZVwiOiBcIm5vbmVcIixcbiAgXCJib3JkZXItcmlnaHQtY29sb3JcIjogXCJ0cmFuc3BhcmVudFwiLFxuICBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0SG9yOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcIm1hcmdpbi10b3BcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgXCJtYXJnaW4tcmlnaHRcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCB0eXBlIEN1c3RvbVJlbmRlcmVyID0gKFxuICBwMTogRWxlbWVudCxcbiAgcDI6IEVsZW1lbnQsXG4gIHAzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbikgPT4gVGFzay5SZXN1bHQ8RWxlbWVudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tUmVuZGVyZXJGYWN0b3J5IHtcbiAgbWFrZUN1c3RvbVJlbmRlcmVyKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcik6IEN1c3RvbVJlbmRlcmVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXB1YlJlYWRpbmdTeXN0ZW0gb2JqZWN0IGluIHRoZSBpZnJhbWUuY29udGVudFdpbmRvdy5uYXZpZ2F0b3JcbiAqIHdoZW4gbG9hZCBldmVudCBmaXJlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRJRnJhbWUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCk6IHZvaWQge1xuICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5uYXZpZ2F0b3JbXCJlcHViUmVhZGluZ1N5c3RlbVwiXSA9IHtcbiAgICAgICAgbmFtZTogXCJhZGFwdFwiLFxuICAgICAgICB2ZXJzaW9uOiBcIjAuMVwiLFxuICAgICAgICBsYXlvdXRTdHlsZTogXCJwYWdpbmF0ZWRcIixcbiAgICAgICAgaGFzRmVhdHVyZTogZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24pIHtcbiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZS1ldmVudHNcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBmYWxzZSxcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZXJQcm9kdWNlciB7XG4gIGdldFN0eWxlckZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBWaWV3RmFjdG9yeSBleHRlbmRzIEJhc2UuU2ltcGxlRXZlbnRUYXJnZXRcbiAgaW1wbGVtZW50cyBWdHJlZS5MYXlvdXRDb250ZXh0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgU1ZHX1VSTF9BVFRSSUJVVEVTOiBzdHJpbmdbXSA9IFtcbiAgICBcImNvbG9yLXByb2ZpbGVcIixcbiAgICBcImNsaXAtcGF0aFwiLFxuICAgIFwiY3Vyc29yXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcIm1hcmtlclwiLFxuICAgIFwibWFya2VyLXN0YXJ0XCIsXG4gICAgXCJtYXJrZXItZW5kXCIsXG4gICAgXCJtYXJrZXItbWlkXCIsXG4gICAgXCJmaWxsXCIsXG4gICAgXCJzdHJva2VcIixcbiAgICBcIm1hc2tcIixcbiAgXTtcbiAgZG9jdW1lbnQ6IERvY3VtZW50O1xuICBleHByQ29udGVudExpc3RlbmVyOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xuXG4gIC8vIHByb3ZpZGVkIGJ5IGxheW91dFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgdmlld1Jvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgaXNGb290bm90ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzb3VyY2VOb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gIG9mZnNldEluTm9kZTogbnVtYmVyID0gMDtcblxuICAvLyBjb21wdXRlZFxuICAvLyBUT0RPOiBvbmx5IHNldCBpdCBvbiBOb2RlQ29udGV4dFxuICB2aWV3Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmlld3BvcnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIHB1YmxpYyByZWFkb25seSBmb290bm90ZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyUHJvZHVjZXI6IFN0eWxlclByb2R1Y2VyLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIHB1YmxpYyByZWFkb25seSBjdXN0b21SZW5kZXJlcjogQ3VzdG9tUmVuZGVyZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kb2N1bWVudCA9IHZpZXdwb3J0LmRvY3VtZW50O1xuICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lciA9IHN0eWxlci5jb3VudGVyTGlzdGVuZXIuZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogVnRyZWUuTGF5b3V0Q29udGV4dCB7XG4gICAgcmV0dXJuIG5ldyBWaWV3RmFjdG9yeShcbiAgICAgIHRoaXMuZmxvd05hbWUsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgICB0aGlzLnZpZXdwb3J0LFxuICAgICAgdGhpcy5zdHlsZXIsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMueG1sZG9jLFxuICAgICAgdGhpcy5kb2NGYWNlcyxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGVyUHJvZHVjZXIsXG4gICAgICB0aGlzLnBhZ2UsXG4gICAgICB0aGlzLmN1c3RvbVJlbmRlcmVyLFxuICAgICAgdGhpcy5mYWxsYmFja01hcCxcbiAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICApO1xuICB9XG5cbiAgY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyhcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFyZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0LFxuICAgIHN1YlNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgKTogVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gICAgY29uc3QgcHNldWRvTWFwID0gdGhpcy5nZXRQc2V1ZG9NYXAoXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgICBjb250ZXh0LFxuICAgICk7XG4gICAgaWYgKCFwc2V1ZG9NYXApIHtcbiAgICAgIHJldHVybiBzdWJTaGFkb3c7XG4gICAgfVxuICAgIGNvbnN0IGFkZGVkTmFtZXMgPSBbXTtcbiAgICBjb25zdCByb290ID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TSEFET1csIFwicm9vdFwiKTtcbiAgICBsZXQgYXR0ID0gcm9vdDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgUHNldWRvRWxlbWVudC5wc2V1ZG9OYW1lcykge1xuICAgICAgbGV0IGVsZW06IEVsZW1lbnQ7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoIXBzZXVkb01hcFtuYW1lXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lID09IFwiZm9vdG5vdGUtbWFya2VyXCIgJiYgIShpc1Jvb3QgJiYgdGhpcy5pc0Zvb3Rub3RlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl07XG4gICAgICAgICAgaWYgKCFkaXNwbGF5IHx8IGRpc3BsYXkgPT09IENzcy5pZGVudC5pbmxpbmUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gXCJiZWZvcmVcIiB8fCBuYW1lID09PSBcImFmdGVyXCIpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gcHNldWRvTWFwW25hbWVdW1wiY29udGVudFwiXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY29udGVudCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vcm1hbCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhZGRlZE5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlhIVE1MLCBcInNwYW5cIik7XG4gICAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShlbGVtLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICBCYXNlLk5TLlNIQURPVyxcbiAgICAgICAgICBcImNvbnRlbnRcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGF0dC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgYXR0ID0gZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGRlZE5hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHN1YlNoYWRvdztcbiAgICB9XG4gICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICBzdHlsZXIsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5leHByQ29udGVudExpc3RlbmVyLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHJvb3QsXG4gICAgICBudWxsLFxuICAgICAgcGFyZW50U2hhZG93LFxuICAgICAgc3ViU2hhZG93LFxuICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgIHNoYWRvd1N0eWxlcixcbiAgICApO1xuICB9XG5cbiAgZ2V0UHNldWRvTWFwKFxuICAgIGNhc2NTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBpc0Zvb3Rub3RlOiBib29sZWFuLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKGNhc2NTdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBpZiAoIXBzZXVkb01hcCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGUgPSAoY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcFtrZXldID0ge30pO1xuICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHBzZXVkb01hcFtrZXldLCBjb250ZXh0KTtcbiAgICAgIENzc0Nhc2NhZGUubWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHBzZXVkb01hcFtrZXldLFxuICAgICAgKTtcbiAgICAgIENzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uKFxuICAgICAgICBwc2V1ZG9NYXBba2V5XSxcbiAgICAgICAgcmVnaW9uSWRzLFxuICAgICAgICBpc0Zvb3Rub3RlLFxuICAgICAgICAocmVnaW9uSWQsIHJlZ2lvblN0eWxlKSA9PiB7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHJlZ2lvblN0eWxlLCBjb250ZXh0KTtcbiAgICAgICAgICBDc3NDYXNjYWRlLmZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgICAgICByZWdpb25TdHlsZSxcbiAgICAgICAgICAgICh2aWV3Q29uZGl0aW9uYWxTdHlsZXMpID0+IHtcbiAgICAgICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgICAgICAgICAgdmlld0NvbmRpdGlvbmFsU3R5bGVzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcDtcbiAgfVxuXG4gIGNyZWF0ZVJlZlNoYWRvdyhcbiAgICBocmVmOiBzdHJpbmcsXG4gICAgdHlwZTogVnRyZWUuU2hhZG93VHlwZSxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHBhcmVudFNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgICBzdWJTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVJlZlNoYWRvd1wiLFxuICAgICk7XG4gICAgc2VsZi54bWxkb2Muc3RvcmUubG9hZChocmVmKS50aGVuKChyZWZEb2NQYXJhbSkgPT4ge1xuICAgICAgY29uc3QgcmVmRG9jID0gcmVmRG9jUGFyYW07XG4gICAgICBpZiAocmVmRG9jKSB7XG4gICAgICAgIGNvbnN0IHJlZkVsZW1lbnQgPSByZWZEb2MuZ2V0RWxlbWVudChocmVmKTtcbiAgICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCByZWZTdHlsZXIgPSBzZWxmLnN0eWxlclByb2R1Y2VyLmdldFN0eWxlckZvckRvYyhyZWZEb2MpO1xuICAgICAgICAgIHN1YlNoYWRvdyA9IG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHJlZkVsZW1lbnQsXG4gICAgICAgICAgICByZWZEb2MsXG4gICAgICAgICAgICBwYXJlbnRTaGFkb3csXG4gICAgICAgICAgICBzdWJTaGFkb3csXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVmU3R5bGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChzdWJTaGFkb3cpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZVNoYWRvd3MoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBpc1Jvb3QsXG4gICAgY2FzY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHNoYWRvd0NvbnRleHQ6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVNoYWRvd3NcIixcbiAgICApO1xuICAgIGNvbnN0IHNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCA9IG51bGw7XG4gICAgY29uc3QgdGVtcGxhdGVVUkxWYWwgPSBjb21wdXRlZFN0eWxlW1widGVtcGxhdGVcIl07XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+O1xuICAgIGlmICh0ZW1wbGF0ZVVSTFZhbCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIGNvbnN0IHVybCA9ICh0ZW1wbGF0ZVVSTFZhbCBhcyBDc3MuVVJMKS51cmw7XG4gICAgICBjb250ID0gc2VsZi5jcmVhdGVSZWZTaGFkb3coXG4gICAgICAgIHVybCxcbiAgICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgc2hhZG93LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHNoYWRvdyk7XG4gICAgfVxuICAgIGNvbnQudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICBsZXQgY29udDE6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+ID0gbnVsbDtcbiAgICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNIQURPVykge1xuICAgICAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gXCJpbmNsdWRlXCIpIHtcbiAgICAgICAgICBsZXQgaHJlZiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICBsZXQgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dCA/IHNoYWRvd0NvbnRleHQueG1sZG9jIDogc2VsZi54bWxkb2M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFkb3dDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoc2hhZG93Q29udGV4dC5vd25lci5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBocmVmID0gc2hhZG93Q29udGV4dC5vd25lci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaHJlZiA9IHNoYWRvd0NvbnRleHQub3duZXIuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJocmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dC5wYXJlbnRTaGFkb3dcbiAgICAgICAgICAgICAgPyBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdy54bWxkb2NcbiAgICAgICAgICAgICAgOiBzZWxmLnhtbGRvYztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgIGhyZWYgPSBCYXNlLnJlc29sdmVVUkwoaHJlZiwgeG1sZG9jLnVybCk7XG4gICAgICAgICAgICBjb250MSA9IHNlbGYuY3JlYXRlUmVmU2hhZG93KFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCxcbiAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgICAgc2hhZG93LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250MSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnQxID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgIH1cbiAgICAgIGxldCBjb250MjogVGFzay5SZXN1bHQ8VnRyZWUuU2hhZG93Q29udGV4dD4gPSBudWxsO1xuICAgICAgY29udDEudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NlbGwpIHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBcInVzZXItYWdlbnQueG1sI3RhYmxlLWNlbGxcIixcbiAgICAgICAgICAgIEJhc2UucmVzb3VyY2VCYXNlVVJMLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udDIgPSBzZWxmLmNyZWF0ZVJlZlNoYWRvdyhcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MsXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnQyID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250Mi50aGVuKChzaGFkb3cpID0+IHtcbiAgICAgICAgc2hhZG93ID0gc2VsZi5jcmVhdGVQc2V1ZG9lbGVtZW50U2hhZG93KFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICAgIGNhc2NTdHlsZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICAgIHN0eWxlcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgICAgc2hhZG93LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2goc2hhZG93KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldFZpZXdSb290KHZpZXdSb290OiBFbGVtZW50LCBpc0Zvb3Rub3RlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aWV3Um9vdCA9IHZpZXdSb290O1xuICAgIHRoaXMuaXNGb290bm90ZSA9IGlzRm9vdG5vdGU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB2ZXJ0aWNhbFxuICAgKi9cbiAgY29tcHV0ZVN0eWxlKFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIHJ0bDogYm9vbGVhbixcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgY2FzY01hcCA9IENzc0Nhc2NhZGUuZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gICAgICBzdHlsZSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB2ZXJ0aWNhbCA9IENzc0Nhc2NhZGUuaXNWZXJ0aWNhbChjYXNjTWFwLCBjb250ZXh0LCB2ZXJ0aWNhbCk7XG4gICAgcnRsID0gQ3NzQ2FzY2FkZS5pc1J0bChjYXNjTWFwLCBjb250ZXh0LCBydGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIENzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgIHZlcnRpY2FsLFxuICAgICAgcnRsLFxuICAgICAgKG5hbWUsIGNhc2NWYWwpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gY2FzY1ZhbC5ldmFsdWF0ZShjb250ZXh0LCBuYW1lKTtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJmb250LWZhbWlseVwiKSB7XG4gICAgICAgICAgdmFsdWUgPSBzZWxmLmRvY0ZhY2VzLmZpbHRlckZvbnRGYW1pbHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIENvbXB1dGUgdmFsdWVzIG9mIGRpc3BsYXksIHBvc2l0aW9uIGFuZCBmbG9hdFxuICAgIGNvbnN0IHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdIGFzIENzcy5JZGVudDtcbiAgICBjb25zdCBmbG9hdCA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXSBhcyBDc3MuSWRlbnQ7XG4gICAgY29uc3QgZGlzcGxheVZhbHVlcyA9IERpc3BsYXkuZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZShcbiAgICAgIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSBhcyBDc3MuSWRlbnQpIHx8IENzcy5pZGVudC5pbmxpbmUsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGZsb2F0LFxuICAgICAgdGhpcy5zb3VyY2VOb2RlID09PSB0aGlzLnhtbGRvYy5yb290LFxuICAgICk7XG4gICAgW1wiZGlzcGxheVwiLCBcInBvc2l0aW9uXCIsIFwiZmxvYXRcIl0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKGRpc3BsYXlWYWx1ZXNbbmFtZV0pIHtcbiAgICAgICAgY29tcHV0ZWRTdHlsZVtuYW1lXSA9IGRpc3BsYXlWYWx1ZXNbbmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZlcnRpY2FsO1xuICB9XG5cbiAgcHJpdmF0ZSBpbmhlcml0RnJvbVNvdXJjZVBhcmVudChcbiAgICBlbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB7IGxhbmc6IHN0cmluZyB8IG51bGw7IGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSB7XG4gICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgbGV0IGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyBoYWNreS4gV2UgbmVlZCB0byByZWNvdmVyIHRoZSBwYXRoIHRocm91Z2ggdGhlIHNoYWRvd1xuICAgIC8vIHRyZWVzLCBidXQgd2UgZG8gbm90IGhhdmUgdGhlIGZ1bGwgc2hhZG93IHRyZWUgc3RydWN0dXJlIGF0IHRoaXMgcG9pbnQuXG4gICAgLy8gVGhpcyBjb2RlIGhhbmRsZXMgY29taW5nIG91dCBvZiB0aGUgc2hhZG93IHRyZWVzLCBidXQgZG9lcyBub3QgZ28gYmFjayBpblxuICAgIC8vICh0aHJvdWdoIHNoYWRvdzpjb250ZW50IGVsZW1lbnQpLlxuICAgIGxldCBzaGFkb3dDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0O1xuICAgIGxldCBzdGVwcyA9IC0xO1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IHNoYWRvd0NvbnRleHQgJiYgc2hhZG93Q29udGV4dC5yb290ID09IG5vZGU7XG4gICAgICBpZiAoIXNoYWRvd1Jvb3QgfHwgc2hhZG93Q29udGV4dC50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVyID0gc2hhZG93Q29udGV4dFxuICAgICAgICAgID8gKHNoYWRvd0NvbnRleHQuc3R5bGVyIGFzIENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcilcbiAgICAgICAgICA6IHRoaXMuc3R5bGVyO1xuICAgICAgICBjb25zdCBub2RlU3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUobm9kZSBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICAgIHN0eWxlcy5wdXNoKG5vZGVTdHlsZSk7XG4gICAgICAgIGxhbmcgPSBsYW5nIHx8IEJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZShub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgbm9kZSA9IHNoYWRvd0NvbnRleHQub3duZXI7XG4gICAgICAgIHNoYWRvd0NvbnRleHQgPSBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHN0ZXBzKys7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHN0ZXBzID09PSAwO1xuICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJlbVwiLCBpc1Jvb3QpO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgXCJmb250LXNpemVcIjogbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bWVyaWMoZm9udFNpemUsIFwicHhcIiksXG4gICAgICAgIDAsXG4gICAgICApLFxuICAgIH0gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgY29uc3QgaW5oZXJpdGFuY2VWaXNpdG9yID0gbmV3IENzc0Nhc2NhZGUuSW5oZXJpdGFuY2VWaXNpdG9yKFxuICAgICAgcHJvcHMsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gc3R5bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgIGNvbnN0IHByb3BMaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIGlmIChDc3NDYXNjYWRlLmlzSW5oZXJpdGVkKHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BMaXN0LnB1c2gocHJvcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wTGlzdC5zb3J0KENzcy5wcm9jZXNzaW5nT3JkZXJGbik7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgcHJvcExpc3QpIHtcbiAgICAgICAgaW5oZXJpdGFuY2VWaXNpdG9yLnNldFByb3BOYW1lKG5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChzdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZS52YWx1ZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgICBwcm9wc1tuYW1lXSA9IHZhbHVlLmZpbHRlclZhbHVlKGluaGVyaXRhbmNlVmlzaXRvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBzbmFtZSBpbiBlbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmICghQ3NzQ2FzY2FkZS5pc0luaGVyaXRlZChzbmFtZSkpIHtcbiAgICAgICAgcHJvcHNbc25hbWVdID0gZWxlbWVudFN0eWxlW3NuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGFuZywgZWxlbWVudFN0eWxlOiBwcm9wcyB9O1xuICB9XG5cbiAgcmVzb2x2ZVVSTCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdXJsID0gQmFzZS5yZXNvbHZlVVJMKHVybCwgdGhpcy54bWxkb2MudXJsKTtcbiAgICByZXR1cm4gdGhpcy5mYWxsYmFja01hcFt1cmxdIHx8IHVybDtcbiAgfVxuXG4gIGluaGVyaXRMYW5nQXR0cmlidXRlKCkge1xuICAgIHRoaXMubm9kZUNvbnRleHQubGFuZyA9XG4gICAgICBCYXNlLmdldExhbmdBdHRyaWJ1dGUodGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpIHx8XG4gICAgICAodGhpcy5ub2RlQ29udGV4dC5wYXJlbnQgJiYgdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQubGFuZykgfHxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQubGFuZztcbiAgfVxuXG4gIHRyYW5zZmVyUG9seWZpbGxlZEluaGVyaXRlZFByb3BzKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3QgcG9seWZpbGxlZEluaGVyaXRlZFByb3BzID0gQ3NzQ2FzY2FkZS5nZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKS5maWx0ZXIoXG4gICAgICAobmFtZSkgPT4gY29tcHV0ZWRTdHlsZVtuYW1lXSxcbiAgICApO1xuICAgIGlmIChwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMubGVuZ3RoKSB7XG4gICAgICBsZXQgcHJvcHMgPSB0aGlzLm5vZGVDb250ZXh0LmluaGVyaXRlZFByb3BzO1xuICAgICAgaWYgKHRoaXMubm9kZUNvbnRleHQucGFyZW50KSB7XG4gICAgICAgIHByb3BzID0gdGhpcy5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IG4gaW4gdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQuaW5oZXJpdGVkUHJvcHMpIHtcbiAgICAgICAgICBwcm9wc1tuXSA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50LmluaGVyaXRlZFByb3BzW25dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5JbnQpIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gKHZhbHVlIGFzIENzcy5JbnQpLm51bTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICAgICAgICBwcm9wc1tuYW1lXSA9ICh2YWx1ZSBhcyBDc3MuSWRlbnQpLm5hbWU7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5OdW1lcmljKSB7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljVmFsID0gdmFsdWUgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bWVyaWNWYWwudW5pdCkge1xuICAgICAgICAgICAgICBjYXNlIFwiZHBpXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcGNtXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcHB4XCI6XG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPVxuICAgICAgICAgICAgICAgICAgbnVtZXJpY1ZhbC5udW0gKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW251bWVyaWNWYWwudW5pdF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gICAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgICBmbG9hdDogQ3NzLklkZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBob29rc1tpXShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0VGltZSxcbiAgICAgICAgZGlzcGxheSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGZsb2F0LFxuICAgICAgICBpc1Jvb3QsXG4gICAgICApO1xuICAgICAgaWYgKGZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50VmlldyhcbiAgICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gICAgYXRVbmZvcmNlZEJyZWFrOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IG5lZWRUb1Byb2Nlc3NDaGlsZHJlbiA9IHRydWU7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY3JlYXRlRWxlbWVudFZpZXdcIik7XG5cbiAgICAvLyBGaWd1cmUgb3V0IGVsZW1lbnQncyBzdHlsZXNcbiAgICBsZXQgZWxlbWVudCA9IHNlbGYuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHN0eWxlciA9IHNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dFxuICAgICAgPyAoc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHNlbGYuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLnJlZ2lzdGVyRnJhZ21lbnRJbmRleChcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXgsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgY29uc3QgaW5oZXJpdGVkVmFsdWVzID0gc2VsZi5pbmhlcml0RnJvbVNvdXJjZVBhcmVudChlbGVtZW50U3R5bGUpO1xuICAgICAgZWxlbWVudFN0eWxlID0gaW5oZXJpdGVkVmFsdWVzLmVsZW1lbnRTdHlsZTtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQubGFuZyA9IGluaGVyaXRlZFZhbHVlcy5sYW5nO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9XG4gICAgICBlbGVtZW50U3R5bGVbXCJmbG9hdC1yZWZlcmVuY2VcIl0gJiZcbiAgICAgIFBhZ2VGbG9hdHMuZmxvYXRSZWZlcmVuY2VPZihcbiAgICAgICAgZWxlbWVudFN0eWxlW1wiZmxvYXQtcmVmZXJlbmNlXCJdLnZhbHVlLnRvU3RyaW5nKCksXG4gICAgICApO1xuICAgIGlmIChcbiAgICAgIHNlbGYubm9kZUNvbnRleHQucGFyZW50ICYmXG4gICAgICBmbG9hdFJlZmVyZW5jZSAmJlxuICAgICAgUGFnZUZsb2F0cy5pc1BhZ2VGbG9hdChmbG9hdFJlZmVyZW5jZSlcbiAgICApIHtcbiAgICAgIC8vIFNpbmNlIGEgcGFnZSBmbG9hdCB3aWxsIGJlIGRldGFjaGVkIGZyb20gYSB2aWV3IG5vZGUgb2YgaXRzIHBhcmVudCxcbiAgICAgIC8vIGluaGVyaXRlZCBwcm9wZXJ0aWVzIG5lZWQgdG8gYmUgaW5oZXJpdGVkIGZyb20gaXRzIHNvdXJjZSBwYXJlbnQuXG4gICAgICBjb25zdCBpbmhlcml0ZWRWYWx1ZXMgPSBzZWxmLmluaGVyaXRGcm9tU291cmNlUGFyZW50KGVsZW1lbnRTdHlsZSk7XG4gICAgICBlbGVtZW50U3R5bGUgPSBpbmhlcml0ZWRWYWx1ZXMuZWxlbWVudFN0eWxlO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC5sYW5nID0gaW5oZXJpdGVkVmFsdWVzLmxhbmc7XG4gICAgfVxuICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwgPSBzZWxmLmNvbXB1dGVTdHlsZShcbiAgICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICBzZWxmLm5vZGVDb250ZXh0LmRpcmVjdGlvbiA9PT0gXCJydGxcIixcbiAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBzdHlsZXIucHJvY2Vzc0NvbnRlbnQoZWxlbWVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgdGhpcy50cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyhjb21wdXRlZFN0eWxlKTtcbiAgICB0aGlzLmluaGVyaXRMYW5nQXR0cmlidXRlKCk7XG4gICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXJlY3Rpb25cIl0pIHtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQuZGlyZWN0aW9uID0gY29tcHV0ZWRTdHlsZVtcImRpcmVjdGlvblwiXS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vIFNvcnQgb3V0IHRoZSBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZmxvdyA9IGNvbXB1dGVkU3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgaWYgKGZsb3cgJiYgZmxvdy50b1N0cmluZygpICE9IHNlbGYuZmxvd05hbWUpIHtcbiAgICAgIC8vIGZvcmVpZ24gZmxvdywgZG9uJ3QgY3JlYXRlIGEgdmlld1xuICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gICAgbGV0IGRpc3BsYXkgPSBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgIC8vIG5vIGNvbnRlbnRcbiAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50ID09IG51bGw7XG4gICAgc2VsZi5ub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyID0gZGlzcGxheSA9PT0gQ3NzLmlkZW50LmZsZXg7XG4gICAgc2VsZlxuICAgICAgLmNyZWF0ZVNoYWRvd3MoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGlzUm9vdCxcbiAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LFxuICAgICAgKVxuICAgICAgLnRoZW4oKHNoYWRvd1BhcmFtKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHNoYWRvd1BhcmFtO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGVbXCJwb3NpdGlvblwiXTtcbiAgICAgICAgbGV0IGZsb2F0U2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXTtcbiAgICAgICAgbGV0IGNsZWFyU2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJjbGVhclwiXTtcbiAgICAgICAgY29uc3Qgd3JpdGluZ01vZGUgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICA6IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuICAgICAgICBjb25zdCBwYXJlbnRXcml0aW5nTW9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgPyBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC52ZXJ0aWNhbFxuICAgICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICAgIDogQ3NzLmlkZW50Lmhvcml6b250YWxfdGJcbiAgICAgICAgICA6IHdyaXRpbmdNb2RlO1xuICAgICAgICBjb25zdCBpc0Zsb3dSb290ID0gRGlzcGxheS5pc0Zsb3dSb290KGVsZW1lbnQpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmVzdGFibGlzaGVzQkZDID0gRGlzcGxheS5lc3RhYmxpc2hlc0JGQyhcbiAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1wib3ZlcmZsb3dcIl0sXG4gICAgICAgICAgd3JpdGluZ01vZGUsXG4gICAgICAgICAgcGFyZW50V3JpdGluZ01vZGUsXG4gICAgICAgICAgaXNGbG93Um9vdCxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IERpc3BsYXkuZXN0YWJsaXNoZXNDQkZvckFic29sdXRlKFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pc0luc2lkZUJGQygpICYmXG4gICAgICAgICAgZmxvYXRTaWRlICE9PSBDc3MuaWRlbnQuZm9vdG5vdGUgJiZcbiAgICAgICAgICAhKGZsb2F0UmVmZXJlbmNlICYmIFBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQoZmxvYXRSZWZlcmVuY2UpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgaW5zaWRlIGEgYmxvY2sgZm9ybWF0dGluZyBjb250ZXh0XG4gICAgICAgICAgLy8gKGV4Y2VwdCBvbmUgZnJvbSB0aGUgcm9vdCksIGZsb2F0IGFuZCBjbGVhciBjYW4gYmUgY29udHJvbGxlZCBieVxuICAgICAgICAgIC8vIHRoZSBicm93c2VyIGFuZCB3ZSBkb24ndCBuZWVkIHRvIGNhcmUuXG4gICAgICAgICAgZmxvYXRTaWRlID0gbnVsbDtcbiAgICAgICAgICBjbGVhclNpZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmbG9hdGluZyA9XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQubGVmdCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQudG9wIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYm90dG9tIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX2VuZCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmJsb2NrX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYmxvY2tfZW5kIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuc25hcF9ibG9jayB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlO1xuICAgICAgICBpZiAoZmxvYXRTaWRlKSB7XG4gICAgICAgICAgLy8gRG9uJ3Qgd2FudCB0byBzZXQgaXQgaW4gdmlldyBET00gQ1NTLlxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiZmxvYXRcIl07XG4gICAgICAgICAgaWYgKGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0Zvb3Rub3RlKSB7XG4gICAgICAgICAgICAgIC8vIE5vIGZvb3Rub3RlcyBpbnNpZGUgZm9vdG5vdGVzLiBzZWxmIGlzIG1vc3QgbGlrZWx5IHRoZSByb290XG4gICAgICAgICAgICAgIC8vIG9mIHRoZSBmb290bm90ZSBib2R5IGJlaW5nIHJlbmRlcmVkIGluIGZvb3Rub3RlIGFyZWEuIFRyZWF0XG4gICAgICAgICAgICAgIC8vIGFzIGJsb2NrLlxuICAgICAgICAgICAgICBmbG9hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID0gQ3NzLmlkZW50LmlubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFyU2lkZSkge1xuICAgICAgICAgIGlmIChjbGVhclNpZGUgPT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiYgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuY2xlYXJTaWRlKSB7XG4gICAgICAgICAgICAgIGNsZWFyU2lkZSA9IENzcy5nZXROYW1lKHNlbGYubm9kZUNvbnRleHQucGFyZW50LmNsZWFyU2lkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmxlZnQgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC50b3AgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmJvdHRvbSB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYm90aCB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYWxsIHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5zYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtcImNsZWFyXCJdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAmJlxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAhPSBDc3MuaWRlbnQuaW5saW5lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jbGVhclNpZGUgPSBjbGVhclNpZGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPVxuICAgICAgICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC5saXN0X2l0ZW0gJiZcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmxvYXRpbmcgfHxcbiAgICAgICAgICAoY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAmJlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAhPT0gQ3NzLmlkZW50LmF1dG8pXG4gICAgICAgICkge1xuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtQZW5hbHR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRpc3BsYXkgJiZcbiAgICAgICAgICBkaXNwbGF5ICE9PSBDc3MuaWRlbnQuaW5saW5lICYmXG4gICAgICAgICAgRGlzcGxheS5pc0lubGluZUxldmVsKGRpc3BsYXkpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIERvbid0IGJyZWFrIGluc2lkZSBydWJ5LCBpbmxpbmUtYmxvY2ssIGV0Yy5cbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrUGVuYWx0eSsrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuaW5saW5lID1cbiAgICAgICAgICAoIWZsb2F0aW5nICYmICFkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNJbmxpbmVMZXZlbChkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNSdWJ5SW50ZXJuYWxEaXNwbGF5KGRpc3BsYXkpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmRpc3BsYXkgPSBkaXNwbGF5ID8gZGlzcGxheS50b1N0cmluZygpIDogXCJpbmxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFNpZGUgPSBmbG9hdGluZyA/IGZsb2F0U2lkZS50b1N0cmluZygpIDogbnVsbDtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZSA9XG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UgfHwgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuZmxvYXRNaW5XcmFwQmxvY2sgPVxuICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiXSB8fCBudWxsO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmNvbHVtblNwYW4gPSBjb21wdXRlZFN0eWxlW1wiY29sdW1uLXNwYW5cIl07XG4gICAgICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICBjb25zdCBicmVha0FmdGVyID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWFmdGVyXCJdO1xuICAgICAgICAgIGlmIChicmVha0FmdGVyKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGJyZWFrQmVmb3JlID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWJlZm9yZVwiXTtcbiAgICAgICAgICBpZiAoYnJlYWtCZWZvcmUpIHtcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtCZWZvcmUgPSBicmVha0JlZm9yZS50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ24gPVxuICAgICAgICAgIChjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ2ZXJ0aWNhbC1hbGlnblwiXS50b1N0cmluZygpKSB8fFxuICAgICAgICAgIFwiYmFzZWxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jYXB0aW9uU2lkZSA9XG4gICAgICAgICAgKGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0udG9TdHJpbmcoKSkgfHxcbiAgICAgICAgICBcInRvcFwiO1xuICAgICAgICBjb25zdCBib3JkZXJDb2xsYXBzZSA9IGNvbXB1dGVkU3R5bGVbXCJib3JkZXItY29sbGFwc2VcIl07XG4gICAgICAgIGlmICghYm9yZGVyQ29sbGFwc2UgfHwgYm9yZGVyQ29sbGFwc2UgPT09IENzcy5nZXROYW1lKFwic2VwYXJhdGVcIikpIHtcbiAgICAgICAgICBjb25zdCBib3JkZXJTcGFjaW5nID0gY29tcHV0ZWRTdHlsZVtcImJvcmRlci1zcGFjaW5nXCJdO1xuICAgICAgICAgIGxldCBpbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgICAgICAgIGxldCBibG9ja0JvcmRlclNwYWNpbmc7XG4gICAgICAgICAgaWYgKGJvcmRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgIGlmIChib3JkZXJTcGFjaW5nLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgICAgICAgICAgaW5saW5lQm9yZGVyU3BhY2luZyA9IGJvcmRlclNwYWNpbmcudmFsdWVzWzBdO1xuICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcgPSBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlubGluZUJvcmRlclNwYWNpbmcuaXNOdW1lcmljKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrQm9yZGVyU3BhY2luZy5pc051bWVyaWMoKSkge1xuICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJsb2NrQm9yZGVyU3BhY2luZyA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZvb3Rub3RlUG9saWN5ID0gY29tcHV0ZWRTdHlsZVtcImZvb3Rub3RlLXBvbGljeVwiXTtcbiAgICAgICAgY29uc3QgZmlyc3RQc2V1ZG8gPSBjb21wdXRlZFN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl07XG4gICAgICAgIGlmIChmaXJzdFBzZXVkbykge1xuICAgICAgICAgIGNvbnN0IG91dGVyUHNldWRvID0gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnRcbiAgICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuZmlyc3RQc2V1ZG9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZpcnN0UHNldWRvID0gbmV3IFZ0cmVlLkZpcnN0UHNldWRvKFxuICAgICAgICAgICAgb3V0ZXJQc2V1ZG8sXG4gICAgICAgICAgICAvKiogQ3NzLkludCAqL1xuICAgICAgICAgICAgZmlyc3RQc2V1ZG8ubnVtLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgIHNlbGYucHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICAgICAgc3R5bGVyLFxuICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2hpdGVzcGFjZSA9IGNvbXB1dGVkU3R5bGVbXCJ3aGl0ZS1zcGFjZVwiXTtcbiAgICAgICAgaWYgKHdoaXRlc3BhY2UpIHtcbiAgICAgICAgICBjb25zdCB3aGl0ZXNwYWNlVmFsdWUgPSBWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUoXG4gICAgICAgICAgICB3aGl0ZXNwYWNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAod2hpdGVzcGFjZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LndoaXRlc3BhY2UgPSB3aGl0ZXNwYWNlVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh5cGhlbmF0ZUNoYXJhY3RlciA9IGNvbXB1dGVkU3R5bGVbXCJoeXBoZW5hdGUtY2hhcmFjdGVyXCJdO1xuICAgICAgICBpZiAoaHlwaGVuYXRlQ2hhcmFjdGVyICYmIGh5cGhlbmF0ZUNoYXJhY3RlciAhPT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciA9IGh5cGhlbmF0ZUNoYXJhY3Rlci5zdHI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29yZEJyZWFrID0gY29tcHV0ZWRTdHlsZVtcIndvcmQtYnJlYWtcIl07XG4gICAgICAgIGNvbnN0IG92ZXJmbG93V3JhcCA9IGNvbXB1dGVkU3R5bGVbXCJvdmVyZmxvdy13cmFwXCJdIHx8IFtcIndvcmQtd3JhcFwiXTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5icmVha1dvcmQgPVxuICAgICAgICAgIHdvcmRCcmVhayA9PT0gQ3NzLmlkZW50LmJyZWFrX2FsbCB8fFxuICAgICAgICAgIG92ZXJmbG93V3JhcCA9PT0gQ3NzLmlkZW50LmJyZWFrX3dvcmQ7XG5cbiAgICAgICAgLy8gUmVzb2x2ZSBmb3JtYXR0aW5nIGNvbnRleHRcbiAgICAgICAgc2VsZi5yZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dCxcbiAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgICApIHtcbiAgICAgICAgICBmaXJzdFRpbWUgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dC5pc0ZpcnN0VGltZShcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQsXG4gICAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYubm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gc2VsZi5wcm9jZXNzUmVwZWF0T25CcmVhayhcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZWxmLmZpbmRBbmRQcm9jZXNzUmVwZWF0aW5nRWxlbWVudHMoZWxlbWVudCwgc3R5bGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdmlldyBlbGVtZW50XG4gICAgICAgIGxldCBjdXN0b20gPSBmYWxzZTtcbiAgICAgICAgbGV0IGlubmVyOiBFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY29uc3QgZmV0Y2hlcnMgPSBbXTtcbiAgICAgICAgbGV0IG5zID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgICAgIGxldCB0YWcgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKG5zID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0YWcgPT0gXCJodG1sXCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImJvZHlcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwic2NyaXB0XCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImxpbmtcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwibWV0YVwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0YWcgPSBcImRpdlwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwidmlkZV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJ2aWRlb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwiYXVkaV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJhdWRpb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9ICEhc2VsZi5jdXN0b21SZW5kZXJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFBzZXVkb0VsZW1lbnQuUFNFVURPX0FUVFIpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGVsZW1lbnRTdHlsZVtcImNvbnRlbnRcIl0gJiZcbiAgICAgICAgICAgICAgZWxlbWVudFN0eWxlW1wiY29udGVudFwiXS52YWx1ZSAmJlxuICAgICAgICAgICAgICBlbGVtZW50U3R5bGVbXCJjb250ZW50XCJdLnZhbHVlLnVybFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHRhZyA9IFwiaW1nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgICAgIHRhZyA9IFwic3BhblwiO1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLkZCMikge1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgICBpZiAodGFnID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhMSU5LLCBcImhyZWZcIik7XG4gICAgICAgICAgICBpZiAoaW1hZ2VSZWYgJiYgaW1hZ2VSZWYuY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlQmluYXJ5ID0gc2VsZi54bWxkb2MuZ2V0RWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgICAgICAgIGlmIChpbWFnZUJpbmFyeSkge1xuICAgICAgICAgICAgICAgIGlubmVyID0gc2VsZi5jcmVhdGVFbGVtZW50KG5zLCBcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYVR5cGUgPVxuICAgICAgICAgICAgICAgICAgaW1hZ2VCaW5hcnkuZ2V0QXR0cmlidXRlKFwiY29udGVudC10eXBlXCIpIHx8IFwiaW1hZ2UvanBlZ1wiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyU3JjID0gYGRhdGE6JHttZWRpYVR5cGV9O2Jhc2U2NCwke2ltYWdlQmluYXJ5LnRleHRDb250ZW50LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvWyBcXHRcXG5cXHRdL2csXG4gICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICl9YDtcbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKFRhc2tVdGlsLmxvYWRFbGVtZW50KGlubmVyLCBpbm5lclNyYykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9IGZiMlJlbWFwW3RhZ107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGFnKSB7XG4gICAgICAgICAgICB0YWcgPSBzZWxmLm5vZGVDb250ZXh0LmlubGluZSA/IFwic3BhblwiIDogXCJkaXZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5OQ1gpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgaWYgKHRhZyA9PSBcIm5jeFwiIHx8IHRhZyA9PSBcIm5hdlBvaW50XCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJuYXZMYWJlbFwiKSB7XG4gICAgICAgICAgICAvLyBDaGVhdCBoZXJlLiBUcmFuc2xhdGUgc291cmNlIHRvIEhUTUwsIHNvIGl0IHdpbGwgcGx1Z1xuICAgICAgICAgICAgLy8gaW4gaW50byB0aGUgcmVzdCBvZiB0aGUgcGlwZWxpbmUuXG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICAgIGNvbnN0IG5hdlBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChuYXZQYXJlbnQpIHtcbiAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29udGVudCBlbGVtZW50XG4gICAgICAgICAgICAgIGxldCBocmVmOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5hdlBhcmVudC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnQgPSBjIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLk5DWCAmJlxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmxvY2FsTmFtZSA9PSBcImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaHJlZiA9IGNoaWxkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSBcImFcIjtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgXCJhXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5TSEFET1cpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgdGFnID0gc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VzdG9tID0gISFzZWxmLmN1c3RvbVJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHRhZyA9IFwibGlcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcImJvZHlcIiB8fCB0YWcgPT0gXCJsaVwiKSB7XG4gICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJxXCIpIHtcbiAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICBjb25zdCBocCA9IGNvbXB1dGVkU3R5bGVbXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiXTtcbiAgICAgICAgICBpZiAoaHAgJiYgaHAudG9TdHJpbmcoKSAhPSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXSkge1xuICAgICAgICAgIGNvbnN0IGJlaGF2aW9yID0gY29tcHV0ZWRTdHlsZVtcImJlaGF2aW9yXCJdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgaWYgKGJlaGF2aW9yICE9IFwibm9uZVwiICYmIHNlbGYuY3VzdG9tUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldCAmJlxuICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXRoLXR5cGVzZXRcIikgPT09IFwidHJ1ZVwiXG4gICAgICAgICkge1xuICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVsZW1SZXN1bHQ6IFRhc2suUmVzdWx0PEVsZW1lbnQ+O1xuICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgICA/IHNlbGYubm9kZUNvbnRleHQucGFyZW50LnZpZXdOb2RlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgZWxlbVJlc3VsdCA9IHNlbGYuY3VzdG9tUmVuZGVyZXIoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGFyZW50Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1SZXN1bHQgPSBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtUmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChjdXN0b20pIHtcbiAgICAgICAgICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICByZXN1bHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIpID09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzZWxmLmNyZWF0ZUVsZW1lbnQobnMsIHRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZi5wYWdlLmhyZWZIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbm5lcikge1xuICAgICAgICAgICAgc2VsZi5hcHBseVBzZXVkb2VsZW1lbnRTdHlsZShzZWxmLm5vZGVDb250ZXh0LCBcImlubmVyXCIsIGlubmVyKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRDaGlsZChpbm5lcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhbE5hbWUgPT0gXCJpZnJhbWVcIiAmJlxuICAgICAgICAgICAgcmVzdWx0Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbml0SUZyYW1lKHJlc3VsdCBhcyBIVE1MSUZyYW1lRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGltYWdlUmVzb2x1dGlvbiA9IHNlbGYubm9kZUNvbnRleHQuaW5oZXJpdGVkUHJvcHNbXG4gICAgICAgICAgICBcImltYWdlLXJlc29sdXRpb25cIlxuICAgICAgICAgIF0gYXMgbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGltYWdlczoge1xuICAgICAgICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgICAgICAgfVtdID0gW107XG4gICAgICAgICAgY29uc3QgY3NzV2lkdGggPSBjb21wdXRlZFN0eWxlW1wid2lkdGhcIl07XG4gICAgICAgICAgY29uc3QgY3NzSGVpZ2h0ID0gY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXTtcbiAgICAgICAgICBjb25zdCBhdHRyV2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICAgIGNvbnN0IGF0dHJIZWlnaHQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICBjb25zdCBoYXNBdXRvV2lkdGggPVxuICAgICAgICAgICAgY3NzV2lkdGggPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzV2lkdGggJiYgIWF0dHJXaWR0aCk7XG4gICAgICAgICAgY29uc3QgaGFzQXV0b0hlaWdodCA9XG4gICAgICAgICAgICBjc3NIZWlnaHQgPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzSGVpZ2h0ICYmICFhdHRySGVpZ2h0KTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgIT0gQmFzZS5OUy5GQjIgfHwgdGFnID09IFwidGRcIikge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvdW50ID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgZGVsYXllZFNyYzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTlMgPSBhdHRyaWJ1dGUubmFtZXNwYWNlVVJJO1xuICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgIGlmICghYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5tYXRjaCgvXm9uLykpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBkb24ndCBwcm9wYWdhdGUgSmF2YVNjcmlwdCBjb2RlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHdlIGRvIHN0eWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaWRcIiB8fCBhdHRyaWJ1dGVOYW1lID09IFwibmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGUgdHJhbnNmb3JtZWQgaWRzIGFuZCBjb2xsZWN0IHRoZW0gb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICAgIC8vIChvbmx5IGZpcnN0IHRpbWUpLlxuICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UucmVnaXN0ZXJFbGVtZW50V2l0aElkKHJlc3VsdCwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB1bmRlcnN0YW5kIHRoZSBlbGVtZW50IHdlIGFyZSB3b3JraW5nIHdpdGguXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwicG9zdGVyXCJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gc2VsZi5yZXNvbHZlVVJMKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSBcImhyZWZcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTmFtZSA9PSBcInNyY3NldFwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgodmFsdWUpID0+IHNlbGYucmVzb2x2ZVVSTCh2YWx1ZS50cmltKCkpKVxuICAgICAgICAgICAgICAgICAgICAuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT09IFwicG9zdGVyXCIgJiZcbiAgICAgICAgICAgICAgICAgIHRhZyA9PT0gXCJ2aWRlb1wiICYmXG4gICAgICAgICAgICAgICAgICBucyA9PT0gQmFzZS5OUy5YSFRNTCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b1dpZHRoICYmXG4gICAgICAgICAgICAgICAgICBoYXNBdXRvSGVpZ2h0XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hlciA9IFRhc2tVdGlsLmxvYWRFbGVtZW50KGltYWdlLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGZldGNoZXIpO1xuICAgICAgICAgICAgICAgICAgaW1hZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogcmVzdWx0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBmZXRjaGVyLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZU5TID09IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBuYW1lc3BhY2UgZGVjbGFyYXRpb24gKGluIEZpcmVmb3gpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTlMgPT0gQmFzZS5OUy5YTElOSykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYucmVzb2x2ZVVSTChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChucyA9PSBCYXNlLk5TLlNWRyAmJiAvXltBLVpcXC1dKyQvLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBFZGdlIGJ1Z1xuICAgICAgICAgICAgICAgIC8vIFNlZVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzU1NzkzMTEvXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2VsZi5pc1NWR1VybEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gVXJscy50cmFuc2Zvcm1VUklzKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICBzZWxmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVQcmVmaXggPSBuYW1lc3BhY2VQcmVmaXhNYXBbYXR0cmlidXRlTlNdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBgJHthdHRyaWJ1dGVQcmVmaXh9OiR7YXR0cmlidXRlTmFtZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiICYmXG4gICAgICAgICAgICAgICAgIWF0dHJpYnV0ZU5TICYmXG4gICAgICAgICAgICAgICAgKHRhZyA9PSBcImltZ1wiIHx8IHRhZyA9PSBcImlucHV0XCIpICYmXG4gICAgICAgICAgICAgICAgbnMgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBIVE1MIGltZyBlbGVtZW50IHNob3VsZCBzdGFydCBsb2FkaW5nIG9ubHkgb25jZSBhbGxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZC5cbiAgICAgICAgICAgICAgICBkZWxheWVkU3JjID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcImhyZWZcIiAmJlxuICAgICAgICAgICAgICAgIHRhZyA9PSBcImltYWdlXCIgJiZcbiAgICAgICAgICAgICAgICBucyA9PSBCYXNlLk5TLlNWRyAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TID09IEJhc2UuTlMuWExJTktcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlLmZldGNoZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBUYXNrVXRpbC5sb2FkRWxlbWVudChyZXN1bHQsIGF0dHJpYnV0ZVZhbHVlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGRvY3VtZW50IGlzIG5vdCBYTUwgZG9jdW1lbnQgKGUuZy4gbm9uLVhNTCBIVE1MKVxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZU5TIGNhbiBiZSBudWxsXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5TKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlTlMoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGF5ZWRTcmMpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0YWcgPT09IFwiaW5wdXRcIiA/IG5ldyBJbWFnZSgpIDogcmVzdWx0O1xuICAgICAgICAgICAgICBjb25zdCBpbWFnZUZldGNoZXIgPSBUYXNrVXRpbC5sb2FkRWxlbWVudChpbWFnZSwgZGVsYXllZFNyYyk7XG4gICAgICAgICAgICAgIGlmIChpbWFnZSAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmMgPSBkZWxheWVkU3JjO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaGFzQXV0b1dpZHRoICYmICFoYXNBdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB3YWl0IGZvciB0aGUgaW1hZ2UsIGRvZXMgbm90IGFmZmVjdCBsYXlvdXRcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UuZmV0Y2hlcnMucHVzaChpbWFnZUZldGNoZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGhhc0F1dG9XaWR0aCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b0hlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvbHV0aW9uICYmXG4gICAgICAgICAgICAgICAgICBpbWFnZVJlc29sdXRpb24gIT09IDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiByZXN1bHQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoZXI6IGltYWdlRmV0Y2hlcixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGltYWdlRmV0Y2hlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgICAgIGNvbnN0IGxpc3RTdHlsZUltYWdlID0gY29tcHV0ZWRTdHlsZVtcImxpc3Qtc3R5bGUtaW1hZ2VcIl07XG4gICAgICAgICAgaWYgKGxpc3RTdHlsZUltYWdlICYmIGxpc3RTdHlsZUltYWdlIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdFN0eWxlVVJMID0gKGxpc3RTdHlsZUltYWdlIGFzIENzcy5VUkwpLnVybDtcbiAgICAgICAgICAgIGZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIGxpc3RTdHlsZVVSTCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnByZXByb2Nlc3NFbGVtZW50U3R5bGUoY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgc2VsZi5hcHBseUNvbXB1dGVkU3R5bGVzKHJlc3VsdCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgbGV0IGJsYWNrTGlzdDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wc1tcImJveC1kZWNvcmF0aW9uLWJyZWFrXCJdICE9PVxuICAgICAgICAgICAgICAgIFwiY2xvbmVcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgICA/IGZyb250RWRnZUJsYWNrTGlzdFZlcnRcbiAgICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lLCBjbG9uZWQgbWFyZ2lucyBhcmUgYWx3YXlzXG4gICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGVkIHRvIHplcm8uXG4gICAgICAgICAgICAgICAgYmxhY2tMaXN0ID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgICAgOiBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF0VW5mb3JjZWRCcmVhaykge1xuICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJlc3VsdCwgcHJvcE5hbWUsIGJsYWNrTGlzdFtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdLnN0cmluZ1ZhbHVlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnZpZXdOb2RlID0gcmVzdWx0O1xuICAgICAgICAgIGlmIChmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhmZXRjaGVycykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbWFnZVJlc29sdXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgICAgIGltYWdlcyxcbiAgICAgICAgICAgICAgICAgIGltYWdlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5lZWRUb1Byb2Nlc3NDaGlsZHJlbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUudGltZVNsaWNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICkge1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IHRoaXMuZ2V0UHNldWRvTWFwKFxuICAgICAgY2FzY1N0eWxlLFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLmlzRm9vdG5vdGUsXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHBzZXVkb01hcFtcImFmdGVyLWlmLWNvbnRpbnVlc1wiXSAmJlxuICAgICAgcHNldWRvTWFwW1wiYWZ0ZXItaWYtY29udGludWVzXCJdW1wiY29udGVudFwiXVxuICAgICkge1xuICAgICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY2FzY1N0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgICAgICk7XG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXMgPSBuZXcgTGF5b3V0LkFmdGVySWZDb250aW51ZXMoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHNoYWRvd1N0eWxlcixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaXNTVkdVcmxBdHRyaWJ1dGVcbiAgICovXG4gIGlzU1ZHVXJsQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBWaWV3RmFjdG9yeS5TVkdfVVJMX0FUVFJJQlVURVMuaW5jbHVkZXMoYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIG1vZGlmeUVsZW1EaW1lbnNpb25XaXRoSW1hZ2VSZXNvbHV0aW9uKFxuICAgIGltYWdlczoge1xuICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgfVtdLFxuICAgIGltYWdlUmVzb2x1dGlvbjogbnVtYmVyLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGltYWdlcy5mb3JFYWNoKChwYXJhbSkgPT4ge1xuICAgICAgaWYgKHBhcmFtLmZldGNoZXIuZ2V0KCkuZ2V0KCkgPT09IFwibG9hZFwiKSB7XG4gICAgICAgIGNvbnN0IGltZyA9IHBhcmFtLmltYWdlO1xuICAgICAgICBsZXQgc2NhbGVkV2lkdGggPSAoaW1nIGFzIEhUTUxJbWFnZUVsZW1lbnQpLndpZHRoIC8gaW1hZ2VSZXNvbHV0aW9uO1xuICAgICAgICBsZXQgc2NhbGVkSGVpZ2h0ID0gKGltZyBhcyBIVE1MSW1hZ2VFbGVtZW50KS5oZWlnaHQgLyBpbWFnZVJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGVsZW0gPSBwYXJhbS5lbGVtZW50O1xuICAgICAgICBpZiAoc2NhbGVkV2lkdGggPiAwICYmIHNjYWxlZEhlaWdodCA+IDApIHtcbiAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJveC1zaXppbmdcIl0gPT09IENzcy5pZGVudC5ib3JkZXJfYm94KSB7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiYm9yZGVyLXJpZ2h0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSxcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atc3R5bGVcIl0gIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIHNjYWxlZEhlaWdodCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGltYWdlUmVzb2x1dGlvbiA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1heC13aWR0aFwiXSB8fCBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNvbXB1dGVkU3R5bGVbXCJtYXgtaGVpZ2h0XCJdIHx8IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgaWYgKG1heFdpZHRoID09PSBDc3MuaWRlbnQubm9uZSAmJiBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJtYXgtd2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIG1heFdpZHRoICE9PSBDc3MuaWRlbnQubm9uZSAmJlxuICAgICAgICAgICAgICBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBtYXhXaWR0aCA9PT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0ICE9PSBDc3MuaWRlbnQubm9uZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBtYXhXaWR0aCAhPSBub25lICYmIG1heEhlaWdodCAhPSBub25lXG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG1heFdpZHRoLmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobWF4SGVpZ2h0LmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY01heFdpZHRoID0gbWF4V2lkdGggYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNYXhIZWlnaHQgPSBtYXhIZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGlmIChudW1lcmljTWF4V2lkdGgudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LXdpZHRoXCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIENzcy50b051bWJlcihudW1lcmljTWF4V2lkdGgsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bWVyaWNNYXhIZWlnaHQudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgYCR7TWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNYXhIZWlnaHQsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiaGVpZ2h0XCIsIGAke3NjYWxlZEhlaWdodH1weGApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwid2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlUmVzb2x1dGlvbiA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbldpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1pbi13aWR0aFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSBjb21wdXRlZFN0eWxlW1wibWluLWhlaWdodFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljTWluV2lkdGggPSBtaW5XaWR0aCBhcyBDc3MuTnVtZXJpYztcbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNaW5IZWlnaHQgPSBtaW5IZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBpZiAobnVtZXJpY01pbldpZHRoLm51bSA9PT0gMCAmJiBudW1lcmljTWluSGVpZ2h0Lm51bSA9PT0gMCkge1xuICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwibWluLXdpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtICE9PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtID09PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtICE9PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImhlaWdodFwiLCBgJHtzY2FsZWRIZWlnaHR9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG1pbldpZHRoICE9IDAgJiYgbWluSGVpZ2h0ICE9IDBcbiAgICAgICAgICAgICAgaWYgKG51bWVyaWNNaW5XaWR0aC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4td2lkdGhcIixcbiAgICAgICAgICAgICAgICAgIGAke01hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBzY2FsZWRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNaW5XaWR0aCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtZXJpY01pbkhlaWdodC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4taGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBDc3MudG9OdW1iZXIobnVtZXJpY01pbkhlaWdodCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJ3aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBwcmVwcm9jZXNzRWxlbWVudFN0eWxlKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzRWxlbWVudFN0eWxlSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5QUkVQUk9DRVNTX0VMRU1FTlRfU1RZTEUsXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBob29rKHNlbGYubm9kZUNvbnRleHQsIGNvbXB1dGVkU3R5bGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQW5kUHJvY2Vzc1JlcGVhdGluZ0VsZW1lbnRzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgc3R5bGVyOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIsXG4gICkge1xuICAgIGZvciAoXG4gICAgICBsZXQgY2hpbGQ6IE5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBjaGlsZDtcbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICApIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB7fTtcbiAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZSA9IHN0eWxlci5nZXRTdHlsZShjaGlsZCBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBwcm9jZXNzUmVwZWF0T25CcmVhayA9IHRoaXMucHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZSk7XG4gICAgICBpZiAoIXByb2Nlc3NSZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2ZcbiAgICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAgICF0aGlzLm5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgY29uc3QgcGFyZW50Rm9ybWF0dGluZ0NvbnRleHQgPSBwYXJlbnQgJiYgcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IG5ldyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBwYXJlbnRGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgKHRoaXMubm9kZUNvbnRleHRcbiAgICAgICAgLmZvcm1hdHRpbmdDb250ZXh0IGFzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQpLmluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHMoXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHtcbiAgICBsZXQgcmVwZWF0T25CcmVhayA9IGNvbXB1dGVkU3R5bGVbXCJyZXBlYXQtb24tYnJlYWtcIl07XG4gICAgaWYgKHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICBpZiAocmVwZWF0T25CcmVhayA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID09PSBDc3MuaWRlbnQudGFibGVfaGVhZGVyX2dyb3VwKSB7XG4gICAgICAgICAgcmVwZWF0T25CcmVhayA9IENzcy5pZGVudC5oZWFkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPT09IENzcy5pZGVudC50YWJsZV9mb290ZXJfZ3JvdXApIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50LmZvb3RlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXBlYXRPbkJyZWFrICYmIHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgIHJldHVybiByZXBlYXRPbkJyZWFrLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUZXh0Tm9kZVZpZXcoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZVRleHROb2RlVmlld1wiKTtcbiAgICB0aGlzLnByZXByb2Nlc3NUZXh0Q29udGVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgb2Zmc2V0SW5Ob2RlID0gc2VsZi5vZmZzZXRJbk5vZGUgfHwgMDtcbiAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICAgICkuc3Vic3RyKG9mZnNldEluTm9kZSk7XG4gICAgICBzZWxmLnZpZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpO1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJlcHJvY2Vzc1RleHRDb250ZW50KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBvcmlnaW5sOiBzdHJpbmc7XG4gICAgbGV0IHRleHRDb250ZW50ID0gKG9yaWdpbmwgPSBzZWxmLnNvdXJjZU5vZGUudGV4dENvbnRlbnQpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInByZXByb2Nlc3NUZXh0Q29udGVudFwiKTtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlByZVByb2Nlc3NUZXh0Q29udGVudEhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUFJFUFJPQ0VTU19URVhUX0NPTlRFTlQsXG4gICAgKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA+PSBob29rcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob29rc1tpbmRleCsrXShzZWxmLm5vZGVDb250ZXh0LCB0ZXh0Q29udGVudCkudGhlbkFzeW5jKFxuICAgICAgICAgIChwcm9jZXNzZWRUZXh0KSA9PiB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudCA9IHByb2Nlc3NlZFRleHQ7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSBEaWZmLmRpZmZDaGFycyhcbiAgICAgICAgICBvcmlnaW5sLFxuICAgICAgICAgIHRleHRDb250ZW50LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgY3JlYXRlTm9kZVZpZXcoXG4gICAgZmlyc3RUaW1lOiBib29sZWFuLFxuICAgIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZU5vZGVWaWV3XCIpO1xuICAgIGxldCByZXN1bHQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGxldCBuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4gPSB0cnVlO1xuICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVFbGVtZW50VmlldyhmaXJzdFRpbWUsIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gOCkge1xuICAgICAgICBzZWxmLnZpZXdOb2RlID0gbnVsbDsgLy8gY29tbWVudCBub2RlXG4gICAgICAgIHJlc3VsdCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVUZXh0Tm9kZVZpZXcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnRoZW4oKHByb2Nlc3NDaGlsZHJlbikgPT4ge1xuICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID0gcHJvY2Vzc0NoaWxkcmVuO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC52aWV3Tm9kZSA9IHNlbGYudmlld05vZGU7XG4gICAgICBpZiAoc2VsZi52aWV3Tm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudFxuICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQudmlld05vZGVcbiAgICAgICAgICA6IHNlbGYudmlld1Jvb3Q7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoc2VsZi52aWV3Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldEN1cnJlbnQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgdGhpcy5zb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIHRoaXMub2Zmc2V0SW5Ob2RlID0gbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5vZmZzZXRJbk5vZGUgPSAtMTtcbiAgICB9XG4gICAgdGhpcy52aWV3Tm9kZSA9IG51bGw7XG4gICAgaWYgKHRoaXMubm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5vZGVWaWV3KGZpcnN0VGltZSwgISFhdFVuZm9yY2VkQnJlYWspO1xuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBwcm9jZXNzU2hhZG93Q29udGVudChwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGlmIChcbiAgICAgIHBvcy5zaGFkb3dDb250ZXh0ID09IG51bGwgfHxcbiAgICAgIChwb3Muc291cmNlTm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWUgIT0gXCJjb250ZW50XCIgfHxcbiAgICAgIHBvcy5zb3VyY2VOb2RlLm5hbWVzcGFjZVVSSSAhPSBCYXNlLk5TLlNIQURPV1xuICAgICkge1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gcG9zLmJveE9mZnNldDtcbiAgICBjb25zdCBzaGFkb3cgPSBwb3Muc2hhZG93Q29udGV4dDtcbiAgICBjb25zdCBwYXJlbnQgPSBwb3MucGFyZW50O1xuXG4gICAgLy8gY29udGVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWRcbiAgICBsZXQgY29udGVudE5vZGU6IE5vZGU7XG4gICAgbGV0IGNvbnRlbnRTaGFkb3dUeXBlOiBWdHJlZS5TaGFkb3dUeXBlO1xuICAgIGxldCBjb250ZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIGlmIChzaGFkb3cuc3ViU2hhZG93KSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnN1YlNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93LnJvb3Q7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IHNoYWRvdy50eXBlO1xuICAgICAgaWYgKGNvbnRlbnRTaGFkb3dUeXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29udGVudE5vZGUgPSBjb250ZW50Tm9kZS5maXJzdENoaWxkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnBhcmVudFNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93Lm93bmVyLmZpcnN0Q2hpbGQ7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1M7XG4gICAgfVxuICAgIGNvbnN0IG5leHRTaWJsaW5nID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICBwb3Muc291cmNlTm9kZSA9IG5leHRTaWJsaW5nO1xuICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgIH0gZWxzZSBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgIHBvcyA9IHBvcy5zaGFkb3dTaWJsaW5nO1xuICAgIH0gZWxzZSBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIHBvcyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcyA9IHBvcy5wYXJlbnQubW9kaWZ5KCk7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIGNvbnN0IHIgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoY29udGVudE5vZGUsIHBhcmVudCwgYm94T2Zmc2V0KTtcbiAgICAgIHIuc2hhZG93Q29udGV4dCA9IGNvbnRlbnRTaGFkb3c7XG4gICAgICByLnNoYWRvd1R5cGUgPSBjb250ZW50U2hhZG93VHlwZTtcbiAgICAgIHIuc2hhZG93U2libGluZyA9IHBvcztcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBwb3MuYm94T2Zmc2V0ID0gYm94T2Zmc2V0O1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICBwcml2YXRlIG5leHRQb3NpdGlvbkluVHJlZShwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGxldCBib3hPZmZzZXQgPSBwb3MuYm94T2Zmc2V0ICsgMTsgLy8gb2Zmc2V0IGZvciB0aGUgbmV4dCBwb3NpdGlvblxuICAgIGlmIChwb3MuYWZ0ZXIpIHtcbiAgICAgIC8vIHJvb3QsIHRoYXQgd2FzIHRoZSBsYXN0IHBvc3NpYmxlIHBvc2l0aW9uXG4gICAgICBpZiAoIXBvcy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBkb25lIHdpdGggdGhpcyBzb3VyY2VOb2RlLCBzZWUgaWYgdGhlcmUgaXMgYSBuZXh0IHNpYmxpbmcsXG4gICAgICAvLyB1bmxlc3MgdGhpcyBpcyB0aGUgcm9vdCBvZiB0aGUgc2hhZG93IHRyZWVcbiAgICAgIGlmIChwb3Muc2hhZG93VHlwZSAhPSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgcG9zID0gcG9zLm1vZGlmeSgpO1xuXG4gICAgICAgICAgLy8ga2VlcCBzaGFkb3dUeXBlXG4gICAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgICBwb3Muc291cmNlTm9kZSA9IG5leHQ7XG4gICAgICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KHBvcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm8gdmlhYmxlIHNpYmxpbmdzLCBjaGVjayBpZiB0aGVyZSBhcmUgc2hhZG93IHNpYmxpbmdzXG4gICAgICBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgICAgLy8gb3VyIG5leHQgcG9zaXRpb24gaXMgdGhlIGVsZW1lbnQgYWZ0ZXIgc2hhZG93OmNvbnRlbnQgaW4gdGhlIHBhcmVudFxuICAgICAgICAvLyBzaGFkb3cgdHJlZVxuICAgICAgICBwb3MgPSBwb3Muc2hhZG93U2libGluZy5tb2RpZnkoKTtcbiAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm90IHJvb3RsZXNzIHNoYWRvdywgbW92ZSB0byB0aGUgXCJhZnRlclwiIHBvc2l0aW9uIGZvciB0aGUgcGFyZW50XG4gICAgICBwb3MgPSBwb3MucGFyZW50Lm1vZGlmeSgpO1xuICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgIHBvcy5hZnRlciA9IHRydWU7XG4gICAgICByZXR1cm4gcG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhbnkgc2hhZG93IHRyZWVzP1xuICAgICAgaWYgKHBvcy5ub2RlU2hhZG93KSB7XG4gICAgICAgIGxldCBzaGFkb3dOb2RlOiBOb2RlIHwgbnVsbCA9IHBvcy5ub2RlU2hhZG93LnJvb3Q7XG4gICAgICAgIGlmIChwb3Mubm9kZVNoYWRvdy50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgICBzaGFkb3dOb2RlID0gc2hhZG93Tm9kZS5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFkb3dOb2RlKSB7XG4gICAgICAgICAgY29uc3Qgc3IgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoc2hhZG93Tm9kZSwgcG9zLCBib3hPZmZzZXQpO1xuICAgICAgICAgIHNyLnNoYWRvd0NvbnRleHQgPSBwb3Mubm9kZVNoYWRvdztcbiAgICAgICAgICBzci5zaGFkb3dUeXBlID0gcG9zLm5vZGVTaGFkb3cudHlwZTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU2hhZG93Q29udGVudChzcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYW55IGNoaWxkcmVuP1xuICAgICAgY29uc3QgY2hpbGQgPSBwb3Muc291cmNlTm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KFxuICAgICAgICAgIG5ldyBWdHJlZS5Ob2RlQ29udGV4dChjaGlsZCwgcG9zLCBib3hPZmZzZXQpLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBubyBjaGlsZHJlbiAtIHdhcyB0aGVyZSB0ZXh0IGNvbnRlbnQ/XG4gICAgICBpZiAocG9zLnNvdXJjZU5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChwb3MucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQpO1xuICAgICAgICBib3hPZmZzZXQgKz0gY29udGVudC5sZW5ndGggLSAxIC0gcG9zLm9mZnNldEluTm9kZTtcbiAgICAgIH1cbiAgICAgIHBvcyA9IHBvcy5tb2RpZnkoKTtcbiAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gIH1cblxuICBpc1RyYW5zY2x1c2lvbihcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgdHJhbnNjbHVzaW9uVHlwZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3QgcHJvYyA9IENzc0Nhc2NhZGUuZ2V0UHJvcChlbGVtZW50U3R5bGUsIFwiaHlwZXJsaW5rLXByb2Nlc3NpbmdcIik7XG4gICAgaWYgKCFwcm9jKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHByb3AgPSBwcm9jLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiKTtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3AudG9TdHJpbmcoKSA9PSB0cmFuc2NsdXNpb25UeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dEluVHJlZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBsZXQgbm9kZUNvbnRleHQgPSB0aGlzLm5leHRQb3NpdGlvbkluVHJlZShwb3NpdGlvbik7XG4gICAgaWYgKCFub2RlQ29udGV4dCB8fCBub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcIm5leHRJblRyZWVcIik7XG4gICAgdGhpcy5zZXRDdXJyZW50KG5vZGVDb250ZXh0LCB0cnVlLCBhdFVuZm9yY2VkQnJlYWspLnRoZW4oXG4gICAgICAocHJvY2Vzc0NoaWxkcmVuKSA9PiB7XG4gICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUgfHwgIXByb2Nlc3NDaGlsZHJlbikge1xuICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgbm9kZUNvbnRleHQuYWZ0ZXIgPSB0cnVlOyAvLyBza2lwXG4gICAgICAgICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuaW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogXCJuZXh0SW5UcmVlXCIsIG5vZGVDb250ZXh0IH0gYXMgYW55KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGRJbWFnZUZldGNoZXJzKGJnOiBDc3MuVmFsKSB7XG4gICAgaWYgKGJnIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGJnIGFzIENzcy5Db21tYUxpc3QpLnZhbHVlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkSW1hZ2VGZXRjaGVycyh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYmcgaW5zdGFuY2VvZiBDc3MuVVJMKSB7XG4gICAgICBjb25zdCB1cmwgPSAoYmcgYXMgQ3NzLlVSTCkudXJsO1xuICAgICAgdGhpcy5wYWdlLmZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIHVybCkpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Q29tcHV0ZWRTdHlsZXMoXG4gICAgdGFyZ2V0OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApIHtcbiAgICBjb25zdCBiZyA9IGNvbXB1dGVkU3R5bGVbXCJiYWNrZ3JvdW5kLWltYWdlXCJdO1xuICAgIGlmIChiZykge1xuICAgICAgdGhpcy5hZGRJbWFnZUZldGNoZXJzKGJnKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWxhdGl2ZVBvc2l0aW9uZWQgPVxuICAgICAgY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdID09PSBDc3MuaWRlbnQucmVsYXRpdmU7XG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjb21wdXRlZFN0eWxlKSB7XG4gICAgICBpZiAocHJvcGVydGllc05vdFBhc3NlZFRvRE9NW3Byb3BOYW1lXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbcHJvcE5hbWVdO1xuICAgICAgdmFsdWUgPSB2YWx1ZS52aXNpdChcbiAgICAgICAgbmV3IENzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvcihcbiAgICAgICAgICB0aGlzLnhtbGRvYy51cmwsXG4gICAgICAgICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUuaXNOdW1lcmljKCkgJiZcbiAgICAgICAgRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uKCh2YWx1ZSBhcyBDc3MuTnVtZXJpYykudW5pdClcbiAgICAgICkge1xuICAgICAgICAvLyBmb250LXNpemUgZm9yIHRoZSByb290IGVsZW1lbnQgaXMgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gcHhcbiAgICAgICAgdmFsdWUgPSBDc3MuY29udmVydE51bWVyaWNUb1B4KHZhbHVlLCB0aGlzLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBWdHJlZS5kZWxheWVkUHJvcHNbcHJvcE5hbWVdIHx8XG4gICAgICAgIChpc1JlbGF0aXZlUG9zaXRpb25lZCAmJlxuICAgICAgICAgIFZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkW3Byb3BOYW1lXSlcbiAgICAgICkge1xuICAgICAgICAvLyBTZXQgaXQgYWZ0ZXIgcGFnZSBsYXlvdXQgaXMgZG9uZS5cbiAgICAgICAgdGhpcy5wYWdlLmRlbGF5ZWRJdGVtcy5wdXNoKFxuICAgICAgICAgIG5ldyBWdHJlZS5EZWxheWVkSXRlbSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZSksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogdm9pZCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCBzdHlsZXIgPSBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0XG4gICAgICA/IChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHRoaXMuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAoZWxlbWVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnRTdHlsZSA9IHBzZXVkb01hcFtwc2V1ZG9OYW1lXTtcbiAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgbm9kZUNvbnRleHQudmVydGljYWwgPSB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgbm9kZUNvbnRleHQuZGlyZWN0aW9uID09PSBcInJ0bFwiLFxuICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICApO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoY29udGVudCkpIHtcbiAgICAgIGNvbnRlbnQudmlzaXQoXG4gICAgICAgIG5ldyBWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyKFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBlZWxPZmYoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVPZmZzZXQ6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwicGVlbE9mZlwiKTtcbiAgICBjb25zdCBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvO1xuICAgIGxldCBvZmZzZXRJbk5vZGUgPSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGU7XG4gICAgY29uc3QgYWZ0ZXIgPSBub2RlQ29udGV4dC5hZnRlcjtcbiAgICBpZiAobm9kZU9mZnNldCA+IDApIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS50ZXh0Q29udGVudDtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnRleHRDb250ZW50ID0gdGV4dC5zdWJzdHIoMCwgbm9kZU9mZnNldCk7XG4gICAgICBvZmZzZXRJbk5vZGUgKz0gbm9kZU9mZnNldDtcbiAgICB9IGVsc2UgaWYgKCFhZnRlciAmJiBub2RlQ29udGV4dC52aWV3Tm9kZSAmJiBvZmZzZXRJbk5vZGUgPT0gMCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gbm9kZUNvbnRleHQuYm94T2Zmc2V0ICsgbm9kZU9mZnNldDtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICB3aGlsZSAobm9kZUNvbnRleHQuZmlyc3RQc2V1ZG8gPT09IGZpcnN0UHNldWRvKSB7XG4gICAgICBhcnIucHVzaChub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICB9XG4gICAgbGV0IHBuID0gYXJyLnBvcCgpOyAvLyBjb250YWluZXIgZm9yIHRoYXQgcHNldWRvZWxlbWVudFxuICAgIGxldCBzaGFkb3dTaWJsaW5nID0gcG4uc2hhZG93U2libGluZztcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwbiA9IGFyci5wb3AoKTtcbiAgICAgICAgICBub2RlQ29udGV4dCA9IG5ldyBWdHJlZS5Ob2RlQ29udGV4dChcbiAgICAgICAgICAgIHBuLnNvdXJjZU5vZGUsXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIGJveE9mZnNldCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IG9mZnNldEluTm9kZTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmFmdGVyID0gYWZ0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1R5cGUgPSBwbi5zaGFkb3dUeXBlO1xuICAgICAgICAgIChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0ID0gcG4uc2hhZG93Q29udGV4dCksXG4gICAgICAgICAgICAobm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHBuLm5vZGVTaGFkb3cpO1xuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1NpYmxpbmcgPSBwbi5zaGFkb3dTaWJsaW5nXG4gICAgICAgICAgICA/IHBuLnNoYWRvd1NpYmxpbmdcbiAgICAgICAgICAgIDogc2hhZG93U2libGluZztcbiAgICAgICAgICBzaGFkb3dTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBzZWxmLnNldEN1cnJlbnQobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQobnM6IHN0cmluZywgdGFnOiBzdHJpbmcpOiBFbGVtZW50IHtcbiAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcnRsOiBib29sZWFuLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAodGhpcy5mb290bm90ZVN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIHZlcnRpY2FsID0gdGhpcy5jb21wdXRlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbCxcbiAgICAgIHJ0bCxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBpZiAocHNldWRvTWFwICYmIHBzZXVkb01hcFtcImJlZm9yZVwiXSkge1xuICAgICAgY29uc3QgY2hpbGRDb21wdXRlZFN0eWxlID0ge307XG4gICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGVFbGVtZW50KEJhc2UuTlMuWEhUTUwsIFwic3BhblwiKTtcbiAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShzcGFuLCBcImJlZm9yZVwiKTtcbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIHRoaXMuY29tcHV0ZVN0eWxlKHZlcnRpY2FsLCBydGwsIHBzZXVkb01hcFtcImJlZm9yZVwiXSwgY2hpbGRDb21wdXRlZFN0eWxlKTtcbiAgICAgIGRlbGV0ZSBjaGlsZENvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgdGhpcy5hcHBseUNvbXB1dGVkU3R5bGVzKHNwYW4sIGNoaWxkQ29tcHV0ZWRTdHlsZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgICByZXR1cm4gdmVydGljYWw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIG5vZGVDb250ZXh0LndhbGtVcEJsb2NrcygoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgYm94RGVjb3JhdGlvbkJyZWFrID0gYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXTtcbiAgICAgICAgaWYgKCFib3hEZWNvcmF0aW9uQnJlYWsgfHwgYm94RGVjb3JhdGlvbkJyZWFrID09PSBcInNsaWNlXCIpIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gYmxvY2sudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gICAgICAgICAgaWYgKGJsb2NrLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwicGFkZGluZy1sZWZ0XCIsIFwiMFwiKTtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJib3JkZXItbGVmdFwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJwYWRkaW5nLWJvdHRvbVwiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29udmVydExlbmd0aFRvUHgoXG4gICAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gICAgdmlld05vZGU6IE5vZGUsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IG51bWJlciB8IENzcy5OdW1lcmljIHtcbiAgICBjb25zdCBudW0gPSBudW1lcmljLm51bTtcbiAgICBjb25zdCB1bml0ID0gbnVtZXJpYy51bml0O1xuICAgIGlmIChFeHBycy5pc0ZvbnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdCkpIHtcbiAgICAgIGxldCBlbGVtID0gdmlld05vZGU7XG4gICAgICB3aGlsZSAoZWxlbSAmJiBlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICBBc3NlcnRzLmFzc2VydChlbGVtKTtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gcGFyc2VGbG9hdChcbiAgICAgICAgY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW0gYXMgRWxlbWVudClbXCJmb250LXNpemVcIl0sXG4gICAgICApO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICAgIHJldHVybiBDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgKS5udW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuaXRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpO1xuICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgIHJldHVybiBudW0gKiB1bml0U2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudW1lcmljO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25TdGVwIGFyZSBlcXVpdmFsZW50LlxuICAgKi9cbiAgaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChcbiAgICBzdGVwMTogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgICBzdGVwMjogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKHN0ZXAxLnNoYWRvd0NvbnRleHQpIHtcbiAgICAgIGlmICghc3RlcDIuc2hhZG93Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtMSA9XG4gICAgICAgIHN0ZXAxLm5vZGUubm9kZVR5cGUgPT09IDFcbiAgICAgICAgICA/IChzdGVwMS5ub2RlIGFzIEVsZW1lbnQpXG4gICAgICAgICAgOiAoc3RlcDEubm9kZS5wYXJlbnRFbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgICAgY29uc3QgZWxlbTIgPVxuICAgICAgICBzdGVwMi5ub2RlLm5vZGVUeXBlID09PSAxXG4gICAgICAgICAgPyAoc3RlcDIubm9kZSBhcyBFbGVtZW50KVxuICAgICAgICAgIDogKHN0ZXAyLm5vZGUucGFyZW50RWxlbWVudCBhcyBFbGVtZW50KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHN0ZXAxLnNoYWRvd0NvbnRleHQub3duZXIgPT09IHN0ZXAyLnNoYWRvd0NvbnRleHQub3duZXIgJiZcbiAgICAgICAgUHNldWRvRWxlbWVudC5nZXRQc2V1ZG9OYW1lKGVsZW0xKSA9PT1cbiAgICAgICAgICBQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbTIpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RlcDEubm9kZSA9PT0gc3RlcDIubm9kZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uMTogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIG5vZGVQb3NpdGlvbjI6IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG5vZGVQb3NpdGlvbjEub2Zmc2V0SW5Ob2RlID09PSBub2RlUG9zaXRpb24yLm9mZnNldEluTm9kZSAmJlxuICAgICAgbm9kZVBvc2l0aW9uMS5hZnRlciA9PSBub2RlUG9zaXRpb24yLmFmdGVyICYmXG4gICAgICBub2RlUG9zaXRpb24xLnN0ZXBzLmxlbmd0aCA9PT0gbm9kZVBvc2l0aW9uMi5zdGVwcy5sZW5ndGggJiZcbiAgICAgIG5vZGVQb3NpdGlvbjEuc3RlcHMuZXZlcnkoKHN0ZXAxLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0ZXAyID0gbm9kZVBvc2l0aW9uMi5zdGVwc1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChzdGVwMSwgc3RlcDIpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgaXNQc2V1ZG9lbGVtZW50KGVsZW0pIHtcbiAgICByZXR1cm4gISFQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZiMlJlbWFwID0ge1xuICBhOiBcImFcIixcbiAgc3ViOiBcInN1YlwiLFxuICBzdXA6IFwic3VwXCIsXG4gIHRhYmxlOiBcInRhYmxlXCIsXG4gIHRyOiBcInRyXCIsXG4gIHRkOiBcInRkXCIsXG4gIHRoOiBcInRoXCIsXG4gIGNvZGU6IFwiY29kZVwiLFxuICBib2R5OiBcImRpdlwiLFxuICBwOiBcInBcIixcbiAgdjogXCJwXCIsXG4gIGRhdGU6IFwicFwiLFxuICBlbXBoYXNpczogXCJlbVwiLFxuICBzdHJvbmc6IFwic3Ryb25nXCIsXG4gIHN0eWxlOiBcInNwYW5cIixcbiAgc3RyaWtldGhyb3VnaDogXCJkZWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9wZXJ0aWVzTm90UGFzc2VkVG9ET00gPSB7XG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIjogdHJ1ZSxcbiAgXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiOiB0cnVlLFxuICBcImZsb2F0LXJlZmVyZW5jZVwiOiB0cnVlLFxuICBcImZsb3ctaW50b1wiOiB0cnVlLFxuICBcImZsb3ctbGluZ2VyXCI6IHRydWUsXG4gIFwiZmxvdy1vcHRpb25zXCI6IHRydWUsXG4gIFwiZmxvdy1wcmlvcml0eVwiOiB0cnVlLFxuICBcImZvb3Rub3RlLXBvbGljeVwiOiB0cnVlLFxuICBwYWdlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRDbGllbnRMYXlvdXQgaW1wbGVtZW50cyBWdHJlZS5DbGllbnRMYXlvdXQge1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpbmRvdzogV2luZG93O1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdwb3J0OiBWaWV3cG9ydCkge1xuICAgIHRoaXMubGF5b3V0Qm94ID0gdmlld3BvcnQubGF5b3V0Qm94O1xuICAgIHRoaXMud2luZG93ID0gdmlld3BvcnQud2luZG93O1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJ0cmFjdE9mZnNldHMoXG4gICAgcmVjdDogVnRyZWUuQ2xpZW50UmVjdCxcbiAgICBvcmlnaW5SZWN0OiBWdHJlZS5DbGllbnRSZWN0LFxuICApOiBWdHJlZS5DbGllbnRSZWN0IHtcbiAgICBjb25zdCB2aWV3cG9ydExlZnQgPSBvcmlnaW5SZWN0LmxlZnQ7XG4gICAgY29uc3Qgdmlld3BvcnRUb3AgPSBvcmlnaW5SZWN0LnRvcDtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gdmlld3BvcnRMZWZ0LFxuICAgICAgdG9wOiByZWN0LnRvcCAtIHZpZXdwb3J0VG9wLFxuICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSB2aWV3cG9ydExlZnQsXG4gICAgICBib3R0b206IHJlY3QuYm90dG9tIC0gdmlld3BvcnRUb3AsXG4gICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgfSBhcyBWdHJlZS5DbGllbnRSZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W10ge1xuICAgIGNvbnN0IHJlY3RzID0gcmFuZ2VbXCJnZXRDbGllbnRSZWN0c1wiXSgpO1xuICAgIGNvbnN0IGxheW91dEJveFJlY3QgPSB0aGlzLmxheW91dEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShyZWN0cykubWFwKChyZWN0KSA9PlxuICAgICAgdGhpcy5zdWJ0cmFjdE9mZnNldHMocmVjdCwgbGF5b3V0Qm94UmVjdCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpOiBDbGllbnRSZWN0IHtcbiAgICBjb25zdCBodG1sRWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgcmVjdCA9IGh0bWxFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIFZ0cmVlLkNsaWVudFJlY3Q7XG4gICAgY29uc3QgbGF5b3V0Qm94UmVjdCA9IHRoaXMubGF5b3V0Qm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB0aGlzLnN1YnRyYWN0T2Zmc2V0cyhyZWN0LCBsYXlvdXRCb3hSZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQge1xuICBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIHJvb3Q6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG91dGVyWm9vbUJveDogSFRNTEVsZW1lbnQ7XG4gIGNvbnRlbnRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB3aW5kb3c6IFdpbmRvdyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udFNpemU6IG51bWJlcixcbiAgICBvcHRfcm9vdD86IEhUTUxFbGVtZW50LFxuICAgIG9wdF93aWR0aD86IG51bWJlcixcbiAgICBvcHRfaGVpZ2h0PzogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIHRoaXMucm9vdCA9IG9wdF9yb290IHx8IHRoaXMuZG9jdW1lbnQuYm9keTtcbiAgICBsZXQgb3V0ZXJab29tQm94ID0gdGhpcy5yb290LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmICghb3V0ZXJab29tQm94KSB7XG4gICAgICBvdXRlclpvb21Cb3ggPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBvdXRlclpvb21Cb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1vdXRlci16b29tLWJveFwiLCBcInRydWVcIik7XG4gICAgICB0aGlzLnJvb3QuYXBwZW5kQ2hpbGQob3V0ZXJab29tQm94KTtcbiAgICB9XG4gICAgbGV0IGNvbnRlbnRDb250YWluZXIgPSBvdXRlclpvb21Cb3guZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgaWYgKCFjb250ZW50Q29udGFpbmVyKSB7XG4gICAgICBjb250ZW50Q29udGFpbmVyID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1zcHJlYWQtY29udGFpbmVyXCIsXG4gICAgICAgIFwidHJ1ZVwiLFxuICAgICAgKTtcbiAgICAgIG91dGVyWm9vbUJveC5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbmVyKTtcbiAgICB9XG4gICAgbGV0IGxheW91dEJveCA9IG91dGVyWm9vbUJveC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKCFsYXlvdXRCb3gpIHtcbiAgICAgIGxheW91dEJveCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGxheW91dEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWxheW91dC1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKGxheW91dEJveCk7XG4gICAgfVxuICAgIHRoaXMub3V0ZXJab29tQm94ID0gb3V0ZXJab29tQm94IGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY29udGVudENvbnRhaW5lciA9IGNvbnRlbnRDb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5sYXlvdXRCb3ggPSBsYXlvdXRCb3ggYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gbmV3IERlZmF1bHRDbGllbnRMYXlvdXQodGhpcyk7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSh0aGlzLnJvb3QpO1xuICAgIHRoaXMud2lkdGggPVxuICAgICAgb3B0X3dpZHRoIHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcIndpZHRoXCJdKSB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9XG4gICAgICBvcHRfaGVpZ2h0IHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXSkgfHwgd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHpvb20uXG4gICAqL1xuICByZXNldFpvb20oKSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLm91dGVyWm9vbUJveCwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMub3V0ZXJab29tQm94LCBcImhlaWdodFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gdmlld3BvcnQuXG4gICAqIEBwYXJhbSB3aWR0aCBPdmVyYWxsIHdpZHRoIG9mIGNvbnRlbnRzIGJlZm9yZSBzY2FsaW5nIChweClcbiAgICogQHBhcmFtIGhlaWdodCBPdmVyYWxsIGhlaWdodCBvZiBjb250ZW50cyBiZWZvcmUgc2NhbGluZyAocHgpXG4gICAqIEBwYXJhbSBzY2FsZSBGYWN0b3IgdG8gd2hpY2ggdGhlIHZpZXdwb3J0IHdpbGwgYmUgc2NhbGVkLlxuICAgKi9cbiAgem9vbSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgc2NhbGU6IG51bWJlcikge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwid2lkdGhcIiwgYCR7d2lkdGggKiBzY2FsZX1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwiaGVpZ2h0XCIsIGAke2hlaWdodCAqIHNjYWxlfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIGBzY2FsZSgke3NjYWxlfSlgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHBhZ2VzIGluc2lkZSB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xuICAgIHdoaWxlIChyb290Lmxhc3RDaGlsZCkge1xuICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290Lmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFhtbERvYyAtIFV0aWxpdHkgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aCBYTUwgKG1vc3RseSBYSFRNTClcbiAqIGRvY3VtZW50cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFhNTERvY1N0b3JlID0gWG1sRG9jLlhNTERvY1N0b3JlO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9PRkZTRVRfQVRUUiA9IFwiZGF0YS1hZGFwdC1lbG9mZlwiO1xuXG5leHBvcnQgY2xhc3MgWE1MRG9jSG9sZGVyIGltcGxlbWVudHMgWG1sRG9jLlhNTERvY0hvbGRlciB7XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICB0b3RhbE9mZnNldDogbnVtYmVyID0gLTE7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGJvZHk6IEVsZW1lbnQ7XG4gIGhlYWQ6IEVsZW1lbnQ7XG4gIGxhc3Q6IEVsZW1lbnQ7XG4gIGxhc3RPZmZzZXQ6IG51bWJlciA9IDE7XG4gIGlkTWFwOiB7IFtrZXk6IHN0cmluZ106IEVsZW1lbnQgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSB1cmw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxuICApIHtcbiAgICB0aGlzLnJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vIGh0bWwgZWxlbWVudFxuICAgIGxldCBib2R5OiBFbGVtZW50ID0gbnVsbDtcbiAgICBsZXQgaGVhZDogRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGNoaWxkOiBOb2RlID0gdGhpcy5yb290LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNoaWxkO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBzd2l0Y2ggKGVsZW0ubG9jYWxOYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgICAgICBoZWFkID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgICAgICBib2R5ID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhbmcgPSB0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgIGhlYWQgPSB0aGlzLnJvb3Q7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY2hpbGQ6IE5vZGUgPSB0aGlzLnJvb3QuZmlyc3RDaGlsZDtcbiAgICAgICAgY2hpbGQ7XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW0gPSBjaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgICAgICBpZiAoZWxlbS5sb2NhbE5hbWUgPT0gXCJib2R5XCIpIHtcbiAgICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgbGFuZ3MgPSB0aGlzLmRvYygpXG4gICAgICAgIC5jaGlsZChcIkZpY3Rpb25Cb29rXCIpXG4gICAgICAgIC5jaGlsZChcImRlc2NyaXB0aW9uXCIpXG4gICAgICAgIC5jaGlsZChcInRpdGxlLWluZm9cIilcbiAgICAgICAgLmNoaWxkKFwibGFuZ1wiKVxuICAgICAgICAudGV4dENvbnRlbnQoKTtcbiAgICAgIGlmIChsYW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmdzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5yb290Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNTRSkge1xuICAgICAgLy8gdHJlYXQgPG1ldGE+IGVsZW1lbnQgYXMgXCJoZWFkXCIgb2YgdGhlIGRvY3VtZW50XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZWxlbSA9IHRoaXMucm9vdC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgZWxlbTtcbiAgICAgICAgZWxlbSA9IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChsb2NhbE5hbWUgPT09IFwibWV0YVwiKSB7XG4gICAgICAgICAgaGVhZCA9IGVsZW07XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09PSBcImJvZHlcIikge1xuICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYm9keSA9IGJvZHkgYXMgRWxlbWVudDtcbiAgICB0aGlzLmhlYWQgPSBoZWFkIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5sYXN0ID0gdGhpcy5yb290O1xuICAgIHRoaXMubGFzdC5zZXRBdHRyaWJ1dGUoRUxFTUVOVF9PRkZTRVRfQVRUUiwgXCIwXCIpO1xuICB9XG5cbiAgZG9jKCk6IFhtbERvYy5Ob2RlTGlzdCB7XG4gICAgcmV0dXJuIG5ldyBOb2RlTGlzdChbdGhpcy5kb2N1bWVudF0pO1xuICB9XG5cbiAgZ2V0RWxlbWVudE9mZnNldChlbGVtZW50OiBFbGVtZW50KTogbnVtYmVyIHtcbiAgICBjb25zdCBvZmZzZXRTdHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShFTEVNRU5UX09GRlNFVF9BVFRSKTtcbiAgICBpZiAob2Zmc2V0U3RyKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQob2Zmc2V0U3RyLCAxMCk7XG4gICAgfVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLmxhc3RPZmZzZXQ7XG4gICAgbGV0IGxhc3Q6IE5vZGUgfCBudWxsID0gdGhpcy5sYXN0O1xuICAgIHdoaWxlIChsYXN0ICE9IGVsZW1lbnQpIHtcbiAgICAgIGxldCBuZXh0OiBOb2RlIHwgbnVsbCA9IGxhc3QuZmlyc3RDaGlsZDtcbiAgICAgIGlmICghbmV4dCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG5leHQgPSBsYXN0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdCA9IGxhc3QucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAobGFzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBlcnJvclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3QgPSBuZXh0O1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBuZXh0RWxlbWVudCA9IG5leHQgYXMgRWxlbWVudDtcbiAgICAgICAgbmV4dEVsZW1lbnQuc2V0QXR0cmlidXRlKEVMRU1FTlRfT0ZGU0VUX0FUVFIsIG9mZnNldC50b1N0cmluZygpKTtcbiAgICAgICAgKytvZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLmxhc3QgPSBlbGVtZW50O1xuICAgIHJldHVybiBvZmZzZXQgLSAxO1xuICB9XG5cbiAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pIHtcbiAgICBsZXQgZXh0cmFPZmZzZXQgPSAwO1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHNyY05vZGU7XG4gICAgbGV0IHByZXY6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAvLyBhZnRlciA9IHRydWUgaXMgb25seSB2YWxpZCBmb3IgZWxlbWVudHNcbiAgICAgIGlmICghYWZ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvZmZzZXRJbk5vZGUgaXMgb25seSB2YWxpZCBmb3IgdGV4dCBub2Rlc1xuICAgICAgZXh0cmFPZmZzZXQgPSBvZmZzZXRJbk5vZGU7XG4gICAgICBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgZXh0cmFPZmZzZXQgKz0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpICsgZXh0cmFPZmZzZXQ7XG4gICAgICB9XG4gICAgICBub2RlID0gcHJldjtcbiAgICB9XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnRcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBleHRyYU9mZnNldCArPSAobm9kZS50ZXh0Q29udGVudCBhcyBzdHJpbmcpLmxlbmd0aDtcbiAgICAgIHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIGlmICghcHJldikge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBwcmV2O1xuICAgIH1cbiAgICBleHRyYU9mZnNldCArPSAxO1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRPZmZzZXQobm9kZSBhcyBFbGVtZW50KSArIGV4dHJhT2Zmc2V0O1xuICB9XG5cbiAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy50b3RhbE9mZnNldCA8IDApIHtcbiAgICAgIHRoaXMudG90YWxPZmZzZXQgPSB0aGlzLmdldE5vZGVPZmZzZXQodGhpcy5yb290LCAwLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG90YWxPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBsYXN0IG5vZGUgc3VjaCB0aGF0IGl0cyBvZmZzZXQgaXMgbGVzcyBvciBlcXVhbCB0byB0aGUgZ2l2ZW5cbiAgICovXG4gIGdldE5vZGVCeU9mZnNldChvZmZzZXQ6IG51bWJlcik6IE5vZGUge1xuICAgIGxldCBlbGVtZW50T2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvLyBGaXJzdCwgZmluZCB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgc3VjaCB0aGF0XG4gICAgLy8gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpIDw9IG9mZnNldDsgaWYgb2ZmZXN0IG1hdGNoZXNcbiAgICAvLyBleGFjdGx5LCBqdXN0IHJldHVybiBpdC5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMucm9vdDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgZWxlbWVudE9mZnNldCA9IHRoaXMuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50T2Zmc2V0ID49IG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjsgLy8gRWxlbWVudCBjaGlsZHJlblxuICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goY2hpbGRyZW4ubGVuZ3RoLCAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgIGNvbnN0IGNoaWxkT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkT2Zmc2V0ID4gb2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlbGVtT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgaWYgKGVsZW1PZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25zaXN0ZW5jeSBjaGVjayBmYWlsZWQhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGNoaWxkcmVuW2luZGV4IC0gMV07XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgZWxlbWVudCB3aXRoIG9mZnNldCBsZXNzIHRoYW4gZGVzaXJlZC4gRmluZCBmb2xsb3dpbmdcbiAgICAvLyAobm9uLWVsZW1lbnQpIG5vZGUgd2l0aCB0aGUgcmlnaHQgb2Zmc2V0LlxuICAgIGxldCBub2RlT2Zmc2V0ID0gZWxlbWVudE9mZnNldCArIDE7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gZWxlbWVudDtcbiAgICBsZXQgbmV4dDogTm9kZSB8IG51bGwgPSBub2RlLmZpcnN0Q2hpbGQgfHwgbm9kZS5uZXh0U2libGluZztcbiAgICBsZXQgbGFzdEdvb2Q6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICBsYXN0R29vZCA9IG5vZGU7XG4gICAgICAgIG5vZGVPZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICAgIGlmIChub2RlT2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RHb29kIHx8IGVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkSWRNYXAoZTogRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGlkID0gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWQgJiYgIXRoaXMuaWRNYXBbaWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW2lkXSA9IGU7XG4gICAgfVxuICAgIGNvbnN0IHhtbGlkID0gZS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBpZiAoeG1saWQgJiYgIXRoaXMuaWRNYXBbeG1saWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW3htbGlkXSA9IGU7XG4gICAgfVxuICAgIGZvciAobGV0IGMgPSBlLmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHRoaXMuYnVpbGRJZE1hcChjKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVsZW1lbnQgYnkgVVJMIGluIHRoZSBzb3VyY2UgZG9jdW1lbnQocykuIFVSTCBtdXN0IGJlIGluIGVpdGhlciAnI2lkJ1xuICAgKiBvciAndXJsI2lkJyBmb3JtLlxuICAgKi9cbiAgZ2V0RWxlbWVudCh1cmw6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICBjb25zdCBtID0gdXJsLm1hdGNoKC8oW14jXSopIyguKykkLyk7XG4gICAgaWYgKCFtIHx8IChtWzFdICYmIG1bMV0gIT0gdGhpcy51cmwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBtWzJdO1xuICAgIGxldCByOiBFbGVtZW50ID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKCFyICYmIHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUpIHtcbiAgICAgIHIgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGlkKVswXTtcbiAgICB9XG4gICAgaWYgKCFyKSB7XG4gICAgICBpZiAoIXRoaXMuaWRNYXApIHtcbiAgICAgICAgdGhpcy5pZE1hcCA9IHt9O1xuICAgICAgICB0aGlzLmJ1aWxkSWRNYXAodGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgciA9IHRoaXMuaWRNYXBbaWRdO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG4vKipcbiAqIGNmLiBodHRwczovL3czYy5naXRodWIuaW8vRE9NLVBhcnNpbmcvI3RoZS1kb21wYXJzZXItaW50ZXJmYWNlXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBET01QYXJzZXJTdXBwb3J0ZWRUeXBlIHtcbiAgVEVYVF9IVE1MID0gXCJ0ZXh0L2h0bWxcIixcbiAgVEVYVF9YTUwgPSBcInRleHQveG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hNTCA9IFwiYXBwbGljYXRpb24veG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hIVE1MX1hNTCA9IFwiYXBwbGljYXRpb24veGh0bWxfeG1sXCIsXG4gIElNQUdFX1NWR19YTUwgPSBcImltYWdlL3N2Zyt4bWxcIixcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSBzdHJpbmcgd2l0aCBhIERPTVBhcnNlciBhbmQgcmV0dXJucyB0aGUgZG9jdW1lbnQuXG4gKiBJZiBhIHBhcnNlIGVycm9yIG9jY3VycywgcmV0dXJuIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICBzdHI6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICBvcHRfcGFyc2VyPzogRE9NUGFyc2VyLFxuKTogRG9jdW1lbnQgfCBudWxsIHtcbiAgY29uc3QgcGFyc2VyID0gb3B0X3BhcnNlciB8fCBuZXcgRE9NUGFyc2VyKCk7XG4gIGxldCBkb2M6IERvY3VtZW50O1xuICB0cnkge1xuICAgIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyLCB0eXBlIGFzIFN1cHBvcnRlZFR5cGUpO1xuICB9IGNhdGNoIChlKSB7fVxuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRvY0VsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGVycm9yVGFnTmFtZSA9IFwicGFyc2VyZXJyb3JcIjtcbiAgICBpZiAoZG9jRWxlbWVudC5sb2NhbE5hbWUgPT09IGVycm9yVGFnTmFtZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGMgPSBkb2NFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubG9jYWxOYW1lID09PSBlcnJvclRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZG9jO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIG51bGwgaWYgY29udGVudFR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gSFRUUCBoZWFkZXIgYW5kIGZpbGVcbiAqICAgICBleHRlbnNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDb250ZW50VHlwZShyZXNwb25zZTogTmV0LlJlc3BvbnNlKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuY29udGVudFR5cGU7XG4gIGlmIChjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IHN1cHBvcnRlZEtleXMgPSBPYmplY3Qua2V5cyhET01QYXJzZXJTdXBwb3J0ZWRUeXBlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1cHBvcnRlZEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChET01QYXJzZXJTdXBwb3J0ZWRUeXBlW3N1cHBvcnRlZEtleXNbaV1dID09PSBjb250ZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250ZW50VHlwZS5tYXRjaCgvXFwreG1sJC8pKSB7XG4gICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UudXJsLm1hdGNoKC9cXC4oW14uL10rKSQvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbWF0Y2hbMV07XG4gICAgc3dpdGNoIChleHRlbnNpb24pIHtcbiAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICBjYXNlIFwiaHRtXCI6XG4gICAgICAgIHJldHVybiBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTDtcbiAgICAgIGNhc2UgXCJ4aHRtbFwiOlxuICAgICAgY2FzZSBcInhodFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YSFRNTF9YTUw7XG4gICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICBjYXNlIFwic3ZnelwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5JTUFHRV9TVkdfWE1MO1xuICAgICAgY2FzZSBcIm9wZlwiOlxuICAgICAgY2FzZSBcInhtbFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VYTUxSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhNTERvY1N0b3JlLFxuKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICBsZXQgZG9jID0gcmVzcG9uc2UucmVzcG9uc2VYTUw7XG4gIGlmICghZG9jKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzb2x2ZUNvbnRlbnRUeXBlKHJlc3BvbnNlKTtcbiAgICAgIGRvYyA9IHBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IoXG4gICAgICAgIHRleHQsXG4gICAgICAgIGNvbnRlbnRUeXBlIHx8IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWE1MLFxuICAgICAgICBwYXJzZXIsXG4gICAgICApO1xuXG4gICAgICAvLyBXaGVuIGNvbnRlbnRUeXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIEhUVFAgaGVhZGVyIGFuZCBmaWxlXG4gICAgICAvLyBleHRlbnNpb24sIHdlIHVzZSByb290IGVsZW1lbnQncyB0YWcgbmFtZSB0byBpbmZlciB0aGUgY29udGVudFR5cGUuIElmXG4gICAgICAvLyBpdCBpcyBodG1sIG9yIHN2Zywgd2UgcmUtcGFyc2UgdGhlIHNvdXJjZSB3aXRoIGFuIGFwcHJvcHJpYXRlXG4gICAgICAvLyBjb250ZW50VHlwZS5cbiAgICAgIGlmIChkb2MgJiYgIWNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBpZiAocm9vdC5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJodG1sXCIgJiYgIXJvb3QubmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJvb3QubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCIgJiZcbiAgICAgICAgICAoZG9jIGFzIGFueSkuY29udGVudFR5cGUgIT09IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTFxuICAgICAgICApIHtcbiAgICAgICAgICBkb2MgPSBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBIVE1MIHBhcnNpbmdcbiAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuVEVYVF9IVE1MLFxuICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgeG1sZG9jID0gZG9jID8gbmV3IFhNTERvY0hvbGRlcihzdG9yZSwgcmVzcG9uc2UudXJsLCBkb2MpIDogbnVsbDtcbiAgcmV0dXJuIFRhc2submV3UmVzdWx0KHhtbGRvYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdYTUxEb2NTdG9yZSgpOiBYTUxEb2NTdG9yZSB7XG4gIHJldHVybiBuZXcgTmV0LlJlc291cmNlU3RvcmUoXG4gICAgcGFyc2VYTUxSZXNvdXJjZSxcbiAgICBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQsXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVkaWNhdGUgaW1wbGVtZW50cyBYbWxEb2MuUHJlZGljYXRlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZuOiAocDE6IE5vZGUpID0+IGJvb2xlYW4pIHt9XG5cbiAgY2hlY2sobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZuKG5vZGUpO1xuICB9XG5cbiAgd2l0aEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBQcmVkaWNhdGUge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJlZGljYXRlKFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIHNlbGYuY2hlY2sobm9kZSkgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKSA9PSB2YWx1ZSxcbiAgICApO1xuICB9XG5cbiAgd2l0aENoaWxkKG5hbWU6IHN0cmluZywgb3B0X2NoaWxkUHJlZGljYXRlPzogUHJlZGljYXRlKTogUHJlZGljYXRlIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByZWRpY2F0ZSgobm9kZSkgPT4ge1xuICAgICAgaWYgKCFzZWxmLmNoZWNrKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGxldCBsaXN0ID0gbmV3IE5vZGVMaXN0KFtub2RlXSk7XG4gICAgICBsaXN0ID0gbGlzdC5jaGlsZChuYW1lKTtcbiAgICAgIGlmIChvcHRfY2hpbGRQcmVkaWNhdGUpIHtcbiAgICAgICAgbGlzdCA9IGxpc3QucHJlZGljYXRlKG9wdF9jaGlsZFByZWRpY2F0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdC5zaXplKCkgPiAwO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwcmVkaWNhdGUgPSBuZXcgUHJlZGljYXRlKChub2RlKSA9PiB0cnVlKTtcblxuZXhwb3J0IGNsYXNzIE5vZGVMaXN0IGltcGxlbWVudHMgWG1sRG9jLk5vZGVMaXN0IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5vZGVzOiBOb2RlW10pIHt9XG5cbiAgYXNBcnJheSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG5cbiAgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICovXG4gIHByZWRpY2F0ZShwcjogUHJlZGljYXRlKTogTm9kZUxpc3Qge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICBpZiAocHIuY2hlY2sobikpIHtcbiAgICAgICAgYXJyLnB1c2gobik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZUxpc3QoYXJyKTtcbiAgfVxuXG4gIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdCB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgY29uc3QgYWRkID0gKG4pID0+IHtcbiAgICAgIGFyci5wdXNoKG4pO1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbih0aGlzLm5vZGVzW2ldLCBhZGQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVMaXN0KGFycik7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2g8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIucHVzaChmbih0aGlzLm5vZGVzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hOb25OdWxsPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdCA9IGZuKHRoaXMubm9kZXNbaV0pO1xuICAgICAgaWYgKHQgIT0gbnVsbCkge1xuICAgICAgICBhcnIucHVzaCh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNoaWxkKHRhZzogc3RyaW5nKTogTm9kZUxpc3Qge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2hOb2RlKChub2RlLCBhZGQpID0+IHtcbiAgICAgIGZvciAobGV0IGM6IE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7IGM7IGMgPSBjLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEgJiYgKGMgYXMgRWxlbWVudCkubG9jYWxOYW1lID09IHRhZykge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2hpbGRFbGVtZW50cygpOiBOb2RlTGlzdCB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaE5vZGUoKG5vZGUsIGFkZCkgPT4ge1xuICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoTm9uTnVsbCgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICByZXR1cm4gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICB0ZXh0Q29udGVudCgpOiAoc3RyaW5nIHwgbnVsbClbXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS50ZXh0Q29udGVudCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgT3BzIC0gUmVuZGVyIEVQVUIgY29udGVudCBmaWxlcyBieSBhcHBseWluZyBwYWdlIG1hc3RlcnMsXG4gKiBzdHlsaW5nIGFuZCBsYXlvdXQuXG4gKi9cbmltcG9ydCBcIi4vZm9vdG5vdGVzXCI7XG5pbXBvcnQgXCIuL3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIENvbHVtbnMgZnJvbSBcIi4vY29sdW1uc1wiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFnZSBmcm9tIFwiLi9jc3MtcGFnZVwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUGFnZU1hc3RlciBmcm9tIFwiLi9wYWdlLW1hc3RlclwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5pbXBvcnQgeyBMYXlvdXQgYXMgTGF5b3V0VHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50QmFzZUNzcyBmcm9tIFwiLi9hc3NldHMvdXNlci1hZ2VudC1iYXNlLmNzc1wiO1xuaW1wb3J0IFVzZXJBZ2VudFBhZ2VDc3MgZnJvbSBcIi4vYXNzZXRzL3VzZXItYWdlbnQtcGFnZS5jc3NcIjtcblxuZXhwb3J0IGNvbnN0IHVhU3R5bGVzaGVldEJhc2VGZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPGJvb2xlYW4+ID0gbmV3IFRhc2tVdGlsLkZldGNoZXIoXG4gICgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJ1YVN0eWxlc2hlZXRCYXNlXCIpO1xuICAgIGNvbnN0IHZhbGlkYXRvclNldCA9IENzc1ZhbGlkYXRvci5iYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgY29uc3QgdXJsID0gQmFzZS5yZXNvbHZlVVJMKFwidXNlci1hZ2VudC1iYXNlLmNzc1wiLCBCYXNlLnJlc291cmNlQmFzZVVSTCk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyKFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICB2YWxpZGF0b3JTZXQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gICAgaGFuZGxlci5zdGFydFN0eWxlc2hlZXQoQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCk7XG4gICAgQ3NzQ2FzY2FkZS5zZXRVQUJhc2VDYXNjYWRlKGhhbmRsZXIuY2FzY2FkZSk7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21UZXh0KFxuICAgICAgVXNlckFnZW50QmFzZUNzcyxcbiAgICAgIGhhbmRsZXIsXG4gICAgICB1cmwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfSxcbiAgXCJ1YVN0eWxlc2hlZXRCYXNlRmV0Y2hlclwiLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVQUJhc2UoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gdWFTdHlsZXNoZWV0QmFzZUZldGNoZXIuZ2V0KCk7XG59XG5cbmV4cG9ydCB0eXBlIEZvbnRGYWNlID0ge1xuICBwcm9wZXJ0aWVzOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgY29uZGl0aW9uOiBFeHBycy5WYWw7XG59O1xuXG5leHBvcnQgY2xhc3MgU3R5bGUge1xuICBmb250RGVvYmZ1c2NhdG9yOlxuICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgIHwgbnVsbDtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogT1BTRG9jU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlU2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSByb290Qm94OiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250RmFjZXM6IEZvbnRGYWNlW10sXG4gICAgcHVibGljIHJlYWRvbmx5IGZvb3Rub3RlUHJvcHM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93UHJvcHM6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRQcm9wczogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICkge1xuICAgIHRoaXMuZm9udERlb2JmdXNjYXRvciA9IHN0b3JlLmZvbnREZW9iZnVzY2F0b3I7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQgPSBzdG9yZS52YWxpZGF0b3JTZXQ7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lQnVpbHRJbihcImhhcy1jb250ZW50XCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBuYW1lID0gbmFtZSBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBzdHlsZUluc3RhbmNlID0gdGhpcyBhcyBTdHlsZUluc3RhbmNlO1xuICAgICAgY29uc3QgY3AgPSBzdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGZsb3dDaHVuayA9IGNwLmZpcnN0Rmxvd0NodW5rT2ZGbG93KG5hbWUpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgc3R5bGVJbnN0YW5jZS5tYXRjaFBhZ2VTaWRlKGNwLnN0YXJ0U2lkZU9mRmxvdyhuYW1lIGFzIHN0cmluZykpICYmXG4gICAgICAgIGNwLmhhc0NvbnRlbnQobmFtZSBhcyBzdHJpbmcsIHN0eWxlSW5zdGFuY2UubG9va3VwT2Zmc2V0KSAmJlxuICAgICAgICAhIWZsb3dDaHVuayAmJlxuICAgICAgICAhc3R5bGVJbnN0YW5jZS5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKGZsb3dDaHVuaylcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lTmFtZShcbiAgICAgIFwicGFnZS1udW1iZXJcIixcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVJbnN0YW5jZSA9IHRoaXMgYXMgU3R5bGVJbnN0YW5jZTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3R5bGVJbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICtcbiAgICAgICAgICAgIHN0eWxlSW5zdGFuY2UuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBcInBhZ2UtbnVtYmVyXCIsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBzaXplVmlld3BvcnQoXG4gICAgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHZpZXdwb3J0SGVpZ2h0OiBudW1iZXIsXG4gICAgZm9udFNpemU6IG51bWJlcixcbiAgICBwcmVmPzogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGZvbnRTaXplOiBudW1iZXIgfSB7XG4gICAgaWYgKHRoaXMudmlld3BvcnRQcm9wcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgRXhwcnMuQ29udGV4dChcbiAgICAgICAgdGhpcy5yb290U2NvcGUsXG4gICAgICAgIHZpZXdwb3J0V2lkdGgsXG4gICAgICAgIHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICk7XG4gICAgICBjb25zdCB2aWV3cG9ydFByb3BzID0gQ3NzQ2FzY2FkZS5tZXJnZUFsbChjb250ZXh0LCB0aGlzLnZpZXdwb3J0UHJvcHMpO1xuICAgICAgY29uc3Qgd2lkdGggPSB2aWV3cG9ydFByb3BzW1wid2lkdGhcIl07XG4gICAgICBjb25zdCBoZWlnaHQgPSB2aWV3cG9ydFByb3BzW1wiaGVpZ2h0XCJdO1xuICAgICAgY29uc3QgdGV4dFpvb20gPSB2aWV3cG9ydFByb3BzW1widGV4dC16b29tXCJdO1xuICAgICAgbGV0IHNjYWxlRmFjdG9yID0gMTtcbiAgICAgIGlmICgod2lkdGggJiYgaGVpZ2h0KSB8fCB0ZXh0Wm9vbSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0Rm9udFNpemUgPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZW1cIl07XG4gICAgICAgIGNvbnN0IHpvb21WYWwgPSB0ZXh0Wm9vbVxuICAgICAgICAgID8gdGV4dFpvb20uZXZhbHVhdGUoY29udGV4dCwgXCJ0ZXh0LXpvb21cIilcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmICh6b29tVmFsID09PSBDc3MuaWRlbnQuc2NhbGUpIHtcbiAgICAgICAgICBzY2FsZUZhY3RvciA9IGRlZmF1bHRGb250U2l6ZSAvIGZvbnRTaXplO1xuICAgICAgICAgIGZvbnRTaXplID0gZGVmYXVsdEZvbnRTaXplO1xuICAgICAgICAgIHZpZXdwb3J0V2lkdGggKj0gc2NhbGVGYWN0b3I7XG4gICAgICAgICAgdmlld3BvcnRIZWlnaHQgKj0gc2NhbGVGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICAgIGNvbnN0IHdpZHRoVmFsID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgd2lkdGguZXZhbHVhdGUoY29udGV4dCwgXCJ3aWR0aFwiKSxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBoZWlnaHRWYWwgPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICBoZWlnaHQuZXZhbHVhdGUoY29udGV4dCwgXCJoZWlnaHRcIiksXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHdpZHRoVmFsID4gMCAmJiBoZWlnaHRWYWwgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzcHJlYWRXaWR0aCA9XG4gICAgICAgICAgICAgIHByZWYgJiYgcHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgICAgICAgPyAod2lkdGhWYWwgKyBwcmVmLnBhZ2VCb3JkZXIpICogMlxuICAgICAgICAgICAgICAgIDogd2lkdGhWYWw7XG4gICAgICAgICAgICByZXR1cm4geyB3aWR0aDogc3ByZWFkV2lkdGgsIGhlaWdodDogaGVpZ2h0VmFsLCBmb250U2l6ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aDogdmlld3BvcnRXaWR0aCwgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCwgZm9udFNpemUgfTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBTdHlsZUluc3RhbmNlIGV4dGVuZHMgRXhwcnMuQ29udGV4dFxuICBpbXBsZW1lbnRzXG4gICAgQ3NzU3R5bGVyLkZsb3dMaXN0ZW5lcixcbiAgICBQYWdlTWFzdGVyLkluc3RhbmNlSG9sZGVyLFxuICAgIFZnZW4uU3R5bGVyUHJvZHVjZXIge1xuICBsYW5nOiBzdHJpbmcgfCBudWxsO1xuICBwcmltYXJ5Rmxvd3MgPSB7IGJvZHk6IHRydWUgfSBhcyB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgcm9vdFBhZ2VCb3hJbnN0YW5jZTogUGFnZU1hc3Rlci5Sb290UGFnZUJveEluc3RhbmNlID0gbnVsbDtcbiAgc3R5bGVyOiBDc3NTdHlsZXIuU3R5bGVyID0gbnVsbDtcbiAgc3R5bGVyTWFwOiB7IFtrZXk6IHN0cmluZ106IENzc1N0eWxlci5TdHlsZXIgfSA9IG51bGw7XG4gIGN1cnJlbnRMYXlvdXRQb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24gPSBudWxsO1xuICBsYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0OiBWdHJlZS5MYXlvdXRQb3NpdGlvbiA9IG51bGw7XG4gIGxvb2t1cE9mZnNldDogbnVtYmVyID0gMDtcbiAgZmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcztcbiAgcGFnZUJveEluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSB9ID0ge307XG4gIHBhZ2VNYW5hZ2VyOiBDc3NQYWdlLlBhZ2VNYW5hZ2VyID0gbnVsbDtcbiAgcHJpdmF0ZSByb290UGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICBwYWdlQnJlYWtzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuICBwYWdlUHJvZ3Jlc3Npb246IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsID0gbnVsbDtcbiAgcGFnZVNoZWV0U2l6ZTogeyBba2V5OiBzdHJpbmddOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfSA9IHt9O1xuICBwYWdlU2hlZXRIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHBhZ2VTaGVldFdpZHRoOiBudW1iZXIgPSAwO1xuICBhY3R1YWxQYWdlV2lkdGg6IG51bWJlcjtcbiAgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZTogU3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBkZWZhdWx0TGFuZzogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY3VzdG9tUmVuZGVyZXI6IFZnZW4uQ3VzdG9tUmVuZGVyZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlTnVtYmVyT2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50VVJMVHJhbnNmb3JtZXI6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmUsXG4gICAgcGFnZVByb2dyZXNzaW9uPzogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbixcbiAgKSB7XG4gICAgc3VwZXIoc3R5bGUucm9vdFNjb3BlLCB2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0LCB2aWV3cG9ydC5mb250U2l6ZSk7XG4gICAgdGhpcy5sYW5nID0geG1sZG9jLmxhbmcgfHwgZGVmYXVsdExhbmc7XG4gICAgdGhpcy5mYWNlcyA9IG5ldyBGb250LkRvY3VtZW50RmFjZXModGhpcy5zdHlsZS5mb250RGVvYmZ1c2NhdG9yKTtcbiAgICB0aGlzLnJvb3RQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IHBhZ2VQcm9ncmVzc2lvbiB8fCBudWxsO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gc3R5bGUuZmxvd1Byb3BzKSB7XG4gICAgICBjb25zdCBmbG93U3R5bGUgPSBzdHlsZS5mbG93UHJvcHNbZmxvd05hbWVdO1xuICAgICAgY29uc3QgY29uc3VtZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChmbG93U3R5bGUsIFwiZmxvdy1jb25zdW1lXCIpO1xuICAgICAgaWYgKGNvbnN1bWUpIHtcbiAgICAgICAgY29uc3QgY29uc3VtZVZhbCA9IGNvbnN1bWUuZXZhbHVhdGUodGhpcywgXCJmbG93LWNvbnN1bWVcIik7XG4gICAgICAgIGlmIChjb25zdW1lVmFsID09IENzcy5pZGVudC5hbGwpIHtcbiAgICAgICAgICB0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZV0gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJTdHlsZUluc3RhbmNlLmluaXRcIik7XG4gICAgY29uc3QgY291bnRlckxpc3RlbmVyID0gc2VsZi5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlckxpc3RlbmVyKFxuICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICk7XG4gICAgY29uc3QgY291bnRlclJlc29sdmVyID0gc2VsZi5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlclJlc29sdmVyKFxuICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgc2VsZi5zdHlsZS5yb290U2NvcGUsXG4gICAgICBzZWxmLnN0eWxlLnBhZ2VTY29wZSxcbiAgICApO1xuICAgIHNlbGYuc3R5bGVyID0gbmV3IENzc1N0eWxlci5TdHlsZXIoXG4gICAgICBzZWxmLnhtbGRvYyxcbiAgICAgIHNlbGYuc3R5bGUuY2FzY2FkZSxcbiAgICAgIHNlbGYuc3R5bGUucm9vdFNjb3BlLFxuICAgICAgc2VsZixcbiAgICAgIHRoaXMucHJpbWFyeUZsb3dzLFxuICAgICAgc2VsZi5zdHlsZS52YWxpZGF0b3JTZXQsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgKTtcbiAgICBjb3VudGVyUmVzb2x2ZXIuc2V0U3R5bGVyKHNlbGYuc3R5bGVyKTtcbiAgICBzZWxmLnN0eWxlci5yZXNldEZsb3dDaHVua1N0cmVhbShzZWxmKTtcbiAgICBzZWxmLnN0eWxlck1hcCA9IHt9O1xuICAgIHNlbGYuc3R5bGVyTWFwW3NlbGYueG1sZG9jLnVybF0gPSBzZWxmLnN0eWxlcjtcbiAgICBjb25zdCBkb2NFbGVtZW50U3R5bGUgPSBzZWxmLnN0eWxlci5nZXRUb3BDb250YWluZXJTdHlsZSgpO1xuICAgIGlmICghc2VsZi5wYWdlUHJvZ3Jlc3Npb24pIHtcbiAgICAgIHNlbGYucGFnZVByb2dyZXNzaW9uID0gQ3NzUGFnZS5yZXNvbHZlUGFnZVByb2dyZXNzaW9uKGRvY0VsZW1lbnRTdHlsZSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RCb3ggPSB0aGlzLnN0eWxlLnJvb3RCb3g7XG4gICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlID0gbmV3IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZShyb290Qm94KTtcbiAgICBjb25zdCBjYXNjYWRlSW5zdGFuY2UgPSB0aGlzLnN0eWxlLmNhc2NhZGUuY3JlYXRlSW5zdGFuY2UoXG4gICAgICBzZWxmLFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgdGhpcy5sYW5nLFxuICAgICk7XG4gICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLmFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UsXG4gICAgICBkb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcoc2VsZik7XG4gICAgdGhpcy5wYWdlTWFuYWdlciA9IG5ldyBDc3NQYWdlLlBhZ2VNYW5hZ2VyKFxuICAgICAgY2FzY2FkZUluc3RhbmNlLFxuICAgICAgdGhpcy5zdHlsZS5wYWdlU2NvcGUsXG4gICAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UsXG4gICAgICBzZWxmLFxuICAgICAgZG9jRWxlbWVudFN0eWxlLFxuICAgICk7XG4gICAgY29uc3Qgc3JjRmFjZXMgPSBbXSBhcyBGb250LkZhY2VbXTtcbiAgICBmb3IgKGNvbnN0IGZvbnRGYWNlIG9mIHNlbGYuc3R5bGUuZm9udEZhY2VzKSB7XG4gICAgICBpZiAoZm9udEZhY2UuY29uZGl0aW9uICYmICFmb250RmFjZS5jb25kaXRpb24uZXZhbHVhdGUoc2VsZikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gRm9udC5wcmVwYXJlUHJvcGVydGllcyhmb250RmFjZS5wcm9wZXJ0aWVzLCBzZWxmKTtcbiAgICAgIGNvbnN0IHNyY0ZhY2UgPSBuZXcgRm9udC5GYWNlKHByb3BlcnRpZXMpO1xuICAgICAgc3JjRmFjZXMucHVzaChzcmNGYWNlKTtcbiAgICB9XG4gICAgc2VsZi5mb250TWFwcGVyLmZpbmRPckxvYWRGb250cyhzcmNGYWNlcywgc2VsZi5mYWNlcykudGhlbkZpbmlzaChmcmFtZSk7XG5cbiAgICAvLyBEZXRlcm1pbmUgcGFnZSBzaGVldCBzaXplcyBjb3JyZXNwb25kaW5nIHRvIHBhZ2Ugc2VsZWN0b3JzXG4gICAgY29uc3QgcGFnZVByb3BzID0gc2VsZi5zdHlsZS5wYWdlUHJvcHM7XG4gICAgT2JqZWN0LmtleXMocGFnZVByb3BzKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgY29uc3QgcGFnZVNpemVBbmRCbGVlZCA9IENzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICAgICAgICBDc3NQYWdlLnJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKHBhZ2VQcm9wc1tzZWxlY3Rvcl0gYXMgYW55KSxcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG4gICAgICB0aGlzLnBhZ2VTaGVldFNpemVbc2VsZWN0b3JdID0ge1xuICAgICAgICB3aWR0aDogcGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGggKyBwYWdlU2l6ZUFuZEJsZWVkLmNyb3BPZmZzZXQgKiAyLFxuICAgICAgICBoZWlnaHQ6IHBhZ2VTaXplQW5kQmxlZWQucGFnZUhlaWdodCArIHBhZ2VTaXplQW5kQmxlZWQuY3JvcE9mZnNldCAqIDIsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFN0eWxlckZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIge1xuICAgIGxldCBzdHlsZXIgPSB0aGlzLnN0eWxlck1hcFt4bWxkb2MudXJsXTtcbiAgICBpZiAoIXN0eWxlcikge1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlLnN0b3JlLmdldFN0eWxlRm9yRG9jKHhtbGRvYyk7XG5cbiAgICAgIC8vIFdlIG5lZWQgYSBzZXBhcmF0ZSBjb250ZW50LCBzbyB0aGF0IHZhcmlhYmxlcyBjYW4gZ2V0IHBvdGVudGlhbGx5XG4gICAgICAvLyBkaWZmZXJlbnQgdmFsdWVzLlxuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBFeHBycy5Db250ZXh0KFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIHRoaXMucGFnZVdpZHRoKCksXG4gICAgICAgIHRoaXMucGFnZUhlaWdodCgpLFxuICAgICAgICB0aGlzLmluaXRpYWxGb250U2l6ZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBjb3VudGVyTGlzdGVuZXIgPSB0aGlzLmNvdW50ZXJTdG9yZS5jcmVhdGVDb3VudGVyTGlzdGVuZXIoXG4gICAgICAgIHhtbGRvYy51cmwsXG4gICAgICApO1xuICAgICAgY29uc3QgY291bnRlclJlc29sdmVyID0gdGhpcy5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlclJlc29sdmVyKFxuICAgICAgICB4bWxkb2MudXJsLFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIHN0eWxlLnBhZ2VTY29wZSxcbiAgICAgICk7XG4gICAgICBzdHlsZXIgPSBuZXcgQ3NzU3R5bGVyLlN0eWxlcihcbiAgICAgICAgeG1sZG9jLFxuICAgICAgICBzdHlsZS5jYXNjYWRlLFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRoaXMucHJpbWFyeUZsb3dzLFxuICAgICAgICBzdHlsZS52YWxpZGF0b3JTZXQsXG4gICAgICAgIGNvdW50ZXJMaXN0ZW5lcixcbiAgICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgKTtcbiAgICAgIHRoaXMuc3R5bGVyTWFwW3htbGRvYy51cmxdID0gc3R5bGVyO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVnaXN0ZXJJbnN0YW5jZShrZXk6IHN0cmluZywgaW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlKTogdm9pZCB7XG4gICAgdGhpcy5wYWdlQm94SW5zdGFuY2VzW2tleV0gPSBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxvb2t1cEluc3RhbmNlKGtleTogc3RyaW5nKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiB0aGlzLnBhZ2VCb3hJbnN0YW5jZXNba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuY291bnRlcmVkRmxvd0NodW5rKGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rLCBmbG93OiBWdHJlZS5GbG93KTogYW55IHtcbiAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgIGlmIChjcCkge1xuICAgICAgaWYgKCFjcC5mbG93c1tmbG93Q2h1bmsuZmxvd05hbWVdKSB7XG4gICAgICAgIGNwLmZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV0gPSBmbG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxvdyA9IGNwLmZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV07XG4gICAgICB9XG4gICAgICBsZXQgZmxvd1Bvc2l0aW9uID0gY3AuZmxvd1Bvc2l0aW9uc1tmbG93Q2h1bmsuZmxvd05hbWVdO1xuICAgICAgaWYgKCFmbG93UG9zaXRpb24pIHtcbiAgICAgICAgZmxvd1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkZsb3dQb3NpdGlvbigpO1xuICAgICAgICBjcC5mbG93UG9zaXRpb25zW2Zsb3dDaHVuay5mbG93TmFtZV0gPSBmbG93UG9zaXRpb247XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlUG9zaXRpb24gPSBWdHJlZS5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZShmbG93Q2h1bmsuZWxlbWVudCk7XG4gICAgICBjb25zdCBjaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkNodW5rUG9zaXRpb24obm9kZVBvc2l0aW9uKTtcbiAgICAgIGNvbnN0IGZsb3dDaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkZsb3dDaHVua1Bvc2l0aW9uKFxuICAgICAgICBjaHVua1Bvc2l0aW9uLFxuICAgICAgICBmbG93Q2h1bmssXG4gICAgICApO1xuICAgICAgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5wdXNoKGZsb3dDaHVua1Bvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXRDb25zdW1lZE9mZnNldChmbG93UG9zaXRpb246IFZ0cmVlLkZsb3dQb3NpdGlvbik6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBvcyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNbaV0uY2h1bmtQb3NpdGlvbi5wcmltYXJ5O1xuICAgICAgbGV0IG5vZGUgPSBwb3Muc3RlcHNbMF0ubm9kZTtcbiAgICAgIGxldCBvZmZzZXRJbk5vZGUgPSBwb3Mub2Zmc2V0SW5Ob2RlO1xuICAgICAgbGV0IGFmdGVyID0gcG9zLmFmdGVyO1xuICAgICAgbGV0IGsgPSAwO1xuICAgICAgd2hpbGUgKG5vZGUub3duZXJEb2N1bWVudCAhPSB0aGlzLnhtbGRvYy5kb2N1bWVudCkge1xuICAgICAgICBrKys7XG4gICAgICAgIG5vZGUgPSBwb3Muc3RlcHNba10ubm9kZTtcbiAgICAgICAgYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgb2Zmc2V0SW5Ob2RlID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNodW5rT2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCBvZmZzZXRJbk5vZGUsIGFmdGVyKTtcbiAgICAgIGlmIChjaHVua09mZnNldCA8IG9mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSBjaHVua09mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbm9Mb29rQWhlYWQgRG8gbm90IGxvb2sgYWhlYWQgZWxlbWVudHMgdGhhdCBhcmUgbm90IHN0eWxlZCB5ZXRcbiAgICogQHJldHVybiBkb2N1bWVudCBvZmZzZXQgb2YgdGhlIGdpdmVuIGxheW91dFBvc2l0aW9uXG4gICAqL1xuICBnZXRQb3NpdGlvbihcbiAgICBsYXlvdXRQb3NpdGlvbj86IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICAgIG5vTG9va0FoZWFkPzogYm9vbGVhbixcbiAgKTogbnVtYmVyIHtcbiAgICBpZiAoIWxheW91dFBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMucHJpbWFyeUZsb3dzKSB7XG4gICAgICBsZXQgZmxvd1Bvc2l0aW9uID0gbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBpZiAoXG4gICAgICAgICFub0xvb2tBaGVhZCAmJlxuICAgICAgICAoIWZsb3dQb3NpdGlvbiB8fCBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCA9PSAwKSAmJlxuICAgICAgICB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvblxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxGbG93SXNSZWFjaGVkKGZsb3dOYW1lKTtcbiAgICAgICAgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICAgIGlmIChsYXlvdXRQb3NpdGlvbiAhPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbikge1xuICAgICAgICAgIGlmIChmbG93UG9zaXRpb24pIHtcbiAgICAgICAgICAgIGZsb3dQb3NpdGlvbiA9IGZsb3dQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV0gPSBmbG93UG9zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZmxvd1Bvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnN1bWVkT2Zmc2V0ID0gdGhpcy5nZXRDb25zdW1lZE9mZnNldChmbG93UG9zaXRpb24pO1xuICAgICAgICBpZiAoY29uc3VtZWRPZmZzZXQgPCBjdXJyZW50UG9zaXRpb24pIHtcbiAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBjb25zdW1lZE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uO1xuICB9XG5cbiAgZHVtcExvY2F0aW9uKHBvc2l0aW9uKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCJMb2NhdGlvbiAtIHBhZ2VcIiwgdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCIgIGN1cnJlbnQ6XCIsIHBvc2l0aW9uKTtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIiAgbG9va3VwOlwiLCB0aGlzLmxvb2t1cE9mZnNldCk7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBmbG93UG9zaXRpb24ucG9zaXRpb25zKSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFxuICAgICAgICAgIFwiICBDaHVua1wiLFxuICAgICAgICAgIGAke2Zsb3dOYW1lfTpgLFxuICAgICAgICAgIHAuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hdGNoUGFnZVNpZGUoc2lkZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICBjYXNlIFwicmVjdG9cIjpcbiAgICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgICByZXR1cm4gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc3R5bGUucGFnZVNjb3BlLCBgJHtzaWRlfS1wYWdlYCkuZXZhbHVhdGUoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgKSBhcyBib29sZWFuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhcnRTaWRlKGxheW91dFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbikge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBsYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zID0gbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tuYW1lXTtcbiAgICAgIGlmIChmbG93UG9zICYmIGZsb3dQb3MucG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmxvd0NodW5rID0gZmxvd1Bvcy5wb3NpdGlvbnNbMF0uZmxvd0NodW5rO1xuICAgICAgICBpZiAodGhpcy5nZXRDb25zdW1lZE9mZnNldChmbG93UG9zKSA9PT0gZmxvd0NodW5rLnN0YXJ0T2Zmc2V0KSB7XG4gICAgICAgICAgY29uc3QgZmxvd0NodW5rQnJlYWtCZWZvcmUgPVxuICAgICAgICAgICAgZmxvd1Bvcy5wb3NpdGlvbnNbMF0uZmxvd0NodW5rLmJyZWFrQmVmb3JlO1xuICAgICAgICAgIGNvbnN0IGZsb3dCcmVha0FmdGVyID0gQnJlYWsuc3RhcnRTaWRlVmFsdWVUb0JyZWFrVmFsdWUoXG4gICAgICAgICAgICBmbG93UG9zLnN0YXJ0U2lkZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsb3dQb3Muc3RhcnRTaWRlID0gQnJlYWsuYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUoXG4gICAgICAgICAgICBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgZmxvd0JyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIGZsb3dDaHVua0JyZWFrQmVmb3JlLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjYXNjYWRlZFBhZ2VTdHlsZSBDYXNjYWRlZCBwYWdlIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlIGNvbnRleHRcbiAgICovXG4gIHNlbGVjdFBhZ2VNYXN0ZXIoXG4gICAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcblxuICAgIC8vIDMuNS4gUGFnZSBMYXlvdXQgUHJvY2Vzc2luZyBNb2RlbFxuICAgIC8vIDEuIERldGVybWluZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudDogRmluZCB0aGUgbWluaW1hbFxuICAgIC8vIGNvbnN1bWVkLW9mZnNldCBmb3IgYWxsIGVsZW1lbnRzIG5vdCBmdWxseS1jb25zdW1lZCBpbiBlYWNoIHByaW1hcnkgZmxvdy5cbiAgICAvLyBDdXJyZW50IHBvc2l0aW9uIGlzIG1heGltdW0gb2YgdGhlIHJlc3VsdHMgYW1vbmcgYWxsIHByaW1hcnkgZmxvd3MuXG4gICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbihjcCk7XG4gICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgIC8vIGVuZCBvZiBwcmltYXJ5IGNvbnRlbnQgaXMgcmVhY2hlZFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gMi4gUGFnZSBtYXN0ZXIgc2VsZWN0aW9uOiBmb3IgZWFjaCBwYWdlIG1hc3RlcjpcbiAgICBjb25zdCBwYWdlTWFzdGVycyA9IHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZVxuICAgICAgLmNoaWxkcmVuIGFzIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlW107XG4gICAgbGV0IHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZU1hc3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhZ2VNYXN0ZXIgPSBwYWdlTWFzdGVyc1tpXTtcblxuICAgICAgLy8gU2tpcCBhIHBhZ2UgbWFzdGVyIGdlbmVyYXRlZCBmb3IgQHBhZ2UgcnVsZXNcbiAgICAgIGlmIChwYWdlTWFzdGVyLnBhZ2VCb3gucHNldWRvTmFtZSA9PT0gQ3NzUGFnZS5wYWdlUnVsZU1hc3RlclBzZXVkb05hbWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgY29lZmYgPSAxO1xuXG4gICAgICAvLyBBLiBDYWxjdWxhdGUgbG9va3VwIHBvc2l0aW9uIHVzaW5nIGN1cnJlbnQgcG9zaXRpb24gYW5kIHV0aWxpemF0aW9uXG4gICAgICAvLyAoc2VlIC1lcHVieC11dGlsaXphdGlvbiBwcm9wZXJ0eSlcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uID0gcGFnZU1hc3Rlci5nZXRQcm9wKHNlbGYsIFwidXRpbGl6YXRpb25cIik7XG4gICAgICBpZiAodXRpbGl6YXRpb24gJiYgdXRpbGl6YXRpb24uaXNOdW0oKSkge1xuICAgICAgICBjb2VmZiA9ICh1dGlsaXphdGlvbiBhcyBDc3MuTnVtKS5udW07XG4gICAgICB9XG4gICAgICBjb25zdCBlbSA9IHNlbGYucXVlcnlVbml0U2l6ZShcImVtXCIsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHBhZ2VBcmVhID0gc2VsZi5wYWdlV2lkdGgoKSAqIHNlbGYucGFnZUhlaWdodCgpO1xuICAgICAgY29uc3QgbG9va3VwID0gTWF0aC5jZWlsKChjb2VmZiAqIHBhZ2VBcmVhKSAvIChlbSAqIGVtKSk7XG5cbiAgICAgIC8vIEIuIERldGVybWluZSBlbGVtZW50IGVsaWdpYmlsaXR5LiBFYWNoIGVsZW1lbnQgaW4gYSBmbG93IGlzIGNvbnNpZGVyZWRcbiAgICAgIC8vIGVsaWdpYmxlIGlmIGl0IGlzIGlzIG5vdCBtYXJrZWQgYXMgZnVsbHkgY29uc3VtZWQgYW5kIGl0IGNvbWVzIGluIHRoZVxuICAgICAgLy8gZG9jdW1lbnQgYmVmb3JlIHRoZSBsb29rdXAgcG9zaXRpb24uIEZlZWQgbG9va3VwT2Zmc2V0IGFuZCBmbG93XG4gICAgICAvLyBhdmFpbGFiaWxpdHkgaW50byB0aGUgY29udGV4dFxuICAgICAgdGhpcy5sb29rdXBPZmZzZXQgPSB0aGlzLnN0eWxlci5zdHlsZVVudGlsKGN1cnJlbnRQb3NpdGlvbiwgbG9va3VwKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGNwKTtcbiAgICAgIHRoaXMudXBkYXRlU3RhcnRTaWRlKGNwKTtcblxuICAgICAgLy8gdXBkYXRlIGxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgc2luY2Ugc3RhcnRTaWRlIG9mIEZsb3dDaHVua3MgbWF5IGJlXG4gICAgICAvLyB1cGRhdGVkXG4gICAgICB0aGlzLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgPSBjcC5jbG9uZSgpO1xuICAgICAgdGhpcy5pbml0TGluZ2VyaW5nKCk7XG4gICAgICBzZWxmLmNsZWFyU2NvcGUodGhpcy5zdHlsZS5wYWdlU2NvcGUpO1xuXG4gICAgICAvLyBDLiBEZXRlcm1pbmUgY29udGVudCBhdmFpbGFiaWxpdHkuIEZsb3cgaGFzIGNvbnRlbnQgYXZhaWxhYmxlIGlmIGl0XG4gICAgICAvLyBjb250YWlucyBlbGlnaWJsZSBlbGVtZW50cy4gRC4gRGV0ZXJtaW5lIGlmIHBhZ2UgbWFzdGVyIGlzIGVuYWJsZWRcbiAgICAgIC8vIHVzaW5nIHJ1bGVzIGluIFNlY3Rpb24gMy40LjdcbiAgICAgIGNvbnN0IGVuYWJsZWQgPSBwYWdlTWFzdGVyLmdldFByb3Aoc2VsZiwgXCJlbmFibGVkXCIpO1xuXG4gICAgICAvLyBFLiBGaXJzdCBlbmFibGVkIHBhZ2UgbWFzdGVyIGlzIHVzZWQgZm9yIHRoZSBuZXh0IHBhZ2VcbiAgICAgIGlmICghZW5hYmxlZCB8fCBlbmFibGVkID09PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgdGhpcy5kdW1wTG9jYXRpb24oY3VycmVudFBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IEBwYWdlIHJ1bGVzXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VNYW5hZ2VyLmdldFBhZ2VSdWxlUGFnZU1hc3RlcihcbiAgICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBlbmFibGVkIHBhZ2UgbWFzdGVyc1wiKTtcbiAgfVxuXG4gIGZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsoZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmspOiBib29sZWFuIHtcbiAgICBjb25zdCBmbG93cyA9IHRoaXMubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydC5mbG93cztcbiAgICBjb25zdCBwYXJlbnRGbG93TmFtZSA9IGZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV0ucGFyZW50Rmxvd05hbWU7XG4gICAgaWYgKHBhcmVudEZsb3dOYW1lKSB7XG4gICAgICBjb25zdCBzdGFydE9mZnNldCA9IGZsb3dDaHVuay5zdGFydE9mZnNldDtcbiAgICAgIGNvbnN0IGZvcmNlZEJyZWFrT2Zmc2V0cyA9IGZsb3dzW3BhcmVudEZsb3dOYW1lXS5mb3JjZWRCcmVha09mZnNldHM7XG4gICAgICBpZiAoIWZvcmNlZEJyZWFrT2Zmc2V0cy5sZW5ndGggfHwgc3RhcnRPZmZzZXQgPCBmb3JjZWRCcmVha09mZnNldHNbMF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4ID1cbiAgICAgICAgQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCxcbiAgICAgICAgICAoaSkgPT4gZm9yY2VkQnJlYWtPZmZzZXRzW2ldID4gc3RhcnRPZmZzZXQsXG4gICAgICAgICkgLSAxO1xuICAgICAgY29uc3QgYnJlYWtPZmZzZXRCZWZvcmVTdGFydCA9XG4gICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0c1ticmVha09mZnNldEJlZm9yZVN0YXJ0SW5kZXhdO1xuICAgICAgY29uc3QgcGFyZW50Rmxvd1Bvc2l0aW9uID0gdGhpcy5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0LmZsb3dQb3NpdGlvbnNbXG4gICAgICAgIHBhcmVudEZsb3dOYW1lXG4gICAgICBdO1xuICAgICAgY29uc3QgcGFyZW50U3RhcnRPZmZzZXQgPSB0aGlzLmdldENvbnN1bWVkT2Zmc2V0KHBhcmVudEZsb3dQb3NpdGlvbik7XG4gICAgICBpZiAoYnJlYWtPZmZzZXRCZWZvcmVTdGFydCA8IHBhcmVudFN0YXJ0T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRTdGFydE9mZnNldCA8IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogcGFyZW50U3RhcnRPZmZzZXQgPT09IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnRcbiAgICAgIC8vIEluIHRoaXMgY2FzZSwgdGhlIGZsb3dDaHVuayBjYW4gYmUgdXNlZCBpZiB0aGUgc3RhcnQgc2lkZSBvZiB0aGUgcGFyZW50XG4gICAgICAvLyBmbG93IG1hdGNoZXMgdGhlIGN1cnJlbnQgcGFnZSBzaWRlLlxuICAgICAgcmV0dXJuICF0aGlzLm1hdGNoUGFnZVNpZGUocGFyZW50Rmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNldEZvcm1hdHRpbmdDb250ZXh0VG9Db2x1bW4oY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbiwgZmxvd05hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGZsb3cgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93c1tmbG93TmFtZV07XG4gICAgaWYgKCFmbG93LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICBmbG93LmZvcm1hdHRpbmdDb250ZXh0ID0gbmV3IExheW91dFByb2Nlc3Nvci5CbG9ja0Zvcm1hdHRpbmdDb250ZXh0KG51bGwpO1xuICAgIH1cbiAgICBjb2x1bW4uZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCA9IGZsb3cuZm9ybWF0dGluZ0NvbnRleHQ7XG4gIH1cblxuICBsYXlvdXREZWZlcnJlZFBhZ2VGbG9hdHMoY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgZGVmZXJyZWRGbG9hdHMgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucygpO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcImxheW91dERlZmVycmVkUGFnZUZsb2F0c1wiKTtcbiAgICBsZXQgaW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IGRlZmVycmVkRmxvYXRzLmxlbmd0aCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gZGVmZXJyZWRGbG9hdHNbaSsrXTtcbiAgICAgICAgY29uc3QgZmxvYXQgPSBjb250aW51YXRpb24uZmxvYXQ7XG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlcigpLmZpbmRCeUZsb2F0KFxuICAgICAgICAgIGZsb2F0LFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwYWdlRmxvYXRGcmFnbWVudCA9IHN0cmF0ZWd5LmZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgICAgICBmbG9hdCxcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZUZsb2F0RnJhZ21lbnQgJiYgcGFnZUZsb2F0RnJhZ21lbnQuaGFzRmxvYXQoZmxvYXQpKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzRm9yYmlkZGVuKGZsb2F0KSB8fFxuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQpXG4gICAgICAgICkge1xuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtblxuICAgICAgICAgIC5sYXlvdXRQYWdlRmxvYXRJbm5lcihjb250aW51YXRpb24sIHN0cmF0ZWd5LCBudWxsLCBwYWdlRmxvYXRGcmFnbWVudClcbiAgICAgICAgICAudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFyZW50SW52YWxpZGF0ZWQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnBhcmVudC5pc0ludmFsaWRhdGVkKCk7XG4gICAgICAgICAgICBpZiAocGFyZW50SW52YWxpZGF0ZWQpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSAmJlxuICAgICAgICAgICAgICAhcGFyZW50SW52YWxpZGF0ZWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkYXRlZCkge1xuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGdldExhc3RBZnRlclBvc2l0aW9uSWZEZWZlcnJlZEZsb2F0c0V4aXN0cyhcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIG5ld1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uIHwgbnVsbCxcbiAgKTogVnRyZWUuQ2h1bmtQb3NpdGlvbiB8IG51bGwge1xuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0KCk7XG4gICAgaWYgKGRlZmVycmVkRmxvYXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24pIHtcbiAgICAgICAgbGV0IHJlc3VsdDogVnRyZWUuQ2h1bmtQb3NpdGlvbjtcbiAgICAgICAgaWYgKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgLy8gTmVlZCBvdmVyZmxvd24gZm9vdG5vdGVzIG93bmVkIGJ5IG5ld1Bvc2l0aW9uXG4gICAgICAgICAgcmVzdWx0ID0gbmV3UG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICByZXN1bHQucHJpbWFyeSA9IGNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBuZXcgVnRyZWUuQ2h1bmtQb3NpdGlvbihjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBc3NlcnRzLmFzc2VydChcImNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbiA9PT0gbnVsbFwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgdHJ1ZVxuICAgKi9cbiAgbGF5b3V0Q29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgIGlmICghZmxvd1Bvc2l0aW9uIHx8ICF0aGlzLm1hdGNoUGFnZVNpZGUoZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSkpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSA9IFwiYW55XCI7XG4gICAgdGhpcy5zZXRGb3JtYXR0aW5nQ29udGV4dFRvQ29sdW1uKGNvbHVtbiwgZmxvd05hbWUpO1xuICAgIGNvbHVtbi5pbml0KCk7XG4gICAgaWYgKHRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lXSAmJiBjb2x1bW4uYmFuZHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gSW4gZ2VuZXJhbCwgd2UgZm9yY2Ugbm9uLWZpdHRpbmcgY29udGVudC4gRXhjZXB0aW9uIGlzIG9ubHkgZm9yIHByaW1hcnlcbiAgICAgIC8vIGZsb3cgY29sdW1ucyB0aGF0IGhhdmUgZXhjbHVzaW9ucy5cbiAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0Q29sdW1uXCIpO1xuICAgIHRoaXMubGF5b3V0RGVmZXJyZWRQYWdlRmxvYXRzKGNvbHVtbikudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWNvcmQgaW5kaWNlcyBvZiByZXBlYXRlZCBwb3NpdGlvbnMgYW5kIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICBjb25zdCByZXBlYXRlZEluZGljZXMgPSBbXSBhcyBudW1iZXJbXTtcbiAgICAgIGNvbnN0IHJlbW92ZWRJbmRpY2VzID0gW10gYXMgbnVtYmVyW107XG4gICAgICBsZXQgbGVhZGluZ0VkZ2UgPSB0cnVlO1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0Lmhhc0NvbnRpbnVpbmdGbG9hdEZyYWdtZW50c0luRmxvdyhcbiAgICAgICAgICAgICAgZmxvd05hbWUsXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCAtIHJlbW92ZWRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgICAgIC8vIFNraXAgYWxsIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICAgICAgICB3aGlsZSAocmVtb3ZlZEluZGljZXMuaW5jbHVkZXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2VsZWN0ZWQuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0ID4gc2VsZi5sb29rdXBPZmZzZXQgfHxcbiAgICAgICAgICAgICAgc2VsZi5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKHNlbGVjdGVkLmZsb3dDaHVuaylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGsgPSBpbmRleCArIDE7IGsgPCBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGlmIChyZW1vdmVkSW5kaWNlcy5pbmNsdWRlcyhrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgYWx0ID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1trXTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFsdC5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPiBzZWxmLmxvb2t1cE9mZnNldCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuZmxvd0NodW5rSXNBZnRlclBhcmVudEZsb3dGb3JjZWRCcmVhayhhbHQuZmxvd0NodW5rKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYWx0LmZsb3dDaHVuay5pc0JldHRlcihzZWxlY3RlZC5mbG93Q2h1bmspKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBhbHQ7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmbG93Q2h1bmsgPSBzZWxlY3RlZC5mbG93Q2h1bms7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb2x1bW5cbiAgICAgICAgICAgICAgLmxheW91dChcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5jaHVua1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlLFxuICAgICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC50aGVuKChuZXdQb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXRpYzoga2VlcCBpbiB0aGUgZmxvd1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmZsb3dDaHVuay5yZXBlYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgKG5ld1Bvc2l0aW9uID09PSBudWxsIHx8IGZsb3dDaHVuay5leGNsdXNpdmUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICByZXBlYXRlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmbG93Q2h1bmsuZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBleGNsdXNpdmUsIG9ubHkgY2FuIGhhdmUgb25lLCByZW1vdmUgZnJvbSB0aGUgZmxvdyBldmVuXG4gICAgICAgICAgICAgICAgICAvLyBpZiBpdCBkaWQgbm90IGZpdFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIG5vdCBleGNsdXNpdmVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZE9mQ29sdW1uID0gISFuZXdQb3NpdGlvbiB8fCAhIWNvbHVtbi5wYWdlQnJlYWtUeXBlO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEFmdGVyUG9zaXRpb24gPSBzZWxmLmdldExhc3RBZnRlclBvc2l0aW9uSWZEZWZlcnJlZEZsb2F0c0V4aXN0cyhcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUgJiYgbGFzdEFmdGVyUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2h1bmtQb3NpdGlvbiA9IGxhc3RBZnRlclBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcHJvcGFnYXRlIHBhZ2VCcmVha1R5cGVcbiAgICAgICAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPSBjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgZmxvd1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uIHx8IGxhc3RBZnRlclBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gZGlkIG5vdCBmaXQgY29tcGxldGVseVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmNodW5rUG9zaXRpb24gPSBuZXdQb3NpdGlvbiB8fCBsYXN0QWZ0ZXJQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICByZXBlYXRlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2VkIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSA9IEJyZWFrLmJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLnBhZ2VCcmVha1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGVuZE9mQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIGF0IGxlYXN0IG9uZSBmbG93Q2h1bmsgaGFzIGJlZW4gcGxhY2VkIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbHVtbiwgdGhlIG5leHQgZmxvd0NodW5rIG9mIHRoZSBmbG93IGNhbiBiZSBkZWZlcnJlZCB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSBuZXh0IHBhcnRpdGlvbiBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgcGFydGl0aW9uLlxuICAgICAgICAgICAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgLy8gU3luYyByZXN1bHRcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gQXN5bmMgcmVzdWx0XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgIC8vIEFzeW5jIHJlc3VsdFxuICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTeW5jIHJlc3VsdFxuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHBvc2l0aW9ucyByZXBlYXRlZCBvciBub3QgcmVtb3ZlZFxuICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAocG9zLCBpKSA9PlxuICAgICAgICAgICAgICAgIHJlcGVhdGVkSW5kaWNlcy5pbmNsdWRlcyhpKSB8fCAhcmVtb3ZlZEluZGljZXMuaW5jbHVkZXMoaSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID09PSBcImNvbHVtblwiKSB7XG4gICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbi5zYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCk7XG4gICAgICAgICAgICBjb25zdCBlZGdlID0gY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpO1xuICAgICAgICAgICAgY29sdW1uLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZWRnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IExheW91dFR5cGUuTGF5b3V0Q29uc3RyYWludCB7XG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZSAtIDE7XG4gICAgY29uc3QgY291bnRlckNvbnN0cmFpbnQgPSB0aGlzLmNvdW50ZXJTdG9yZS5jcmVhdGVMYXlvdXRDb25zdHJhaW50KFxuICAgICAgcGFnZUluZGV4LFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBMYXlvdXQuQWxsTGF5b3V0Q29uc3RyYWludChcbiAgICAgIFtjb3VudGVyQ29uc3RyYWludF0uY29uY2F0KHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0TGF5b3V0Q29uc3RyYWludHMoKSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQW5kTGF5b3V0Q29sdW1uKFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGN1cnJlbnRDb2x1bW5JbmRleDogbnVtYmVyLFxuICAgIGZsb3dOYW1lU3RyOiBzdHJpbmcsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgY29sdW1uR2FwOiBudW1iZXIsXG4gICAgY29sdW1uV2lkdGg6IG51bWJlcixcbiAgICBpbm5lclNoYXBlOiBHZW9tZXRyeVV0aWwuU2hhcGUsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBmb3JjZU5vbkZpdHRpbmc6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PExheW91dFR5cGUuQ29sdW1uPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZG9udEFwcGx5RXhjbHVzaW9ucyA9IGJveEluc3RhbmNlLnZlcnRpY2FsXG4gICAgICA/IGJveEluc3RhbmNlLmlzQXV0b1dpZHRoICYmIGJveEluc3RhbmNlLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aFxuICAgICAgOiBib3hJbnN0YW5jZS5pc0F1dG9IZWlnaHQgJiYgYm94SW5zdGFuY2UuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQ7XG4gICAgY29uc3QgYm94Q29udGFpbmVyID0gbGF5b3V0Q29udGFpbmVyLmVsZW1lbnQ7XG4gICAgY29uc3QgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5DT0xVTU4sXG4gICAgICBudWxsLFxuICAgICAgZmxvd05hbWVTdHIsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICBjb25zdCBwb3NpdGlvbkF0Q29sdW1uU3RhcnQgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5jbG9uZSgpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPExheW91dFR5cGUuQ29sdW1uPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZUFuZExheW91dENvbHVtblwiLFxuICAgICk7XG4gICAgbGV0IGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW47XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgbGF5b3V0Q29uc3RyYWludCA9IHNlbGYuY3JlYXRlTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgICBpZiAoY29sdW1uQ291bnQgPiAxKSB7XG4gICAgICAgICAgY29uc3QgY29sdW1uQ29udGFpbmVyID0gc2VsZi52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29sdW1uQ29udGFpbmVyLCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICAgICAgYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbHVtbkNvbnRhaW5lcik7XG4gICAgICAgICAgY29sdW1uID0gbmV3IExheW91dC5Db2x1bW4oXG4gICAgICAgICAgICBjb2x1bW5Db250YWluZXIsXG4gICAgICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmb3JjZU5vbkZpdHRpbmc7XG4gICAgICAgICAgY29sdW1uLnZlcnRpY2FsID0gbGF5b3V0Q29udGFpbmVyLnZlcnRpY2FsO1xuICAgICAgICAgIGNvbHVtbi5zbmFwSGVpZ2h0ID0gbGF5b3V0Q29udGFpbmVyLnNuYXBIZWlnaHQ7XG4gICAgICAgICAgY29sdW1uLnNuYXBXaWR0aCA9IGxheW91dENvbnRhaW5lci5zbmFwV2lkdGg7XG4gICAgICAgICAgaWYgKGxheW91dENvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uWSA9XG4gICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5JbmRleCAqIChjb2x1bW5XaWR0aCArIGNvbHVtbkdhcCkgK1xuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ1RvcDtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRIb3Jpem9udGFsUG9zaXRpb24oXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5wYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLndpZHRoLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRWZXJ0aWNhbFBvc2l0aW9uKGNvbHVtblksIGNvbHVtbldpZHRoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uWCA9XG4gICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5JbmRleCAqIChjb2x1bW5XaWR0aCArIGNvbHVtbkdhcCkgK1xuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ0xlZnQ7XG4gICAgICAgICAgICBjb2x1bW4uc2V0VmVydGljYWxQb3NpdGlvbihcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLnBhZGRpbmdUb3AsXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5oZWlnaHQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29sdW1uLnNldEhvcml6b250YWxQb3NpdGlvbihjb2x1bW5YLCBjb2x1bW5XaWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbi5vcmlnaW5YID0gb2Zmc2V0WDtcbiAgICAgICAgICBjb2x1bW4ub3JpZ2luWSA9IG9mZnNldFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sdW1uID0gbmV3IExheW91dC5Db2x1bW4oXG4gICAgICAgICAgICBib3hDb250YWluZXIsXG4gICAgICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbHVtbi5jb3B5RnJvbShsYXlvdXRDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtbi5leGNsdXNpb25zID0gZG9udEFwcGx5RXhjbHVzaW9ucyA/IFtdIDogZXhjbHVzaW9ucy5jb25jYXQoKTtcbiAgICAgICAgY29sdW1uLmlubmVyU2hhcGUgPSBpbm5lclNoYXBlO1xuICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcihjb2x1bW4pO1xuICAgICAgICBpZiAoY29sdW1uLndpZHRoID49IDApIHtcbiAgICAgICAgICAvLyBjb2x1bW4uZWxlbWVudC5zdHlsZS5vdXRsaW5lID0gXCIxcHggZG90dGVkIGdyZWVuXCI7XG4gICAgICAgICAgc2VsZi5sYXlvdXRDb2x1bW4oY29sdW1uLCBmbG93TmFtZVN0cikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSAmJlxuICAgICAgICAgICAgICAhcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHBvc2l0aW9uQXRDb2x1bW5TdGFydC5jbG9uZSgpO1xuICAgICAgICAgICAgICBpZiAoY29sdW1uLmVsZW1lbnQgIT09IGJveENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5yZW1vdmVDaGlsZChjb2x1bW4uZWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2goY29sdW1uKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNldFBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0Q29udGFpbmVyKFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApIHtcbiAgICBpZiAoXG4gICAgICBib3hJbnN0YW5jZSBpbnN0YW5jZW9mIENzc1BhZ2UuUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZSB8fFxuICAgICAgKGJveEluc3RhbmNlIGluc3RhbmNlb2YgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UgJiZcbiAgICAgICAgIShib3hJbnN0YW5jZSBpbnN0YW5jZW9mIENzc1BhZ2UuUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSkpXG4gICAgKSB7XG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5zZXRDb250YWluZXIobGF5b3V0Q29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBnZXRSZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICk6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQoYm94SW5zdGFuY2UgaW5zdGFuY2VvZiBQYWdlTWFzdGVyLlBhcnRpdGlvbkluc3RhbmNlKTtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IGJveEluc3RhbmNlLmdldFByb3AodGhpcywgXCJ3cml0aW5nLW1vZGVcIikgfHwgbnVsbDtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBib3hJbnN0YW5jZS5nZXRQcm9wKHRoaXMsIFwiZGlyZWN0aW9uXCIpIHx8IG51bGw7XG4gICAgcmV0dXJuIG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgZmxvd05hbWUsXG4gICAgICBudWxsLFxuICAgICAgd3JpdGluZ01vZGUsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgKTtcbiAgfVxuXG4gIGxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyhcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgZmxvd05hbWVTdHI6IHN0cmluZyxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxMYXlvdXRUeXBlLkNvbHVtbltdPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgcG9zaXRpb25BdENvbnRhaW5lclN0YXJ0ID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uY2xvbmUoKTtcbiAgICBjb25zdCByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gc2VsZi5nZXRSZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBib3hJbnN0YW5jZSxcbiAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgIGZsb3dOYW1lU3RyLFxuICAgICk7XG4gICAgbGV0IGlzRmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGxheW91dENvbHVtbnMoKSB7XG4gICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHBvc2l0aW9uQXRDb250YWluZXJTdGFydC5jbG9uZSgpO1xuICAgICAgcmV0dXJuIHNlbGZcbiAgICAgICAgLmxheW91dEZsb3dDb2x1bW5zKFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgYm94SW5zdGFuY2UsXG4gICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgIGV4Y2x1c2lvbnMsXG4gICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgICAgaXNGaXJzdFRpbWUsXG4gICAgICAgIClcbiAgICAgICAgLnRoZW5Bc3luYygoY29sdW1ucykgPT4ge1xuICAgICAgICAgIGlmIChjb2x1bW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoe1xuICAgICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsYXlvdXRDb2x1bW5zKCkudGhlbkFzeW5jKChnZW5lcmF0b3JSZXN1bHQpID0+IHtcbiAgICAgIGlmICghZ2VuZXJhdG9yUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2x1bW5Db3VudCA8PSAxKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChnZW5lcmF0b3JSZXN1bHQuY29sdW1ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb2x1bW5GaWxsID1cbiAgICAgICAgKGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJjb2x1bW4tZmlsbFwiKSBhcyBDc3MuSWRlbnQpIHx8XG4gICAgICAgIENzcy5pZGVudC5iYWxhbmNlO1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID1cbiAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZVN0cl07XG4gICAgICBBc3NlcnRzLmFzc2VydChmbG93UG9zaXRpb24pO1xuICAgICAgY29uc3QgY29sdW1uQmFsYW5jZXIgPSBDb2x1bW5zLmNyZWF0ZUNvbHVtbkJhbGFuY2VyKFxuICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgY29sdW1uRmlsbCxcbiAgICAgICAgbGF5b3V0Q29sdW1ucyxcbiAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICBnZW5lcmF0b3JSZXN1bHQuY29sdW1ucyxcbiAgICAgICAgZmxvd1Bvc2l0aW9uLFxuICAgICAgKTtcbiAgICAgIGlmICghY29sdW1uQmFsYW5jZXIpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGdlbmVyYXRvclJlc3VsdC5jb2x1bW5zKTtcbiAgICAgIH1cbiAgICAgIGlzRmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5sb2NrKCk7XG4gICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmxvY2soKTtcbiAgICAgIHJldHVybiBjb2x1bW5CYWxhbmNlclxuICAgICAgICAuYmFsYW5jZUNvbHVtbnMoZ2VuZXJhdG9yUmVzdWx0KVxuICAgICAgICAudGhlbkFzeW5jKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC51bmxvY2soKTtcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQudW5sb2NrKCk7XG4gICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSByZXN1bHQucG9zaXRpb247XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdC5jb2x1bW5zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBsYXlvdXRGbG93Q29sdW1ucyhcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGZsb3dOYW1lU3RyOiBzdHJpbmcsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBmb3JjZU5vbkZpdHRpbmc6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PExheW91dFR5cGUuQ29sdW1uW10gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8TGF5b3V0VHlwZS5Db2x1bW5bXSB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibGF5b3V0Rmxvd0NvbHVtbnNcIixcbiAgICApO1xuICAgIGNvbnN0IHBvc2l0aW9uQXRDb250YWluZXJTdGFydCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmNsb25lKCk7XG4gICAgY29uc3QgY29sdW1uR2FwID0gYm94SW5zdGFuY2UuZ2V0UHJvcEFzTnVtYmVyKHNlbGYsIFwiY29sdW1uLWdhcFwiKTtcblxuICAgIC8vIERvbid0IHF1ZXJ5IGNvbHVtbldpZHRoIHdoZW4gaXQncyBub3QgbmVlZGVkLCBzbyB0aGF0IHdpZHRoIGNhbGN1bGF0aW9uXG4gICAgLy8gY2FuIGJlIGRlbGF5ZWQgZm9yIHdpZHRoOiBhdXRvIGNvbHVtbnMuXG4gICAgY29uc3QgY29sdW1uV2lkdGggPVxuICAgICAgY29sdW1uQ291bnQgPiAxXG4gICAgICAgID8gYm94SW5zdGFuY2UuZ2V0UHJvcEFzTnVtYmVyKHNlbGYsIFwiY29sdW1uLXdpZHRoXCIpXG4gICAgICAgIDogbGF5b3V0Q29udGFpbmVyLndpZHRoO1xuICAgIGNvbnN0IHJlZ2lvbklkcyA9IGJveEluc3RhbmNlLmdldEFjdGl2ZVJlZ2lvbnMoc2VsZik7XG4gICAgY29uc3QgaW5uZXJTaGFwZVZhbCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJzaGFwZS1pbnNpZGVcIik7XG4gICAgY29uc3QgaW5uZXJTaGFwZSA9IENzc1Byb3AudG9TaGFwZShcbiAgICAgIGlubmVyU2hhcGVWYWwsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGxheW91dENvbnRhaW5lci53aWR0aCxcbiAgICAgIGxheW91dENvbnRhaW5lci5oZWlnaHQsXG4gICAgICBzZWxmLFxuICAgICk7XG4gICAgY29uc3QgbGF5b3V0Q29udGV4dCA9IG5ldyBWZ2VuLlZpZXdGYWN0b3J5KFxuICAgICAgZmxvd05hbWVTdHIsXG4gICAgICBzZWxmLFxuICAgICAgc2VsZi52aWV3cG9ydCxcbiAgICAgIHNlbGYuc3R5bGVyLFxuICAgICAgcmVnaW9uSWRzLFxuICAgICAgc2VsZi54bWxkb2MsXG4gICAgICBzZWxmLmZhY2VzLFxuICAgICAgc2VsZi5zdHlsZS5mb290bm90ZVByb3BzLFxuICAgICAgc2VsZixcbiAgICAgIHBhZ2UsXG4gICAgICBzZWxmLmN1c3RvbVJlbmRlcmVyLFxuICAgICAgc2VsZi5mYWxsYmFja01hcCxcbiAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICApO1xuICAgIGxldCBjb2x1bW5JbmRleCA9IDA7XG4gICAgbGV0IGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4gPSBudWxsO1xuICAgIGxldCBjb2x1bW5zOiBMYXlvdXRUeXBlLkNvbHVtbltdID0gW107XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5jcmVhdGVBbmRMYXlvdXRDb2x1bW4oXG4gICAgICAgICAgICBib3hJbnN0YW5jZSxcbiAgICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICAgIGNvbHVtbkluZGV4KyssXG4gICAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgICAgIGNvbHVtbkdhcCxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoLFxuICAgICAgICAgICAgaW5uZXJTaGFwZSxcbiAgICAgICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgICAgICBmb3JjZU5vbkZpdHRpbmcsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChjKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSBudWxsO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZvcmNlZFJlZ2lvbkJyZWFrID1cbiAgICAgICAgICAgICAgISFjLnBhZ2VCcmVha1R5cGUgJiYgYy5wYWdlQnJlYWtUeXBlICE9PSBcImNvbHVtblwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoZm9yY2VkUmVnaW9uQnJlYWsgfHwgY29sdW1uSW5kZXggPT09IGNvbHVtbkNvdW50KSAmJlxuICAgICAgICAgICAgICAhcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAocmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW4gPSBjO1xuICAgICAgICAgICAgY29sdW1uc1tjb2x1bW5JbmRleCAtIDFdID0gY29sdW1uO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSAhPSBcImNvbHVtblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCByZW1haW5pbmcgY29sdW1uc1xuICAgICAgICAgICAgICAgIGNvbHVtbkluZGV4ID0gY29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlICE9IFwicmVnaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHNraXAgcmVtYWluaW5nIHJlZ2lvbnNcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrc1tmbG93TmFtZVN0cl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHVtbkluZGV4IDwgY29sdW1uQ291bnQpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGNvbHVtbnMpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9sZGluZyB0cnVlXG4gICAqL1xuICBsYXlvdXRDb250YWluZXIoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFyZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBib3hJbnN0YW5jZS5yZXNldCgpO1xuICAgIGNvbnN0IGVuYWJsZWQgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiZW5hYmxlZFwiKTtcbiAgICBpZiAoZW5hYmxlZCAmJiBlbmFibGVkICE9PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0Q29udGFpbmVyXCIpO1xuICAgIGNvbnN0IHdyYXBGbG93ID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcIndyYXAtZmxvd1wiKTtcbiAgICBjb25zdCBkb250RXhjbHVkZSA9IHdyYXBGbG93ID09PSBDc3MuaWRlbnQuYXV0bztcbiAgICBjb25zdCBmbG93TmFtZSA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJmbG93LWZyb21cIik7XG4gICAgY29uc3QgYm94Q29udGFpbmVyID0gc2VsZi52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcInBvc2l0aW9uXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBib3hDb250YWluZXIsXG4gICAgICBcInBvc2l0aW9uXCIsXG4gICAgICBwb3NpdGlvbiA/IChwb3NpdGlvbiBhcyBhbnkpLm5hbWUgOiBcImFic29sdXRlXCIsXG4gICAgKTtcbiAgICBwYXJlbnRDb250YWluZXIuaW5zZXJ0QmVmb3JlKGJveENvbnRhaW5lciwgcGFyZW50Q29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIGxldCBsYXlvdXRDb250YWluZXIgPSBuZXcgVnRyZWUuQ29udGFpbmVyKGJveENvbnRhaW5lcik7XG4gICAgbGF5b3V0Q29udGFpbmVyLnZlcnRpY2FsID0gYm94SW5zdGFuY2UudmVydGljYWw7XG4gICAgbGF5b3V0Q29udGFpbmVyLmV4Y2x1c2lvbnMgPSBleGNsdXNpb25zO1xuICAgIGJveEluc3RhbmNlLnByZXBhcmVDb250YWluZXIoXG4gICAgICBzZWxmLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgcGFnZSxcbiAgICAgIHNlbGYuZmFjZXMsXG4gICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGxheW91dENvbnRhaW5lci5vcmlnaW5YID0gb2Zmc2V0WDtcbiAgICBsYXlvdXRDb250YWluZXIub3JpZ2luWSA9IG9mZnNldFk7XG4gICAgb2Zmc2V0WCArPVxuICAgICAgbGF5b3V0Q29udGFpbmVyLmxlZnQgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLm1hcmdpbkxlZnQgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLmJvcmRlckxlZnQ7XG4gICAgb2Zmc2V0WSArPVxuICAgICAgbGF5b3V0Q29udGFpbmVyLnRvcCArXG4gICAgICBsYXlvdXRDb250YWluZXIubWFyZ2luVG9wICtcbiAgICAgIGxheW91dENvbnRhaW5lci5ib3JkZXJUb3A7XG4gICAgdGhpcy5zZXRQYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dENvbnRhaW5lcihcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgYm94SW5zdGFuY2UsXG4gICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgKTtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcbiAgICBpZiAoIWZsb3dOYW1lIHx8ICFmbG93TmFtZS5pc0lkZW50KCkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRWYWwgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiY29udGVudFwiKTtcbiAgICAgIGlmIChjb250ZW50VmFsICYmIFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGNvbnRlbnRWYWwpKSB7XG4gICAgICAgIGxldCBpbm5lckNvbnRhaW5lclRhZyA9IFwic3BhblwiO1xuICAgICAgICBpZiAoKGNvbnRlbnRWYWwgYXMgYW55KS51cmwpIHtcbiAgICAgICAgICBpbm5lckNvbnRhaW5lclRhZyA9IFwiaW1nXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5uZXJDb250YWluZXIgPSBzZWxmLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgaW5uZXJDb250YWluZXJUYWcsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRlbnRWYWwudmlzaXQoXG4gICAgICAgICAgbmV3IFZ0cmVlLkNvbnRlbnRQcm9wZXJ0eUhhbmRsZXIoXG4gICAgICAgICAgICBpbm5lckNvbnRhaW5lcixcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICBjb250ZW50VmFsLFxuICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGJveENvbnRhaW5lci5hcHBlbmRDaGlsZChpbm5lckNvbnRhaW5lcik7XG4gICAgICAgIGlmIChpbm5lckNvbnRhaW5lclRhZyA9PSBcImltZ1wiKSB7XG4gICAgICAgICAgYm94SW5zdGFuY2UudHJhbnNmZXJTaW5nbFVyaUNvbnRlbnRQcm9wcyhcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICBpbm5lckNvbnRhaW5lcixcbiAgICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBib3hJbnN0YW5jZS50cmFuc2ZlckNvbnRlbnRQcm9wcyhcbiAgICAgICAgICBzZWxmLFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGJveEluc3RhbmNlLnN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uKSB7XG4gICAgICAgIHBhcmVudENvbnRhaW5lci5yZW1vdmVDaGlsZChib3hDb250YWluZXIpO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghcmVtb3ZlZCkge1xuICAgICAgICBib3hJbnN0YW5jZS5maW5pc2hDb250YWluZXIoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKCFzZWxmLnBhZ2VCcmVha3NbZmxvd05hbWUudG9TdHJpbmcoKV0pIHtcbiAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICBcImxheW91dENvbnRhaW5lci5pbm5lclwiLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWUudG9TdHJpbmcoKTtcblxuICAgICAgLy8gZm9yIG5vdyBvbmx5IGEgc2luZ2xlIGNvbHVtbiBpbiB2ZXJ0aWNhbCBjYXNlXG4gICAgICBjb25zdCBjb2x1bW5Db3VudCA9IGJveEluc3RhbmNlLmdldFByb3BBc051bWJlcihzZWxmLCBcImNvbHVtbi1jb3VudFwiKTtcbiAgICAgIHNlbGZcbiAgICAgICAgLmxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyhcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGJveEluc3RhbmNlLFxuICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICBleGNsdXNpb25zLFxuICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigoY29sdW1ucykgPT4ge1xuICAgICAgICAgIGlmICghcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zWzBdO1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZWxlbWVudCA9PT0gYm94Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lciA9IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5jb21wdXRlZEJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBjb2x1bW5zLm1hcCgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYm94SW5zdGFuY2UuZmluaXNoQ29udGFpbmVyKFxuICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9XG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVTdHJdO1xuICAgICAgICAgICAgaWYgKGZsb3dQb3NpdGlvbiAmJiBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9PT0gXCJyZWdpb25cIikge1xuICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlubmVyRnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIGNvbnQgPSBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICBib3hJbnN0YW5jZS5maW5pc2hDb250YWluZXIoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgIGlmIChwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICFib3hJbnN0YW5jZS5pc0F1dG9IZWlnaHQgfHxcbiAgICAgICAgTWF0aC5mbG9vcihsYXlvdXRDb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUpID4gMFxuICAgICAgKSB7XG4gICAgICAgIGlmICghcmVtb3ZlZCAmJiAhZG9udEV4Y2x1ZGUpIHtcbiAgICAgICAgICBjb25zdCBvdXRlclNoYXBlUHJvcCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJzaGFwZS1vdXRzaWRlXCIpO1xuICAgICAgICAgIGNvbnN0IG91dGVyU2hhcGUgPSBsYXlvdXRDb250YWluZXIuZ2V0T3V0ZXJTaGFwZShcbiAgICAgICAgICAgIG91dGVyU2hhcGVQcm9wLFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gVGhvdWdoIGl0IHNlZW1zIHRoYXQgTFNoYXBlRmxvYXRCdWcgc3RpbGwgZXhpc3RzIGluIEZpcmVmb3gsIGl0XG4gICAgICAgICAgLy8gYXBwYXJlbnRseSBkb2VzIG5vdCBvY2N1ciBvbiBleGNsdXNpb24gZmxvYXRzLiBTZWUgdGhlIHRlc3QgZmlsZTpcbiAgICAgICAgICAvLyB0ZXN0L2ZpbGVzL2NvbHVtbi1icmVhay1idWcuaHRtbFxuICAgICAgICAgIC8vIGlmIChCYXNlLmNoZWNrTFNoYXBlRmxvYXRCdWcoc2VsZi52aWV3cG9ydC5yb290KSkge1xuICAgICAgICAgIC8vIFx0Ly8gU2ltcGxpc3RpYyBidWcgd29ya2Fyb3VuZDogYWRkIGEgY29weSBvZiB0aGUgc2hhcGUgdHJhbnNsYXRlZCB1cC5cbiAgICAgICAgICAvLyAgICAgZXhjbHVzaW9ucy5wdXNoKG91dGVyU2hhcGUud2l0aE9mZnNldCgwLCAtMS4yNSAqIHNlbGYucXVlcnlVbml0U2l6ZShcImVtXCIsIGZhbHNlKSkpO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICBleGNsdXNpb25zLnB1c2gob3V0ZXJTaGFwZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYm94SW5zdGFuY2UuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgICAgcGFyZW50Q29udGFpbmVyLnJlbW92ZUNoaWxkKGJveENvbnRhaW5lcik7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGkgPSBib3hJbnN0YW5jZS5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gYm94SW5zdGFuY2UuY2hpbGRyZW5baS0tXTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzZWxmLmxheW91dENvbnRhaW5lcihcbiAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGJveENvbnRhaW5lciBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHIuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHIudGhlbkFzeW5jKCgpID0+XG4gICAgICAgICAgICAgICAgVGFzay5uZXdSZXN1bHQoIXBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJvY2Vzc0xpbmdlcigpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgZm9yIChsZXQgaSA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcG9zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlID49IDAgJiZcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSArIHBvcy5mbG93Q2h1bmsubGluZ2VyIC0gMSA8PSBwYWdlTnVtYmVyXG4gICAgICAgICkge1xuICAgICAgICAgIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5pdExpbmdlcmluZygpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgZm9yIChsZXQgaSA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcG9zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlIDwgMCAmJlxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPCB0aGlzLmxvb2t1cE9mZnNldFxuICAgICAgICApIHtcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSA9IHBhZ2VOdW1iZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBub01vcmVQcmltYXJ5Rmxvd3MoY3A6IFZ0cmVlLkxheW91dFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLnByaW1hcnlGbG93cykge1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gY3AuZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBpZiAoZmxvd1Bvc2l0aW9uICYmIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbGF5b3V0TmV4dFBhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjcD86IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5MYXlvdXRQb3NpdGlvbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gVE9DIGJveCBpcyBzcGVjaWFsIHBhZ2UgY29udGFpbmVyLCBubyBwYWdpbmF0aW9uXG4gICAgY29uc3QgaXNUb2NCb3ggPSBwYWdlLmNvbnRhaW5lciA9PT0gcGFnZS5ibGVlZEJveDtcblxuICAgIHNlbGYucGFnZUJyZWFrcyA9IHt9O1xuICAgIGlmIChjcCkge1xuICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBjcC5jbG9uZSgpO1xuICAgICAgc2VsZi5zdHlsZXIucmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldChjcC5oaWdoZXN0U2Vlbk9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gbmV3IFZ0cmVlLkxheW91dFBvc2l0aW9uKCk7XG4gICAgICBzZWxmLnN0eWxlci5yZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KC0xKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGFuZykge1xuICAgICAgcGFnZS5ibGVlZEJveC5zZXRBdHRyaWJ1dGUoXCJsYW5nXCIsIHRoaXMubGFuZyk7XG4gICAgfVxuICAgIGNwID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb247XG4gICAgY3AucGFnZSsrO1xuICAgIHNlbGYuY2xlYXJTY29wZShzZWxmLnN0eWxlLnBhZ2VTY29wZSk7XG4gICAgc2VsZi5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0ID0gY3AuY2xvbmUoKTtcblxuICAgIC8vIFJlc29sdmUgcGFnZSBzaXplIGJlZm9yZSBwYWdlIG1hc3RlciBzZWxlY3Rpb24uXG4gICAgY29uc3QgY2FzY2FkZWRQYWdlU3R5bGUgPSBpc1RvY0JveFxuICAgICAgPyAoe30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpXG4gICAgICA6IHNlbGYucGFnZU1hbmFnZXIuZ2V0Q2FzY2FkZWRQYWdlU3R5bGUoKTtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gc2VsZi5zZWxlY3RQYWdlTWFzdGVyKGNhc2NhZGVkUGFnZVN0eWxlKTtcbiAgICBpZiAoIXBhZ2VNYXN0ZXIpIHtcbiAgICAgIC8vIGVuZCBvZiBwcmltYXJ5IGNvbnRlbnRcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFZ0cmVlLkxheW91dFBvc2l0aW9uKTtcbiAgICB9XG4gICAgbGV0IGJsZWVkQm94UGFkZGluZ0VkZ2UgPSAwO1xuICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgIHBhZ2Uuc2V0QXV0b1BhZ2VXaWR0aChcbiAgICAgICAgcGFnZU1hc3Rlci5wYWdlQm94LnNwZWNpZmllZFtcIndpZHRoXCJdLnZhbHVlID09PSBDc3MuZnVsbFdpZHRoLFxuICAgICAgKTtcbiAgICAgIHBhZ2Uuc2V0QXV0b1BhZ2VIZWlnaHQoXG4gICAgICAgIHBhZ2VNYXN0ZXIucGFnZUJveC5zcGVjaWZpZWRbXCJoZWlnaHRcIl0udmFsdWUgPT09IENzcy5mdWxsSGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIHNlbGYuY291bnRlclN0b3JlLnNldEN1cnJlbnRQYWdlKHBhZ2UpO1xuICAgICAgc2VsZi5jb3VudGVyU3RvcmUudXBkYXRlUGFnZUNvdW50ZXJzKGNhc2NhZGVkUGFnZVN0eWxlLCBzZWxmKTtcblxuICAgICAgLy8gc2V0dXAgYmxlZWQgYXJlYSBhbmQgY3JvcCBtYXJrc1xuICAgICAgY29uc3QgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCA9IENzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICAgICAgICBDc3NQYWdlLnJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKGNhc2NhZGVkUGFnZVN0eWxlIGFzIGFueSksXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgICAgc2VsZi5zZXRQYWdlU2l6ZUFuZEJsZWVkKGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQsIHBhZ2UpO1xuICAgICAgQ3NzUGFnZS5hZGRQcmludGVyTWFya3MoXG4gICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICAgICAgICBwYWdlLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICAgIGJsZWVkQm94UGFkZGluZ0VkZ2UgPVxuICAgICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0ICsgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZDtcbiAgICB9XG5cbiAgICBjb25zdCB3cml0aW5nTW9kZSA9XG4gICAgICAoIWlzVG9jQm94ICYmIHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcIndyaXRpbmctbW9kZVwiKSkgfHxcbiAgICAgIENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuXG4gICAgdGhpcy5wYWdlVmVydGljYWwgPSB3cml0aW5nTW9kZSAhPSBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcblxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcImRpcmVjdGlvblwiKSB8fCBDc3MuaWRlbnQubHRyO1xuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgc2VsZi5yb290UGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUEFHRSxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTGF5b3V0UG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibGF5b3V0TmV4dFBhZ2VcIixcbiAgICApO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIC8vIHNlbGYubGF5b3V0Q29udGFpbmVyKHBhZ2UsIHBhZ2VNYXN0ZXIsIHBhZ2UuYmxlZWRCb3gsIGJsZWVkQm94UGFkZGluZ0VkZ2UsIGJsZWVkQm94UGFkZGluZ0VkZ2UrMSwgLy8gQ29tcGVuc2F0ZSAndG9wOiAtMXB4JyBvbiBwYWdlIG1hc3RlclxuICAgICAgICBzZWxmXG4gICAgICAgICAgLmxheW91dENvbnRhaW5lcihcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICAgICAgcGFnZS5ibGVlZEJveCxcbiAgICAgICAgICAgIGJsZWVkQm94UGFkZGluZ0VkZ2UsXG4gICAgICAgICAgICBibGVlZEJveFBhZGRpbmdFZGdlLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBzZWxmLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBwYWdlTWFzdGVyLmFkanVzdFBhZ2VMYXlvdXQoc2VsZiwgcGFnZSwgc2VsZi5jbGllbnRMYXlvdXQpO1xuICAgICAgICBpZiAoIWlzVG9jQm94KSB7XG4gICAgICAgICAgY29uc3QgaXNMZWZ0UGFnZSA9IG5ldyBFeHBycy5OYW1lZChcbiAgICAgICAgICAgIHBhZ2VNYXN0ZXIucGFnZUJveC5zY29wZSxcbiAgICAgICAgICAgIFwibGVmdC1wYWdlXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYWdlLnNpZGUgPSBpc0xlZnRQYWdlLmV2YWx1YXRlKHNlbGYpXG4gICAgICAgICAgICA/IENvbnN0YW50cy5QYWdlU2lkZS5MRUZUXG4gICAgICAgICAgICA6IENvbnN0YW50cy5QYWdlU2lkZS5SSUdIVDtcbiAgICAgICAgICBzZWxmLnByb2Nlc3NMaW5nZXIoKTtcbiAgICAgICAgICBjcCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgICAgICAgIE9iamVjdC5rZXlzKGNwLmZsb3dQb3NpdGlvbnMpLmZvckVhY2goKGZsb3dOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbG93UG9zaXRpb24gPSBjcC5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrQWZ0ZXIgPSBmbG93UG9zaXRpb24uYnJlYWtBZnRlcjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgYnJlYWtBZnRlciAmJlxuICAgICAgICAgICAgICAoYnJlYWtBZnRlciA9PT0gXCJwYWdlXCIgfHwgIXNlbGYubWF0Y2hQYWdlU2lkZShicmVha0FmdGVyKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBzZWxmLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgPSBudWxsO1xuICAgICAgICBjcC5oaWdoZXN0U2Vlbk9mZnNldCA9IHNlbGYuc3R5bGVyLmdldFJlYWNoZWRPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgdHJpZ2dlcnMgPSBzZWxmLnN0eWxlLnN0b3JlLmdldFRyaWdnZXJzRm9yRG9jKHNlbGYueG1sZG9jKTtcbiAgICAgICAgcGFnZS5maW5pc2godHJpZ2dlcnMsIHNlbGYuY2xpZW50TGF5b3V0KTtcbiAgICAgICAgaWYgKHNlbGYubm9Nb3JlUHJpbWFyeUZsb3dzKGNwKSkge1xuICAgICAgICAgIGNwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2goY3ApO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhY3R1YWwgcGFnZSB3aWR0aCwgaGVpZ2h0IGFuZCBibGVlZCBmcm9tIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlXG4gICAqIGNvbnRleHQuXG4gICAqL1xuICBwcml2YXRlIHNldFBhZ2VTaXplQW5kQmxlZWQoXG4gICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZDogQ3NzUGFnZS5FdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICkge1xuICAgIHRoaXMuYWN0dWFsUGFnZVdpZHRoID0gZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGg7XG4gICAgdGhpcy5hY3R1YWxQYWdlSGVpZ2h0ID0gZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlSGVpZ2h0O1xuICAgIHRoaXMucGFnZVNoZWV0V2lkdGggPVxuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGggK1xuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMjtcbiAgICB0aGlzLnBhZ2VTaGVldEhlaWdodCA9XG4gICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLnBhZ2VIZWlnaHQgK1xuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3RoaXMucGFnZVNoZWV0V2lkdGh9cHhgO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMucGFnZVNoZWV0SGVpZ2h0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLmxlZnQgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnJpZ2h0ID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS50b3AgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLmJvdHRvbSA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUucGFkZGluZyA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWR9cHhgO1xuXG4gICAgLy8gU2hpZnQgMXB4IHRvIHdvcmthcm91bmQgQ2hyb21lIHByaW50aW5nIGJ1ZyAoQ2FuY2VsZWQgYmVjYXVzZSBvZiBhbm90aGVyIENocm9tZSBwcm9ibGVtKVxuICAgIC8vIHBhZ2UuYmxlZWRCb3guc3R5bGUucGFkZGluZ1RvcCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQrMX1weGA7XG5cbiAgICAvLyBTaGlmdCAwLjAxcHggdG8gd29ya2Fyb3VuZCBGaXJlZm94IHByaW50aW5nIHByb2JsZW1cbiAgICAvLyAoVGhpcyBzbWFsbCB2YWx1ZSAoPCAxLzY0IHB4KSBoYXMgbm8gZWZmZWN0IHRvIENocm9tZSlcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtcbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgKyAwLjAxXG4gICAgfXB4YDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyIHtcbiAgaW5zaWRlUmVnaW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG1hc3RlckhhbmRsZXI6IFN0eWxlUGFyc2VySGFuZGxlcixcbiAgICBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwYXJlbnQ6IEJhc2VQYXJzZXJIYW5kbGVyLFxuICAgIHJlZ2lvbklkOiBzdHJpbmcgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIG1hc3RlckhhbmRsZXIucm9vdFNjb3BlLFxuICAgICAgbWFzdGVySGFuZGxlcixcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIHBhcmVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgbWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICAhcGFyZW50LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gbmV3IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcihcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlci5wYWdlU2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucm9vdEJveCxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgdGhpcy5vd25lci5nZXRCYXNlU3BlY2lmaWNpdHkoKSxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyKFxuICAgICAgICBwYWdlTWFzdGVyLnNjb3BlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIGxldCBjb25kaXRpb24gPSBleHByLmV4cHI7XG4gICAgaWYgKHRoaXMuY29uZGl0aW9uICE9IG51bGwpIHtcbiAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZCh0aGlzLnNjb3BlLCB0aGlzLmNvbmRpdGlvbiwgY29uZGl0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IEJhc2VQYXJzZXJIYW5kbGVyKHRoaXMubWFzdGVySGFuZGxlciwgY29uZGl0aW9uLCB0aGlzLCB0aGlzLnJlZ2lvbklkKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLkRlZmluZVBhcnNlckhhbmRsZXIodGhpcy5zY29wZSwgdGhpcy5vd25lciksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIuZm9udEZhY2VzLnB1c2goe1xuICAgICAgcHJvcGVydGllcyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgfSk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHRoaXMubWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgc3R5bGUgPSB0aGlzLm1hc3RlckhhbmRsZXIuZmxvd1Byb3BzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLmZsb3dQcm9wc1tmbG93TmFtZV0gPSBzdHlsZTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld3BvcnRQcm9wcyA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci52aWV3cG9ydFByb3BzLnB1c2godmlld3BvcnRQcm9wcyk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB2aWV3cG9ydFByb3BzLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIGxldCBzdHlsZSA9IHRoaXMubWFzdGVySGFuZGxlci5mb290bm90ZVByb3BzO1xuICAgIGlmIChwc2V1ZG9lbGVtKSB7XG4gICAgICBjb25zdCBwc2V1ZG9zID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAoc3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgICBzdHlsZSA9IHBzZXVkb3NbcHNldWRvZWxlbV07XG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgIHBzZXVkb3NbcHNldWRvZWxlbV0gPSBzdHlsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSZWdpb25SdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuaW5zaWRlUmVnaW9uID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VIYW5kbGVyID0gbmV3IENzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucGFnZVNjb3BlLFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnBhZ2VQcm9wcyxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihwYWdlSGFuZGxlcik7XG4gICAgcGFnZUhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyLnByb3RvdHlwZS5zdGFydFJ1bGVCb2R5LmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuaW5zaWRlUmVnaW9uKSB7XG4gICAgICB0aGlzLmluc2lkZVJlZ2lvbiA9IGZhbHNlO1xuICAgICAgY29uc3QgcmVnaW9uSWQgPSBgUiR7dGhpcy5tYXN0ZXJIYW5kbGVyLnJlZ2lvbkNvdW50Kyt9YDtcbiAgICAgIHRoaXMuc3BlY2lhbChcInJlZ2lvbi1pZFwiLCBDc3MuZ2V0TmFtZShyZWdpb25JZCkpO1xuICAgICAgdGhpcy5lbmRSdWxlKCk7XG4gICAgICBjb25zdCByZWdpb25IYW5kbGVyID0gbmV3IEJhc2VQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB0aGlzLFxuICAgICAgICByZWdpb25JZCxcbiAgICAgICk7XG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIocmVnaW9uSGFuZGxlcik7XG4gICAgICByZWdpb25IYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb3ZlcnJpZGUsIHNvIHdlIGRvbid0IHJlZ2lzdGVyIGFuIGVycm9yXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZpZXdwb3J0TWV0YShtZXRhOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGNvbnRlbnQgPSBtZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHZhbHMgPSB7fTtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIHdoaWxlIChcbiAgICAociA9IGNvbnRlbnQubWF0Y2goXG4gICAgICAvXiw/XFxzKihbLUEtWmEtel8uXVstQS1aYS16XzAtOS5dKilcXHMqPVxccyooWy0rQS1aYS16XzAtOS5dKilcXHMqLyxcbiAgICApKSAhPSBudWxsXG4gICkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gICAgdmFsc1tyWzFdXSA9IHJbMl07XG4gIH1cbiAgY29uc3Qgd2lkdGggPSB2YWxzW1wid2lkdGhcIl0gLSAwO1xuICBjb25zdCBoZWlnaHQgPSB2YWxzW1wiaGVpZ2h0XCJdIC0gMDtcbiAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgIHJldHVybiBgQC1lcHVieC12aWV3cG9ydHt3aWR0aDoke3dpZHRofXB4O2hlaWdodDoke2hlaWdodH1weDt9YDtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlUGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIge1xuICByb290U2NvcGU6IEV4cHJzLkxleGljYWxTY29wZTtcbiAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG4gIHJvb3RCb3g6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3g7XG4gIGNhc2NhZGVQYXJzZXJIYW5kbGVyOiBCYXNlUGFyc2VySGFuZGxlcjtcbiAgcmVnaW9uQ291bnQ6IG51bWJlciA9IDA7XG4gIGZvbnRGYWNlcyA9IFtdIGFzIEZvbnRGYWNlW107XG4gIGZvb3Rub3RlUHJvcHMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgZmxvd1Byb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICB2aWV3cG9ydFByb3BzID0gW10gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXTtcbiAgcGFnZVByb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICBzbGF2ZTogQmFzZVBhcnNlckhhbmRsZXI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yb290U2NvcGUgPSBuZXcgRXhwcnMuTGV4aWNhbFNjb3BlKG51bGwpO1xuICAgIHRoaXMucGFnZVNjb3BlID0gbmV3IEV4cHJzLkxleGljYWxTY29wZSh0aGlzLnJvb3RTY29wZSk7XG4gICAgdGhpcy5yb290Qm94ID0gbmV3IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3godGhpcy5yb290U2NvcGUpO1xuICAgIHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXIgPSBuZXcgQmFzZVBhcnNlckhhbmRsZXIodGhpcywgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgdGhpcy5zbGF2ZSA9IHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJDU1MgcGFyc2VyOlwiLCBtbmVtb25pY3MpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFN0eWxlU291cmNlID0ge1xuICB1cmw6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvcjtcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbDtcbiAgbWVkaWE6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPUFNSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhtbERvYy5YTUxEb2NTdG9yZSxcbik6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgcmV0dXJuIChzdG9yZSBhcyBPUFNEb2NTdG9yZSkucGFyc2VPUFNSZXNvdXJjZShyZXNwb25zZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBPUFNEb2NTdG9yZSBleHRlbmRzIE5ldC5SZXNvdXJjZVN0b3JlPFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgc3R5bGVCeUtleTogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHN0eWxlRmV0Y2hlckJ5S2V5OiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8U3R5bGU+IH0gPSB7fTtcbiAgc3R5bGVCeURvY1VSTDogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHRyaWdnZXJzQnlEb2NVUkw6IHsgW2tleTogc3RyaW5nXTogVnRyZWUuVHJpZ2dlcltdIH0gPSB7fTtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0ID0gbnVsbDtcbiAgcHJpdmF0ZSBzdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSA9IFtdO1xuICBwcml2YXRlIHRyaWdnZXJTaW5nbGVEb2N1bWVudFByZXByb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZm9udERlb2JmdXNjYXRvcjpcbiAgICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgICAgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihwYXJzZU9QU1Jlc291cmNlLCBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpO1xuICB9XG5cbiAgaW5pdChcbiAgICBhdXRob3JTdHlsZVNoZWV0czogeyB1cmw6IHN0cmluZyB8IG51bGw7IHRleHQ6IHN0cmluZyB8IG51bGwgfVtdIHwgbnVsbCxcbiAgICB1c2VyU3R5bGVTaGVldHM6IHsgdXJsOiBzdHJpbmcgfCBudWxsOyB0ZXh0OiBzdHJpbmcgfCBudWxsIH1bXSB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnNldFN0eWxlU2hlZXRzKGF1dGhvclN0eWxlU2hlZXRzIGFzIGFueSwgdXNlclN0eWxlU2hlZXRzIGFzIGFueSk7XG4gICAgY29uc3QgdXNlckFnZW50WE1MID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgXCJ1c2VyLWFnZW50LnhtbFwiLFxuICAgICAgQmFzZS5yZXNvdXJjZUJhc2VVUkwsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJPUFNEb2NTdG9yZS5pbml0XCIpO1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gQ3NzVmFsaWRhdG9yLmJhc2VWYWxpZGF0b3JTZXQoKTtcbiAgICBsb2FkVUFCYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmxvYWQodXNlckFnZW50WE1MKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgZ2V0U3R5bGVGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogU3R5bGUge1xuICAgIHJldHVybiB0aGlzLnN0eWxlQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICBnZXRUcmlnZ2Vyc0ZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWdHJlZS5UcmlnZ2VyW10ge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJzQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICAvKipcbiAgICogU2V0IGF1dGhvciBzdHlsZXNoZWV0cyBhbmQgdXNlciBzdHlsZXNoZWV0cy4gRXhpc3Rpbmcgc3R5bGUgc2hlZXRzIGFyZVxuICAgKiByZW1vdmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBzZXRTdHlsZVNoZWV0cyhcbiAgICBhdXRob3JTdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSB8IG51bGwsXG4gICAgdXNlclN0eWxlU2hlZXRzOiBTdHlsZVNvdXJjZVtdIHwgbnVsbCxcbiAgKSB7XG4gICAgdGhpcy5jbGVhclN0eWxlU2hlZXRzKCk7XG4gICAgaWYgKGF1dGhvclN0eWxlU2hlZXRzKSB7XG4gICAgICBhdXRob3JTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkQXV0aG9yU3R5bGVTaGVldCwgdGhpcyk7XG4gICAgfVxuICAgIGlmICh1c2VyU3R5bGVTaGVldHMpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkVXNlclN0eWxlU2hlZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJTdHlsZVNoZWV0cygpIHtcbiAgICB0aGlzLnN0eWxlU2hlZXRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQXV0aG9yU3R5bGVTaGVldChzdHlsZXNoZWV0OiBTdHlsZVNvdXJjZSkge1xuICAgIGxldCB1cmwgPSBzdHlsZXNoZWV0LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCBCYXNlLmJhc2VVUkwpO1xuICAgIH1cbiAgICB0aGlzLnN0eWxlU2hlZXRzLnB1c2goe1xuICAgICAgdXJsLFxuICAgICAgdGV4dDogc3R5bGVzaGVldC50ZXh0LFxuICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZFVzZXJTdHlsZVNoZWV0KHN0eWxlc2hlZXQ6IFN0eWxlU291cmNlKSB7XG4gICAgbGV0IHVybCA9IHN0eWxlc2hlZXQudXJsO1xuICAgIGlmICh1cmwpIHtcbiAgICAgIHVybCA9IEJhc2UucmVzb2x2ZVVSTChCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHVybCksIEJhc2UuYmFzZVVSTCk7XG4gICAgfVxuICAgIHRoaXMuc3R5bGVTaGVldHMucHVzaCh7XG4gICAgICB1cmwsXG4gICAgICB0ZXh0OiBzdHlsZXNoZWV0LnRleHQsXG4gICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLlVTRVIsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwYXJzZU9QU1Jlc291cmNlKHJlc3BvbnNlOiBOZXQuUmVzcG9uc2UpOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8WG1sRG9jLlhNTERvY0hvbGRlcj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJPUFNEb2NTdG9yZS5sb2FkXCIsXG4gICAgKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB1cmwgPSByZXNwb25zZS51cmw7XG5cbiAgICAvLyBIYWNrIGZvciBUT0NWaWV3LnNob3dUT0MoKVxuICAgIGNvbnN0IGlzVG9jQm94ID0gdXJsLmVuZHNXaXRoKFwiP3Zpdi10b2MtYm94XCIpO1xuXG4gICAgWG1sRG9jLnBhcnNlWE1MUmVzb3VyY2UocmVzcG9uc2UsIHNlbGYpLnRoZW4oXG4gICAgICAoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICAgIGlmICgheG1sZG9jKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nKSB7XG4gICAgICAgICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgICAgICAgUGx1Z2luLkhPT0tTLlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5ULFxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaG9va3NbaV0oeG1sZG9jLmRvY3VtZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBcIkVycm9yIGR1cmluZyBzaW5nbGUgZG9jdW1lbnQgcHJlcHJvY2Vzc2luZzpcIixcbiAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmlnZ2VycyA9IFtdO1xuICAgICAgICBjb25zdCB0cmlnZ2VyTGlzdCA9IHhtbGRvYy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFxuICAgICAgICAgIEJhc2UuTlMuZXB1YixcbiAgICAgICAgICBcInRyaWdnZXJcIixcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlnZ2VyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHRyaWdnZXJFbGVtID0gdHJpZ2dlckxpc3RbaV07XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLkVWLCBcIm9ic2VydmVyXCIpO1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5FViwgXCJldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIik7XG4gICAgICAgICAgY29uc3QgcmVmID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlKFwicmVmXCIpO1xuICAgICAgICAgIGlmIChvYnNlcnZlciAmJiBldmVudCAmJiBhY3Rpb24gJiYgcmVmKSB7XG4gICAgICAgICAgICB0cmlnZ2Vycy5wdXNoKHsgb2JzZXJ2ZXIsIGV2ZW50LCBhY3Rpb24sIHJlZiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi50cmlnZ2Vyc0J5RG9jVVJMW3VybF0gPSB0cmlnZ2VycztcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IFtdIGFzIFN0eWxlU291cmNlW107XG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudFVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICBcInVzZXItYWdlbnQtcGFnZS5jc3NcIixcbiAgICAgICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICAgICAgKTtcbiAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICB1cmw6IHVzZXJBZ2VudFVSTCxcbiAgICAgICAgICB0ZXh0OiBVc2VyQWdlbnRQYWdlQ3NzLFxuICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCxcbiAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGVhZCA9IHhtbGRvYy5oZWFkO1xuICAgICAgICBpZiAoIWlzVG9jQm94ICYmIGhlYWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBjOiBOb2RlID0gaGVhZC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGMubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gYyBhcyBFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgbnMgPSBjaGlsZC5uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSBjaGlsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBpZiAobG9jYWxOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGNoaWxkLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB0aXRsZSA/IGNsYXNzZXMgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09IFwibGlua1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHJlbCA9PSBcInN0eWxlc2hlZXRcIiB8fFxuICAgICAgICAgICAgICAgICAgKHJlbCA9PSBcImFsdGVybmF0ZSBzdHlsZXNoZWV0XCIgJiYgY2xhc3NlcylcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxldCBzcmMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgICAgICAgc3JjID0gQmFzZS5yZXNvbHZlVVJMKHNyYywgdXJsKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogdGl0bGUgPyBjbGFzc2VzIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGxvY2FsTmFtZSA9PSBcIm1ldGFcIiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT0gXCJ2aWV3cG9ydFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9jZXNzVmlld3BvcnRNZXRhKGNoaWxkKSxcbiAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuRkIyKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWUgPT0gXCJzdHlsZXNoZWV0XCIgJiZcbiAgICAgICAgICAgICAgICBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpID09IFwidGV4dC9jc3NcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgdGV4dDogY2hpbGQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLlNTRSAmJiBsb2NhbE5hbWUgPT09IFwicHJvcGVydHlcIikge1xuICAgICAgICAgICAgICAvLyBsb29rIGZvciBzdHlsZXNoZWV0IHNwZWNpZmljYXRpb24gbGlrZTpcbiAgICAgICAgICAgICAgLy8gPHByb3BlcnR5PjxuYW1lPnN0eWxlc2hlZXQ8L25hbWU+PHZhbHVlPnN0eWxlLmNzczwvdmFsdWU+PC9wcm9wZXJ0eT5cbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibmFtZVwiKVswXTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZS50ZXh0Q29udGVudCA9PT0gXCJzdHlsZXNoZWV0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmFsdWVcIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBCYXNlLnJlc29sdmVVUkwodmFsdWUudGV4dENvbnRlbnQsIHVybCk7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNvdXJjZXMucHVzaChzZWxmLnN0eWxlU2hlZXRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGtleSA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGtleSArPSBzb3VyY2VzW2ldLnVybDtcbiAgICAgICAgICBrZXkgKz0gXCJeXCI7XG4gICAgICAgICAgaWYgKHNvdXJjZXNbaV0udGV4dCkge1xuICAgICAgICAgICAga2V5ICs9IHNvdXJjZXNbaV0udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5ICs9IFwiXlwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdHlsZSA9IHNlbGYuc3R5bGVCeUtleVtrZXldO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICBzZWxmLnN0eWxlQnlEb2NVUkxbdXJsXSA9IHN0eWxlO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh4bWxkb2MpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmV0Y2hlciA9IHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgaWYgKCFmZXRjaGVyKSB7XG4gICAgICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8U3R5bGU+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgICAgXCJmZXRjaFN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgY29uc3Qgc3BoID0gbmV3IFN0eWxlUGFyc2VySGFuZGxlcihzZWxmLnZhbGlkYXRvclNldCk7XG4gICAgICAgICAgICBpbm5lckZyYW1lXG4gICAgICAgICAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICAgIHNwaC5zdGFydFN0eWxlc2hlZXQoc291cmNlLmZsYXZvcik7XG4gICAgICAgICAgICAgICAgICBpZiAoc291cmNlLnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICBzcGgsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICkudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVVSTChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudXJsLFxuICAgICAgICAgICAgICAgICAgICAgIHNwaCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXNjYWRlID0gc3BoLmNhc2NhZGVQYXJzZXJIYW5kbGVyLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIHN0eWxlID0gbmV3IFN0eWxlKFxuICAgICAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290U2NvcGUsXG4gICAgICAgICAgICAgICAgICBzcGgucGFnZVNjb3BlLFxuICAgICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290Qm94LFxuICAgICAgICAgICAgICAgICAgc3BoLmZvbnRGYWNlcyxcbiAgICAgICAgICAgICAgICAgIHNwaC5mb290bm90ZVByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLmZsb3dQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHNwaC52aWV3cG9ydFByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLnBhZ2VQcm9wcyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNlbGYuc3R5bGVCeUtleVtrZXldID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgICAgICAgICBpbm5lckZyYW1lLmZpbmlzaChzdHlsZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgICAgICAgfSwgYEZldGNoU3R5bGVzaGVldCAke3VybH1gKTtcbiAgICAgICAgICBzZWxmLnN0eWxlRmV0Y2hlckJ5S2V5W2tleV0gPSBmZXRjaGVyO1xuICAgICAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaGVyLmdldCgpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgc2VsZi5zdHlsZUJ5RG9jVVJMW3VybF0gPSBzdHlsZTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNoYTEgLSBDYWxjdWxhdGUgU0hBMSBoYXNoIG9mIHRoZSBnaXZlbiBjb250ZW50LlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuLyoqXG4gKiBAcmV0dXJuIGJpZy1lbmRpYW4gYnl0ZSBzZXF1ZW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlMzIobjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKG4gPj4+IDI0KSAmIDI1NSxcbiAgICAobiA+Pj4gMTYpICYgMjU1LFxuICAgIChuID4+PiA4KSAmIDI1NSxcbiAgICBuICYgMjU1LFxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBiaWctZW5kaWFuIGJ5dGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZTMyKGJ5dGVzOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBJbXBvcnRhbnQgZmFjdHM6IFwiXCIuY2hhckNvZGVBdCgwKSA9PSBOYU4sIE5hTiAmIDB4RkYgPT0gMFxuICBjb25zdCBiMCA9IGJ5dGVzLmNoYXJDb2RlQXQoMCkgJiAyNTU7XG4gIGNvbnN0IGIxID0gYnl0ZXMuY2hhckNvZGVBdCgxKSAmIDI1NTtcbiAgY29uc3QgYjIgPSBieXRlcy5jaGFyQ29kZUF0KDIpICYgMjU1O1xuICBjb25zdCBiMyA9IGJ5dGVzLmNoYXJDb2RlQXQoMykgJiAyNTU7XG4gIHJldHVybiAoYjAgPDwgMjQpIHwgKGIxIDw8IDE2KSB8IChiMiA8PCA4KSB8IGIzO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiBiaWctZW5kaWFuIHVpbnQzMiBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50MzIoYnl0ZXM6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgc2IuYXBwZW5kKGJ5dGVzKTtcbiAgbGV0IGFwcGVuZENvdW50ID0gKDU1IC0gYnl0ZXMubGVuZ3RoKSAmIDYzO1xuICBzYi5hcHBlbmQoXCJcXHUwMDgwXCIpO1xuICB3aGlsZSAoYXBwZW5kQ291bnQgPiAwKSB7XG4gICAgYXBwZW5kQ291bnQtLTtcbiAgICBzYi5hcHBlbmQoXCJcXHgwMFwiKTtcbiAgfVxuICBzYi5hcHBlbmQoXCJcXHgwMFxceDAwXFx4MDBcXHgwMFwiKTtcbiAgc2IuYXBwZW5kKGVuY29kZTMyKGJ5dGVzLmxlbmd0aCAqIDgpKTtcbiAgYnl0ZXMgPSBzYi50b1N0cmluZygpO1xuICBjb25zdCBoID0gWzE3MzI1ODQxOTMsIDQwMjMyMzM0MTcsIDI1NjIzODMxMDIsIDI3MTczMzg3OCwgMzI4NTM3NzUyMF07XG4gIGNvbnN0IHcgPVxuICAgIC8qKiBAdHlwZSBBcnJheS48bnVtYmVyPiAqL1xuICAgIFtdIGFzIG51bWJlcltdO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGxldCBiaSA9IDA7IGJpIDwgYnl0ZXMubGVuZ3RoOyBiaSArPSA2NCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICB3W2ldID0gZGVjb2RlMzIoYnl0ZXMuc3Vic3RyKGJpICsgNCAqIGksIDQpKTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCA4MDsgaSsrKSB7XG4gICAgICBjb25zdCBxID0gd1tpIC0gM10gXiB3W2kgLSA4XSBeIHdbaSAtIDE0XSBeIHdbaSAtIDE2XTtcbiAgICAgIHdbaV0gPSAocSA8PCAxKSB8IChxID4+PiAzMSk7XG4gICAgfVxuICAgIGxldCBhID0gaFswXTtcbiAgICBsZXQgYiA9IGhbMV07XG4gICAgbGV0IGMgPSBoWzJdO1xuICAgIGxldCBkID0gaFszXTtcbiAgICBsZXQgZSA9IGhbNF07XG4gICAgbGV0IGY6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgODA7IGkrKykge1xuICAgICAgaWYgKGkgPCAyMCkge1xuICAgICAgICBmID0gKChiICYgYykgfCAofmIgJiBkKSkgKyAxNTE4NTAwMjQ5O1xuICAgICAgfSBlbHNlIGlmIChpIDwgNDApIHtcbiAgICAgICAgZiA9IChiIF4gYyBeIGQpICsgMTg1OTc3NTM5MztcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDYwKSB7XG4gICAgICAgIGYgPSAoKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpKSArIDI0MDA5NTk3MDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmID0gKGIgXiBjIF4gZCkgKyAzMzk1NDY5NzgyO1xuICAgICAgfVxuICAgICAgZiArPSAoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGUgKyB3W2ldO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSAoYiA8PCAzMCkgfCAoYiA+Pj4gMik7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBmO1xuICAgIH1cbiAgICBoWzBdID0gKGhbMF0gKyBhKSB8IDA7XG4gICAgaFsxXSA9IChoWzFdICsgYikgfCAwO1xuICAgIGhbMl0gPSAoaFsyXSArIGMpIHwgMDtcbiAgICBoWzNdID0gKGhbM10gKyBkKSB8IDA7XG4gICAgaFs0XSA9IChoWzRdICsgZSkgfCAwO1xuICB9XG4gIHJldHVybiBoO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiB1aW50OCBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50OChieXRlczogc3RyaW5nKTogbnVtYmVyW10ge1xuICBjb25zdCBoID0gYnl0ZXNUb1NIQTFJbnQzMihieXRlcyk7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGNvbnN0IG4gb2YgaCkge1xuICAgIHJlcy5wdXNoKChuID4+PiAyNCkgJiAyNTUsIChuID4+PiAxNikgJiAyNTUsIChuID4+PiA4KSAmIDI1NSwgbiAmIDI1NSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IGVxdWFsIHRvIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGggPSBieXRlc1RvU0hBMUludDMyKGJ5dGVzKTtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoLmxlbmd0aDsgaSsrKSB7XG4gICAgc2IuYXBwZW5kKGVuY29kZTMyKGhbaV0pKTtcbiAgfVxuICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gaGV4LWVuY29kZWQgU0hBMSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUhleChieXRlczogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc2hhMSA9IGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXMpO1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYTEubGVuZ3RoOyBpKyspIHtcbiAgICBzYi5hcHBlbmQoKHNoYTEuY2hhckNvZGVBdChpKSB8IDI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIGJ5dGVzIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSB0aGF0IHJlcHJlc2VudCBtZXNzYWdlIGJ5dGUgdmFsdWVzXG4gKiBAcmV0dXJuIGJhc2U2NC1lbmNvZGVkIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQmFzZTY0KGJ5dGVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzaGExID0gYnl0ZXNUb1NIQTFCeXRlcyhieXRlcyk7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIEJhc2UuYXBwZW5kQmFzZTY0KHNiLCBzaGExKTtcbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRvYyAtIFRhYmxlIG9mIENvbnRlbnRzIHZpZXcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIE9QUyBmcm9tIFwiLi9vcHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgWG1sRG9jIGZyb20gXCIuL3htbC1kb2NcIjtcblxuLy8gY2xvc2VkOiAyNUI4XG4vLyBvcGVuOiAyNUJFXG4vLyBlbXB0eTogMjVCOVxuZXhwb3J0IGNvbnN0IGJ1bGxldENsb3NlZCA9IFwiXFx1MjViOFwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0T3BlbiA9IFwiXFx1MjViZVwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0RW1wdHkgPSBcIlxcdTI1YjlcIjtcblxuZXhwb3J0IGNsYXNzIFRPQ1ZpZXcgaW1wbGVtZW50cyBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSB7XG4gIHByZWY6IEV4cHJzLlByZWZlcmVuY2VzO1xuICBwYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgaW5zdGFuY2U6IE9QUy5TdHlsZUluc3RhbmNlID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IE9QUy5PUFNEb2NTdG9yZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXJsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGxhbmc6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVuZGVyZXJGYWN0b3J5OiBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmFsbGJhY2tNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4gICAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50VVJMVHJhbnNmb3JtZXI6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmUsXG4gICkge1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmNsb25lUHJlZmVyZW5jZXMocHJlZik7XG4gICAgdGhpcy5wcmVmLnNwcmVhZFZpZXcgPSBmYWxzZTsgLy8gTm8gc3ByZWQgdmlldyBmb3IgVE9DIGJveFxuICB9XG5cbiAgc2V0QXV0b0hlaWdodChlbGVtOiBFbGVtZW50LCBkZXB0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKGRlcHRoLS0gPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBjOiBOb2RlID0gZWxlbS5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBlID0gYyBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoQmFzZS5nZXRDU1NQcm9wZXJ0eShlLCBcImhlaWdodFwiLCBcImF1dG9cIikgIT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGUsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICB0aGlzLnNldEF1dG9IZWlnaHQoZSwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCYXNlLmdldENTU1Byb3BlcnR5KGUsIFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIikgPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlLCBcInBvc2l0aW9uXCIsIFwicmVsYXRpdmVcIik7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGVpZ2h0KGUsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWZ2VuLkN1c3RvbVJlbmRlcmVyIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXJGYWN0b3J5Lm1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2MpO1xuICAgIHJldHVybiAoXG4gICAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+ID0+IHtcbiAgICAgIGNvbnN0IGJlaGF2aW9yID0gY29tcHV0ZWRTdHlsZVtcImJlaGF2aW9yXCJdO1xuICAgICAgaWYgKGJlaGF2aW9yKSB7XG4gICAgICAgIHN3aXRjaCAoYmVoYXZpb3IudG9TdHJpbmcoKSkge1xuICAgICAgICAgIGNhc2UgXCJib2R5LWNoaWxkXCI6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNyY0VsZW0ucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXByaW1hcnktZW50cnlcIixcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhc3JjRWxlbS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgXCJbcm9sZT1kb2MtdG9jXSwgW3JvbGU9ZGlyZWN0b3J5XSwgbmF2IGxpIGEsIC50b2MsICN0b2NcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIFRPQyBlbGVtZW50IGlzIGEgcGFydCBvZiB0aGUgcHJpbWF0eSBlbnRyeSAoWClIVE1MLFxuICAgICAgICAgICAgICAgIC8vIGhpZGUgZWxlbWVudHMgbm90IGNvbnRhaW5pbmcgVE9DLlxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZS1hbmNob3JcIjpcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJjb2xvclwiXSA9IENzcy5pZGVudC5pbmhlcml0O1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInRleHQtZGVjb3JhdGlvblwiXSA9IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRvYy1ub2RlXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ibG9jaztcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJtYXJnaW5cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wicGFkZGluZ1wiXSA9IENzcy5udW1lcmljWmVybztcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJwYWRkaW5nLWlubGluZS1zdGFydFwiXSA9IG5ldyBDc3MuTnVtZXJpYygxLjI1LCBcImVtXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRvYy1ub2RlLWZpcnN0LWNoaWxkXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5pbmxpbmVfYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wibWFyZ2luXCJdID0gbmV3IENzcy5OdW1lcmljKDAuMiwgXCJlbVwiKTtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ2ZXJ0aWNhbC1hbGlnblwiXSA9IENzcy5pZGVudC50b3A7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiY29sb3JcIl0gPSBDc3MuaWRlbnQuaW5oZXJpdDtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ0ZXh0LWRlY29yYXRpb25cIl0gPSBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICFiZWhhdmlvciB8fFxuICAgICAgICAoYmVoYXZpb3IudG9TdHJpbmcoKSAhPSBcInRvYy1ub2RlXCIgJiZcbiAgICAgICAgICBiZWhhdmlvci50b1N0cmluZygpICE9IFwidG9jLWNvbnRhaW5lclwiKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJlcihzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSB3aGl0ZS1zcGFjZSB0ZXh0bm9kZSB0aGF0IGJlY29tZXMgdW53YW50ZWQgc3BhY2UgYmV0d2VlbiBidXR0b24gYW5kIGFuY2hvciBlbGVtZW50LlxuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHNyY0VsZW0uZmlyc3RDaGlsZDtcbiAgICAgIGlmIChcbiAgICAgICAgZmlyc3RDaGlsZCAmJlxuICAgICAgICBmaXJzdENoaWxkLm5vZGVUeXBlICE9PSAxICYmXG4gICAgICAgIGZpcnN0Q2hpbGQudGV4dENvbnRlbnQudHJpbSgpID09PSBcIlwiXG4gICAgICApIHtcbiAgICAgICAgLy8gVG8gYXZvaWQgXCJJbmNvbnNpc3RlbnQgb2Zmc2V0XCIgZXJyb3IsIGNyZWF0ZSBhIGNvbW1lbnQgbm9kZSB3aXRoIHNhbWUgd2hpdGUtc3BhY2UgdGV4dC5cbiAgICAgICAgc3JjRWxlbS5yZXBsYWNlQ2hpbGQoXG4gICAgICAgICAgc3JjRWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoZmlyc3RDaGlsZC50ZXh0Q29udGVudCksXG4gICAgICAgICAgZmlyc3RDaGlsZCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFkYXB0UGFyZW50Q2xhc3MgPSB2aWV3UGFyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIik7XG4gICAgICBpZiAoYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1ub2RlXCIpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdmlld1BhcmVudC5maXJzdENoaWxkIGFzIEVsZW1lbnQ7XG4gICAgICAgIGlmIChidXR0b24udGV4dENvbnRlbnQgIT0gYnVsbGV0Q2xvc2VkKSB7XG4gICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gYnVsbGV0Q2xvc2VkO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImN1cnNvclwiLCBcInBvaW50ZXJcIik7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVOb2RlRXhwYW5zaW9uLCBmYWxzZSk7XG5cbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgIHZpZXdQYXJlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuXG4gICAgICAgICAgLy8gRW5hYmxlIHRhYiBtb3ZlIHRvIHRoZSBidXR0b24gdW5sZXNzIGhpZGRlbi5cbiAgICAgICAgICBpZiAoKHZpZXdQYXJlbnQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmhlaWdodCAhPT0gXCIwcHhcIikge1xuICAgICAgICAgICAgKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LXByb2Nlc3MtY2hpbGRyZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgaWYgKGJlaGF2aW9yLnRvU3RyaW5nKCkgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBidWxsZXRFbXB0eTtcblxuICAgICAgICAvLyBUT0RPOiBkZWZpbmUgcHNldWRvLWVsZW1lbnQgZm9yIHRoZSBidXR0b24/XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcIm1hcmdpblwiLCBcIjAuMmVtIDAgMCAtMWVtXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJtYXJnaW4taW5saW5lLXN0YXJ0XCIsIFwiLTFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwibWFyZ2luLWlubGluZS1lbmRcIiwgXCIwXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJ3aWR0aFwiLCBcIjFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwidGV4dC1hbGlnblwiLCBcImNlbnRlclwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwidmVydGljYWwtYWxpZ25cIiwgXCJ0b3BcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImN1cnNvclwiLCBcImRlZmF1bHRcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImZvbnQtZmFtaWx5XCIsIFwiTWVubG8sc2Fucy1zZXJpZlwiKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1jbGFzc1wiLCBcInRvYy1ub2RlXCIpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJ0cmVlaXRlbVwiKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1ub2RlXCIgfHxcbiAgICAgICAgICBhZGFwdFBhcmVudENsYXNzID09IFwidG9jLWNvbnRhaW5lclwiXG4gICAgICAgICkge1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJoZWlnaHRcIiwgXCIwcHhcIik7XG5cbiAgICAgICAgICAvLyBQcmV2ZW50IHRhYiBtb3ZlIHRvIGhpZGRlbiBhbmNob3IuXG4gICAgICAgICAgY29uc3QgYW5jaG9yRWxlbSA9IHNyY0VsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgaWYgKGFuY2hvckVsZW0gJiYgYW5jaG9yRWxlbS5sb2NhbE5hbWUgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICAoYW5jaG9yRWxlbSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld1BhcmVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidHJlZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIsIFwidG9jLWNvbnRhaW5lclwiKTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJncm91cFwiKTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGVsZW1lbnQgYXMgRWxlbWVudCk7XG4gICAgfTtcbiAgfVxuXG4gIHNob3dUT0MoXG4gICAgZWxlbTogSFRNTEVsZW1lbnQsXG4gICAgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgICBmb250U2l6ZTogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5QYWdlPiB7XG4gICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucGFnZSBhcyBWdHJlZS5QYWdlKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuUGFnZT4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICBjb25zdCBwYWdlID0gbmV3IFZ0cmVlLlBhZ2UoZWxlbSwgZWxlbSk7XG4gICAgdGhpcy5wYWdlID0gcGFnZTtcblxuICAgIC8vIFRoZSAoWClIVE1MIGRvYyBmb3IgdGhlIFRPQyBib3ggbWF5IGJlIHJldXNlZCBmb3IgdGhlIFRPQyBwYWdlIGluIHRoZSBib29rLFxuICAgIC8vIGJ1dCB0aGV5IG5lZWQgZGlmZmVyZW50IHN0eWxlcy4gU28sIGFkZCBcIj92aXYtdG9jLWJveFwiIHRvIGRpc3Rpbmd1aXNoIHdpdGggVE9DIHBhZ2UgVVJMLlxuICAgIGNvbnN0IHRvY0JveFVybCA9IHRoaXMudXJsICsgXCI/dml2LXRvYy1ib3hcIjtcblxuICAgIHRoaXMuc3RvcmUubG9hZCh0b2NCb3hVcmwpLnRoZW4oKHhtbGRvYykgPT4ge1xuICAgICAgLy8gTWFyayBpZiB0aGlzIGRvYyBpcyB0aGUgcHJpbWFyeSBlbnRyeSBwYWdlLlxuICAgICAgY29uc3Qgbm9uVG9jQm94RG9jID0gdGhpcy5zdG9yZS5yZXNvdXJjZXNbdGhpcy51cmxdO1xuICAgICAgaWYgKFxuICAgICAgICBub25Ub2NCb3hEb2MgJiZcbiAgICAgICAgbm9uVG9jQm94RG9jLmJvZHkgJiZcbiAgICAgICAgbm9uVG9jQm94RG9jLmJvZHkuZ2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIpXG4gICAgICApIHtcbiAgICAgICAgeG1sZG9jLmJvZHkuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdHlsZSA9IHNlbGYuc3RvcmUuZ2V0U3R5bGVGb3JEb2MoeG1sZG9jKTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHN0eWxlLnNpemVWaWV3cG9ydCh3aWR0aCwgMTAwMDAwLCBmb250U2l6ZSk7XG4gICAgICB2aWV3cG9ydCA9IG5ldyBWZ2VuLlZpZXdwb3J0KFxuICAgICAgICB2aWV3cG9ydC53aW5kb3csXG4gICAgICAgIHZpZXdwb3J0U2l6ZS5mb250U2l6ZSxcbiAgICAgICAgdmlld3BvcnQucm9vdCxcbiAgICAgICAgdmlld3BvcnRTaXplLndpZHRoLFxuICAgICAgICB2aWV3cG9ydFNpemUuaGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGN1c3RvbVJlbmRlcmVyID0gc2VsZi5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IE9QUy5TdHlsZUluc3RhbmNlKFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgeG1sZG9jLFxuICAgICAgICBzZWxmLmxhbmcsXG4gICAgICAgIHZpZXdwb3J0LFxuICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgc2VsZi5mb250TWFwcGVyLFxuICAgICAgICBjdXN0b21SZW5kZXJlcixcbiAgICAgICAgc2VsZi5mYWxsYmFja01hcCxcbiAgICAgICAgMCxcbiAgICAgICAgc2VsZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZSxcbiAgICAgICk7XG4gICAgICBzZWxmLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICBpbnN0YW5jZS5wcmVmID0gc2VsZi5wcmVmO1xuICAgICAgaW5zdGFuY2UuaW5pdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZS5sYXlvdXROZXh0UGFnZShwYWdlLCBudWxsKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBBcnJheS5mcm9tKFxuICAgICAgICAgICAgcGFnZS5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XT4qPio+Kj4qPipbc3R5bGUqPSdkaXNwbGF5OiBub25lJ11cIixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKS5mb3JFYWNoKChib2R5Q2hpbGRFbGVtKSA9PiB7XG4gICAgICAgICAgICBib2R5Q2hpbGRFbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIGJvZHlDaGlsZEVsZW0uc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYuc2V0QXV0b0hlaWdodChlbGVtLCAyKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gocGFnZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaGlkZVRPQygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICB0aGlzLnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgdGhpcy5wYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfVxuICB9XG5cbiAgaXNUT0NWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMucGFnZSAmJiB0aGlzLnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPT09IFwidmlzaWJsZVwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVOb2RlRXhwYW5zaW9uKGV2dDogRXZlbnQpOiB2b2lkIHtcbiAgY29uc3QgZWxlbSA9IGV2dC50YXJnZXQgYXMgRWxlbWVudDtcbiAgY29uc3Qgb3BlbiA9IGVsZW0udGV4dENvbnRlbnQgPT0gYnVsbGV0Q2xvc2VkO1xuICBlbGVtLnRleHRDb250ZW50ID0gb3BlbiA/IGJ1bGxldE9wZW4gOiBidWxsZXRDbG9zZWQ7XG4gIGNvbnN0IHRvY05vZGVFbGVtID0gZWxlbS5wYXJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gIGVsZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICB0b2NOb2RlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIG9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gIGxldCBjOiBOb2RlID0gdG9jTm9kZUVsZW0uZmlyc3RDaGlsZDtcbiAgd2hpbGUgKGMpIHtcbiAgICBpZiAoYy5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29uc3QgY2UgPSBjIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgYWRhcHRDbGFzcyA9IGNlLmdldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIik7XG4gICAgICBpZiAoYWRhcHRDbGFzcyA9PT0gXCJ0b2MtY29udGFpbmVyXCIpIHtcbiAgICAgICAgY2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgIW9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gICAgICAgIGlmIChjZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgYyA9IGNlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWRhcHRDbGFzcyA9PT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNlLnN0eWxlLmhlaWdodCA9IG9wZW4gPyBcImF1dG9cIiA6IFwiMHB4XCI7XG5cbiAgICAgICAgLy8gVXBkYXRlIGVuYWJsZS9kaXNhYmxlIHRhYiBtb3ZlIHRvIHRoZSBidXR0b24gYW5kIGFuY2hvci5cbiAgICAgICAgaWYgKGNlLmNoaWxkcmVuLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgKGNlLmNoaWxkcmVuWzFdIGFzIEhUTUxFbGVtZW50KS50YWJJbmRleCA9IG9wZW4gPyAwIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlLmNoaWxkcmVuLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgKGNlLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50KS50YWJJbmRleCA9IG9wZW4gPyAwIDogLTE7XG4gICAgICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtMSA9IGNlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGVsZW0xLnRleHRDb250ZW50ID09IGJ1bGxldE9wZW4pIHtcbiAgICAgICAgICAgICAgZWxlbTEudGV4dENvbnRlbnQgPSBidWxsZXRDbG9zZWQ7XG4gICAgICAgICAgICAgIGVsZW0xLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgY2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgICAgICBjID0gY2UuY2hpbGRyZW5bMl07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoIWMubmV4dFNpYmxpbmcgJiYgYy5wYXJlbnROb2RlICE9PSB0b2NOb2RlRWxlbSkge1xuICAgICAgYyA9IGMucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgYyA9IGMubmV4dFNpYmxpbmc7XG4gIH1cbiAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFcHViIC0gRGVhbCB3aXRoIE1FVEEtSU5GLyBhbmQgLm9wZiBmaWxlcyBpbiBFUFVCIGNvbnRhaW5lci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENGSSBmcm9tIFwiLi9jZmlcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIENvdW50ZXJzIGZyb20gXCIuL2NvdW50ZXJzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgT1BTIGZyb20gXCIuL29wc1wiO1xuaW1wb3J0ICogYXMgU0hBMSBmcm9tIFwiLi9zaGExXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRvYyBmcm9tIFwiLi90b2NcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5cbmV4cG9ydCB0eXBlIFBvc2l0aW9uID0ge1xuICBzcGluZUluZGV4OiBudW1iZXI7XG4gIHBhZ2VJbmRleDogbnVtYmVyO1xuICBvZmZzZXRJbkl0ZW06IG51bWJlcjtcbn07XG5cbmV4cG9ydCBjbGFzcyBFUFVCRG9jU3RvcmUgZXh0ZW5kcyBPUFMuT1BTRG9jU3RvcmUge1xuICBwbGFpblhNTFN0b3JlOiBYbWxEb2MuWE1MRG9jU3RvcmU7XG4gIGpzb25TdG9yZTogTmV0LkpTT05TdG9yZTtcbiAgb3BmQnlVUkw6IHsgW2tleTogc3RyaW5nXTogT1BGRG9jIH0gPSB7fTtcbiAgcHJpbWFyeU9QRkJ5RVB1YlVSTDogeyBba2V5OiBzdHJpbmddOiBPUEZEb2MgfSA9IHt9O1xuICBkZW9iZnVzY2F0b3JzOiB7IFtrZXk6IHN0cmluZ106IChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4gfSA9IHt9O1xuICBkb2N1bWVudHM6IHsgW2tleTogc3RyaW5nXTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIHRoaXMuZm9udERlb2JmdXNjYXRvciA9IHRoaXMubWFrZURlb2JmdXNjYXRvckZhY3RvcnkoKTtcbiAgICB0aGlzLnBsYWluWE1MU3RvcmUgPSBYbWxEb2MubmV3WE1MRG9jU3RvcmUoKTtcbiAgICB0aGlzLmpzb25TdG9yZSA9IE5ldC5uZXdKU09OU3RvcmUoKTtcbiAgfVxuXG4gIG1ha2VEZW9iZnVzY2F0b3JGYWN0b3J5KCk6XG4gICAgfCAoKHAxOiBzdHJpbmcpID0+ICgocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+KSB8IG51bGwpXG4gICAgfCBudWxsIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gKHVybDogc3RyaW5nKTogKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbCA9PiB7XG4gICAgICByZXR1cm4gc2VsZi5kZW9iZnVzY2F0b3JzW3VybF07XG4gICAgfTtcbiAgfVxuXG4gIGxvYWRBc1BsYWluWE1MKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgICByZXR1cm4gdGhpcy5wbGFpblhNTFN0b3JlLmxvYWQoXG4gICAgICB1cmwsXG4gICAgICBvcHRfcmVxdWlyZWQsXG4gICAgICBvcHRfbWVzc2FnZSxcbiAgICApIGFzIFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+O1xuICB9XG5cbiAgc3RhcnRMb2FkaW5nQXNQbGFpblhNTCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucGxhaW5YTUxTdG9yZS5mZXRjaCh1cmwpO1xuICB9XG5cbiAgbG9hZEFzSlNPTihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxCYXNlLkpTT04+IHtcbiAgICByZXR1cm4gdGhpcy5qc29uU3RvcmUubG9hZCh1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpO1xuICB9XG5cbiAgc3RhcnRMb2FkaW5nQXNKU09OKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5qc29uU3RvcmUuZmV0Y2godXJsKTtcbiAgfVxuXG4gIGxvYWRQdWJEb2ModXJsOiBzdHJpbmcsIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbik6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZFB1YkRvY1wiKTtcblxuICAgIE5ldC5hamF4KHVybCwgbnVsbCwgXCJIRUFEXCIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCkge1xuICAgICAgICAvLyBUaGlzIHVybCBjYW4gYmUgdGhlIHJvb3Qgb2YgYW4gdW56aXBwZWQgRVBVQi5cbiAgICAgICAgdGhpcy5sb2FkRVBVQkRvYyh1cmwsIGhhdmVaaXBNZXRhZGF0YSkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBhIHNvdXJjZSBkb2N1bWVudCBmcm9tICR7dXJsfSAoJHtyZXNwb25zZS5zdGF0dXN9JHtcbiAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCA/IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCA6IFwiXCJcbiAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXJlc3BvbnNlLnN0YXR1cyAmJlxuICAgICAgICAgICFyZXNwb25zZS5yZXNwb25zZVhNTCAmJlxuICAgICAgICAgICFyZXNwb25zZS5yZXNwb25zZVRleHQgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VCbG9iICYmXG4gICAgICAgICAgIXJlc3BvbnNlLmNvbnRlbnRUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEVtcHR5IHJlc3BvbnNlXG4gICAgICAgICAgaWYgKC9cXC9bXi8uXSsoPzpbIz9dfCQpLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyB0cmFpbGluZyBcIi9cIiBtYXkgc29sdmUgdGhlIHByb2JsZW0uXG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvKFsjP118JCkvLCBcIi8kMVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVtcHR5IHJlc3BvbnNlIG9mIEhFQUQgcmVxdWVzdCwgaXQgbWF5IGJlY29tZSBPSyB3aXRoIEdFVCByZXF1ZXN0LlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiIHx8XG4gICAgICAgICAgL1xcLm9wZig/OlsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBFUFVCIE9QRlxuICAgICAgICAgIGNvbnN0IFssIHB1YlVSTCwgcm9vdF0gPSB1cmwubWF0Y2goL14oKD86LipcXC8pPykoW14vXSopJC8pO1xuICAgICAgICAgIHRoaXMubG9hZE9QRihwdWJVUkwsIHJvb3QsIGhhdmVaaXBNZXRhZGF0YSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL3dlYnB1Yitqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL2F1ZGlvYm9vaytqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL2pzb25cIiB8fFxuICAgICAgICAgIC9cXC5qc29uKD86bGQpPyg/OlsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXZWIgUHVibGljYXRpb24gTWFuaWZlc3RcbiAgICAgICAgICB0aGlzLmxvYWRBc0pTT04odXJsLCB0cnVlKS50aGVuKChtYW5pZmVzdE9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKCFtYW5pZmVzdE9iaikge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7dXJsfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wZiA9IG5ldyBPUEZEb2ModGhpcywgdXJsKTtcbiAgICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KG1hbmlmZXN0T2JqKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZWIgUHVibGljYXRpb24gcHJpbWFyeSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgdGhpcy5sb2FkV2ViUHViKHVybCkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgICBpZiAob3BmKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHVybCBjYW4gYmUgdGhlIHJvb3Qgb2YgYW4gdW56aXBwZWQgRVBVQi5cbiAgICAgICAgICAgIHRoaXMubG9hZEVQVUJEb2ModXJsLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgICAgICBpZiAob3BmKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gbG9hZCAke3VybH0uYCk7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZEVQVUJEb2ModXJsOiBzdHJpbmcsIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbik6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZEVQVUJEb2NcIik7XG4gICAgaWYgKCF1cmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICB1cmwgPSB1cmwgKyBcIi9cIjtcbiAgICB9XG4gICAgaWYgKGhhdmVaaXBNZXRhZGF0YSkge1xuICAgICAgdGhpcy5zdGFydExvYWRpbmdBc0pTT04odXJsICsgXCI/cj1saXN0XCIpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0TG9hZGluZ0FzUGxhaW5YTUwodXJsICsgXCJNRVRBLUlORi9lbmNyeXB0aW9uLnhtbFwiKTtcbiAgICBjb25zdCBjb250YWluZXJVUkwgPSB1cmwgKyBcIk1FVEEtSU5GL2NvbnRhaW5lci54bWxcIjtcbiAgICB0aGlzLmxvYWRBc1BsYWluWE1MKGNvbnRhaW5lclVSTCkudGhlbigoY29udGFpbmVyWE1MKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyWE1MKSB7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gY29udGFpbmVyWE1MXG4gICAgICAgICAgLmRvYygpXG4gICAgICAgICAgLmNoaWxkKFwiY29udGFpbmVyXCIpXG4gICAgICAgICAgLmNoaWxkKFwicm9vdGZpbGVzXCIpXG4gICAgICAgICAgLmNoaWxkKFwicm9vdGZpbGVcIilcbiAgICAgICAgICAuYXR0cmlidXRlKFwiZnVsbC1wYXRoXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdHMpIHtcbiAgICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkT1BGKHVybCwgcm9vdCwgaGF2ZVppcE1ldGFkYXRhKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRPUEYoXG4gICAgcHViVVJMOiBzdHJpbmcsXG4gICAgcm9vdDogc3RyaW5nLFxuICAgIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8T1BGRG9jPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgdXJsID0gcHViVVJMICsgcm9vdDtcbiAgICBsZXQgb3BmID0gc2VsZi5vcGZCeVVSTFt1cmxdO1xuICAgIGlmIChvcGYpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChvcGYpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRPUEZcIik7XG4gICAgc2VsZlxuICAgICAgLmxvYWRBc1BsYWluWE1MKHVybCwgdHJ1ZSwgYEZhaWxlZCB0byBmZXRjaCBFUFVCIE9QRiAke3VybH1gKVxuICAgICAgLnRoZW4oKG9wZlhNTCkgPT4ge1xuICAgICAgICBpZiAoIW9wZlhNTCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgYFJlY2VpdmVkIGFuIGVtcHR5IHJlc3BvbnNlIGZvciBFUFVCIE9QRiAke3VybH0uIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB0aGUgc2VydmVyIG5vdCBhbGxvd2luZyBjcm9zcy1vcmlnaW4gcmVzb3VyY2Ugc2hhcmluZyAoQ09SUykuYCxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgIC5sb2FkQXNQbGFpblhNTChgJHtwdWJVUkx9TUVUQS1JTkYvZW5jcnlwdGlvbi54bWxgKVxuICAgICAgICAgICAgLnRoZW4oKGVuY1hNTCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB6aXBNZXRhZGF0YVJlc3VsdCA9IGhhdmVaaXBNZXRhZGF0YVxuICAgICAgICAgICAgICAgID8gc2VsZi5sb2FkQXNKU09OKGAke3B1YlVSTH0/cj1saXN0YClcbiAgICAgICAgICAgICAgICA6IFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICB6aXBNZXRhZGF0YVJlc3VsdC50aGVuKCh6aXBNZXRhZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZiA9IG5ldyBPUEZEb2Moc2VsZiwgcHViVVJMKTtcbiAgICAgICAgICAgICAgICBvcGZcbiAgICAgICAgICAgICAgICAgIC5pbml0V2l0aFhNTERvYyhcbiAgICAgICAgICAgICAgICAgICAgb3BmWE1MLFxuICAgICAgICAgICAgICAgICAgICBlbmNYTUwsXG4gICAgICAgICAgICAgICAgICAgIHppcE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICBgJHtwdWJVUkx9P3I9bWFuaWZlc3RgLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZkJ5VVJMW3VybF0gPSBvcGY7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJpbWFyeU9QRkJ5RVB1YlVSTFtwdWJVUkxdID0gb3BmO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkV2ViUHViKHVybDogc3RyaW5nKTogVGFzay5SZXN1bHQ8T1BGRG9jPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGRG9jPiA9IFRhc2submV3RnJhbWUoXCJsb2FkV2ViUHViXCIpO1xuXG4gICAgLy8gTG9hZCB0aGUgcHJpbWFyeSBlbnRyeSBwYWdlIChYKUhUTUxcbiAgICB0aGlzLmxvYWQodXJsKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgIGlmICgheG1sZG9jKSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgJHt1cmx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB4bWxkb2MuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBcImFbaHJlZj0nTUVUQS1JTkYvJ10sYVtocmVmJD0nL01FVEEtSU5GLyddXCIsXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSB0aGUgZGlyZWN0b3J5IGxpc3Rpbmcgb2YgdW56aXBwZWQgRVBVQiB0b3AgZGlyZWN0b3J5XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IHhtbGRvYy5kb2N1bWVudDtcbiAgICAgICAgY29uc3Qgb3BmID0gbmV3IE9QRkRvYyh0aGlzLCB1cmwpO1xuXG4gICAgICAgIGlmIChkb2MuYm9keSkge1xuICAgICAgICAgIGRvYy5ib2R5LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIG1hbmlmZXN0LCBXM0MgV2ViUHVibGljYXRpb24gb3IgUmVhZGl1bSBXZWIgUHVibGljYXRpb24gTWFuaWZlc3RcbiAgICAgICAgY29uc3QgbWFuaWZlc3RMaW5rID0gZG9jLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgXCJsaW5rW3JlbD0ncHVibGljYXRpb24nXSxsaW5rW3JlbD0nbWFuaWZlc3QnXVt0eXBlPSdhcHBsaWNhdGlvbi93ZWJwdWIranNvbiddXCIsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChtYW5pZmVzdExpbmspIHtcbiAgICAgICAgICBjb25zdCBocmVmID0gbWFuaWZlc3RMaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgaWYgKC9eIy8udGVzdChocmVmKSkge1xuICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RPYmogPSBCYXNlLnN0cmluZ1RvSlNPTihcbiAgICAgICAgICAgICAgZG9jLmdldEVsZW1lbnRCeUlkKGhyZWYuc3Vic3RyKDEpKS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaiwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkQXNKU09OKFxuICAgICAgICAgICAgICBCYXNlLnJlc29sdmVVUkwobWFuaWZlc3RMaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIHVybCksXG4gICAgICAgICAgICApLnRoZW4oKG1hbmlmZXN0T2JqKSA9PiB7XG4gICAgICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KG1hbmlmZXN0T2JqLCBkb2MpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBtYW5pZmVzdFxuICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KHt9LCBkb2MpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wZi54aHRtbFRvYyAmJiBvcGYueGh0bWxUb2Muc3JjID09PSB4bWxkb2MudXJsKSB7XG4gICAgICAgICAgICAgIC8vIHhodG1sVG9jIGlzIHRoZSBwcmltYXJpIGVudHJ5IChYKUhUTUxcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFkb2MucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIFwiW3JvbGU9ZG9jLXRvY10sIFtyb2xlPWRpcmVjdG9yeV0sIG5hdiwgLnRvYywgI3RvY1wiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9DIGlzIG5vdCBmb3VuZCBpbiB0aGUgcHJpbWFyaSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgICAgICAgb3BmLnhodG1sVG9jID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGREb2N1bWVudCh1cmw6IHN0cmluZywgZG9jOiBEb2N1bWVudCkge1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxYbWxEb2MuWE1MRG9jSG9sZGVyPihcIkVQVUJEb2NTdG9yZS5sb2FkXCIpO1xuICAgIGNvbnN0IGRvY1VSTCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHIgPSAodGhpcy5kb2N1bWVudHNbZG9jVVJMXSA9IHRoaXMucGFyc2VPUFNSZXNvdXJjZSh7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiXCIsXG4gICAgICB1cmw6IGRvY1VSTCxcbiAgICAgIGNvbnRlbnRUeXBlOiAoZG9jIGFzIGFueSkuY29udGVudFR5cGUsXG4gICAgICByZXNwb25zZVRleHQ6IG51bGwsXG4gICAgICByZXNwb25zZVhNTDogZG9jLFxuICAgICAgcmVzcG9uc2VCbG9iOiBudWxsLFxuICAgIH0pKTtcbiAgICByLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxvYWQodXJsOiBzdHJpbmcpOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgY29uc3QgZG9jVVJMID0gQmFzZS5zdHJpcEZyYWdtZW50KHVybCk7XG4gICAgbGV0IHIgPSB0aGlzLmRvY3VtZW50c1tkb2NVUkxdO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdChyLmdldCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFhtbERvYy5YTUxEb2NIb2xkZXI+KFwiRVBVQkRvY1N0b3JlLmxvYWRcIik7XG4gICAgICByID0gc3VwZXIubG9hZChcbiAgICAgICAgZG9jVVJMLFxuICAgICAgICB0cnVlLFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGEgc291cmNlIGRvY3VtZW50IGZyb20gJHtkb2NVUkx9YCxcbiAgICAgICk7XG4gICAgICByLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICBpZiAoIXhtbGRvYykge1xuICAgICAgICAgIGlmIChkb2NVUkwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtkb2NVUkx9LiBJbnZhbGlkIGRhdGEuYCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGRvY1VSTC5zdGFydHNXaXRoKFwiaHR0cDpcIikgJiZcbiAgICAgICAgICAgIEJhc2UuYmFzZVVSTC5zdGFydHNXaXRoKFwiaHR0cHM6XCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgYEZhaWxlZCB0byBsb2FkICR7ZG9jVVJMfS4gTWl4ZWQgQ29udGVudCAoXCJodHRwOlwiIGNvbnRlbnQgb24gXCJodHRwczpcIiBjb250ZXh0KSBpcyBub3QgYWxsb3dlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgJHtkb2NVUkx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIE9QRkl0ZW1QYXJhbSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbDtcbiAgc2tpcFBhZ2VzQmVmb3JlOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIE9QRkl0ZW0ge1xuICBpZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHNyYzogc3RyaW5nID0gXCJcIjtcbiAgbWVkaWFUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpdGVtUmVmRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBzcGluZUluZGV4OiBudW1iZXIgPSAtMTtcbiAgY29tcHJlc3NlZFNpemU6IG51bWJlciA9IDA7XG4gIGNvbXByZXNzZWQ6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbiAgZXBhZ2U6IG51bWJlciA9IDA7XG4gIGVwYWdlQ291bnQ6IG51bWJlciA9IDA7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHNraXBQYWdlc0JlZm9yZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGl0ZW1Qcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLml0ZW1Qcm9wZXJ0aWVzID0gQmFzZS5lbXB0eU9iajtcbiAgfVxuXG4gIGluaXRXaXRoRWxlbWVudChpdGVtRWxlbTogRWxlbWVudCwgb3BmVVJMOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmlkID0gaXRlbUVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIik7XG4gICAgdGhpcy5zcmMgPSBCYXNlLnJlc29sdmVVUkwoaXRlbUVsZW0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgb3BmVVJMKTtcbiAgICB0aGlzLm1lZGlhVHlwZSA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgY29uc3QgcHJvcFN0ciA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcInByb3BlcnRpZXNcIik7XG4gICAgaWYgKHByb3BTdHIpIHtcbiAgICAgIHRoaXMuaXRlbVByb3BlcnRpZXMgPSBCYXNlLmFycmF5VG9TZXQocHJvcFN0ci5zcGxpdCgvXFxzKy8pKTtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFBhcmFtKHBhcmFtOiBPUEZJdGVtUGFyYW0pIHtcbiAgICB0aGlzLnNwaW5lSW5kZXggPSBwYXJhbS5pbmRleDtcbiAgICB0aGlzLmlkID0gYGl0ZW0ke3BhcmFtLmluZGV4ICsgMX1gO1xuICAgIHRoaXMuc3JjID0gcGFyYW0udXJsO1xuICAgIHRoaXMuc3RhcnRQYWdlID0gcGFyYW0uc3RhcnRQYWdlO1xuICAgIHRoaXMuc2tpcFBhZ2VzQmVmb3JlID0gcGFyYW0uc2tpcFBhZ2VzQmVmb3JlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPUEZJdGVtSWQoaXRlbTogT1BGSXRlbSk6IHN0cmluZyB8IG51bGwge1xuICByZXR1cm4gaXRlbS5pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VEZW9iZnVzY2F0b3IodWlkOiBzdHJpbmcpOiAocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+IHtcbiAgLy8gVE9ETzogdXNlIFVURjggb2YgdWlkXG4gIGNvbnN0IHNoYTFTdW0gPSBTSEExLmJ5dGVzVG9TSEExSW50OCh1aWQpO1xuICByZXR1cm4gKGJsb2IpID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWUoXCJkZW9iZnVzY2F0b3JcIikgYXMgVGFzay5GcmFtZTxCbG9iPjtcbiAgICBsZXQgaGVhZDogQmxvYjtcbiAgICBsZXQgdGFpbDogQmxvYjtcbiAgICBpZiAoYmxvYi5zbGljZSkge1xuICAgICAgaGVhZCA9IGJsb2Iuc2xpY2UoMCwgMTA0MCk7XG4gICAgICB0YWlsID0gYmxvYi5zbGljZSgxMDQwLCBibG9iLnNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gYmxvYltcIndlYmtpdFNsaWNlXCJdKDAsIDEwNDApO1xuICAgICAgdGFpbCA9IGJsb2JbXCJ3ZWJraXRTbGljZVwiXSgxMDQwLCBibG9iLnNpemUgLSAxMDQwKTtcbiAgICB9XG4gICAgTmV0LnJlYWRCbG9iKGhlYWQpLnRoZW4oKGJ1ZikgPT4ge1xuICAgICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmKTtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZGF0YVZpZXcuYnl0ZUxlbmd0aDsgaysrKSB7XG4gICAgICAgIGxldCBiID0gZGF0YVZpZXcuZ2V0VWludDgoayk7XG4gICAgICAgIGIgXj0gc2hhMVN1bVtrICUgMjBdO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50OChrLCBiKTtcbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChOZXQubWFrZUJsb2IoW2RhdGFWaWV3LCB0YWlsXSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VPYmZ1c2NhdGlvbktleSh1aWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgMTA0MDoke1NIQTEuYnl0ZXNUb1NIQTFIZXgodWlkKX1gO1xufVxuXG5leHBvcnQgdHlwZSBSYXdNZXRhSXRlbSA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICBpZDogc3RyaW5nIHwgbnVsbDtcbiAgcmVmaW5lczogc3RyaW5nIHwgbnVsbDtcbiAgc2NoZW1lOiBzdHJpbmcgfCBudWxsO1xuICBsYW5nOiBzdHJpbmcgfCBudWxsO1xuICBvcmRlcjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZWRlZmluZWRQcmVmaXhlcyA9IHtcbiAgZGN0ZXJtczogXCJodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvXCIsXG4gIG1hcmM6IFwiaHR0cDovL2lkLmxvYy5nb3Yvdm9jYWJ1bGFyeS9cIixcbiAgbWVkaWE6IFwiaHR0cDovL3d3dy5pZHBmLm9yZy9lcHViL3ZvY2FiL292ZXJsYXlzLyNcIixcbiAgcmVuZGl0aW9uOiBcImh0dHA6Ly93d3cuaWRwZi5vcmcvdm9jYWIvcmVuZGl0aW9uLyNcIixcbiAgb25peDogXCJodHRwOi8vd3d3LmVkaXRldXIub3JnL09OSVgvYm9vay9jb2RlbGlzdHMvY3VycmVudC5odG1sI1wiLFxuICB4c2Q6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdElSSSA9IFwiaHR0cDovL2lkcGYub3JnL2VwdWIvdm9jYWIvcGFja2FnZS8jXCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhVGVybXMgPSB7XG4gIGxhbmd1YWdlOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWxhbmd1YWdlYCxcbiAgdGl0bGU6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcImRjdGVybXNcIl19dGl0bGVgLFxuICBjcmVhdG9yOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWNyZWF0b3JgLFxuICBsYXlvdXQ6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcInJlbmRpdGlvblwiXX1sYXlvdXRgLFxuICB0aXRsZVR5cGU6IGAke2RlZmF1bHRJUkl9dGl0bGUtdHlwZWAsXG4gIGRpc3BsYXlTZXE6IGAke2RlZmF1bHRJUkl9ZGlzcGxheS1zZXFgLFxuICBhbHRlcm5hdGVTY3JpcHQ6IGAke2RlZmF1bHRJUkl9YWx0ZXJuYXRlLXNjcmlwdGAsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0YWRhdGFDb21wYXJhdG9yKFxuICB0ZXJtOiBzdHJpbmcsXG4gIGxhbmc6IHN0cmluZyxcbik6IChwMTogQmFzZS5KU09OLCBwMjogQmFzZS5KU09OKSA9PiBudW1iZXIge1xuICBjb25zdCBlbXB0eSA9IHt9O1xuICByZXR1cm4gKGl0ZW0xLCBpdGVtMikgPT4ge1xuICAgIGxldCBtMTogYm9vbGVhbjtcbiAgICBsZXQgbTI6IGJvb2xlYW47XG4gICAgY29uc3QgcjEgPSBpdGVtMVtcInJcIl0gfHwgZW1wdHk7XG4gICAgY29uc3QgcjIgPSBpdGVtMltcInJcIl0gfHwgZW1wdHk7XG4gICAgaWYgKHRlcm0gPT0gbWV0YVRlcm1zLnRpdGxlKSB7XG4gICAgICBtMSA9IHIxW21ldGFUZXJtcy50aXRsZVR5cGVdID09IFwibWFpblwiO1xuICAgICAgbTIgPSByMlttZXRhVGVybXMudGl0bGVUeXBlXSA9PSBcIm1haW5cIjtcbiAgICAgIGlmIChtMSAhPSBtMikge1xuICAgICAgICByZXR1cm4gbTEgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpMSA9IHBhcnNlSW50KHIxW21ldGFUZXJtcy5kaXNwbGF5U2VxXSwgMTApO1xuICAgIGlmIChpc05hTihpMSkpIHtcbiAgICAgIGkxID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB9XG4gICAgbGV0IGkyID0gcGFyc2VJbnQocjJbbWV0YVRlcm1zLmRpc3BsYXlTZXFdLCAxMCk7XG4gICAgaWYgKGlzTmFOKGkyKSkge1xuICAgICAgaTIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIH1cbiAgICBpZiAoaTEgIT0gaTIpIHtcbiAgICAgIHJldHVybiBpMSAtIGkyO1xuICAgIH1cbiAgICBpZiAodGVybSAhPSBtZXRhVGVybXMubGFuZ3VhZ2UgJiYgbGFuZykge1xuICAgICAgbTEgPSAocjFbbWV0YVRlcm1zLmxhbmd1YWdlXSB8fCByMVttZXRhVGVybXMuYWx0ZXJuYXRlU2NyaXB0XSkgPT0gbGFuZztcbiAgICAgIG0yID0gKHIyW21ldGFUZXJtcy5sYW5ndWFnZV0gfHwgcjJbbWV0YVRlcm1zLmFsdGVybmF0ZVNjcmlwdF0pID09IGxhbmc7XG4gICAgICBpZiAobTEgIT0gbTIpIHtcbiAgICAgICAgcmV0dXJuIG0xID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlbTFbXCJvXCJdIC0gaXRlbTJbXCJvXCJdO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKFxuICBtcm9vdDogWG1sRG9jLk5vZGVMaXN0LFxuICBwcmVmaXhlczogc3RyaW5nIHwgbnVsbCxcbik6IEJhc2UuSlNPTiB7XG4gIC8vIFBhcnNlIHByZWZpeCBtYXAgKGlmIGFueSlcbiAgbGV0IHByZWZpeE1hcDtcbiAgaWYgKCFwcmVmaXhlcykge1xuICAgIHByZWZpeE1hcCA9IHByZWRlZmluZWRQcmVmaXhlcztcbiAgfSBlbHNlIHtcbiAgICBwcmVmaXhNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBuIGluIHByZWRlZmluZWRQcmVmaXhlcykge1xuICAgICAgcHJlZml4TWFwW3BuXSA9IHByZWRlZmluZWRQcmVmaXhlc1twbl07XG4gICAgfVxuICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuXG4gICAgLy8gVGhpcyBjb2RlIHBlcm1pdHMgYW55IG5vbi1BU0NJSSBjaGFyYWN0ZXJzIGluIHRoZSBuYW1lIHRvIGF2b2lkIGJsb2F0aW5nXG4gICAgLy8gdGhlIHBhdHRlcm4uXG4gICAgd2hpbGUgKFxuICAgICAgKHIgPSBwcmVmaXhlcy5tYXRjaChcbiAgICAgICAgL15cXHMqKFtBLVpfYS16XFx1MDA3Ri1cXHVGRkZGXVstLkEtWl9hLXowLTlcXHUwMDdGLVxcdUZGRkZdKik6XFxzKihcXFMrKS8sXG4gICAgICApKSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBwcmVmaXhlcyA9IHByZWZpeGVzLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gICAgICBwcmVmaXhNYXBbclsxXV0gPSByWzJdO1xuICAgIH1cbiAgfVxuICBjb25zdCByZXNvbHZlUHJvcGVydHkgPSAodmFsOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgY29uc3QgciA9IHZhbC5tYXRjaCgvXlxccyooKFteOl0qKTopPyhcXFMrKVxccyokLyk7XG4gICAgICBpZiAocikge1xuICAgICAgICBjb25zdCBpcmkgPSByWzJdID8gcHJlZml4TWFwW3JbMl1dIDogZGVmYXVsdElSSTtcbiAgICAgICAgaWYgKGlyaSkge1xuICAgICAgICAgIHJldHVybiBpcmkgKyByWzNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBsZXQgb3JkZXIgPSAxO1xuXG4gIC8vIExpc3Qgb2YgbWV0YWRhdGEgaXRlbXMuXG4gIGNvbnN0IHJhd0l0ZW1zID0gbXJvb3QuY2hpbGRFbGVtZW50cygpLmZvckVhY2hOb25OdWxsKChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgaWYgKG5vZGUubG9jYWxOYW1lID09IFwibWV0YVwiKSB7XG4gICAgICBjb25zdCBwID0gcmVzb2x2ZVByb3BlcnR5KChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcInByb3BlcnR5XCIpKTtcbiAgICAgIGlmIChwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogcCxcbiAgICAgICAgICB2YWx1ZTogbm9kZS50ZXh0Q29udGVudCxcbiAgICAgICAgICBpZDogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIiksXG4gICAgICAgICAgb3JkZXI6IG9yZGVyKyssXG4gICAgICAgICAgcmVmaW5lczogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwicmVmaW5lc1wiKSxcbiAgICAgICAgICBsYW5nOiBudWxsLFxuICAgICAgICAgIHNjaGVtZTogcmVzb2x2ZVByb3BlcnR5KChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcInNjaGVtZVwiKSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLkRDKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdICsgbm9kZS5sb2NhbE5hbWUsXG4gICAgICAgIG9yZGVyOiBvcmRlcisrLFxuICAgICAgICBsYW5nOiAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSxcbiAgICAgICAgdmFsdWU6IG5vZGUudGV4dENvbnRlbnQsXG4gICAgICAgIGlkOiAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxcbiAgICAgICAgcmVmaW5lczogbnVsbCxcbiAgICAgICAgc2NoZW1lOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xuXG4gIC8vIEl0ZW1zIGdyb3VwZWQgYnkgdGhlaXIgdGFyZ2V0IGlkLlxuICBjb25zdCByYXdJdGVtc0J5VGFyZ2V0ID0gQmFzZS5tdWx0aUluZGV4QXJyYXkoXG4gICAgcmF3SXRlbXMsXG4gICAgKHJhd0l0ZW0pID0+IHJhd0l0ZW0ucmVmaW5lcyxcbiAgKTtcbiAgY29uc3QgbWFrZU1ldGFkYXRhID0gKG1hcDoge1xuICAgIFtrZXk6IHN0cmluZ106IGFueVtdO1xuICB9KTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0+XG4gICAgQmFzZS5tYXBPYmoobWFwLCAocmF3SXRlbUFyciwgaXRlbU5hbWUpID0+XG4gICAgICByYXdJdGVtQXJyLm1hcCgocmF3SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsgdjogcmF3SXRlbS52YWx1ZSwgbzogcmF3SXRlbS5vcmRlciB9O1xuICAgICAgICBpZiAocmF3SXRlbS5zY2hlbWEpIHtcbiAgICAgICAgICBlbnRyeVtcInNcIl0gPSByYXdJdGVtLnNjaGVtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmF3SXRlbS5pZCB8fCByYXdJdGVtLmxhbmcpIHtcbiAgICAgICAgICBsZXQgcmVmcyA9IHJhd0l0ZW1zQnlUYXJnZXRbcmF3SXRlbS5pZF07XG4gICAgICAgICAgaWYgKHJlZnMgfHwgcmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgICBpZiAocmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHhtbDpsYW5nXG4gICAgICAgICAgICAgIGNvbnN0IGxhbmdJdGVtID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG1ldGFUZXJtcy5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmF3SXRlbS5sYW5nLFxuICAgICAgICAgICAgICAgIGxhbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVmaW5lczogcmF3SXRlbS5pZCxcbiAgICAgICAgICAgICAgICBzY2hlbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHJhd0l0ZW0ub3JkZXIsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChyZWZzKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKGxhbmdJdGVtKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWZzID0gW2xhbmdJdGVtXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW50cnlNYXAgPSBCYXNlLm11bHRpSW5kZXhBcnJheShcbiAgICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgICAgKHJhd0l0ZW0pID0+IHJhd0l0ZW0ubmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbnRyeVtcInJcIl0gPSBtYWtlTWV0YWRhdGEoZW50cnlNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICB9KSxcbiAgICApO1xuICBjb25zdCBtZXRhZGF0YSA9IG1ha2VNZXRhZGF0YShcbiAgICBCYXNlLm11bHRpSW5kZXhBcnJheShyYXdJdGVtcywgKHJhd0l0ZW0pID0+XG4gICAgICByYXdJdGVtLnJlZmluZXMgPyBudWxsIDogcmF3SXRlbS5uYW1lLFxuICAgICksXG4gICk7XG4gIGxldCBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKG1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV0pIHtcbiAgICBsYW5nID0gbWV0YWRhdGFbbWV0YVRlcm1zLmxhbmd1YWdlXVswXVtcInZcIl07XG4gIH1cbiAgY29uc3Qgc29ydE1ldGFkYXRhID0gKG1ldGFkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0pID0+IHtcbiAgICBmb3IgKGNvbnN0IHRlcm0gaW4gbWV0YWRhdGEpIHtcbiAgICAgIGNvbnN0IGFyciA9IG1ldGFkYXRhW3Rlcm1dO1xuICAgICAgYXJyLnNvcnQoZ2V0TWV0YWRhdGFDb21wYXJhdG9yKHRlcm0sIGxhbmcpKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHIgPSBhcnJbaV1bXCJyXCJdO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHNvcnRNZXRhZGF0YShyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc29ydE1ldGFkYXRhKG1ldGFkYXRhKTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF0aEpheEh1YigpOiBvYmplY3Qge1xuICBjb25zdCBtYXRoID0gd2luZG93W1wiTWF0aEpheFwiXTtcbiAgaWYgKG1hdGgpIHtcbiAgICByZXR1cm4gbWF0aFtcIkh1YlwiXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTWF0aEpheCgpOiB2b2lkIHtcbiAgaWYgKGdldE1hdGhKYXhIdWIoKSkge1xuICAgIENzc0Nhc2NhZGUuc3VwcG9ydGVkTmFtZXNwYWNlc1tCYXNlLk5TLk1BVEhNTF0gPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWRNZWRpYVR5cGVzID0ge1xuICBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiOiB0cnVlLFxuICBcImltYWdlL2pwZWdcIjogdHJ1ZSxcbiAgXCJpbWFnZS9wbmdcIjogdHJ1ZSxcbiAgXCJpbWFnZS9zdmcreG1sXCI6IHRydWUsXG4gIFwiaW1hZ2UvZ2lmXCI6IHRydWUsXG4gIFwiYXVkaW8vbXAzXCI6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZWRJZFByZWZpeCA9IFwidml2LWlkLVwiO1xuXG5leHBvcnQgY2xhc3MgT1BGRG9jIHtcbiAgb3BmWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgZW5jWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgaXRlbXM6IE9QRkl0ZW1bXSA9IG51bGw7XG4gIHNwaW5lOiBPUEZJdGVtW10gPSBudWxsO1xuICBpdGVtTWFwOiB7IFtrZXk6IHN0cmluZ106IE9QRkl0ZW0gfSA9IG51bGw7XG4gIGl0ZW1NYXBCeVBhdGg6IHsgW2tleTogc3RyaW5nXTogT1BGSXRlbSB9ID0gbnVsbDtcbiAgdWlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgYmluZGluZ3M6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgbGFuZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGVwYWdlQ291bnQ6IG51bWJlciA9IDA7XG4gIHByZVBhZ2luYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBlcGFnZUlzUmVuZGVyZWRQYWdlOiBib29sZWFuID0gdHJ1ZTtcbiAgZXBhZ2VDb3VudENhbGxiYWNrOiAocDE6IG51bWJlcikgPT4gdm9pZCB8IG51bGwgPSBudWxsO1xuICBtZXRhZGF0YTogQmFzZS5KU09OID0ge307XG4gIG5jeFRvYzogT1BGSXRlbSA9IG51bGw7XG4gIHhodG1sVG9jOiBPUEZJdGVtID0gbnVsbDtcbiAgY292ZXI6IE9QRkl0ZW0gPSBudWxsO1xuICBmYWxsYmFja01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwYWdlUHJvZ3Jlc3Npb246IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsID0gbnVsbDtcbiAgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogRVBVQkRvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwdWJVUkw6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyID0gdGhpcy5jcmVhdGVEb2N1bWVudFVSTFRyYW5zZm9ybWVyKCk7XG4gICAgY2hlY2tNYXRoSmF4KCk7XG4gIH1cblxuICAvLyBGSVhNRTogVFM0MDU1XG4gIGNyZWF0ZURvY3VtZW50VVJMVHJhbnNmb3JtZXIoKTogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjbGFzcyBPUEZEb2N1bWVudFVSTFRyYW5zZm9ybWVyIGltcGxlbWVudHMgQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgKi9cbiAgICAgIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2VVUkwgKyAoZnJhZ21lbnQgPyBgIyR7ZnJhZ21lbnR9YCA6IFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJZFByZWZpeCArIEJhc2UuZXNjYXBlTmFtZVN0clRvSGV4KHVybCwgXCI6XCIpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopIz8oLiopJC8pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGNvbnN0IHBhdGggPSByWzFdIHx8IGJhc2VVUkw7XG4gICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSByWzJdO1xuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLnNyYyA9PT0gcGF0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGAjJHt0aGlzLnRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50LCBwYXRoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKGVuY29kZWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgIGVuY29kZWQgPSBlbmNvZGVkLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5jb2RlZC5pbmRleE9mKHRyYW5zZm9ybWVkSWRQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgZW5jb2RlZCA9IGVuY29kZWQuc3Vic3RyaW5nKHRyYW5zZm9ybWVkSWRQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gQmFzZS51bmVzY2FwZVN0ckZyb21IZXgoZW5jb2RlZCwgXCI6XCIpO1xuICAgICAgICBjb25zdCByID0gZGVjb2RlZC5tYXRjaCgvXihbXiNdKikjPyguKikkLyk7XG4gICAgICAgIHJldHVybiByID8gW3JbMV0sIHJbMl1dIDogW107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT1BGRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGFkYXRhIGlzIG9yZ2FuaXplZCBpbiB0aGUgZm9sbG93aW5nIHdheTogZnVsbHktZXhwYW5kZWQgcHJvcGVydHkgbmFtZXNcbiAgICogKHdpdGggSVJJIHByZWZpeGVzIHByZXBlbmRlZCkgcG9pbnQgdG8gYW4gYXJyYXkgb2YgdmFsdWVzLiBBcnJheSBjb250YWluc1xuICAgKiBhdCBsZWFzdCBvbmUgZWxlbWVudC4gRmlyc3QgZWxlbWVudCBpcyBwcmltYXJ5IGFuZCBzaG91bGQgYmUgdXNlZCBieVxuICAgKiBkZWZhdWx0LiBFbGVtZW50IHZhbHVlcyBhcmUgb2JqZWN0cyBoYXZlIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBcInZcIiAtIGl0ZW0gdmFsdWUgYXMgc3RyaW5nLFxuICAgKiAtIFwic1wiIC0gc2NoZW1lLFxuICAgKiAtIFwib1wiIC0gaW5kZXggaW4gdGhlIG9yZGVyIG9mIGFwcGVhcmluZyBpbiB0aGUgc291cmNlLFxuICAgKiAtIFwiclwiIC0gcmVmaW5lbWVudCBzdWJtZXRhZGF0YSAob3JnYW5pemVkIGp1c3QgbGlrZSB0aGUgdG9wLWxldmVsXG4gICAqIG1ldGFkYXRhKS5cbiAgICovXG4gIGdldE1ldGFkYXRhKCk6IEJhc2UuSlNPTiB7XG4gICAgcmV0dXJuIHRoaXMubWV0YWRhdGE7XG4gIH1cblxuICBnZXRQYXRoRnJvbVVSTCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgICByZXR1cm4gdXJsID09PSB0aGlzLnB1YlVSTCA/IFwiXCIgOiB1cmw7XG4gICAgfVxuICAgIGlmICh0aGlzLnB1YlVSTCkge1xuICAgICAgbGV0IGVwdWJCYXNlVVJMID0gQmFzZS5yZXNvbHZlVVJMKFwiXCIsIHRoaXMucHViVVJMKTtcbiAgICAgIGlmICh1cmwgPT09IGVwdWJCYXNlVVJMIHx8IHVybCArIFwiL1wiID09PSBlcHViQmFzZVVSTCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmIChlcHViQmFzZVVSTC5jaGFyQXQoZXB1YkJhc2VVUkwubGVuZ3RoIC0gMSkgIT0gXCIvXCIpIHtcbiAgICAgICAgZXB1YkJhc2VVUkwgKz0gXCIvXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBlcHViQmFzZVVSTC5sZW5ndGgpID09IGVwdWJCYXNlVVJMXG4gICAgICAgID8gZGVjb2RlVVJJKHVybC5zdWJzdHIoZXB1YkJhc2VVUkwubGVuZ3RoKSlcbiAgICAgICAgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoWE1MRG9jKFxuICAgIG9wZlhNTDogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBlbmNYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgemlwTWV0YWRhdGE6IEJhc2UuSlNPTixcbiAgICBtYW5pZmVzdFVSTDogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxhbnk+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLm9wZlhNTCA9IG9wZlhNTDtcbiAgICB0aGlzLmVuY1hNTCA9IGVuY1hNTDtcbiAgICBjb25zdCBwa2cgPSBvcGZYTUwuZG9jKCkuY2hpbGQoXCJwYWNrYWdlXCIpO1xuICAgIGNvbnN0IHVpZHJlZiA9IHBrZy5hdHRyaWJ1dGUoXCJ1bmlxdWUtaWRlbnRpZmllclwiKVswXTtcbiAgICBpZiAodWlkcmVmKSB7XG4gICAgICBjb25zdCB1aWRFbGVtID0gb3BmWE1MLmdldEVsZW1lbnQoYCR7b3BmWE1MLnVybH0jJHt1aWRyZWZ9YCk7XG4gICAgICBpZiAodWlkRWxlbSkge1xuICAgICAgICB0aGlzLnVpZCA9IHVpZEVsZW0udGV4dENvbnRlbnQucmVwbGFjZSgvWyBcXG5cXHJcXHRdL2csIFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzcmNUb0ZhbGxiYWNrSWQgPSB7fTtcbiAgICB0aGlzLml0ZW1zID0gcGtnXG4gICAgICAuY2hpbGQoXCJtYW5pZmVzdFwiKVxuICAgICAgLmNoaWxkKFwiaXRlbVwiKVxuICAgICAgLmFzQXJyYXkoKVxuICAgICAgLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IE9QRkl0ZW0oKTtcbiAgICAgICAgY29uc3QgZWxlbSA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgaXRlbS5pbml0V2l0aEVsZW1lbnQoZWxlbSwgb3BmWE1MLnVybCk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJmYWxsYmFja1wiKTtcbiAgICAgICAgaWYgKGZhbGxiYWNrICYmICFzdXBwb3J0ZWRNZWRpYVR5cGVzW2l0ZW0ubWVkaWFUeXBlXSkge1xuICAgICAgICAgIHNyY1RvRmFsbGJhY2tJZFtpdGVtLnNyY10gPSBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYueGh0bWxUb2MgJiYgaXRlbS5pdGVtUHJvcGVydGllc1tcIm5hdlwiXSkge1xuICAgICAgICAgIHNlbGYueGh0bWxUb2MgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZi5jb3ZlciAmJiBpdGVtLml0ZW1Qcm9wZXJ0aWVzW1wiY292ZXItaW1hZ2VcIl0pIHtcbiAgICAgICAgICBzZWxmLmNvdmVyID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIHRoaXMuaXRlbU1hcCA9IEJhc2UuaW5kZXhBcnJheShcbiAgICAgIHRoaXMuaXRlbXMsXG4gICAgICBnZXRPUEZJdGVtSWQgYXMgKHAxOiBPUEZJdGVtKSA9PiBzdHJpbmcgfCBudWxsLFxuICAgICk7XG4gICAgdGhpcy5pdGVtTWFwQnlQYXRoID0gQmFzZS5pbmRleEFycmF5KHRoaXMuaXRlbXMsIChpdGVtKSA9PlxuICAgICAgc2VsZi5nZXRQYXRoRnJvbVVSTChpdGVtLnNyYyksXG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IHNyYyBpbiBzcmNUb0ZhbGxiYWNrSWQpIHtcbiAgICAgIGxldCBmYWxsYmFja1NyYyA9IHNyYztcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1NYXBbc3JjVG9GYWxsYmFja0lkW2ZhbGxiYWNrU3JjXV07XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0ZWRNZWRpYVR5cGVzW2l0ZW0ubWVkaWFUeXBlXSkge1xuICAgICAgICAgIHRoaXMuZmFsbGJhY2tNYXBbc3JjXSA9IGl0ZW0uc3JjO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZhbGxiYWNrU3JjID0gaXRlbS5zcmM7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3BpbmUgPSBwa2dcbiAgICAgIC5jaGlsZChcInNwaW5lXCIpXG4gICAgICAuY2hpbGQoXCJpdGVtcmVmXCIpXG4gICAgICAuYXNBcnJheSgpXG4gICAgICAubWFwKChub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtID0gbm9kZSBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBpZCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRyZWZcIik7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxmLml0ZW1NYXBbaWQgYXMgc3RyaW5nXTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLml0ZW1SZWZFbGVtZW50ID0gZWxlbTtcbiAgICAgICAgICBpdGVtLnNwaW5lSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIGNvbnN0IHRvY0F0dHIgPSBwa2cuY2hpbGQoXCJzcGluZVwiKS5hdHRyaWJ1dGUoXCJ0b2NcIilbMF07XG4gICAgaWYgKHRvY0F0dHIpIHtcbiAgICAgIHRoaXMubmN4VG9jID0gdGhpcy5pdGVtTWFwW3RvY0F0dHJdO1xuICAgIH1cbiAgICBjb25zdCBwYWdlUHJvZ3Jlc3Npb25BdHRyID0gcGtnXG4gICAgICAuY2hpbGQoXCJzcGluZVwiKVxuICAgICAgLmF0dHJpYnV0ZShcInBhZ2UtcHJvZ3Jlc3Npb24tZGlyZWN0aW9uXCIpWzBdO1xuICAgIGlmIChwYWdlUHJvZ3Jlc3Npb25BdHRyKSB7XG4gICAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IENvbnN0YW50cy5wYWdlUHJvZ3Jlc3Npb25PZihwYWdlUHJvZ3Jlc3Npb25BdHRyKTtcbiAgICB9XG4gICAgY29uc3QgaWRwZk9iZlVSTHMgPSAhZW5jWE1MXG4gICAgICA/IFtdXG4gICAgICA6IGVuY1hNTFxuICAgICAgICAgIC5kb2MoKVxuICAgICAgICAgIC5jaGlsZChcImVuY3J5cHRpb25cIilcbiAgICAgICAgICAuY2hpbGQoXCJFbmNyeXB0ZWREYXRhXCIpXG4gICAgICAgICAgLnByZWRpY2F0ZShcbiAgICAgICAgICAgIFhtbERvYy5wcmVkaWNhdGUud2l0aENoaWxkKFxuICAgICAgICAgICAgICBcIkVuY3J5cHRpb25NZXRob2RcIixcbiAgICAgICAgICAgICAgWG1sRG9jLnByZWRpY2F0ZS53aXRoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwiQWxnb3JpdGhtXCIsXG4gICAgICAgICAgICAgICAgXCJodHRwOi8vd3d3LmlkcGYub3JnLzIwMDgvZW1iZWRkaW5nXCIsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIClcbiAgICAgICAgICAuY2hpbGQoXCJDaXBoZXJEYXRhXCIpXG4gICAgICAgICAgLmNoaWxkKFwiQ2lwaGVyUmVmZXJlbmNlXCIpXG4gICAgICAgICAgLmF0dHJpYnV0ZShcIlVSSVwiKTtcbiAgICBjb25zdCBtZWRpYVR5cGVFbGVtcyA9IHBrZ1xuICAgICAgLmNoaWxkKFwiYmluZGluZ3NcIilcbiAgICAgIC5jaGlsZChcIm1lZGlhVHlwZVwiKVxuICAgICAgLmFzQXJyYXkoKSBhcyBFbGVtZW50W107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYVR5cGVFbGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaGFuZGxlcklkID0gbWVkaWFUeXBlRWxlbXNbaV0uZ2V0QXR0cmlidXRlKFwiaGFuZGxlclwiKTtcbiAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IG1lZGlhVHlwZUVsZW1zW2ldLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgICBpZiAobWVkaWFUeXBlICYmIGhhbmRsZXJJZCAmJiB0aGlzLml0ZW1NYXBbaGFuZGxlcklkXSkge1xuICAgICAgICB0aGlzLmJpbmRpbmdzW21lZGlhVHlwZV0gPSB0aGlzLml0ZW1NYXBbaGFuZGxlcklkXS5zcmM7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWV0YWRhdGEgPSByZWFkTWV0YWRhdGEoXG4gICAgICBwa2cuY2hpbGQoXCJtZXRhZGF0YVwiKSxcbiAgICAgIHBrZy5hdHRyaWJ1dGUoXCJwcmVmaXhcIilbMF0sXG4gICAgKTtcbiAgICBpZiAodGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdKSB7XG4gICAgICB0aGlzLmxhbmcgPSB0aGlzLm1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV1bMF1bXCJ2XCJdO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGF5b3V0XSkge1xuICAgICAgdGhpcy5wcmVQYWdpbmF0ZWQgPVxuICAgICAgICB0aGlzLm1ldGFkYXRhW21ldGFUZXJtcy5sYXlvdXRdWzBdW1widlwiXSA9PT0gXCJwcmUtcGFnaW5hdGVkXCI7XG4gICAgfVxuXG4gICAgaWYgKCF6aXBNZXRhZGF0YSkge1xuICAgICAgaWYgKGlkcGZPYmZVUkxzLmxlbmd0aCA+IDAgJiYgdGhpcy51aWQpIHtcbiAgICAgICAgLy8gSGF2ZSB0byBkZW9iZnVzY2F0ZSBpbiBKYXZhU2NyaXB0XG4gICAgICAgIGNvbnN0IGRlb2JmdXNjYXRvciA9IG1ha2VEZW9iZnVzY2F0b3IodGhpcy51aWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcGZPYmZVUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zdG9yZS5kZW9iZnVzY2F0b3JzW3RoaXMucHViVVJMICsgaWRwZk9iZlVSTHNbaV1dID0gZGVvYmZ1c2NhdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcmVQYWdpbmF0ZWQpIHtcbiAgICAgICAgdGhpcy5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgbWFuaWZlc3RUZXh0ID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgY29uc3Qgb2JmdXNjYXRpb25zID0ge307XG4gICAgaWYgKGlkcGZPYmZVUkxzLmxlbmd0aCA+IDAgJiYgdGhpcy51aWQpIHtcbiAgICAgIC8vIERlb2JmdXNjYXRlIGluIHRoZSBzZXJ2ZXIuXG4gICAgICBjb25zdCBvYmZ1c2NhdGlvbktleSA9IG1ha2VPYmZ1c2NhdGlvbktleSh0aGlzLnVpZCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcGZPYmZVUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG9iZnVzY2F0aW9uc1tpZHBmT2JmVVJMc1tpXV0gPSBvYmZ1c2NhdGlvbktleTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6aXBNZXRhZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW50cnkgPSB6aXBNZXRhZGF0YVtpXTtcbiAgICAgIGNvbnN0IGVuY29kZWRQYXRoID0gZW50cnlbXCJuXCJdO1xuICAgICAgaWYgKGVuY29kZWRQYXRoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkZWNvZGVVUkkoZW5jb2RlZFBhdGgpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtTWFwQnlQYXRoW3BhdGhdO1xuICAgICAgICBsZXQgbWVkaWFUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLmNvbXByZXNzZWQgPSBlbnRyeVtcIm1cIl0gIT0gMDtcbiAgICAgICAgICBpdGVtLmNvbXByZXNzZWRTaXplID0gZW50cnlbXCJjXCJdO1xuICAgICAgICAgIGlmIChpdGVtLm1lZGlhVHlwZSkge1xuICAgICAgICAgICAgbWVkaWFUeXBlID0gaXRlbS5tZWRpYVR5cGUucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JmdXNjYXRpb24gPSBvYmZ1c2NhdGlvbnNbcGF0aF07XG4gICAgICAgIGlmIChtZWRpYVR5cGUgfHwgb2JmdXNjYXRpb24pIHtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKGVuY29kZWRQYXRoKTtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKG1lZGlhVHlwZSB8fCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICAgICAgICBpZiAob2JmdXNjYXRpb24pIHtcbiAgICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQoXCIgXCIpO1xuICAgICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChvYmZ1c2NhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQoXCJcXG5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICByZXR1cm4gTmV0LmFqYXgoXG4gICAgICBtYW5pZmVzdFVSTCxcbiAgICAgIE5ldC5YTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5ERUZBVUxULFxuICAgICAgXCJQT1NUXCIsXG4gICAgICBtYW5pZmVzdFRleHQudG9TdHJpbmcoKSxcbiAgICAgIFwidGV4dC9wbGFpblwiLFxuICAgICk7XG4gIH1cblxuICBhc3NpZ25BdXRvUGFnZXMoKTogdm9pZCB7XG4gICAgbGV0IGVwYWdlID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5zcGluZSkge1xuICAgICAgY29uc3QgZXBhZ2VDb3VudCA9IHRoaXMucHJlUGFnaW5hdGVkXG4gICAgICAgID8gMVxuICAgICAgICA6IE1hdGguY2VpbChpdGVtLmNvbXByZXNzZWRTaXplIC8gMTAyNCk7XG4gICAgICBpdGVtLmVwYWdlID0gZXBhZ2U7XG4gICAgICBpdGVtLmVwYWdlQ291bnQgPSBlcGFnZUNvdW50O1xuICAgICAgZXBhZ2UgKz0gZXBhZ2VDb3VudDtcbiAgICB9XG4gICAgdGhpcy5lcGFnZUNvdW50ID0gZXBhZ2U7XG5cbiAgICBpZiAodGhpcy5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMuZXBhZ2VDb3VudCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RVBhZ2VDb3VudE1vZGUoZXBhZ2VJc1JlbmRlcmVkUGFnZTogYm9vbGVhbikge1xuICAgIHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSA9IGVwYWdlSXNSZW5kZXJlZFBhZ2UgfHwgdGhpcy5wcmVQYWdpbmF0ZWQ7XG4gIH1cblxuICBjb3VudEVQYWdlcyhcbiAgICBlcGFnZUNvdW50Q2FsbGJhY2s6ICgocDE6IG51bWJlcikgPT4gdm9pZCkgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5lcGFnZUNvdW50Q2FsbGJhY2sgPSBlcGFnZUNvdW50Q2FsbGJhY2s7XG5cbiAgICBpZiAodGhpcy5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBpZiAodGhpcy5wcmVQYWdpbmF0ZWQgJiYgdGhpcy5lcGFnZUNvdW50ID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgZXBhZ2UgPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjb3VudEVQYWdlc1wiKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA9PT0gdGhpcy5zcGluZS5sZW5ndGgpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnNwaW5lW2krK107XG4gICAgICAgIGl0ZW0uZXBhZ2UgPSBlcGFnZTtcbiAgICAgICAgdGhpcy5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIG9sZCBjb21tZW50LFxuICAgICAgICAgIC8vIFwiRXN0aW1hdGUgdGhhdCBvZmZzZXQ9MjcwMCByb3VnaGx5IGNvcnJlc3BvbmRzIHRvIDEwMjQgYnl0ZXMgb2YgY29tcHJlc3NlZCBzaXplLlwiXG4gICAgICAgICAgLy8gSG93ZXZlciwgaXQgc2hvdWxkIGRlcGVuZCBvbiB0aGUgbGFuZ3VhZ2UuXG4gICAgICAgICAgLy8gRnVydGhlciBhZGp1c3RtZW50IG5lZWRlZC5cblxuICAgICAgICAgIC8vbGV0IG9mZnNldFBlckVQYWdlID0gMjcwMDtcbiAgICAgICAgICBsZXQgb2Zmc2V0UGVyRVBhZ2UgPSAxODAwO1xuICAgICAgICAgIGNvbnN0IGxhbmcgPSB4bWxkb2MubGFuZyB8fCB0aGlzLmxhbmc7XG4gICAgICAgICAgaWYgKGxhbmcgJiYgbGFuZy5tYXRjaCgvXihqYXxrb3x6aCkvKSkge1xuICAgICAgICAgICAgb2Zmc2V0UGVyRVBhZ2UgLz0gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbS5lcGFnZUNvdW50ID0gTWF0aC5jZWlsKHhtbGRvYy5nZXRUb3RhbE9mZnNldCgpIC8gb2Zmc2V0UGVyRVBhZ2UpO1xuICAgICAgICAgIGVwYWdlICs9IGl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgICAgICB0aGlzLmVwYWdlQ291bnQgPSBlcGFnZTtcbiAgICAgICAgICBpZiAodGhpcy5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMuZXBhZ2VDb3VudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmFrZSBPUEYgXCJkb2N1bWVudFwiIHRoYXQgY29udGFpbnMgT1BTIGNoYXB0ZXJzLlxuICAgKi9cbiAgaW5pdFdpdGhDaGFwdGVycyhwYXJhbXM6IE9QRkl0ZW1QYXJhbVtdLCBkb2M/OiBEb2N1bWVudCB8IG51bGwpIHtcbiAgICB0aGlzLml0ZW1NYXAgPSB7fTtcbiAgICB0aGlzLml0ZW1NYXBCeVBhdGggPSB7fTtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy5zcGluZSA9IHRoaXMuaXRlbXM7XG5cbiAgICAvLyBjcmVhdGUgYSBtaW5pbXVtIGZha2UgT1BGIFhNTCBmb3IgbmF2aWdhdGlvbiB3aXRoIEVQVUIgQ0ZJXG4gICAgY29uc3Qgb3BmWE1MID0gKHRoaXMub3BmWE1MID0gbmV3IFhtbERvYy5YTUxEb2NIb2xkZXIoXG4gICAgICBudWxsLFxuICAgICAgXCJcIixcbiAgICAgIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXCI8c3BpbmU+PC9zcGluZT5cIiwgXCJ0ZXh0L3htbFwiKSxcbiAgICApKTtcbiAgICBwYXJhbXMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgT1BGSXRlbSgpO1xuICAgICAgaXRlbS5pbml0V2l0aFBhcmFtKHBhcmFtKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGl0ZW0uaWQpO1xuICAgICAgY29uc3QgaXRlbXJlZiA9IG9wZlhNTC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaXRlbXJlZlwiKTtcbiAgICAgIGl0ZW1yZWYuc2V0QXR0cmlidXRlKFwiaWRyZWZcIiwgaXRlbS5pZCk7XG4gICAgICBvcGZYTUwucm9vdC5hcHBlbmRDaGlsZChpdGVtcmVmKTtcbiAgICAgIGl0ZW0uaXRlbVJlZkVsZW1lbnQgPSBpdGVtcmVmO1xuICAgICAgdGhpcy5pdGVtTWFwW2l0ZW0uaWRdID0gaXRlbTtcbiAgICAgIGxldCBwYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTChwYXJhbS51cmwpO1xuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICBwYXRoID0gcGFyYW0udXJsO1xuICAgICAgfVxuICAgICAgdGhpcy5pdGVtTWFwQnlQYXRoW3BhdGhdID0gaXRlbTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgICBpZiAoZG9jKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZS5hZGREb2N1bWVudChwYXJhbXNbMF0udXJsLCBkb2MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChcbiAgICBtYW5pZmVzdE9iajogQmFzZS5KU09OLFxuICAgIGRvYz86IERvY3VtZW50LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKG1hbmlmZXN0T2JqW1wicmVhZGluZ1Byb2dyZXNzaW9uXCJdKSB7XG4gICAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IG1hbmlmZXN0T2JqW1wicmVhZGluZ1Byb2dyZXNzaW9uXCJdO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXRhZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm1ldGFkYXRhID0ge307XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID1cbiAgICAgIChkb2MgJiYgZG9jLnRpdGxlKSB8fFxuICAgICAgbWFuaWZlc3RPYmpbXCJuYW1lXCJdIHx8XG4gICAgICAobWFuaWZlc3RPYmpbXCJtZXRhZGF0YVwiXSAmJiBtYW5pZmVzdE9ialtcIm1ldGFkYXRhXCJdW1widGl0bGVcIl0pO1xuICAgIGlmICh0aXRsZSkge1xuICAgICAgdGhpcy5tZXRhZGF0YVttZXRhVGVybXMudGl0bGVdID0gW3sgdjogdGl0bGUgfV07XG4gICAgfVxuICAgIC8vIFRPRE86IG90aGVyIG1ldGFkYXRhLi4uXG5cbiAgICBjb25zdCBwcmltYXJ5RW50cnlQYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTCh0aGlzLnB1YlVSTCk7XG4gICAgaWYgKCFtYW5pZmVzdE9ialtcInJlYWRpbmdPcmRlclwiXSAmJiBkb2MgJiYgcHJpbWFyeUVudHJ5UGF0aCAhPT0gbnVsbCkge1xuICAgICAgbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0gPSBbZW5jb2RlVVJJKHByaW1hcnlFbnRyeVBhdGgpXTtcblxuICAgICAgLy8gRmluZCBUT0MgaW4gdGhlIHByaW1hcnkgZW50cnkgKFgpSFRNTFxuICAgICAgY29uc3Qgc2VsZWN0b3IgPVxuICAgICAgICBcIltyb2xlPWRvYy10b2NdIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIltyb2xlPWRpcmVjdG9yeV0gYVtocmVmXSxcIiArXG4gICAgICAgIFwibmF2IGxpIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIi50b2MgYVtocmVmXSxcIiArXG4gICAgICAgIFwiI3RvYyBhW2hyZWZdXCI7XG4gICAgICBBcnJheS5mcm9tKGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZm9yRWFjaCgoYW5jaG9yRWxlbSkgPT4ge1xuICAgICAgICBjb25zdCBocmVmTm9GcmFnbWVudCA9IEJhc2Uuc3RyaXBGcmFnbWVudChcbiAgICAgICAgICBCYXNlLnJlc29sdmVVUkwoYW5jaG9yRWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB0aGlzLnB1YlVSTCksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGhGcm9tVVJMKGhyZWZOb0ZyYWdtZW50KTtcbiAgICAgICAgY29uc3QgdXJsID0gcGF0aCAhPT0gbnVsbCA/IGVuY29kZVVSSShwYXRoKSA6IGhyZWZOb0ZyYWdtZW50O1xuICAgICAgICBpZiAobWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0uaW5kZXhPZih1cmwpID09IC0xKSB7XG4gICAgICAgICAgbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0ucHVzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgaXRlbUNvdW50ID0gMDtcbiAgICBsZXQgdG9jRm91bmQgPSAtMTtcbiAgICBbbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0sIG1hbmlmZXN0T2JqW1wicmVzb3VyY2VzXCJdXS5mb3JFYWNoKFxuICAgICAgKHJlYWRpbmdPcmRlck9yUmVzb3VyY2VzKSA9PiB7XG4gICAgICAgIGlmIChyZWFkaW5nT3JkZXJPclJlc291cmNlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgcmVhZGluZ09yZGVyT3JSZXNvdXJjZXMuZm9yRWFjaCgoaXRlbU9iaikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNJblJlYWRpbmdPcmRlciA9IG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBpdGVtT2JqLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9XG4gICAgICAgICAgICAgIHR5cGVvZiBpdGVtT2JqID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBpdGVtT2JqXG4gICAgICAgICAgICAgICAgOiBpdGVtT2JqLnVybCB8fCBpdGVtT2JqLmhyZWY7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZ0Zvcm1hdCA9XG4gICAgICAgICAgICAgIHR5cGVvZiBpdGVtT2JqID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgOiBpdGVtT2JqLmVuY29kaW5nRm9ybWF0IHx8XG4gICAgICAgICAgICAgICAgICAoaXRlbU9iai5ocmVmICYmIGl0ZW1PYmoudHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgIFwiXCI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlzSW5SZWFkaW5nT3JkZXIgfHxcbiAgICAgICAgICAgICAgZW5jb2RpbmdGb3JtYXQgPT09IFwidGV4dC9odG1sXCIgfHxcbiAgICAgICAgICAgICAgZW5jb2RpbmdGb3JtYXQgPT09IFwiYXBwbGljYXRpb24veGh0bWwreG1sXCIgfHxcbiAgICAgICAgICAgICAgLyhefFxcLykoW14vXStcXC4oeD9odG1sfGh0bXx4aHQpfFteLy5dKikoWyM/XXwkKS8udGVzdCh1cmwpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCB0aGlzLnB1YlVSTCksXG4gICAgICAgICAgICAgICAgaW5kZXg6IGl0ZW1Db3VudCsrLFxuICAgICAgICAgICAgICAgIHN0YXJ0UGFnZTogbnVsbCxcbiAgICAgICAgICAgICAgICBza2lwUGFnZXNCZWZvcmU6IG51bGwsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChpdGVtT2JqLnJlbCA9PT0gXCJjb250ZW50c1wiICYmIHRvY0ZvdW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRvY0ZvdW5kID0gcGFyYW0uaW5kZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyYW0pO1xuXG4gICAgICAgICAgICAgIC8vVE9ETzogaXRlbXMgbm90IGluIHJlYWRpbmdPcmRlciBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBsaW5lYXIgcmVhZGluZyBidXQgYXZhaWxhYmxlIHdpdGggaW50ZXJuYWwgbGluayBuYXZpZ2F0aW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdFwiKTtcbiAgICB0aGlzLmluaXRXaXRoQ2hhcHRlcnMocGFyYW1zKS50aGVuKCgpID0+IHtcbiAgICAgIGlmICh0b2NGb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy54aHRtbFRvYyA9IHRoaXMuaXRlbXNbdG9jRm91bmRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMueGh0bWxUb2MpIHtcbiAgICAgICAgdGhpcy54aHRtbFRvYyA9IHRoaXMuaXRlbU1hcEJ5UGF0aFtwcmltYXJ5RW50cnlQYXRoXTtcbiAgICAgIH1cblxuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGNmaVxuICAgKi9cbiAgZ2V0Q0ZJKHNwaW5lSW5kZXg6IG51bWJlciwgb2Zmc2V0SW5JdGVtOiBudW1iZXIpOiBUYXNrLlJlc3VsdDxzdHJpbmcgfCBudWxsPiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVbc3BpbmVJbmRleF07XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8c3RyaW5nIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0Q0ZJXCIpO1xuICAgIHRoaXMuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0geG1sZG9jLmdldE5vZGVCeU9mZnNldChvZmZzZXRJbkl0ZW0pO1xuICAgICAgbGV0IGNmaTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHhtbGRvYy5nZXROb2RlT2Zmc2V0KG5vZGUsIDAsIGZhbHNlKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0SW5Ob2RlID0gb2Zmc2V0SW5JdGVtIC0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IENGSS5GcmFnbWVudCgpO1xuICAgICAgICBmcmFnbWVudC5wcmVwZW5kUGF0aEZyb21Ob2RlKG5vZGUsIG9mZnNldEluTm9kZSwgZmFsc2UsIG51bGwpO1xuICAgICAgICBpZiAoaXRlbS5pdGVtUmVmRWxlbWVudCkge1xuICAgICAgICAgIGZyYWdtZW50LnByZXBlbmRQYXRoRnJvbU5vZGUoaXRlbS5pdGVtUmVmRWxlbWVudCwgMCwgZmFsc2UsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNmaSA9IGZyYWdtZW50LnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2goY2ZpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICByZXNvbHZlRnJhZ21lbnQoZnJhZ3N0cjogc3RyaW5nIHwgbnVsbCk6IFRhc2suUmVzdWx0PFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICAgIFwicmVzb2x2ZUZyYWdtZW50XCIsXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIWZyYWdzdHIpIHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmcmFnbWVudCA9IG5ldyBDRkkuRnJhZ21lbnQoKTtcbiAgICAgICAgZnJhZ21lbnQuZnJvbVN0cmluZyhmcmFnc3RyKTtcbiAgICAgICAgbGV0IGl0ZW06IE9QRkl0ZW07XG4gICAgICAgIGlmIChzZWxmLm9wZlhNTCkge1xuICAgICAgICAgIGNvbnN0IG9wZk5hdiA9IGZyYWdtZW50Lm5hdmlnYXRlKHNlbGYub3BmWE1MLmRvY3VtZW50KTtcbiAgICAgICAgICBpZiAob3BmTmF2Lm5vZGUubm9kZVR5cGUgIT0gMSB8fCBvcGZOYXYuYWZ0ZXIgfHwgIW9wZk5hdi5yZWYpIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZWxlbSA9IG9wZk5hdi5ub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgaWRyZWYgPSBlbGVtLmdldEF0dHJpYnV0ZShcImlkcmVmXCIpO1xuICAgICAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSAhPSBcIml0ZW1yZWZcIiB8fCAhaWRyZWYgfHwgIXNlbGYuaXRlbU1hcFtpZHJlZl0pIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbSA9IHNlbGYuaXRlbU1hcFtpZHJlZl07XG4gICAgICAgICAgZnJhZ21lbnQgPSBvcGZOYXYucmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0gPSBzZWxmLnNwaW5lWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9kZU5hdiA9IGZyYWdtZW50Lm5hdmlnYXRlKHhtbGRvYy5kb2N1bWVudCk7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0geG1sZG9jLmdldE5vZGVPZmZzZXQoXG4gICAgICAgICAgICBub2RlTmF2Lm5vZGUsXG4gICAgICAgICAgICBub2RlTmF2Lm9mZnNldCxcbiAgICAgICAgICAgIG5vZGVOYXYuYWZ0ZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goe1xuICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgb2Zmc2V0SW5JdGVtOiBvZmZzZXQsXG4gICAgICAgICAgICBwYWdlSW5kZXg6IC0xLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPiwgZXJyOiBFcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJDYW5ub3QgcmVzb2x2ZSBmcmFnbWVudDpcIiwgZnJhZ3N0cik7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlc29sdmVFUGFnZShlcGFnZTogbnVtYmVyKTogVGFzay5SZXN1bHQ8UG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIFRhc2suaGFuZGxlKFxuICAgICAgXCJyZXNvbHZlRVBhZ2VcIixcbiAgICAgIChmcmFtZTogVGFzay5GcmFtZTxQb3NpdGlvbiB8IG51bGw+KTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChlcGFnZSA8PSAwKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHsgc3BpbmVJbmRleDogMCwgb2Zmc2V0SW5JdGVtOiAwLCBwYWdlSW5kZXg6IC0xIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICAgICAgbGV0IHNwaW5lSW5kZXggPSBzZWxmLnNwaW5lLmZpbmRJbmRleCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGl0ZW0uZXBhZ2UgPT0gMCAmJiBpdGVtLmVwYWdlQ291bnQgPT0gMCkgfHxcbiAgICAgICAgICAgICAgKGl0ZW0uZXBhZ2UgPD0gZXBhZ2UgJiYgaXRlbS5lcGFnZSArIGl0ZW0uZXBhZ2VDb3VudCA+IGVwYWdlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoc3BpbmVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgc3BpbmVJbmRleCA9IHNlbGYuc3BpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGl0ZW0gPSBzZWxmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgICAgICAgIGlmICghaXRlbSB8fCBpdGVtLmVwYWdlQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgaXRlbSA9IHNlbGYuc3BpbmVbLS1zcGluZUluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gTWF0aC5mbG9vcihlcGFnZSAtIGl0ZW0uZXBhZ2UpO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXgsIG9mZnNldEluSXRlbTogLTEsIHBhZ2VJbmRleDogcGFnZUluZGV4IH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BpbmVJbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKHNlbGYuc3BpbmUubGVuZ3RoLCAoaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5zcGluZVtpbmRleF07XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uZXBhZ2UgKyBpdGVtLmVwYWdlQ291bnQgPiBlcGFnZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzcGluZUluZGV4ID09IHNlbGYuc3BpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgc3BpbmVJbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgICAgICBzZWxmLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICAgIGVwYWdlIC09IGl0ZW0uZXBhZ2U7XG4gICAgICAgICAgaWYgKGVwYWdlID4gaXRlbS5lcGFnZUNvdW50KSB7XG4gICAgICAgICAgICBlcGFnZSA9IGl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgaWYgKGVwYWdlID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdG90YWxPZmZzZXQgPSB4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKTtcbiAgICAgICAgICAgIG9mZnNldCA9IE1hdGgucm91bmQoKHRvdGFsT2Zmc2V0ICogZXBhZ2UpIC8gaXRlbS5lcGFnZUNvdW50KTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gdG90YWxPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXgsIG9mZnNldEluSXRlbTogb2Zmc2V0LCBwYWdlSW5kZXg6IC0xIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPiwgZXJyOiBFcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJDYW5ub3QgcmVzb2x2ZSBlcGFnZTpcIiwgZXBhZ2UpO1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBnZXRFUGFnZUZyb21Qb3NpdGlvbihwb3NpdGlvbjogUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxudW1iZXI+IHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZVtwb3NpdGlvbi5zcGluZUluZGV4XTtcbiAgICBpZiAodGhpcy5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBjb25zdCBlcGFnZSA9IGl0ZW0uZXBhZ2UgKyBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZXBhZ2UpO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24ub2Zmc2V0SW5JdGVtIDw9IDApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChpdGVtLmVwYWdlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8bnVtYmVyPiA9IFRhc2submV3RnJhbWUoXCJnZXRFUGFnZVwiKTtcbiAgICB0aGlzLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgY29uc3QgdG90YWxPZmZzZXQgPSB4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWluKHRvdGFsT2Zmc2V0LCBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0pO1xuICAgICAgZnJhbWUuZmluaXNoKGl0ZW0uZXBhZ2UgKyAob2Zmc2V0ICogaXRlbS5lcGFnZUNvdW50KSAvIHRvdGFsT2Zmc2V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUFuZFBvc2l0aW9uID0ge1xuICBwYWdlOiBWdHJlZS5QYWdlO1xuICBwb3NpdGlvbjogUG9zaXRpb247XG59O1xuXG5leHBvcnQgY29uc3QgbWFrZVBhZ2VBbmRQb3NpdGlvbiA9IChcbiAgcGFnZTogVnRyZWUuUGFnZSxcbiAgcGFnZUluZGV4OiBudW1iZXIsXG4pOiBQYWdlQW5kUG9zaXRpb24gPT4gKHtcbiAgcGFnZSxcbiAgcG9zaXRpb246IHtcbiAgICBzcGluZUluZGV4OiBwYWdlLnNwaW5lSW5kZXgsXG4gICAgcGFnZUluZGV4LFxuICAgIG9mZnNldEluSXRlbTogcGFnZS5vZmZzZXQsXG4gIH0sXG59KTtcblxuZXhwb3J0IHR5cGUgT1BGVmlld0l0ZW0gPSB7XG4gIGl0ZW06IE9QRkl0ZW07XG4gIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcjtcbiAgaW5zdGFuY2U6IE9QUy5TdHlsZUluc3RhbmNlO1xuICBsYXlvdXRQb3NpdGlvbnM6IFZ0cmVlLkxheW91dFBvc2l0aW9uW107XG4gIHBhZ2VzOiBWdHJlZS5QYWdlW107XG4gIGNvbXBsZXRlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNsYXNzIE9QRlZpZXcgaW1wbGVtZW50cyBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSB7XG4gIHNwaW5lSXRlbXM6IE9QRlZpZXdJdGVtW10gPSBbXTtcbiAgc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnM6IFRhc2suQ29udGludWF0aW9uPGFueT5bXVtdID0gW107XG4gIHByZWY6IEV4cHJzLlByZWZlcmVuY2VzO1xuICBjbGllbnRMYXlvdXQ6IFZnZW4uRGVmYXVsdENsaWVudExheW91dDtcbiAgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmU7XG4gIHRvY0F1dG9oaWRlOiBib29sZWFuID0gZmFsc2U7XG4gIHRvY1ZpZXc/OiBUb2MuVE9DVmlldztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BmOiBPUEZEb2MsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVNoZWV0U2l6ZVJlcG9ydGVyOiAoXG4gICAgICBwMTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9LFxuICAgICAgcDI6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0sXG4gICAgICBwMzogbnVtYmVyLFxuICAgICAgcDQ6IG51bWJlcixcbiAgICApID0+IGFueSxcbiAgKSB7XG4gICAgdGhpcy5wcmVmID0gRXhwcnMuY2xvbmVQcmVmZXJlbmNlcyhwcmVmKTtcbiAgICB0aGlzLmNsaWVudExheW91dCA9IG5ldyBWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQodmlld3BvcnQpO1xuICAgIHRoaXMuY291bnRlclN0b3JlID0gbmV3IENvdW50ZXJzLkNvdW50ZXJTdG9yZShvcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcik7XG4gIH1cblxuICBwcml2YXRlIGdldFBhZ2UocG9zaXRpb246IFBvc2l0aW9uKTogVnRyZWUuUGFnZSB7XG4gICAgY29uc3Qgdmlld0l0ZW0gPSB0aGlzLnNwaW5lSXRlbXNbcG9zaXRpb24uc3BpbmVJbmRleF07XG4gICAgcmV0dXJuIHZpZXdJdGVtID8gdmlld0l0ZW0ucGFnZXNbcG9zaXRpb24ucGFnZUluZGV4XSA6IG51bGw7XG4gIH1cblxuICBnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwge1xuICAgIGlmICh0aGlzLm9wZi5wYWdlUHJvZ3Jlc3Npb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm9wZi5wYWdlUHJvZ3Jlc3Npb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy5zcGluZUl0ZW1zW3Bvc2l0aW9uID8gcG9zaXRpb24uc3BpbmVJbmRleCA6IDBdO1xuICAgICAgcmV0dXJuIHZpZXdJdGVtID8gdmlld0l0ZW0uaW5zdGFuY2UucGFnZVByb2dyZXNzaW9uIDogbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmlzaFBhZ2VDb250YWluZXIoXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgcGFnZUluZGV4OiBudW1iZXIsXG4gICkge1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLnRvcCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubGVmdCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2Utc2lkZVwiLFxuICAgICAgcGFnZS5zaWRlIGFzIHN0cmluZyxcbiAgICApO1xuICAgIGNvbnN0IG9sZFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgIHBhZ2UuaXNGaXJzdFBhZ2UgPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggPT0gMCAmJiBwYWdlSW5kZXggPT0gMDtcbiAgICB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdID0gcGFnZTtcblxuICAgIGlmICh0aGlzLm9wZi5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBpZiAocGFnZUluZGV4ID09IDAgJiYgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID4gMCkge1xuICAgICAgICBjb25zdCBwcmV2SXRlbSA9IHRoaXMub3BmLnNwaW5lW3ZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCAtIDFdO1xuICAgICAgICB2aWV3SXRlbS5pdGVtLmVwYWdlID0gcHJldkl0ZW0uZXBhZ2UgKyBwcmV2SXRlbS5lcGFnZUNvdW50O1xuICAgICAgfVxuICAgICAgdmlld0l0ZW0uaXRlbS5lcGFnZUNvdW50ID0gdmlld0l0ZW0ucGFnZXMubGVuZ3RoO1xuICAgICAgdGhpcy5vcGYuZXBhZ2VDb3VudCA9IHRoaXMub3BmLnNwaW5lLnJlZHVjZShcbiAgICAgICAgKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIGl0ZW0uZXBhZ2VDb3VudCxcbiAgICAgICAgMCxcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLm9wZi5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5vcGYuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMub3BmLmVwYWdlQ291bnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvbGRQYWdlKSB7XG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS52aWV3cG9ydC5jb250ZW50Q29udGFpbmVyLnJlcGxhY2VDaGlsZChcbiAgICAgICAgcGFnZS5jb250YWluZXIsXG4gICAgICAgIG9sZFBhZ2UuY29udGFpbmVyLFxuICAgICAgKTtcbiAgICAgIG9sZFBhZ2UuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6IFwicmVwbGFjZWRcIixcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBudWxsLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogbnVsbCxcbiAgICAgICAgbmV3UGFnZTogcGFnZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIGluc2VydCBwb3NpdGlvbiBpbiBjb250ZW50Q29udGFpbmVyLlxuICAgICAgbGV0IGluc2VydFBvczogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKHBhZ2VJbmRleCA+IDApIHtcbiAgICAgICAgaW5zZXJ0UG9zID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4IC0gMV0uY29udGFpbmVyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGkgPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggKyAxO1xuICAgICAgICAgIGkgPCB0aGlzLnNwaW5lSXRlbXMubGVuZ3RoO1xuICAgICAgICAgIGkrK1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZUl0ZW1zW2ldO1xuICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0ucGFnZXNbMF0pIHtcbiAgICAgICAgICAgIGluc2VydFBvcyA9IGl0ZW0ucGFnZXNbMF0uY29udGFpbmVyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS52aWV3cG9ydC5jb250ZW50Q29udGFpbmVyLmluc2VydEJlZm9yZShcbiAgICAgICAgcGFnZS5jb250YWluZXIsXG4gICAgICAgIGluc2VydFBvcyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucGFnZVNoZWV0U2l6ZVJlcG9ydGVyKFxuICAgICAge1xuICAgICAgICB3aWR0aDogdmlld0l0ZW0uaW5zdGFuY2UucGFnZVNoZWV0V2lkdGgsXG4gICAgICAgIGhlaWdodDogdmlld0l0ZW0uaW5zdGFuY2UucGFnZVNoZWV0SGVpZ2h0LFxuICAgICAgfSxcbiAgICAgIHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldFNpemUsXG4gICAgICB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXgsXG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICsgcGFnZUluZGV4LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc2luZ2xlIHBhZ2UuIElmIHRoZSBuZXcgcGFnZSBjb250YWlucyBlbGVtZW50cyB3aXRoIGlkcyB0aGF0IGFyZVxuICAgKiByZWZlcmVuY2VkIGZyb20gb3RoZXIgcGFnZXMgYnkgJ3RhcmdldC1jb3VudGVyKCknLCB0aG9zZSBwYWdlcyBhcmUgcmVuZGVyZWRcbiAgICogdG9vIChjYWxsaW5nIGByZW5kZXJTaW5nbGVQYWdlYCByZWN1cnNpdmVseSkuXG4gICAqL1xuICBwcml2YXRlIHJlbmRlclNpbmdsZVBhZ2UoXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICAgIHBvczogVnRyZWUuTGF5b3V0UG9zaXRpb24sXG4gICk6IFRhc2suUmVzdWx0PFJlbmRlclNpbmdsZVBhZ2VSZXN1bHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxSZW5kZXJTaW5nbGVQYWdlUmVzdWx0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclNpbmdsZVBhZ2VcIixcbiAgICApO1xuICAgIGxldCBwYWdlID0gdGhpcy5tYWtlUGFnZSh2aWV3SXRlbSwgcG9zKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB2aWV3SXRlbS5pbnN0YW5jZS5sYXlvdXROZXh0UGFnZShwYWdlLCBwb3MpLnRoZW4oKHBvc1BhcmFtKSA9PiB7XG4gICAgICBwb3MgPSBwb3NQYXJhbSBhcyBWdHJlZS5MYXlvdXRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBvc1xuICAgICAgICA/IHBvcy5wYWdlIC0gMVxuICAgICAgICA6IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgc2VsZi5maW5pc2hQYWdlQ29udGFpbmVyKHZpZXdJdGVtLCBwYWdlLCBwYWdlSW5kZXgpO1xuICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZmluaXNoUGFnZShwYWdlLnNwaW5lSW5kZXgsIHBhZ2VJbmRleCk7XG5cbiAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGFnZSBicmVhayBjaGFuZ2UsIHdlIHNob3VsZCByZS1sYXlvdXQgdGhlIG5leHRcbiAgICAgIC8vIHBhZ2UgdG9vLlxuICAgICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGFueT4gPSBudWxsO1xuICAgICAgaWYgKHBvcykge1xuICAgICAgICBjb25zdCBwcmV2UG9zID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3Bvcy5wYWdlXTtcbiAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3Bvcy5wYWdlXSA9IHBvcztcbiAgICAgICAgaWYgKHByZXZQb3MgJiYgdmlld0l0ZW0ucGFnZXNbcG9zLnBhZ2VdKSB7XG4gICAgICAgICAgaWYgKCFwb3MuaXNTYW1lUG9zaXRpb24ocHJldlBvcykpIHtcbiAgICAgICAgICAgIGNvbnQgPSBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnQpIHtcbiAgICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgdW5yZXNvbHZlZFJlZnMgPSBzZWxmLmNvdW50ZXJTdG9yZS5nZXRVbnJlc29sdmVkUmVmc1RvUGFnZShwYWdlKTtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZnJhbWVcbiAgICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gdW5yZXNvbHZlZFJlZnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVmcyA9IHVucmVzb2x2ZWRSZWZzW2luZGV4IC0gMV07XG4gICAgICAgICAgICByZWZzLnJlZnMgPSByZWZzLnJlZnMuZmlsdGVyKChyZWYpID0+ICFyZWYuaXNSZXNvbHZlZCgpKTtcbiAgICAgICAgICAgIGlmIChyZWZzLnJlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocmVmcy5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wdXNoUGFnZUNvdW50ZXJzKHJlZnMucGFnZUNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnMucmVmcyk7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1tyZWZzLnBhZ2VJbmRleF07XG4gICAgICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wb3BQYWdlQ291bnRlcnMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wb3BSZWZlcmVuY2VzVG9Tb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdFBvc2l0aW9uID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICByZXN1bHRQb3NpdGlvbi5zcGluZUluZGV4ID09PSBwYWdlLnNwaW5lSW5kZXggJiZcbiAgICAgICAgICAgICAgICAgIHJlc3VsdFBvc2l0aW9uLnBhZ2VJbmRleCA9PT0gcGFnZUluZGV4XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBwYWdlID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhZ2UuY29udGFpbmVyLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgLy8gcGFnZSBpcyByZXBsYWNlZFxuICAgICAgICAgICAgICBwYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2UuaXNMYXN0UGFnZSA9XG4gICAgICAgICAgICAgICFwb3MgJiYgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID09PSBzZWxmLm9wZi5zcGluZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKHBhZ2UuaXNMYXN0UGFnZSkge1xuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChzZWxmLnZpZXdwb3J0KTtcbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZmluaXNoTGFzdFBhZ2Uoc2VsZi52aWV3cG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goe1xuICAgICAgICAgICAgICBwYWdlQW5kUG9zaXRpb246IG1ha2VQYWdlQW5kUG9zaXRpb24ocGFnZSwgcGFnZUluZGV4KSxcbiAgICAgICAgICAgICAgbmV4dExheW91dFBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplU2Vla1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICB2aWV3SXRlbTogT1BGVmlld0l0ZW0sXG4gICk6IFBvc2l0aW9uIHwgbnVsbCB7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBsZXQgc2Vla09mZnNldCA9IC0xO1xuICAgIGlmIChwYWdlSW5kZXggPCAwKSB7XG4gICAgICBzZWVrT2Zmc2V0ID0gcG9zaXRpb24ub2Zmc2V0SW5JdGVtO1xuXG4gICAgICAvLyBwYWdlIHdpdGggb2Zmc2V0IGhpZ2hlciB0aGFuIHNlZWtPZmZzZXRcbiAgICAgIGNvbnN0IHNlZWtPZmZzZXRQYWdlSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCxcbiAgICAgICAgKHBhZ2VJbmRleCkgPT4ge1xuICAgICAgICAgIC8vICdub0xvb2tBaGVhZCcgYXJndW1lbnQgb2YgZ2V0UG9zaXRpb24gbXVzdCBiZSB0cnVlLCBzaW5jZVxuICAgICAgICAgIC8vIG90aGVyd2lzZSBTdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiBpcyBtb2RpZmllZFxuICAgICAgICAgIC8vIHVuaW50ZW50aW9uYWxseS5cbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2aWV3SXRlbS5pbnN0YW5jZS5nZXRQb3NpdGlvbihcbiAgICAgICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twYWdlSW5kZXhdLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBvZmZzZXQgPiBzZWVrT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmIChzZWVrT2Zmc2V0UGFnZUluZGV4ID09PSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5lZWQgdG8gc2VhcmNoIHRocm91Z2ggcGFnZXMgdGhhdCBhcmUgbm90IHlldCBwcm9kdWNlZFxuICAgICAgICAgIHBhZ2VJbmRleCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcGFnZSB0aGF0IGNvbnRhaW5zIHNlZWtPZmZzZXRcbiAgICAgICAgcGFnZUluZGV4ID0gc2Vla09mZnNldFBhZ2VJbmRleCAtIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHBhZ2VJbmRleCA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZICYmXG4gICAgICBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0gIT09IC0xXG4gICAgKSB7XG4gICAgICBzZWVrT2Zmc2V0ID0gcG9zaXRpb24ub2Zmc2V0SW5JdGVtO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3BpbmVJbmRleDogcG9zaXRpb24uc3BpbmVJbmRleCxcbiAgICAgIHBhZ2VJbmRleCxcbiAgICAgIG9mZnNldEluSXRlbTogc2Vla09mZnNldCxcbiAgICB9IGFzIFBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgYSBwYWdlIGNvcnJlc3BvbmRpbmcgdG8gYSBzcGVjaWZpZWQgcG9zaXRpb24gYW1vbmcgYWxyZWFkeSBsYWlkIG91dFxuICAgKiBwYWdlcy5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZmluZCB0aGUgcGFnZSBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICovXG4gIHByaXZhdGUgZmluZFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXCJmaW5kUGFnZVwiKTtcbiAgICBzZWxmLmdldFBhZ2VWaWV3SXRlbShwb3NpdGlvbi5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgICAgIGxldCBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBzZWxmLm5vcm1hbGl6ZVNlZWtQb3NpdGlvbihcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgdmlld0l0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYWdlSW5kZXggPSBub3JtYWxpemVkUG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgICAgIHJlc3VsdFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN5bmMpIHtcbiAgICAgICAgICAgIHNlbGYucmVuZGVyUGFnZShub3JtYWxpemVkUG9zaXRpb24pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UGFnZSA9IHJlc3VsdC5wYWdlO1xuICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IHJlc3VsdC5wb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBsYXlvdXQgdGFzayBhbmQgcmV0cnlcbiAgICAgICAgICAgIGZyYW1lLnNsZWVwKDEwMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KHJlc3VsdFBhZ2UpO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChtYWtlUGFnZUFuZFBvc2l0aW9uKHJlc3VsdFBhZ2UsIHBhZ2VJbmRleCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyBhIHBhZ2UgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAgICovXG4gIHJlbmRlclBhZ2UocG9zaXRpb246IFBvc2l0aW9uKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwicmVuZGVyUGFnZVwiLFxuICAgICk7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocG9zaXRpb24uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBzZWxmLm5vcm1hbGl6ZVNlZWtQb3NpdGlvbihwb3NpdGlvbiwgdmlld0l0ZW0pO1xuICAgICAgbGV0IHBhZ2VJbmRleCA9IG5vcm1hbGl6ZWRQb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICBjb25zdCBzZWVrT2Zmc2V0ID0gbm9ybWFsaXplZFBvc2l0aW9uLm9mZnNldEluSXRlbTtcbiAgICAgIGxldCByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChtYWtlUGFnZUFuZFBvc2l0aW9uKHJlc3VsdFBhZ2UsIHBhZ2VJbmRleCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKHBhZ2VJbmRleCA8IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZpZXdJdGVtLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBwYWdlSW5kZXggPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHBvcyA9XG4gICAgICAgICAgICB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSByZXN1bHQucGFnZUFuZFBvc2l0aW9uLnBhZ2U7XG4gICAgICAgICAgICBwb3MgPSByZXN1bHQubmV4dExheW91dFBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICBpZiAoc2Vla09mZnNldCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoaW5nIGZvciBvZmZzZXQsIGRvbid0IGtub3cgdGhlIHBhZ2UgbnVtYmVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHZpZXdJdGVtLmluc3RhbmNlLmdldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+IHNlZWtPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICBwYWdlSW5kZXggPSByZXN1bHQucGFnZUFuZFBvc2l0aW9uLnBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICAgICAgICAgICAgdmlld0l0ZW0uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXN1bHRQYWdlID0gcmVzdWx0UGFnZSB8fCB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGNvbnN0IHBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5yZW5kZXJTaW5nbGVQYWdlKHZpZXdJdGVtLCBwb3MpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQubmV4dExheW91dFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHZpZXdJdGVtLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQucGFnZUFuZFBvc2l0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVuZGVyQWxsUGFnZXMoKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlclBhZ2VzVXB0byhcbiAgICAgIHtcbiAgICAgICAgc3BpbmVJbmRleDogdGhpcy5vcGYuc3BpbmUubGVuZ3RoIC0gMSxcbiAgICAgICAgcGFnZUluZGV4OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgIG9mZnNldEluSXRlbTogLTEsXG4gICAgICB9LFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgcGFnZXMgZnJvbSAoc3BpbmVJbmRleD0wLCBwYWdlSW5kZXg9MCkgdG8gdGhlIHNwZWNpZmllZCAoc3BpbmVJbmRleCxcbiAgICogcGFnZUluZGV4KS5cbiAgICogQHBhcmFtIG5vdEFsbFBhZ2VzIElmIHRydWUsIHJlbmRlciBmcm9tIGJpZ2lubmluZyBvZiBzcGVjaWZpZWQgc3BpbmUgaXRlbS5cbiAgICovXG4gIHJlbmRlclBhZ2VzVXB0byhcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgbm90QWxsUGFnZXM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclBhZ2VzVXB0b1wiLFxuICAgICk7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgcG9zaXRpb24gPSB7IHNwaW5lSW5kZXg6IDAsIHBhZ2VJbmRleDogMCwgb2Zmc2V0SW5JdGVtOiAwIH07XG4gICAgfVxuICAgIGNvbnN0IHNwaW5lSW5kZXggPSBwb3NpdGlvbi5zcGluZUluZGV4O1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBsZXQgcyA9IDA7XG5cbiAgICBpZiAobm90QWxsUGFnZXMpIHtcbiAgICAgIC8vIFJlbmRlciBwYWdlcyBmcm9tIGJpZ2lubmluZyBvZiBzcGVjaWZpZWQgc3BpbmUgaXRlbS5cbiAgICAgIHMgPSBzcGluZUluZGV4O1xuICAgIH1cblxuICAgIGxldCBsYXN0UmVzdWx0OiBQYWdlQW5kUG9zaXRpb247XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgcG9zID0ge1xuICAgICAgICAgIHNwaW5lSW5kZXg6IHMsXG4gICAgICAgICAgcGFnZUluZGV4OiBzID09PSBzcGluZUluZGV4ID8gcGFnZUluZGV4IDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgIG9mZnNldEluSXRlbTogcyA9PT0gc3BpbmVJbmRleCA/IHBvc2l0aW9uLm9mZnNldEluSXRlbSA6IC0xLFxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnJlbmRlclBhZ2UocG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGlmICgrK3MgPiBzcGluZUluZGV4KSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGxhc3RSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIGZpcnN0IHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIGZpcnN0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKFxuICAgICAgeyBzcGluZUluZGV4OiAwLCBwYWdlSW5kZXg6IDAsIG9mZnNldEluSXRlbTogLTEgfSxcbiAgICAgIHN5bmMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBsYXN0IHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIGxhc3RQYWdlKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhZ2UoXG4gICAgICB7XG4gICAgICAgIHNwaW5lSW5kZXg6IHRoaXMub3BmLnNwaW5lLmxlbmd0aCAtIDEsXG4gICAgICAgIHBhZ2VJbmRleDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgfSxcbiAgICAgIHN5bmMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBuZXh0IHBhZ2UgcG9zaXRpb24gYW5kIHJlbmRlciBwYWdlLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHBhZ2Ugc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqL1xuICBuZXh0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBsZXQgcGFnZUluZGV4ID0gcG9zaXRpb24ucGFnZUluZGV4O1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcIm5leHRQYWdlXCIpO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHNwaW5lSW5kZXgpLnRoZW4oKHZpZXdJdGVtKSA9PiB7XG4gICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB2aWV3SXRlbS5jb21wbGV0ZSAmJlxuICAgICAgICBwYWdlSW5kZXggPT0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDFcbiAgICAgICkge1xuICAgICAgICBpZiAoc3BpbmVJbmRleCA+PSBzZWxmLm9wZi5zcGluZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzcGluZUluZGV4Kys7XG4gICAgICAgIHBhZ2VJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gUmVtb3ZlIG5leHQgdmlld0l0ZW0gaWYgaXRzIGZpcnN0IHBhZ2UgaGFzIHNhbWUgc2lkZSBhcyB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgIC8vIHRvIGF2b2lkIHVucGFpcmVkIHBhZ2UuXG4gICAgICAgIGNvbnN0IG5leHRWaWV3SXRlbSA9IHRoaXMuc3BpbmVJdGVtc1tzcGluZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBuZXh0Vmlld0l0ZW0gJiYgbmV4dFZpZXdJdGVtLnBhZ2VzWzBdO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3ZpZXdJdGVtLnBhZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobmV4dFBhZ2UgJiYgY3VycmVudFBhZ2UgJiYgbmV4dFBhZ2Uuc2lkZSA9PSBjdXJyZW50UGFnZS5zaWRlKSB7XG4gICAgICAgICAgbmV4dFZpZXdJdGVtLnBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlLmNvbnRhaW5lcikgcGFnZS5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdID0gbnVsbDtcbiAgICAgICAgICB0aGlzLnNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zW3NwaW5lSW5kZXhdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUluZGV4Kys7XG4gICAgICB9XG4gICAgICBzZWxmXG4gICAgICAgIC5maW5kUGFnZSh7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCwgb2Zmc2V0SW5JdGVtOiAtMSB9LCBzeW5jKVxuICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIHByZXZpb3VzIHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIHByZXZpb3VzUGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGxldCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBsZXQgcGFnZUluZGV4ID0gcG9zaXRpb24ucGFnZUluZGV4O1xuICAgIGlmIChwYWdlSW5kZXggPT0gMCkge1xuICAgICAgaWYgKHNwaW5lSW5kZXggPT0gMCkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHNwaW5lSW5kZXgtLTtcbiAgICAgIHBhZ2VJbmRleCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZUluZGV4LS07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKHsgc3BpbmVJbmRleCwgcGFnZUluZGV4LCBvZmZzZXRJbkl0ZW06IC0xIH0sIHN5bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBwYWdlIFRoaXMgcGFnZSBzaG91bGQgYmUgYSBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2UuXG4gICAqL1xuICBwcml2YXRlIGlzUmVjdG9QYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UsIHBvc2l0aW9uOiBQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlzTGVmdCA9IHBhZ2Uuc2lkZSA9PT0gQ29uc3RhbnRzLlBhZ2VTaWRlLkxFRlQ7XG4gICAgY29uc3QgaXNMVFIgPVxuICAgICAgdGhpcy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKHBvc2l0aW9uKSA9PT1cbiAgICAgIENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uTFRSO1xuICAgIHJldHVybiAoIWlzTGVmdCAmJiBpc0xUUikgfHwgKGlzTGVmdCAmJiAhaXNMVFIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNwcmVhZCBjb250YWluaW5nIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2UuXG4gICAqIEBwYXJhbSBzeW5jIElmIHRydWUsIGdldCB0aGUgc3ByZWFkIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nIGFub3RoZXJcbiAgICogICAgIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgZ2V0U3ByZWFkKHBvc2l0aW9uOiBQb3NpdGlvbiwgc3luYzogYm9vbGVhbik6IFRhc2suUmVzdWx0PFZ0cmVlLlNwcmVhZD4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlNwcmVhZD4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0Q3VycmVudFNwcmVhZFwiKTtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcbiAgICBpZiAoIXBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChcbiAgICAgICAgLyoqIEB0eXBlIFZ0cmVlLlNwcmVhZCAqL1xuICAgICAgICB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH0gYXMgVnRyZWUuU3ByZWFkLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXNMZWZ0ID0gcGFnZS5zaWRlID09PSBDb25zdGFudHMuUGFnZVNpZGUuTEVGVDtcbiAgICBsZXQgb3RoZXI6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbj47XG4gICAgaWYgKHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pKSB7XG4gICAgICBvdGhlciA9IHRoaXMucHJldmlvdXNQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSB0aGlzLm5leHRQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICB9XG4gICAgb3RoZXIudGhlbigob3RoZXJQYWdlQW5kUG9zaXRpb24pID0+IHtcbiAgICAgIC8vIHRoaXMgcGFnZSBtYXkgYmUgcmVwbGFjZWQgZHVyaW5nIG5leHRQYWdlKCksIHNvIGdldCB0aGlzUGFnZSBhZ2Fpbi5cbiAgICAgIGNvbnN0IHRoaXNQYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcblxuICAgICAgbGV0IG90aGVyUGFnZSA9IG90aGVyUGFnZUFuZFBvc2l0aW9uICYmIG90aGVyUGFnZUFuZFBvc2l0aW9uLnBhZ2U7XG4gICAgICBpZiAob3RoZXJQYWdlICYmIG90aGVyUGFnZS5zaWRlID09PSB0aGlzUGFnZS5zaWRlKSB7XG4gICAgICAgIC8vIG90aGVyUGFnZSBtdXN0IG5vdCBiZSBzYW1lIHNpZGVcbiAgICAgICAgb3RoZXJQYWdlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTGVmdCkge1xuICAgICAgICBmcmFtZS5maW5pc2goeyBsZWZ0OiB0aGlzUGFnZSwgcmlnaHQ6IG90aGVyUGFnZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh7IGxlZnQ6IG90aGVyUGFnZSwgcmlnaHQ6IHRoaXNQYWdlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBuZXh0IHNwcmVhZCBhbmQgcmVuZGVyIHBhZ2VzLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHNwcmVhZCBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICogQHJldHVybnMgVGhlICd2ZXJzbycgcGFnZSBvZiB0aGUgbmV4dCBzcHJlYWQuXG4gICAqL1xuICBuZXh0U3ByZWFkKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWN0byA9IHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pO1xuICAgIGNvbnN0IG5leHQgPSB0aGlzLm5leHRQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICBpZiAoaXNSZWN0bykge1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIG5leHQudGhlbkFzeW5jKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQucGFnZS5zaWRlID09PSBwYWdlLnNpZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHNhbWUgc2lkZSwgdGhpcyBpcyB0aGUgbmV4dCBzcHJlYWQuXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV4dDIgPSBzZWxmLm5leHRQYWdlKHJlc3VsdC5wb3NpdGlvbiwgc3luYyk7XG4gICAgICAgICAgcmV0dXJuIG5leHQyLnRoZW5Bc3luYygocmVzdWx0MikgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdDIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGEgbGFzdCBzcHJlYWQsIG1vdmUgdG8gbmV4dCBwYWdlIGluIHRoZSBzYW1lIHNwcmVhZC5cbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwcmV2aW91cyBzcHJlYWQgYW5kIHJlbmRlciBwYWdlcy5cbiAgICogQHJldHVybnMgVGhlICdyZWN0bycgcGFnZSBvZiB0aGUgcHJldmlvdXMgc3ByZWFkLlxuICAgKi9cbiAgcHJldmlvdXNTcHJlYWQoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcbiAgICBpZiAoIXBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBpc1JlY3RvID0gdGhpcy5pc1JlY3RvUGFnZShwYWdlLCBwb3NpdGlvbik7XG4gICAgY29uc3QgcHJldiA9IHRoaXMucHJldmlvdXNQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICBjb25zdCBvbGRQcmV2UGFnZUNvbnQgPSBwYWdlLmNvbnRhaW5lci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGlmIChpc1JlY3RvKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBwcmV2LnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2Uuc2lkZSA9PT0gcGFnZS5zaWRlKSB7XG4gICAgICAgICAgICAvLyBJZiBzYW1lIHNpZGUsIHRoaXMgaXMgdGhlIHByZXZpb3VzIHNwcmVhZC5cbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2UuY29udGFpbmVyICE9PSBvbGRQcmV2UGFnZUNvbnQpIHtcbiAgICAgICAgICAgIC8vIElmIHByZXZpb3VzIHBhZ2UgaXMgY2hhbmdlZCwgcmV0dXJuIGl0LlxuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZWxmLnByZXZpb3VzUGFnZShyZXN1bHQucG9zaXRpb24sIHN5bmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByZXY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIGVwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gbnVtYmVyICh6ZXJvLWJhc2VkKSBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUb0VQYWdlKFxuICAgIGVwYWdlOiBudW1iZXIsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9FUGFnZVwiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcGYucmVzb2x2ZUVQYWdlKGVwYWdlKS50aGVuKChwb3NpdGlvbikgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHNlbGYuZmluZFBhZ2UocG9zaXRpb24sIHN5bmMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gQ0ZJIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBuYXZpZ2F0ZVRvRnJhZ21lbnQoXG4gICAgZnJhZ21lbnQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibmF2aWdhdGVUb0NGSVwiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5vcGYucmVzb2x2ZUZyYWdtZW50KGZyYWdtZW50KS50aGVuKChwb3NpdGlvbikgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHNlbGYuZmluZFBhZ2UocG9zaXRpb24sIHN5bmMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gVVJMIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBuYXZpZ2F0ZVRvKFxuICAgIGhyZWY6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFwiTmF2aWdhdGUgdG9cIiwgaHJlZik7XG4gICAgbGV0IHBhdGggPSB0aGlzLm9wZi5nZXRQYXRoRnJvbVVSTChCYXNlLnN0cmlwRnJhZ21lbnQoaHJlZikpO1xuICAgIGlmICghcGF0aCkge1xuICAgICAgaWYgKHRoaXMub3BmLm9wZlhNTCAmJiBocmVmLm1hdGNoKC9eI2VwdWJjZmlcXCgvKSkge1xuICAgICAgICAvLyBDRkkgZnJhZ21lbnQgaXMgXCJyZWxhdGl2ZVwiIHRvIE9QRi5cbiAgICAgICAgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHRoaXMub3BmLm9wZlhNTC51cmwpO1xuICAgICAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgY29uc3QgcmVzdG9yZWQgPSB0aGlzLm9wZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnJlc3RvcmVVUkwoaHJlZik7XG4gICAgICAgIGlmICh0aGlzLm9wZi5vcGZYTUwpIHtcbiAgICAgICAgICBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwocmVzdG9yZWRbMF0pO1xuICAgICAgICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgIHBhdGggPSByZXN0b3JlZFswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aCA9IHJlc3RvcmVkWzBdO1xuICAgICAgICB9XG4gICAgICAgIGhyZWYgPSByZXN0b3JlZFswXSArIChyZXN0b3JlZFsxXSA/IGAjJHtyZXN0b3JlZFsxXX1gIDogXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpdGVtID0gdGhpcy5vcGYuaXRlbU1hcEJ5UGF0aFtwYXRoXTtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcGYub3BmWE1MICYmXG4gICAgICAgIHBhdGggPT0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwodGhpcy5vcGYub3BmWE1MLnVybClcbiAgICAgICkge1xuICAgICAgICAvLyBDRkkgbGluaz9cbiAgICAgICAgY29uc3QgZnJhZ21lbnRJbmRleCA9IGhyZWYuaW5kZXhPZihcIiNcIik7XG4gICAgICAgIGlmIChmcmFnbWVudEluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5uYXZpZ2F0ZVRvRnJhZ21lbnQoXG4gICAgICAgICAgICBocmVmLnN1YnN0cihmcmFnbWVudEluZGV4ICsgMSksXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHN5bmMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibmF2aWdhdGVUb1wiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0oaXRlbS5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IHZpZXdJdGVtLnhtbGRvYy5nZXRFbGVtZW50KGhyZWYpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmZpbmRQYWdlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzcGluZUluZGV4OiBpdGVtLnNwaW5lSW5kZXgsXG4gICAgICAgICAgICAgIHBhZ2VJbmRleDogLTEsXG4gICAgICAgICAgICAgIG9mZnNldEluSXRlbTogdmlld0l0ZW0ueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGFyZ2V0KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW5jLFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLnNwaW5lSW5kZXggIT09IGl0ZW0uc3BpbmVJbmRleCkge1xuICAgICAgICAvLyBubyBmcmFnbWVudCwgZGlmZmVyZW50IHNwaW5lIGl0ZW1cbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5maW5kUGFnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgICBwYWdlSW5kZXg6IDAsXG4gICAgICAgICAgICAgIG9mZnNldEluSXRlbTogLTEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3luYyxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIG1ha2VQYWdlKHZpZXdJdGVtOiBPUEZWaWV3SXRlbSwgcG9zOiBWdHJlZS5MYXlvdXRQb3NpdGlvbik6IFZ0cmVlLlBhZ2Uge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQ7XG4gICAgY29uc3QgcGFnZUNvbnQgPSB2aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcGFnZS1jb250YWluZXJcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJyZWdpb25cIik7XG4gICAgcGFnZUNvbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIGlmICghQ29uc3RhbnRzLmlzRGVidWcpIHtcbiAgICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICB2aWV3cG9ydC5sYXlvdXRCb3guYXBwZW5kQ2hpbGQocGFnZUNvbnQpO1xuICAgIGNvbnN0IGJsZWVkQm94ID0gdmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBibGVlZEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWJsZWVkLWJveFwiLCBcInRydWVcIik7XG4gICAgcGFnZUNvbnQuYXBwZW5kQ2hpbGQoYmxlZWRCb3gpO1xuICAgIGNvbnN0IHBhZ2UgPSBuZXcgVnRyZWUuUGFnZShwYWdlQ29udCwgYmxlZWRCb3gpO1xuICAgIHBhZ2Uuc3BpbmVJbmRleCA9IHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleDtcbiAgICBwYWdlLnBvc2l0aW9uID0gcG9zO1xuICAgIHBhZ2Uub2Zmc2V0ID0gdmlld0l0ZW0uaW5zdGFuY2UuZ2V0UG9zaXRpb24ocG9zKTtcbiAgICBpZiAocGFnZS5vZmZzZXQgPT09IDApIHtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1GcmFnbWVudChcbiAgICAgICAgXCJcIixcbiAgICAgICAgdmlld0l0ZW0uaXRlbS5zcmMsXG4gICAgICApO1xuICAgICAgYmxlZWRCb3guc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICAgICAgcGFnZS5yZWdpc3RlckVsZW1lbnRXaXRoSWQoYmxlZWRCb3gsIGlkKTtcbiAgICB9XG4gICAgaWYgKHZpZXdwb3J0ICE9PSB0aGlzLnZpZXdwb3J0KSB7XG4gICAgICBjb25zdCBtYXRyaXggPSBFeHBycy5sZXR0ZXJib3goXG4gICAgICAgIHRoaXMudmlld3BvcnQud2lkdGgsXG4gICAgICAgIHRoaXMudmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNzc01hdHJpeCA9IENzc1BhcnNlci5wYXJzZVZhbHVlKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihtYXRyaXgsIG51bGwpLFxuICAgICAgICBcIlwiLFxuICAgICAgKTtcbiAgICAgIHBhZ2UuZGVsYXllZEl0ZW1zLnB1c2goXG4gICAgICAgIG5ldyBWdHJlZS5EZWxheWVkSXRlbShwYWdlQ29udCwgXCJ0cmFuc2Zvcm1cIiwgY3NzTWF0cml4KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwYWdlO1xuICB9XG5cbiAgbWFrZU9iamVjdFZpZXcoXG4gICAgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGxldCBkYXRhID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpO1xuICAgIGxldCByZXN1bHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgZGF0YSA9IEJhc2UucmVzb2x2ZVVSTChkYXRhLCB4bWxkb2MudXJsKTtcbiAgICAgIGxldCBtZWRpYVR5cGUgPSBzcmNFbGVtLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgICBpZiAoIW1lZGlhVHlwZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwoZGF0YSk7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMub3BmLml0ZW1NYXBCeVBhdGhbcGF0aF07XG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZSA9IGl0ZW0ubWVkaWFUeXBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhVHlwZSkge1xuICAgICAgICBjb25zdCBoYW5kbGVyU3JjID0gdGhpcy5vcGYuYmluZGluZ3NbbWVkaWFUeXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXJTcmMpIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgKHJlc3VsdCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgICAgY29uc3Qgc3JjUGFyYW0gPSBCYXNlLmxpZ2h0VVJMRW5jb2RlKGRhdGEpO1xuICAgICAgICAgIGNvbnN0IHR5cGVQYXJhbSA9IEJhc2UubGlnaHRVUkxFbmNvZGUobWVkaWFUeXBlKTtcbiAgICAgICAgICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgIHNiLmFwcGVuZChoYW5kbGVyU3JjKTtcbiAgICAgICAgICBzYi5hcHBlbmQoXCI/c3JjPVwiKTtcbiAgICAgICAgICBzYi5hcHBlbmQoc3JjUGFyYW0pO1xuICAgICAgICAgIHNiLmFwcGVuZChcIiZ0eXBlPVwiKTtcbiAgICAgICAgICBzYi5hcHBlbmQodHlwZVBhcmFtKTtcbiAgICAgICAgICBmb3IgKGxldCBjOiBOb2RlID0gc3JjRWxlbS5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICBjb25zdCBjZSA9IGMgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgaWYgKGNlLmxvY2FsTmFtZSA9PSBcInBhcmFtXCIgJiYgY2UubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbmFtZSA9IGNlLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcHZhbHVlID0gY2UuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBuYW1lICYmIHB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgc2IuYXBwZW5kKFwiJlwiKTtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChlbmNvZGVVUklDb21wb25lbnQocG5hbWUpKTtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChcIj1cIik7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoZW5jb2RlVVJJQ29tcG9uZW50KHB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNiLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnN0IHdpZHRoID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBpZiAod2lkdGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgICAgICAgIGlmIChoZWlnaHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMudmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIGNhc3QgYmVjYXVzZSB3ZSBuZWVkIHtFbGVtZW50fSwgbm90IHshRWxlbWVudH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzdWx0IGFzIEVsZW1lbnQpO1xuICB9XG5cbiAgbWFrZU1hdGhKYXhWaWV3KFxuICAgIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+IHtcbiAgICAvLyBTZWUgaWYgTWF0aEpheCBpbnN0YWxsZWQsIHVzZSBpdCBpZiBpdCBpcy5cbiAgICBjb25zdCBodWIgPSBnZXRNYXRoSmF4SHViKCk7XG4gICAgaWYgKGh1Yikge1xuICAgICAgY29uc3QgZG9jID0gdmlld1BhcmVudC5vd25lckRvY3VtZW50O1xuICAgICAgY29uc3Qgc3BhbiA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIHZpZXdQYXJlbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICBjb25zdCBjbG9uZWRNYXRoID0gZG9jLmltcG9ydE5vZGUoc3JjRWxlbSwgdHJ1ZSk7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwoY2xvbmVkTWF0aCwgeG1sZG9jKTtcbiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoY2xvbmVkTWF0aCk7XG4gICAgICBjb25zdCBxdWV1ZSA9IGh1YltcInF1ZXVlXCJdO1xuICAgICAgcXVldWVbXCJQdXNoXCJdKFtcIlR5cGVzZXRcIiwgaHViLCBzcGFuXSk7XG4gICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxFbGVtZW50PiA9IFRhc2submV3RnJhbWUoXCJtYWtlTWF0aEpheFZpZXdcIik7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKCk7XG4gICAgICBxdWV1ZVtcIlB1c2hcIl0oKCkgPT4ge1xuICAgICAgICBjb250aW51YXRpb24uc2NoZWR1bGUoc3Bhbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgRWxlbWVudCk7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVVUkxzSW5NYXRoTUwobm9kZTogTm9kZSwgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSB7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiAobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lID09PSBcIm1nbHlwaFwiKSB7XG4gICAgICBjb25zdCBhdHRycyA9IEFycmF5LmZyb20oKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcyk7XG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgYXR0cnMpIHtcbiAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gXCJzcmNcIikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IEJhc2UucmVzb2x2ZVVSTChhdHRyLm5vZGVWYWx1ZSwgeG1sZG9jLnVybCk7XG4gICAgICAgIGlmIChhdHRyLm5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgICAgICAgYXR0ci5uYW1lc3BhY2VVUkksXG4gICAgICAgICAgICBhdHRyLm5hbWUsXG4gICAgICAgICAgICBuZXdVcmwsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBuZXdVcmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMucmVzb2x2ZVVSTHNJbk1hdGhNTChub2RlLmZpcnN0Q2hpbGQsIHhtbGRvYyk7XG4gICAgfVxuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwobm9kZS5uZXh0U2libGluZywgeG1sZG9jKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPIG1vdmUgbWFrZVNTRVZpZXcgdG8gYSBtb3JlIGFwcHJvcHJpYXRlIGNsYXNzIChTU0UgWE1MIGNvbnRlbnQgaXMgbm90XG4gIC8vIGFsbG93ZWQgaW4gRVBVQilcbiAgLyoqXG4gICAqIEBwYXJhbSBjb21wdXRlZFN0eWxlXG4gICAqL1xuICBtYWtlU1NFVmlldyhcbiAgICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiB7XG4gICAgY29uc3QgZG9jID0gdmlld1BhcmVudCA/IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudCA6IHRoaXMudmlld3BvcnQuZG9jdW1lbnQ7XG4gICAgY29uc3Qgc3JjVGFnTmFtZSA9IHNyY0VsZW0ubG9jYWxOYW1lO1xuICAgIGxldCB0YWdOYW1lOiBzdHJpbmc7XG4gICAgc3dpdGNoIChzcmNUYWdOYW1lKSB7XG4gICAgICBjYXNlIFwidFwiOlxuICAgICAgY2FzZSBcInRhYlwiOlxuICAgICAgY2FzZSBcImVjXCI6XG4gICAgICBjYXNlIFwibnRcIjpcbiAgICAgIGNhc2UgXCJmcmFjdGlvblwiOlxuICAgICAgY2FzZSBcImNvbW1lbnRcIjpcbiAgICAgIGNhc2UgXCJtYXJrXCI6XG4gICAgICAgIHRhZ05hbWUgPSBcInNwYW5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicnVieVwiOlxuICAgICAgY2FzZSBcInJwXCI6XG4gICAgICBjYXNlIFwicnRcIjpcbiAgICAgICAgdGFnTmFtZSA9IHNyY1RhZ05hbWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGFnTmFtZSA9IFwiZGl2XCI7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGRvYy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LXByb2Nlc3MtY2hpbGRyZW5cIiwgXCJ0cnVlXCIpO1xuXG4gICAgLy8gTmVlZCB0byBjYXN0IGJlY2F1c2Ugd2UgbmVlZCB7RWxlbWVudH0sIG5vdCB7IUVsZW1lbnR9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCBhcyBFbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWZ2VuLkN1c3RvbVJlbmRlcmVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHNyY0VsZW0ubG9jYWxOYW1lID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgc3JjRWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VPYmplY3RWaWV3KHhtbGRvYywgc3JjRWxlbSwgdmlld1BhcmVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICB9IGVsc2UgaWYgKHNyY0VsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuTUFUSE1MKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VNYXRoSmF4Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChzcmNFbGVtLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNTRSkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlU1NFVmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHNyY0VsZW0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQgJiZcbiAgICAgICAgKHNyY0VsZW0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXRbXCJtYXRoVHlwZXNldFwiXSA9PSBcInRydWVcIlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VNYXRoSmF4Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgRWxlbWVudCk7XG4gICAgfTtcbiAgfVxuXG4gIGdldFBhZ2VWaWV3SXRlbShzcGluZUluZGV4OiBudW1iZXIpOiBUYXNrLlJlc3VsdDxPUEZWaWV3SXRlbT4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmIChzcGluZUluZGV4ID09PSAtMSB8fCBzcGluZUluZGV4ID49IHNlbGYub3BmLnNwaW5lLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgT1BGVmlld0l0ZW0pO1xuICAgIH1cbiAgICBsZXQgdmlld0l0ZW0gPSBzZWxmLnNwaW5lSXRlbXNbc3BpbmVJbmRleF07XG4gICAgaWYgKHZpZXdJdGVtKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodmlld0l0ZW0pO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZWaWV3SXRlbT4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0UGFnZVZpZXdJdGVtXCIpO1xuXG4gICAgLy8gSWYgbG9hZGluZyBmb3IgdGhlIGl0ZW0gaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkLCBzdXNwZW5kIGFuZCB3YWl0IGZvclxuICAgIC8vIHRoZSByZXN1bHQuXG4gICAgbGV0IGxvYWRpbmdDb250aW51YXRpb25zID0gdGhpcy5zcGluZUl0ZW1Mb2FkaW5nQ29udGludWF0aW9uc1tzcGluZUluZGV4XTtcbiAgICBpZiAobG9hZGluZ0NvbnRpbnVhdGlvbnMpIHtcbiAgICAgIGNvbnN0IGNvbnQgPSBmcmFtZS5zdXNwZW5kKCk7XG4gICAgICBsb2FkaW5nQ29udGludWF0aW9ucy5wdXNoKGNvbnQpO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkaW5nQ29udGludWF0aW9ucyA9IHRoaXMuc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnNbXG4gICAgICAgIHNwaW5lSW5kZXhcbiAgICAgIF0gPSBbXTtcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHNlbGYub3BmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgIGNvbnN0IHN0b3JlID0gc2VsZi5vcGYuc3RvcmU7XG4gICAgc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICBpdGVtLnRpdGxlID0geG1sZG9jLmRvY3VtZW50LnRpdGxlO1xuICAgICAgY29uc3Qgc3R5bGUgPSBzdG9yZS5nZXRTdHlsZUZvckRvYyh4bWxkb2MpO1xuICAgICAgY29uc3QgY3VzdG9tUmVuZGVyZXIgPSBzZWxmLm1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2MpO1xuICAgICAgbGV0IHZpZXdwb3J0ID0gc2VsZi52aWV3cG9ydDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHN0eWxlLnNpemVWaWV3cG9ydChcbiAgICAgICAgdmlld3BvcnQud2lkdGgsXG4gICAgICAgIHZpZXdwb3J0LmhlaWdodCxcbiAgICAgICAgdmlld3BvcnQuZm9udFNpemUsXG4gICAgICAgIHNlbGYucHJlZixcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIHZpZXdwb3J0U2l6ZS53aWR0aCAhPSB2aWV3cG9ydC53aWR0aCB8fFxuICAgICAgICB2aWV3cG9ydFNpemUuaGVpZ2h0ICE9IHZpZXdwb3J0LmhlaWdodCB8fFxuICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUgIT0gdmlld3BvcnQuZm9udFNpemVcbiAgICAgICkge1xuICAgICAgICB2aWV3cG9ydCA9IG5ldyBWZ2VuLlZpZXdwb3J0KFxuICAgICAgICAgIHZpZXdwb3J0LndpbmRvdyxcbiAgICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUsXG4gICAgICAgICAgdmlld3BvcnQucm9vdCxcbiAgICAgICAgICB2aWV3cG9ydFNpemUud2lkdGgsXG4gICAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpb3VzVmlld0l0ZW0gPSBzZWxmLnNwaW5lSXRlbXNbc3BpbmVJbmRleCAtIDFdO1xuICAgICAgbGV0IHBhZ2VOdW1iZXJPZmZzZXQ6IG51bWJlcjtcbiAgICAgIGlmIChpdGVtLnN0YXJ0UGFnZSAhPT0gbnVsbCkge1xuICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ID0gaXRlbS5zdGFydFBhZ2UgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNwaW5lSW5kZXggPiAwICYmXG4gICAgICAgICAgKCFwcmV2aW91c1ZpZXdJdGVtIHx8ICFwcmV2aW91c1ZpZXdJdGVtLmNvbXBsZXRlKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIG5hdmlnYXRlIHRvIGEgbmV3IHNwaW5lIGl0ZW0gc2tpcHBpbmcgdGhlIHByZXZpb3VzIGl0ZW1zLFxuICAgICAgICAgIC8vIGdpdmUgdXAgY2FsY3VsYXRlIHBhZ2VOdW1iZXJPZmZzZXQgYW5kIHVzZSBlcGFnZSAob3Igc3BpbmVJbmRleCBpZiBlcGFnZSBpcyB1bnNldCkuXG4gICAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IGl0ZW0uZXBhZ2UgfHwgc3BpbmVJbmRleDtcbiAgICAgICAgICBpZiAoIXNlbGYub3BmLnByZVBhZ2luYXRlZCAmJiBwYWdlTnVtYmVyT2Zmc2V0ICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAvLyBGb3JjZSB0byBvZGQgbnVtYmVyIHRvIGF2b2lkIHVucGFpcmVkIHBhZ2UuIChUaGlzIGlzIDAgYmFzZWQgYW5kIGV2ZW4gbnVtYmVyIGlzIHJlY3RvKVxuICAgICAgICAgICAgcGFnZU51bWJlck9mZnNldCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ID0gcHJldmlvdXNWaWV3SXRlbVxuICAgICAgICAgICAgPyBwcmV2aW91c1ZpZXdJdGVtLmluc3RhbmNlLnBhZ2VOdW1iZXJPZmZzZXQgK1xuICAgICAgICAgICAgICBwcmV2aW91c1ZpZXdJdGVtLnBhZ2VzLmxlbmd0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnNraXBQYWdlc0JlZm9yZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQgKz0gaXRlbS5za2lwUGFnZXNCZWZvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbGYuY291bnRlclN0b3JlLmZvcmNlU2V0UGFnZUNvdW50ZXIocGFnZU51bWJlck9mZnNldCk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBPUFMuU3R5bGVJbnN0YW5jZShcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHhtbGRvYyxcbiAgICAgICAgc2VsZi5vcGYubGFuZyxcbiAgICAgICAgdmlld3BvcnQsXG4gICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICBzZWxmLmZvbnRNYXBwZXIsXG4gICAgICAgIGN1c3RvbVJlbmRlcmVyLFxuICAgICAgICBzZWxmLm9wZi5mYWxsYmFja01hcCxcbiAgICAgICAgcGFnZU51bWJlck9mZnNldCxcbiAgICAgICAgc2VsZi5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUsXG4gICAgICAgIHNlbGYub3BmLnBhZ2VQcm9ncmVzc2lvbixcbiAgICAgICk7XG4gICAgICBpbnN0YW5jZS5wcmVmID0gc2VsZi5wcmVmO1xuXG4gICAgICAvLyBGb3IgZW52KHB1Yi10aXRsZSkgYW5kIGVudihkb2MtdGl0bGUpXG4gICAgICBjb25zdCBwdWJUaXRsZXMgPSBzZWxmLm9wZi5tZXRhZGF0YSAmJiBzZWxmLm9wZi5tZXRhZGF0YVttZXRhVGVybXMudGl0bGVdO1xuICAgICAgaW5zdGFuY2UucHViVGl0bGUgPVxuICAgICAgICAocHViVGl0bGVzICYmIHB1YlRpdGxlc1swXSAmJiBwdWJUaXRsZXNbMF1bXCJ2XCJdKSB8fCBcIlwiO1xuICAgICAgaW5zdGFuY2UuZG9jVGl0bGUgPSBpdGVtLnRpdGxlIHx8IFwiXCI7XG5cbiAgICAgIGluc3RhbmNlLmluaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdmlld0l0ZW0gPSB7XG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICB4bWxkb2MsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgbGF5b3V0UG9zaXRpb25zOiBbbnVsbF0sXG4gICAgICAgICAgcGFnZXM6IFtdLFxuICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdID0gdmlld0l0ZW07XG4gICAgICAgIGZyYW1lLmZpbmlzaCh2aWV3SXRlbSk7XG4gICAgICAgIGxvYWRpbmdDb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICBjLnNjaGVkdWxlKHZpZXdJdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICByZW1vdmVSZW5kZXJlZFBhZ2VzKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5zcGluZUl0ZW1zO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5wYWdlcy5zcGxpY2UoMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmlld3BvcnQuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIGF0IGxlYXN0IG9uZSBwYWdlIGhhcyAnYXV0bycgc2l6ZVxuICAgKi9cbiAgaGFzQXV0b1NpemVkUGFnZXMoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLnNwaW5lSXRlbXM7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBjb25zdCBwYWdlcyA9IGl0ZW0ucGFnZXM7XG4gICAgICAgIGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuICAgICAgICAgIGlmIChwYWdlLmlzQXV0b1BhZ2VXaWR0aCAmJiBwYWdlLmlzQXV0b1BhZ2VIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYXNQYWdlcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zcGluZUl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5wYWdlcy5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIHNob3dUT0MoYXV0b2hpZGU6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxWdHJlZS5QYWdlPiB7XG4gICAgY29uc3Qgb3BmID0gdGhpcy5vcGY7XG4gICAgY29uc3QgdG9jID0gb3BmLnhodG1sVG9jIHx8IG9wZi5uY3hUb2M7XG4gICAgdGhpcy50b2NBdXRvaGlkZSA9IGF1dG9oaWRlO1xuICAgIGlmICghdG9jKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBWdHJlZS5QYWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9jVmlldyAmJiB0aGlzLnRvY1ZpZXcucGFnZSkge1xuICAgICAgdGhpcy50b2NWaWV3LnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIHRoaXMudG9jVmlldy5wYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMudG9jVmlldy5wYWdlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuUGFnZT4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICBpZiAoIXRoaXMudG9jVmlldykge1xuICAgICAgdGhpcy50b2NWaWV3ID0gbmV3IFRvYy5UT0NWaWV3KFxuICAgICAgICBvcGYuc3RvcmUsXG4gICAgICAgIHRvYy5zcmMsXG4gICAgICAgIG9wZi5sYW5nLFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgdGhpcy5mb250TWFwcGVyLFxuICAgICAgICB0aGlzLnByZWYsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG9wZi5mYWxsYmFja01hcCxcbiAgICAgICAgb3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgIHRoaXMuY291bnRlclN0b3JlLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0O1xuICAgIGNvbnN0IHRvY1dpZHRoID0gTWF0aC5taW4oMzUwLCBNYXRoLnJvdW5kKDAuNjcgKiB2aWV3cG9ydC53aWR0aCkgLSAxNik7XG4gICAgY29uc3QgdG9jSGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0IC0gNjtcbiAgICBjb25zdCBwYWdlQ29udCA9IHZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdmlld3BvcnQucm9vdC5hcHBlbmRDaGlsZChwYWdlQ29udCk7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUubGVmdCA9IFwiM3B4XCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUudG9wID0gXCIzcHhcIjtcbiAgICBwYWdlQ29udC5zdHlsZS53aWR0aCA9IGAke3RvY1dpZHRoICsgMTB9cHhgO1xuICAgIHBhZ2VDb250LnN0eWxlLm1heEhlaWdodCA9IGAke3RvY0hlaWdodH1weGA7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLm92ZXJmbG93WCA9IFwiaGlkZGVuXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgyNDgsMjQ4LDI0OCwwLjkpXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGVbXCJib3JkZXJSYWRpdXNcIl0gPSBcIjJweFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlW1wiYm94U2hhZG93XCJdID0gXCIxcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuNClcIjtcblxuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtdG9jLWJveFwiLCBcInRydWVcIik7XG4gICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm5hdmlnYXRpb25cIik7XG5cbiAgICB0aGlzLnRvY1ZpZXdcbiAgICAgIC5zaG93VE9DKHBhZ2VDb250LCB2aWV3cG9ydCwgdG9jV2lkdGgsIHRvY0hlaWdodCwgdGhpcy52aWV3cG9ydC5mb250U2l6ZSlcbiAgICAgIC50aGVuKChwYWdlKSA9PiB7XG4gICAgICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHBhZ2UpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaGlkZVRPQygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50b2NWaWV3KSB7XG4gICAgICB0aGlzLnRvY1ZpZXcuaGlkZVRPQygpO1xuICAgIH1cbiAgfVxuXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnRvY1ZpZXcgJiYgdGhpcy50b2NWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyU2luZ2xlUGFnZVJlc3VsdCB7XG4gIHBhZ2VBbmRQb3NpdGlvbjogUGFnZUFuZFBvc2l0aW9uO1xuICBuZXh0TGF5b3V0UG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBBZGFwdGl2ZVZpZXdlciAtIFZpZXdlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIEVwdWIgZnJvbSBcIi4vZXB1YlwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBQcm9maWxlIGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbmV4cG9ydCB0eXBlIEFjdGlvbiA9IChwMTogQmFzZS5KU09OKSA9PiBUYXNrLlJlc3VsdDxib29sZWFuPjtcblxuZXhwb3J0IHR5cGUgVmlld3BvcnRTaXplID0ge1xuICBtYXJnaW5MZWZ0OiBudW1iZXI7XG4gIG1hcmdpblJpZ2h0OiBudW1iZXI7XG4gIG1hcmdpblRvcDogbnVtYmVyO1xuICBtYXJnaW5Cb3R0b206IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgVklFV1BPUlRfU1RBVFVTX0FUVFJJQlVURSA9IFwiZGF0YS12aXZsaW9zdHlsZS12aWV3ZXItc3RhdHVzXCI7XG5cbmV4cG9ydCBjb25zdCBWSUVXUE9SVF9TUFJFQURfVklFV19BVFRSSUJVVEUgPSBcImRhdGEtdml2bGlvc3R5bGUtc3ByZWFkLXZpZXdcIjtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBQYWdlVmlld01vZGUge1xuICBTSU5HTEVfUEFHRSA9IFwic2luZ2xlUGFnZVwiLFxuICBTUFJFQUQgPSBcInNwcmVhZFwiLFxuICBBVVRPX1NQUkVBRCA9IFwiYXV0b1NwcmVhZFwiLFxufVxuXG5leHBvcnQgdHlwZSBTaW5nbGVEb2N1bWVudFBhcmFtID0ge1xuICB1cmw6IHN0cmluZztcbiAgc3RhcnRQYWdlOiBudW1iZXIgfCBudWxsO1xuICBza2lwUGFnZXNCZWZvcmU6IG51bWJlciB8IG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgQWRhcHRpdmVWaWV3ZXIge1xuICBmb250TWFwcGVyOiBGb250Lk1hcHBlcjtcbiAga2ljazogKCkgPT4gdm9pZDtcbiAgc2VuZENvbW1hbmQ6IChwMTogQmFzZS5KU09OIHwgc3RyaW5nKSA9PiB2b2lkO1xuICByZXNpemVMaXN0ZW5lcjogKCkgPT4gdm9pZDtcbiAgaHlwZXJsaW5rTGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgcGFnZVJ1bGVTdHlsZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwYWdlU2hlZXRTaXplQWxyZWFkeVNldDogYm9vbGVhbiA9IGZhbHNlO1xuICByZW5kZXJUYXNrOiBUYXNrLlRhc2sgfCBudWxsID0gbnVsbDtcbiAgYWN0aW9uczogeyBba2V5OiBzdHJpbmddOiBBY3Rpb24gfTtcbiAgcmVhZHlTdGF0ZTogQ29uc3RhbnRzLlJlYWR5U3RhdGU7XG4gIHBhY2thZ2VVUkw6IHN0cmluZ1tdO1xuICBvcGY6IEVwdWIuT1BGRG9jO1xuICBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW47XG4gIHRvdWNoQWN0aXZlOiBib29sZWFuO1xuICB0b3VjaFg6IG51bWJlcjtcbiAgdG91Y2hZOiBudW1iZXI7XG4gIG5lZWRSZXNpemU6IGJvb2xlYW47XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuO1xuICB2aWV3cG9ydFNpemU6IFZpZXdwb3J0U2l6ZSB8IG51bGw7XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlO1xuICBjdXJyZW50U3ByZWFkOiBWdHJlZS5TcHJlYWQgfCBudWxsO1xuICBwYWdlUG9zaXRpb246IEVwdWIuUG9zaXRpb24gfCBudWxsO1xuICBmb250U2l6ZTogbnVtYmVyO1xuICB6b29tOiBudW1iZXI7XG4gIGZpdFRvU2NyZWVuOiBib29sZWFuO1xuICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZTtcbiAgd2FpdEZvckxvYWRpbmc6IGJvb2xlYW47XG4gIHJlbmRlckFsbFBhZ2VzOiBib29sZWFuO1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgcGFnZVNpemVzOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXTtcblxuICAvLyBmb3JjZSByZWxheW91dFxuICB2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCB8IG51bGw7XG4gIG9wZlZpZXc6IEVwdWIuT1BGVmlldztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2luZG93OiBXaW5kb3csXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGluc3RhbmNlSWQ6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FsbGJhY2tGbjogKHAxOiBCYXNlLkpTT04pID0+IHZvaWQsXG4gICkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHZpZXdwb3J0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiLCB0cnVlKTtcbiAgICBpZiAoQ29uc3RhbnRzLmlzRGVidWcpIHtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWRlYnVnXCIsIHRydWUpO1xuICAgIH1cbiAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUsIFwibG9hZGluZ1wiKTtcbiAgICBjb25zdCBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICB0aGlzLmZvbnRNYXBwZXIgPSBuZXcgRm9udC5NYXBwZXIoZG9jdW1lbnQuaGVhZCwgdmlld3BvcnRFbGVtZW50KTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmtpY2sgPSAoKSA9PiB7fTtcbiAgICB0aGlzLnNlbmRDb21tYW5kID0gKCkgPT4ge307XG4gICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHNlbGYubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICBzZWxmLmtpY2soKTtcbiAgICB9O1xuICAgIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIgPSB0aGlzLnBhZ2VSZXBsYWNlZExpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciA9IChldnQpID0+IHt9O1xuICAgIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1ydWxlc1wiLFxuICAgICk7XG4gICAgdGhpcy5hY3Rpb25zID0ge1xuICAgICAgbG9hZFB1YmxpY2F0aW9uOiB0aGlzLmxvYWRQdWJsaWNhdGlvbixcbiAgICAgIGxvYWRYTUw6IHRoaXMubG9hZFhNTCxcbiAgICAgIGNvbmZpZ3VyZTogdGhpcy5jb25maWd1cmUsXG4gICAgICBtb3ZlVG86IHRoaXMubW92ZVRvLFxuICAgICAgdG9jOiB0aGlzLnNob3dUT0MsXG4gICAgfTtcbiAgICB0aGlzLmFkZExvZ0xpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkc7XG4gICAgdGhpcy5wYWNrYWdlVVJMID0gW107XG4gICAgdGhpcy5vcGYgPSBudWxsO1xuICAgIHRoaXMuaGF2ZVppcE1ldGFkYXRhID0gZmFsc2U7XG4gICAgdGhpcy50b3VjaEFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hYID0gMDtcbiAgICB0aGlzLnRvdWNoWSA9IDA7XG4gICAgdGhpcy5uZWVkUmVzaXplID0gZmFsc2U7XG4gICAgdGhpcy5uZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIHRoaXMudmlld3BvcnRTaXplID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRTcHJlYWQgPSBudWxsO1xuICAgIHRoaXMucGFnZVBvc2l0aW9uID0gbnVsbDtcbiAgICB0aGlzLmZvbnRTaXplID0gMTY7XG4gICAgdGhpcy56b29tID0gMTtcbiAgICB0aGlzLmZpdFRvU2NyZWVuID0gZmFsc2U7XG4gICAgdGhpcy5wYWdlVmlld01vZGUgPSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U7XG4gICAgdGhpcy53YWl0Rm9yTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVuZGVyQWxsUGFnZXMgPSB0cnVlO1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmRlZmF1bHRQcmVmZXJlbmNlcygpO1xuICAgIHRoaXMucGFnZVNpemVzID0gW107XG4gIH1cblxuICBhZGRMb2dMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbG9nTGV2ZWwgPSBMb2dnaW5nLkxvZ0xldmVsO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLkRFQlVHLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiZGVidWdcIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5JTkZPLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiaW5mb1wiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLldBUk4sIChpbmZvKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHsgdDogXCJ3YXJuXCIsIGNvbnRlbnQ6IGluZm8gfSk7XG4gICAgfSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuYWRkTGlzdGVuZXIobG9nTGV2ZWwuRVJST1IsIChpbmZvKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHsgdDogXCJlcnJvclwiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxsYmFjayhtZXNzYWdlOiBCYXNlLkpTT04pOiB2b2lkIHtcbiAgICBtZXNzYWdlW1wiaVwiXSA9IHRoaXMuaW5zdGFuY2VJZDtcbiAgICB0aGlzLmNhbGxiYWNrRm4obWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHJlYWR5U3RhdGUgYW5kIG5vdGlmeSB0byBsaXN0ZW5lcnNcbiAgICovXG4gIHNldFJlYWR5U3RhdGUocmVhZHlTdGF0ZTogQ29uc3RhbnRzLlJlYWR5U3RhdGUpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSByZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSByZWFkeVN0YXRlO1xuICAgICAgdGhpcy52aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUsIHJlYWR5U3RhdGUpO1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwicmVhZHlzdGF0ZWNoYW5nZVwiIH0pO1xuICAgIH1cbiAgfVxuXG4gIGxvYWRQdWJsaWNhdGlvbihjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlclN0YXJ0VGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBjb25zdCB1cmwgPSBjb21tYW5kW1widXJsXCJdIGFzIHN0cmluZztcbiAgICBjb25zdCBmcmFnbWVudCA9IGNvbW1hbmRbXCJmcmFnbWVudFwiXSBhcyBzdHJpbmcgfCBudWxsO1xuICAgIGNvbnN0IGhhdmVaaXBNZXRhZGF0YSA9ICEhY29tbWFuZFtcInppcG1ldGFcIl07XG4gICAgY29uc3QgYXV0aG9yU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJhdXRob3JTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gY29tbWFuZFtcInVzZXJTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIHRoaXMudmlld3BvcnQgPSBudWxsO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxvYWRQdWJsaWNhdGlvblwiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNvbmZpZ3VyZShjb21tYW5kKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JlID0gbmV3IEVwdWIuRVBVQkRvY1N0b3JlKCk7XG4gICAgICBzdG9yZS5pbml0KGF1dGhvclN0eWxlU2hlZXQsIHVzZXJTdHlsZVNoZWV0KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcHViVVJMID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgICAgIEJhc2UuY29udmVydFNwZWNpYWxVUkwodXJsKSxcbiAgICAgICAgICBzZWxmLndpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICApO1xuICAgICAgICBzZWxmLnBhY2thZ2VVUkwgPSBbcHViVVJMXTtcbiAgICAgICAgc3RvcmUubG9hZFB1YkRvYyhwdWJVUkwsIGhhdmVaaXBNZXRhZGF0YSkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgc2VsZi5vcGYgPSBvcGY7XG4gICAgICAgICAgICBzZWxmLnJlbmRlcihmcmFnbWVudCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkWE1MKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyU3RhcnRUaW1pbmcoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkcpO1xuICAgIGNvbnN0IHBhcmFtczogU2luZ2xlRG9jdW1lbnRQYXJhbVtdID0gY29tbWFuZFtcInVybFwiXTtcbiAgICBjb25zdCBkb2MgPSBjb21tYW5kW1wiZG9jdW1lbnRcIl0gYXMgRG9jdW1lbnQ7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBjb21tYW5kW1wiZnJhZ21lbnRcIl0gYXMgc3RyaW5nIHwgbnVsbDtcbiAgICBjb25zdCBhdXRob3JTdHlsZVNoZWV0ID0gY29tbWFuZFtcImF1dGhvclN0eWxlU2hlZXRcIl0gYXMge1xuICAgICAgdXJsOiBzdHJpbmcgfCBudWxsO1xuICAgICAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICB9W107XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXQgPSBjb21tYW5kW1widXNlclN0eWxlU2hlZXRcIl0gYXMge1xuICAgICAgdXJsOiBzdHJpbmcgfCBudWxsO1xuICAgICAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICB9W107XG5cbiAgICAvLyBmb3JjZSByZWxheW91dFxuICAgIHRoaXMudmlld3BvcnQgPSBudWxsO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxvYWRYTUxcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb25maWd1cmUoY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBFcHViLkVQVUJEb2NTdG9yZSgpO1xuICAgICAgc3RvcmUuaW5pdChhdXRob3JTdHlsZVNoZWV0LCB1c2VyU3R5bGVTaGVldCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkUGFyYW1zOiBFcHViLk9QRkl0ZW1QYXJhbVtdID0gcGFyYW1zLm1hcCgocCwgaW5kZXgpID0+ICh7XG4gICAgICAgICAgdXJsOiBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHAudXJsKSxcbiAgICAgICAgICAgIHNlbGYud2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBzdGFydFBhZ2U6IHAuc3RhcnRQYWdlLFxuICAgICAgICAgIHNraXBQYWdlc0JlZm9yZTogcC5za2lwUGFnZXNCZWZvcmUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2VsZi5wYWNrYWdlVVJMID0gcmVzb2x2ZWRQYXJhbXMubWFwKChwKSA9PiBwLnVybCk7XG4gICAgICAgIHNlbGYub3BmID0gbmV3IEVwdWIuT1BGRG9jKHN0b3JlLCBcIlwiKTtcbiAgICAgICAgc2VsZi5vcGYuaW5pdFdpdGhDaGFwdGVycyhyZXNvbHZlZFBhcmFtcywgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZWxmLnJlbmRlcihmcmFnbWVudCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoZnJhZ21lbnQ/OiBzdHJpbmcgfCBudWxsKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMuY2FuY2VsUmVuZGVyaW5nVGFzaygpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgIGNvbnQgPSB0aGlzLm9wZi5yZXNvbHZlRnJhZ21lbnQoZnJhZ21lbnQpLnRoZW5Bc3luYygocG9zaXRpb24pID0+IHtcbiAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgICByZXR1cm4gc2VsZi5yZXNpemUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzb2x2ZUxlbmd0aChzcGVjaWZpZWQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KHNwZWNpZmllZCk7XG4gICAgY29uc3QgdW5pdFBhdHRlcm4gPSAvW2Etel0rJC87XG4gICAgbGV0IG1hdGNoZWQ6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHNwZWNpZmllZCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgKG1hdGNoZWQgPSBzcGVjaWZpZWQubWF0Y2godW5pdFBhdHRlcm4pKVxuICAgICkge1xuICAgICAgY29uc3QgdW5pdCA9IG1hdGNoZWRbMF07XG4gICAgICBpZiAodW5pdCA9PT0gXCJlbVwiIHx8IHVuaXQgPT09IFwicmVtXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdGhpcy5mb250U2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1bml0ID09PSBcImV4XCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAodmFsdWUgKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZXhcIl0gKiB0aGlzLmZvbnRTaXplKSAvXG4gICAgICAgICAgRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB1bml0U2l6ZSA9IEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbdW5pdF07XG4gICAgICBpZiAodW5pdFNpemUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdW5pdFNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiYXV0b3Jlc2l6ZVwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKGNvbW1hbmRbXCJhdXRvcmVzaXplXCJdKSB7XG4gICAgICAgIHRoaXMudmlld3BvcnRTaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiZm9udFNpemVcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgZm9udFNpemUgPSBjb21tYW5kW1wiZm9udFNpemVcIl0gYXMgbnVtYmVyO1xuICAgICAgaWYgKGZvbnRTaXplID49IDUgJiYgZm9udFNpemUgPD0gNzIgJiYgdGhpcy5mb250U2l6ZSAhPSBmb250U2l6ZSkge1xuICAgICAgICB0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInZpZXdwb3J0XCJdID09IFwib2JqZWN0XCIgJiYgY29tbWFuZFtcInZpZXdwb3J0XCJdKSB7XG4gICAgICBjb25zdCB2cCA9IGNvbW1hbmRbXCJ2aWV3cG9ydFwiXTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHtcbiAgICAgICAgbWFyZ2luTGVmdDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLWxlZnRcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLnJlc29sdmVMZW5ndGgodnBbXCJtYXJnaW4tcmlnaHRcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpblRvcDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLXRvcFwiXSkgfHwgMCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLnJlc29sdmVMZW5ndGgodnBbXCJtYXJnaW4tYm90dG9tXCJdKSB8fCAwLFxuICAgICAgICB3aWR0aDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wid2lkdGhcIl0pIHx8IDAsXG4gICAgICAgIGhlaWdodDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wiaGVpZ2h0XCJdKSB8fCAwLFxuICAgICAgfTtcbiAgICAgIGlmICh2aWV3cG9ydFNpemUud2lkdGggPj0gMjAwIHx8IHZpZXdwb3J0U2l6ZS5oZWlnaHQgPj0gMjAwKSB7XG4gICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IHZpZXdwb3J0U2l6ZTtcbiAgICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiaHlwaGVuYXRlXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYuaHlwaGVuYXRlID0gY29tbWFuZFtcImh5cGhlbmF0ZVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImhvcml6b250YWxcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMucHJlZi5ob3Jpem9udGFsID0gY29tbWFuZFtcImhvcml6b250YWxcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJuaWdodE1vZGVcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMucHJlZi5uaWdodE1vZGUgPSBjb21tYW5kW1wibmlnaHRNb2RlXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibGluZUhlaWdodFwiXSA9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLnByZWYubGluZUhlaWdodCA9IGNvbW1hbmRbXCJsaW5lSGVpZ2h0XCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiY29sdW1uV2lkdGhcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5wcmVmLmNvbHVtbldpZHRoID0gY29tbWFuZFtcImNvbHVtbldpZHRoXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiZm9udEZhbWlseVwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnByZWYuZm9udEZhbWlseSA9IGNvbW1hbmRbXCJmb250RmFtaWx5XCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibG9hZFwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy53YWl0Rm9yTG9hZGluZyA9IGNvbW1hbmRbXCJsb2FkXCJdOyAvLyBMb2FkIGltYWdlcyAoYW5kIG90aGVyIHJlc291cmNlcykgb24gdGhlIHBhZ2UuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInJlbmRlckFsbFBhZ2VzXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnJlbmRlckFsbFBhZ2VzID0gY29tbWFuZFtcInJlbmRlckFsbFBhZ2VzXCJdO1xuICAgIH1cbiAgICAvLyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInVzZXJBZ2VudFJvb3RVUkxcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgQmFzZS5zZXRCYXNlVVJMKGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdLnJlcGxhY2UoL3Jlc291cmNlc1xcLz8kLywgXCJcIikpO1xuICAgICAgQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwoY29tbWFuZFtcInVzZXJBZ2VudFJvb3RVUkxcIl0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJyb290VVJMXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIEJhc2Uuc2V0QmFzZVVSTChjb21tYW5kW1wicm9vdFVSTFwiXSk7XG4gICAgICBCYXNlLnNldFJlc291cmNlQmFzZVVSTChgJHtCYXNlLmJhc2VVUkx9cmVzb3VyY2VzL2ApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSA9PSBcInN0cmluZ1wiICYmXG4gICAgICBjb21tYW5kW1wicGFnZVZpZXdNb2RlXCJdICE9PSB0aGlzLnBhZ2VWaWV3TW9kZVxuICAgICkge1xuICAgICAgdGhpcy5wYWdlVmlld01vZGUgPSBjb21tYW5kW1wicGFnZVZpZXdNb2RlXCJdIGFzIFBhZ2VWaWV3TW9kZTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wicGFnZUJvcmRlclwiXSA9PSBcIm51bWJlclwiICYmXG4gICAgICBjb21tYW5kW1wicGFnZUJvcmRlclwiXSAhPT0gdGhpcy5wcmVmLnBhZ2VCb3JkZXJcbiAgICApIHtcbiAgICAgIC8vIEZvcmNlIHJlbGF5b3V0XG4gICAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICAgIHRoaXMucHJlZi5wYWdlQm9yZGVyID0gY29tbWFuZFtcInBhZ2VCb3JkZXJcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ6b29tXCJdID09IFwibnVtYmVyXCIgJiYgY29tbWFuZFtcInpvb21cIl0gIT09IHRoaXMuem9vbSkge1xuICAgICAgdGhpcy56b29tID0gY29tbWFuZFtcInpvb21cIl07XG4gICAgICB0aGlzLm5lZWRSZWZyZXNoID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXSA9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgY29tbWFuZFtcImZpdFRvU2NyZWVuXCJdICE9PSB0aGlzLmZpdFRvU2NyZWVuXG4gICAgKSB7XG4gICAgICB0aGlzLmZpdFRvU2NyZWVuID0gY29tbWFuZFtcImZpdFRvU2NyZWVuXCJdO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZGVmYXVsdFBhcGVyU2l6ZVwiXSA9PSBcIm9iamVjdFwiICYmXG4gICAgICB0eXBlb2YgY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl0ud2lkdGggPT0gXCJudW1iZXJcIiAmJlxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdLmhlaWdodCA9PSBcIm51bWJlclwiXG4gICAgKSB7XG4gICAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICAgIHRoaXMucHJlZi5kZWZhdWx0UGFwZXJTaXplID0gY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ3VyZVBsdWdpbnMoY29tbWFuZCk7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgY29uZmlndXJlUGx1Z2lucyhjb21tYW5kOiBCYXNlLkpTT04pIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLkNvbmZpZ3VyYXRpb25Ib29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLkNPTkZJR1VSQVRJT04sXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBob29rKGNvbW1hbmQpO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gcmVzdWx0Lm5lZWRSZXNpemUgfHwgdGhpcy5uZWVkUmVzaXplO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHJlc3VsdC5uZWVkUmVmcmVzaCB8fCB0aGlzLm5lZWRSZWZyZXNoO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggdmlldyB3aGVuIGEgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlIGlzIHJlcGxhY2VkIChieSByZS1sYXlvdXRcbiAgICogY2F1c2VkIGJ5IGNyb3NzIHJlZmVyZW5jZSByZXNvbHV0aW9ucylcbiAgICovXG4gIHBhZ2VSZXBsYWNlZExpc3RlbmVyKGV2dDogQmFzZS5FdmVudCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZTtcbiAgICBjb25zdCBzcHJlYWQgPSB0aGlzLmN1cnJlbnRTcHJlYWQ7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICBpZiAoc3ByZWFkKSB7XG4gICAgICBpZiAoc3ByZWFkLmxlZnQgPT09IHRhcmdldCB8fCBzcHJlYWQucmlnaHQgPT09IHRhcmdldCkge1xuICAgICAgICB0aGlzLnNob3dDdXJyZW50KGV2dC5uZXdQYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID09PSBldnQudGFyZ2V0KSB7XG4gICAgICB0aGlzLnNob3dDdXJyZW50KGV2dC5uZXdQYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGN1cnJlbnRseSBkaXNwbGF5ZWQgcGFnZXMgYW5kIGRvIHNvbWV0aGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBmb3JDdXJyZW50UGFnZXMoZm46IChwMTogVnRyZWUuUGFnZSkgPT4gYW55KSB7XG4gICAgY29uc3QgcGFnZXMgPSBbXTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSkge1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudFNwcmVhZCkge1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRTcHJlYWQubGVmdCk7XG4gICAgICBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFNwcmVhZC5yaWdodCk7XG4gICAgfVxuICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgIGZuKHBhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVQYWdlTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZm9yQ3VycmVudFBhZ2VzKChwYWdlKSA9PiB7XG4gICAgICBwYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgcGFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVwbGFjZWRcIiwgdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgY3VycmVudCBwYWdlcyAodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5jdXJyZW50U3ByZWFkKVxuICAgKi9cbiAgcHJpdmF0ZSBoaWRlUGFnZXMoKSB7XG4gICAgdGhpcy5yZW1vdmVQYWdlTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5mb3JDdXJyZW50UGFnZXMoKHBhZ2UpID0+IHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICBwYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3ByZWFkID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1NpbmdsZVBhZ2UocGFnZTogVnRyZWUuUGFnZSkge1xuICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua1wiLCB0aGlzLmh5cGVybGlua0xpc3RlbmVyLCBmYWxzZSk7XG4gICAgcGFnZS5hZGRFdmVudExpc3RlbmVyKFwicmVwbGFjZWRcIiwgdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwYWdlLmNvbnRhaW5lciwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1BhZ2UocGFnZTogVnRyZWUuUGFnZSk6IHZvaWQge1xuICAgIHRoaXMuaGlkZVBhZ2VzKCk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBcIlwiO1xuICAgIHRoaXMuc2hvd1NpbmdsZVBhZ2UocGFnZSk7XG4gIH1cblxuICBwcml2YXRlIHNob3dTcHJlYWQoc3ByZWFkOiBWdHJlZS5TcHJlYWQpIHtcbiAgICB0aGlzLmhpZGVQYWdlcygpO1xuICAgIHRoaXMuY3VycmVudFNwcmVhZCA9IHNwcmVhZDtcbiAgICBpZiAoc3ByZWFkLmxlZnQgJiYgc3ByZWFkLnJpZ2h0KSB7XG4gICAgICAvLyBBZGp1c3Qgc3ByZWFkIGhvcml6b250YWwgYWxpZ25tZW50IHdoZW4gbGVmdC9yaWdodCBwYWdlIHdpZHRocyBkaWZmZXJcbiAgICAgIGxldCBsZWZ0V2lkdGggPSBwYXJzZUZsb2F0KHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5zdHlsZS53aWR0aCk7XG4gICAgICBsZXQgcmlnaHRXaWR0aCA9IHBhcnNlRmxvYXQoc3ByZWFkLnJpZ2h0LmNvbnRhaW5lci5zdHlsZS53aWR0aCk7XG4gICAgICBpZiAobGVmdFdpZHRoICYmIHJpZ2h0V2lkdGggJiYgbGVmdFdpZHRoICE9PSByaWdodFdpZHRoKSB7XG4gICAgICAgIGlmIChsZWZ0V2lkdGggPCByaWdodFdpZHRoKSB7XG4gICAgICAgICAgc3ByZWFkLmxlZnQuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBgJHtcbiAgICAgICAgICAgIHJpZ2h0V2lkdGggLSBsZWZ0V2lkdGhcbiAgICAgICAgICB9cHhgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHtcbiAgICAgICAgICAgIGxlZnRXaWR0aCAtIHJpZ2h0V2lkdGhcbiAgICAgICAgICB9cHhgO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzcHJlYWQubGVmdCkge1xuICAgICAgdGhpcy5zaG93U2luZ2xlUGFnZShzcHJlYWQubGVmdCk7XG4gICAgICBpZiAoIXNwcmVhZC5yaWdodCkge1xuICAgICAgICBzcHJlYWQubGVmdC5jb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXVucGFpcmVkLXBhZ2VcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzcHJlYWQucmlnaHQpIHtcbiAgICAgIHRoaXMuc2hvd1NpbmdsZVBhZ2Uoc3ByZWFkLnJpZ2h0KTtcbiAgICAgIGlmICghc3ByZWFkLmxlZnQpIHtcbiAgICAgICAgc3ByZWFkLnJpZ2h0LmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXVucGFpcmVkLXBhZ2VcIixcbiAgICAgICAgICB0cnVlLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3ByZWFkLnJpZ2h0LmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXG4gICAgICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXVucGFpcmVkLXBhZ2VcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlcG9ydFBvc2l0aW9uKCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJyZXBvcnRQb3NpdGlvblwiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBBc3NlcnRzLmFzc2VydChzZWxmLnBhZ2VQb3NpdGlvbik7XG4gICAgc2VsZi5vcGZcbiAgICAgIC5nZXRDRkkodGhpcy5wYWdlUG9zaXRpb24uc3BpbmVJbmRleCwgdGhpcy5wYWdlUG9zaXRpb24ub2Zmc2V0SW5JdGVtKVxuICAgICAgLnRoZW4oKGNmaSkgPT4ge1xuICAgICAgICBjb25zdCBwYWdlID0gc2VsZi5jdXJyZW50UGFnZTtcbiAgICAgICAgY29uc3QgciA9XG4gICAgICAgICAgc2VsZi53YWl0Rm9yTG9hZGluZyAmJiBwYWdlLmZldGNoZXJzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gVGFza1V0aWwud2FpdEZvckZldGNoZXJzKHBhZ2UuZmV0Y2hlcnMpXG4gICAgICAgICAgICA6IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICByLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHNlbGYuc2VuZExvY2F0aW9uTm90aWZpY2F0aW9uKHBhZ2UsIGNmaSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVWaWV3cG9ydCgpOiBWZ2VuLlZpZXdwb3J0IHtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB0aGlzLnZpZXdwb3J0RWxlbWVudDtcbiAgICBpZiAodGhpcy52aWV3cG9ydFNpemUpIHtcbiAgICAgIGNvbnN0IHZzID0gdGhpcy52aWV3cG9ydFNpemU7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAke3ZzLm1hcmdpbkxlZnR9cHhgO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7dnMubWFyZ2luUmlnaHR9cHhgO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IGAke3ZzLm1hcmdpblRvcH1weGA7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luQm90dG9tID0gYCR7dnMubWFyZ2luQm90dG9tfXB4YDtcbiAgICAgIHJldHVybiBuZXcgVmdlbi5WaWV3cG9ydChcbiAgICAgICAgdGhpcy53aW5kb3csXG4gICAgICAgIHRoaXMuZm9udFNpemUsXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCxcbiAgICAgICAgdnMud2lkdGgsXG4gICAgICAgIHZzLmhlaWdodCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVmdlbi5WaWV3cG9ydCh0aGlzLndpbmRvdywgdGhpcy5mb250U2l6ZSwgdmlld3BvcnRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVTcHJlYWRWaWV3KHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0KTogYm9vbGVhbiB7XG4gICAgc3dpdGNoICh0aGlzLnBhZ2VWaWV3TW9kZSkge1xuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRDpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIHdpZGUgZW5vdWdoIGZvciBhIHBhaXIgb2YgcGFnZXMgb2YgQS9CIHBhcGVyIHNpemVzLCBidXQgbm90IHRvb1xuICAgICAgICAvLyBuYXJyb3dcbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0LndpZHRoIC8gdmlld3BvcnQuaGVpZ2h0ID49IDEuNDUgJiYgdmlld3BvcnQud2lkdGggPiA4MDA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTcHJlYWRWaWV3KHNwcmVhZFZpZXc6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnByZWYuc3ByZWFkVmlldyA9IHNwcmVhZFZpZXc7XG4gICAgdGhpcy52aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgVklFV1BPUlRfU1BSRUFEX1ZJRVdfQVRUUklCVVRFLFxuICAgICAgc3ByZWFkVmlldy50b1N0cmluZygpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNpemVJc0dvb2QoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLmNyZWF0ZVZpZXdwb3J0KCk7XG4gICAgY29uc3Qgc3ByZWFkVmlldyA9IHRoaXMucmVzb2x2ZVNwcmVhZFZpZXcodmlld3BvcnQpO1xuICAgIGNvbnN0IHNwcmVhZFZpZXdDaGFuZ2VkID0gdGhpcy5wcmVmLnNwcmVhZFZpZXcgIT09IHNwcmVhZFZpZXc7XG4gICAgdGhpcy51cGRhdGVTcHJlYWRWaWV3KHNwcmVhZFZpZXcpO1xuICAgIGlmIChcbiAgICAgIHRoaXMudmlld3BvcnRTaXplIHx8XG4gICAgICAhdGhpcy52aWV3cG9ydCB8fFxuICAgICAgdGhpcy52aWV3cG9ydC5mb250U2l6ZSAhPSB0aGlzLmZvbnRTaXplXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFzcHJlYWRWaWV3Q2hhbmdlZCAmJlxuICAgICAgdmlld3BvcnQud2lkdGggPT0gdGhpcy52aWV3cG9ydC53aWR0aCAmJlxuICAgICAgdmlld3BvcnQuaGVpZ2h0ID09IHRoaXMudmlld3BvcnQuaGVpZ2h0XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhc3ByZWFkVmlld0NoYW5nZWQgJiZcbiAgICAgIHZpZXdwb3J0LndpZHRoID09IHRoaXMudmlld3BvcnQud2lkdGggJiZcbiAgICAgIHZpZXdwb3J0LmhlaWdodCAhPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAmJlxuICAgICAgL0FuZHJvaWR8aVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICkge1xuICAgICAgLy8gT24gbW9iaWxlIGJyb3dzZXJzLCB0aGUgdmlld3BvcnQgaGVpZ2h0IG1heSBjaGFuZ2UgdW5leHBlY3RlZGx5XG4gICAgICAvLyB3aGVuIHNvZnQga2V5Ym9hcmQgYXBwZWFycyBvciB0YWIvYWRkcmVzcyBiYXIgYXV0by1oaWRlIG9jY3VycyxcbiAgICAgIC8vIHNvIGlnbm9yZSByZXNpemluZyBpbiB0aGlzIGNvbmRpdGlvbi5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMub3BmVmlldyAmJlxuICAgICAgdGhpcy5vcGZWaWV3Lmhhc1BhZ2VzKCkgJiZcbiAgICAgICF0aGlzLm9wZlZpZXcuaGFzQXV0b1NpemVkUGFnZXMoKVxuICAgICkge1xuICAgICAgdGhpcy52aWV3cG9ydC53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgdGhpcy52aWV3cG9ydC5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICB0aGlzLm5lZWRSZWZyZXNoID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHNldFBhZ2VTaXplKFxuICAgIHBhZ2VTaXplOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0sXG4gICAgcGFnZVNoZWV0U2l6ZTogeyBba2V5OiBzdHJpbmddOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfSxcbiAgICBzcGluZUluZGV4OiBudW1iZXIsXG4gICAgcGFnZUluZGV4OiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucGFnZVNpemVzW3BhZ2VJbmRleF0gPSBwYWdlU2l6ZTtcbiAgICB0aGlzLnNldFBhZ2VTaXplUGFnZVJ1bGVzKHBhZ2VTaGVldFNpemUsIHNwaW5lSW5kZXgsIHBhZ2VJbmRleCk7XG4gIH1cblxuICBwcml2YXRlIHNldFBhZ2VTaXplUGFnZVJ1bGVzKFxuICAgIHBhZ2VTaGVldFNpemU6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0sXG4gICAgc3BpbmVJbmRleDogbnVtYmVyLFxuICAgIHBhZ2VJbmRleDogbnVtYmVyLFxuICApIHtcbiAgICBpZiAoIXRoaXMucGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQgJiYgdGhpcy5wYWdlUnVsZVN0eWxlRWxlbWVudCkge1xuICAgICAgbGV0IHN0eWxlVGV4dCA9IFwiXCI7XG4gICAgICBPYmplY3Qua2V5cyhwYWdlU2hlZXRTaXplKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgICBzdHlsZVRleHQgKz0gYEBwYWdlICR7c2VsZWN0b3J9e21hcmdpbjowO3NpemU6YDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHBhZ2VTaGVldFNpemVbc2VsZWN0b3JdO1xuICAgICAgICBzdHlsZVRleHQgKz0gYCR7c2l6ZS53aWR0aH1weCAke3NpemUuaGVpZ2h0fXB4O31gO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gc3R5bGVUZXh0O1xuICAgICAgdGhpcy5wYWdlU2hlZXRTaXplQWxyZWFkeVNldCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUGFnZVNpemVQYWdlUnVsZXMoKSB7XG4gICAgaWYgKHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgdGhpcy5wYWdlU2hlZXRTaXplQWxyZWFkeVNldCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XG4gICAgbGV0IHRvY1Zpc2libGUgPSBmYWxzZTtcbiAgICBsZXQgdG9jQXV0b2hpZGUgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5vcGZWaWV3KSB7XG4gICAgICB0b2NWaXNpYmxlID0gdGhpcy5vcGZWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICAgICAgdG9jQXV0b2hpZGUgPSB0aGlzLm9wZlZpZXcudG9jQXV0b2hpZGU7XG4gICAgICB0aGlzLm9wZlZpZXcuaGlkZVRPQygpO1xuICAgICAgdGhpcy5vcGZWaWV3LnJlbW92ZVJlbmRlcmVkUGFnZXMoKTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVQYWdlU2l6ZVBhZ2VSdWxlcygpO1xuICAgIHRoaXMudmlld3BvcnQgPSB0aGlzLmNyZWF0ZVZpZXdwb3J0KCk7XG4gICAgdGhpcy52aWV3cG9ydC5yZXNldFpvb20oKTtcbiAgICB0aGlzLm9wZlZpZXcgPSBuZXcgRXB1Yi5PUEZWaWV3KFxuICAgICAgdGhpcy5vcGYsXG4gICAgICB0aGlzLnZpZXdwb3J0LFxuICAgICAgdGhpcy5mb250TWFwcGVyLFxuICAgICAgdGhpcy5wcmVmLFxuICAgICAgdGhpcy5zZXRQYWdlU2l6ZS5iaW5kKHRoaXMpLFxuICAgICk7XG4gICAgaWYgKHRvY1Zpc2libGUpIHtcbiAgICAgIHRoaXMuc2VuZENvbW1hbmQoeyBhOiBcInRvY1wiLCB2OiBcInNob3dcIiwgYXV0b2hpZGU6IHRvY0F1dG9oaWRlIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGN1cnJlbnQgcGFnZSBvciBzcHJlYWQgZGVwZW5kaW5nIG9uIHRoZSBzZXR0aW5nXG4gICAqICh0aGlzLnByZWYuc3ByZWFkVmlldykuXG4gICAqIEBwYXJhbSBzeW5jIElmIHRydWUsIGdldCB0aGUgbmVjZXNzYXJ5IHBhZ2Ugc3luY2hyb25vdXNseSAobm90IHdhaXRpbmdcbiAgICogICAgIGFub3RoZXIgcmVuZGVyaW5nIHRhc2spXG4gICAqL1xuICBwcml2YXRlIHNob3dDdXJyZW50KHBhZ2U6IFZ0cmVlLlBhZ2UsIHN5bmM/OiBib29sZWFuKTogVGFzay5SZXN1bHQ8bnVsbD4ge1xuICAgIHRoaXMubmVlZFJlZnJlc2ggPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZVBhZ2VMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAodGhpcy5wcmVmLnNwcmVhZFZpZXcpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wZlZpZXdcbiAgICAgICAgLmdldFNwcmVhZCh0aGlzLnBhZ2VQb3NpdGlvbiwgc3luYylcbiAgICAgICAgLnRoZW5Bc3luYygoc3ByZWFkKSA9PiB7XG4gICAgICAgICAgc2VsZi5zaG93U3ByZWFkKHNwcmVhZCk7XG4gICAgICAgICAgc2VsZi5zZXRTcHJlYWRab29tKHNwcmVhZCk7XG4gICAgICAgICAgc2VsZi5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93UGFnZShwYWdlKTtcbiAgICAgIHRoaXMuc2V0UGFnZVpvb20ocGFnZSk7XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICB9XG4gIH1cblxuICBzZXRQYWdlWm9vbShwYWdlOiBWdHJlZS5QYWdlKSB7XG4gICAgY29uc3Qgem9vbSA9IHRoaXMuZ2V0QWRqdXN0ZWRab29tRmFjdG9yKHBhZ2UuZGltZW5zaW9ucyk7XG4gICAgdGhpcy52aWV3cG9ydC56b29tKHBhZ2UuZGltZW5zaW9ucy53aWR0aCwgcGFnZS5kaW1lbnNpb25zLmhlaWdodCwgem9vbSk7XG4gIH1cblxuICBzZXRTcHJlYWRab29tKHNwcmVhZDogVnRyZWUuU3ByZWFkKSB7XG4gICAgY29uc3QgZGltID0gdGhpcy5nZXRTcHJlYWREaW1lbnNpb25zKHNwcmVhZCk7XG4gICAgdGhpcy52aWV3cG9ydC56b29tKGRpbS53aWR0aCwgZGltLmhlaWdodCwgdGhpcy5nZXRBZGp1c3RlZFpvb21GYWN0b3IoZGltKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgYWRqdXN0ZWQgem9vbSBmYWN0b3JcbiAgICovXG4gIGdldEFkanVzdGVkWm9vbUZhY3RvcihwYWdlRGltZW5zaW9uOiB7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgfSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZml0VG9TY3JlZW5cbiAgICAgID8gdGhpcy5jYWxjdWxhdGVab29tRmFjdG9yVG9GaXRJbnNpZGVWaWV3UG9ydChwYWdlRGltZW5zaW9uKVxuICAgICAgOiB0aGlzLnpvb207XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBzcHJlYWQsIGluY2x1ZGluZyB0aGUgbWFyZ2luIGJldHdlZW4gcGFnZXMuXG4gICAqL1xuICBnZXRTcHJlYWREaW1lbnNpb25zKHNwcmVhZDogVnRyZWUuU3ByZWFkKTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IHtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGxldCBoZWlnaHQgPSAwO1xuICAgIGlmIChzcHJlYWQubGVmdCkge1xuICAgICAgd2lkdGggKz0gc3ByZWFkLmxlZnQuZGltZW5zaW9ucy53aWR0aDtcbiAgICAgIGhlaWdodCA9IHNwcmVhZC5sZWZ0LmRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoc3ByZWFkLnJpZ2h0KSB7XG4gICAgICB3aWR0aCArPSBzcHJlYWQucmlnaHQuZGltZW5zaW9ucy53aWR0aDtcbiAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgc3ByZWFkLnJpZ2h0LmRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKHNwcmVhZC5sZWZ0ICYmIHNwcmVhZC5yaWdodCkge1xuICAgICAgd2lkdGggKz0gdGhpcy5wcmVmLnBhZ2VCb3JkZXIgKiAyO1xuICAgICAgLy8gQWRqdXN0IHNwcmVhZCBob3Jpem9udGFsIGFsaWdubWVudCB3aGVuIGxlZnQvcmlnaHQgcGFnZSB3aWR0aHMgZGlmZmVyXG4gICAgICB3aWR0aCArPSBNYXRoLmFicyhcbiAgICAgICAgc3ByZWFkLmxlZnQuZGltZW5zaW9ucy53aWR0aCAtIHNwcmVhZC5yaWdodC5kaW1lbnNpb25zLndpZHRoLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgem9vbSBmYWN0b3IgY29ycmVzcG9uZGluZyB0byB0aGUgc3BlY2lmaWVkIHpvb20gdHlwZS5cbiAgICovXG4gIHF1ZXJ5Wm9vbUZhY3Rvcih0eXBlOiBab29tVHlwZSk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRQYWdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBwYWdlIGV4aXN0cy5cIik7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBab29tVHlwZS5GSVRfSU5TSURFX1ZJRVdQT1JUOiB7XG4gICAgICAgIGxldCBwYWdlRGltOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG4gICAgICAgIGlmICh0aGlzLnByZWYuc3ByZWFkVmlldykge1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY3VycmVudFNwcmVhZCk7XG4gICAgICAgICAgcGFnZURpbSA9IHRoaXMuZ2V0U3ByZWFkRGltZW5zaW9ucyh0aGlzLmN1cnJlbnRTcHJlYWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZ2VEaW0gPSB0aGlzLmN1cnJlbnRQYWdlLmRpbWVuc2lvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQocGFnZURpbSk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gem9vbSB0eXBlOiAke3R5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHpvb20gZmFjdG9yIHRvIGZpdCBpbnNpZGUgdmlld3BvcnRcbiAgICovXG4gIGNhbGN1bGF0ZVpvb21GYWN0b3JUb0ZpdEluc2lkZVZpZXdQb3J0KHBhZ2VEaW1lbnNpb246IHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9KTogbnVtYmVyIHtcbiAgICBjb25zdCB3aWR0aFpvb20gPSB0aGlzLnZpZXdwb3J0LndpZHRoIC8gcGFnZURpbWVuc2lvbi53aWR0aDtcbiAgICBjb25zdCBoZWlnaHRab29tID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgLyBwYWdlRGltZW5zaW9uLmhlaWdodDtcbiAgICByZXR1cm4gTWF0aC5taW4od2lkdGhab29tLCBoZWlnaHRab29tKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FuY2VsUmVuZGVyaW5nVGFzaygpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJUYXNrKSB7XG4gICAgICB0aGlzLnJlbmRlclRhc2suaW50ZXJydXB0KG5ldyBSZW5kZXJpbmdDYW5jZWxlZEVycm9yKCkpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlclRhc2sgPSBudWxsO1xuICB9XG5cbiAgcmVzaXplKCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLm5lZWRSZXNpemUgPSBmYWxzZTtcbiAgICB0aGlzLm5lZWRSZWZyZXNoID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuc2l6ZUlzR29vZCgpKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICB0aGlzLmNhbmNlbFJlbmRlcmluZ1Rhc2soKTtcbiAgICBjb25zdCByZXNpemVUYXNrID0gVGFzay5jdXJyZW50VGFzaygpXG4gICAgICAuZ2V0U2NoZWR1bGVyKClcbiAgICAgIC5ydW4oKCkgPT5cbiAgICAgICAgVGFzay5oYW5kbGUoXG4gICAgICAgICAgXCJyZXNpemVcIixcbiAgICAgICAgICAoZnJhbWUpID0+IHtcbiAgICAgICAgICAgIGlmICghc2VsZi5vcGYpIHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5yZW5kZXJUYXNrID0gcmVzaXplVGFzaztcbiAgICAgICAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyhcInJlbmRlciAocmVzaXplKVwiKTtcbiAgICAgICAgICAgIHNlbGYucmVzZXQoKTtcbiAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VQb3NpdGlvbikge1xuICAgICAgICAgICAgICAvLyBXaGVuIHJlc2l6aW5nLCBkbyBub3QgdXNlIHRoZSBjdXJyZW50IHBhZ2UgaW5kZXgsIGZvciBhIHBhZ2VcbiAgICAgICAgICAgICAgLy8gaW5kZXggY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgLy8gKG9mZnNldEluSXRlbSkgY2FuIGNoYW5nZSBkdWUgdG8gZGlmZmVyZW50IGxheW91dCBjYXVzZWQgYnlcbiAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IHZpZXdwb3J0IHNpemUuXG5cbiAgICAgICAgICAgICAgLy8gVXBkYXRlKDIwMTktMDMpOiB0byBhdm9pZCB1bmV4cGVjdGVkIHBhZ2UgbW92ZSAoZmlyc3QgcGFnZSB0byBuZXh0KSxcbiAgICAgICAgICAgICAgLy8ga2VlcCBwYWdlSW5kZXggPT0gMCB3aGVuIG9mZnNldEluSXRlbSA9PSAwXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24ucGFnZUluZGV4ID09IDAgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uLm9mZnNldEluSXRlbSA9PSAwXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbi5wYWdlSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBlcGFnZUNvdW50IGNvdW50aW5nIGRlcGVuZHMgcmVuZGVyQWxsUGFnZXMgbW9kZVxuICAgICAgICAgICAgc2VsZi5vcGYuc2V0RVBhZ2VDb3VudE1vZGUoc2VsZi5yZW5kZXJBbGxQYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFdpdGggcmVuZGVyQWxsUGFnZXMgb3B0aW9uIHNwZWNpZmllZCwgdGhlIHJlbmRlcmluZyBpc1xuICAgICAgICAgICAgLy8gcGVyZm9ybWVkIGFmdGVyIHRoZSBpbml0aWFsIHBhZ2UgZGlzcGxheSwgb3RoZXJ3aXNlIHVzZXJzIGFyZVxuICAgICAgICAgICAgLy8gZm9yY2VkIHRvIHdhaXQgdGhlIHJlbmRlcmluZyBmaW5pc2ggaW4gZnJvbnQgb2YgYSBibGFuayBwYWdlLlxuICAgICAgICAgICAgc2VsZi5vcGZWaWV3XG4gICAgICAgICAgICAgIC5yZW5kZXJQYWdlc1VwdG8oc2VsZi5wYWdlUG9zaXRpb24sICFzZWxmLnJlbmRlckFsbFBhZ2VzKVxuICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uID0gcmVzdWx0LnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvd0N1cnJlbnQocmVzdWx0LnBhZ2UsIHRydWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2VsZi5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLklOVEVSQUNUSVZFKTtcblxuICAgICAgICAgICAgICAgICAgc2VsZi5vcGZcbiAgICAgICAgICAgICAgICAgICAgLmNvdW50RVBhZ2VzKChlcGFnZUNvdW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdDogXCJuYXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwYWdlQ291bnQ6IGVwYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogc2VsZi5jdXJyZW50UGFnZS5pc0ZpcnN0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IHNlbGYuY3VycmVudFBhZ2UuaXNMYXN0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzZWxmLm9wZi5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY1RpdGxlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZi5zcGluZVtzZWxmLnBhZ2VQb3NpdGlvbi5zcGluZUluZGV4XS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudFBhZ2UuaXNGaXJzdFBhZ2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxmLnBhZ2VQb3NpdGlvbi5wYWdlSW5kZXggPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZi5zcGluZVtzZWxmLnBhZ2VQb3NpdGlvbi5zcGluZUluZGV4XS5lcGFnZSlcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVwYWdlXCJdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGYuc3BpbmVbc2VsZi5wYWdlUG9zaXRpb24uc3BpbmVJbmRleF0uZXBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbGJhY2sobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVwb3J0UG9zaXRpb24oKS50aGVuKChwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gc2VsZi5yZW5kZXJBbGxQYWdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGYub3BmVmlldy5yZW5kZXJBbGxQYWdlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZW5kZXJUYXNrID09PSByZXNpemVUYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJUYXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyRW5kVGltaW5nKFwicmVuZGVyIChyZXNpemUpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZW5kZXJBbGxQYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5DT01QTEVURSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFjayh7IHQ6IFwibG9hZGVkXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoZnJhbWUsIGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFJlbmRlcmluZ0NhbmNlbGVkRXJyb3IpIHtcbiAgICAgICAgICAgICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlckVuZFRpbWluZyhcInJlbmRlciAocmVzaXplKVwiKTtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICksXG4gICAgICApO1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZExvY2F0aW9uTm90aWZpY2F0aW9uKFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY2ZpOiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJzZW5kTG9jYXRpb25Ob3RpZmljYXRpb25cIixcbiAgICApO1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHtcbiAgICAgIHQ6IFwibmF2XCIsXG4gICAgICBmaXJzdDogcGFnZS5pc0ZpcnN0UGFnZSxcbiAgICAgIGxhc3Q6IHBhZ2UuaXNMYXN0UGFnZSxcbiAgICAgIG1ldGFkYXRhOiB0aGlzLm9wZi5tZXRhZGF0YSxcbiAgICAgIGRvY1RpdGxlOiB0aGlzLm9wZi5zcGluZVtwYWdlLnNwaW5lSW5kZXhdLnRpdGxlLFxuICAgIH07XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcGZcbiAgICAgIC5nZXRFUGFnZUZyb21Qb3NpdGlvbihzZWxmLnBhZ2VQb3NpdGlvbiBhcyBFcHViLlBvc2l0aW9uKVxuICAgICAgLnRoZW4oKGVwYWdlKSA9PiB7XG4gICAgICAgIG5vdGlmaWNhdGlvbltcImVwYWdlXCJdID0gZXBhZ2U7XG4gICAgICAgIG5vdGlmaWNhdGlvbltcImVwYWdlQ291bnRcIl0gPSBzZWxmLm9wZi5lcGFnZUNvdW50O1xuICAgICAgICBpZiAoY2ZpKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiY2ZpXCJdID0gY2ZpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuY2FsbGJhY2sobm90aWZpY2F0aW9uKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMub3BmVmlld1xuICAgICAgPyB0aGlzLm9wZlZpZXcuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbih0aGlzLnBhZ2VQb3NpdGlvbilcbiAgICAgIDogbnVsbDtcbiAgfVxuXG4gIG1vdmVUbyhjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgbGV0IG1ldGhvZDogKCkgPT4gVGFzay5SZXN1bHQ8RXB1Yi5QYWdlQW5kUG9zaXRpb24+O1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmIChcbiAgICAgIHRoaXMucmVhZHlTdGF0ZSAhPT0gQ29uc3RhbnRzLlJlYWR5U3RhdGUuQ09NUExFVEUgJiZcbiAgICAgIGNvbW1hbmRbXCJ3aGVyZVwiXSAhPT0gXCJuZXh0XCJcbiAgICApIHtcbiAgICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wid2hlcmVcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgbGV0IG06IChcbiAgICAgICAgcG9zaXRpb246IEVwdWIuUG9zaXRpb24sXG4gICAgICAgIHN5bmM6IGJvb2xlYW4sXG4gICAgICApID0+IFRhc2suUmVzdWx0PEVwdWIuUGFnZUFuZFBvc2l0aW9uPjtcbiAgICAgIHN3aXRjaCAoY29tbWFuZFtcIndoZXJlXCJdKSB7XG4gICAgICAgIGNhc2UgXCJuZXh0XCI6XG4gICAgICAgICAgbSA9IHRoaXMucHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgICA/IHRoaXMub3BmVmlldy5uZXh0U3ByZWFkXG4gICAgICAgICAgICA6IHRoaXMub3BmVmlldy5uZXh0UGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInByZXZpb3VzXCI6XG4gICAgICAgICAgbSA9IHRoaXMucHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgICA/IHRoaXMub3BmVmlldy5wcmV2aW91c1NwcmVhZFxuICAgICAgICAgICAgOiB0aGlzLm9wZlZpZXcucHJldmlvdXNQYWdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGFzdFwiOlxuICAgICAgICAgIG0gPSB0aGlzLm9wZlZpZXcubGFzdFBhZ2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmaXJzdFwiOlxuICAgICAgICAgIG0gPSB0aGlzLm9wZlZpZXcuZmlyc3RQYWdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChtKSB7XG4gICAgICAgIG1ldGhvZCA9ICgpID0+XG4gICAgICAgICAgbS5jYWxsKHNlbGYub3BmVmlldywgc2VsZi5wYWdlUG9zaXRpb24sICFzZWxmLnJlbmRlckFsbFBhZ2VzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb21tYW5kW1wiZXBhZ2VcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgZXBhZ2UgPSBjb21tYW5kW1wiZXBhZ2VcIl0gYXMgbnVtYmVyO1xuICAgICAgbWV0aG9kID0gKCkgPT5cbiAgICAgICAgc2VsZi5vcGZWaWV3Lm5hdmlnYXRlVG9FUGFnZShcbiAgICAgICAgICBlcGFnZSxcbiAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbixcbiAgICAgICAgICAhc2VsZi5yZW5kZXJBbGxQYWdlcyxcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb21tYW5kW1widXJsXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IHVybCA9IGNvbW1hbmRbXCJ1cmxcIl0gYXMgc3RyaW5nO1xuICAgICAgbWV0aG9kID0gKCkgPT5cbiAgICAgICAgc2VsZi5vcGZWaWV3Lm5hdmlnYXRlVG8odXJsLCBzZWxmLnBhZ2VQb3NpdGlvbiwgIXNlbGYucmVuZGVyQWxsUGFnZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcIm1vdmVUb1wiKTtcbiAgICBtZXRob2QuY2FsbChzZWxmLm9wZlZpZXcpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbiA9IHJlc3VsdC5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgaW5uZXJGcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgICAgICAgXCJtb3ZlVG8uc2hvd0N1cnJlbnRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29udCA9IGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgICAgIHNlbGYuc2hvd0N1cnJlbnQocmVzdWx0LnBhZ2UsICFzZWxmLnJlbmRlckFsbFBhZ2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZWxmLnJlcG9ydFBvc2l0aW9uKCkudGhlbkZpbmlzaChpbm5lckZyYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgICBjb250LnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAoc2VsZi5yZWFkeVN0YXRlID09PSBDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgc2VsZi5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLklOVEVSQUNUSVZFKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNob3dUT0MoY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGF1dG9oaWRlID0gISFjb21tYW5kW1wiYXV0b2hpZGVcIl07XG4gICAgY29uc3QgdmlzaWJpbGl0eSA9IGNvbW1hbmRbXCJ2XCJdO1xuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmlsaXR5ID0gdGhpcy5vcGZWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICAgIGNvbnN0IGNoYW5nZUF1dG9oaWRlID1cbiAgICAgIGF1dG9oaWRlICE9IHRoaXMub3BmVmlldy50b2NBdXRvaGlkZSAmJiB2aXNpYmlsaXR5ICE9IFwiaGlkZVwiO1xuICAgIGlmIChjdXJyZW50VmlzaWJpbGl0eSkge1xuICAgICAgaWYgKHZpc2liaWxpdHkgPT0gXCJzaG93XCIgJiYgIWNoYW5nZUF1dG9oaWRlKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZpc2liaWxpdHkgPT0gXCJoaWRlXCIpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudFZpc2liaWxpdHkgJiYgdmlzaWJpbGl0eSAhPSBcInNob3dcIikge1xuICAgICAgdGhpcy5vcGZWaWV3LmhpZGVUT0MoKTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJzaG93VE9DXCIpO1xuICAgICAgdGhpcy5vcGZWaWV3LnNob3dUT0MoYXV0b2hpZGUpLnRoZW4oKHBhZ2UpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgICBpZiAoY2hhbmdlQXV0b2hpZGUpIHtcbiAgICAgICAgICAgIHBhZ2UubGlzdGVuZXJzID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhdXRvaGlkZSkge1xuICAgICAgICAgICAgY29uc3QgaGlkZVRPQyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgc2VsZi5vcGZWaWV3LmhpZGVUT0MoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgaGlkZVRPQywgZmFsc2UpO1xuICAgICAgICAgICAgLy8gcGFnZS5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVUT0MsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFnZS5hZGRFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIHNlbGYuaHlwZXJsaW5rTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gIH1cblxuICBydW5Db21tYW5kKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gY29tbWFuZFtcImFcIl0gfHwgXCJcIjtcbiAgICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgICBcInJ1bkNvbW1hbmRcIixcbiAgICAgIChmcmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBzZWxmLmFjdGlvbnNbYWN0aW9uTmFtZV07XG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICBhY3Rpb24uY2FsbChzZWxmLCBjb21tYW5kKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHNlbGYuY2FsbGJhY2soeyB0OiBcImRvbmVcIiwgYTogYWN0aW9uTmFtZSB9KTtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcIk5vIHN1Y2ggYWN0aW9uOlwiLCBhY3Rpb25OYW1lKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoZnJhbWUsIGVycikgPT4ge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihlcnIsIFwiRXJyb3IgZHVyaW5nIGFjdGlvbjpcIiwgYWN0aW9uTmFtZSk7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIGluaXRFbWJlZChjbWQ6IEJhc2UuSlNPTiB8IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBjb21tYW5kID0gbWF5YmVQYXJzZShjbWQpO1xuICAgIGxldCBjb250aW51YXRpb246IFRhc2suQ29udGludWF0aW9uPGJvb2xlYW4+IHwgbnVsbCA9IG51bGw7XG4gICAgY29uc3Qgdmlld2VyID0gdGhpcztcbiAgICBUYXNrLnN0YXJ0KCgpID0+IHtcbiAgICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNvbW1hbmRMb29wXCIpO1xuICAgICAgY29uc3Qgc2NoZWR1bGVyID0gVGFzay5jdXJyZW50VGFzaygpLmdldFNjaGVkdWxlcigpO1xuICAgICAgdmlld2VyLmh5cGVybGlua0xpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgICAgICBjb25zdCBocmVmRXZlbnQgPSBldnQgYXMgVnRyZWUuUGFnZUh5cGVybGlua0V2ZW50O1xuICAgICAgICBjb25zdCBpbnRlcm5hbCA9XG4gICAgICAgICAgaHJlZkV2ZW50LmhyZWYuY2hhckF0KDApID09PSBcIiNcIiB8fFxuICAgICAgICAgIHZpZXdlci5wYWNrYWdlVVJMLnNvbWUoXG4gICAgICAgICAgICAodXJsKSA9PiBocmVmRXZlbnQuaHJlZi5zdWJzdHIoMCwgdXJsLmxlbmd0aCkgPT0gdXJsLFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChpbnRlcm5hbCkge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgICAgICAgIHQ6IFwiaHlwZXJsaW5rXCIsXG4gICAgICAgICAgICBocmVmOiBocmVmRXZlbnQuaHJlZixcbiAgICAgICAgICAgIGludGVybmFsOiBpbnRlcm5hbCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNjaGVkdWxlci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgdmlld2VyLmNhbGxiYWNrKG1zZyk7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKHZpZXdlci5uZWVkUmVzaXplKSB7XG4gICAgICAgICAgICB2aWV3ZXIucmVzaXplKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmlld2VyLm5lZWRSZWZyZXNoKSB7XG4gICAgICAgICAgICBpZiAodmlld2VyLmN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICAgIHZpZXdlci5zaG93Q3VycmVudCh2aWV3ZXIuY3VycmVudFBhZ2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBjb21tYW5kO1xuICAgICAgICAgICAgY29tbWFuZCA9IG51bGw7XG4gICAgICAgICAgICB2aWV3ZXIucnVuQ29tbWFuZChjbWQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVJbnRlcm5hbDogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgICAgICAgICAgIFwid2FpdEZvckNvbW1hbmRcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb250aW51YXRpb24gPSBmcmFtZUludGVybmFsLnN1c3BlbmQoc2VsZik7XG4gICAgICAgICAgICBmcmFtZUludGVybmFsLnJlc3VsdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9KTtcbiAgICB2aWV3ZXIua2ljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnQgPSBjb250aW51YXRpb247XG4gICAgICBpZiAoY29udCkge1xuICAgICAgICBjb250aW51YXRpb24gPSBudWxsO1xuICAgICAgICBjb250LnNjaGVkdWxlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmlld2VyLnNlbmRDb21tYW5kID0gKGNtZCkgPT4ge1xuICAgICAgaWYgKGNvbW1hbmQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29tbWFuZCA9IG1heWJlUGFyc2UoY21kKTtcbiAgICAgIHZpZXdlci5raWNrKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHRoaXMud2luZG93W1wiYWRhcHRfY29tbWFuZFwiXSA9IHZpZXdlci5zZW5kQ29tbWFuZDtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFpvb21UeXBlIHtcbiAgRklUX0lOU0lERV9WSUVXUE9SVCA9IFwiZml0IGluc2lkZSB2aWV3cG9ydFwiLFxufVxuXG4vKipcbiAqIEVycm9yIHJlcHJlc2VudGluZyB0aGF0IHRoZSByZW5kZXJpbmcgaGFzIGJlZW4gY2FuY2VsZWQuXG4gKi9cbmNsYXNzIFJlbmRlcmluZ0NhbmNlbGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWU6IHN0cmluZyA9IFwiUmVuZGVyaW5nQ2FuY2VsZWRFcnJvclwiO1xuICBtZXNzYWdlOiBzdHJpbmcgPSBcIlBhZ2UgcmVuZGVyaW5nIGhhcyBiZWVuIGNhbmNlbGVkXCI7XG4gIHN0YWNrOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvLyBTZXQgdGhlIHByb3RvdHlwZSBleHBsaWNpdGx5LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC93aWtpL0JyZWFraW5nLUNoYW5nZXMjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlbmRlcmluZ0NhbmNlbGVkRXJyb3IucHJvdG90eXBlKTtcbiAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2UoY21kOiBhbnkpOiBCYXNlLkpTT04ge1xuICBpZiAodHlwZW9mIGNtZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIEJhc2Uuc3RyaW5nVG9KU09OKGNtZCk7XG4gIH1cbiAgcmV0dXJuIGNtZDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOCBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvcmVWaWV3ZXIgLSBWaXZsaW9zdHlsZSBDb3JlVmlld2VyIGNsYXNzXG4gKi9cbmltcG9ydCAqIGFzIEFkYXB0aXZlVmlld2VyIGZyb20gXCIuL2FkYXB0aXZlLXZpZXdlclwiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBQcm9maWxlIGZyb20gXCIuL3Byb2ZpbGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQYXlsb2FkIHtcbiAgdHlwZTogc3RyaW5nO1xuICBpbnRlcm5hbDogYm9vbGVhbjtcbiAgaHJlZjogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGNmaTogc3RyaW5nO1xuICBmaXJzdDogYm9vbGVhbjtcbiAgbGFzdDogYm9vbGVhbjtcbiAgZXBhZ2U6IHVua25vd247XG4gIGVwYWdlQ291bnQ6IG51bWJlcjtcbiAgbWV0YWRhdGE6IHVua25vd247XG4gIGRvY1RpdGxlOiBzdHJpbmc7XG59XG5cbmNvbnN0IFBhZ2VQcm9ncmVzc2lvbiA9IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb247XG5cbi8qKlxuICogVmlld2VyIHNldHRpbmdzIHRoYXQgbXVzdCBiZSBwYXNzZWQgdG8gVmlld2VyJ3MgY29uc3RydWN0b3IuXG4gKiAtIHVzZXJBZ2VudFJvb3RVUkw6IFVSTCBvZiBhIGRpcmVjdG9yeSBmcm9tIHdoaWNoIHZpZXdlciByZXNvdXJjZSBmaWxlc1xuICogICAodW5kZXIgcmVzb3VyY2VzLyBkaXJlY3RvcnkgaW4gdGhlIHNvdXJjZSByZXBvc2l0b3J5KSBhcmUgc2VydmVkLlxuICogLSB2aWV3cG9ydEVsZW1lbnQ6IEFuIGVsZW1lbnQgdXNlZCBhcyB0aGUgdmlld3BvcnQgb2YgdGhlIGRpc3BsYXllZCBjb250ZW50cy5cbiAqIC0gd2luZG93OiBXaW5kb3cgb2JqZWN0LiBJZiBvbWl0dGVkLCBjdXJyZW50IGB3aW5kb3dgIGlzIHVzZWQuXG4gKiAtIGRlYnVnOiBEZWJ1ZyBmbGFnLlxuICovXG5leHBvcnQgdHlwZSBDb3JlVmlld2VyU2V0dGluZ3MgPSB7XG4gIHVzZXJBZ2VudFJvb3RVUkw/OiBzdHJpbmc7XG4gIHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIHdpbmRvdz86IFdpbmRvdztcbiAgZGVidWc/OiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBWaWV3ZXIgb3B0aW9ucyB0aGF0IGNhbiBiZSBzZXQgYWZ0ZXIgdGhlIFZpZXdlciBvYmplY3QgaXMgY29uc3RydWN0ZWQuXG4gKiAtIGF1dG9SZXNpemU6IFJ1biBsYXlvdXQgYWdhaW4gd2hlbiB0aGUgd2luZG93IGlzIHJlc2l6ZWQuIGRlZmF1bHQ6IHRydWVcbiAqIC0gZm9udFNpemU6IERlZmF1bHQgZm9udCBzaXplIChweCkuIGRlZmF1bHQ6IDE2XG4gKiAtIHBhZ2VCb3JkZXJXaWR0aDogV2lkdGggb2YgYSBib3JkZXIgYmV0d2VlbiB0d28gcGFnZXMgaW4gYSBzaW5nbGVcbiAqICAgc3ByZWFkIChweCkuIEVmZmVjdGl2ZSBvbmx5IGluIHNwcmVhZCB2aWV3IG1vZGUuIGRlZmF1bHQ6IDFcbiAqIC0gcmVuZGVyQWxsUGFnZXM6IFJlbmRlciBhbGwgcGFnZXMgYXQgdGhlIGRvY3VtZW50IGxvYWQgdGltZS4gZGVmYXVsdDogdHJ1ZVxuICogLSBwYWdlVmlld01vZGU6IFBhZ2UgdmlldyBtb2RlIChzaW5nbGVQYWdlIC8gc3ByZWFkIC8gYXV0b1NwcmVhZCkuXG4gKiAgIGRlZmF1bHQ6IHNpbmdsZVBhZ2VcbiAqIC0gem9vbTogWm9vbSBmYWN0b3Igd2l0aCB3aGljaCBwYWdlcyBhcmUgZGlzcGxheWVkLiBkZWZhdWx0OiAxXG4gKiAtIGZpdFRvU2NyZWVuOiBBdXRvIGFkanVzdCB6b29tIGZhY3RvciB0byBmaXQgdGhlIHNjcmVlbi4gZGVmYXVsdDogZmFsc2VcbiAqIC0gZGVmYXVsdFBhcGVyU2l6ZTogRGVmYXVsdCBwYXBlciBzaXplIGluIHB4LiBFZmZlY3RpdmUgd2hlbiBgQHBhZ2VgIHNpemVcbiAqICAgaXMgc2V0IHRvIGF1dG8uIGRlZmF1bHQ6IHVuZGVmaW5lZCAobWVhbnMgdGhlIHdpbmRvd3Mgc2l6ZSBpcyB1c2VkIGFzXG4gKiAgIHBhcGVyIHNpemUpLlxuICovXG5leHBvcnQgdHlwZSBDb3JlVmlld2VyT3B0aW9ucyA9IHtcbiAgYXV0b1Jlc2l6ZT86IGJvb2xlYW47XG4gIGZvbnRTaXplPzogbnVtYmVyO1xuICBwYWdlQm9yZGVyV2lkdGg/OiBudW1iZXI7XG4gIHJlbmRlckFsbFBhZ2VzPzogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlPzogQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlO1xuICB6b29tPzogbnVtYmVyO1xuICBmaXRUb1NjcmVlbj86IGJvb2xlYW47XG4gIGRlZmF1bHRQYXBlclNpemU/OiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG59O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0Vmlld2VyT3B0aW9ucygpOiBDb3JlVmlld2VyT3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgYXV0b1Jlc2l6ZTogdHJ1ZSxcbiAgICBmb250U2l6ZTogMTYsXG4gICAgcGFnZUJvcmRlcldpZHRoOiAxLFxuICAgIHJlbmRlckFsbFBhZ2VzOiB0cnVlLFxuICAgIHBhZ2VWaWV3TW9kZTogQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFELFxuICAgIHpvb206IDEsXG4gICAgZml0VG9TY3JlZW46IGZhbHNlLFxuICAgIGRlZmF1bHRQYXBlclNpemU6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFZpZXdlck9wdGlvbnMob3B0aW9uczogQ29yZVZpZXdlck9wdGlvbnMpOiBvYmplY3Qge1xuICBjb25zdCBjb252ZXJ0ZWQgPSB7fTtcbiAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdiA9IG9wdGlvbnNba2V5XTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBcImF1dG9SZXNpemVcIjpcbiAgICAgICAgY29udmVydGVkW1wiYXV0b3Jlc2l6ZVwiXSA9IHY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZ2VCb3JkZXJXaWR0aFwiOlxuICAgICAgICBjb252ZXJ0ZWRbXCJwYWdlQm9yZGVyXCJdID0gdjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb252ZXJ0ZWRba2V5XSA9IHY7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNvbnZlcnRlZDtcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciB0aGUgZGlzcGxheWVkIGRvY3VtZW50LlxuICogLSBkb2N1bWVudE9iamVjdDogRG9jdW1lbnQgb2JqZWN0IGZvciB0aGUgZG9jdW1lbnQuIElmIHByb3ZpZGVkLCBpdCBpcyB1c2VkXG4gKiAgIGRpcmVjdGx5IHdpdGhvdXQgcGFyc2luZyB0aGUgc291cmNlIGFnYWluLlxuICogLSBmcmFnbWVudDogRnJhZ21lbnRhdGlvbiBpZGVudGlmaWVyIChFUFVCIENGSSkgb2YgdGhlIGxvY2F0aW9uIGluIHRoZVxuICogICBkb2N1bWVudCB3aGljaCBpcyB0byBiZSBkaXNwbGF5ZWQuXG4gKiAtIGF1dGhvclN0eWxlU2hlZXQ6IEFuIGFycmF5IG9mIGF1dGhvciBzdHlsZSBzaGVldHMgdG8gYmUgaW5qZWN0ZWQgYWZ0ZXIgYWxsXG4gKiAgIGF1dGhvciBzdHlsZSBzaGVldHMgcmVmZXJlbmNlZCBmcm9tIHRoZSBkb2N1bWVudC4gQSBzaW5nbGUgc3R5bGVzaGVldCBtYXlcbiAqICAgYmUgYSBVUkwgb2YgdGhlIHN0eWxlIHNoZWV0IG9yIGEgdGV4dCBjb250ZW50IG9mIHRoZSBzdHlsZSBzaGVldC5cbiAqIC0gdXNlclN0eWxlU2hlZXQ6IEFuIGFycmF5IG9mIHVzZXIgc3R5bGUgc2hlZXRzIHRvIGJlIGluamVjdGVkLlxuICogICBBIHNpbmdsZSBzdHlsZXNoZWV0IG1heSBiZSBhIFVSTCBvZiB0aGUgc3R5bGUgc2hlZXQgb3IgYSB0ZXh0IGNvbnRlbnQgb2ZcbiAqICAgdGhlIHN0eWxlIHNoZWV0LlxuICovXG5leHBvcnQgdHlwZSBEb2N1bWVudE9wdGlvbnMgPSB7XG4gIGRvY3VtZW50T2JqZWN0PzogRG9jdW1lbnQ7XG4gIGZyYWdtZW50Pzogc3RyaW5nO1xuICBhdXRob3JTdHlsZVNoZWV0PzogeyB1cmw/OiBzdHJpbmc7IHRleHQ/OiBzdHJpbmcgfVtdO1xuICB1c2VyU3R5bGVTaGVldD86IHsgdXJsPzogc3RyaW5nOyB0ZXh0Pzogc3RyaW5nIH1bXTtcbn07XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBzaW5nbGUgc291cmNlIGRvY3VtZW50LlxuICogLSB1cmw6IFVSTCBvZiB0aGUgZG9jdW1lbnQuXG4gKiAtIHN0YXJ0UGFnZTogSWYgc3BlY2lmaWVkLCB0aGUgYHBhZ2VgIHBhZ2UtYmFzZWQgY291bnRlciBpcyBzZXQgdG8gdGhlXG4gKiAgIHNwZWNpZmllZCB2YWx1ZSBvbiB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgZG9jdW1lbnQuIEl0IGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgc3BlY2lmeWluZyBgY291bnRlci1yZXNldDogcGFnZSBbc3BlY2lmaWVkIHZhbHVlIC0gMV1gIG9uIHRoYXQgcGFnZS5cbiAqIC0gc2tpcFBhZ2VzQmVmb3JlOiBJZiBzcGVjaWZpZWQsIHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gKiAgIGluY3JlbWVudGVkIGJ5IHRoZSBzcGVjaWZpZWQgdmFsdWUgKmJlZm9yZSogdXBkYXRpbmcgcGFnZS1iYXNlZCBjb3VudGVyc1xuICogICBvbiB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgZG9jdW1lbnQuXG4gKiAgIFRoaXMgb3B0aW9uIGlzIGlnbm9yZWQgaWYgYHN0YXJ0UGFnZU51bWJlcmAgb3B0aW9uIGlzIGFsc28gc3BlY2lmaWVkLlxuICovXG5leHBvcnQgdHlwZSBTaW5nbGVEb2N1bWVudE9wdGlvbnMgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIHVybDogc3RyaW5nO1xuICAgICAgc3RhcnRQYWdlPzogbnVtYmVyO1xuICAgICAgc2tpcFBhZ2VzQmVmb3JlPzogbnVtYmVyO1xuICAgIH07XG5cbi8qKlxuICogVml2bGlvc3R5bGUgVmlld2VyIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQ29yZVZpZXdlciB7XG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBhZGFwdFZpZXdlcl86IEFkYXB0aXZlVmlld2VyLkFkYXB0aXZlVmlld2VyO1xuICBwcml2YXRlIG9wdGlvbnM6IENvcmVWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIGV2ZW50VGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICByZWFkeVN0YXRlOiBDb25zdGFudHMuUmVhZHlTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBDb3JlVmlld2VyU2V0dGluZ3MsXG4gICAgb3B0X29wdGlvbnM/OiBDb3JlVmlld2VyT3B0aW9ucyxcbiAgKSB7XG4gICAgQ29uc3RhbnRzLnNldERlYnVnKHNldHRpbmdzLmRlYnVnKTtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXyA9IG5ldyBBZGFwdGl2ZVZpZXdlci5BZGFwdGl2ZVZpZXdlcihcbiAgICAgIHNldHRpbmdzW1wid2luZG93XCJdIHx8IHdpbmRvdyxcbiAgICAgIHNldHRpbmdzW1widmlld3BvcnRFbGVtZW50XCJdLFxuICAgICAgXCJtYWluXCIsXG4gICAgICB0aGlzLmRpc3BhdGNoZXIuYmluZCh0aGlzKSxcbiAgICApO1xuICAgIHRoaXMub3B0aW9ucyA9IGdldERlZmF1bHRWaWV3ZXJPcHRpb25zKCk7XG4gICAgaWYgKG9wdF9vcHRpb25zKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0X29wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gbmV3IEJhc2UuU2ltcGxlRXZlbnRUYXJnZXQoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkeVN0YXRlXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnJlYWR5U3RhdGU7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBWaWV3ZXJPcHRpb25zIHRvIHRoZSB2aWV3ZXIuXG4gICAqL1xuICBzZXRPcHRpb25zKG9wdGlvbnM6IENvcmVWaWV3ZXJPcHRpb25zKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IGE6IFwiY29uZmlndXJlXCIgfSxcbiAgICAgIGNvbnZlcnRWaWV3ZXJPcHRpb25zKG9wdGlvbnMpLFxuICAgICk7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoY29tbWFuZCk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaGVyKG1zZzogQmFzZS5KU09OKSB7XG4gICAgLyoqIEBkaWN0ICovXG4gICAgY29uc3QgZXZlbnQgPSB7IHR5cGU6IG1zZ1tcInRcIl0gfTtcbiAgICBjb25zdCBvID0gbXNnIGFzIG9iamVjdDtcbiAgICBPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChrZXkgIT09IFwidFwiKSB7XG4gICAgICAgIGV2ZW50W2tleV0gPSBvW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiwgd2hpY2ggaXMgaW52b2tlZCB3aGVuIHRoZSBzcGVjaWZpZWQgdHlwZSBvZiBldmVudFxuICAgKiBpcyBkaXNwYXRjaGVkLlxuICAgKiBAcGFyYW0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRMaXN0ZW5lcih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAocGF5bG9hZDogUGF5bG9hZCkgPT4gdm9pZCkge1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGUsXG4gICAgICBsaXN0ZW5lciBhcyBCYXNlLkV2ZW50TGlzdGVuZXIsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lci5cbiAgICogQHBhcmFtIHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogKHBheWxvYWQ6IFBheWxvYWQpID0+IHZvaWQpIHtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlLFxuICAgICAgbGlzdGVuZXIgYXMgQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIEhUTUwgb3IgWE1MIGRvY3VtZW50KHMpLlxuICAgKi9cbiAgbG9hZERvY3VtZW50KFxuICAgIHNpbmdsZURvY3VtZW50T3B0aW9uczogU2luZ2xlRG9jdW1lbnRPcHRpb25zIHwgU2luZ2xlRG9jdW1lbnRPcHRpb25zW10sXG4gICAgb3B0X2RvY3VtZW50T3B0aW9ucz86IERvY3VtZW50T3B0aW9ucyxcbiAgICBvcHRfdmlld2VyT3B0aW9ucz86IENvcmVWaWV3ZXJPcHRpb25zLFxuICApIHtcbiAgICBpZiAoIXNpbmdsZURvY3VtZW50T3B0aW9ucykge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBjb250ZW50OiBcIk5vIFVSTCBzcGVjaWZpZWRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmxvYWREb2N1bWVudE9yUHVibGljYXRpb24oXG4gICAgICBzaW5nbGVEb2N1bWVudE9wdGlvbnMsXG4gICAgICBudWxsLFxuICAgICAgb3B0X2RvY3VtZW50T3B0aW9ucyxcbiAgICAgIG9wdF92aWV3ZXJPcHRpb25zLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBFUFVCL1dlYlB1YiBwdWJsaWNhdGlvbi5cbiAgICovXG4gIGxvYWRQdWJsaWNhdGlvbihcbiAgICBwdWJVcmw6IHN0cmluZyxcbiAgICBvcHRfZG9jdW1lbnRPcHRpb25zPzogRG9jdW1lbnRPcHRpb25zLFxuICAgIG9wdF92aWV3ZXJPcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIGlmICghcHViVXJsKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiTm8gVVJMIHNwZWNpZmllZFwiLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMubG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbihcbiAgICAgIG51bGwsXG4gICAgICBwdWJVcmwsXG4gICAgICBvcHRfZG9jdW1lbnRPcHRpb25zLFxuICAgICAgb3B0X3ZpZXdlck9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIEhUTUwgb3IgWE1MIGRvY3VtZW50LCBvciBhbiBFUFVCL1dlYlB1YiBwdWJsaWNhdGlvbi5cbiAgICovXG4gIHByaXZhdGUgbG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbihcbiAgICBzaW5nbGVEb2N1bWVudE9wdGlvbnM6XG4gICAgICB8IFNpbmdsZURvY3VtZW50T3B0aW9uc1xuICAgICAgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNbXVxuICAgICAgfCBudWxsLFxuICAgIHB1YlVybDogc3RyaW5nIHwgbnVsbCxcbiAgICBvcHRfZG9jdW1lbnRPcHRpb25zPzogRG9jdW1lbnRPcHRpb25zLFxuICAgIG9wdF92aWV3ZXJPcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIGNvbnN0IGRvY3VtZW50T3B0aW9ucyA9IG9wdF9kb2N1bWVudE9wdGlvbnMgfHwge307XG5cbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KGFycikge1xuICAgICAgaWYgKGFycikge1xuICAgICAgICByZXR1cm4gYXJyLm1hcCgocykgPT4gKHsgdXJsOiBzLnVybCB8fCBudWxsLCB0ZXh0OiBzLnRleHQgfHwgbnVsbCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhdXRob3JTdHlsZVNoZWV0ID0gY29udmVydFN0eWxlU2hlZXRBcnJheShcbiAgICAgIGRvY3VtZW50T3B0aW9uc1tcImF1dGhvclN0eWxlU2hlZXRcIl0sXG4gICAgKTtcbiAgICBjb25zdCB1c2VyU3R5bGVTaGVldCA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkoXG4gICAgICBkb2N1bWVudE9wdGlvbnNbXCJ1c2VyU3R5bGVTaGVldFwiXSxcbiAgICApO1xuICAgIGlmIChvcHRfdmlld2VyT3B0aW9ucykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdF92aWV3ZXJPcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgY29tbWFuZCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIGE6IHNpbmdsZURvY3VtZW50T3B0aW9ucyA/IFwibG9hZFhNTFwiIDogXCJsb2FkUHVibGljYXRpb25cIixcbiAgICAgICAgdXNlckFnZW50Um9vdFVSTDogdGhpcy5zZXR0aW5nc1tcInVzZXJBZ2VudFJvb3RVUkxcIl0sXG4gICAgICAgIHVybDogY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyhzaW5nbGVEb2N1bWVudE9wdGlvbnMpIHx8IHB1YlVybCxcbiAgICAgICAgZG9jdW1lbnQ6IGRvY3VtZW50T3B0aW9uc1tcImRvY3VtZW50T2JqZWN0XCJdLFxuICAgICAgICBmcmFnbWVudDogZG9jdW1lbnRPcHRpb25zW1wiZnJhZ21lbnRcIl0sXG4gICAgICAgIGF1dGhvclN0eWxlU2hlZXQ6IGF1dGhvclN0eWxlU2hlZXQsXG4gICAgICAgIHVzZXJTdHlsZVNoZWV0OiB1c2VyU3R5bGVTaGVldCxcbiAgICAgIH0sXG4gICAgICBjb252ZXJ0Vmlld2VyT3B0aW9ucyh0aGlzLm9wdGlvbnMpLFxuICAgICk7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKGNvbW1hbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLmluaXRFbWJlZChjb21tYW5kKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWdlIHByb2dyZXNzaW9uIG9mIHRoZSB2aWV3ZXIuIElmIG5vIGRvY3VtZW50IGlzXG4gICAqIGxvYWRlZCwgcmV0dXJucyBudWxsLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzb2x2ZU5hdmlnYXRpb24obmF2OiBOYXZpZ2F0aW9uKTogTmF2aWdhdGlvbiB7XG4gICAgc3dpdGNoIChuYXYpIHtcbiAgICAgIGNhc2UgTmF2aWdhdGlvbi5MRUZUOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCkgPT09IFBhZ2VQcm9ncmVzc2lvbi5MVFJcbiAgICAgICAgICA/IE5hdmlnYXRpb24uUFJFVklPVVNcbiAgICAgICAgICA6IE5hdmlnYXRpb24uTkVYVDtcbiAgICAgIGNhc2UgTmF2aWdhdGlvbi5SSUdIVDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSXG4gICAgICAgICAgPyBOYXZpZ2F0aW9uLk5FWFRcbiAgICAgICAgICA6IE5hdmlnYXRpb24uUFJFVklPVVM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbmF2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byB0aGUgc3BlY2lmaWVkIHBhZ2UuXG4gICAqL1xuICBuYXZpZ2F0ZVRvUGFnZShuYXY6IE5hdmlnYXRpb24sIG9wdF9lcGFnZT86IG51bWJlcikge1xuICAgIGlmIChuYXYgPT09IE5hdmlnYXRpb24uRVBBR0UpIHtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKHtcbiAgICAgICAgYTogXCJtb3ZlVG9cIixcbiAgICAgICAgZXBhZ2U6IG9wdF9lcGFnZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7XG4gICAgICAgIGE6IFwibW92ZVRvXCIsXG4gICAgICAgIHdoZXJlOiB0aGlzLnJlc29sdmVOYXZpZ2F0aW9uKG5hdiksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gdGhlIHNwZWNpZmllZCBpbnRlcm5hbCBVUkwuXG4gICAqL1xuICBuYXZpZ2F0ZVRvSW50ZXJuYWxVcmwodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7IGE6IFwibW92ZVRvXCIsIHVybDogdXJsIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRydWUgaWYgVE9DIGlzIHZpc2libGUsIGZhbHNlIGlmIGhpZGRlbiwgbnVsbCBpZiBUT0MgaXMgdW5hdmFpbGFibGVcbiAgICovXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHwgbnVsbCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldyAmJlxuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldy5vcGYgJiZcbiAgICAgICh0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3Lm9wZi54aHRtbFRvYyB8fFxuICAgICAgICB0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3Lm9wZi5uY3hUb2MpXG4gICAgKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBvciBoaWRlIFRPQyBib3hcbiAgICogQHBhcmFtIG9wdF9hdXRvaGlkZSBJZiB0cnVlLCBhdXRvbWF0aWNhbGx5IGhpZGUgd2hlbiBjbGljayBUT0MgaXRlbVxuICAgKiBAcGFyYW0gb3B0X3Nob3cgSWYgdHJ1ZSBzaG93IFRPQywgZmFsc2UgaGlkZSBUT0MuIElmIG51bGwgb3IgdW5kZWZpbmVkIHRvZ2dsZSBUT0MuXG4gICAqL1xuICBzaG93VE9DKG9wdF9zaG93PzogYm9vbGVhbiB8IG51bGwsIG9wdF9hdXRvaGlkZT86IGJvb2xlYW4pIHtcbiAgICBjb25zdCB2aXNpYmlsaXR5ID0gb3B0X3Nob3cgPT0gbnVsbCA/IFwidG9nZ2xlXCIgOiBvcHRfc2hvdyA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoe1xuICAgICAgYTogXCJ0b2NcIixcbiAgICAgIHY6IHZpc2liaWxpdHksXG4gICAgICBhdXRvaGlkZTogb3B0X2F1dG9oaWRlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgem9vbSBmYWN0b3IgY29ycmVzcG9uZGluZyB0byB0aGUgc3BlY2lmaWVkIHpvb20gdHlwZS5cbiAgICovXG4gIHF1ZXJ5Wm9vbUZhY3Rvcih0eXBlOiBBZGFwdGl2ZVZpZXdlci5ab29tVHlwZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnF1ZXJ5Wm9vbUZhY3Rvcih0eXBlKTtcbiAgfVxuXG4gIGdldFBhZ2VTaXplcygpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXSB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnBhZ2VTaXplcztcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0U2luZ2xlRG9jdW1lbnRPcHRpb25zKFxuICBzaW5nbGVEb2N1bWVudE9wdGlvbnM6IFNpbmdsZURvY3VtZW50T3B0aW9ucyB8IFNpbmdsZURvY3VtZW50T3B0aW9uc1tdLFxuKTogQWRhcHRpdmVWaWV3ZXIuU2luZ2xlRG9jdW1lbnRQYXJhbVtdIHwgbnVsbCB7XG4gIGZ1bmN0aW9uIHRvTnVtYmVyT3JOdWxsKG51bTogYW55KTogbnVtYmVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHR5cGVvZiBudW0gPT09IFwibnVtYmVyXCIgPyBudW0gOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydChvcHQpIHtcbiAgICBpZiAodHlwZW9mIG9wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBvcHQsXG4gICAgICAgIHN0YXJ0UGFnZTogbnVsbCxcbiAgICAgICAgc2tpcFBhZ2VzQmVmb3JlOiBudWxsLFxuICAgICAgfSBhcyBBZGFwdGl2ZVZpZXdlci5TaW5nbGVEb2N1bWVudFBhcmFtO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IG9wdFtcInVybFwiXSxcbiAgICAgICAgc3RhcnRQYWdlOiB0b051bWJlck9yTnVsbChvcHRbXCJzdGFydFBhZ2VcIl0pLFxuICAgICAgICBza2lwUGFnZXNCZWZvcmU6IHRvTnVtYmVyT3JOdWxsKG9wdFtcInNraXBQYWdlc0JlZm9yZVwiXSksXG4gICAgICB9IGFzIEFkYXB0aXZlVmlld2VyLlNpbmdsZURvY3VtZW50UGFyYW07XG4gICAgfVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHNpbmdsZURvY3VtZW50T3B0aW9ucykpIHtcbiAgICByZXR1cm4gc2luZ2xlRG9jdW1lbnRPcHRpb25zLm1hcChjb252ZXJ0KTtcbiAgfSBlbHNlIGlmIChzaW5nbGVEb2N1bWVudE9wdGlvbnMpIHtcbiAgICByZXR1cm4gW2NvbnZlcnQoc2luZ2xlRG9jdW1lbnRPcHRpb25zKV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBOYXZpZ2F0aW9uIHtcbiAgUFJFVklPVVMgPSBcInByZXZpb3VzXCIsXG4gIE5FWFQgPSBcIm5leHRcIixcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbiAgRklSU1QgPSBcImZpcnN0XCIsXG4gIExBU1QgPSBcImxhc3RcIixcbiAgRVBBR0UgPSBcImVwYWdlXCIsXG59XG5cbmV4cG9ydCB0eXBlIFpvb21UeXBlID0gQWRhcHRpdmVWaWV3ZXIuWm9vbVR5cGU7XG5leHBvcnQgY29uc3QgWm9vbVR5cGUgPSBBZGFwdGl2ZVZpZXdlci5ab29tVHlwZTtcblxuZXhwb3J0IHR5cGUgUGFnZVZpZXdNb2RlID0gQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlO1xuZXhwb3J0IGNvbnN0IFBhZ2VWaWV3TW9kZSA9IEFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZTtcblxuZXhwb3J0IGNvbnN0IHZpZXdlciA9IHtcbiAgQ29yZVZpZXdlcixcbiAgUGFnZVZpZXdNb2RlLFxuICBab29tVHlwZSxcbn07XG5cblByb2ZpbGUucHJvZmlsZXIuZm9yY2VSZWdpc3RlckVuZFRpbWluZyhcImxvYWRfdml2bGlvc3R5bGVcIik7XG4iLCIvLyBKb2hhbm5lcyBXaWxtXG4vLyBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG5cbmltcG9ydCB7IENvcmVWaWV3ZXIgfSBmcm9tIFwiLi9jb3JlLXZpZXdlclwiO1xuaW1wb3J0IHZpZXdwb3J0Q3NzIGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvdml2bGlvc3R5bGUtdmlld3BvcnQuY3NzXCI7XG5pbXBvcnQgdmlld3BvcnRTY3JlZW5Dc3MgZnJvbSBcIi4uLy4uL3Jlc291cmNlcy92aXZsaW9zdHlsZS12aWV3cG9ydC1zY3JlZW4uY3NzXCI7XG5cbmludGVyZmFjZSBJRnJhbWVXaW5kb3dGb3JQcmludCB7XG4gIHByaW50SW5zdGFuY2U/OiBWaXZsaW9zdHlsZVByaW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByaW50Q29uZmlnIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgcHJpbnRDYWxsYmFjazogKGlmcmFtZVdpbjogV2luZG93KSA9PiB2b2lkO1xuICBoaWRlSWZyYW1lOiBib29sZWFuO1xuICByZW1vdmVJZnJhbWU6IGJvb2xlYW47XG59XG5cbmNsYXNzIFZpdmxpb3N0eWxlUHJpbnQge1xuICBodG1sRG9jOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHByaW50Q2FsbGJhY2s6IChpZnJhbWVXaW46IFdpbmRvdykgPT4gdm9pZDtcbiAgaGlkZUlmcmFtZTogYm9vbGVhbjtcbiAgcmVtb3ZlSWZyYW1lOiBib29sZWFuO1xuICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50O1xuICBpZnJhbWVXaW46IFdpbmRvdztcbiAgd2luZG93OiBXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcyAmIElGcmFtZVdpbmRvd0ZvclByaW50O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGh0bWxEb2M6IHN0cmluZyxcbiAgICB7XG4gICAgICB0aXRsZSA9IFwiXCIsXG4gICAgICBwcmludENhbGxiYWNrID0gKGlmcmFtZVdpbjogV2luZG93KSA9PiBpZnJhbWVXaW4ucHJpbnQoKSxcbiAgICAgIGhpZGVJZnJhbWUgPSB0cnVlLFxuICAgICAgcmVtb3ZlSWZyYW1lID0gdHJ1ZSxcbiAgICB9OiBQcmludENvbmZpZyxcbiAgKSB7XG4gICAgdGhpcy5odG1sRG9jID0gaHRtbERvYztcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5wcmludENhbGxiYWNrID0gcHJpbnRDYWxsYmFjaztcbiAgICB0aGlzLmhpZGVJZnJhbWUgPSBoaWRlSWZyYW1lO1xuICAgIHRoaXMucmVtb3ZlSWZyYW1lID0gcmVtb3ZlSWZyYW1lO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5cbiAgICBpZiAodGhpcy5oaWRlSWZyYW1lKSB7XG4gICAgICB0aGlzLmlmcmFtZS5zdHlsZS53aWR0aCA9IFwiMFwiOyAvLyBXZSBkb24ndCB3YW50IHRoZSBpZnJhbWUgdG8gYmUgc2Vlbiwgc28gd2UgbWFrZSBpdCB6ZXJvIHNpemUgd2l0aCB6ZXJvIGJvcmRlci5cbiAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMFwiO1xuICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuYm9yZGVyV2lkdGggPSBcIjBcIjtcbiAgICB9XG5cbiAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICB0aGlzLndpbmRvdy5wcmludEluc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmlmcmFtZS5zcmNkb2MgPSBgXG4gICAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICAgIDxodG1sIGRhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkPVwidHJ1ZVwiPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICA8bWV0YSBjaGFyc2V0PSd1dGYtOCcvPlxuICAgICAgICAgIDxtZXRhIG5hbWU9J3ZpZXdwb3J0JyBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wJy8+XG4gICAgICAgICAgPHRpdGxlPiR7dGhpcy50aXRsZX08L3RpdGxlPlxuICAgICAgICAgIDxzdHlsZT4ke3ZpZXdwb3J0Q3NzfTwvc3R5bGU+XG4gICAgICAgICAgPHN0eWxlPiR7dmlld3BvcnRTY3JlZW5Dc3N9PC9zdHlsZT5cbiAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICBodG1sW2RhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkXSB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sW2RhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkXSBib2R5LFxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0gW2RhdGEtdml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XSB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0sXG4gICAgICAgICAgICBodG1sW2RhdGEtdml2bGlvc3R5bGUtcGFnaW5hdGVkXSBib2R5IHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPHN0eWxlIGlkPSd2aXZsaW9zdHlsZS1wYWdlLXJ1bGVzJz48L3N0eWxlPlxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5IG9ubG9hZD0ncGFyZW50LnByaW50SW5zdGFuY2UucnVuSW5JZnJhbWUod2luZG93KSc+XG4gICAgICAgICAgPGRpdiBpZD1cInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiPjwvZGl2PlxuICAgICAgICA8L2JvZHk+XG4gICAgICA8L2h0bWw+YDtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5pZnJhbWUpO1xuICB9XG5cbiAgcnVuSW5JZnJhbWUoaWZyYW1lV2luOiBXaW5kb3cpIHtcbiAgICB0aGlzLmlmcmFtZVdpbiA9IGlmcmFtZVdpbjtcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlUHJpbnQoKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5icm93c2VyUHJpbnQoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuY2xlYW5VcCgpKTtcbiAgfVxuXG4gIHByZXBhcmVQcmludCgpIHtcbiAgICB0aGlzLmlmcmFtZVdpbi5kb2N1bWVudC50aXRsZSA9IHRoaXMudGl0bGU7XG4gICAgY29uc3QgZG9jQmxvYiA9IG5ldyBCbG9iKFt0aGlzLmh0bWxEb2NdLCB7XG4gICAgICAgIHR5cGU6IFwidGV4dC9odG1sXCIsXG4gICAgICB9KSxcbiAgICAgIGRvY1VSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZG9jQmxvYiksXG4gICAgICBWaWV3ZXIgPSBuZXcgQ29yZVZpZXdlcihcbiAgICAgICAge1xuICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDogdGhpcy5pZnJhbWVXaW4uZG9jdW1lbnQuYm9keVxuICAgICAgICAgICAgLmZpcnN0RWxlbWVudENoaWxkIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgIHdpbmRvdzogdGhpcy5pZnJhbWVXaW4sXG4gICAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBkZWZhdWx0UGFwZXJTaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogNzk0LCAvLyBUaGVzZSBudW1iZXJzIGdpdmUgd2VpcmQgb3V0cHV0LCBidXQgbm90IHNldHRpbmcgdGhlbSBjcmFzaGVzIHRoZSBicm93c2VyIHdoZW4gdGhlcmUgaXMgbm8gQ1NTLlxuICAgICAgICAgICAgaGVpZ2h0OiAxMTIyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgVmlld2VyLmFkZExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChWaWV3ZXIucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgVmlld2VyLmxvYWREb2N1bWVudCh7XG4gICAgICAgIHVybDogZG9jVVJMLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBicm93c2VyUHJpbnQoKSB7XG4gICAgdGhpcy5wcmludENhbGxiYWNrKHRoaXMuaWZyYW1lV2luKTtcbiAgfVxuXG4gIGNsZWFuVXAoKSB7XG4gICAgZGVsZXRlIHRoaXMud2luZG93LnByaW50SW5zdGFuY2U7XG4gICAgaWYgKHRoaXMucmVtb3ZlSWZyYW1lKSB7XG4gICAgICB0aGlzLmlmcmFtZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuaWZyYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50SFRNTChodG1sRG9jOiBzdHJpbmcsIGNvbmZpZzogUHJpbnRDb25maWcpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVml2bGlvc3R5bGVQcmludChodG1sRG9jLCBjb25maWcpO1xuICBpbnN0YW5jZS5pbml0KCk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVzY2FwZVVuaWNvZGVDaGFyKGNoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFxcXFx1JHsoMHgxMDAwMCB8IGNoLmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9YDtcbiAgfSxcbiAgZXNjYXBlVW5pY29kZVN0cmluZyhzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvW14tYS16QS1aMC05X10vZywgdGhpcy5lc2NhcGVVbmljb2RlQ2hhcik7XG4gIH0sXG4gIHBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRVbmVuY29kZWRQZXJjZW50KHN0cik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8lKD8hWzAtOUEtRmEtZl17Mn0pL2csIFwiJTI1XCIpLnJlcGxhY2UoLyYvZywgXCIlMjZcIik7XG4gIH0sXG4gIHBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRQZXJjZW50KHN0cik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8lL2csIFwiJTI1XCIpLnJlcGxhY2UoLyYvZywgXCIlMjZcIik7XG4gIH0sXG4gIHBlcmNlbnREZWNvZGVBbXBlcnNhbmRBbmRQZXJjZW50KHN0cik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8lMjYvZywgXCImXCIpLnJlcGxhY2UoLyUyNS9nLCBcIiVcIik7XG4gIH0sXG4gIHBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJKHN0cik6IHN0cmluZyB7XG4gICAgcmV0dXJuIGVuY29kZVVSSShzdHIpXG4gICAgICAucmVwbGFjZSgvIy9nLCBcIiUyM1wiKVxuICAgICAgLnJlcGxhY2UoLyYvZywgXCIlMjZcIik7XG4gIH0sXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHN0cmluZ1V0aWwgZnJvbSBcIi4uL3V0aWxzL3N0cmluZy11dGlsXCI7XG5cbmZ1bmN0aW9uIGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lOiBzdHJpbmcpOiBSZWdFeHAge1xuICByZXR1cm4gbmV3IFJlZ0V4cChgWyMmXSR7c3RyaW5nVXRpbC5lc2NhcGVVbmljb2RlU3RyaW5nKG5hbWUpfT0oW14mXSopYCwgXCJnXCIpO1xufVxuXG5jbGFzcyBVUkxQYXJhbWV0ZXJTdG9yZSB7XG4gIGhpc3Rvcnk6IEhpc3RvcnkgfCBudWxsO1xuICBsb2NhdGlvbjogTG9jYXRpb24gfCB7IGhyZWY6IFwiXCIgfTtcbiAgc3RvcmVkVXJsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gd2luZG93ID8gd2luZG93Lmhpc3RvcnkgOiBudWxsO1xuICAgIHRoaXMubG9jYXRpb24gPSB3aW5kb3cgPyB3aW5kb3cubG9jYXRpb24gOiB7IGhyZWY6IFwiXCIgfTtcbiAgICB0aGlzLnN0b3JlZFVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgfVxuXG4gIGdldEJhc2VVUkwoKTogc3RyaW5nIHtcbiAgICBsZXQgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIHVybCA9IHVybC5yZXBsYWNlKC8jLiokLywgXCJcIik7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXC9bXi9dKiQvLCBcIi9cIik7XG4gIH1cblxuICBoYXNQYXJhbWV0ZXIobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICByZXR1cm4gcmVnZXhwLnRlc3QodXJsKTtcbiAgfVxuXG4gIGdldFBhcmFtZXRlcihuYW1lOiBzdHJpbmcpOiBBcnJheTxzdHJpbmc+IHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gICAgY29uc3QgcmVnZXhwID0gZ2V0UmVnRXhwRm9yUGFyYW1ldGVyKG5hbWUpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBsZXQgcjtcbiAgICB3aGlsZSAoKHIgPSByZWdleHAuZXhlYyh1cmwpKSkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXI9fSBpbmRleCBzcGVjaWZpZXMgaW5kZXggaW4gbXVsdGlwbGUgcGFyYW1ldGVycyB3aXRoIHNhbWUgbmFtZS5cbiAgICovXG4gIHNldFBhcmFtZXRlcihuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGluZGV4PzogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCB1cGRhdGVkO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICBsZXQgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgaWYgKHIgJiYgaW5kZXgpIHtcbiAgICAgIHdoaWxlIChpbmRleC0tID49IDEpIHtcbiAgICAgICAgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyKSB7XG4gICAgICBjb25zdCBsID0gclsxXS5sZW5ndGg7XG4gICAgICBjb25zdCBzdGFydCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aCAtIGw7XG4gICAgICB1cGRhdGVkID0gdXJsLnN1YnN0cmluZygwLCBzdGFydCkgKyB2YWx1ZSArIHVybC5zdWJzdHJpbmcoc3RhcnQgKyBsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlZCA9IGAke3VybCArXG4gICAgICAgICh1cmwubWF0Y2goL1sjJl0kLykgPyBcIlwiIDogdXJsLm1hdGNoKC8jLykgPyBcIiZcIiA6IFwiI1wiKSArXG4gICAgICAgIG5hbWV9PSR7dmFsdWV9YDtcbiAgICAgIGlmIChuYW1lID09PSBcInNyY1wiKSB7XG4gICAgICAgIC8vIFwic3JjXCIgc2hvdWxkIGJlIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucmVwbGFjZSgvIyg/IXNyYykoLio/KSYoc3JjPVteJl0qKS8sIFwiIyQyJiQxXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5oaXN0b3J5ICE9PSBudWxsICYmIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgdXBkYXRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9jYXRpb24uaHJlZiA9IHVwZGF0ZWQ7XG4gICAgfVxuICAgIHRoaXMuc3RvcmVkVXJsID0gdXBkYXRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBrZWVwRmlyc3QgSWYgdHJ1ZSwgbm90IHJlbW92ZSB0aGUgZmlyc3Qgb25lIGluIG11bHRpcGxlIHBhcmFtZXRlcnMgd2l0aCBzYW1lIG5hbWUuXG4gICAqL1xuICByZW1vdmVQYXJhbWV0ZXIobmFtZTogc3RyaW5nLCBrZWVwRmlyc3Q/OiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCB1cGRhdGVkO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICBsZXQgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgaWYgKHIgJiYga2VlcEZpcnN0KSB7XG4gICAgICByID0gcmVnZXhwLmV4ZWModXJsKTtcbiAgICB9XG4gICAgaWYgKHIpIHtcbiAgICAgIHVwZGF0ZWQgPSB1cmw7XG4gICAgICBmb3IgKDsgcjsgciA9IHJlZ2V4cC5leGVjKHVwZGF0ZWQpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aDtcbiAgICAgICAgaWYgKHJbMF0uY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgICAgICAgdXBkYXRlZCA9XG4gICAgICAgICAgICB1cGRhdGVkLnN1YnN0cmluZygwLCByLmluZGV4ICsgMSkgKyB1cGRhdGVkLnN1YnN0cmluZyhlbmQgKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVkID0gdXBkYXRlZC5zdWJzdHJpbmcoMCwgci5pbmRleCkgKyB1cGRhdGVkLnN1YnN0cmluZyhlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2V4cC5sYXN0SW5kZXggLT0gclswXS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB1cGRhdGVkID0gdXBkYXRlZC5yZXBsYWNlKC9eKC4qPylbIyZdJC8sIFwiJDFcIik7XG4gICAgICBpZiAodGhpcy5oaXN0b3J5ICE9PSBudWxsICYmIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCB1cGRhdGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24uaHJlZiA9IHVwZGF0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RvcmVkVXJsID0gdXBkYXRlZDtcbiAgfVxufVxuXG5jb25zdCBpbnN0YW5jZSA9IG5ldyBVUkxQYXJhbWV0ZXJTdG9yZSgpO1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgUGFnZVN0eWxlIGZyb20gXCIuL3BhZ2Utc3R5bGVcIjtcbmltcG9ydCB1cmxQYXJhbWV0ZXJzIGZyb20gXCIuLi9zdG9yZXMvdXJsLXBhcmFtZXRlcnNcIjtcbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBnZXREb2N1bWVudE9wdGlvbnNGcm9tVVJMKCk6IERvY3VtZW50T3B0aW9uc1R5cGUge1xuICBjb25zdCBzcmNVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJzcmNcIik7XG4gIGNvbnN0IGJVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJiXCIpOyAvLyAoZGVwcmVjYXRlZCkgPT4gc3JjICYgYm9va01vZGU9dHJ1ZVxuICBjb25zdCB4VXJscyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwieFwiKTsgLy8gKGRlcHJlY2F0ZWQpID0+IHNyY1xuICBjb25zdCBib29rTW9kZSA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiYm9va01vZGVcIilbMF07XG4gIGNvbnN0IGZyYWdtZW50ID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJmXCIpWzBdO1xuICBjb25zdCBzdHlsZSA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwic3R5bGVcIik7XG4gIGNvbnN0IHVzZXJTdHlsZSA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwidXNlclN0eWxlXCIpO1xuICByZXR1cm4ge1xuICAgIHNyY1VybHM6IHNyY1VybHMubGVuZ3RoXG4gICAgICA/IHNyY1VybHNcbiAgICAgIDogYlVybHMubGVuZ3RoXG4gICAgICA/IGJVcmxzXG4gICAgICA6IHhVcmxzLmxlbmd0aFxuICAgICAgPyB4VXJsc1xuICAgICAgOiBudWxsLFxuICAgIGJvb2tNb2RlOlxuICAgICAgYm9va01vZGUgPT09IFwidHJ1ZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IGJvb2tNb2RlID09PSBcImZhbHNlXCJcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IGJVcmxzLmxlbmd0aFxuICAgICAgICA/IHRydWVcbiAgICAgICAgOiBmYWxzZSxcbiAgICBmcmFnbWVudDogZnJhZ21lbnQgfHwgbnVsbCxcbiAgICBhdXRob3JTdHlsZVNoZWV0OiBzdHlsZS5sZW5ndGggPyBzdHlsZSA6IFtdLFxuICAgIHVzZXJTdHlsZVNoZWV0OiB1c2VyU3R5bGUubGVuZ3RoID8gdXNlclN0eWxlIDogW10sXG4gIH07XG59XG5cbmludGVyZmFjZSBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgcGFnZVN0eWxlPzogUGFnZVN0eWxlO1xuICBkYXRhVXNlclN0eWxlSW5kZXg/OiBudW1iZXI7XG4gIHNyY1VybHM/OiBBcnJheTxzdHJpbmc+O1xuICBib29rTW9kZT86IGJvb2xlYW47XG4gIGZyYWdtZW50Pzogc3RyaW5nO1xuICBhdXRob3JTdHlsZVNoZWV0PzogQXJyYXk8dW5rbm93bj47XG4gIHVzZXJTdHlsZVNoZWV0PzogQXJyYXk8dW5rbm93bj47XG59XG5cbmNsYXNzIERvY3VtZW50T3B0aW9ucyB7XG4gIHBhZ2VTdHlsZTogUGFnZVN0eWxlO1xuICBkYXRhVXNlclN0eWxlSW5kZXg6IG51bWJlcjtcbiAgc3JjVXJscz86IE9ic2VydmFibGU8QXJyYXk8c3RyaW5nPiB8IG51bGw+O1xuICBib29rTW9kZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZnJhZ21lbnQ/OiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGF1dGhvclN0eWxlU2hlZXQ/OiBPYnNlcnZhYmxlPEFycmF5PHVua25vd24+PjtcbiAgdXNlclN0eWxlU2hlZXQ/OiBPYnNlcnZhYmxlPEFycmF5PHVua25vd24+PjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCB1cmxPcHRpb25zID0gZ2V0RG9jdW1lbnRPcHRpb25zRnJvbVVSTCgpO1xuICAgIHRoaXMuc3JjVXJscyA9IGtvLm9ic2VydmFibGUodXJsT3B0aW9ucy5zcmNVcmxzIHx8IG51bGwpO1xuICAgIHRoaXMuYm9va01vZGUgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMuYm9va01vZGUpO1xuICAgIHRoaXMuZnJhZ21lbnQgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMuZnJhZ21lbnQgfHwgXCJcIik7XG4gICAgdGhpcy5hdXRob3JTdHlsZVNoZWV0ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmF1dGhvclN0eWxlU2hlZXQpO1xuICAgIHRoaXMudXNlclN0eWxlU2hlZXQgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMudXNlclN0eWxlU2hlZXQpO1xuICAgIHRoaXMucGFnZVN0eWxlID0gbmV3IFBhZ2VTdHlsZSgpO1xuICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gLTE7XG5cbiAgICB0aGlzLmJvb2tNb2RlLnN1YnNjcmliZSgoYm9va01vZGUpID0+IHtcbiAgICAgIGlmICghYm9va01vZGUpIHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJib29rTW9kZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFwiYm9va01vZGVcIiwgYm9va01vZGUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB3cml0ZSBmcmFnbWVudCBiYWNrIHRvIFVSTCB3aGVuIHVwZGF0ZWRcbiAgICB0aGlzLmZyYWdtZW50LnN1YnNjcmliZSgoZnJhZ21lbnQpID0+IHtcbiAgICAgIGlmICgvXmVwdWJjZmlcXChcXC8oWzI0Nl1cXC8pPzIhXFwpLy50ZXN0KGZyYWdtZW50KSkge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImZcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gZnJhZ21lbnQucmVwbGFjZShcbiAgICAgICAgICAvW1xccysmPz0jXFx1MDA3Ri1cXHVGRkZGXSsvZyxcbiAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFwiZlwiLCBlbmNvZGVkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHJlYWQgdXNlclN0eWxlPWRhdGE6Ljxjc3NUZXh0PiBVUkwgcGFyYW1ldGVyXG4gICAgdXJsT3B0aW9ucy51c2VyU3R5bGVTaGVldC5maW5kKCh1c2VyU3R5bGU6IHN0cmluZywgaW5kZXgpID0+IHtcbiAgICAgIC8vIEZpbmQgdXNlclN0eWxlIHBhcmFtZXRlciB0aGF0IHN0YXJ0cyB3aXRoIFwiZGF0YTpcIiBhbmQgY29udGFpbnMgXCIvKjx2aWV3ZXI+Ki9cIi5cbiAgICAgIGlmICgvXmRhdGE6LC4qP1xcL1xcKig/Ojx8JTNDKXZpZXdlcig/Oj58JTNFKVxcKlxcLy8udGVzdCh1c2VyU3R5bGUpKSB7XG4gICAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB1c2VyU3R5bGVcbiAgICAgICAgICAucmVwbGFjZSgvXmRhdGE6LC8sIFwiXCIpXG4gICAgICAgICAgLy8gRXNjYXBlIHVuZXNjYXBlZCBcIiVcIiB0aGF0IGNhdXNlcyBlcnJvciBpbiBkZWNvZGVVUklDb21wb25lbnQoKVxuICAgICAgICAgIC5yZXBsYWNlKC8lKD8hWzAtOUEtRmEtZl17Mn0pL2csIFwiJTI1XCIpO1xuICAgICAgICBjb25zdCBjc3NUZXh0ID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgICAgICB0aGlzLnBhZ2VTdHlsZS5jc3NUZXh0KGNzc1RleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHdyaXRlIGNzc1RleHQgYmFjayB0byBVUkwgcGFyYW1ldGVyIHVzZXJTdHlsZT0gd2hlbiB1cGRhdGVkXG4gICAgdGhpcy5wYWdlU3R5bGUuY3NzVGV4dC5zdWJzY3JpYmUoKGNzc1RleHQpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dChjc3NUZXh0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvT2JqZWN0KCk6IERvY3VtZW50T3B0aW9uc1R5cGUge1xuICAgIGZ1bmN0aW9uIGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkoYXJyKTogeyB1cmw/OiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9W10ge1xuICAgICAgcmV0dXJuIGFyci5tYXAoKHVybCkgPT4gKHtcbiAgICAgICAgdXJsLFxuICAgICAgfSkpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyU3R5bGVTaGVldEFycmF5ID0gY29udmVydFN0eWxlU2hlZXRBcnJheSh0aGlzLnVzZXJTdHlsZVNoZWV0KCkpO1xuICAgIGlmICh0aGlzLnBhZ2VTdHlsZS5wYWdlU2l6ZU1vZGUoKSA9PSBQYWdlU3R5bGUuTW9kZS5EZWZhdWx0KSB7XG4gICAgICAvLyBQdXQgZGVmYXVsdCBwYWdlIHNpemUgYXV0by4gVGhpcyBpcyBuZWVkZWQgdG8gb3V0cHV0IGF1dG8gc2l6ZSBQREYuXG4gICAgICB1c2VyU3R5bGVTaGVldEFycmF5LnVuc2hpZnQoeyB0ZXh0OiBcIkBwYWdle3NpemU6YXV0b31cIiB9KTtcbiAgICB9XG4gICAgLy8gRG8gbm90IGluY2x1ZGUgdXJsXG4gICAgLy8gKHVybCBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50IHRvIFZpZXdlci5sb2FkRG9jdW1lbnQsIHNlcGFyYXRlZCBmcm9tIG90aGVyIG9wdGlvbnMpXG4gICAgcmV0dXJuIHtcbiAgICAgIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50KCksXG4gICAgICBhdXRob3JTdHlsZVNoZWV0OiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KHRoaXMuYXV0aG9yU3R5bGVTaGVldCgpKSxcbiAgICAgIHVzZXJTdHlsZVNoZWV0OiB1c2VyU3R5bGVTaGVldEFycmF5LFxuICAgIH07XG4gIH1cblxuICB1cGRhdGVVc2VyU3R5bGVTaGVldEZyb21DU1NUZXh0KGNzc1RleHQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoY3NzVGV4dCA9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNzc1RleHQgPSB0aGlzLnBhZ2VTdHlsZS50b0NTU1RleHQoKTtcbiAgICB9XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXQgPSB0aGlzLnVzZXJTdHlsZVNoZWV0KCk7XG4gICAgaWYgKCFjc3NUZXh0IHx8IC9eXFxzKihcXC9cXCouKj9cXCpcXC9cXHMqKSokLy50ZXN0KGNzc1RleHQpKSB7XG4gICAgICBpZiAodXNlclN0eWxlU2hlZXQubGVuZ3RoIDw9ICh0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9PSAtMSA/IDAgOiAxKSkge1xuICAgICAgICB1c2VyU3R5bGVTaGVldC5wb3AoKTtcbiAgICAgICAgdGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy51c2VyU3R5bGVTaGVldCh1c2VyU3R5bGVTaGVldCk7XG4gICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwidXNlclN0eWxlXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRhdGFVc2VyU3R5bGUgPVxuICAgICAgXCJkYXRhOixcIiArIHN0cmluZ1V0aWwucGVyY2VudEVuY29kZUZvckRhdGFVUkkoY3NzVGV4dC50cmltKCkpO1xuICAgIGlmICh0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9PSAtMSkge1xuICAgICAgdXNlclN0eWxlU2hlZXQucHVzaChkYXRhVXNlclN0eWxlKTtcbiAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gdXNlclN0eWxlU2hlZXQubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlclN0eWxlU2hlZXRbdGhpcy5kYXRhVXNlclN0eWxlSW5kZXhdID0gZGF0YVVzZXJTdHlsZTtcbiAgICB9XG4gICAgdGhpcy51c2VyU3R5bGVTaGVldCh1c2VyU3R5bGVTaGVldCk7XG4gICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXG4gICAgICBcInVzZXJTdHlsZVwiLFxuICAgICAgZGF0YVVzZXJTdHlsZSxcbiAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRG9jdW1lbnRPcHRpb25zO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHsgUGFnZVZpZXdNb2RlIGFzIENvcmVQYWdlVmlld01vZGUgfSBmcm9tIFwiQHZpdmxpb3N0eWxlL2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIFBhZ2VWaWV3TW9kZUluc3RhbmNlIHtcbiAgdG9TcHJlYWRWaWV3U3RyaW5nKCk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0aGlzKSB7XG4gICAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TUFJFQUQ6XG4gICAgICAgIHJldHVybiBcInRydWVcIjtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gXCJmYWxzZVwiO1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuQVVUT19TUFJFQUQ6XG4gICAgICAgIHJldHVybiBcImF1dG9cIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUGFnZVZpZXdNb2RlXCIpO1xuICAgIH1cbiAgfVxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcykge1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJzcHJlYWRcIjsgLy8gdml2bGlvc3R5bGUudmlld2VyLlBhZ2VWaWV3TW9kZS5TUFJFQUQ7XG4gICAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTpcbiAgICAgICAgcmV0dXJuIFwic2luZ2xlUGFnZVwiOyAvLyB2aXZsaW9zdHlsZS52aWV3ZXIuUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFO1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuQVVUT19TUFJFQUQ6XG4gICAgICAgIHJldHVybiBcImF1dG9TcHJlYWRcIjsgLy8gdml2bGlvc3R5bGUudmlld2VyLlBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUGFnZVZpZXdNb2RlXCIpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBQYWdlVmlld01vZGUgPSB7XG4gIEFVVE9fU1BSRUFEOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgU0lOR0xFX1BBR0U6IG5ldyBQYWdlVmlld01vZGVJbnN0YW5jZSgpLFxuICBTUFJFQUQ6IG5ldyBQYWdlVmlld01vZGVJbnN0YW5jZSgpLFxuICBkZWZhdWx0TW9kZSgpOiBDb3JlUGFnZVZpZXdNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5BVVRPX1NQUkVBRDtcbiAgfSxcbiAgZnJvbVNwcmVhZFZpZXdTdHJpbmcoc3RyOiBzdHJpbmcpOiBDb3JlUGFnZVZpZXdNb2RlIHtcbiAgICBzd2l0Y2ggKHN0cikge1xuICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuU1BSRUFEO1xuICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgIHJldHVybiB0aGlzLlNJTkdMRV9QQUdFO1xuICAgICAgY2FzZSBcImF1dG9cIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLkFVVE9fU1BSRUFEO1xuICAgIH1cbiAgfSxcbiAgb2YobmFtZTogc3RyaW5nKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIENvcmVQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gdGhpcy5TUFJFQUQ7XG4gICAgICBjYXNlIENvcmVQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U6XG4gICAgICAgIHJldHVybiB0aGlzLlNJTkdMRV9QQUdFO1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gdGhpcy5BVVRPX1NQUkVBRDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBQYWdlVmlld01vZGUgbmFtZTogJHtuYW1lfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VWaWV3TW9kZTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IENvcmVWaWV3ZXIsIFpvb21UeXBlIH0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5cbmNsYXNzIFpvb21PcHRpb25zIHtcbiAgem9vbTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHpvb20pIHtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuICB9XG4gIGdldCBmaXRUb1NjcmVlbigpOiBudWxsIHwgYm9vbGVhbiB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBnZXRDdXJyZW50Wm9vbUZhY3Rvcihfdmlld2VyPzogQ29yZVZpZXdlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogWm9vbU9wdGlvbnMge1xuICAgIHJldHVybiBuZXcgWm9vbU9wdGlvbnMoMSk7XG4gIH1cbiAgem9vbUluKHZpZXdlcjogQ29yZVZpZXdlcik6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3Rvcih0aGlzLmdldEN1cnJlbnRab29tRmFjdG9yKHZpZXdlcikgKiAxLjI1KTtcbiAgfVxuICB6b29tT3V0KHZpZXdlcjogQ29yZVZpZXdlcik6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3Rvcih0aGlzLmdldEN1cnJlbnRab29tRmFjdG9yKHZpZXdlcikgKiAwLjgpO1xuICB9XG4gIHpvb21Ub0FjdHVhbFNpemUoKTogRml4ZWRab29tRmFjdG9yIHtcbiAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiBuZXcgRml4ZWRab29tRmFjdG9yKDEpO1xuICB9XG4gIHN0YXRpYyBjcmVhdGVEZWZhdWx0T3B0aW9ucygpOiBGaXRUb1NjcmVlbiB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpdFRvU2NyZWVuKCk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUZyb21ab29tRmFjdG9yKHpvb20pOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3Ioem9vbSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpdFRvU2NyZWVuIGV4dGVuZHMgWm9vbU9wdGlvbnMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigxKTtcbiAgfVxuICBnZXQgZml0VG9TY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogRml4ZWRab29tRmFjdG9yIHtcbiAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiBuZXcgRml4ZWRab29tRmFjdG9yKDEpO1xuICB9XG4gIGdldEN1cnJlbnRab29tRmFjdG9yKHZpZXdlcjogQ29yZVZpZXdlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHZpZXdlci5xdWVyeVpvb21GYWN0b3IoWm9vbVR5cGUuRklUX0lOU0lERV9WSUVXUE9SVCk7XG4gIH1cbn1cbmNsYXNzIEZpeGVkWm9vbUZhY3RvciBleHRlbmRzIFpvb21PcHRpb25zIHtcbiAgZ2V0IGZpdFRvU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0b2dnbGVGaXRUb1NjcmVlbigpOiBGaXRUb1NjcmVlbiB7XG4gICAgcmV0dXJuIG5ldyBGaXRUb1NjcmVlbigpO1xuICB9XG4gIGdldEN1cnJlbnRab29tRmFjdG9yKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBab29tT3B0aW9ucztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7XG4gIENvcmVWaWV3ZXJPcHRpb25zLFxuICBQYWdlVmlld01vZGUgYXMgQ29yZVBhZ2VWaWV3TW9kZSxcbn0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgdXJsUGFyYW1ldGVycyBmcm9tIFwiLi4vc3RvcmVzL3VybC1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQgUGFnZVZpZXdNb2RlLCB7IFBhZ2VWaWV3TW9kZUluc3RhbmNlIH0gZnJvbSBcIi4vcGFnZS12aWV3LW1vZGVcIjtcbmltcG9ydCBab29tT3B0aW9ucywgeyBGaXRUb1NjcmVlbiB9IGZyb20gXCIuL3pvb20tb3B0aW9uc1wiO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gIHJlbmRlckFsbFBhZ2VzOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb250U2l6ZTogT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+O1xuICBwcm9maWxlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBwYWdlVmlld01vZGU6IE9ic2VydmFibGU8UGFnZVZpZXdNb2RlSW5zdGFuY2U+O1xuICB6b29tOiBPYnNlcnZhYmxlPFpvb21PcHRpb25zPjtcbn07XG5cbmludGVyZmFjZSBWaWV3ZXJPcHRpb25zVHlwZSB7XG4gIHJlbmRlckFsbFBhZ2VzOiBib29sZWFuO1xuICBmb250U2l6ZTogbnVtYmVyO1xuICBwcm9maWxlOiBib29sZWFuO1xuICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZUluc3RhbmNlO1xuICB6b29tOiBGaXRUb1NjcmVlbiB8IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld2VyT3B0aW9uc0Zyb21VUkwoKTogVmlld2VyT3B0aW9uc1R5cGUge1xuICBjb25zdCByZW5kZXJBbGxQYWdlcyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwicmVuZGVyQWxsUGFnZXNcIilbMF07XG4gIGNvbnN0IGZvbnRTaXplU3RyID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJmb250U2l6ZVwiKVswXTtcbiAgY29uc3QgciA9IC9eKFtcXGQuXSspKD86KCUyNXwlKXxcXC8oW1xcZC5dKykpPyQvLmV4ZWMoZm9udFNpemVTdHIpO1xuICBsZXQgZm9udFNpemU6IG51bGwgfCBudW1iZXIgPSBudWxsO1xuICBpZiAocikge1xuICAgIGNvbnN0IFssIG51bSwgcGVyY2VudCwgZGVub21dID0gcjtcbiAgICBmb250U2l6ZSA9IHBhcnNlRmxvYXQobnVtKTtcbiAgICBpZiAocGVyY2VudCB8fCBkZW5vbSkge1xuICAgICAgZm9udFNpemUgPSAoMTYgKiBmb250U2l6ZSkgLyAocGVyY2VudCA/IDEwMCA6IHBhcnNlRmxvYXQoZGVub20pKTtcbiAgICB9XG4gICAgaWYgKGZvbnRTaXplIDwgNSkgZm9udFNpemUgPSA1O1xuICAgIGlmIChmb250U2l6ZSA+IDcyKSBmb250U2l6ZSA9IDcyO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVuZGVyQWxsUGFnZXM6XG4gICAgICByZW5kZXJBbGxQYWdlcyA9PT0gXCJ0cnVlXCJcbiAgICAgICAgPyB0cnVlXG4gICAgICAgIDogcmVuZGVyQWxsUGFnZXMgPT09IFwiZmFsc2VcIlxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogdXJsUGFyYW1ldGVycy5oYXNQYXJhbWV0ZXIoXCJiXCIpXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBudWxsLFxuICAgIGZvbnRTaXplLFxuICAgIHByb2ZpbGU6IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwicHJvZmlsZVwiKVswXSA9PT0gXCJ0cnVlXCIsXG4gICAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGUuZnJvbVNwcmVhZFZpZXdTdHJpbmcoXG4gICAgICB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInNwcmVhZFwiKVswXSxcbiAgICApLFxuICAgIHpvb206IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlcygpOiBWaWV3ZXJPcHRpb25zVHlwZSB7XG4gIHJldHVybiB7XG4gICAgcmVuZGVyQWxsUGFnZXM6IHRydWUsXG4gICAgZm9udFNpemU6IDE2LFxuICAgIHByb2ZpbGU6IGZhbHNlLFxuICAgIHBhZ2VWaWV3TW9kZTogUGFnZVZpZXdNb2RlLmRlZmF1bHRNb2RlKCksXG4gICAgem9vbTogWm9vbU9wdGlvbnMuY3JlYXRlRGVmYXVsdE9wdGlvbnMoKSxcbiAgfTtcbn1cblxuY2xhc3MgVmlld2VyT3B0aW9ucyB7XG4gIHJlbmRlckFsbFBhZ2VzOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb250U2l6ZTogT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+O1xuICBwcm9maWxlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBwYWdlVmlld01vZGU6IE9ic2VydmFibGU8UGFnZVZpZXdNb2RlSW5zdGFuY2U+O1xuICB6b29tOiBPYnNlcnZhYmxlPFpvb21PcHRpb25zPjtcblxuICBzdGF0aWMgZ2V0RGVmYXVsdFZhbHVlczogKCkgPT4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOiBib29sZWFuO1xuICAgIGZvbnRTaXplOiBudW1iZXI7XG4gICAgcHJvZmlsZTogYm9vbGVhbjtcbiAgICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZUluc3RhbmNlO1xuICAgIHpvb206IEZpdFRvU2NyZWVuO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgdGhpcy5yZW5kZXJBbGxQYWdlcyA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmZvbnRTaXplID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMucHJvZmlsZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnBhZ2VWaWV3TW9kZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnpvb20gPSBrby5vYnNlcnZhYmxlKCk7XG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgdGhpcy5jb3B5RnJvbShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlcyA9IGdldERlZmF1bHRWYWx1ZXMoKTtcbiAgICAgIGNvbnN0IHVybE9wdGlvbnMgPSBnZXRWaWV3ZXJPcHRpb25zRnJvbVVSTCgpO1xuICAgICAgdGhpcy5yZW5kZXJBbGxQYWdlcyhcbiAgICAgICAgdXJsT3B0aW9ucy5yZW5kZXJBbGxQYWdlcyAhPT0gbnVsbFxuICAgICAgICAgID8gdXJsT3B0aW9ucy5yZW5kZXJBbGxQYWdlc1xuICAgICAgICAgIDogZGVmYXVsdFZhbHVlcy5yZW5kZXJBbGxQYWdlcyxcbiAgICAgICk7XG4gICAgICB0aGlzLmZvbnRTaXplKHVybE9wdGlvbnMuZm9udFNpemUgfHwgZGVmYXVsdFZhbHVlcy5mb250U2l6ZSk7XG4gICAgICB0aGlzLnByb2ZpbGUodXJsT3B0aW9ucy5wcm9maWxlIHx8IGRlZmF1bHRWYWx1ZXMucHJvZmlsZSk7XG4gICAgICB0aGlzLnBhZ2VWaWV3TW9kZSh1cmxPcHRpb25zLnBhZ2VWaWV3TW9kZSB8fCBkZWZhdWx0VmFsdWVzLnBhZ2VWaWV3TW9kZSk7XG4gICAgICB0aGlzLnpvb20oZGVmYXVsdFZhbHVlcy56b29tKTtcblxuICAgICAgLy8gd3JpdGUgc3ByZWFkIHBhcmFtZXRlciBiYWNrIHRvIFVSTCB3aGVuIHVwZGF0ZWRcbiAgICAgIHRoaXMucGFnZVZpZXdNb2RlLnN1YnNjcmliZSgocGFnZVZpZXdNb2RlKSA9PiB7XG4gICAgICAgIGlmIChwYWdlVmlld01vZGUgPT09IGRlZmF1bHRWYWx1ZXMucGFnZVZpZXdNb2RlKSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJzcHJlYWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXG4gICAgICAgICAgICBcInNwcmVhZFwiLFxuICAgICAgICAgICAgcGFnZVZpZXdNb2RlLnRvU3ByZWFkVmlld1N0cmluZygpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZW5kZXJBbGxQYWdlcy5zdWJzY3JpYmUoKHJlbmRlckFsbFBhZ2VzKSA9PiB7XG4gICAgICAgIGlmIChyZW5kZXJBbGxQYWdlcyA9PT0gZGVmYXVsdFZhbHVlcy5yZW5kZXJBbGxQYWdlcykge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwicmVuZGVyQWxsUGFnZXNcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXG4gICAgICAgICAgICBcInJlbmRlckFsbFBhZ2VzXCIsXG4gICAgICAgICAgICByZW5kZXJBbGxQYWdlcy50b1N0cmluZygpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb250U2l6ZS5zdWJzY3JpYmUoKGZvbnRTaXplKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9udFNpemUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGZvbnRTaXplID0gZm9udFNpemVcbiAgICAgICAgICAgIC50b1ByZWNpc2lvbigxMClcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzpcXC4wKnwoXFwuXFxkKj8pMCspJC8sIFwiJDFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlcihmb250U2l6ZSkgPT0gZGVmYXVsdFZhbHVlcy5mb250U2l6ZSkge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiZm9udFNpemVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXG4gICAgICAgICAgICBcImZvbnRTaXplXCIsXG4gICAgICAgICAgICBgJHtmb250U2l6ZX0vJHtkZWZhdWx0VmFsdWVzLmZvbnRTaXplfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29weUZyb20ob3RoZXI6IE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLnJlbmRlckFsbFBhZ2VzKG90aGVyLnJlbmRlckFsbFBhZ2VzKCkpO1xuICAgIHRoaXMuZm9udFNpemUob3RoZXIuZm9udFNpemUoKSk7XG4gICAgdGhpcy5wcm9maWxlKG90aGVyLnByb2ZpbGUoKSk7XG4gICAgdGhpcy5wYWdlVmlld01vZGUob3RoZXIucGFnZVZpZXdNb2RlKCkpO1xuICAgIHRoaXMuem9vbShvdGhlci56b29tKCkpO1xuICB9XG5cbiAgdG9PYmplY3QoKTogQ29yZVZpZXdlck9wdGlvbnMge1xuICAgIHJldHVybiB7XG4gICAgICByZW5kZXJBbGxQYWdlczogdGhpcy5yZW5kZXJBbGxQYWdlcygpIGFzIGJvb2xlYW4sXG4gICAgICBmb250U2l6ZTogTnVtYmVyKHRoaXMuZm9udFNpemUoKSksXG4gICAgICBwYWdlVmlld01vZGU6IHRoaXMucGFnZVZpZXdNb2RlKCkudG9TdHJpbmcoKSBhcyBDb3JlUGFnZVZpZXdNb2RlLFxuICAgICAgZml0VG9TY3JlZW46IHRoaXMuem9vbSgpLmZpdFRvU2NyZWVuLFxuICAgICAgem9vbTogdGhpcy56b29tKCkuem9vbSxcbiAgICB9O1xuICB9XG59XG5cblZpZXdlck9wdGlvbnMuZ2V0RGVmYXVsdFZhbHVlcyA9IGdldERlZmF1bHRWYWx1ZXM7XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdlck9wdGlvbnM7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgbWVzc2FnZVF1ZXVlIGZyb20gXCIuLi9tb2RlbHMvbWVzc2FnZS1xdWV1ZVwiO1xuXG5lbnVtIExvZ0xldmVsIHtcbiAgRGVidWcgPSBcImRlYnVnXCIsXG4gIEluZm8gPSBcImluZm9cIixcbiAgV2FybiA9IFwid2FyblwiLFxuICBFcnJvciA9IFwiZXJyb3JcIixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9nZ2VyIHtcbiAgbG9nTGV2ZWw6IExvZ0xldmVsO1xuXG4gIHN0YXRpYyBnZXRMb2dnZXIoKTogTG9nZ2VyIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcigpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dMZXZlbCA9IExvZ0xldmVsLkVycm9yO1xuICB9XG5cbiAgc2V0TG9nTGV2ZWwobG9nTGV2ZWwpOiB2b2lkIHtcbiAgICB0aGlzLmxvZ0xldmVsID0gbG9nTGV2ZWw7XG4gIH1cblxuICBkZWJ1Zyhjb250ZW50KTogdm9pZCB7XG4gICAgaWYgKHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnKSB7XG4gICAgICBtZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZGVidWdcIixcbiAgICAgICAgY29udGVudCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGluZm8oY29udGVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5EZWJ1ZyB8fCB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5JbmZvKSB7XG4gICAgICBtZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiaW5mb1wiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgd2Fybihjb250ZW50KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRGVidWcgfHxcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkluZm8gfHxcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLldhcm5cbiAgICApIHtcbiAgICAgIG1lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ3YXJuXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBlcnJvcihjb250ZW50KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRGVidWcgfHxcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkluZm8gfHxcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLldhcm4gfHxcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkVycm9yXG4gICAgKSB7XG4gICAgICBtZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgY29udGVudCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IE9ic2VydmFibGVBcnJheSB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlUXVldWUgPSBPYnNlcnZhYmxlQXJyYXk8dW5rbm93bj47XG5cbmZ1bmN0aW9uIG1lc3NhZ2VRdWV1ZSgpOiBNZXNzYWdlUXVldWUge1xuICByZXR1cm4ga28ub2JzZXJ2YWJsZUFycmF5KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lc3NhZ2VRdWV1ZSgpO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IFB1cmVDb21wdXRlZCwgT2JzZXJ2YWJsZSB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5leHBvcnQgdHlwZSBSZWFkb25seU9ic2VydmFibGU8VD4gPSB7XG4gIGdldHRlcjogUHVyZUNvbXB1dGVkPFQ+O1xuICB2YWx1ZTogT2JzZXJ2YWJsZTxUPjtcbn07XG5cbmNvbnN0IHV0aWwgPSB7XG4gIHJlYWRvbmx5T2JzZXJ2YWJsZTxUPih2YWx1ZTogVCk6IFJlYWRvbmx5T2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3Qgb2JzID0ga28ub2JzZXJ2YWJsZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldHRlcjoga28ucHVyZUNvbXB1dGVkKCgpID0+IG9icygpKSxcbiAgICAgIHZhbHVlOiBvYnMsXG4gICAgfTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWw7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOCBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge1xuICBDb3JlVmlld2VyLFxuICBOYXZpZ2F0aW9uLFxuICBSZWFkeVN0YXRlLFxuICBQYWdlUHJvZ3Jlc3Npb24sXG4gIHByb2ZpbGVyLFxufSBmcm9tIFwiQHZpdmxpb3N0eWxlL2NvcmVcIjtcbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IERvY3VtZW50T3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL2RvY3VtZW50LW9wdGlvbnNcIjtcbmltcG9ydCBWaWV3ZXJPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dpbmcvbG9nZ2VyXCI7XG5pbXBvcnQgb2JzLCB7IFJlYWRvbmx5T2JzZXJ2YWJsZSB9IGZyb20gXCIuLi91dGlscy9vYnNlcnZhYmxlLXV0aWxcIjtcblxudHlwZSBTdGF0ZSA9IHtcbiAgc3RhdHVzOiBQdXJlQ29tcHV0ZWQ8dW5rbm93bj47XG4gIHBhZ2VQcm9ncmVzc2lvbjogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBuYXZpZ2F0YWJsZT86IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbn07XG5cbnR5cGUgUHJpdmF0ZVN0YXRlID0ge1xuICBzdGF0dXM6IFJlYWRvbmx5T2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgcGFnZVByb2dyZXNzaW9uOiBSZWFkb25seU9ic2VydmFibGU8dW5rbm93bj47XG59O1xuXG5leHBvcnQgdHlwZSBWaWV3ZXJTZXR0aW5ncyA9IHtcbiAgdXNlckFnZW50Um9vdFVSTDogc3RyaW5nO1xuICB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBkZWJ1ZzogYm9vbGVhbjtcbn07XG5cbmNsYXNzIFZpZXdlciB7XG4gIHByaXZhdGUgdmlld2VyT3B0aW9uc186IFZpZXdlck9wdGlvbnM7XG4gIHByaXZhdGUgY29yZVZpZXdlcl86IENvcmVWaWV3ZXI7XG4gIHByaXZhdGUgc3RhdGVfOiBQcml2YXRlU3RhdGU7XG5cbiAgLy8gRklYTUU6IEluIHVzZWQgaW4gdmlld21vZGVscy9uYXZpZ2F0aW9uLiBUaGlzIHByb3BlcnR5IGlzIGRlc2lyYWJsZSBwcml2YXRlIGFjY2Vzcy5cbiAgZG9jdW1lbnRPcHRpb25zXzogbnVsbCB8IERvY3VtZW50T3B0aW9ucztcblxuICBlcGFnZTogT2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgZXBhZ2VDb3VudDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuICBmaXJzdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGlucHV0VXJsOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIHN0YXRlOiBTdGF0ZTtcbiAgbGFzdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHRvY1Zpc2libGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHRvY1Bpbm5lZDogT2JzZXJ2YWJsZTx1bmtub3duPjtcblxuICBjb25zdHJ1Y3Rvcih2aWV3ZXJTZXR0aW5ncz86IFZpZXdlclNldHRpbmdzLCB2aWV3ZXJPcHRpb25zPzogVmlld2VyT3B0aW9ucykge1xuICAgIHRoaXMudmlld2VyT3B0aW9uc18gPSB2aWV3ZXJPcHRpb25zO1xuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zXyA9IG51bGw7XG4gICAgdGhpcy5jb3JlVmlld2VyXyA9IG5ldyBDb3JlVmlld2VyKHZpZXdlclNldHRpbmdzLCB2aWV3ZXJPcHRpb25zLnRvT2JqZWN0KCkpO1xuICAgIGNvbnN0IHN0YXRlXyA9ICh0aGlzLnN0YXRlXyA9IHtcbiAgICAgIHN0YXR1czogb2JzLnJlYWRvbmx5T2JzZXJ2YWJsZShSZWFkeVN0YXRlLkxPQURJTkcpLFxuICAgICAgcGFnZVByb2dyZXNzaW9uOiBvYnMucmVhZG9ubHlPYnNlcnZhYmxlKFBhZ2VQcm9ncmVzc2lvbi5MVFIpLFxuICAgIH0pO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzdGF0dXM6IHN0YXRlXy5zdGF0dXMuZ2V0dGVyLmV4dGVuZCh7XG4gICAgICAgIHJhdGVMaW1pdDogeyB0aW1lb3V0OiAxMDAsIG1ldGhvZDogXCJub3RpZnlXaGVuQ2hhbmdlc1N0b3BcIiB9LFxuICAgICAgICBub3RpZnk6IFwiYWx3YXlzXCIsXG4gICAgICB9KSxcbiAgICAgIG5hdmlnYXRhYmxlOiBrby5wdXJlQ29tcHV0ZWQoXG4gICAgICAgICgpID0+XG4gICAgICAgICAgc3RhdGVfLnN0YXR1cy52YWx1ZSgpICYmIHN0YXRlXy5zdGF0dXMudmFsdWUoKSAhPT0gUmVhZHlTdGF0ZS5MT0FESU5HLFxuICAgICAgKSxcbiAgICAgIHBhZ2VQcm9ncmVzc2lvbjogc3RhdGVfLnBhZ2VQcm9ncmVzc2lvbi5nZXR0ZXIsXG4gICAgfTtcblxuICAgIHRoaXMuZXBhZ2UgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5lcGFnZUNvdW50ID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZmlyc3RQYWdlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMubGFzdFBhZ2UgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy50b2NWaXNpYmxlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMudG9jUGlubmVkID0ga28ub2JzZXJ2YWJsZSgpO1xuXG4gICAgdGhpcy5pbnB1dFVybCA9IGtvLm9ic2VydmFibGUoXCJcIik7XG5cbiAgICB0aGlzLnNldHVwVmlld2VyRXZlbnRIYW5kbGVyKCk7XG4gICAgdGhpcy5zZXR1cFZpZXdlck9wdGlvblN1YnNjcmlwdGlvbnMoKTtcbiAgfVxuXG4gIHNldHVwVmlld2VyRXZlbnRIYW5kbGVyKCk6IHZvaWQge1xuICAgIGNvbnN0IGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiZGVidWdcIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhwYXlsb2FkLmNvbnRlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJpbmZvXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBsb2dnZXIuaW5mbyhwYXlsb2FkLmNvbnRlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJ3YXJuXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBsb2dnZXIud2FybihwYXlsb2FkLmNvbnRlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJlcnJvclwiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLmVycm9yKHBheWxvYWQuY29udGVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgcmVhZHlTdGF0ZSA9IHRoaXMuY29yZVZpZXdlcl8ucmVhZHlTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgcmVhZHlTdGF0ZSA9PT0gUmVhZHlTdGF0ZS5JTlRFUkFDVElWRSB8fFxuICAgICAgICByZWFkeVN0YXRlID09PSBSZWFkeVN0YXRlLkNPTVBMRVRFXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zdGF0ZV8ucGFnZVByb2dyZXNzaW9uLnZhbHVlKFxuICAgICAgICAgIHRoaXMuY29yZVZpZXdlcl8uZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZV8uc3RhdHVzLnZhbHVlKHJlYWR5U3RhdGUpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJsb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18ucHJvZmlsZSgpKSB7XG4gICAgICAgIHByb2ZpbGVyLnByaW50VGltaW5ncygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJuYXZcIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2ZpLFxuICAgICAgICBmaXJzdCxcbiAgICAgICAgbGFzdCxcbiAgICAgICAgZXBhZ2UsXG4gICAgICAgIGVwYWdlQ291bnQsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBkb2NUaXRsZSxcbiAgICAgIH0gPSBwYXlsb2FkO1xuXG4gICAgICBpZiAoY2ZpKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zXy5mcmFnbWVudChjZmkpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5maXJzdFBhZ2UoZmlyc3QpO1xuICAgICAgfVxuICAgICAgaWYgKGxhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmxhc3RQYWdlKGxhc3QpO1xuICAgICAgfVxuICAgICAgaWYgKGVwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lcGFnZShlcGFnZSk7XG4gICAgICB9XG4gICAgICBpZiAoZXBhZ2VDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZXBhZ2VDb3VudChlcGFnZUNvdW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChtZXRhZGF0YSB8fCBkb2NUaXRsZSkge1xuICAgICAgICBjb25zdCBwdWJUaXRsZXMgPVxuICAgICAgICAgIG1ldGFkYXRhICYmIG1ldGFkYXRhW1wiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zL3RpdGxlXCJdO1xuICAgICAgICBjb25zdCBwdWJUaXRsZSA9IHB1YlRpdGxlcyAmJiBwdWJUaXRsZXNbMF0gJiYgcHViVGl0bGVzWzBdW1widlwiXTtcbiAgICAgICAgaWYgKCFwdWJUaXRsZSkge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZG9jVGl0bGUgPyBkb2NUaXRsZSA6IFwiVml2bGlvc3R5bGUgVmlld2VyXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgIWRvY1RpdGxlIHx8XG4gICAgICAgICAgZG9jVGl0bGUgPT09IHB1YlRpdGxlIHx8XG4gICAgICAgICAgdGhpcy5maXJzdFBhZ2UoKSB8fFxuICAgICAgICAgIC9cXC54aHRtbCQvLnRlc3QoZG9jVGl0bGUpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIGlnbm9yZSB1Z2x5IHRpdGxlcyBjb3BpZWQgZnJvbSAqLnhodG1sIGZpbGUgbmFtZVxuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gcHViVGl0bGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgJHtkb2NUaXRsZX0gfCAke3B1YlRpdGxlfWA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9jVmlzaWJsZU9sZCA9IHRoaXMudG9jVmlzaWJsZSgpO1xuICAgICAgY29uc3QgdG9jVmlzaWJsZU5ldyA9IHRoaXMuY29yZVZpZXdlcl8uaXNUT0NWaXNpYmxlKCk7XG4gICAgICBpZiAodG9jVmlzaWJsZU9sZCAmJiAhdG9jVmlzaWJsZU5ldykge1xuICAgICAgICAvLyBXaGVuIHJlc2l6ZSwgVE9DIGJveCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGFuZCBoaWRkZW4gdGVtcG9yYXJpbHkuXG4gICAgICAgIC8vIFNvIGtlZXAgVE9DIHRvZ2dsZSBidXR0b24gc3RhdHVzIG9uLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b2NWaXNpYmxlKHRvY1Zpc2libGVOZXcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGlmIChwYXlsb2FkLmludGVybmFsKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGVUb0ludGVybmFsVXJsKHBheWxvYWQuaHJlZik7XG5cbiAgICAgICAgLy8gV2hlbiBuYXZpZ2F0ZSBmcm9tIFRPQywgVE9DIGJveCBtYXkgb3IgbWF5IG5vdCBiZWNvbWUgaGlkZGVuIGJ5IGF1dG9oaWRlLlxuICAgICAgICAvLyBIZXJlIHNldCB0b2NWaXNpYmxlIGZhbHNlIGFuZCBpdCBtYXkgYmVjb21lIHRydWUgYWdhaW4gaW4gXCJuYXZcIiBldmVudC5cbiAgICAgICAgaWYgKHRoaXMudG9jVmlzaWJsZSgpKSB7XG4gICAgICAgICAgdGhpcy50b2NWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIpLmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBheWxvYWQuaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldHVwVmlld2VyT3B0aW9uU3Vic2NyaXB0aW9ucygpOiB2b2lkIHtcbiAgICBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IHZpZXdlck9wdGlvbnMgPSB0aGlzLnZpZXdlck9wdGlvbnNfLnRvT2JqZWN0KCk7XG4gICAgICB0aGlzLmNvcmVWaWV3ZXJfLnNldE9wdGlvbnModmlld2VyT3B0aW9ucyk7XG4gICAgfSwgdGhpcykuZXh0ZW5kKHsgcmF0ZUxpbWl0OiAwIH0pO1xuICB9XG5cbiAgbG9hZERvY3VtZW50KFxuICAgIGRvY3VtZW50T3B0aW9uczogRG9jdW1lbnRPcHRpb25zLFxuICAgIHZpZXdlck9wdGlvbnM6IFZpZXdlck9wdGlvbnMsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGVfLnN0YXR1cy52YWx1ZShSZWFkeVN0YXRlLkxPQURJTkcpO1xuICAgIGlmICh2aWV3ZXJPcHRpb25zKSB7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmNvcHlGcm9tKHZpZXdlck9wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18gPSBkb2N1bWVudE9wdGlvbnM7XG5cbiAgICBpZiAoZG9jdW1lbnRPcHRpb25zLnNyY1VybHMoKSkge1xuICAgICAgaWYgKCFkb2N1bWVudE9wdGlvbnMuYm9va01vZGUoKSkge1xuICAgICAgICB0aGlzLmNvcmVWaWV3ZXJfLmxvYWREb2N1bWVudChcbiAgICAgICAgICBkb2N1bWVudE9wdGlvbnMuc3JjVXJscygpLFxuICAgICAgICAgIGRvY3VtZW50T3B0aW9ucy50b09iamVjdCgpLFxuICAgICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29yZVZpZXdlcl8ubG9hZFB1YmxpY2F0aW9uKFxuICAgICAgICAgIGRvY3VtZW50T3B0aW9ucy5zcmNVcmxzKClbMF0sXG4gICAgICAgICAgZG9jdW1lbnRPcHRpb25zLnRvT2JqZWN0KCksXG4gICAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy50b09iamVjdCgpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBkb2N1bWVudCBzcGVjaWZpZWQsIHNob3cgd2VsY29tZSBwYWdlXG4gICAgICB0aGlzLnN0YXRlXy5zdGF0dXMudmFsdWUoXCJcIik7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUb1ByZXZpb3VzKCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5QUkVWSU9VUyk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvTmV4dCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uTkVYVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGVmdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uTEVGVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvUmlnaHQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLlJJR0hUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9GaXJzdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uRklSU1QpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0xhc3QoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkxBU1QpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0VQYWdlKGVwYWdlKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkVQQUdFLCBlcGFnZSk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvSW50ZXJuYWxVcmwoaHJlZik6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb0ludGVybmFsVXJsKGhyZWYpO1xuICB9XG5cbiAgcXVlcnlab29tRmFjdG9yKHR5cGUpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvcmVWaWV3ZXJfLnF1ZXJ5Wm9vbUZhY3Rvcih0eXBlKTtcbiAgfVxuXG4gIGVwYWdlVG9QYWdlTnVtYmVyKGVwYWdlKTogbnVtYmVyIHtcbiAgICBpZiAoIWVwYWdlICYmIGVwYWdlICE9IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBNYXRoLnJvdW5kKGVwYWdlICsgMSk7XG4gICAgcmV0dXJuIHBhZ2VOdW1iZXI7XG4gIH1cbiAgZXBhZ2VGcm9tUGFnZU51bWJlcihwYWdlTnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoIXBhZ2VOdW1iZXIgJiYgcGFnZU51bWJlciAhPSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBlcGFnZSA9IHBhZ2VOdW1iZXIgLSAxO1xuICAgIHJldHVybiBlcGFnZTtcbiAgfVxuXG4gIHNob3dUT0Moc2hvd24/OiBib29sZWFuLCBhdXRvSGlkZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb3JlVmlld2VyXy5pc1RPQ1Zpc2libGUoKSA9PSBudWxsKSB7XG4gICAgICAvLyBUT0MgaXMgdW5hdmFpbGFibGVcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdyA9IHNob3duID09IG51bGwgPyAhdGhpcy50b2NWaXNpYmxlKCkgOiBzaG93bjtcbiAgICB0aGlzLnRvY1Zpc2libGUoc2hvdyk7XG4gICAgdGhpcy50b2NQaW5uZWQoc2hvdyA/ICFhdXRvSGlkZSA6IGZhbHNlKTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLnNob3dUT0Moc2hvdywgYXV0b0hpZGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdlcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8vIGNmLiBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMta2V5L1xuY29uc3QgS2V5cyA9IHtcbiAgVW5pZGVudGlmaWVkOiBcIlVuaWRlbnRpZmllZFwiLFxuICBBcnJvd0Rvd246IFwiQXJyb3dEb3duXCIsXG4gIEFycm93TGVmdDogXCJBcnJvd0xlZnRcIixcbiAgQXJyb3dSaWdodDogXCJBcnJvd1JpZ2h0XCIsXG4gIEFycm93VXA6IFwiQXJyb3dVcFwiLFxuICBIb21lOiBcIkhvbWVcIixcbiAgRW5kOiBcIkVuZFwiLFxuICBQYWdlRG93bjogXCJQYWdlRG93blwiLFxuICBQYWdlVXA6IFwiUGFnZVVwXCIsXG4gIEVzY2FwZTogXCJFc2NhcGVcIixcbiAgRW50ZXI6IFwiRW50ZXJcIixcbiAgU3BhY2U6IFwiIFwiLFxufTtcblxuLy8gQ0FVVElPTjogVGhpcyBmdW5jdGlvbiBjb3ZlcnMgb25seSBwYXJ0IG9mIGNvbW1vbiBrZXlzIG9uIGEga2V5Ym9hcmQuIEtleXMgbm90IGNvdmVyZWQgYnkgdGhlIGltcGxlbWVudGF0aW9uIGFyZSBpZGVudGlmaWVkIGFzIEtleWJvYXJkRXZlbnQua2V5LCBLZXlib2FyZEV2ZW50LmtleUlkZW50aWZpZXIsIG9yIFwiVW5pZGVudGlmaWVkXCIuXG5mdW5jdGlvbiBpZGVudGlmeUtleUZyb21FdmVudChldmVudCk6IHR5cGVvZiBLZXlzW2tleW9mIHR5cGVvZiBLZXlzXSB7XG4gIGNvbnN0IGtleSA9IGV2ZW50LmtleTtcbiAgY29uc3Qga2V5SWRlbnRpZmllciA9IGV2ZW50LmtleUlkZW50aWZpZXI7XG4gIGNvbnN0IGxvY2F0aW9uID0gZXZlbnQubG9jYXRpb247XG4gIGlmIChrZXkgPT09IEtleXMuQXJyb3dEb3duIHx8IGtleSA9PT0gXCJEb3duXCIgfHwga2V5SWRlbnRpZmllciA9PT0gXCJEb3duXCIpIHtcbiAgICBpZiAoZXZlbnQubWV0YUtleSkge1xuICAgICAgLy8gTWFjIENtZCtEb3duIC0+IEVuZFxuICAgICAgcmV0dXJuIEtleXMuRW5kO1xuICAgIH1cbiAgICByZXR1cm4gS2V5cy5BcnJvd0Rvd247XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBLZXlzLkFycm93TGVmdCB8fFxuICAgIGtleSA9PT0gXCJMZWZ0XCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIkxlZnRcIlxuICApIHtcbiAgICByZXR1cm4gS2V5cy5BcnJvd0xlZnQ7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBLZXlzLkFycm93UmlnaHQgfHxcbiAgICBrZXkgPT09IFwiUmlnaHRcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiUmlnaHRcIlxuICApIHtcbiAgICByZXR1cm4gS2V5cy5BcnJvd1JpZ2h0O1xuICB9IGVsc2UgaWYgKGtleSA9PT0gS2V5cy5BcnJvd1VwIHx8IGtleSA9PT0gXCJVcFwiIHx8IGtleUlkZW50aWZpZXIgPT09IFwiVXBcIikge1xuICAgIGlmIChldmVudC5tZXRhS2V5KSB7XG4gICAgICAvLyBNYWMgQ21kK1VwIC0+IEhvbWVcbiAgICAgIHJldHVybiBLZXlzLkhvbWU7XG4gICAgfVxuICAgIHJldHVybiBLZXlzLkFycm93VXA7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBLZXlzLkVzY2FwZSB8fFxuICAgIGtleSA9PT0gXCJFc2NcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMDFCXCJcbiAgKSB7XG4gICAgcmV0dXJuIEtleXMuRXNjYXBlO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gS2V5cy5FbnRlciB8fCBrZXlJZGVudGlmaWVyID09PSBcIkVudGVyXCIpIHtcbiAgICByZXR1cm4gS2V5cy5FbnRlcjtcbiAgfSBlbHNlIGlmIChrZXkgPT09IEtleXMuU3BhY2UgfHwga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwMjBcIikge1xuICAgIHJldHVybiBLZXlzLlNwYWNlO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCIwXCIgfHwga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwMzBcIikge1xuICAgIHJldHVybiBcIjBcIjtcbiAgfSBlbHNlIGlmIChcbiAgICBrZXkgPT09IFwiK1wiIHx8XG4gICAga2V5ID09PSBcIkFkZFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwMkJcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMEJCXCIgfHxcbiAgICAoa2V5SWRlbnRpZmllciA9PT0gXCJVKzAwNEJcIiAmJlxuICAgICAgbG9jYXRpb24gPT09XG4gICAgICAgIEtleWJvYXJkRXZlbnQuRE9NX0tFWV9MT0NBVElPTl9OVU1QQUQpIC8qIHdvcmthcm91bmQgZm9yIENocm9tZSBmb3IgV2luZG93cyAqL1xuICApIHtcbiAgICByZXR1cm4gXCIrXCI7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBcIi1cIiB8fFxuICAgIGtleSA9PT0gXCJTdWJ0cmFjdFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJVKzAwMkRcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMEJEXCIgfHxcbiAgICAoa2V5SWRlbnRpZmllciA9PT0gXCJVKzAwNERcIiAmJlxuICAgICAgbG9jYXRpb24gPT09XG4gICAgICAgIEtleWJvYXJkRXZlbnQuRE9NX0tFWV9MT0NBVElPTl9OVU1QQUQpIC8qIHdvcmthcm91bmQgZm9yIENocm9tZSBmb3IgV2luZG93cyAqL1xuICApIHtcbiAgICByZXR1cm4gXCItXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGtleSB8fCBrZXlJZGVudGlmaWVyIHx8IEtleXMuVW5pZGVudGlmaWVkO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgS2V5cyxcbiAgaWRlbnRpZnlLZXlGcm9tRXZlbnQsXG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOCBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSB1bmtub3duIGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHsgQ29yZVZpZXdlciwgUmVhZHlTdGF0ZSwgUGFnZVByb2dyZXNzaW9uIH0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5pbXBvcnQga28sIHsgUHVyZUNvbXB1dGVkIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBWaWV3ZXJPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnNcIjtcbmltcG9ydCBrZXlVdGlsIGZyb20gXCIuLi91dGlscy9rZXktdXRpbFwiO1xuaW1wb3J0IFNldHRpbmdzUGFuZWwgZnJvbSBcIi4vc2V0dGluZ3MtcGFuZWxcIjtcbmltcG9ydCBWaWV3ZXIgZnJvbSBcIi4vdmlld2VyXCI7XG5cbmNvbnN0IHsgS2V5cyB9ID0ga2V5VXRpbDtcblxuZXhwb3J0IHR5cGUgTmF2aWdhdGlvbk9wdGlvbnMgPSB7XG4gIGRpc2FibGVUT0NOYXZpZ2F0aW9uOiBib29sZWFuO1xuICBkaXNhYmxlUGFnZU5hdmlnYXRpb246IGJvb2xlYW47XG4gIGRpc2FibGVab29tOiBib29sZWFuO1xuICBkaXNhYmxlRm9udFNpemVDaGFuZ2U6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBOYXZpZ2F0aW9uIHtcbiAgc3RhdGljIFBSRVZJT1VTKFBSRVZJT1VTOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIE5FWFQoTkVYVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBMRUZUKExFRlQ6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgUklHSFQoUklHSFQ6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgRklSU1QoRklSU1Q6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgTEFTVChMQVNUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIEVQQUdFKEVQQUdFOiB1bmtub3duLCBlcGFnZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHByaXZhdGUgdmlld2VyT3B0aW9uc186IFZpZXdlck9wdGlvbnM7XG4gIHByaXZhdGUgdmlld2VyXzogVmlld2VyO1xuICBwcml2YXRlIHNldHRpbmdzUGFuZWxfOiBTZXR0aW5nc1BhbmVsO1xuXG4gIGZpdFRvU2NyZWVuOiBQdXJlQ29tcHV0ZWQ8dW5rbm93bj47XG4gIGlzRGVjcmVhc2VGb250U2l6ZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9MZWZ0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9GaXJzdERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb0xhc3REaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1BhZ2VOdW1iZXJEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1RPQ1RvZ2dsZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzVG9nZ2xlRml0VG9TY3JlZW5EaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1pvb21PdXREaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1pvb21JbkRpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIHBhZ2VOdW1iZXI6IFB1cmVDb21wdXRlZDxudW1iZXIgfCBzdHJpbmc+O1xuICB0b3RhbFBhZ2VzOiBQdXJlQ29tcHV0ZWQ8dW5rbm93bj47XG4gIGhpZGVGb250U2l6ZUNoYW5nZTogYm9vbGVhbjtcbiAgaGlkZVBhZ2VOYXZpZ2F0aW9uOiBib29sZWFuO1xuICBoaWRlVE9DTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgaGlkZVpvb206IGJvb2xlYW47XG4gIGp1c3RDbGlja2VkOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZpZXdlck9wdGlvbnM6IFZpZXdlck9wdGlvbnMsXG4gICAgdmlld2VyOiBWaWV3ZXIsXG4gICAgc2V0dGluZ3NQYW5lbDogU2V0dGluZ3NQYW5lbCxcbiAgICBuYXZpZ2F0aW9uT3B0aW9uczogTmF2aWdhdGlvbk9wdGlvbnMsXG4gICkge1xuICAgIHRoaXMudmlld2VyT3B0aW9uc18gPSB2aWV3ZXJPcHRpb25zO1xuICAgIHRoaXMudmlld2VyXyA9IHZpZXdlcjtcbiAgICB0aGlzLnNldHRpbmdzUGFuZWxfID0gc2V0dGluZ3NQYW5lbDtcbiAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7IC8vIGRvdWJsZSBjbGljayBjaGVja1xuXG4gICAgdGhpcy5pc0Rpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICh0aGlzLnNldHRpbmdzUGFuZWxfLm9wZW5lZCgpICYmICF0aGlzLnNldHRpbmdzUGFuZWxfLnBpbm5lZCgpKSB8fFxuICAgICAgICAhdGhpcy52aWV3ZXJfLnN0YXRlLm5hdmlnYXRhYmxlKClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVQYWdlTmF2aWdhdGlvbiB8fCB0aGlzLmlzRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIG5hdmlnYXRpb25EaXNhYmxlZC5zdWJzY3JpYmUoKGRpc2FibGVkKSA9PiB7XG4gICAgICBjb25zdCBwYWdlTnVtYmVyRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtbnVtYmVyXCIsXG4gICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBpZiAocGFnZU51bWJlckVsZW0pIHtcbiAgICAgICAgcGFnZU51bWJlckVsZW0uZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNQYWdlTnVtYmVyRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25EaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudmlld2VyXy5maXJzdFBhZ2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnJlbmRlckFsbFBhZ2VzKCkgJiZcbiAgICAgICAgdGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cygpICE9IFJlYWR5U3RhdGUuQ09NUExFVEVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLmxhc3RQYWdlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb0xlZnREaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnBhZ2VQcm9ncmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUucGFnZVByb2dyZXNzaW9uKCkgPT09IFBhZ2VQcm9ncmVzc2lvbi5MVFIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb1JpZ2h0RGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9GaXJzdERpc2FibGVkID0gdGhpcy5pc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18ucmVuZGVyQWxsUGFnZXMoKSAmJlxuICAgICAgICB0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzKCkgIT0gUmVhZHlTdGF0ZS5DT01QTEVURVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudmlld2VyXy5sYXN0UGFnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5oaWRlUGFnZU5hdmlnYXRpb24gPSAhIW5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVQYWdlTmF2aWdhdGlvbjtcblxuICAgIGNvbnN0IHpvb21EaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVpvb20gfHwgdGhpcy5pc0Rpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzWm9vbU91dERpc2FibGVkID0gem9vbURpc2FibGVkO1xuICAgIHRoaXMuaXNab29tSW5EaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkID0gem9vbURpc2FibGVkO1xuICAgIHRoaXMuaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkID0gem9vbURpc2FibGVkO1xuICAgIHRoaXMuaGlkZVpvb20gPSAhIW5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVab29tO1xuXG4gICAgdGhpcy5maXRUb1NjcmVlbiA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB2aWV3ZXJPcHRpb25zLnpvb20oKS5maXRUb1NjcmVlbik7XG5cbiAgICBjb25zdCBmb250U2l6ZUNoYW5nZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlRm9udFNpemVDaGFuZ2UgfHwgdGhpcy5pc0Rpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBGb250IHNpemUgbGltaXQgKG1heDo3MiwgbWluOjUpIGlzIGhhcmQgY29kZWQgaW4gdml2bGlvc3R5bGUuanMvc3JjL2FkYXB0L3ZpZXdlci5qcy5cbiAgICB0aGlzLmlzSW5jcmVhc2VGb250U2l6ZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChmb250U2l6ZUNoYW5nZURpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpID49IDcyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIHRoaXMuaXNEZWNyZWFzZUZvbnRTaXplRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKGZvbnRTaXplQ2hhbmdlRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKCkgPD0gNSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICB0aGlzLmlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQgPSBmb250U2l6ZUNoYW5nZURpc2FibGVkO1xuICAgIHRoaXMuaGlkZUZvbnRTaXplQ2hhbmdlID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlRm9udFNpemVDaGFuZ2U7XG5cbiAgICB0aGlzLmlzVE9DVG9nZ2xlRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZVRPQ05hdmlnYXRpb24gfHxcbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkKCkgfHxcbiAgICAgICAgdGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSA9PSBudWxsXG4gICAgICApO1xuICAgIH0pO1xuICAgIHRoaXMuaGlkZVRPQ05hdmlnYXRpb24gPSAhIW5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVUT0NOYXZpZ2F0aW9uO1xuXG4gICAgdGhpcy5wYWdlTnVtYmVyID0ga28ucHVyZUNvbXB1dGVkKHtcbiAgICAgIHJlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8uZXBhZ2VUb1BhZ2VOdW1iZXIodGhpcy52aWV3ZXJfLmVwYWdlKCkpO1xuICAgICAgfSxcbiAgICAgIHdyaXRlKHBhZ2VOdW1iZXJUZXh0OiBudW1iZXIgfCBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZXBhZ2VPbGQgPSB0aGlzLnZpZXdlcl8uZXBhZ2UoKTtcbiAgICAgICAgY29uc3QgcGFnZU51bWJlck9sZCA9IHRoaXMudmlld2VyXy5lcGFnZVRvUGFnZU51bWJlcihlcGFnZU9sZCk7XG5cbiAgICAgICAgLy8gQWNjZXB0IG5vbi1pbnRlZ2VyLCBjb252ZXJ0IGZ1bGx3aWR0aCB0byBhc2NpaVxuICAgICAgICBsZXQgcGFnZU51bWJlciA9XG4gICAgICAgICAgcGFyc2VGbG9hdChcbiAgICAgICAgICAgIHBhZ2VOdW1iZXJUZXh0XG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9b77yQLe+8mV0vZywgKHMpID0+XG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShzLmNoYXJDb2RlQXQoMCkgLSAweGZlZTApLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgaWYgKC9eWy0rXS8udGVzdChwYWdlTnVtYmVyVGV4dC50b1N0cmluZygpKSkge1xuICAgICAgICAgIC8vIFwiK251bWJlclwiIGFuZCBcIi1udW1iZXJcIiB0byByZWxhdGl2ZSBtb3ZlLlxuICAgICAgICAgIHBhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyT2xkICsgcGFnZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZU51bWJlciA8IDEpIHtcbiAgICAgICAgICBwYWdlTnVtYmVyID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlcGFnZUNvdW50ID0gdGhpcy52aWV3ZXJfLmVwYWdlQ291bnQoKTtcbiAgICAgICAgICBpZiAodGhpcy52aWV3ZXJPcHRpb25zXy5yZW5kZXJBbGxQYWdlcygpKSB7XG4gICAgICAgICAgICBpZiAocGFnZU51bWJlciA+IGVwYWdlQ291bnQpIHtcbiAgICAgICAgICAgICAgcGFnZU51bWJlciA9IGVwYWdlQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChwYWdlTnVtYmVyID4gZXBhZ2VDb3VudCArIDEpIHtcbiAgICAgICAgICAgIC8vIEFjY2VwdCBcImVwYWdlQ291bnQgKyAxXCIgYmVjYXVzZSB0aGUgbGFzdCBlcGFnZSBtYXkgZXF1YWwgZXBhZ2VDb3VudC5cbiAgICAgICAgICAgIHBhZ2VOdW1iZXIgPSBlcGFnZUNvdW50ICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXBhZ2VOYXYgPSB0aGlzLnZpZXdlcl8uZXBhZ2VGcm9tUGFnZU51bWJlcihwYWdlTnVtYmVyKTtcbiAgICAgICAgY29uc3QgcGFnZU51bWJlckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtbnVtYmVyXCIsXG4gICAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgcGFnZU51bWJlckVsZW0udmFsdWUgPSBwYWdlTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvRVBhZ2UoZXBhZ2VOYXYpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMoKSAhPSBSZWFkeVN0YXRlLkxPQURJTkcgJiZcbiAgICAgICAgICAgIHRoaXMudmlld2VyXy5lcGFnZSgpID09PSBlcGFnZU9sZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcGFnZU51bWJlckVsZW0udmFsdWUgPSBwYWdlTnVtYmVyT2xkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIpLmZvY3VzKCk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgIH0sXG4gICAgICBvd25lcjogdGhpcyxcbiAgICB9KTtcblxuICAgIHRoaXMudG90YWxQYWdlcyA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBsZXQgdG90YWxQYWdlcyA9IHRoaXMudmlld2VyXy5lcGFnZUNvdW50KCk7XG4gICAgICBpZiAoIXRvdGFsUGFnZXMpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsUGFnZXM7XG4gICAgICB9XG4gICAgICBjb25zdCBwYWdlTnVtYmVyID0gTnVtYmVyKHRoaXMucGFnZU51bWJlcigpKTtcbiAgICAgIGlmICh0aGlzLnZpZXdlcl8ubGFzdFBhZ2UoKSkge1xuICAgICAgICB0b3RhbFBhZ2VzID0gcGFnZU51bWJlcjtcbiAgICAgIH0gZWxzZSBpZiAocGFnZU51bWJlciA+PSB0b3RhbFBhZ2VzKSB7XG4gICAgICAgIHRvdGFsUGFnZXMrKztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbFBhZ2VzO1xuICAgIH0pO1xuXG4gICAgW1xuICAgICAgXCJuYXZpZ2F0ZVRvUHJldmlvdXNcIixcbiAgICAgIFwibmF2aWdhdGVUb05leHRcIixcbiAgICAgIFwibmF2aWdhdGVUb0xlZnRcIixcbiAgICAgIFwibmF2aWdhdGVUb1JpZ2h0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9GaXJzdFwiLFxuICAgICAgXCJuYXZpZ2F0ZVRvTGFzdFwiLFxuICAgICAgXCJ6b29tSW5cIixcbiAgICAgIFwiem9vbU91dFwiLFxuICAgICAgXCJ6b29tVG9BY3R1YWxTaXplXCIsXG4gICAgICBcInRvZ2dsZUZpdFRvU2NyZWVuXCIsXG4gICAgICBcImluY3JlYXNlRm9udFNpemVcIixcbiAgICAgIFwiZGVjcmVhc2VGb250U2l6ZVwiLFxuICAgICAgXCJkZWZhdWx0Rm9udFNpemVcIixcbiAgICAgIFwib25jbGlja1ZpZXdwb3J0XCIsXG4gICAgICBcInRvZ2dsZVRPQ1wiLFxuICAgIF0uZm9yRWFjaCgobWV0aG9kTmFtZSkgPT4ge1xuICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IHRoaXNbbWV0aG9kTmFtZV0uYmluZCh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9QcmV2aW91cygpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb1ByZXZpb3VzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9OZXh0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9MZWZ0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9MZWZ0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9MZWZ0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9SaWdodCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb1JpZ2h0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9GaXJzdCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb0ZpcnN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9MYXN0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9MYXN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHpvb21JbigpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNab29tSW5EaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oXG4gICAgICAgIHpvb20uem9vbUluKCh0aGlzLnZpZXdlcl8gYXMgdW5rbm93bikgYXMgQ29yZVZpZXdlciksXG4gICAgICApOyAvLyBUT0RPOiB0ZXN0IGlmIGl0J3Mgb2sgdG8gdHJlYXQgdmlld2VyXyBhcyBDb3JlVmlld2VyXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHpvb21PdXQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzWm9vbU91dERpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oKTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uem9vbShcbiAgICAgICAgem9vbS56b29tT3V0KCh0aGlzLnZpZXdlcl8gYXMgdW5rbm93bikgYXMgQ29yZVZpZXdlciksXG4gICAgICApOyAvLyBUT0RPOiB0ZXN0IGlmIGl0J3Mgb2sgdG8gdHJlYXQgdmlld2VyXyBhcyBDb3JlVmlld2VyXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHpvb21Ub0FjdHVhbFNpemUoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oKTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uem9vbSh6b29tLnpvb21Ub0FjdHVhbFNpemUoKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1RvZ2dsZUZpdFRvU2NyZWVuRGlzYWJsZWQoKSkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMudmlld2VyT3B0aW9uc18uem9vbSgpO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKHpvb20udG9nZ2xlRml0VG9TY3JlZW4oKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGluY3JlYXNlRm9udFNpemUoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzSW5jcmVhc2VGb250U2l6ZURpc2FibGVkKCkpIHtcbiAgICAgIGxldCBmb250U2l6ZSA9IE51bWJlcih0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKCkpO1xuICAgICAgLy8gZm9udFNpemUgKj0gMS4yNTtcbiAgICAgIGlmIChmb250U2l6ZSA8IDEwKSB7XG4gICAgICAgIGZvbnRTaXplID0gTWF0aC5mbG9vcihmb250U2l6ZSkgKyAxO1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA8IDIwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguZmxvb3IoZm9udFNpemUgLyAyKSArIDEpICogMjtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPCA0MCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmZsb29yKGZvbnRTaXplIC8gNCkgKyAxKSAqIDQ7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplIDwgNzIpIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5mbG9vcihmb250U2l6ZSAvIDgpICsgMSkgKiA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9udFNpemUgPSA3MjtcbiAgICAgIH1cbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoZm9udFNpemUpO1xuICAgICAgdGhpcy51cGRhdGVGb250U2l6ZVNldHRpbmdzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGRlY3JlYXNlRm9udFNpemUoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzRGVjcmVhc2VGb250U2l6ZURpc2FibGVkKCkpIHtcbiAgICAgIGxldCBmb250U2l6ZSA9IE51bWJlcih0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKCkpO1xuICAgICAgLy8gZm9udFNpemUgKj0gMC44O1xuICAgICAgaWYgKGZvbnRTaXplID4gNDApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5jZWlsKGZvbnRTaXplIC8gOCkgLSAxKSAqIDg7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplID4gMjApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5jZWlsKGZvbnRTaXplIC8gNCkgLSAxKSAqIDQ7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplID4gMTApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5jZWlsKGZvbnRTaXplIC8gMikgLSAxKSAqIDI7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplID4gNSkge1xuICAgICAgICBmb250U2l6ZSA9IE1hdGguY2VpbChmb250U2l6ZSkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9udFNpemUgPSA1O1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZShmb250U2l6ZSk7XG4gICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplU2V0dGluZ3MoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZGVmYXVsdEZvbnRTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc0RlZmF1bHRGb250U2l6ZURpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gVmlld2VyT3B0aW9ucy5nZXREZWZhdWx0VmFsdWVzKCkuZm9udFNpemU7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKGZvbnRTaXplKTtcbiAgICAgIHRoaXMudXBkYXRlRm9udFNpemVTZXR0aW5ncygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVGb250U2l6ZVNldHRpbmdzKCk6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSBzZXR0aW5nIHBhbmVsIFwiRm9udCBTaXplXCIuXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsXy5zdGF0ZS52aWV3ZXJPcHRpb25zLmZvbnRTaXplKFxuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpLFxuICAgICk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXJfLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAvLyBVcGRhdGUgdXNlclN0eWxlc2hlZXQgd2hlbiBiYXNlIGZvbnQtc2l6ZSBpcyBzcGVjaWZpZWRcbiAgICAgIHRoaXMudmlld2VyXy5kb2N1bWVudE9wdGlvbnNfLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoKTtcbiAgICAgIHRoaXMudmlld2VyXy5sb2FkRG9jdW1lbnQoXG4gICAgICAgIHRoaXMudmlld2VyXy5kb2N1bWVudE9wdGlvbnNfLFxuICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbmNsaWNrVmlld3BvcnQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbF8uanVzdENsaWNrZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSAmJiAhdGhpcy52aWV3ZXJfLnRvY1Bpbm5lZCgpKSB7XG4gICAgICBjb25zdCB0b2NCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF1cIik7XG4gICAgICBpZiAodG9jQm94ICYmICF0b2NCb3guY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgdGhpcy50b2dnbGVUT0MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbF8ub3BlbmVkKCkgJiYgIXRoaXMuc2V0dGluZ3NQYW5lbF8ucGlubmVkKCkpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8uY2xvc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0b2dnbGVUT0MoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzVE9DVG9nZ2xlRGlzYWJsZWQoKSkge1xuICAgICAgbGV0IGludGVydmFsSUQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSkge1xuICAgICAgICBpZiAodGhpcy5qdXN0Q2xpY2tlZCkge1xuICAgICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKHRydWUsIGZhbHNlKTsgLy8gYXV0b2hpZGU9ZmFsc2VcbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52aWV3ZXJfLnNob3dUT0ModHJ1ZSwgdHJ1ZSk7IC8vIGF1dG9oaWRlPXRydWVcbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIZXJlIHVzZSB0aW1lciBmb3IgdHdvIHB1cnBvc2VzOlxuICAgICAgICAvLyAtIENoZWNrIGRvdWJsZSBjbGljayB0byBtYWtlIFRPQyBib3ggcGlubmVkLlxuICAgICAgICAvLyAtIE1vdmUgZm9jdXMgdG8gVE9DIGJveCB3aGVuIFRPQyBib3ggYmVjb21lcyB2aXNpYmxlLlxuICAgICAgICBpbnRlcnZhbElEID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRvY0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdXCIsXG4gICAgICAgICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICBpZiAodG9jQm94ICYmIHRvY0JveC5zdHlsZS52aXNpYmlsaXR5ID09PSBcInZpc2libGVcIikge1xuICAgICAgICAgICAgdG9jQm94LnRhYkluZGV4ID0gMDtcbiAgICAgICAgICAgIHRvY0JveC5mb2N1cygpO1xuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSUQpO1xuICAgICAgICAgICAgaW50ZXJ2YWxJRCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5qdXN0Q2xpY2tlZCkge1xuICAgICAgICAvLyBEb3VibGUgY2xpY2sgdG8ga2VlcCBUT0MgYm94IHZpc2libGUgZHVyaW5nIFRPQyBuYXZpZ2F0aW9uXG4gICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKHRydWUsIGZhbHNlKTsgLy8gYXV0b2hpZGU9ZmFsc2VcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGludGVydmFsSUQgIT09IG51bGwpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSUQpO1xuICAgICAgICAgIGludGVydmFsSUQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIpLmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRPQyhrZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBzZWxlY3RlciA9XG4gICAgICBcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdPio+Kj4qPio+Kjpub3QoW2hpZGRlbl0pIFt0YWJpbmRleD0nMCddLFwiICtcbiAgICAgIFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF0+Kj4qPio+Kj4qOm5vdChbaGlkZGVuXSkgYVtocmVmXTpub3QoW3RhYmluZGV4PSctMSddKVwiO1xuICAgIGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdGVyKSk7XG4gICAgbGV0IGluZGV4ID0gbm9kZXMuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuICAgIGNvbnN0IGlzQnV0dG9uID0gKGluZGV4KTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gbm9kZXNbaW5kZXhdICYmIG5vZGVzW2luZGV4XS5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcImJ1dHRvblwiO1xuICAgIH07XG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IChpbmRleCk6IGJvb2xlYW4gPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgbm9kZXNbaW5kZXhdICYmIG5vZGVzW2luZGV4XS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIpID09PSBcInRydWVcIlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd0xlZnQ6XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgIGluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQnV0dG9uKGluZGV4KSAmJiBpc0J1dHRvbihpbmRleCAtIDEpKSB7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCdXR0b24oaW5kZXgpICYmIGlzRXhwYW5kZWQoaW5kZXgpKSB7XG4gICAgICAgICAgKG5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKGlzQnV0dG9uKGkpICYmIG5vZGVzW2ldLnBhcmVudEVsZW1lbnQuY29udGFpbnMobm9kZXNbaW5kZXhdKSkge1xuICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5BcnJvd1JpZ2h0OlxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0J1dHRvbihpbmRleCkgJiYgaXNCdXR0b24oaW5kZXggLSAxKSkge1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQnV0dG9uKGluZGV4KSkge1xuICAgICAgICAgIGlmIChpc0V4cGFuZGVkKGluZGV4KSkge1xuICAgICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKG5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuQXJyb3dEb3duOlxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5BcnJvd1VwOlxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICBpbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgIGlmIChpc0J1dHRvbigtLWluZGV4KSkge1xuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuSG9tZTpcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgS2V5cy5FbmQ6XG4gICAgICAgIGluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIGlmICghaXNCdXR0b24oaW5kZXgpICYmIGlzQnV0dG9uKGluZGV4IC0gMSkpIHtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0J1dHRvbihpbmRleCkpIHtcbiAgICAgICAgICAobm9kZXNbaW5kZXhdIGFzIEhUTUxFbGVtZW50KS5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChpc0J1dHRvbihpbmRleCkpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKG5vZGVzW2luZGV4XSkge1xuICAgICAgKG5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZUtleShrZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpc1NldHRpbmdzQWN0aXZlID1cbiAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8ub3BlbmVkKCkgJiZcbiAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8uc2V0dGluZ3NUb2dnbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICBpZiAoaXNTZXR0aW5nc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZU51bWJlckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXBhZ2UtbnVtYmVyXCIpO1xuICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIixcbiAgICApO1xuICAgIGNvbnN0IGhvcml6b250YWxTY3JvbGxhYmxlID1cbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxXaWR0aCA+IHZpZXdwb3J0RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbGFibGUgPVxuICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbEhlaWdodCA+IHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3QgaXNQYWdlTnVtYmVySW5wdXQgPSBwYWdlTnVtYmVyRWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBjb25zdCBpc1RPQ0FjdGl2ZSA9XG4gICAgICB0aGlzLnZpZXdlcl8udG9jVmlzaWJsZSgpICYmXG4gICAgICAhaXNQYWdlTnVtYmVySW5wdXQgJiZcbiAgICAgIHZpZXdwb3J0RWxlbWVudCAhPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy5pbmNyZWFzZUZvbnRTaXplKCk7XG4gICAgICBjYXNlIFwiLVwiOlxuICAgICAgICByZXR1cm4gaXNQYWdlTnVtYmVySW5wdXQgfHwgIXRoaXMuZGVjcmVhc2VGb250U2l6ZSgpO1xuICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgcmV0dXJuIGlzUGFnZU51bWJlcklucHV0IHx8ICF0aGlzLmRlZmF1bHRGb250U2l6ZSgpO1xuICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgcmV0dXJuIGlzUGFnZU51bWJlcklucHV0IHx8ICF0aGlzLnpvb21Ub0FjdHVhbFNpemUoKTtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd0xlZnQ6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaXNQYWdlTnVtYmVySW5wdXQgfHwgaG9yaXpvbnRhbFNjcm9sbGFibGUgfHwgIXRoaXMubmF2aWdhdGVUb0xlZnQoKVxuICAgICAgICApO1xuICAgICAgY2FzZSBLZXlzLkFycm93UmlnaHQ6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaXNQYWdlTnVtYmVySW5wdXQgfHwgaG9yaXpvbnRhbFNjcm9sbGFibGUgfHwgIXRoaXMubmF2aWdhdGVUb1JpZ2h0KClcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd0Rvd246XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdmVydGljYWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dVcDpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiB2ZXJ0aWNhbFNjcm9sbGFibGUgfHwgIXRoaXMubmF2aWdhdGVUb1ByZXZpb3VzKCk7XG4gICAgICBjYXNlIEtleXMuUGFnZURvd246XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgIGNhc2UgS2V5cy5QYWdlVXA6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMubmF2aWdhdGVUb1ByZXZpb3VzKCk7XG4gICAgICBjYXNlIEtleXMuSG9tZTpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRvRmlyc3QoKTtcbiAgICAgIGNhc2UgS2V5cy5FbmQ6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMubmF2aWdhdGVUb0xhc3QoKTtcbiAgICAgIGNhc2UgXCJvXCI6XG4gICAgICBjYXNlIFwiT1wiOlxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnpvb21PdXQoKTtcbiAgICAgIGNhc2UgXCJpXCI6XG4gICAgICBjYXNlIFwiSVwiOlxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnpvb21JbigpO1xuICAgICAgY2FzZSBcImZcIjpcbiAgICAgIGNhc2UgXCJGXCI6XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMudG9nZ2xlRml0VG9TY3JlZW4oKTtcbiAgICAgIGNhc2UgXCJnXCI6XG4gICAgICBjYXNlIFwiR1wiOlxuICAgICAgICBwYWdlTnVtYmVyRWxlbS5mb2N1cygpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBjYXNlIFwidFwiOlxuICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy50b2dnbGVUT0MoKTtcbiAgICAgIGNhc2UgS2V5cy5Fc2NhcGU6XG4gICAgICAgIGlmICh0aGlzLnZpZXdlcl8udG9jVmlzaWJsZSgpKSB7XG4gICAgICAgICAgcmV0dXJuICF0aGlzLnRvZ2dsZVRPQygpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgS2V5cy5TcGFjZTpcbiAgICAgICAgaWYgKGlzVE9DQWN0aXZlKSByZXR1cm4gIXRoaXMubmF2aWdhdGVUT0Moa2V5KTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJidXR0b25cIikge1xuICAgICAgICAgIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5jbGljaygpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0aW9uO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUsIFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgVmlld2VyIGZyb20gXCIuL3ZpZXdlclwiO1xuaW1wb3J0IFBhZ2VTdHlsZSBmcm9tIFwiLi4vbW9kZWxzL3BhZ2Utc3R5bGVcIjtcbmltcG9ydCBQYWdlVmlld01vZGUgZnJvbSBcIi4uL21vZGVscy9wYWdlLXZpZXctbW9kZVwiO1xuaW1wb3J0IFZpZXdlck9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy92aWV3ZXItb3B0aW9uc1wiO1xuaW1wb3J0IERvY3VtZW50T3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL2RvY3VtZW50LW9wdGlvbnNcIjtcbmltcG9ydCBrZXlVdGlsIGZyb20gXCIuLi91dGlscy9rZXktdXRpbFwiO1xuXG50eXBlIFN0YXRlID0ge1xuICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zO1xuICBwYWdlU3R5bGU6IFBhZ2VTdHlsZTtcbiAgcGFnZVZpZXdNb2RlOiBQdXJlQ29tcHV0ZWQ8c3RyaW5nPjtcbiAgYm9va01vZGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHJlbmRlckFsbFBhZ2VzOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG59O1xuXG5jb25zdCB7IEtleXMgfSA9IGtleVV0aWw7XG5cbmNsYXNzIFNldHRpbmdzUGFuZWwge1xuICBwcml2YXRlIHZpZXdlck9wdGlvbnNfOiBWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIGRvY3VtZW50T3B0aW9uc186IERvY3VtZW50T3B0aW9ucztcbiAgcHJpdmF0ZSB2aWV3ZXJfOiBWaWV3ZXI7XG5cbiAgaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNPdmVycmlkZURvY3VtZW50U3R5bGVTaGVldERpc2FibGVkOiBib29sZWFuO1xuICBpc1BhZ2VWaWV3TW9kZUNoYW5nZURpc2FibGVkOiBib29sZWFuO1xuICBpc0Jvb2tNb2RlQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzUmVuZGVyQWxsUGFnZXNDaGFuZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAganVzdENsaWNrZWQ6IGJvb2xlYW47IC8vIGRvdWJsZSBjbGljayBjaGVja1xuICBzZXR0aW5nc1RvZ2dsZTogSFRNTEVsZW1lbnQ7XG4gIHN0YXRlOiBTdGF0ZTtcbiAgb3BlbmVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBwaW5uZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGRlZmF1bHRQYWdlU3R5bGU6IFBhZ2VTdHlsZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zLFxuICAgIGRvY3VtZW50T3B0aW9uczogRG9jdW1lbnRPcHRpb25zLFxuICAgIHZpZXdlcjogVmlld2VyLFxuICAgIG1lc3NhZ2VEaWFsb2csXG4gICAgc2V0dGluZ3NQYW5lbE9wdGlvbnMsXG4gICkge1xuICAgIHRoaXMudmlld2VyT3B0aW9uc18gPSB2aWV3ZXJPcHRpb25zO1xuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zXyA9IGRvY3VtZW50T3B0aW9ucztcbiAgICB0aGlzLnZpZXdlcl8gPSB2aWV3ZXI7XG5cbiAgICB0aGlzLmlzUGFnZVN0eWxlQ2hhbmdlRGlzYWJsZWQgPSAhIXNldHRpbmdzUGFuZWxPcHRpb25zLmRpc2FibGVQYWdlU3R5bGVDaGFuZ2U7XG4gICAgdGhpcy5pc092ZXJyaWRlRG9jdW1lbnRTdHlsZVNoZWV0RGlzYWJsZWQgPSB0aGlzLmlzUGFnZVN0eWxlQ2hhbmdlRGlzYWJsZWQ7XG4gICAgdGhpcy5pc1BhZ2VWaWV3TW9kZUNoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlUGFnZVZpZXdNb2RlQ2hhbmdlO1xuICAgIHRoaXMuaXNCb29rTW9kZUNoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlQm9va01vZGVDaGFuZ2U7XG4gICAgdGhpcy5pc1JlbmRlckFsbFBhZ2VzQ2hhbmdlRGlzYWJsZWQgPSAhIXNldHRpbmdzUGFuZWxPcHRpb25zLmRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZTtcblxuICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNldHRpbmdzVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcInZpdmxpb3N0eWxlLW1lbnUtaXRlbV9zZXR0aW5ncy10b2dnbGVcIixcbiAgICApO1xuXG4gICAgdGhpcy5vcGVuZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBpbm5lZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZpZXdlck9wdGlvbnM6IG5ldyBWaWV3ZXJPcHRpb25zKHZpZXdlck9wdGlvbnMpLFxuICAgICAgcGFnZVN0eWxlOiBuZXcgUGFnZVN0eWxlKGRvY3VtZW50T3B0aW9ucy5wYWdlU3R5bGUpLFxuICAgICAgcGFnZVZpZXdNb2RlOiBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgICByZWFkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5wYWdlVmlld01vZGUoKS50b1N0cmluZygpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnBhZ2VWaWV3TW9kZShQYWdlVmlld01vZGUub2YodmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgYm9va01vZGU6IGtvLm9ic2VydmFibGUoZG9jdW1lbnRPcHRpb25zLmJvb2tNb2RlKCkpLFxuICAgICAgcmVuZGVyQWxsUGFnZXM6IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICAgIHJlYWQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnJlbmRlckFsbFBhZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMucmVuZGVyQWxsUGFnZXModmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLnNldFZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZShcbiAgICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZSxcbiAgICApO1xuXG4gICAgdGhpcy5kZWZhdWx0UGFnZVN0eWxlID0gbmV3IFBhZ2VTdHlsZSgpO1xuXG4gICAgW1wiY2xvc2VcIiwgXCJ0b2dnbGVcIiwgXCJhcHBseVwiLCBcImNhbmNlbFwiLCBcInJlc2V0VXNlclN0eWxlXCJdLmZvckVhY2goZnVuY3Rpb24oXG4gICAgICBtZXRob2ROYW1lLFxuICAgICkge1xuICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IHRoaXNbbWV0aG9kTmFtZV0uYmluZCh0aGlzKTtcbiAgICB9LFxuICAgIHRoaXMpO1xuXG4gICAgbWVzc2FnZURpYWxvZy52aXNpYmxlLnN1YnNjcmliZShmdW5jdGlvbih2aXNpYmxlKSB7XG4gICAgICBpZiAodmlzaWJsZSkgdGhpcy5jbG9zZSgpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZS5ib29rTW9kZS5zdWJzY3JpYmUoKGJvb2tNb2RlKSA9PiB7XG4gICAgICBkb2N1bWVudE9wdGlvbnMuYm9va01vZGUoYm9va01vZGUpO1xuICAgIH0pO1xuICAgIHRoaXMuc3RhdGUucmVuZGVyQWxsUGFnZXMuc3Vic2NyaWJlKChyZW5kZXJBbGxQYWdlcykgPT4ge1xuICAgICAgdmlld2VyT3B0aW9ucy5yZW5kZXJBbGxQYWdlcyhyZW5kZXJBbGxQYWdlcyk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpOiBib29sZWFuIHtcbiAgICB0aGlzLm9wZW5lZChmYWxzZSk7XG4gICAgdGhpcy5waW5uZWQoZmFsc2UpO1xuICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIixcbiAgICApO1xuICAgIGlmICh2aWV3cG9ydEVsZW1lbnQpIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdG9nZ2xlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vcGVuZWQoKSkge1xuICAgICAgaWYgKCF0aGlzLnZpZXdlcl8udG9jUGlubmVkKCkpIHtcbiAgICAgICAgdGhpcy52aWV3ZXJfLnNob3dUT0MoZmFsc2UpOyAvLyBIaWRlIFRPQyBib3hcbiAgICAgIH1cbiAgICAgIHRoaXMub3BlbmVkKHRydWUpO1xuXG4gICAgICBpZiAodGhpcy5qdXN0Q2xpY2tlZCkge1xuICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGlubmVkKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5waW5uZWQoZmFsc2UpO1xuICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgIC8vIERvdWJsZSBjbGljayB0byBrZWVwIFNldHRpbmdzIHBhbmVsIG9wZW4gd2hlbiBBcHBseSBpcyBjbGlja2VkLlxuICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5waW5uZWQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH1cblxuICBhcHBseSgpOiB2b2lkIHtcbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuc3RhdGUucGFnZVN0eWxlKTtcbiAgICBpZiAodGhpcy5kb2N1bWVudE9wdGlvbnNfLnBhZ2VTdHlsZS5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSkge1xuICAgICAgLy8gVXBkYXRlIHVzZXJTdHlsZXNoZWV0IHdoZW4gYmFzZSBmb250LXNpemUgaXMgc3BlY2lmaWVkXG4gICAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18udXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCgpO1xuICAgIH1cbiAgICB0aGlzLnZpZXdlcl8ubG9hZERvY3VtZW50KHRoaXMuZG9jdW1lbnRPcHRpb25zXywgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zKTtcbiAgICBpZiAodGhpcy5waW5uZWQoKSkge1xuICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBjYW5jZWwoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLmNvcHlGcm9tKHRoaXMudmlld2VyT3B0aW9uc18pO1xuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuZG9jdW1lbnRPcHRpb25zXy5wYWdlU3R5bGUpO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIHJlc2V0VXNlclN0eWxlKCk6IGJvb2xlYW4ge1xuICAgIHRoaXMuc3RhdGUucGFnZVN0eWxlLmNvcHlGcm9tKHRoaXMuZGVmYXVsdFBhZ2VTdHlsZSk7XG4gICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLmZvbnRTaXplKFxuICAgICAgVmlld2VyT3B0aW9ucy5nZXREZWZhdWx0VmFsdWVzKCkuZm9udFNpemUsXG4gICAgKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19yZXNldC11c2VyLXN0eWxlXCIsXG4gICAgICApWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9LCAyMDApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZm9jdXNUb0ZpcnN0SXRlbShvdXRlckVsZW1QYXJhbT86IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBvdXRlckVsZW0gPSBvdXRlckVsZW1QYXJhbSB8fCB0aGlzLnNldHRpbmdzVG9nZ2xlO1xuICAgIGNvbnN0IGlucHV0RWxlbSA9IFtcImlucHV0XCIsIFwidGV4dGFyZWFcIiwgXCJzdW1tYXJ5XCJdLmluY2x1ZGVzKFxuICAgICAgb3V0ZXJFbGVtLmxvY2FsTmFtZSxcbiAgICApXG4gICAgICA/IG91dGVyRWxlbVxuICAgICAgOiBBcnJheS5mcm9tKG91dGVyRWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpKS5maW5kKFxuICAgICAgICAgIChlOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWUuZGlzYWJsZWQgJiYgKGUudHlwZSAhPSBcInJhZGlvXCIgfHwgZS5jaGVja2VkKTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIGlmIChpbnB1dEVsZW0pIHtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBlID0gaW5wdXRFbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGUgJiYgZSAhPSB0aGlzLnNldHRpbmdzVG9nZ2xlO1xuICAgICAgICBlID0gZS5wYXJlbnRFbGVtZW50XG4gICAgICApIHtcbiAgICAgICAgaWYgKGUubG9jYWxOYW1lID09IFwiZGV0YWlsc1wiKSB7XG4gICAgICAgICAgLy8gRklYTUU6IFJlbW92ZSB0cy1pZ25vcmUgY29tbWVudFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBlLm9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaW5wdXRFbGVtIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUtleShrZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpc1NldHRpbmdzQWN0aXZlID1cbiAgICAgIHRoaXMub3BlbmVkKCkgJiYgdGhpcy5zZXR0aW5nc1RvZ2dsZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICBjb25zdCBpc0luSW5wdXQgPVxuICAgICAgaXNTZXR0aW5nc0FjdGl2ZSAmJlxuICAgICAgKChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGUgPT0gXCJ0ZXh0XCIgfHxcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5sb2NhbE5hbWUgPT0gXCJzZWxlY3RcIik7XG4gICAgY29uc3QgaXNJblRleHRBcmVhID1cbiAgICAgIGlzU2V0dGluZ3NBY3RpdmUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5sb2NhbE5hbWUgPT0gXCJ0ZXh0YXJlYVwiO1xuICAgIGNvbnN0IGlzSG90S2V5RW5hYmxlZCA9IGlzU2V0dGluZ3NBY3RpdmUgJiYgIWlzSW5JbnB1dCAmJiAhaXNJblRleHRBcmVhO1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgS2V5cy5Fc2NhcGU6XG4gICAgICAgIGlmICh0aGlzLm9wZW5lZCgpKSB7XG4gICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgaWYgKCF0aGlzLm9wZW5lZCgpIHx8IGlzSG90S2V5RW5hYmxlZCB8fCAhaXNTZXR0aW5nc0FjdGl2ZSkge1xuICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInBcIjpcbiAgICAgIGNhc2UgXCJQXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLXZpZXctYW5kLXJlbmRlcmluZ1wiLFxuICAgICAgICAgICAgKS5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICBjYXNlIFwiVlwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLXZpZXctbW9kZVwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJiXCI6XG4gICAgICBjYXNlIFwiQlwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19ib29rLW1vZGVcIilbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiYVwiOlxuICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3JlbmRlci1hbGwtcGFnZXNcIixcbiAgICAgICAgICAgIClbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwidVwiOlxuICAgICAgY2FzZSBcIlVcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfdXNlci1zdHlsZVwiKVxuICAgICAgICAgICAgICAuZmlyc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwielwiOlxuICAgICAgY2FzZSBcIlpcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS1zaXplXCIpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcIm1cIjpcbiAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3BhZ2UtbWFyZ2luXCIpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcImtcIjpcbiAgICAgIGNhc2UgXCJLXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3BhZ2UtYnJlYWtzXCIpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcImlcIjpcbiAgICAgIGNhc2UgXCJJXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX2ltYWdlc1wiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICBjYXNlIFwiVFwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc190ZXh0XCIpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcIm9cIjpcbiAgICAgIGNhc2UgXCJPXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19vdmVycmlkZS1kb2N1bWVudC1zdHlsZXNoZWV0c1wiLFxuICAgICAgICAgICAgKVswXSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJjXCI6XG4gICAgICBjYXNlIFwiQ1wiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19jc3MtZGV0YWlsc1wiKVswXSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJyXCI6XG4gICAgICBjYXNlIFwiUlwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcmVzZXQtdXNlci1zdHlsZVwiLFxuICAgICAgICAgICAgKVswXSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgS2V5cy5FbnRlcjpcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzSW5JbnB1dCB8fFxuICAgICAgICAgIChpc0hvdEtleUVuYWJsZWQgJiZcbiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgIT09IFwidml2bGlvc3R5bGUtbWVudS1idXR0b25fYXBwbHlcIiAmJlxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCAhPT0gXCJ2aXZsaW9zdHlsZS1tZW51LWJ1dHRvbl9yZXNldFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLW1lbnUtYnV0dG9uX2FwcGx5XCIpLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNldHRpbmdzUGFuZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28sIHsgUHVyZUNvbXB1dGVkIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCB7IE1lc3NhZ2VRdWV1ZSB9IGZyb20gXCIuLi9tb2RlbHMvbWVzc2FnZS1xdWV1ZVwiO1xuXG50eXBlIEVycm9ySW5mbyA9IHtcbiAgZXJyb3I6IHtcbiAgICBmcmFtZVRyYWNlOiBzdHJpbmc7XG4gICAgc3RhY2s6IHN0cmluZztcbiAgfTtcbiAgbWVzc2FnZXM6IEFycmF5PHN0cmluZz47XG59O1xuXG5jbGFzcyBNZXNzYWdlRGlhbG9nIHtcbiAgbGlzdDogTWVzc2FnZVF1ZXVlO1xuICB2aXNpYmxlOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG5cbiAgY29uc3RydWN0b3IocXVldWU6IE1lc3NhZ2VRdWV1ZSkge1xuICAgIHRoaXMubGlzdCA9IHF1ZXVlO1xuICAgIHRoaXMudmlzaWJsZSA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiBxdWV1ZSgpLmxlbmd0aCA+IDApO1xuICB9XG5cbiAgZ2V0RGlzcGxheU1lc3NhZ2UoZXJyb3JJbmZvOiBFcnJvckluZm8pOiBzdHJpbmcge1xuICAgIGNvbnN0IGUgPSBlcnJvckluZm8uZXJyb3I7XG4gICAgbGV0IG1zZyA9IGUgJiYgKGUudG9TdHJpbmcoKSB8fCBlLmZyYW1lVHJhY2UgfHwgZS5zdGFjayk7XG4gICAgaWYgKG1zZykge1xuICAgICAgbXNnID0gbXNnLnNwbGl0KFwiXFxuXCIsIDEpWzBdO1xuICAgIH1cbiAgICBpZiAoIW1zZykge1xuICAgICAgbXNnID0gZXJyb3JJbmZvLm1lc3NhZ2VzLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHJldHVybiBtc2c7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZURpYWxvZztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBWaXZsaW9zdHlsZSBmcm9tIFwiLi4vdml2bGlvc3R5bGVcIjtcblxuaW1wb3J0IERvY3VtZW50T3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL2RvY3VtZW50LW9wdGlvbnNcIjtcbmltcG9ydCBWaWV3ZXJPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnNcIjtcbmltcG9ydCBtZXNzYWdlUXVldWUgZnJvbSBcIi4uL21vZGVscy9tZXNzYWdlLXF1ZXVlXCI7XG5pbXBvcnQgVmlld2VyVUkgZnJvbSBcIi4vdmlld2VyXCI7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgU2V0dGluZ3NQYW5lbCBmcm9tIFwiLi9zZXR0aW5ncy1wYW5lbFwiO1xuaW1wb3J0IE1lc3NhZ2VEaWFsb2cgZnJvbSBcIi4vbWVzc2FnZS1kaWFsb2dcIjtcbmltcG9ydCB1cmxQYXJhbWV0ZXJzIGZyb20gXCIuLi9zdG9yZXMvdXJsLXBhcmFtZXRlcnNcIjtcbmltcG9ydCBrZXlVdGlsIGZyb20gXCIuLi91dGlscy9rZXktdXRpbFwiO1xuaW1wb3J0IHN0cmluZ1V0aWwgZnJvbSBcIi4uL3V0aWxzL3N0cmluZy11dGlsXCI7XG5cbmZ1bmN0aW9uIFZpZXdlckFwcCgpOiB2b2lkIHtcbiAgdGhpcy5kb2N1bWVudE9wdGlvbnMgPSBuZXcgRG9jdW1lbnRPcHRpb25zKCk7XG4gIHRoaXMudmlld2VyT3B0aW9ucyA9IG5ldyBWaWV3ZXJPcHRpb25zKCk7XG5cbiAgdGhpcy5kb2N1bWVudE9wdGlvbnMucGFnZVN0eWxlLnNldFZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZShcbiAgICB0aGlzLnZpZXdlck9wdGlvbnMuZm9udFNpemUsXG4gICk7XG5cbiAgaWYgKHRoaXMudmlld2VyT3B0aW9ucy5wcm9maWxlKCkpIHtcbiAgICBWaXZsaW9zdHlsZS5wcm9maWxlci5lbmFibGUoKTtcbiAgfVxuICB0aGlzLmlzRGVidWcgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcImRlYnVnXCIpWzBdID09PSBcInRydWVcIjtcbiAgdGhpcy52aWV3ZXJTZXR0aW5ncyA9IHtcbiAgICB1c2VyQWdlbnRSb290VVJMOiBgJHt1cmxQYXJhbWV0ZXJzLmdldEJhc2VVUkwoKX1yZXNvdXJjZXMvYCxcbiAgICB2aWV3cG9ydEVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIpLFxuICAgIGRlYnVnOiB0aGlzLmlzRGVidWcsXG4gIH07XG5cbiAgLy8gUmVwbGFjZSBkZXByZWNhdGVkIFwiYlwiIGFuZCBcInhcIiB0byBcInNyY1wiICYgXCJib29rTW9kZVwiXG4gIGNvbnN0IHNyY1VybHMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInNyY1wiKTtcbiAgY29uc3QgYlVybHMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcImJcIik7IC8vIChkZXByZWNhdGVkKSA9PiBzcmMgJiBib29rTW9kZT10cnVlICYgcmVuZGVyQWxsUGFnZXM9ZmFsc2VcbiAgY29uc3QgeFVybHMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInhcIik7IC8vIChkZXByZWNhdGVkKSA9PiBzcmNcbiAgaWYgKCFzcmNVcmxzLmxlbmd0aCkge1xuICAgIGlmIChiVXJscy5sZW5ndGgpIHtcbiAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFwic3JjXCIsIGJVcmxzWzBdKTtcbiAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFwiYm9va01vZGVcIiwgXCJ0cnVlXCIpO1xuICAgICAgaWYgKCF1cmxQYXJhbWV0ZXJzLmhhc1BhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpKSB7XG4gICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFwicmVuZGVyQWxsUGFnZXNcIiwgXCJmYWxzZVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHhVcmxzLmxlbmd0aCkge1xuICAgICAgeFVybHMuZm9yRWFjaCgoeCwgaSkgPT4ge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInNyY1wiLCB4LCBpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmUgcmVkdW5kYW50IG9yIGluZWZmZWN0aXZlIFVSTCBwYXJhbWV0ZXJzXG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiYlwiKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJ4XCIpO1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImZcIiwgdHJ1ZSk7IC8vIG9ubHkgZmlyc3Qgb25lIGlzIGVmZmVjdGl2ZVxuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInNwcmVhZFwiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJib29rTW9kZVwiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJyZW5kZXJBbGxQYWdlc1wiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmb250U2l6ZVwiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJwcm9maWxlXCIsIHRydWUpO1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImRlYnVnXCIsIHRydWUpO1xuXG4gIHRoaXMudmlld2VyID0gbmV3IFZpZXdlclVJKHRoaXMudmlld2VyU2V0dGluZ3MsIHRoaXMudmlld2VyT3B0aW9ucyk7XG5cbiAgdGhpcy52aWV3ZXIuaW5wdXRVcmwuc3Vic2NyaWJlKChpbnB1dFVybDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGlucHV0VXJsICE9IFwiXCIpIHtcbiAgICAgIGlmICghdXJsUGFyYW1ldGVycy5oYXNQYXJhbWV0ZXIoXCJzcmNcIikpIHtcbiAgICAgICAgLy8gUHVzaCBjdXJyZW50IFVSTCB0byBicm93c2VyIGhpc3RvcnkgdG8gZW5hYmxlIHRvIGdvIGJhY2sgaGVyZSB3aGVuIGJyb3dzZXIgQmFjayBidXR0b24gaXMgY2xpY2tlZC5cbiAgICAgICAgaWYgKHVybFBhcmFtZXRlcnMuaGlzdG9yeS5wdXNoU3RhdGUpXG4gICAgICAgICAgdXJsUGFyYW1ldGVycy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dFVybC5zdGFydHNXaXRoKFwiPFwiKSkge1xuICAgICAgICAvLyBzZWVtcyBzdGFydCB0YWcsIHNvIGNvbnZlcnQgdG8gZGF0YSB1cmxcbiAgICAgICAgaW5wdXRVcmwgPSBcImRhdGE6LFwiICsgc3RyaW5nVXRpbC5wZXJjZW50RW5jb2RlRm9yRGF0YVVSSShpbnB1dFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dFVybCA9IHN0cmluZ1V0aWwucGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFVuZW5jb2RlZFBlcmNlbnQoXG4gICAgICAgICAgaW5wdXRVcmwsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInNyY1wiLCBpbnB1dFVybCk7XG4gICAgICB0aGlzLmRvY3VtZW50T3B0aW9ucy5zcmNVcmxzKHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwic3JjXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJzcmNcIik7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLm1lc3NhZ2VEaWFsb2cgPSBuZXcgTWVzc2FnZURpYWxvZyhtZXNzYWdlUXVldWUpO1xuXG4gIGNvbnN0IHNldHRpbmdzUGFuZWxPcHRpb25zID0ge1xuICAgIGRpc2FibGVQYWdlU3R5bGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVQYWdlVmlld01vZGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVCb29rTW9kZUNoYW5nZTogZmFsc2UsXG4gICAgZGlzYWJsZVJlbmRlckFsbFBhZ2VzQ2hhbmdlOiBmYWxzZSxcbiAgfTtcblxuICB0aGlzLnNldHRpbmdzUGFuZWwgPSBuZXcgU2V0dGluZ3NQYW5lbChcbiAgICB0aGlzLnZpZXdlck9wdGlvbnMsXG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnMsXG4gICAgdGhpcy52aWV3ZXIsXG4gICAgdGhpcy5tZXNzYWdlRGlhbG9nLFxuICAgIHNldHRpbmdzUGFuZWxPcHRpb25zLFxuICApO1xuXG4gIGNvbnN0IG5hdmlnYXRpb25PcHRpb25zID0ge1xuICAgIGRpc2FibGVUT0NOYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFnZU5hdmlnYXRpb246IGZhbHNlLFxuICAgIGRpc2FibGVab29tOiBmYWxzZSxcbiAgICBkaXNhYmxlRm9udFNpemVDaGFuZ2U6IGZhbHNlLFxuICB9O1xuXG4gIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKFxuICAgIHRoaXMudmlld2VyT3B0aW9ucyxcbiAgICB0aGlzLnZpZXdlcixcbiAgICB0aGlzLnNldHRpbmdzUGFuZWwsXG4gICAgbmF2aWdhdGlvbk9wdGlvbnMsXG4gICk7XG5cbiAgdGhpcy5oYW5kbGVLZXkgPSAoZGF0YSwgZXZlbnQpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBrZXkgPSBrZXlVdGlsLmlkZW50aWZ5S2V5RnJvbUV2ZW50KGV2ZW50KTtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCA9PT0gXCJ2aXZsaW9zdHlsZS1pbnB1dC11cmxcIikge1xuICAgICAgaWYgKGtleSA9PT0gXCJFbnRlclwiICYmIGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHRoaXMudmlld2VyLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAoIShrZXkgPT09IFwiSG9tZVwiIHx8IGtleSA9PT0gXCJFbmRcIikgJiZcbiAgICAgICAgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpIHx8XG4gICAgICBldmVudC5hbHRLZXkgfHxcbiAgICAgIGV2ZW50LnNoaWZ0S2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHJldCA9IHRoaXMuc2V0dGluZ3NQYW5lbC5oYW5kbGVLZXkoa2V5KTtcbiAgICBpZiAocmV0KSB7XG4gICAgICByZXQgPSB0aGlzLm5hdmlnYXRpb24uaGFuZGxlS2V5KGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgdGhpcy52aWV3ZXIubG9hZERvY3VtZW50KHRoaXMuZG9jdW1lbnRPcHRpb25zKTtcblxuICB3aW5kb3cub25oYXNoY2hhbmdlID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZiAhPSB1cmxQYXJhbWV0ZXJzLnN0b3JlZFVybCkge1xuICAgICAgLy8gUmVsb2FkIHdoZW4gYWRkcmVzcyBiYXIgY2hhbmdlIGlzIGRldGVjdGVkXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJBcHA7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmNvbnN0IHN1cHBvcnRUb3VjaEV2ZW50cyA9IFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMubWVudUJ1dHRvbiA9IHtcbiAgaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTogdm9pZCB7XG4gICAgaWYgKGtvLnVud3JhcCh2YWx1ZUFjY2Vzc29yKCkpKSB7XG4gICAgICBpZiAoc3VwcG9ydFRvdWNoRXZlbnRzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyIGFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJob3ZlciBhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXJcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXJcIiwgZmFsc2UpO1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImFjdGl2ZVwiLCBmYWxzZSk7XG4gICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOyAvLyBwcmV2ZW50IHVud2FudGVkIHRleHQgc2VsZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5jb25zdCBzdXBwb3J0VG91Y2hFdmVudHMgPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdztcblxubGV0IHhTdGFydCA9IG51bGw7XG5sZXQgeVN0YXJ0ID0gbnVsbDtcbmxldCBhcnJvd0J1dHRvbiA9IG51bGw7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgdmlzdWFsVmlld3BvcnQ/OiB7XG4gICAgICBvZmZzZXRMZWZ0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgb2Zmc2V0VG9wOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgcGFnZUxlZnQ6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBwYWdlVG9wOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgd2lkdGg6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBoZWlnaHQ6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgICBzY2FsZTogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICB9O1xuICB9XG59XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5zd2lwZVBhZ2VzID0ge1xuICBpbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpOiB2b2lkIHtcbiAgICBpZiAoc3VwcG9ydFRvdWNoRXZlbnRzICYmIGtvLnVud3JhcCh2YWx1ZUFjY2Vzc29yKCkpKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBtdWx0aS10b3VjaCBpcyBub3QgZm9yIHBhZ2Ugc3dpcGVcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LnZpc3VhbFZpZXdwb3J0ICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5zY2FsZSA+IDEpIHtcbiAgICAgICAgICByZXR1cm47IC8vIGRpc2FibGUgcGFnZSBzd2lwZSB3aGVuIHBpbmNoLXpvb21lZFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgJiZcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsV2lkdGggPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIHBhZ2Ugc3dpcGUgd2hlbiBob3Jpem9udGFsIHNjcm9sbGFibGVcbiAgICAgICAgfVxuICAgICAgICB4U3RhcnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIHlTdGFydCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4U3RhcnQgIT09IG51bGwgJiYgeVN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgeERpZmYgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSB4U3RhcnQ7XG4gICAgICAgICAgY29uc3QgeURpZmYgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSB5U3RhcnQ7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSA+IE1hdGguYWJzKHlEaWZmKSkge1xuICAgICAgICAgICAgaWYgKHhEaWZmIDwgMCkge1xuICAgICAgICAgICAgICAvLyBzd2lwZSB0byBsZWZ0ID0gZ28gdG8gcmlnaHRcbiAgICAgICAgICAgICAgYXJyb3dCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtbmF2aWdhdGlvbi1yaWdodFwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gc3dpcGUgdG8gcmlnaHQgPSBnbyB0byBsZWZ0XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW5hdmlnYXRpb24tbGVmdFwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoTWF0aC5hYnMoeERpZmYpICsgTWF0aC5hYnMoeURpZmYpID49IDE2KSB7XG4gICAgICAgICAgICBpZiAoYXJyb3dCdXR0b24pIHtcbiAgICAgICAgICAgICAgYXJyb3dCdXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGFycm93QnV0dG9uLCBcImFjdGl2ZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhTdGFydCA9IG51bGw7XG4gICAgICAgICAgICB5U3RhcnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChhcnJvd0J1dHRvbikge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhhcnJvd0J1dHRvbiwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGFycm93QnV0dG9uID0gbnVsbDtcbiAgICAgICAgeFN0YXJ0ID0gbnVsbDtcbiAgICAgICAgeVN0YXJ0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQga28gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBWaWV3ZXJBcHAgZnJvbSBcIi4vdmlld21vZGVscy92aWV3ZXItYXBwXCI7XG5cbmltcG9ydCBcIi4vYmluZGluZ3MvbWVudUJ1dHRvblwiO1xuaW1wb3J0IFwiLi9iaW5kaW5ncy9zd2lwZVBhZ2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgZnVuY3Rpb24gc3RhcnRWaWV3ZXIoKTogdm9pZCB7XG4gICAgICBrby5hcHBseUJpbmRpbmdzKG5ldyBWaWV3ZXJBcHAoKSk7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvd1tcIl9fbG9hZGVkXCJdKSBzdGFydFZpZXdlcigpO1xuICAgIGVsc2Ugd2luZG93Lm9ubG9hZCA9IHN0YXJ0Vmlld2VyO1xuICB9LFxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB2aXZsaW9zdHlsZVZpZXdlciBmcm9tIFwiLi92aXZsaW9zdHlsZS12aWV3ZXJcIjtcblxudml2bGlvc3R5bGVWaWV3ZXIuc3RhcnQoKTtcbiJdLCJuYW1lcyI6WyJNb2RlIiwibiIsIkEiLCJ0aGlzIiwiZXZhbCIsInciLCJkb2N1bWVudCIsIlIiLCJuYXZpZ2F0b3IiLCJ2IiwialF1ZXJ5IiwiSCIsIkpTT04iLCJtb2R1bGUiLCJleHBvcnRzIiwiUyIsIlQiLCJLIiwiYSIsImMiLCJXIiwiWCIsImIiLCJkIiwic2V0VGltZW91dCIsIlkiLCJjbGVhclRpbWVvdXQiLCJaIiwicGMiLCJnYiIsInFjIiwiYWEiLCJzIiwiYmEiLCJxZCIsImUiLCJyIiwicmEiLCJRYiIsIm1iIiwidWMiLCJJIiwiSiIsImRhIiwiJGMiLCJKYSIsImdkIiwiZiIsImciLCJzcGxpdCIsImxlbmd0aCIsIkwiLCJ2ZXJzaW9uIiwib3B0aW9ucyIsImRlZmVyVXBkYXRlcyIsInVzZU9ubHlOYXRpdmVFdmVudHMiLCJmb3JlYWNoSGlkZXNEZXN0cm95ZWQiLCJjYWxsIiwiX19wcm90b19fIiwibCIsIm1hdGNoIiwicSIsIkQiLCJOYSIsImpvaW4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIkFycmF5IiwiaCIsIlN5bWJvbCIsIm0iLCJrIiwidGVzdCIsInVzZXJBZ2VudCIsIk1vdXNlRXZlbnRzIiwidCIsInByb3BlcnR5Y2hhbmdlIiwicCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVySFRNTCIsIkpjIiwiaW5kZXhPZiIsIkxiIiwiUGEiLCJzcGxpY2UiLCJzaGlmdCIsIndjIiwicHVzaCIsIk1iIiwiamIiLCJOYiIsImFwcGx5IiwiYmMiLCJCYSIsImV4dGVuZCIsInNldFByb3RvdHlwZU9mIiwiQWIiLCJQIiwiR2EiLCJUYiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVOb2RlIiwiWWIiLCJsYSIsIm93bmVyRG9jdW1lbnQiLCJhcHBlbmRDaGlsZCIsIm9hIiwiQ2EiLCJjbG9uZU5vZGUiLCJ2YSIsIlhjIiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiVWEiLCJuZXh0U2libGluZyIsIlpjIiwic2V0QXR0cmlidXRlIiwic2VsZWN0ZWQiLCJEYiIsInRyaW0iLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJVZCIsInN1YnN0cmluZyIsInZkIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIlNiIiwiZG9jdW1lbnRFbGVtZW50Iiwia2QiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJBYyIsIm9uRXJyb3IiLCJhcmd1bWVudHMiLCJHYyIsIkIiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJFcnJvciIsInphIiwiZGV0YWNoRXZlbnQiLCJvbiIsIkZiIiwidHlwZSIsImNyZWF0ZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImluaXRFdmVudCIsImNsaWNrIiwiZmlyZUV2ZW50IiwidHJpZ2dlciIsIk8iLCJFYiIsImNsYXNzTGlzdCIsImNsYXNzTmFtZSIsImJhc2VWYWwiLCJCYiIsImNyZWF0ZVRleHROb2RlIiwiZGF0YSIsIkFkIiwiWWMiLCJuYW1lIiwiY2hhckNvZGVBdCIsIm1lcmdlQXR0cmlidXRlcyIsInN0eWxlIiwiem9vbSIsIndkIiwid2lkdGgiLCJQZCIsIkRhIiwiWmQiLCIkZCIsIkxjIiwiY29uY2F0IiwiTmQiLCJwYXJzZSIsIkZ1bmN0aW9uIiwiaGMiLCJzdHJpbmdpZnkiLCJPZCIsInBhcmFtcyIsImluY2x1ZGVGaWVsZHMiLCJhY3Rpb24iLCJ2YWx1ZSIsImRpc3BsYXkiLCJtZXRob2QiLCJib2R5Iiwic3VibWl0dGVyIiwic3VibWl0IiwicmVtb3ZlQ2hpbGQiLCJiaW5kIiwic2xpY2UiLCJEYXRlIiwiZ2V0VGltZSIsImdldCIsInNldCIsIlViIiwiY2xlYXIiLCJjbGVhbkV4dGVybmFsRGF0YSIsImNoaWxkTm9kZXMiLCJ5YiIsInUiLCJHIiwiY2xlYW5EYXRhIiwidGhlYWQiLCJ0Ym9keSIsInRmb290IiwidHIiLCJ0ZCIsInRoIiwib3B0aW9uIiwib3B0Z3JvdXAiLCJ1YSIsInBhcnNlSFRNTCIsImNsZWFuIiwicGFyZW50V2luZG93IiwiZGVmYXVsdFZpZXciLCJpbm5lclNoaXYiLCJsYXN0Q2hpbGQiLCJNZCIsInBhcmVudEVsZW1lbnQiLCJmYyIsImh0bWwiLCJYYiIsIk1hdGgiLCJyYW5kb20iLCJiZCIsImNkIiwiVWMiLCJub2RlVmFsdWUiLCJ1ZCIsIktkIiwibmEiLCJzY2hlZHVsZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJ0b2dnbGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ6YiIsImNhbmNlbCIsInJlc2V0Rm9yVGVzdGluZyIsIlNkIiwiVGEiLCJ0aHJvdHRsZSIsInRocm90dGxlRXZhbHVhdGlvbiIsIiQiLCJyZWFkIiwid3JpdGUiLCJyYXRlTGltaXQiLCJ0aW1lb3V0IiwiSGIiLCJ1YiIsImRlZmVycmVkIiwibm90aWZ5U3Vic2NyaWJlcnMiLCJub3RpZnkiLCJlcXVhbGl0eUNvbXBhcmVyIiwidW5kZWZpbmVkIiwibnVtYmVyIiwic3RyaW5nIiwiaWMiLCJsYyIsIm1jIiwiSWIiLCJmYiIsIkpiIiwicWIiLCJVIiwiY2hhbmdlIiwic2MiLCJzdWJzY3JpYmUiLCJoYiIsIlFhIiwiR2IiLCJXYSIsImVkIiwieGMiLCJlbmQiLCJvYiIsIkRkIiwibmMiLCJzYiIsInJjIiwiQmQiLCJmbiIsIlFjIiwicG9wIiwiY2MiLCJvZCIsInBkIiwiZmQiLCJxYSIsIm8iLCJWYSIsIllhIiwiWWQiLCJ0YSIsInlhIiwieGEiLCJGIiwiTWEiLCJaYSIsIk5jIiwiSGEiLCJ0cmFja0FycmF5Q2hhbmdlcyIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJfZGVzdHJveSIsImRlc3Ryb3lBbGwiLCJzb3J0ZWQiLCJzb3J0IiwicmV2ZXJzZWQiLCJyZXZlcnNlIiwiemMiLCJQYyIsIlBiIiwiT2IiLCJzcGFyc2UiLCJzdGF0dXMiLCJpbmRleCIsIm1pbiIsIm1heCIsIktjIiwibmIiLCJrYSIsIlhhIiwiaGEiLCJzYSIsInJiIiwiamMiLCJ3YiIsIldjIiwib3duZXIiLCJkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQiLCJTYSIsImRpc3Bvc2VXaGVuIiwiUmIiLCJWIiwiSWMiLCJDIiwicHVyZSIsImRlZmVyRXZhbHVhdGlvbiIsImVhIiwiamEiLCJLYSIsIlZiIiwiTGEiLCJJYSIsIkpkIiwiUmQiLCJIYyIsInpkIiwieWQiLCJOIiwiT2MiLCJGZCIsInhiIiwiUmVnRXhwIiwiU3RyaW5nIiwiTnVtYmVyIiwiQm9vbGVhbiIsInNhdmUiLCJ0b0pTT04iLCJrZXlzIiwidmFsdWVzIiwiYWQiLCJjb25zdHJ1Y3RvciIsIldkIiwibWEiLCJQcm9taXNlIiwiTSIsIl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fIiwiJGIiLCJnZXRBdHRyaWJ1dGVOb2RlIiwic3BlY2lmaWVkIiwidGV4dCIsInNlbGVjdGVkSW5kZXgiLCJjYiIsInNpemUiLCJ4Iiwia2V5IiwidW5rbm93biIsInN1YnN0ciIsIlJhIiwid2EiLCJhYyIsInZiIiwiZ2V0QmluZGluZ0hhbmRsZXIiLCJwcmVwcm9jZXNzIiwidmFsdWVBY2Nlc3NvcnMiLCJiaW5kaW5nUGFyYW1zIiwiSWQiLCJlYiIsImNyZWF0ZUNvbW1lbnQiLCJ1bCIsIm9sIiwiRWEiLCJWYyIsIldiIiwiQ2QiLCJWZCIsIlNjIiwiZ2EiLCJuZCIsIm5vZGVIYXNCaW5kaW5ncyIsImdldEF0dHJpYnV0ZSIsImoiLCJnZXRDb21wb25lbnROYW1lRm9yTm9kZSIsImdldEJpbmRpbmdzIiwiZ2V0QmluZGluZ3NTdHJpbmciLCJwYXJzZUJpbmRpbmdzU3RyaW5nIiwidGMiLCJnZXRCaW5kaW5nQWNjZXNzb3JzIiwibWVzc2FnZSIsImluc3RhbmNlIiwieiIsIlRjIiwibm9kZSIsInljIiwia2IiLCJLYiIsInByZXByb2Nlc3NOb2RlIiwiaSIsImJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHMiLCJoZCIsImNvbnRleHQiLCJaYiIsImhhcyIsIkVjIiwicGEiLCJDYiIsImNhIiwiYWZ0ZXIiLCJNYyIsImluaXQiLCJ1cGRhdGUiLCIkZGF0YSIsImNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzIiwic2hvdWxkQmluZERlc2NlbmRhbnRzIiwiZmEiLCJzY3JpcHQiLCJ0ZXh0YXJlYSIsInRlbXBsYXRlIiwiJHBhcmVudHMiLCIkcm9vdCIsImtvIiwiJHJhd0RhdGEiLCJkYXRhRGVwZW5kZW5jeSIsImV4cG9ydERlcGVuZGVuY2llcyIsImNyZWF0ZUNoaWxkQ29udGV4dCIsImFzIiwibm9DaGlsZENvbnRleHQiLCIkcGFyZW50Q29udGV4dCIsIiRwYXJlbnQiLCJ1bnNoaWZ0Iiwic2QiLCJDYyIsIkZhIiwibm90aWZ5SW1tZWRpYXRlbHkiLCJUZCIsImliIiwibGQiLCJPYSIsInZjIiwiRGMiLCJzeW5jaHJvbm91cyIsImRlZmluaXRpb24iLCJHZCIsImxvYWRlcnMiLCJzdXBwcmVzc0xvYWRlckV4Y2VwdGlvbnMiLCJCYyIsIm9jIiwidmlld01vZGVsIiwiY29udGVudCIsIkRvY3VtZW50RnJhZ21lbnQiLCJyZXF1aXJlIiwiWGQiLCJyZWdpc3RlciIsInRiIiwidW5yZWdpc3RlciIsIkZjIiwiZ2V0Q29uZmlnIiwibG9hZENvbXBvbmVudCIsImxvYWRUZW1wbGF0ZSIsImVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwibG9hZFZpZXdNb2RlbCIsImRkIiwiJHJhdyIsImNvbXBvbmVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJkaXNwb3NlIiwiY3JlYXRlVmlld01vZGVsIiwidGVtcGxhdGVOb2RlcyIsIiRjb21wb25lbnQiLCIkY29tcG9uZW50VGVtcGxhdGVOb2RlcyIsImtvRGVzY2VuZGFudHNDb21wbGV0ZSIsImF0dHIiLCJsb29rdXBOYW1lc3BhY2VVUkkiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5TIiwiY2hlY2tlZCIsInVuaXF1ZU5hbWUiLCJjaGVja2VkVmFsdWUiLCJfX2tvX19jc3NWYWx1ZSIsImNzcyIsImVuYWJsZSIsImRpc2FibGVkIiwiZGlzYWJsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImNhbmNlbEJ1YmJsZSIsInN0b3BQcm9wYWdhdGlvbiIsImZvcmVhY2giLCJSYyIsImluY2x1ZGVEZXN0cm95ZWQiLCJhZnRlckFkZCIsImJlZm9yZVJlbW92ZSIsImFmdGVyUmVuZGVyIiwiYmVmb3JlTW92ZSIsImFmdGVyTW92ZSIsInRlbXBsYXRlRW5naW5lIiwiaGFzZm9jdXMiLCJfX2tvX2hhc2ZvY3VzVXBkYXRpbmciLCJhY3RpdmVFbGVtZW50IiwiX19rb19oYXNmb2N1c0xhc3RWYWx1ZSIsImZvY3VzIiwiYmx1ciIsImhhc0ZvY3VzIiwibGV0IiwiUSIsIm11bHRpcGxlIiwic2Nyb2xsVG9wIiwiZWMiLCJhYnMiLCJzZWxlY3RlZE9wdGlvbnMiLCJzZXRQcm9wZXJ0eSIsInRvVXBwZXJDYXNlIiwiaXNOYU4iLCJwYXJzZUZsb2F0Iiwib3BlcmEiLCJwYXJzZUludCIsInRleHRJbnB1dCIsInkiLCJwcm9wZXJ0eU5hbWUiLCJ0ZXh0aW5wdXQiLCJyZCIsInVzaW5nIiwiYXV0b2NvbXBsZXRlIiwiZm9ybSIsInZpc2libGUiLCJoaWRkZW4iLCJyZW5kZXJUZW1wbGF0ZVNvdXJjZSIsImNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jayIsIm1ha2VUZW1wbGF0ZVNvdXJjZSIsImlhIiwicmVuZGVyVGVtcGxhdGUiLCJpc1RlbXBsYXRlUmV3cml0dGVuIiwiYWxsb3dUZW1wbGF0ZVJld3JpdGluZyIsInJld3JpdGVUZW1wbGF0ZSIsImtjIiwieGQiLCJMZCIsIm1kIiwibm9kZU5hbWUiLCJhYiIsIm5vZGVzIiwibGIiLCJqZCIsImJiIiwicHJldmlvdXNTaWJsaW5nIiwiZ2MiLCJkYyIsIlFkIiwiJGluZGV4IiwiaWZub3QiLCJtb3ZlZCIsImRvbnRMaW1pdE1vdmVzIiwiQWEiLCJwYiIsIl9jb3VudFdhaXRpbmdGb3JSZW1vdmUiLCJFIiwiRWQiLCIkYSIsIkhkIiwidG1wbCIsInRhZyIsIm9wZW4iLCJrb0JpbmRpbmdDb250ZXh0IiwidGVtcGxhdGVPcHRpb25zIiwiYXBwZW5kVG8iLCJmcmFnbWVudHMiLCJhZGRUZW1wbGF0ZSIsImtvX2NvZGUiLCJrb193aXRoIiwiY2xvc2UiLCJzZXREZWJ1ZyIsImlzRGVidWciLCJwYWdlUHJvZ3Jlc3Npb25PZiIsInN0ciIsIlBhZ2VQcm9ncmVzc2lvbiIsIkxUUiIsIlJUTCIsIlBhZ2VTaWRlIiwiUmVhZHlTdGF0ZSIsImNvbnN0YW50cyIsIkxvZ0xldmVsIiwiYXJndW1lbnRzVG9FcnJvckluZm8iLCJhcmdzIiwiZnJvbSIsImVycm9yIiwibWVzc2FnZXMiLCJidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlIiwic3RhY2siLCJmcmFtZVRyYWNlIiwibG9nZ2VyIiwiW29iamVjdCBPYmplY3RdIiwib3B0X2NvbnNvbGUiLCJtc2ciLCJkZWJ1ZyIsImxvZyIsImNvbnNvbGUiLCJpbmZvIiwid2FybiIsImxldmVsIiwibGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwidmFyX2FyZ3MiLCJjb25zb2xlRGVidWciLCJ0cmlnZ2VyTGlzdGVuZXJzIiwiREVCVUciLCJjb25zb2xlSW5mbyIsIklORk8iLCJjb25zb2xlV2FybiIsIldBUk4iLCJjb25zb2xlRXJyb3IiLCJFUlJPUiIsIkhPT0tTIiwiaG9va3MiLCJyZWdpc3Rlckhvb2siLCJob29rc0Zvck5hbWUiLCJMb2dnaW5nLmxvZ2dlciIsInJlbW92ZUhvb2siLCJnZXRIb29rc0Zvck5hbWUiLCJwbHVnaW4iLCJQcm9maWxlciIsInBlcmZvcm1hbmNlSW5zdGFuY2UiLCJyZWdpc3RlclRpbWluZyIsIm5vb3AiLCJyZWdpc3RlclN0YXJ0VGltaW5nIiwicmVnaXN0ZXJFbmRUaW1pbmciLCJ0aW1lc3RhbXAiLCJ0aW1lc3RhbXBzIiwic3QiLCJzdGFtcHMiLCJzdGFydCIsInN0YXJ0RW5kIiwibm93IiwiZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlIiwicHJvZmlsZXIiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsImZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyIsInByb2ZpbGUiLCJwcmludFRpbWluZ3MiLCJlbXB0eU9iaiIsInN0cmluZ1RvSlNPTiIsInN0cmlwRnJhZ21lbnQiLCJ1cmwiLCJiYXNlVVJMIiwibG9jYXRpb24iLCJocmVmIiwic2V0QmFzZVVSTCIsInJlc291cmNlQmFzZVVSTCIsInNldFJlc291cmNlQmFzZVVSTCIsInJlc29sdmVVUkwiLCJyZWxVUkwiLCJsYXN0SW5kZXhPZiIsInVybE9wdGlvbiIsImNvbnZlcnRTcGVjaWFsVVJMIiwiZXhlYyIsIk5TIiwiYXNTdHJpbmciLCJQcmlvcml0eVF1ZXVlIiwicXVldWUiLCJpdGVtIiwicGFyZW50SW5kZXgiLCJmbG9vciIsInBhcmVudCIsImNvbXBhcmUiLCJyZXN1bHQiLCJjdXJyIiwiY2hpbGRJbmRleCIsImtub3duUHJlZml4ZXMiLCJwcm9wTmFtZU1hcCIsImNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZCIsInByZWZpeCIsInByb3AiLCJwcm9iZSIsImNzc1Byb3BOYW1lIiwidHh0IiwiZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzIiwicHJlZml4ZWQiLCJzZXRDU1NQcm9wZXJ0eSIsImVsZW0iLCJwcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJlcnIiLCJnZXRDU1NQcm9wZXJ0eSIsIm9wdF92YWx1ZSIsInByb3BlcnR5TmFtZXMiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0TGFuZ0F0dHJpYnV0ZSIsImxhbmciLCJnZXRBdHRyaWJ1dGVOUyIsIlhNTCIsIm5hbWVzcGFjZVVSSSIsIlhIVE1MIiwiU3RyaW5nQnVmZmVyIiwibGlzdCIsImVzY2FwZUNoYXIiLCJlc2NhcGVDU1NJZGVudCIsImVzY2FwZUNTU1N0ciIsImxpZ2h0VVJMRW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaXNMZXR0ZXIiLCJjaCIsImVzY2FwZU5hbWVTdHJUb0hleCIsImVzY2FwZVJlZ0V4cCIsImJpbmFyeVNlYXJjaCIsImhpZ2giLCJnb29kIiwibnVtYmVyQ29tcGFyZSIsImluZGV4QXJyYXkiLCJhcnIiLCJtYXAiLCJtdWx0aUluZGV4QXJyYXkiLCJTaW1wbGVFdmVudFRhcmdldCIsImV2dCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjYXB0dXJlIiwiaGFzVmVydGljYWxCQm94QnVnIiwiaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnIiwiaGFzU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnIiwiaGFzU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnIiwiZ2V0SWQiLCJpZHR4dCIsImVzY2FwZSIsInVuZXNjYXBlQ2hhciIsInVuZXNjYXBlIiwicGFyc2VFeHRWYWwiLCJleHRzdHIiLCJwYXJzZUV4dCIsImV4dCIsIlJlZlN0ZXAiLCJhcHBlbmQiLCJwb3MiLCJDaGlsZFN0ZXAiLCJpZCIsInNpZGVCaWFzIiwiY2hpbGRFbGVtZW50cyIsImNoaWxkcmVuIiwiY2hpbGRFbGVtZW50Q291bnQiLCJjaGlsZCIsIm5leHQiLCJPZmZzZXRTdGVwIiwib2Zmc2V0IiwidGV4dEJlZm9yZSIsInRleHRBZnRlciIsInRleHRMZW5ndGgiLCJ0ZXh0Q29udGVudCIsIkZyYWdtZW50IiwiZnJhZ3N0ciIsInN0ZXBzIiwiY2hhckF0IiwiQmFzZS5hc1N0cmluZyIsImRvYyIsInJlZiIsImFwcGx5VG8iLCJCYXNlLlN0cmluZ0J1ZmZlciIsImNsb25lUHJlZmVyZW5jZXMiLCJwcmVmIiwiZm9udEZhbWlseSIsImxpbmVIZWlnaHQiLCJtYXJnaW4iLCJoeXBoZW5hdGUiLCJjb2x1bW5XaWR0aCIsImhvcml6b250YWwiLCJuaWdodE1vZGUiLCJzcHJlYWRWaWV3IiwicGFnZUJvcmRlciIsImVuYWJsZWRNZWRpYVR5cGVzIiwiYXNzaWduIiwiZGVmYXVsdFBhcGVyU2l6ZSIsImRlZmF1bHRQcmVmZXJlbmNlc0luc3RhbmNlIiwidml2bGlvc3R5bGUiLCJwcmludCIsIlNwZWNpYWwiLCJsZXR0ZXJib3giLCJ2aWV3VyIsInZpZXdIIiwib2JqVyIsIm9iakgiLCJzY2FsZSIsImNzc1N0cmluZyIsIkJhc2UuZXNjYXBlQ1NTU3RyIiwiY3NzSWRlbnQiLCJCYXNlLmVzY2FwZUNTU0lkZW50IiwibWFrZVF1YWxpZmllZE5hbWUiLCJvYmpOYW1lIiwibWVtYmVyTmFtZSIsIm5leHRLZXlJbmRleCIsIkxleGljYWxTY29wZSIsInJlc29sdmVyIiwic2NvcGVLZXkiLCJ6ZXJvIiwiQ29uc3QiLCJvbmUiLCJfdHJ1ZSIsIl9mYWxzZSIsImJ1aWx0SW5zIiwiY2VpbCIsInJvdW5kIiwic3FydCIsInR5cGVvZiIsImRlZmluZUJ1aWx0SW5OYW1lIiwicGFnZVdpZHRoIiwicGFnZUhlaWdodCIsImZvbnRTaXplIiwicHViVGl0bGUiLCJkb2NUaXRsZSIsIk5hdGl2ZSIsInF1YWxpZmllZE5hbWUiLCJ2YWwiLCJmdW5jcyIsImlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQiLCJ1bml0IiwiZGVmYXVsdFVuaXRTaXplcyIsInB4IiwiaW4iLCJwdCIsImNtIiwibW0iLCJlbSIsInJlbSIsImV4IiwiZHBweCIsImRwaSIsImRwY20iLCJuZWVkVW5pdENvbnZlcnNpb24iLCJDb250ZXh0Iiwicm9vdFNjb3BlIiwidmlld3BvcnRXaWR0aCIsInZpZXdwb3J0SGVpZ2h0IiwiYWN0dWFsUGFnZVdpZHRoIiwiYWN0dWFsUGFnZUhlaWdodCIsImluaXRpYWxGb250U2l6ZSIsInJvb3RGb250U2l6ZSIsInNjb3BlIiwic2NvcGVzIiwiY2xlYXJTY29wZSIsImlzUm9vdCIsInB2dyIsInB2aCIsInZ3IiwicGFnZUFyZWFXaWR0aCIsInZoIiwicGFnZUFyZWFIZWlnaHQiLCJwYWdlVmVydGljYWwiLCJub0J1aWx0SW5FdmFsIiwiZXZhbHVhdGUiLCJub3QiLCJlbmFibGVkIiwiZmVhdHVyZSIsInJlcSIsImFjdHVhbCIsInNjcmVlbiIsImF2YWlsV2lkdGgiLCJhdmFpbEhlaWdodCIsInBpeGVsRGVwdGgiLCJnZXRTY29wZUNvbnRleHQiLCJWYWwiLCJidWYiLCJwcmlvcml0eSIsIm90aGVyIiwiZGVwZW5kZW5jeUNhY2hlIiwiY2FjaGVkIiwiZGVwZW5kQ29yZSIsImRlcGVuZE91dGVyIiwicXVlcnlWYWwiLCJldmFsdWF0ZUNvcmUiLCJzdG9yZVZhbCIsIlByZWZpeCIsInN1cGVyIiwiZXZhbFByZWZpeCIsImdldE9wIiwiZXhwYW5kIiwiSW5maXgiLCJsaHMiLCJyaHMiLCJldmFsSW5maXgiLCJ0aGlzUHJpb3JpdHkiLCJnZXRQcmlvcml0eSIsIkxvZ2ljYWwiLCJDb21wYXJpc29uIiwiQWRkaXRpdmUiLCJNdWx0aXBsaWNhdGl2ZSIsIk5vdCIsIk5lZ2F0ZSIsIkFuZCIsIkFuZE1lZGlhIiwiT3IiLCJPck1lZGlhIiwiTHQiLCJMZSIsIkd0IiwiR2UiLCJFcSIsIk5lIiwiQWRkIiwiU3VidHJhY3QiLCJNdWx0aXBseSIsIkRpdmlkZSIsIk1vZHVsbyIsIk51bWVyaWMiLCJudW0iLCJxdWVyeVVuaXRTaXplIiwiTmFtZWQiLCJldmFsTmFtZSIsIk1lZGlhTmFtZSIsImV2YWxNZWRpYU5hbWUiLCJDYWxsIiwiZXZhbENhbGwiLCJleHBhbmRlZFBhcmFtcyIsImV4cGFuZGVkIiwiQ29uZCIsImNvbmQiLCJpZlRydWUiLCJpZkZhbHNlIiwiTWVkaWFUZXN0IiwiZXZhbE1lZGlhVGVzdCIsIlBhcmFtIiwiYW5kIiwidjEiLCJ2MiIsImFkZCIsInN1YiIsIm11bCIsImRpdiIsIlZpc2l0b3IiLCJ2aXNpdCIsImVtcHR5Iiwic2xhc2giLCJpZGVudCIsIm51bWVyaWMiLCJ2aXNpdE51bSIsImNvbG9yIiwiZnVuYyIsImV4cHIiLCJGaWx0ZXJWaXNpdG9yIiwiYmVmb3JlIiwidmlzaXRWYWx1ZXMiLCJTcGFjZUxpc3QiLCJDb21tYUxpc3QiLCJGdW5jIiwidmlzaXRvciIsIkVtcHR5IiwiRXhwcnMuQ29uc3QiLCJ2aXNpdEVtcHR5IiwiU2xhc2giLCJ2aXNpdFNsYXNoIiwiU3RyIiwidmlzaXRTdHIiLCJuYW1lVGFibGUiLCJJZGVudCIsInZpc2l0SWRlbnQiLCJnZXROYW1lIiwiRXhwcnMuTXVsdGlwbHkiLCJFeHBycy5OdW1lcmljIiwidmlzaXROdW1lcmljIiwiTnVtIiwiSW50IiwidmlzaXRJbnQiLCJDb2xvciIsInJnYiIsInZpc2l0Q29sb3IiLCJVUkwiLCJ2aXNpdFVSTCIsImFwcGVuZExpc3QiLCJzZXBhcmF0b3IiLCJ2aXNpdFNwYWNlTGlzdCIsInZpc2l0Q29tbWFMaXN0IiwidmlzaXRGdW5jIiwiRXhwciIsInZpc2l0RXhwciIsInRvTnVtYmVyIiwiaXNOdW1lcmljIiwiaXNOdW0iLCJjb252ZXJ0TnVtZXJpY1RvUHgiLCJhYnNvbHV0ZSIsImFsbCIsImFsd2F5cyIsImF1dG8iLCJhdm9pZCIsImJhbGFuY2UiLCJiYWxhbmNlX2FsbCIsImJsb2NrIiwiYmxvY2tfZW5kIiwiYmxvY2tfc3RhcnQiLCJib3RoIiwiYm90dG9tIiwiYm9yZGVyX2JveCIsImJyZWFrX2FsbCIsImJyZWFrX3dvcmQiLCJjcm9wIiwiY3Jvc3MiLCJjb2x1bW4iLCJleGNsdXNpdmUiLCJmaXhlZCIsImZsZXgiLCJmb290bm90ZSIsImZvb3RlciIsImhlYWRlciIsImhvcml6b250YWxfdGIiLCJpbmhlcml0IiwiaW5saW5lIiwiaW5saW5lX2Jsb2NrIiwiaW5saW5lX2VuZCIsImlubGluZV9zdGFydCIsImxhbmRzY2FwZSIsImxlZnQiLCJsaW5lIiwibGlzdF9pdGVtIiwibHRyIiwibWFudWFsIiwibm9uZSIsIm5vcm1hbCIsIm9lYl9wYWdlX2Zvb3QiLCJvZWJfcGFnZV9oZWFkIiwicGFnZSIsInJlbGF0aXZlIiwicmlnaHQiLCJzYW1lIiwic25hcF9ibG9jayIsInNwcmVhZCIsIl9zdGF0aWMiLCJydGwiLCJ0YWJsZSIsInRhYmxlX2NhcHRpb24iLCJ0YWJsZV9jZWxsIiwidGFibGVfZm9vdGVyX2dyb3VwIiwidGFibGVfaGVhZGVyX2dyb3VwIiwidGFibGVfcm93IiwidG9wIiwidHJhbnNwYXJlbnQiLCJ2ZXJ0aWNhbF9sciIsInZlcnRpY2FsX3JsIiwiaHVuZHJlZFBlcmNlbnQiLCJmdWxsV2lkdGgiLCJmdWxsSGVpZ2h0IiwibnVtZXJpY1plcm8iLCJwcm9jZXNzaW5nT3JkZXIiLCJmb250LXNpemUiLCJwcm9jZXNzaW5nT3JkZXJGbiIsIm5hbWUxIiwibmFtZTIiLCJNQVhfVkFMVUUiLCJSZWN0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJQb2ludCIsIkluc2V0cyIsIlNlZ21lbnQiLCJsb3ciLCJ3aW5kaW5nIiwic2hhcGVJZCIsIkJhbmQiLCJzZWdtZW50Q29tcGFyZSIsInMxIiwiczIiLCJTaGFwZSIsInBvaW50cyIsInByZXYiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInNoYXBlRm9yRWxsaXBzZSIsImN4IiwiY3kiLCJyeCIsInJ5IiwiUEkiLCJzaW4iLCJjb3MiLCJzaGFwZUZvclJlY3QiLCJCYW5kSW50ZXJzZWN0aW9uIiwibG93T3JIaWdoIiwiaW50ZXJzZWN0WSIsImFkZEJhbmRJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsIncxIiwidzIiLCJtZXJnZUludGVyc2VjdGlvbnMiLCJpbmNsdWRlQ291bnQiLCJleGNsdWRlQ291bnQiLCJzaGFwZUNvdW50Iiwid2luZGluZ3MxIiwid2luZGluZ3MyIiwieHJhbmdlcyIsImluc2lkZSIsImludGVyc2VjdGlvbkNvdW50IiwiaW50ZXJzZWN0aW9uIiwic3RpbGxJbnNpZGUiLCJyb3RhdGVCb3giLCJib3giLCJ1bnJvdGF0ZUJveCIsInJvdGF0ZVNoYXBlIiwic2hhcGUiLCJwb2ludCIsIm5vcm1hbGl6ZSIsImJhbmRzIiwiY3VyckJhbmQiLCJwcmV2QmFuZCIsImZpbmRCYW5kIiwibWlkIiwiZmluZFVwcGVybW9zdEZ1bGx5T3BlblJlY3QiLCJyZWN0IiwiYmFuZCIsInRvcEVkZ2UiLCJib3R0b21FZGdlIiwiZmluZEJvdHRvbW1vc3RGdWxseU9wZW5SZWN0IiwiU2V0VmlzaXRvciIsIkNzcy5WaXNpdG9yIiwicHJvcFNldCIsIkludFZpc2l0b3IiLCJ0b0ludCIsImRlZiIsIlNoYXBlVmlzaXRvciIsImNvbGxlY3QiLCJjb29yZHMiLCJDc3MuTnVtZXJpYyIsImhlaWdodCIsIm51bWJlcnMiLCJjb29yZCIsIkdlb21ldHJ5VXRpbC5Qb2ludCIsIkdlb21ldHJ5VXRpbC5TaGFwZSIsIkdlb21ldHJ5VXRpbC5zaGFwZUZvclJlY3QiLCJHZW9tZXRyeVV0aWwuc2hhcGVGb3JFbGxpcHNlIiwidG9TaGFwZSIsImdldFNoYXBlIiwiQ291bnRlcnNWaXNpdG9yIiwicmVzZXQiLCJjb3VudGVycyIsInRvQ291bnRlcnMiLCJVcmxUcmFuc2Zvcm1WaXNpdG9yIiwiQ3NzLkZpbHRlclZpc2l0b3IiLCJiYXNlVXJsIiwidHJhbnNmb3JtZXIiLCJDc3MuVVJMIiwidHJhbnNmb3JtVVJMIiwiY2xvbmVDb3VudGVyVmFsdWVzIiwiVGFyZ2V0Q291bnRlclJlZmVyZW5jZSIsInRhcmdldElkIiwicmVzb2x2ZWQiLCJzcGluZUluZGV4IiwicGFnZUluZGV4IiwiQ291bnRlckxpc3RlbmVyIiwiY291bnRlclN0b3JlIiwiZG9jdW1lbnRVUkxUcmFuc2Zvcm1lciIsInRyYW5zZm9ybUZyYWdtZW50IiwiY291bnRlcnNCeUlkIiwiZ2V0RXhwckNvbnRlbnRMaXN0ZW5lciIsIkNvdW50ZXJSZXNvbHZlciIsInBhZ2VTY29wZSIsInN0eWxlciIsInRyYW5zZm9ybWVkSWQiLCJCYXNlLnJlc29sdmVVUkwiLCJmb3JtYXQiLCJzZWxmIiwiRXhwcnMuTmF0aXZlIiwiY3VycmVudFBhZ2VDb3VudGVycyIsInJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByIiwibG9va0ZvckVsZW1lbnQiLCJ0YXJnZXRDb3VudGVycyIsInN0eWxlVW50aWxJZElzUmVhY2hlZCIsImN1cnJlbnRQYWdlIiwiZWxlbWVudHNCeUlkIiwicGFnZUNvdW50ZXJzQnlJZCIsImdldEZyYWdtZW50IiwiZ2V0VHJhbnNmb3JtZWRJZCIsImdldFRhcmdldENvdW50ZXJzIiwiY291bnRlcnNPZk5hbWUiLCJwYWdlQ291bnRlcnMiLCJnZXRUYXJnZXRQYWdlQ291bnRlcnMiLCJyZXNvbHZlUmVmZXJlbmNlIiwicGFnZUNvdW50ZXJzT2ZOYW1lIiwic2F2ZVJlZmVyZW5jZU9mQ3VycmVudFBhZ2UiLCJlbGVtZW50Q291bnRlcnNPZk5hbWUiLCJDb3VudGVyU3RvcmUiLCJjb3VudGVyTmFtZSIsInBhZ2VOdW1iZXIiLCJjYXNjYWRlZFBhZ2VTdHlsZSIsInJlc2V0TWFwIiwicHJldmlvdXNQYWdlQ291bnRlcnMiLCJyZXNldFZhbCIsIkNzc1Byb3AudG9Db3VudGVycyIsInJlc2V0Q291bnRlck5hbWUiLCJkZWZpbmVQYWdlQ291bnRlciIsImluY3JlbWVudE1hcCIsImluY3JlbWVudCIsImluY3JlbWVudFZhbCIsImluY3JlbWVudENvdW50ZXJOYW1lIiwiY291bnRlclZhbHVlcyIsImN1cnJlbnRQYWdlQ291bnRlcnNTdGFjayIsInVucmVzb2x2ZWRSZWZzIiwidW5yZXNvbHZlZFJlZmVyZW5jZXMiLCJyZXNvbHZlZFJlZnMiLCJyZXNvbHZlZFJlZmVyZW5jZXMiLCJwdXNoZWQiLCJyZWZlcmVuY2VzVG9Tb2x2ZSIsInJlc29sdmUiLCJuZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZSIsInNvbWUiLCJpZHMiLCJvbGRQYWdlSW5kZXgiLCJwYWdlSW5kaWNlc0J5SWQiLCJ1bnJlc29sdmUiLCJwcmV2UGFnZUNvdW50ZXJzIiwiaXNSZXNvbHZlZCIsImV2ZXJ5IiwiZXF1YWxzIiwicmVmcyIsImlkUmVmcyIsInIxIiwicjIiLCJyZWZlcmVuY2VzVG9Tb2x2ZVN0YWNrIiwicGFnZXNDb3VudGVyRXhwcnMiLCJleHByQ29udGVudExpc3RlbmVyIiwiZmluZEluZGV4IiwiUEFHRVNfQ09VTlRFUl9BVFRSIiwidmlld3BvcnQiLCJyb290IiwicXVlcnlTZWxlY3RvckFsbCIsInBhZ2VzIiwiTGF5b3V0Q29uc3RyYWludCIsIm5vZGVDb250ZXh0Iiwidmlld05vZGUiLCJlc2NhcGVQYXJzZVNpbmdsZSIsImNvZGUiLCJmcm9tQ2hhckNvZGUiLCJlc2NhcGVQYXJzZSIsIlRva2VuVHlwZSIsIkFjdGlvbiIsIlRva2VuIiwiRU9GIiwibWFrZUFjdGlvbnMiLCJzcGVjIiwiTmFOIiwiRU5EIiwiSU5WQUxJRCIsImFjdGlvbnNOb3JtYWwiLCJTUEFDRSIsIkJBTkciLCJTVFIyIiwiSEFTSCIsIkRPTExBUiIsIlBFUkNFTlQiLCJBTVAiLCJTVFIxIiwiT19QQVIiLCJDX1BBUiIsIlNUQVIiLCJQTFVTIiwiQ09NTUEiLCJNSU5VUyIsIkRPVCIsIlNMQVNIIiwiSU5UIiwiQ09MT04iLCJTRU1JQ09MIiwiTFQiLCJFUSIsIkdUIiwiUU1BUksiLCJBVCIsIklERU5UIiwiT19CUksiLCJCU0xBU0giLCJDX0JSSyIsIkhBVCIsIk9fQlJDIiwiQkFSIiwiQ19CUkMiLCJUSUxERSIsImFjdGlvbnNJZGVudCIsIkVORElETlQiLCJGVU5DIiwiQ09OVCIsIklETlRFU0MiLCJhY3Rpb25zTnVtT3JDbGFzcyIsIlRPQ0xBU1MiLCJUT05VTSIsIlRPSURFUyIsImFjdGlvbnNNaW51cyIsIk1JTk1JTiIsIlRPSU5UIiwiVE9JREVOVCIsImFjdGlvbnNJZGVudEVzYyIsIkVORElERVMiLCJDSEtQT1NTIiwiRlVOQ0VTIiwiYWN0aW9uc0ludCIsIkVORElOVCIsIlBDVU5JVCIsIk5VTUJFUiIsIlVOSVQiLCJhY3Rpb25zTnVtYmVyIiwiRU5ETlVNIiwiYWN0aW9uc0NoZWNrRXEiLCJFUVRBSUwiLCJhY3Rpb25zQ29sb24iLCJDT0xfQ09MIiwiYWN0aW9uc0JhciIsIkJBUl9CQVIiLCJhY3Rpb25zQW1wIiwiQU1QX0FNUCIsImFjdGlvbnNTbGFzaCIsIkNPTU1FTlQiLCJhY3Rpb25zQ29tbWVudCIsIkNPTU1TVCIsImFjdGlvbnNDb21tZW50U3RhciIsIkVORE5PVEsiLCJhY3Rpb25zTWludXNNaW51cyIsIktJTEwxIiwiYWN0aW9uc0x0IiwiTFRfQkciLCJhY3Rpb25zTHRCYW5nIiwiTFRfQkdfTSIsImFjdGlvbnNMdEJhbmdNaW51cyIsIktJTEwyIiwiYWN0aW9uc0lkZW50RXNjQ2hyIiwiSURFU0NIIiwiYWN0aW9uc1N0cjEiLCJFTkRTVFIiLCJTVFIxRVNDIiwiYWN0aW9uc1N0cjIiLCJTVFIyRVNDIiwiYWN0aW9uc1N0cjFFc2MiLCJFTkRFU1RSIiwiQ0hLUE9TTiIsImFjdGlvbnNTdHIyRXNjIiwiYWN0aW9uc1VSTCIsIlVSTDIiLCJVUkwxIiwiYWN0aW9uc1VSTEluc2lkZSIsIkVORFVSTCIsIkNIS1NQIiwiVVJMRVNDIiwiYWN0aW9uc1VSTEluc2lkZTEiLCJURVJNVVJMIiwiYWN0aW9uc1VSTEluc2lkZTIiLCJhY3Rpb25zVVJMVGFpbCIsIkZJTlVSTCIsIlRva2VuaXplciIsImlucHV0IiwiaGFuZGxlciIsImluZGV4TWFzayIsImJ1ZmZlciIsInRhaWwiLCJmaWxsQnVmZmVyIiwiaGVhZCIsIm5ld0luZGV4TWFzayIsIm5ld0J1ZmZlciIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJwb3NpdGlvbiIsInRva2VuIiwibW5lbW9uaWNzIiwicmVhbGxvY2F0ZSIsImFjdGlvbnMiLCJ0b2tlblR5cGUiLCJ0b2tlblBvc2l0aW9uIiwidG9rZW5UZXh0IiwidG9rZW5OdW0iLCJzZWVuU3BhY2UiLCJiYWNrc2xhc2hQb3MiLCJjaGFyQ29kZSIsIlNUUiIsIkNMQVNTIiwiQkFOR19FUSIsIk5VTSIsIk5VTUVSSUMiLCJwcmVjZWRlZEJ5U3BhY2UiLCJwcml2YXRlQ3VycmVudFRhc2siLCJwcmltYXJ5U2NoZWR1bGVyIiwiY3VycmVudFRhc2siLCJuZXdGcmFtZSIsInRhc2siLCJmcmFtZSIsIkZyYW1lIiwic3RhdGUiLCJGcmFtZVN0YXRlIiwiQUNUSVZFIiwibmV3UmVzdWx0IiwiU3luY1Jlc3VsdEltcGwiLCJoYW5kbGUiLCJvbkVyciIsInJhaXNlIiwiVGltZXJJbXBsIiwidmFsdWVPZiIsImRlbGF5IiwiU2NoZWR1bGVyIiwidGltZXIiLCJCYXNlLlByaW9yaXR5UXVldWUiLCJjdXJyZW50VGltZSIsInNsaWNlT3ZlclRpbWUiLCJpblRpbWVTbGljZSIsIm5ld1RpbWUiLCJwZWVrIiwic2NoZWR1bGVkVGltZSIsInRpbWVvdXRUb2tlbiIsIndha2V1cFRpbWUiLCJkb1RpbWVTbGljZSIsImNvbnRpbnVhdGlvbiIsIm9wdF9kZWxheSIsIm9yZGVyIiwiYXJtIiwiY2FuY2VsZWQiLCJyZXN1bWVJbnRlcm5hbCIsIm9wdF9uYW1lIiwiVGFzayIsInRoZW4iLCJkb25lIiwicnVubmluZyIsImNhbGxiYWNrIiwiY2FsbGJhY2tzIiwic2F2ZWRUYXNrIiwic2NoZWR1bGUiLCJzdXNwZW5kIiwiQ29udGludWF0aW9uIiwib3RoZXJDb21wIiwiZmluaXNoIiwid2FpdFRhcmdldCIsIndoZW5Eb25lIiwiZXhjZXB0aW9uIiwib3B0X2ZyYW1lIiwiZmlsbFN0YWNrIiwidW53aW5kIiwib3V0IiwiUmVzdWx0SW1wbCIsImlzUGVuZGluZyIsInJlczEiLCJyZXMyIiwicmVzIiwidGhlbkFzeW5jIiwiSU5JVCIsImNoZWNrRW52aXJvbm1lbnQiLCJGSU5JU0hFRCIsIkRFQUQiLCJnZXRTY2hlZHVsZXIiLCJpc1RpbWVTbGljZU92ZXIiLCJzdGVwIiwibW9yZSIsImxvb3AiLCJMb29wQm9keUZyYW1lIiwib3B0X3dhaXRUYXJnZXQiLCJGZXRjaGVyIiwiZmV0Y2giLCJUYXNrLmN1cnJlbnRUYXNrIiwicnVuIiwiVGFzay5uZXdGcmFtZSIsInJlc291cmNlIiwicGlnZ2liYWNrcyIsInBpZ2d5YmFja3MiLCJhcnJpdmVkIiwiVGFzay5uZXdSZXN1bHQiLCJ3YWl0Rm9yRmV0Y2hlcnMiLCJmZXRjaGVycyIsInRoZW5SZXR1cm4iLCJmZXRjaGVyIiwiaGFzQXJyaXZlZCIsImxvYWRFbGVtZW50Iiwic3JjIiwibG9jYWxOYW1lIiwiQmFzZS5OUyIsIlNWRyIsIlhMSU5LIiwiWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUiLCJTdHlsZXNoZWV0Rmxhdm9yIiwiYWpheCIsIm9wdF90eXBlIiwib3B0X21ldGhvZCIsIm9wdF9kYXRhIiwib3B0X2NvbnRlbnRUeXBlIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0IiwiY29udGVudFR5cGUiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVhNTCIsInJlc3BvbnNlQmxvYiIsInJlc3BvbnNlVHlwZSIsInJlYWR5U3RhdGUiLCJET0NVTUVOVCIsIkhUTUxEb2N1bWVudCIsIlRFWFQiLCJtYWtlQmxvYiIsImNvbnRlbnRUeXBlSGVhZGVyIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIm92ZXJyaWRlTWltZVR5cGUiLCJwYXJ0cyIsImJ1aWxkZXJDdHIiLCJXZWJLaXRCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJidWlsZGVyIiwiZ2V0QmxvYiIsIkJsb2IiLCJSZXNvdXJjZVN0b3JlIiwicGFyc2VyIiwib3B0X3JlcXVpcmVkIiwib3B0X21lc3NhZ2UiLCJCYXNlLnN0cmlwRnJhZ21lbnQiLCJyZXNvdXJjZXMiLCJpc1RvY0JveCIsImVuZHNXaXRoIiwidXNlckFnZW50WG1sVXJsIiwiQmFzZS5yZXNvdXJjZUJhc2VVUkwiLCJpc1VzZXJBZ2VudFhtbCIsIlRhc2tVdGlsLkZldGNoZXIiLCJmZXRjaElubmVyIiwicGFyc2VKU09OUmVzb3VyY2UiLCJzdG9yZSIsIkJhc2Uuc3RyaW5nVG9KU09OIiwiY29sb3JGcm9tSGFzaCIsIkNzcy5Db2xvciIsIlBhcnNlckhhbmRsZXIiLCJmbGF2b3IiLCJBVVRIT1IiLCJucyIsIm9wIiwicHNldWRvZWxlbSIsInN0YXJ0V2hlblJ1bGUiLCJmbG93TmFtZSIsInBzZXVkb05hbWUiLCJjbGFzc2VzIiwiaW1wb3J0YW50IiwiZnVuY05hbWUiLCJVU0VSX0FHRU5UIiwiVVNFUiIsIkRpc3BhdGNoUGFyc2VySGFuZGxlciIsInNsYXZlIiwidG9rZW5pemVyIiwiZ2V0U2NvcGUiLCJzdGFydFN0eWxlc2hlZXQiLCJ0YWdTZWxlY3RvciIsImNsYXNzU2VsZWN0b3IiLCJwc2V1ZG9jbGFzc1NlbGVjdG9yIiwicHNldWRvZWxlbWVudFNlbGVjdG9yIiwiaWRTZWxlY3RvciIsImF0dHJpYnV0ZVNlbGVjdG9yIiwiZGVzY2VuZGFudFNlbGVjdG9yIiwiY2hpbGRTZWxlY3RvciIsImFkamFjZW50U2libGluZ1NlbGVjdG9yIiwiZm9sbG93aW5nU2libGluZ1NlbGVjdG9yIiwibmV4dFNlbGVjdG9yIiwic3RhcnRTZWxlY3RvclJ1bGUiLCJzdGFydEZvbnRGYWNlUnVsZSIsInN0YXJ0Rm9vdG5vdGVSdWxlIiwic3RhcnRWaWV3cG9ydFJ1bGUiLCJzdGFydERlZmluZVJ1bGUiLCJzdGFydFJlZ2lvblJ1bGUiLCJzdGFydFBhZ2VSdWxlIiwic3RhcnRQYWdlTWFyZ2luQm94UnVsZSIsInN0YXJ0Rmxvd1J1bGUiLCJzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUiLCJzdGFydFBhZ2VNYXN0ZXJSdWxlIiwic3RhcnRQYXJ0aXRpb25SdWxlIiwic3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUiLCJzdGFydFJ1bGVCb2R5IiwicHJvcGVydHkiLCJlbmRSdWxlIiwic3RhcnRGdW5jV2l0aFNlbGVjdG9yIiwiZW5kRnVuY1dpdGhTZWxlY3RvciIsIlNraXBwaW5nUGFyc2VySGFuZGxlciIsInRvcExldmVsIiwiZ2V0Q3VycmVudFRva2VuIiwiZXJyb3JNc2ciLCJkZXB0aCIsInBvcEhhbmRsZXIiLCJTbGF2ZVBhcnNlckhhbmRsZXIiLCJyZXBvcnQiLCJwdXNoSGFuZGxlciIsInJlcG9ydEFuZFNraXAiLCJhY3Rpb25zQmFzZSIsImFjdGlvbnNTdHlsZUF0dHJpYnV0ZSIsImFjdGlvbnNTZWxlY3RvciIsImFjdGlvbnNTZWxlY3RvckluRnVuYyIsImFjdGlvbnNTZWxlY3RvckNvbnQiLCJhY3Rpb25zU2VsZWN0b3JTdGFydCIsImFjdGlvbnNQcm9wVmFsIiwiYWN0aW9uc0V4cHJWYWwiLCJhY3Rpb25zRXhwck9wIiwiYWN0aW9uc0Vycm9yIiwiYWN0aW9uc0Vycm9yRGVjbCIsImFjdGlvbnNFcnJvclNlbGVjdG9yIiwiT1BfTUVESUFfQU5EIiwiQ3NzVG9rZW5pemVyLlRva2VuVHlwZSIsIkxBU1QiLCJFeHByQ29udGV4dCIsIlNFTEVDVE9SX1NUQVJUIiwiUlVMRV9FTkQiLCJET05FIiwiUFJPUCIsIlNFTEVDVE9SX05BTUUiLCJTRUxFQ1RPUl9BTlkiLCJTRUxFQ1RPUl9JRCIsIlNFTEVDVE9SX0NMQVNTIiwiU0VMRUNUT1JfQVRUUiIsIlNFTEVDVE9SX1BTRVVET0NMQVNTIiwiU0VMRUNUT1JfQ0hJTEQiLCJTRUxFQ1RPUl9TSUJMSU5HIiwiU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkciLCJTRUxFQ1RPUl9OQU1FXzEiLCJTRUxFQ1RPUl9BTllfMSIsIlNFTEVDVE9SX0lEXzEiLCJTRUxFQ1RPUl9DTEFTU18xIiwiU0VMRUNUT1JfQVRUUl8xIiwiU0VMRUNUT1JfQk9EWSIsIlNFTEVDVE9SX1BTRVVET0NMQVNTXzEiLCJTRUxFQ1RPUl9QU0VVRE9FTEVNIiwiU0VMRUNUT1JfTkVYVCIsIlZBTF9JREVOVCIsIlZBTF9IQVNIIiwiVkFMX05VTSIsIlZBTF9JTlQiLCJWQUxfTlVNRVJJQyIsIlZBTF9TVFIiLCJWQUxfVVJMIiwiVkFMX0NPTU1BIiwiVkFMX1NMQVNIIiwiVkFMX0ZVTkMiLCJWQUxfQ19QQVIiLCJWQUxfRU5EIiwiVkFMX0JSQyIsIlZBTF9CQU5HIiwiVkFMX1BMVVMiLCJWQUxfRklOSVNIIiwiRVhQUl9JREVOVCIsIkVYUFJfTlVNIiwiRVhQUl9OVU1FUklDIiwiRVhQUl9TVFIiLCJFWFBSX09fUEFSIiwiRVhQUl9GVU5DIiwiRVhQUl9QUkVGSVgiLCJFWFBSX1BBUkFNIiwiRVhQUl9JTkZJWF9OQU1FIiwiRVhQUl9JTkZJWCIsIkdUX0VRIiwiTFRfRVEiLCJFUV9FUSIsIkVYUFJfQ19QQVIiLCJFWFBSX09fQlJDIiwiRVhQUl9TRU1JQ09MIiwiRVJST1JfUFVTSCIsIkVSUk9SX1BPUCIsIkVSUk9SX1NFTUlDT0wiLCJFUlJPUl9QT1BfREVDTCIsIlBhcnNlciIsImV4cHJDb250ZXh0IiwiTUVESUEiLCJzZXAiLCJ2YWxTdGFjayIsImNvdW50IiwiQ3NzLlNwYWNlTGlzdCIsIkNzcy5GdW5jIiwiZXh0cmFjdFZhbHMiLCJDc3MuQ29tbWFMaXN0IiwicHJvcE5hbWUiLCJ2YWwyIiwidG9rIiwiZTEiLCJlMiIsImVyIiwiRXhwcnMuT3JNZWRpYSIsIkNzcy5FeHByIiwiRXhwcnMuQ2FsbCIsIkV4cHJzLm1ha2VRdWFsaWZpZWROYW1lIiwiaXNNZWRpYU5hbWUiLCJFeHBycy5NZWRpYVRlc3QiLCJFeHBycy5Ob3QiLCJleHByRXJyb3IiLCJFeHBycy5OZWdhdGUiLCJFeHBycy5BbmQiLCJFeHBycy5BbmRNZWRpYSIsIkV4cHJzLk9yIiwiRXhwcnMuTHQiLCJFeHBycy5HdCIsIkV4cHJzLkxlIiwiRXhwcnMuR2UiLCJFeHBycy5FcSIsIkV4cHJzLk5lIiwiRXhwcnMuQWRkIiwiRXhwcnMuU3VidHJhY3QiLCJFeHBycy5EaXZpZGUiLCJFeHBycy5Nb2R1bG8iLCJFeHBycy5Db25kIiwiY29uc3VtZSIsImhhc0xlYWRpbmdQbHVzIiwiaGFzTWludXNTaWduIiwiaGFzU2lnbiIsImNvbmRpdGlvbiIsIkV4cHJzLmFuZCIsIkV4cHJzLk5hbWVkIiwicnVsZVN0YWNrIiwicGFyc2luZ1ZhbHVlIiwicGFyc2luZ1N0eWxlQXR0ciIsInBhcnNpbmdNZWRpYVF1ZXJ5IiwicGFyc2luZ0Z1bmN0aW9uUGFyYW0iLCJ0b2tlbjEiLCJwYXJzZXJMb29wIiwibnRoVG9rZW4iLCJpc0luc2lkZVByb3BlcnR5T25seVJ1bGUiLCJtYXJrIiwicHJvcEltcG9ydGFudCIsIm5hbWVzcGFjZVByZWZpeFRvVVJJIiwiZGVmYXVsdE5hbWVzcGFjZVVSSSIsInBzZXVkb2NsYXNzVHlwZSIsInJ1blBhcnNlciIsIlBPU0lUSVZFX0lORklOSVRZIiwicmVhZE50aFBzZXVkb1BhcmFtcyIsInJlYWRQc2V1ZG9QYXJhbXMiLCJUSUxERV9FUSIsIkJBUl9FUSIsIkhBVF9FUSIsIkRPTExBUl9FUSIsIlNUQVJfRVEiLCJyZWdpb25SdWxlIiwicGFnZVJ1bGUiLCJDc3MuZ2V0TmFtZSIsIkNzcy5OdW0iLCJDc3MuSW50IiwiRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCIsIkNzcy5TdHIiLCJ2YWxTdGFja1JlZHVjZSIsIkNzcy5zbGFzaCIsImhhc01hcmsiLCJ1bm1hcmsiLCJJTVBPUlQiLCJFeHBycy5NZWRpYU5hbWUiLCJFeHBycy5QYXJhbSIsImV4cHJTdGFja1JlZHVjZSIsIldIRU4iLCJzdGFydE1lZGlhUnVsZSIsImltcG9ydENvbmRpdGlvbiIsImltcG9ydFJlYWR5IiwiaW1wb3J0VVJMIiwicnVsZU5hbWUiLCJydWxlUHNldWRvTmFtZSIsImVycm9yQnJhY2tldHMiLCJFcnJvckhhbmRsZXIiLCJwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dCIsIm1lZGlhIiwiVGFzay5oYW5kbGUiLCJDc3NUb2tlbml6ZXIuVG9rZW5pemVyIiwibWFrZUNvbmRpdGlvbiIsInRvRXhwciIsInJlc29sdmVkVVJMIiwiaW5uZXJGcmFtZSIsInBhcnNlU3R5bGVzaGVldEZyb21VUkwiLCJ0aW1lU2xpY2UiLCJwYXJzZVN0eWxlc2hlZXQiLCJ0aGVuRmluaXNoIiwiTmV0LmFqYXgiLCJ4aHIiLCJwYXJzZVZhbHVlIiwibnVtUHJvcCIsInotaW5kZXgiLCJjb2x1bW4tY291bnQiLCJmbG93LWxpbmdlciIsIm9wYWNpdHkiLCJmbG93LXByaW9yaXR5IiwidXRpbGl6YXRpb24iLCJldmFsdWF0ZUNTU1RvQ1NTIiwiaXNFeHByIiwiQ3NzLmVtcHR5IiwiQ3NzLmlkZW50IiwiZXZhbHVhdGVFeHByVG9DU1MiLCJtYXRjaEFOUGx1c0IiLCJBbnlNYXRjaGVyIiwibWF0Y2hlcnMiLCJtYXRjaGVyIiwibWF0Y2hlcyIsIkFsbE1hdGNoZXIiLCJOdGhGcmFnbWVudE1hdGNoZXIiLCJlbGVtZW50T2Zmc2V0IiwiZnJhZ21lbnRJbmRleCIsImluZGljZXMiLCJmcmFnbWVudEluZGljZXMiLCJlbnRyeSIsIk1hdGNoZXJCdWlsZGVyIiwidmlld0NvbmRpdGlvbiIsInN0cnMiLCJpbmhlcml0ZWRQcm9wcyIsImF6aW11dGgiLCJib3JkZXItY29sbGFwc2UiLCJib3JkZXItc3BhY2luZyIsImNhcHRpb24tc2lkZSIsImNsaXAtcnVsZSIsImNvbG9yLWludGVycG9sYXRpb24iLCJjb2xvci1yZW5kZXJpbmciLCJjdXJzb3IiLCJkaXJlY3Rpb24iLCJlbGV2YXRpb24iLCJlbXB0eS1jZWxscyIsImZpbGwiLCJmaWxsLW9wYWNpdHkiLCJmaWxsLXJ1bGUiLCJmb250LWtlcm5pbmciLCJmb250LXNpemUtYWRqdXN0IiwiZm9udC1mYW1pbHkiLCJmb250LWZlYXR1cmUtc2V0dGluZ3MiLCJmb250LXN0eWxlIiwiZm9udC1zdHJldGNoIiwiZm9udC12YXJpYW50IiwiZm9udC13ZWlnaHQiLCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCIsImh5cGhlbnMiLCJoeXBoZW5hdGUtY2hhcmFjdGVyIiwiaHlwaGVuYXRlLWxpbWl0LWNoYXJzIiwiaHlwaGVuYXRlLWxpbWl0LWxhc3QiLCJpbWFnZS1yZW5kZXJpbmciLCJpbWFnZS1yZXNvbHV0aW9uIiwibGV0dGVyLXNwYWNpbmciLCJsaW5lLWJyZWFrIiwibGluZS1oZWlnaHQiLCJsaXN0LXN0eWxlLWltYWdlIiwibGlzdC1zdHlsZS1wb3NpdGlvbiIsImxpc3Qtc3R5bGUtdHlwZSIsIm1hcmtlciIsIm1hcmtlci1lbmQiLCJtYXJrZXItbWlkIiwibWFya2VyLXN0YXJ0Iiwib3JwaGFucyIsIm92ZXJmbG93LXdyYXAiLCJwYWludC1vcmRlciIsInBvaW50ZXItZXZlbnRzIiwicGl0Y2gtcmFuZ2UiLCJxdW90ZXMiLCJyaWNobmVzcyIsInJ1YnktYWxpZ24iLCJydWJ5LXBvc2l0aW9uIiwic3BlYWstaGVhZGVyIiwic3BlYWstbnVtZXJhbCIsInNwZWFrLXB1bmN0dWF0aW9uIiwic3BlZWNoLXJhdGUiLCJzaGFwZS1yZW5kZXJpbmciLCJzdHJlc3MiLCJzdHJva2UiLCJzdHJva2UtZGFzaGFycmF5Iiwic3Ryb2tlLWRhc2hvZmZzZXQiLCJzdHJva2UtbGluZWNhcCIsInN0cm9rZS1saW5lam9pbiIsInN0cm9rZS1taXRlcmxpbWl0Iiwic3Ryb2tlLW9wYWNpdHkiLCJzdHJva2Utd2lkdGgiLCJ0YWItc2l6ZSIsInRleHQtYWxpZ24iLCJ0ZXh0LWFsaWduLWxhc3QiLCJ0ZXh0LWFuY2hvciIsInRleHQtZGVjb3JhdGlvbi1za2lwIiwidGV4dC1lbXBoYXNpcy1jb2xvciIsInRleHQtZW1waGFzaXMtcG9zaXRpb24iLCJ0ZXh0LWVtcGhhc2lzLXN0eWxlIiwidGV4dC1jb21iaW5lLXVwcmlnaHQiLCJ0ZXh0LWluZGVudCIsInRleHQtanVzdGlmeSIsInRleHQtcmVuZGVyaW5nIiwidGV4dC1zaXplLWFkanVzdCIsInRleHQtdHJhbnNmb3JtIiwidGV4dC11bmRlcmxpbmUtcG9zaXRpb24iLCJ2aXNpYmlsaXR5Iiwidm9pY2UtZmFtaWx5Iiwidm9sdW1lIiwid2hpdGUtc3BhY2UiLCJ3aWRvd3MiLCJ3b3JkLWJyZWFrIiwid29yZC1zcGFjaW5nIiwid29yZC13cmFwIiwid3JpdGluZy1tb2RlIiwicG9seWZpbGxlZEluaGVyaXRlZFByb3BzIiwic3VwcG9ydGVkTmFtZXNwYWNlcyIsImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHMiLCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJjb3VwbGVkUGF0dGVybnMiLCJjb3VwbGVkRXh0ZW50UGF0dGVybnMiLCJnZW9tTmFtZXMiLCJzaWRlcyIsIm5hbWVzIiwibWF4LXdpZHRoIiwibWF4LWhlaWdodCIsIm1pbi13aWR0aCIsIm1pbi1oZWlnaHQiLCJidWlsZENvdXBsaW5nTWFwIiwic2lkZU1hcCIsImV4dGVudE1hcCIsInBhdHRlcm4iLCJzaWRlIiwiZXh0ZW50UGF0dGVybiIsImV4dGVudCIsImNvdXBsaW5nTWFwVmVydCIsImJsb2NrLXN0YXJ0IiwiYmxvY2stZW5kIiwiaW5saW5lLXN0YXJ0IiwiaW5saW5lLWVuZCIsImJsb2NrLXNpemUiLCJpbmxpbmUtc2l6ZSIsImNvdXBsaW5nTWFwSG9yIiwiY291cGxpbmdNYXBWZXJ0UnRsIiwiY291cGxpbmdNYXBIb3JSdGwiLCJDYXNjYWRlVmFsdWUiLCJzcGVjaWZpY2l0eSIsIkNzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTIiwiQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUiLCJjYXNjYWRlVmFsdWVzIiwidHYiLCJhdiIsImlzRW5hYmxlZCIsImdldEJhc2VWYWx1ZSIsIlNQRUNJQUxTIiwicmVnaW9uLWlkIiwiZnJhZ21lbnQtc2VsZWN0b3ItaWQiLCJpc1NwZWNpYWxOYW1lIiwiaXNQcm9wTmFtZSIsImlzSW5oZXJpdGVkIiwiZ2V0UHJvcCIsInNldFByb3AiLCJnZXRTdHlsZU1hcCIsImdldE11dGFibGVTdHlsZU1hcCIsImdldFZpZXdDb25kaXRpb25hbFN0eWxlTWFwIiwiX3ZpZXdDb25kaXRpb25hbFN0eWxlcyIsImdldFNwZWNpYWwiLCJnZXRNdXRhYmxlU3BlY2lhbCIsIm1lcmdlSW4iLCJwc2V1ZG9lbGVtZW50IiwicmVnaW9uSWQiLCJ2aWV3Q29uZGl0aW9uTWF0Y2hlciIsInN0eWxlS2V5Iiwic3R5bGVNYXAiLCJzdHlsZXMiLCJ0cyIsImluY3JlYXNlU3BlY2lmaWNpdHkiLCJjaGFpbkFjdGlvbnMiLCJjaGFpbiIsImNoYWluZWQiLCJJbmhlcml0YW5jZVZpc2l0b3IiLCJwcm9wcyIsIkV4cHJzLmRlZmF1bHRVbml0U2l6ZXMiLCJwYXJlbnRGb250U2l6ZSIsImNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4IiwiZ2V0Rm9udFNpemUiLCJiYXNlRm9udFNpemUiLCJDYXNjYWRlQWN0aW9uIiwiY2FzY2FkZUluc3RhbmNlIiwiQ29tcG91bmRBY3Rpb24iLCJDb25kaXRpb25JdGVtQWN0aW9uIiwiY29uZGl0aW9uSXRlbSIsInB1c2hDb25kaXRpb25JdGVtIiwiZnJlc2giLCJBcHBseVJ1bGVBY3Rpb24iLCJ2aWV3Q29uZGl0aW9uSWQiLCJjdXJyZW50U3R5bGUiLCJidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyIiwiQ2hhaW5lZEFjdGlvbiIsImNhc2NhZGUiLCJDaGVja0NsYXNzQWN0aW9uIiwiY3VycmVudENsYXNzTmFtZXMiLCJpbmNsdWRlcyIsImluc2VydEluVGFibGUiLCJDaGVja0lkQWN0aW9uIiwiY3VycmVudElkIiwiY3VycmVudFhtbElkIiwiQ2hlY2tMb2NhbE5hbWVBY3Rpb24iLCJjdXJyZW50TG9jYWxOYW1lIiwidGFncyIsIkNoZWNrTlNUYWdBY3Rpb24iLCJjdXJyZW50TmFtZXNwYWNlIiwibnNQcmVmaXgiLCJuc0NvdW50IiwibnNUYWciLCJuc3RhZ3MiLCJDaGVja1RhcmdldEVwdWJUeXBlQWN0aW9uIiwiZXB1YlR5cGVQYXR0IiwiY3VycmVudEVsZW1lbnQiLCJlcHViVHlwZSIsImVwdWIiLCJDaGVja05hbWVzcGFjZUFjdGlvbiIsIkNoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbiIsImhhc0F0dHJpYnV0ZU5TIiwiQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbiIsImVwdWJ0eXBlcyIsIkNoZWNrTmFtZXNwYWNlU3VwcG9ydGVkQWN0aW9uIiwiQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24iLCJyZWdleHAiLCJDaGVja0xhbmdBY3Rpb24iLCJsYW5nUmVnRXhwIiwiSXNGaXJzdEFjdGlvbiIsImlzRmlyc3QiLCJJc1Jvb3RBY3Rpb24iLCJJc050aEFjdGlvbiIsIk1hdGNoZXJzLm1hdGNoQU5QbHVzQiIsIklzTnRoU2libGluZ09mVHlwZUFjdGlvbiIsImN1cnJlbnRTaWJsaW5nVHlwZUNvdW50cyIsIklzTnRoTGFzdFNpYmxpbmdBY3Rpb24iLCJjdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyIiwiY3VycmVudFNpYmxpbmdPcmRlciIsIklzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24iLCJjb3VudHMiLCJjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHMiLCJuc0NvdW50cyIsIm5leHRFbGVtZW50U2libGluZyIsIklzRW1wdHlBY3Rpb24iLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiVEVYVF9OT0RFIiwiSXNFbmFibGVkQWN0aW9uIiwiSXNEaXNhYmxlZEFjdGlvbiIsIklzQ2hlY2tlZEFjdGlvbiIsIkNoZWNrQ29uZGl0aW9uQWN0aW9uIiwiY29uZGl0aW9ucyIsImRlcGVuZGVudENvbmRpdGlvbnMiLCJDaGVja0FwcGxpZWRBY3Rpb24iLCJhcHBsaWVkIiwiY2xvbmVkIiwiTmVnYXRlQWN0aW9uc1NldCIsImNoZWNrQXBwbGllZEFjdGlvbiIsImZpcnN0QWN0aW9uIiwiQWJzdHJhY3RDb25kaXRpb25JdGVtIiwiZGVjcmVtZW50IiwiRGVzY2VuZGFudENvbmRpdGlvbkl0ZW0iLCJDaGlsZENvbmRpdGlvbkl0ZW0iLCJBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtIiwiZmlyZWQiLCJGb2xsb3dpbmdTaWJsaW5nQ29uZGl0aW9uSXRlbSIsIkFmdGVyUHNldWRvZWxlbWVudEl0ZW0iLCJhZnRlcnByb3AiLCJwcm9jZXNzUHNldWRvZWxlbWVudFByb3BzIiwiUmVzdG9yZUxhbmdJdGVtIiwiUXVvdGVzU2NvcGVJdGVtIiwib2xkUXVvdGVzIiwiQXR0clZhbHVlRmlsdGVyVmlzaXRvciIsImF0dHJpYnV0ZU5hbWUiLCJkZWZhdWx0VmFsdWUiLCJzdHJpbmdWYWx1ZSIsImNyZWF0ZVZhbHVlRnJvbVN0cmluZyIsImhhc0F0dHJpYnV0ZSIsIkNvbnRlbnRQcm9wVmlzaXRvciIsImNvdW50ZXJSZXNvbHZlciIsIm1heERlcHRoIiwicXVvdGVEZXB0aCIsInVwcGVyIiwibG93ZXIiLCJhZGRpdGl2ZU51bWJlcmluZyIsImVudHJpZXMiLCJhbHBoYWJldGljTnVtYmVyaW5nIiwiYWxwaGFiZXRTdHIiLCJhbHBoYWJldCIsImZpcnN0IiwibGFzdCIsImRpZ2l0IiwibnVtYmVyaW5nIiwiZGlnaXRzIiwibmVnYXRpdmUiLCJmb3JtYWwiLCJtYXJrZXJzIiwidGhvdXNhbmRzIiwiaHVuZHJlZHMiLCJ0ZW5zIiwib25lcyIsImNoaW5lc2VUcmFkSW5mb3JtYWwiLCJudW12YWwiLCJnZXRQYWdlQ291bnRlclZhbCIsImdldFBhZ2VDb3VudGVyc1ZhbCIsIm51bXZhbHMiLCJlbGVtZW50Q291bnRlcnMiLCJ0YXJnZXRVcmwiLCJ0YXJnZXRVcmxTdHIiLCJnZXRUYXJnZXRDb3VudGVyVmFsIiwiZ2V0VGFyZ2V0Q291bnRlcnNWYWwiLCJ2aXNpdEZ1bmNDb3VudGVyIiwidmlzaXRGdW5jQ291bnRlcnMiLCJ2aXNpdEZ1bmNUYXJnZXRDb3VudGVyIiwidmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMiLCJyb21hbiIsImFybWVuaWFuIiwiZ2VvcmdpYW4iLCJoZWJyZXciLCJsYXRpbiIsImFscGhhIiwiZ3JlZWsiLCJydXNzaWFuIiwic3F1YXJlIiwiZGlzYyIsImNpcmNsZSIsImNvcHlUYWJsZSIsImRzdCIsImNsb25lIiwiQ2FzY2FkZSIsInBhZ2V0eXBlcyIsIm1lcmdlV2l0aCIsImNvdW50ZXJMaXN0ZW5lciIsIkNhc2NhZGVJbnN0YW5jZSIsInNpYmxpbmdUeXBlQ291bnRzU3RhY2siLCJmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjayIsInZpZXdDb25kaXRpb25zIiwiZmlsdGVyIiwiY3VycmVudEVsZW1lbnRPZmZzZXQiLCJNYXRjaGVycy5NYXRjaGVyQnVpbGRlciIsImRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzIiwiY29uZGl0aW9uSWQiLCJidWlsZEFueU1hdGNoZXIiLCJidWlsZEFsbE1hdGNoZXIiLCJwYWdlVHlwZSIsImJhc2VTdHlsZSIsImN1cnJlbnROU1RhZyIsImN1cnJlbnRFcHViVHlwZXMiLCJFTVBUWSIsImN1cnJlbnRQYWdlVHlwZSIsImFwcGx5QWN0aW9ucyIsInNjb3BpbmciLCJjb3VudGVyU2NvcGluZyIsImRpc3BsYXlWYWwiLCJzZXRNYXAiLCJzZXRWYWwiLCJkZWZpbmVDb3VudGVyIiwic2V0Q291bnRlck5hbWUiLCJsaXN0SXRlbUNvdW50cyIsImxpc3RJdGVtQ291bnQiLCJwc2V1ZG9wcm9wcyIsInB1c2hDb3VudGVycyIsImZpbHRlclZhbHVlIiwicG9wQ291bnRlcnMiLCJ0eXBlcyIsIkZCMiIsIkJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZSIsInNpYmxpbmdPcmRlclN0YWNrIiwiY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMiLCJmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrIiwiYXBwbHlBdHRyRmlsdGVyIiwicXVvdGVzQ2FzYyIsIml0ZW1Ub1B1c2hMYXN0IiwicXVvdGVzVmFsIiwiY291bnRlcnNPZklkIiwicHNldWRvcyIsInBzZXVkb05hbWVzIiwicHNldWRvUHJvcHMiLCJlbGVtZW50U3R5bGUiLCJwc2V1ZG9NYXAiLCJhcHBseUF0dHJGaWx0ZXJJbm5lciIsImFwcGx5QWN0aW9uIiwiY3VycmVudERvYyIsIlBhcnNlU3RhdGUiLCJ1YUJhc2VDYXNjYWRlIiwiQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIiwidmFsaWRhdG9yU2V0IiwiVE9QIiwibWFrZVByaW1hcnkiLCJpbnNlcnROb25QcmltYXJ5IiwicGF0dCIsIkJhc2UuZXNjYXBlUmVnRXhwIiwiZm9vdG5vdGVDb250ZW50IiwibGFuZ1ZhbHVlIiwiQWN0aW9uQ2xhc3MiLCJudGhTZWxlY3RvckFjdGlvbkNsYXNzZXMiLCJjb25kaXRpb25Db3VudCIsInByb2Nlc3NDaGFpbiIsImZpbmlzaENoYWluIiwiaXNJbnNpZGVTZWxlY3RvclJ1bGUiLCJTRUxFQ1RPUiIsImluc2lkZVNlbGVjdG9yUnVsZSIsIm5leHRPcmRlciIsIm1ha2VBcHBseVJ1bGVBY3Rpb24iLCJ2YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kIiwic2ltcGxlUHJvcGVydHkiLCJQbHVnaW4uZ2V0SG9va3NGb3JOYW1lIiwiaG9vayIsImNvbnZlcnRlZCIsImdldEltcG9ydGFudFNwZWNpZmljaXR5IiwiZ2V0QmFzZVNwZWNpZmljaXR5IiwiY2FzY3ZhbCIsIm5vdFBhcnNlckhhbmRsZXIiLCJOb3RQYXJhbWV0ZXJQYXJzZXJIYW5kbGVyIiwibnRoLWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1sYXN0LW9mLXR5cGUiLCJwYXJlbnRDaGFpbiIsIkRlZmluZVBhcnNlckhhbmRsZXIiLCJkaW0iLCJkZWZpbmVOYW1lIiwiUHJvcFNldFBhcnNlckhhbmRsZXIiLCJQcm9wZXJ0eVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRXJyb3JIYW5kbGVyIiwiZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyIsInZpZXdDb25kaXRpb25hbFN0eWxlcyIsIm1lcmdlVmlld0NvbmRpdGlvbmFsU3R5bGVzIiwiY2FzY01hcCIsIm1lcmdlU3R5bGUiLCJpc1ZlcnRpY2FsIiwiY2FzY2FkZWQiLCJ2ZXJ0aWNhbCIsIndyaXRpbmdNb2RlQ2FzYyIsIndyaXRpbmdNb2RlIiwiaXNSdGwiLCJkaXJlY3Rpb25DYXNjIiwiZmxhdHRlbkNhc2NhZGVkU3R5bGUiLCJyZWdpb25JZHMiLCJpc0Zvb3Rub3RlIiwiZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwicmVnaW9uU3R5bGUiLCJyZWdpb25zIiwiZm9vdG5vdGVSZWdpb24iLCJ0byIsIm5ld1ZhbCIsIm9sZFZhbCIsImNvbnZlcnRUb1BoeXNpY2FsIiwiZGVzdCIsInRyYW5zZm9ybSIsImNvdXBsaW5nTWFwIiwiY2FzY1ZhbCIsImNvdXBsZWROYW1lIiwidGFyZ2V0TmFtZSIsImNvdXBsZWRDYXNjVmFsIiwiY3JlYXRlUmVnRXhwTWFwIiwidmFsdWVNYXBzIiwidG9QaHlzaWNhbCIsImxvZ2ljYWwiLCJwaHlzaWNhbCIsImNvbnZlcnQiLCJtYXBzIiwibWFwczIiLCJyZXBsYWNlZCIsImhvcml6b250YWwtdGIiLCJ2ZXJ0aWNhbC1ybCIsInZlcnRpY2FsLWxyIiwidG9QaHlzaWNhbE1hcHMiLCJ0b0xvZ2ljYWxNYXBzIiwiU2l6ZSIsImdldFNpemUiLCJjbGllbnRMYXlvdXQiLCJzaXplcyIsIm9yaWdpbmFsIiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm1pbkhlaWdodCIsImNvbnRhaW5lciIsImdldENvbXB1dGVkVmFsdWUiLCJnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSIsIkJhc2Uuc2V0Q1NTUHJvcGVydHkiLCJ3cml0aW5nTW9kZVByb3BlcnR5IiwiQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJ3cml0aW5nTW9kZVZhbHVlIiwiaW5saW5lU2l6ZU5hbWUiLCJibG9ja1NpemVOYW1lIiwiZ2V0RmlsbEF2YWlsYWJsZUlubGluZSIsImdldE1heENvbnRlbnRJbmxpbmUiLCJnZXRNaW5Db250ZW50SW5saW5lIiwiZ2V0Rml0Q29udGVudElubGluZSIsImZpbGxBdmFpbGFibGVJbmxpbmUiLCJtaW5Db250ZW50SW5saW5lIiwicGFyc2VkRmlsbEF2YWlsYWJsZSIsIm1heENvbnRlbnRJbmxpbmUiLCJnZXRJZGVhbEJsb2NrIiwiZ2V0RmlsbEF2YWlsYWJsZUJsb2NrIiwiRklMTF9BVkFJTEFCTEVfSU5MSU5FX1NJWkUiLCJNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSIsIk1JTl9DT05URU5UX0lOTElORV9TSVpFIiwiRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUiLCJGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFIiwiTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSIsIk1JTl9DT05URU5UX0JMT0NLX1NJWkUiLCJGSVRfQ09OVEVOVF9CTE9DS19TSVpFIiwiRklMTF9BVkFJTEFCTEVfV0lEVEgiLCJGSUxMX0FWQUlMQUJMRV9IRUlHSFQiLCJNQVhfQ09OVEVOVF9XSURUSCIsIk1BWF9DT05URU5UX0hFSUdIVCIsIk1JTl9DT05URU5UX1dJRFRIIiwiTUlOX0NPTlRFTlRfSEVJR0hUIiwiRklUX0NPTlRFTlRfV0lEVEgiLCJGSVRfQ09OVEVOVF9IRUlHSFQiLCJkaWZmX21haW4iLCJ0ZXh0MSIsInRleHQyIiwiY3Vyc29yX3BvcyIsIl9maXhfdW5pY29kZSIsImVkaXRkaWZmIiwib2xkVGV4dCIsIm5ld1RleHQiLCJvbGRSYW5nZSIsIm5ld1JhbmdlIiwib2xkTGVuZ3RoIiwibmV3TGVuZ3RoIiwib2xkQ3Vyc29yIiwib2xkQmVmb3JlIiwib2xkQWZ0ZXIiLCJtYXliZU5ld0N1cnNvciIsIm5ld0N1cnNvciIsIm5ld0JlZm9yZSIsIm5ld0FmdGVyIiwicHJlZml4TGVuZ3RoIiwib2xkUHJlZml4IiwibmV3UHJlZml4Iiwib2xkTWlkZGxlIiwibmV3TWlkZGxlIiwibWFrZV9lZGl0X3NwbGljZSIsInN1ZmZpeExlbmd0aCIsIm9sZFN1ZmZpeCIsIm5ld1N1ZmZpeCIsImNvbW1vbmxlbmd0aCIsImRpZmZfY29tbW9uUHJlZml4IiwiY29tbW9ucHJlZml4IiwiZGlmZl9jb21tb25TdWZmaXgiLCJjb21tb25zdWZmaXgiLCJkaWZmcyIsImxvbmd0ZXh0Iiwic2hvcnR0ZXh0IiwiaG0iLCJkaWZmX2hhbGZNYXRjaElfIiwiYmVzdF9sb25ndGV4dF9hIiwiYmVzdF9sb25ndGV4dF9iIiwiYmVzdF9zaG9ydHRleHRfYSIsImJlc3Rfc2hvcnR0ZXh0X2IiLCJzZWVkIiwiYmVzdF9jb21tb24iLCJ0ZXh0MV9hIiwidGV4dDFfYiIsInRleHQyX2EiLCJ0ZXh0Ml9iIiwiaG0xIiwiaG0yIiwibWlkX2NvbW1vbiIsImRpZmZzX2EiLCJkaWZmc19iIiwidGV4dDFfbGVuZ3RoIiwidGV4dDJfbGVuZ3RoIiwibWF4X2QiLCJ2X29mZnNldCIsInZfbGVuZ3RoIiwiZGVsdGEiLCJmcm9udCIsImsxc3RhcnQiLCJrMWVuZCIsImsyc3RhcnQiLCJrMmVuZCIsImsxIiwiazFfb2Zmc2V0IiwiazJfb2Zmc2V0IiwiZGlmZl9iaXNlY3RTcGxpdF8iLCJrMiIsImRpZmZfY2xlYW51cE1lcmdlIiwiZml4X3VuaWNvZGUiLCJwb2ludGVyIiwiY291bnRfZGVsZXRlIiwiY291bnRfaW5zZXJ0IiwidGV4dF9kZWxldGUiLCJ0ZXh0X2luc2VydCIsInByZXZpb3VzX2VxdWFsaXR5IiwiZW5kc193aXRoX3BhaXJfc3RhcnQiLCJzdHJheSIsInN0YXJ0c193aXRoX3BhaXJfZW5kIiwiY2hhbmdlcyIsInRleHQxYSIsInRleHQyYSIsInRleHQxYiIsInRleHQyYiIsImRpZmZzYiIsInBvaW50ZXJtaW4iLCJwb2ludGVybWF4IiwicG9pbnRlcm1pZCIsInBvaW50ZXJzdGFydCIsImlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0IiwicG9pbnRlcmVuZCIsImlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCIsInR1cGxlcyIsInJldCIsImRpZmYiLCJJTlNFUlQiLCJERUxFVEUiLCJFUVVBTCIsIkxheW91dFByb2Nlc3NvciIsIlBhZ2VGbG9hdHMiLCJTZWxlY3RvcnMiLCJSZXBldGl0aXZlRWxlbWVudCIsIlRhYmxlIiwiVnRyZWUiLCJyZXN0b3JlTmV3VGV4dCIsInJlZHVjZSIsImZhc3RkaWZmIiwicmVzb2x2ZUluZGV4IiwiY29lZiIsImN1cnJlbnQiLCJvYmplY3QiLCJmb3JtYXR0aW5nQ29udGV4dFR5cGUiLCJGbG9hdFJlZmVyZW5jZSIsImZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUiLCJpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50IiwiV2hpdGVzcGFjZSIsIlNoYWRvd1R5cGUiLCJkZWxheWVkUHJvcHMiLCJ0cmFuc2Zvcm0tb3JpZ2luIiwiZGVsYXllZFByb3BzSWZSZWxhdGl2ZVBvc2l0aW9uZWQiLCJEZWxheWVkSXRlbSIsInNob3ciLCJvYmoiLCJoaWRlIiwicGxheSIsInBhdXNlIiwicmVzdW1lIiwibXV0ZSIsIm11dGVkIiwidW5tdXRlIiwibWFrZUxpc3RlbmVyIiwiYWN0aW9uRm4iLCJQYWdlIiwiQmFzZS5TaW1wbGVFdmVudFRhcmdldCIsImJsZWVkQm94IiwiaHJlZkhhbmRsZXIiLCJhbmNob3JFbGVtZW50IiwiaXNBdXRvIiwiaXNBdXRvUGFnZVdpZHRoIiwiQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURSIsImlzQXV0b1BhZ2VIZWlnaHQiLCJBVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSIsInRyaWdnZXJzIiwiZWxlbXMiLCJkZWxheWVkSXRlbXMiLCJnZXRFbGVtZW50Q2xpZW50UmVjdCIsImRpbWVuc2lvbnMiLCJvYnNlcnZlcnMiLCJvYnNlcnZlciIsInBhZ2VBcmVhRWxlbWVudCIsIndoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZSIsIndoaXRlc3BhY2UiLCJJR05PUkUiLCJORVdMSU5FIiwiUFJFU0VSVkUiLCJjYW5JZ25vcmUiLCJGbG93IiwicGFyZW50Rmxvd05hbWUiLCJGbG93Q2h1bmsiLCJzdGFydE9mZnNldCIsImxpbmdlciIsInJlcGVhdGVkIiwiYnJlYWtCZWZvcmUiLCJjbGllbnRyZWN0SW5jcmVhc2luZ1RvcCIsImNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJpc1NhbWVOb2RlUG9zaXRpb25TdGVwIiwibnBzMSIsIm5wczIiLCJzaGFkb3dUeXBlIiwiaXNTYW1lU2hhZG93Q29udGV4dCIsInNoYWRvd0NvbnRleHQiLCJub2RlU2hhZG93Iiwic2hhZG93U2libGluZyIsImlzU2FtZU5vZGVQb3NpdGlvbiIsIm5wMSIsIm5wMiIsIm9mZnNldEluTm9kZSIsIm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dCIsImluaXRpYWxGcmFnbWVudEluZGV4Iiwic291cmNlTm9kZSIsIk5PTkUiLCJmb3JtYXR0aW5nQ29udGV4dCIsInByZXByb2Nlc3NlZFRleHRDb250ZW50IiwibWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAiLCJOb2RlQ29udGV4dCIsImNvcHkiLCJTaGFkb3dDb250ZXh0IiwieG1sZG9jIiwicGFyZW50U2hhZG93Iiwic3VwZXJTaGFkb3ciLCJzdWJTaGFkb3ciLCJzYzEiLCJzYzIiLCJGaXJzdFBzZXVkbyIsIm91dGVyIiwiYm94T2Zmc2V0IiwiYnJlYWtQZW5hbHR5IiwiZmxvYXRSZWZlcmVuY2UiLCJJTkxJTkUiLCJoeXBoZW5hdGVDaGFyYWN0ZXIiLCJicmVha1dvcmQiLCJmaXJzdFBzZXVkbyIsImNsZWFyU3BhY2VyIiwiZmxvYXRTaWRlIiwiY2xlYXJTaWRlIiwiZmxvYXRNaW5XcmFwQmxvY2siLCJjb2x1bW5TcGFuIiwidmVydGljYWxBbGlnbiIsImZsZXhDb250YWluZXIiLCJicmVha0FmdGVyIiwiZXN0YWJsaXNoZXNCRkMiLCJjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSIsInJlcGVhdE9uQnJlYWsiLCJwbHVnaW5Qcm9wcyIsImFmdGVySWZDb250aW51ZXMiLCJmb290bm90ZVBvbGljeSIsIm5wIiwiY2FwdGlvblNpZGUiLCJpbmxpbmVCb3JkZXJTcGFjaW5nIiwiYmxvY2tCb3JkZXJTcGFjaW5nIiwib3ZlcmZsb3ciLCJjcmVhdGUiLCJzaGFyZWQiLCJjbG9uZUl0ZW0iLCJucHAiLCJucGMiLCJ0b05vZGVQb3NpdGlvblN0ZXAiLCJDaHVua1Bvc2l0aW9uIiwicHJpbWFyeSIsImZsb2F0cyIsIkZsb3dDaHVua1Bvc2l0aW9uIiwiY2h1bmtQb3NpdGlvbiIsImZsb3dDaHVuayIsImlzU2FtZVBvc2l0aW9uIiwiRmxvd1Bvc2l0aW9uIiwibmV3ZnAiLCJwb3NpdGlvbnMiLCJuZXdhcnIiLCJzdGFydFNpZGUiLCJMYXlvdXRQb3NpdGlvbiIsIm5ld2NwIiwiaGlnaGVzdFNlZW5Ob2RlIiwiaGlnaGVzdFNlZW5PZmZzZXQiLCJsb29rdXBQb3NpdGlvbk9mZnNldCIsImZsb3dzIiwiZmxvd1Bvc2l0aW9ucyIsInRoaXNGbG93TmFtZXMiLCJvdGhlckZsb3dOYW1lcyIsImZsb3dQb3MiLCJoYXNDb250ZW50IiwiZmxvd0NodW5rUG9zaXRpb24iLCJDb250YWluZXIiLCJtYXJnaW5Ub3AiLCJib3JkZXJUb3AiLCJwYWRkaW5nVG9wIiwibWFyZ2luQm90dG9tIiwiYm9yZGVyQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsIm1hcmdpbkxlZnQiLCJib3JkZXJMZWZ0IiwicGFkZGluZ0xlZnQiLCJtYXJnaW5SaWdodCIsImJvcmRlclJpZ2h0IiwicGFkZGluZ1JpZ2h0IiwiZ2V0SW5zZXRSaWdodCIsImdldEluc2V0VG9wIiwiZ2V0SW5zZXRMZWZ0IiwiZ2V0SW5zZXRCb3R0b20iLCJvcmlnaW5YIiwib3JpZ2luWSIsImlubmVyU2hhcGUiLCJleGNsdXNpb25zIiwiY29tcHV0ZWRCbG9ja1NpemUiLCJzbmFwV2lkdGgiLCJzbmFwSGVpZ2h0Iiwic2V0SG9yaXpvbnRhbFBvc2l0aW9uIiwiZ2V0Qm94RGlyIiwic2V0VmVydGljYWxQb3NpdGlvbiIsImdldElubmVyUmVjdCIsIndpdGhPZmZzZXQiLCJHZW9tZXRyeVV0aWwuUmVjdCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJwYWRkaW5nV2lkdGgiLCJwYWRkaW5nSGVpZ2h0Iiwib3V0ZXJTaGFwZVByb3AiLCJnZXRPdXRlclJlY3QiLCJDc3NQcm9wLnRvU2hhcGUiLCJvdXRlclgiLCJvdXRlclkiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJDb250ZW50UHJvcGVydHlIYW5kbGVyIiwicm9vdENvbnRlbnRWYWx1ZSIsInZpc2l0U3RySW5uZXIiLCJpbWciLCJjcmVhdGVFbGVtZW50TlMiLCJDc3NQYXJzZXIucGFyc2VWYWx1ZSIsIm5vblRyaXZpYWxDb250ZW50IiwiaXNQYWdlRmxvYXQiLCJDT0xVTU4iLCJSRUdJT04iLCJQQUdFIiwiUGFnZUZsb2F0Iiwibm9kZVBvc2l0aW9uIiwicGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImlzQW5jaG9yQWxyZWFkeUFwcGVhcmVkIiwiUGFnZUZsb2F0U3RvcmUiLCJuZXh0UGFnZUZsb2F0SW5kZXgiLCJmbG9hdCIsIlZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24iLCJjcmVhdGVQYWdlRmxvYXRJZCIsIlBhZ2VGbG9hdEZyYWdtZW50IiwiY29udGludWF0aW9ucyIsImFyZWEiLCJjb250aW51ZXMiLCJpc0FsbG93ZWRPbkNvbnRleHQiLCJnZXRPdXRlclNoYXBlIiwiZ2V0T3JkZXIiLCJQYWdlRmxvYXRDb250aW51YXRpb24iLCJQYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwiZ2VuZXJhdGluZ05vZGVQb3NpdGlvbiIsImZsb2F0U3RvcmUiLCJnZXRQcmV2aW91c1NpYmxpbmciLCJmbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cyIsImZsb2F0c0RlZmVycmVkVG9OZXh0IiwiZ2V0UHJldmlvdXNTaWJsaW5nT2YiLCJnZXRQYXJlbnQiLCJnZXRDb250YWluZXIiLCJyZWF0dGFjaEZsb2F0RnJhZ21lbnRzIiwiYWRkUGFnZUZsb2F0IiwiZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbiIsImZvcmJpZGRlbkZsb2F0cyIsIlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIiLCJmaW5kQnlGbG9hdCIsImZvcmJpZCIsImlzRm9yYmlkZGVuIiwiZmxvYXRGcmFnbWVudCIsImRvbnRJbnZhbGlkYXRlIiwiYWRkUGFnZUZsb2F0RnJhZ21lbnQiLCJmbG9hdEZyYWdtZW50cyIsImZyMSIsImZyMiIsImludmFsaWRhdGUiLCJyZW1vdmVQYWdlRmxvYXRGcmFnbWVudCIsImZyYWdtZW50IiwiZmluZFBhZ2VGbG9hdEZyYWdtZW50IiwiaGFzRmxvYXQiLCJoYXNGbG9hdEZyYWdtZW50cyIsImdldEZsb3dOYW1lIiwiYW5jaG9yVmlld05vZGUiLCJmbG9hdEFuY2hvcnMiLCJhbmNob3JzIiwiY29sbGVjdFBhZ2VGbG9hdEFuY2hvcnMiLCJmbG9hdElkIiwiZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zIiwiY29udCIsImRlZmVyUGFnZUZsb2F0IiwiaWdub3JlUmVmZXJlbmNlIiwiaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQiLCJpc0FsbG93ZWRUb1ByZWNlZGUiLCJsYXN0Rm9sbG93aW5nIiwibGFzdEZvbGxvd2luZ09mUGFyZW50IiwiZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMiLCJjMSIsImMyIiwiZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0IiwiZ2V0RmxvYXRzRGVmZXJyZWRUb05leHRJbkNoaWxkQ29udGV4dHMiLCJjaGVja0FuZEZvcmJpZEZsb2F0Rm9sbG93aW5nRGVmZXJyZWRGbG9hdCIsIm5vdEFsbG93ZWRGbG9hdCIsImZpbmROb3RBbGxvd2VkRmxvYXQiLCJsb2NrZWQiLCJyZW1vdmVFbmRGbG9hdEZyYWdtZW50cyIsImNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0IiwiZGVmZXJyZWRGbG9hdHMiLCJmbG9hdHNJbkZyYWdtZW50cyIsImZyIiwiZjEiLCJmMiIsImludmFsaWRhdGVkIiwiaGFzU2FtZUNvbnRhaW5lckFzIiwibGF5b3V0Q29uc3RyYWludHMiLCJpc0ludmFsaWRhdGVkIiwibG9naWNhbEZsb2F0U2lkZSIsInRvTG9naWNhbCIsInN0YXNoRW5kRmxvYXRGcmFnbWVudHMiLCJmcmFnbWVudEZsb2F0U2lkZSIsInNob3VsZEJlU3Rhc2hlZEJlZm9yZSIsInN0YXNoZWRGbG9hdEZyYWdtZW50cyIsInN0YXNoZWQiLCJyZXN0b3JlU3Rhc2hlZEZyYWdtZW50cyIsImRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzIiwiZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzIiwibGF5b3V0Q29udGV4dCIsImxvZ2ljYWxTaWRlIiwicGh5c2ljYWxTaWRlIiwibGltaXQiLCJnZXRMaW1pdFZhbHVlSW5uZXIiLCJwYXJlbnRMaW1pdCIsImdldExpbWl0VmFsdWUiLCJsaW1pdHMiLCJnZXRMaW1pdFZhbHVlc0lubmVyIiwicGFkZGluZ1JlY3QiLCJnZXRQYWRkaW5nUmVjdCIsImZsb2F0TWluV3JhcEJsb2NrU3RhcnQiLCJmbG9hdE1pbldyYXBCbG9ja0VuZCIsInJlc29sdmVMZW5ndGhQZXJjZW50YWdlIiwiY29udGFpbmVyTGVuZ3RoIiwiY29udmVydExlbmd0aFRvUHgiLCJyb290Vmlld05vZGVzIiwiYW5jaG9yRWRnZSIsImZvcmNlIiwic2V0RmxvYXRBcmVhRGltZW5zaW9ucyIsImJsb2NrU3RhcnQiLCJibG9ja0VuZCIsImlubGluZVN0YXJ0IiwiaW5saW5lRW5kIiwiYmxvY2tPZmZzZXQiLCJpbmxpbmVPZmZzZXQiLCJsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdCIsImdldFJlY3QiLCJvcGVuUmVjdCIsIkdlb21ldHJ5VXRpbC51bnJvdGF0ZUJveCIsImJsb2NrU2l6ZSIsImlubGluZVNpemUiLCJvdXRlckJsb2NrU2l6ZSIsIm91dGVySW5saW5lU2l6ZSIsIkdlb21ldHJ5VXRpbC5yb3RhdGVCb3giLCJHZW9tZXRyeVV0aWwuZmluZFVwcGVybW9zdEZ1bGx5T3BlblJlY3QiLCJHZW9tZXRyeVV0aWwuZmluZEJvdHRvbW1vc3RGdWxseU9wZW5SZWN0IiwiZ2V0SW5zZXRCZWZvcmUiLCJnZXRJbnNldEFmdGVyIiwiZ2V0SW5zZXRTdGFydCIsImdldEluc2V0RW5kIiwiYXZhaWxhYmxlQmxvY2tTaXplIiwiY29udGFpbmVyUmVjdCIsIlNpemluZy5nZXRTaXplIiwiU2l6aW5nLlNpemUiLCJhZGp1c3RDb250ZW50UmVsYXRpdmVTaXplIiwiZ2V0Q29udGVudElubGluZVNpemUiLCJhdmFpbGFibGVJbmxpbmVTaXplIiwic2V0SW5saW5lUG9zaXRpb24iLCJzZXRCbG9ja1Bvc2l0aW9uIiwiZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMiLCJlZGdlIiwiSW5maW5pdHkiLCJpc0NvbnRpbnVhdGlvbk9mQWxyZWFkeUFwcGVhcmVkRmxvYXQiLCJpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0IiwiY29sdW1uUmVjdCIsImNvbHVtbkJsb2NrRW5kIiwiYmxvY2tTdGFydExpbWl0IiwiZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uIiwibG9naWNhbENsZWFyU2lkZSIsImxvZ2ljYWxTaWRlcyIsImZsb2F0T3JkZXIiLCJpc1ByZWNlZGluZ0ZyYWdtZW50IiwiaGFzUHJlY2VkaW5nRnJhZ21lbnRJbkNoaWxkcmVuIiwiaGFzUHJlY2VkaW5nRnJhZ21lbnRJblBhcmVudHMiLCJnZXRMYXlvdXRDb25zdHJhaW50cyIsImxheW91dENvbnN0cmFpbnQiLCJhZGRMYXlvdXRDb25zdHJhaW50IiwicGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llcyIsInN0cmF0ZWd5IiwiYXBwbGllc1RvTm9kZUNvbnRleHQiLCJhcHBsaWVzVG9GbG9hdCIsInRvTm9kZVBvc2l0aW9uIiwicmVzb2x2ZUZsb2F0UmVmZXJlbmNlRnJvbUNvbHVtblNwYW4iLCJmbG9hdEFyZWEiLCJmbG9hdENvbnRhaW5lciIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQiLCJGb290bm90ZSIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0IiwiRm9vdG5vdGVGcmFnbWVudCIsIkxpbmVGb290bm90ZVBvbGljeUxheW91dENvbnN0cmFpbnQiLCJWdHJlZS5pc1NhbWVOb2RlUG9zaXRpb24iLCJQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIiLCJQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlIiwicmVnaW9uQ29udGV4dCIsImFwcGx5Rm9vdG5vdGVTdHlsZSIsImNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4Iiwic2V0Q29tcHV0ZWRJbnNldHMiLCJzZXRDb21wdXRlZFdpZHRoQW5kSGVpZ2h0IiwiY29uc3RyYWludCIsImZvcmNlZEJyZWFrVmFsdWVzIiwicmVjdG8iLCJ2ZXJzbyIsInJlZ2lvbiIsImlzRm9yY2VkQnJlYWtWYWx1ZSIsImF2b2lkQnJlYWtWYWx1ZXMiLCJhdm9pZC1wYWdlIiwiYXZvaWQtY29sdW1uIiwiYXZvaWQtcmVnaW9uIiwiaXNBdm9pZEJyZWFrVmFsdWUiLCJyZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZSIsInNlY29uZCIsImZpcnN0SXNGb3JjZWRCcmVha1ZhbHVlIiwic2Vjb25kSXNGb3JjZWRCcmVha1ZhbHVlIiwiYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUiLCJicmVha1ZhbHVlIiwic3RhcnRTaWRlVmFsdWVUb0JyZWFrVmFsdWUiLCJzdGFydFNpZGVWYWx1ZSIsImNhbGN1bGF0ZUVkZ2UiLCJleHRyYU9mZnNldCIsImNib3giLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJib3hlcyIsImdldFJhbmdlQ2xpZW50UmVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmdWxsUmFuZ2UiLCJmdWxsQm94ZXMiLCJmdWxsQm94IiwibWF4U2l6ZSIsImJveFNpemUiLCJnZXRFbGVtZW50SGVpZ2h0IiwiZ2V0Q29tcHV0ZWRNYXJnaW4iLCJpc09ycGhhbiIsInJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzIiwiaXNTcGVjaWFsIiwiaXNTcGVjaWFsTm9kZUNvbnRleHQiLCJQbHVnaW4ucmVnaXN0ZXJIb29rIiwiQWJzdHJhY3RCcmVha1Bvc2l0aW9uIiwiY2FsY3VsYXRlT2Zmc2V0IiwiZ2V0Tm9kZUNvbnRleHQiLCJjb2xsZWN0RWxlbWVudHNPZmZzZXQiLCJlbGVtZW50c09mZnNldHMiLCJyZXBldGl0aXZlRWxlbWVudCIsIm1pbmltdW0iLCJjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0IiwiRWRnZUJyZWFrUG9zaXRpb24iLCJicmVha09uRWRnZSIsIm92ZXJmbG93cyIsIm92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkIiwicGVuYWx0eSIsInVwZGF0ZU92ZXJmbG93cyIsImdldE1pbkJyZWFrUGVuYWx0eSIsImZpbmRFZGdlQnJlYWtQb3NpdGlvbiIsImlzRWRnZVVwZGF0ZWQiLCJwcmVmZXJEcm9wcGluZyIsImlzRmlyc3RDb250ZW50T2ZSZXBldGl0aXZlRWxlbWVudHNPd25lciIsIkJyZWFrLmlzQXZvaWRCcmVha1ZhbHVlIiwiY2xvbmVkUGFkZGluZ0JvcmRlciIsImNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIiLCJMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZSIsInVwZGF0ZUVkZ2UiLCJvZmZzZXRzIiwiaXNPdmVyZmxvd24iLCJpc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IiwicmVwZXRpdGl2ZUVsZW1lbnRzIiwiZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzIiwiaXNGaXJzdENvbnRlbnROb2RlIiwiYmxvY2tpZnkiLCJkaXNwbGF5U3RyIiwiYmxvY2tpZmllZFN0ciIsImlzQWJzb2x1dGVseVBvc2l0aW9uZWQiLCJnZXRDb21wdXRlZERpc2xheVZhbHVlIiwiaXNCbG9jayIsImlzSW5saW5lTGV2ZWwiLCJMYXlvdXRQcm9jZXNzb3JSZXNvbHZlciIsIlBsdWdpbi5IT09LUyIsIlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiIsInByb2Nlc3NvciIsIkJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibGVhZGluZ0VkZ2UiLCJpc0Zsb2F0Tm9kZUNvbnRleHQiLCJsYXlvdXRGbG9hdE9yRm9vdG5vdGUiLCJpc0JyZWFrYWJsZSIsImxheW91dEJyZWFrYWJsZUJsb2NrIiwibGF5b3V0VW5icmVha2FibGUiLCJjb2x1bW5CbG9ja1NpemUiLCJCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIiwic3RvcEF0T3ZlcmZsb3ciLCJwYXJlbnROb2RlQ29udGV4dCIsInJlbW92ZVNlbGYiLCJMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3MiLCJmb3JjZVJlbW92ZVNlbGYiLCJlbmRPZkNvbHVtbiIsImNsZWFyT3ZlcmZsb3duVmlld05vZGVzIiwiZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkIiwicHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UiLCJCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiZmlyc3RUaW1lIiwiYmxvY2tMYXlvdXRQcm9jZXNzb3IiLCJpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQiLCJEaXNwbGF5LmlzQmxvY2siLCJBYnN0cmFjdExheW91dFJldHJ5ZXIiLCJwcmVwYXJlTGF5b3V0IiwidHJ5TGF5b3V0Iiwic2F2ZVN0YXRlIiwibW9kZSIsInJlc29sdmVMYXlvdXRNb2RlIiwiZG9MYXlvdXQiLCJwb3NpdGlvbkFmdGVyIiwiYWNjZXB0ZWQiLCJhY2NlcHQiLCJwb3N0TGF5b3V0IiwiaW5pdGlhbFBvc2l0aW9uIiwiY2xlYXJOb2RlcyIsInJlc3RvcmVTdGF0ZSIsInNpYmxpbmciLCJpbml0aWFsQnJlYWtQb3NpdGlvbnMiLCJicmVha1Bvc2l0aW9ucyIsImluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQiLCJMYXlvdXRJdGVyYXRvciIsImluaXRpYWxOb2RlQ29udGV4dCIsImluaXRpYWxTdGF0ZSIsImxvb3BXaXRoRnJhbWUiLCJsb29wRnJhbWUiLCJWdHJlZUltcGwuY2FuSWdub3JlIiwiYWZ0ZXJJZ25vcmVkVGV4dE5vZGUiLCJzdGFydElnbm9yZWRUZXh0Tm9kZSIsImFmdGVyTm9uRWxlbWVudE5vZGUiLCJzdGFydE5vbkVsZW1lbnROb2RlIiwiYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZSIsInN0YXJ0SW5saW5lRWxlbWVudE5vZGUiLCJhZnRlck5vbklubGluZUVsZW1lbnROb2RlIiwic3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZSIsImFmdGVyTm9uRGlzcGxheWFibGVOb2RlIiwic3RhcnROb25EaXNwbGF5YWJsZU5vZGUiLCJuZXh0UmVzdWx0IiwiYnJlYWsiLCJuZXh0SW5UcmVlIiwiYXRVbmZvcmNlZEJyZWFrIiwibmV4dE5vZGVDb250ZXh0IiwiYnJlYWtMb29wIiwiY29udGludWVMb29wIiwiRWRnZVNraXBwZXIiLCJicmVha0F0VGhlRWRnZSIsIm9uU3RhcnRFZGdlcyIsImxlYWRpbmdFZGdlQ29udGV4dHMiLCJsYXN0QWZ0ZXJOb2RlQ29udGV4dCIsIm5lZWRGb3JjZWRCcmVhayIsIkJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZSIsInBhZ2VCcmVha1R5cGUiLCJjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uIiwibW9kaWZ5IiwidmlvbGF0ZUNvbnN0cmFpbnQiLCJhbGxvd0xheW91dCIsIkJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlIiwic3RhcnROb25JbmxpbmVCb3giLCJlbmRFbXB0eU5vbklubGluZUJveCIsImVuZE5vbklubGluZUJveCIsInJlcGV0aXRpdmVFbGVtZW50c0NhY2hlIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiU0hBRE9XIiwiZ2V0UHNldWRvTmFtZSIsInNldFBzZXVkb05hbWUiLCJQc2V1ZG9lbGVtZW50U3R5bGVyIiwiZGVlcCIsImdldFN0eWxlIiwiQ3NzQ2FzY2FkZS5nZXRTdHlsZU1hcCIsIm5lc3QiLCJDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSIsImNvbnRlbnRQcm9jZXNzZWQiLCJjb250ZW50VmFsIiwiVnRyZWUubm9uVHJpdmlhbENvbnRlbnQiLCJWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyIiwiaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJyZWdpc3RlckZyYWdtZW50SW5kZXgiLCJNYXRjaGVycy5OdGhGcmFnbWVudE1hdGNoZXIiLCJBZnRlcklmQ29udGludWVzIiwidmlld1Jvb3QiLCJwc2V1ZG9Db2x1bW4iLCJQc2V1ZG9Db2x1bW4iLCJpbml0aWFsUGFnZUJyZWFrVHlwZSIsImdldENvbHVtbiIsImxheW91dCIsImNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQiLCJwc2V1ZG9FbGVtZW50IiwiUHNldWRvRWxlbWVudC5kb2N1bWVudCIsIlBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZSIsImNyZWF0ZVNoYWRvd0NvbnRleHQiLCJWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbiIsIlZ0cmVlSW1wbC5TaGFkb3dDb250ZXh0IiwiUk9PVEVEIiwiQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJwc2V1ZG9FbGVtZW50SGVpZ2h0Iiwib3ZlcmZsb3duTm9kZUNvbnRleHQiLCJhbGxvd2VkIiwiYWZmZWN0VG8iLCJBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQiLCJMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodCIsInByb2Nlc3NBZnRlcklmQ29udGludWVzIiwibWVkaWFUYWdzIiwic3ZnIiwiYXVkaW8iLCJ2aWRlbyIsIkFsbExheW91dENvbnN0cmFpbnQiLCJjb25zdHJhaW50cyIsIkJveEJyZWFrUG9zaXRpb24iLCJCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvbiIsImNoZWNrUG9pbnRzIiwiYWxyZWFkeUV2YWx1YXRlZCIsImJyZWFrTm9kZUNvbnRleHQiLCJmaW5kQm94QnJlYWtQb3NpdGlvbiIsImlzU3BlY2lhbElubGluZURpc3BsYXkiLCJDb2x1bW4iLCJWdHJlZUltcGwuQ29udGFpbmVyIiwidmlld0RvY3VtZW50Iiwic2V0Q29udGFpbmVyIiwic3RhcnRFZGdlIiwiYmVmb3JlRWRnZSIsImVuZEVkZ2UiLCJhZnRlckVkZ2UiLCJpc0Zsb2F0IiwiZm9vdG5vdGVFZGdlIiwicGFnZUZsb2F0RXhjbHVzaW9ucyIsInNldFZpZXdSb290Iiwic3RlcEluZGV4IiwicHJldkNvbnRleHQiLCJWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAiLCJmbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0IiwiY2FsY3VsYXRlT2Zmc2V0SW5Ob2RlRm9yTm9kZUNvbnRleHQiLCJzZXRDdXJyZW50IiwiZmlyc3RDaGFyUGF0dGVybiIsInBlZWxPZmYiLCJib2R5RnJhbWUiLCJMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQiLCJtYXliZVBlZWxPZmYiLCJwb3NpdGlvbjFQYXJhbSIsInBvc2l0aW9uUGFyYW0iLCJwb3N0TGF5b3V0QmxvY2siLCJwb3NpdGlvbjEiLCJjc3NGbG9hdCIsImdldFRvcEVkZ2UiLCJnZXRMZWZ0RWRnZSIsImdldEJvdHRvbUVkZ2UiLCJnZXRSaWdodEVkZ2UiLCJjcmVhdGVGbG9hdCIsIkxheW91dEhlbHBlci5pc09ycGhhbiIsImluc2V0cyIsIkdlb21ldHJ5VXRpbC5JbnNldHMiLCJwYXJzZUNvbXB1dGVkTGVuZ3RoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJub2RlQ29udGV4dEluIiwiYnVpbGREZWVwRWxlbWVudFZpZXciLCJub2RlQ29udGV4dEFmdGVyIiwiZmxvYXRCQm94IiwiZmxvYXRCb3giLCJwYXJlbnRCb3giLCJnZXRTdGFydEVkZ2UiLCJnZXRFbmRFZGdlIiwiZmxvYXRCb3hNZWFzdXJlIiwiZmxvYXRIb3JCb3giLCJkaXIiLCJib3R0b21tb3N0RmxvYXRUb3AiLCJib3hFeHRlbnQiLCJmbG9hdFdpZHRoIiwiZmxvYXRIZWlnaHQiLCJmbG9hdEJvdHRvbSIsImdldENvbXB1dGVkSW5zZXRzIiwiZ2V0Q29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUiLCJmbG9hdEJveEVkZ2UiLCJmbG9hdEJveFRvcCIsImtpbGxGbG9hdHMiLCJmbG9hdEJhbmRzIiwibGFzdFkiLCJmbG9hdEJhbmQiLCJjcmVhdGVGbG9hdHMiLCJsZWZ0RmxvYXRFZGdlIiwicmlnaHRGbG9hdEVkZ2UiLCJ1cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlIiwiZmxvYXRMYXlvdXRDb250ZXh0IiwiZm9yY2VOb25maXR0aW5nIiwiY29udGFpbmluZ0Jsb2NrUmVjdCIsImFkanVzdFBhZ2VGbG9hdEFyZWEiLCJmaXRXaXRoaW5Db250YWluZXIiLCJmbG9hdEFyZWFFbGVtZW50IiwicGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsInBhcmVudENvbnRhaW5lciIsIlBhZ2VGbG9hdEFyZWEiLCJzZXR1cEZsb2F0QXJlYSIsImFsbG93RnJhZ21lbnRlZCIsInBhZ2VGbG9hdEZyYWdtZW50Iiwib3JpZ2luYWxDb250aW51YXRpb25zIiwiZmlyc3RGbG9hdCIsImNyZWF0ZVBhZ2VGbG9hdEFyZWEiLCJuZXdQb3NpdGlvbiIsImZhaWxlZCIsImZsb2F0Q2h1bmtQb3NpdGlvbiIsIm5ld0ZyYWdtZW50IiwiY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQiLCJjYW5jZWxMYXlvdXQiLCJsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudCIsImxheW91dFN0YXNoZWRQYWdlRmxvYXRzIiwic3VjY2VzcyIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uIiwiZXhjbHVkZWQiLCJuZXdGbG9hdEFyZWFzIiwibmV3RnJhZ21lbnRzIiwic3Rhc2hlZEZyYWdtZW50IiwiYW5jaG9yIiwiYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUiLCJjb2x1bW5Db250ZXh0IiwiZmluZEJ5Tm9kZUNvbnRleHQiLCJjcmVhdGVQYWdlRmxvYXQiLCJWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0Iiwic2V0RmxvYXRBbmNob3JWaWV3Tm9kZSIsInJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yIiwibm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzIiwibGF5b3V0UGFnZUZsb2F0SW5uZXIiLCJpbnNlcnRpb25Qb2ludCIsInNwYW4iLCJpbm5lciIsInRleHRJbmRlbnQiLCJ0ZXh0QWxpZ24iLCJsZWZ0UG9zIiwicmlnaHRQb3MiLCJpbmxpbmVCbG9jayIsInBhZGRpbmciLCJwYWRkaW5nU3RyIiwiaW5zZXJ0QWZ0ZXIiLCJoeXBoZW5DaGFyIiwicmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3RlciIsInByZXZTaWJsaW5nIiwicHJldlRleHQiLCJjcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQiLCJiciIsInNwYW5SZWN0IiwiYnJSZWN0IiwiYWRkQW5kQWRqdXN0SnVzdGlmaWNhdGlvbkVsZW1lbnQiLCJjb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQiLCJyZXNOb2RlQ29udGV4dCIsImxhc3RDaGVja1BvaW50cyIsInRvdGFsTGluZUNvdW50IiwibGluZVBvc2l0aW9ucyIsImZpbmRMaW5lUG9zaXRpb25zIiwibGluZUJyZWFrIiwiZmluZEFjY2VwdGFibGVCcmVha0luc2lkZSIsImZpbmlzaEJyZWFrIiwicmVzTm9kZUNvbnRleHRQYXJhbSIsImJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZSIsInRyYWlsaW5nRWRnZUNvbnRleHRzIiwibWF4UG9zIiwibWluTmVnIiwiY2hlY2tQb2ludEluZGV4IiwibGluZUNvbnQiLCJvdmVyZmxvd24iLCJCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldCIsImdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQiLCJwcm9jZXNzTGluZVN0eWxpbmciLCJzYXZlQm94QnJlYWtQb3NpdGlvbiIsImlzTG9uZUltYWdlIiwiUE9TVF9MQVlPVVRfQkxPQ0siLCJsaW5lUG9zaXRpb24iLCJpc1VwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UiLCJlZmZlY3RpdmVMaW5lUG9zaXRpb24iLCJsb3dDUCIsImxvdzEiLCJoaWdoQ1AiLCJoaWdoMSIsIm1pZDEiLCJlZGdlUG9zaXRpb24iLCJmaW5kRW5kT2ZMaW5lIiwidGV4dE5vZGUiLCJyZXNvbHZlVGV4dE5vZGVCcmVha2VyIiwiYnJlYWtUZXh0Tm9kZSIsIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIiLCJUZXh0Tm9kZUJyZWFrZXIiLCJ3ZW50VXAiLCJsYXN0R29vZCIsImhhdmVTdGFydCIsImVuZE5vdFJlYWNoZWQiLCJzZWVrUmFuZ2UiLCJzZXRTdGFydEJlZm9yZSIsIkxheW91dEhlbHBlci5pc1NwZWNpYWwiLCJzZXRFbmRBZnRlciIsImJveExpc3QiLCJnZXRSYW5nZUJveGVzIiwiVnRyZWVJbXBsLmNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJWdHJlZUltcGwuY2xpZW50cmVjdEluY3JlYXNpbmdUb3AiLCJsaW5lQmVmb3JlIiwibGluZUFmdGVyIiwibGluZUVuZCIsImxpbmVMZW5ndGgiLCJvdmVybGFwIiwiZ2V0Qm94U2l6ZSIsImdldEJlZm9yZUVkZ2UiLCJnZXRBZnRlckVkZ2UiLCJCYXNlLm51bWJlckNvbXBhcmUiLCJ3YWxrVXBCbG9ja3MiLCJFbGVtZW50IiwicGFkZGluZ0JvcmRlcnMiLCJnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIiLCJicCIsInJlcGV0aXRpdmVFbGVtZW50c09mZnNldCIsImdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzIiwiZmlyc3RPdmVyZmxvd2luZyIsImZpbmRGaXJzdE92ZXJmbG93aW5nRWRnZUFuZENoZWNrUG9pbnQiLCJsaW5lSW5kZXgiLCJCYXNlLmJpbmFyeVNlYXJjaCIsImZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmciLCJjaGVja1BvaW50IiwiYmxvY2tFZGdlIiwiZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lciIsImJsb2NrUGFyZW50IiwiY3AiLCJMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIiLCJmaW5kIiwiTGF5b3V0UHJvY2Vzc29yLmJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibmV4dFBlbmFsdHkiLCJmaW5kQWNjZXB0YWJsZUJyZWFrIiwibWluUGVuYWx0eSIsImJyZWFrUG9zaXRpb24iLCJpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUiLCJza2lwVGFpbEVkZ2VzIiwiZmxvd1Bvc2l0aW9uIiwibWFyZ2luRWRnZSIsInNhdmVFdmVuT3ZlcmZsb3duIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlIiwic2F2ZUVkZ2VCcmVha1Bvc2l0aW9uIiwic3BhY2VyIiwic3BhY2VyQm94IiwiY2xlYXJFZGdlIiwiZ2V0UGFnZUZsb2F0Q2xlYXJFZGdlIiwid0FkaiIsImhBZGoiLCJMYXlvdXRQcm9jZXNzb3IuaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsImZvcmNlZEJyZWFrVmFsdWUiLCJpc0JGQyIsInByb2Nlc3NGb3JjZWRCcmVhayIsImxheW91dFByb2Nlc3NvciIsImFwcGx5Q2xlYXJhbmNlIiwiemVyb0luZGVudCIsInZpZXdUYWciLCJub2RlQ29udGV4dFBhcmFtIiwibGFzdEFmdGVyUG9zaXRpb24iLCJyZXN1bHROb2RlQ29udGV4dCIsIlBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQiLCJsYXlvdXRQYWdlRmxvYXQiLCJsYXlvdXRGbG9hdCIsInNraXBFZGdlcyIsInN0b3BCeU92ZXJmbG93IiwiY29sdW1uQkJveCIsImluY2x1ZGUiLCJleGNsdWRlIiwiZ3JhbnVsYXJpdHkiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJhZGRTZWdtZW50cyIsInNlZ21lbnRDb3VudCIsImxvd2VzdEluY2x1ZGVJbmRleCIsInNlZ21lbnRJbmRleCIsImFjdGl2ZVNlZ21lbnRzIiwieTJtaW4iLCJ5biIsImJhbmRJbnRlcnNlY3Rpb25zIiwiYmkxIiwiYmkyIiwicnciLCJnZXRJbm5lclNoYXBlIiwiZ2V0RXhjbHVzaW9ucyIsImNodW5rUG9zaXRpb25zIiwiaW5pdEdlb20iLCJicmVha0F0RWRnZSIsImNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uIiwiaXNGdWxsV2l0aFBhZ2VGbG9hdHMiLCJvcGVuQWxsVmlld3MiLCJuZXh0SW5UcmVlTGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmV0cnllciIsIkNvbHVtbkxheW91dFJldHJ5ZXIiLCJkb0ZpbmlzaEJyZWFrIiwicHNldWRvUGFyZW50IiwiZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImlzQ29sdW1uRnVsbFdpdGhQYWdlRmxvYXRzIiwiZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzIiwic29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImdldFByaW9yaXR5T2ZGaW5pc2hCcmVhayIsInBlbmRpbmciLCJsYXlvdXROZXh0IiwiZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uIiwiYnJlYWtQb3NpdGlvbkNob3NlbiIsImlzUHNldWRvZWxlbWVudCIsImJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyIsImdldEJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyIsImlzRmluaXRlIiwiYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMiLCJpc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQiLCJnZXRFbGVtZW50c09mZnNldHNGb3JUYWJsZUNlbGwiLCJwYXJlbnRDbG9uZWRQYWRkaW5nQm9yZGVyIiwic3RhcnROb2RlQ29udGV4dHMiLCJhbGxvd0JyZWFrQXRTdGFydFBvc2l0aW9uIiwic3RhcnROb2RlQ29udGV4dCIsImNoZWNrcG9pbnRJbmRleCIsInZpZXdJbmRleCIsImJyZWFrQWZ0ZXJTb2Z0SHlwaGVuIiwiYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyIiwidXBkYXRlTm9kZUNvbnRleHQiLCJyZXBsYWNlRGF0YSIsImNoMCIsImNoMSIsIkJhc2UuaXNMZXR0ZXIiLCJMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIiLCJEZWZhdWx0TGF5b3V0TW9kZSIsImluaXRpYWxPdmVyZmxvd24iLCJoYXNOZXh0Q2FuZGlkYXRlIiwibmV4dENhbmRpZGF0ZSIsImZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uIiwicmVmV2lkdGgiLCJyZWZIZWlnaHQiLCJjb252ZXJ0UGVyY2VudGFnZVRvUHgiLCJyZWZWYWx1ZSIsInZhbHVlU3RyaW5nIiwiQmFzZS5nZXRDU1NQcm9wZXJ0eSIsInBlcmNlbnRhZ2VWYWx1ZSIsInJvb3RWaWV3Tm9kZSIsImZsb2F0TWFyZ2lucyIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJyb290U291cmNlTm9kZSIsImdldFJvb3ROb2RlQ29udGV4dCIsImJlbG9uZ3NUbyIsIlNoYXJlZC5yZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsImVsZW1lbnRzIiwiUmVwZXRpdGl2ZUVsZW1lbnRzIiwib3duZXJTb3VyY2VOb2RlIiwiaGVhZGVyTm9kZVBvc2l0aW9uIiwiaGVhZGVyU291cmNlTm9kZSIsImhlYWRlclZpZXdOb2RlIiwiZm9vdGVyTm9kZVBvc2l0aW9uIiwiZm9vdGVyU291cmNlTm9kZSIsImZvb3RlclZpZXdOb2RlIiwiaGVhZGVySGVpZ2h0IiwiZm9vdGVySGVpZ2h0IiwiaXNTa2lwSGVhZGVyIiwiaXNTa2lwRm9vdGVyIiwiZW5hYmxlU2tpcHBpbmdGb290ZXIiLCJlbmFibGVTa2lwcGluZ0hlYWRlciIsInJvb3ROb2RlQ29udGV4dCIsImFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50IiwiTGF5b3V0LlBzZXVkb0NvbHVtbiIsImFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyIsIm1vdmVDaGlsZHJlbiIsImlzQWZ0ZXJMYXN0Q29udGVudCIsImZpbmRSZXN1bHRGcm9tQ2FjaGUiLCJhZnRlckxhc3RDb250ZW50Tm9kZUNhY2hlIiwiaXNBZnRlck5vZGVDb250ZXh0T2YiLCJsYXN0Q29udGVudFNvdXJjZU5vZGUiLCJhZmZlY3RlZE5vZGVDYWNoZSIsImNhY2hlIiwiY2FsY3VsYXRvciIsImNhY2hlRW50cnkiLCJpbmNsdWRlQ2hpbGRyZW4iLCJwYXJlbnRzT2ZOb2RlIiwiY3VycmVudFBhcmVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJmaXJzdENvbnRlbnRTb3VyY2VOb2RlIiwiTGF5b3V0RW50aXJlQmxvY2siLCJkb25lSW5pdGlhbExheW91dCIsInVwZGF0ZUhlaWdodCIsIkxheW91dEZyYWdtZW50ZWRCbG9jayIsIkxheW91dEVudGlyZU93bmVyQmxvY2siLCJkb0luaXRpYWxMYXlvdXQiLCJMYXlvdXRGcmFnbWVudGVkT3duZXJCbG9jayIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImlzRW5hYmxlVG9VcGRhdGVTdGF0ZSIsInVwZGF0ZVN0YXRlIiwicHJldmVudFNraXBwaW5nRm9vdGVyIiwiYXBwZW5kSGVhZGVyVG9GcmFnbWVudCIsImFwcGVuZEZvb3RlclRvRnJhZ21lbnQiLCJwcmVwYXJlTGF5b3V0RnJhZ21lbnQiLCJSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIiLCJwcmV2ZW50U2tpcHBpbmdIZWFkZXIiLCJFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IiwiTGF5b3V0VXRpbC5FZGdlU2tpcHBlciIsImlzSGVhZGVyUmVnaXN0ZXJlZCIsInNldEhlYWRlck5vZGVDb250ZXh0IiwiaXNGb290ZXJSZWdpc3RlcmVkIiwic2V0Rm9vdGVyTm9kZUNvbnRleHQiLCJhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyIsInJlcGV0aXRpdmVMYXlvdXRQcm9jZXNzb3IiLCJMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IiLCJnZXRSb290Vmlld05vZGUiLCJpc0hlYWRlclNvdXJjZU5vZGUiLCJpc0Zvb3RlclNvdXJjZU5vZGUiLCJsYXlvdXRFbnRpcmVCbG9jayIsIkxheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IiLCJpdGVyYXRlIiwiTGF5b3V0LnByb2Nlc3NBZnRlcklmQ29udGludWVzIiwiVGFibGVSb3ciLCJyb3dJbmRleCIsImNlbGwiLCJjZWxscyIsIlRhYmxlQ2VsbCIsImNvbHVtbkluZGV4Iiwidmlld0VsZW1lbnQiLCJjb2xTcGFuIiwicm93U3BhbiIsInNsb3QiLCJhbmNob3JTbG90IiwiVGFibGVTbG90IiwiVGFibGVDZWxsRnJhZ21lbnQiLCJwc2V1ZG9Db2x1bW5Db250YWluZXIiLCJjZWxsTm9kZUNvbnRleHQiLCJUYWJsZUNhcHRpb25WaWV3IiwiQmV0d2VlblRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMiLCJhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zIiwiY2VsbEZyYWdtZW50cyIsImdldENlbGxGcmFnbWVudHMiLCJjZWxsRnJhZ21lbnQiLCJmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUiLCJnZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3ciLCJnZXRSb3dJbmRleCIsImdldENlbGxGcmFnbWVudE9mQ2VsbCIsIkluc2lkZVRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImJlZm9yZU5vZGVDb250ZXh0IiwiYWxsQ2VsbHNCcmVha2FibGUiLCJpc1N0YXJ0Tm9kZUNvbnRleHQiLCJpc0xhc3RBZnRlck5vZGVDb250ZXh0Iiwicm93IiwiZ2V0Um93QnlJbmRleCIsImlzRnJlZWx5RnJhZ21lbnRhYmxlUm93IiwiZ2V0Q2VsbHNGYWxsaW5nT25Sb3ciLCJUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJ0YWJsZVNvdXJjZU5vZGUiLCJjZWxsQnJlYWtQb3NpdGlvbnMiLCJjZWxsTm9kZVBvc2l0aW9uIiwicm93cyIsInJvd1Nsb3RzIiwic2xvdHMiLCJhZGRSb3ciLCJhZGRDZWxsIiwicm93VXBwZXIiLCJnZXRSb3dTbG90cyIsInN0YXJ0Q29sSW5kZXgiLCJzZXRBbmNob3JTbG90IiwidW5pcXVlQ2VsbHMiLCJnZXRNaW5pbXVtSGVpZ2h0IiwidGFibGVXaWR0aCIsImNvbHVtbkNvdW50Iiwic3VtIiwic2V0SGVpZ2h0IiwidGFibGVDZWxsIiwiY29sIiwiY29sbGVjdGVkIiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbiIsImVsZW1lbnRzSW5Db2x1bW4iLCJFbGVtZW50c09mZnNldE9mVGFibGVDZWxsIiwicmVwZWF0aXRpdmVFbGVtZW50c0luQ29sdW1ucyIsImNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uIiwibWF4T2Zmc2V0IiwiaXNWYWxpZFBhcmVudE9mVGFibGVSb3ciLCJza2lwTmVzdGVkVGFibGUiLCJwYXJlbnREaXNwbGF5IiwiaXNOZXN0ZWRJbmxpbmVUYWJsZSIsIkVudGlyZVRhYmxlTGF5b3V0U3RyYXRlZ3kiLCJwb3N0TGF5b3V0QmxvY2tDb250ZW50cyIsImNhcHRpb25WaWV3IiwiY2FwdGlvbnMiLCJpbkhlYWRlck9yRm9vdGVyIiwiaW5Sb3ciLCJjb21wdXRlZFN0eWxlIiwibGFzdFJvd1ZpZXdOb2RlIiwicmVnaXN0ZXJDaGVja1BvaW50IiwiVGFibGVMYXlvdXRTdHJhdGVneSIsIm9yaWdpbmFsU3RvcEF0T3ZlcmZsb3ciLCJjb2xXaWR0aHMiLCJzdGFydENodW5rUG9zaXRpb24iLCJjZWxsVmlld05vZGUiLCJnZXRDb2xTcGFubmluZ0NlbGxXaWR0aCIsImFkZENlbGxGcmFnbWVudCIsInNsb3RJbmRleCIsImNlbGxCcmVha1Bvc2l0aW9uIiwicm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMiLCJjdXJyZW50Um93SW5kZXgiLCJleHRyYWN0Um93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMiLCJyb3dDb3VudCIsImN1cnJlbnRSb3ciLCJzcGFubmluZ0NlbGxSb3dJbmRleCIsIm9jY3VwaWVkU2xvdEluZGljZXMiLCJyb3dDZWxsQnJlYWtQb3NpdGlvbnMiLCJyb3dOb2RlQ29udGV4dCIsImNvbnQxIiwiYWRkRHVtbXlDZWxsVW50aWwiLCJ1cHBlckNvbHVtbkluZGV4IiwiZHVtbXkiLCJicmVha0NodW5rUG9zaXRpb24iLCJsYXlvdXRDZWxsIiwiZ2V0Q29sdW1uQ291bnQiLCJpbkhlYWRlciIsImluRm9vdGVyIiwiY3VycmVudENvbHVtbkluZGV4IiwibGF5b3V0Um93U3Bhbm5pbmdDZWxsc0Zyb21QcmV2aW91c0ZyYWdtZW50IiwicmVnaXN0ZXJDZWxsRnJhZ21lbnRJbmRleCIsInJlc2V0Q29sdW1uIiwidGROb2RlU3RlcCIsImdldEVsZW1lbnRPZmZzZXQiLCJMYXlvdXQucmVnaXN0ZXJGcmFnbWVudEluZGV4IiwiYWZ0ZXJOb2RlQ29udGV4dCIsImhhc0Jyb2tlbkNlbGxBdFNsb3QiLCJzdGFydE5vZGVQb3NpdGlvbiIsInN0YXJ0VGFibGVSb3ciLCJzdGFydFRhYmxlQ2VsbCIsImlnbm9yZUxpc3QiLCJ0YWJsZS1jYXB0aW9uIiwidGFibGUtY29sdW1uLWdyb3VwIiwidGFibGUtY29sdW1uIiwidGFibGVMYXlvdXRPcHRpb25DYWNoZSIsIlRhYmxlTGF5b3V0UHJvY2Vzc29yIiwibGFzdFJvdyIsImR1bW15Um93IiwiZHVtbXlDZWxscyIsInRhYmxlRWxlbWVudCIsImNvbEdyb3VwcyIsImZpcnN0RWxlbWVudENoaWxkIiwiY29scyIsImNvbEdyb3VwIiwiZ2V0Q29sdW1uV2lkdGhzIiwiZ2V0Q29sR3JvdXBFbGVtZW50cyIsIm5vcm1hbGl6ZUFuZEdldENvbEVsZW1lbnRzIiwiYWRkTWlzc2luZ0NvbEVsZW1lbnRzIiwiaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyIsInRhYmxlTGF5b3V0T3B0aW9uIiwidGFibGVSb290U291cmNlTm9kZSIsInBhaXIiLCJsYXlvdXRFbnRpcmVUYWJsZSIsInRhYmxlQkJveCIsImNhbGN1bGF0ZUJyZWFrUG9zaXRpb25zSW5zaWRlIiwiRW50aXJlVGFibGVCcmVha1Bvc2l0aW9uIiwibm9ybWFsaXplQ29sR3JvdXBzIiwidXBkYXRlQ2VsbFNpemVzIiwiY2FwdGlvbiIsImFkZENhcHRpb25zIiwiYWRkQ29sR3JvdXBzIiwiaXRlcmF0b3IiLCJSZXBldGl0aXZlRWxlbWVudEltcGwuYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMiLCJMYXlvdXRSZXRyeWVyIiwiY2VsbENvbnRlbnRFbGVtZW50IiwiZ2V0Q29sdW1uRWxlbWVudCIsImNlbGxFbGVtZW50IiwiY2VsbEVsZW1lbnRSZWN0IiwiZmluaXNoRnJhZ21lbnQiLCJ0YWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiTGF5b3V0RnJhZ21lbnRlZFRhYmxlIiwiTGF5b3V0RW50aXJlVGFibGUiLCJyZW1vdmVDb2xHcm91cHMiLCJSZXBldGl0aXZlRWxlbWVudEltcGwuTGF5b3V0RW50aXJlQmxvY2siLCJ0YWJsZU5vZGVDb250ZXh0IiwiRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50IiwidGFibGVSb290Tm9kZSIsIlJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRGcmFnbWVudGVkQmxvY2siLCJUYWJsZVJvd0xheW91dENvbnN0cmFpbnQiLCJlcXVhbHNUbyIsIlJlcGV0aXRpdmVFbGVtZW50SW1wbC5SZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQiLCJjb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMiLCJjZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsInJlbW92ZUR1bW15Um93Tm9kZXMiLCJhcnJheSIsImR1bW15Tm9kZSIsImdldENlbGxGcmFnZW1udHMiLCJmaW5kQ2VsbEZyb21Db2x1bW4iLCJjb2xsZWN0RWxlbWVudHNPZmZzZXRPZlVwcGVyQ2VsbHMiLCJjb2xsZWN0RWxlbWVudHNPZmZzZXRPZkhpZ2hlc3RDb2x1bW4iLCJ0YWJsZUxheW91dFByb2Nlc3NvciIsIm1lYW4iLCJDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdCIsImxheW91dFJlc3VsdCIsImdldEJsb2NrU2l6ZSIsInNldEJsb2NrU2l6ZSIsIkNvbHVtbkJhbGFuY2VyIiwibGF5b3V0Q29udGFpbmVyIiwiY29sdW1uR2VuZXJhdG9yIiwicmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsIm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplIiwicHJlQmFsYW5jZSIsInNhdmVQYWdlRmxvYXRMYXlvdXRDb250ZXh0cyIsImNhbmRpZGF0ZXMiLCJjcmVhdGVUcmlhbFJlc3VsdCIsInVwZGF0ZUNvbmRpdGlvbiIsInJlc3RvcmVDb250ZW50cyIsInBvc3RCYWxhbmNlIiwiY2FsY3VsYXRlUGVuYWx0eSIsImRldGFjaENoaWxkcmVuIiwiY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMiLCJuZXdMYXlvdXRSZXN1bHQiLCJjb2x1bW5zIiwiYXR0YWNoQ2hpbGRyZW4iLCJjYW5SZWR1Y2VDb250YWluZXJTaXplIiwibGFzdENhbmRpZGF0ZSIsInNlY29uZExhc3RDYW5kaWRhdGUiLCJyZWR1Y2VDb250YWluZXJTaXplIiwibmV3RWRnZSIsIkJhbGFuY2VMYXN0Q29sdW1uQmFsYW5jZXIiLCJ0b3RhbEJsb2NrU2l6ZSIsIm9yaWdpbmFsUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uIiwiaXNMYXN0Q29sdW1uTG9uZ2VyVGhhbkFueU90aGVyQ29sdW1uIiwiZm91bmRVcHBlckJvdW5kIiwibGFzdENvbHVtbkJsb2NrU2l6ZSIsIkJhbGFuY2VOb25MYXN0Q29sdW1uQmFsYW5jZXIiLCJtZWFuVmFsdWUiLCJTbGlwUmFuZ2UiLCJlbmRTdHVja0ZpeGVkIiwiZW5kRml4ZWQiLCJlbmRTbGlwcGVkIiwiU2xpcE1hcCIsInNsaXBwZWQiLCJCb3giLCJhdEJsb2NrU3RhcnQiLCJhdEZsb3dTdGFydCIsImlzUGFyZW50Qm94RGlzcGxheWVkIiwiaGFzQm94IiwiX3BzZXVkb3MiLCJiZWZvcmVCb3giLCJzdHlsZVZhbHVlIiwiZ2V0QnJlYWtWYWx1ZSIsImFmdGVyQm94Iiwic3R5bGVWYWx1ZXMiLCJjdiIsImlzQmxvY2tWYWx1ZSIsImRpc3BsYXlWYWx1ZSIsImhhc0JveFZhbHVlIiwiQm94U3RhY2siLCJsYXN0Qm94IiwibmV3Rmxvd0NodW5rIiwiYXRTdGFydFN0YWNrIiwiaXNBdEZsb3dTdGFydCIsImlzQ3VycmVudEJveERpc3BsYXllZCIsIlZ0cmVlLmNhbklnbm9yZSIsIlZ0cmVlLndoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZSIsImJ1aWxkQWZ0ZXJQc2V1ZG9FbGVtZW50Qm94IiwiYXRTdGFydCIsIlN0eWxlciIsInByaW1hcnlGbG93cyIsImNhc2NhZGVIb2xkZXIiLCJjcmVhdGVJbnN0YW5jZSIsIm9mZnNldE1hcCIsInJvb3RPZmZzZXQiLCJsYXN0T2Zmc2V0IiwiYm94U3RhY2siLCJhZGRTdHVja1JhbmdlIiwiZ2V0QXR0clN0eWxlIiwicHVzaEVsZW1lbnQiLCJwb3N0cHJvY2Vzc1RvcFN0eWxlIiwiYm9keVJlYWNoZWQiLCJwcmltYXJ5U3RhY2siLCJyZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0Iiwic3JjU3R5bGUiLCJwbmFtZSIsInJvb3RTdHlsZSIsImVsZW1TdHlsZSIsImlzQm9keSIsInJvb3RCYWNrZ3JvdW5kQXNzaWduZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoYXNQcm9wIiwiYmFja2dyb3VuZFByb3BzIiwiYmFja2dyb3VuZEltYWdlIiwidHJhbnNmZXJQcm9wc1RvUm9vdCIsInJvb3RMYXlvdXRBc3NpZ25lZCIsImNvbHVtblByb3BzIiwibGF5b3V0UHJvcHMiLCJ1bml0U2l6ZSIsInN0eWxlVW50aWwiLCJDU1NTdHlsZURlY2xhcmF0aW9uIiwic3R5bGVBdHRyVmFsdWUiLCJDc3NDYXNjYWRlLnBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJDc3NDYXNjYWRlLmdldFByb3AiLCJmbG93TmFtZVN0ciIsImVuY291bnRlcmVkRmxvd0VsZW1lbnQiLCJnZXROb2RlQnlPZmZzZXQiLCJub2RlT2Zmc2V0IiwiZ2V0Tm9kZU9mZnNldCIsImZsb3dMaXN0ZW5lciIsImZsb3dDaHVua3MiLCJlbmNvdW50ZXJlZEZsb3dDaHVuayIsImZsb3dUb1JlYWNoIiwiaWRUb1JlYWNoIiwib3B0aW9uc0NWIiwic3RhdGljIiwibGluZ2VyQ1YiLCJDc3NQcm9wLnRvSW50IiwicHJpb3JpdHlDViIsImJyZWFrQmVmb3JlVmFsdWVzIiwiZmxvdyIsImxhc3RGbG93TmFtZSIsIlZ0cmVlLkZsb3ciLCJWdHJlZS5GbG93Q2h1bmsiLCJmb3JjZWRCcmVha09mZnNldHMiLCJwcmV2aW91c1ZhbHVlIiwibG9va3VwIiwic2xpcHBlZE9mZnNldCIsInRhcmdldFNsaXBwZWRPZmZzZXQiLCJzbGlwcGVkQnlGaXhlZCIsImdldE1heFNsaXBwZWQiLCJmaXhlZEJ5U2xpcHBlZCIsInBvcEVsZW1lbnQiLCJhZnRlclBzZXVkb0JyZWFrQmVmb3JlIiwicmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldCIsIm5lYXJlc3RCbG9ja1N0YXJ0T2Zmc2V0IiwiZW5jb3VudGVyZWRUZXh0Tm9kZSIsImFkZFNsaXBwZWRSYW5nZSIsImJsb2NrU3RhcnRPZmZzZXQiLCJiZWZvcmVQc2V1ZG9CcmVha0FmdGVyIiwidmFsaWRhdG9yIiwiQ29ubmVjdGlvbiIsIndoZXJlIiwiVmFsaWRhdGluZ0dyb3VwIiwibm9kZUluZGV4IiwiY29ubmVjdGlvbnMiLCJ3aGF0IiwiZ3JvdXAiLCJjbG9uZWROb2RlIiwiY29ubmVjdGlvbiIsImdyb3VwQ29ubmVjdGlvbiIsIm5vbWF0Y2giLCJjbGF1c2UiLCJBTFdBWVNfRkFJTCIsIm1hcmtBc1N0YXJ0QWx0ZXJuYXRlIiwibWFya0FzRW5kQWx0ZXJuYXRlIiwibWFya0FzU3RhcnRHcm91cCIsIm1hcmtBc0VuZEdyb3VwIiwiY29ubmVjdCIsImZhaWx1cmUiLCJhcnJzIiwiYWRkU3BlY2lhbFRvQXJyIiwiZW1wdHlIZWFkIiwiaXNTaW1wbGUiLCJQcmltaXRpdmVWYWxpZGF0b3IiLCJob3ciLCJBTFRFUk5BVEUiLCJpc1ByaW1pdGl2ZSIsImNvbWJpbmUiLCJjb25uZWN0aW9uSW5kZXgiLCJSRVBFQVRFRCIsIk9QVElPTkFMIiwic3VjY2Vzc1Rlcm1pbmFsIiwiZmFpbFRlcm1pbmFsIiwiUHJvcGVydHlWYWxpZGF0b3IiLCJydmFsIiwiaWRlbnRzIiwidW5pdHMiLCJOT19JREVOVFMiLCJMaXN0VmFsaWRhdG9yIiwiZmFpbHVyZVRlcm1pbmFsIiwic3RhcnRJbmRleCIsImFsdGVybmF0aXZlU3RhY2siLCJhbHRlcm5hdGl2ZXMiLCJpbnZhbCIsIm91dHZhbCIsImlzU3RhcnRHcm91cCIsImlzRW5kR3JvdXAiLCJpc0VuZEFsdGVybmF0ZSIsImdldEFsdGVybmF0ZSIsIlNwYWNlTGlzdFZhbGlkYXRvciIsIkNvbW1hTGlzdFZhbGlkYXRvciIsInZhbGlkYXRlU2luZ2xlIiwidmFsaWRhdGVMaXN0IiwiaGFzQ29tbWFMaXN0VmFsaWRhdG9yIiwidmFsaWRhdGVGb3JTaG9ydGhhbmQiLCJGdW5jVmFsaWRhdG9yIiwiU2hvcnRoYW5kU3ludGF4Tm9kZSIsInNob3J0aGFuZFZhbGlkYXRvciIsIlNob3J0aGFuZFN5bnRheFByb3BlcnR5IiwidmFsaWRhdG9ycyIsInJ2YWxzIiwibGVuIiwiU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOIiwiU2hvcnRoYW5kU3ludGF4Q29tcG91bmQiLCJpbmRleDAiLCJ0cnlQYXJzZSIsIlNob3J0aGFuZFZhbGlkYXRvciIsInN5bnRheCIsInByb3BMaXN0IiwicmVjZWl2ZXIiLCJkZWZhdWx0VmFsdWVzIiwiU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yIiwiSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yIiwic2hvcnRoYW5kVmFsaWRhdG9ycyIsIlNJTVBMRSIsIklOU0VUUyIsIklOU0VUU19TTEFTSCIsInNsYXNoSW5kZXgiLCJpbmRleDEiLCJ2YWxzIiwiYWNjIiwiRk9OVCIsImZhbWlseUxpc3QiLCJmYW1pbHkiLCJzeXN0ZW1Gb250cyIsIlZhbGlkYXRvclNldCIsImNzc3ZhbCIsIkNzc1BhcnNlci5jb2xvckZyb21IYXNoIiwic3ViZ3JvdXAiLCJzdGFydENsYXVzZSIsImFkZEdyb3VwIiwiRk9MTE9XIiwiZW5kQ2xhdXNlIiwic3RhcnRTcGVjaWFsR3JvdXAiLCJlbmRTcGVjaWFsR3JvdXAiLCJhZGRQcmltaXRpdmUiLCJwcmltaXRpdmUiLCJuYW1lZFZhbGlkYXRvcnMiLCJIQVNIQ09MT1IiLCJQT1NfSU5UIiwiUE9TX05VTSIsIlBPU19QRVJDRU5UQUdFIiwiJSIsIk5FR0FUSVZFIiwiWkVSTyIsIlpFUk9fUEVSQ0VOVEFHRSIsIlBPU19MRU5HVEgiLCJ2aSIsInZtaW4iLCJ2bWF4IiwicHZpIiwicHZiIiwicHZtaW4iLCJwdm1heCIsIlBPU19BTkdMRSIsImRlZyIsImdyYWQiLCJyYWQiLCJ0dXJuIiwiUE9TX1RJTUUiLCJtcyIsIkZSRVFVRU5DWSIsIkh6Iiwia0h6IiwiUkVTT0xVVElPTiIsIlVSSSIsIlNUUklORyIsInN0ZGZvbnQiLCJpY29uIiwibWVudSIsInNlY3Rpb24iLCJydWxlUHJlZml4ZXMiLCJpc0J1aWx0SW4iLCJwcmVmaXhlcyIsInJlYWROYW1lQW5kUHJlZml4ZXMiLCJleHBlY3R2YWwiLCJuZXdHcm91cCIsInNldG9wIiwiY3Vycm9wIiwiYnVpbHRJbiIsIm5ld0Z1bmMiLCJhZGRSZXBsYWNlbWVudCIsImFkZENvdW50cyIsInNldE93bmVyIiwic3ludGF4Tm9kZUZvclByb3BlcnR5Iiwic2hvcnRoYW5kcyIsImluc2V0U2hvcnRoYW5kIiwiY3JlYXRlU3ludGF4Tm9kZSIsImNvbXBvdW5kIiwicGFyc2VWYWxpZGF0b3JzIiwicGFyc2VEZWZhdWx0cyIsInBhcnNlU2hvcnRoYW5kcyIsIm1ha2VQcm9wU2V0Iiwic2hvcnRoYW5kIiwicHZhbCIsIm9yaWdOYW1lIiwidW5rbm93blByb3BlcnR5IiwicnZhbHVlIiwiaW52YWxpZFByb3BlcnR5VmFsdWUiLCJwcm9wYWdhdGVJbmhlcml0IiwiYmFzZVZhbGlkYXRvclNldCIsImluaXRCdWlsdEluVmFsaWRhdG9ycyIsInRyYWl0UHJvcHMiLCJib2d1c0ZvbnREYXRhIiwiYm9ndXNGb250Q291bnRlciIsInByZXBhcmVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsIkZhY2UiLCJmb250VHJhaXRLZXkiLCJmb250Qnl0ZXMiLCJibG9iVVJMIiwiYmxvYiIsIndlYmtpdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2JVUkxzIiwiYmxvYnMiLCJEb2N1bWVudEZhY2VzIiwiZGVvYmZ1c2NhdG9yIiwic3JjRmFjZSIsInZpZXdGYWNlIiwic3JjRmFtaWx5Iiwidmlld0ZhbWlseUZyb21TcmMiLCJmYW1pbHlNYXAiLCJ2aWV3RmFtaWx5RnJvbVZpZXciLCJuZXdWYWx1ZXMiLCJyZiIsIk1hcHBlciIsIm9wdF9mYW1pbHlQcmVmaXgiLCJmYW1pbHlQcmVmaXgiLCJkb2N1bWVudEZhY2VzIiwidmlld0ZhbWlseSIsImZhbWlseUNvdW50ZXIiLCJnZXRWaWV3Rm9udEZhbWlseSIsInZpZXdGb250RmFjZSIsImtpbGxUaW1lIiwiYm9ndXNEYXRhIiwibWFrZUF0UnVsZSIsIk5ldC5tYWtlQmxvYiIsImluaXRXaWR0aCIsImluaXRIZWlnaHQiLCJsb2FkZWQiLCJjdXJyV2lkdGgiLCJjdXJySGVpZ2h0Iiwic2xlZXAiLCJzcmNVUkxNYXAiLCJwaWdneWJhY2siLCJ2aWV3RmFjZVBhcmFtIiwidHJhaXRzRXF1YWwiLCJyZWdpc3RlckZhbWlseSIsIk5ldC5YTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSIsIkJMT0IiLCJpbml0Rm9udCIsInNyY0ZhY2VzIiwibG9hZEZvbnQiLCJUYXNrVXRpbC53YWl0Rm9yRmV0Y2hlcnMiLCJrZXlDb3VudCIsIlBhZ2VCb3giLCJfc2NvcGUiLCJwYXJlbnRJbnN0YW5jZSIsInBhcmFtIiwiZGVzdFNwZWNpZmllZCIsIlJvb3RQYWdlQm94IiwiQ3NzLmZ1bGxXaWR0aCIsIkNzcy5mdWxsSGVpZ2h0IiwiUGFnZU1hc3RlclNjb3BlIiwiRXhwcnMuTGV4aWNhbFNjb3BlIiwicGFnZU1hc3RlciIsImlzRnVuYyIsImtleU1hcCIsImJveEluc3RhbmNlIiwibG9va3VwSW5zdGFuY2UiLCJyZXNvbHZlRnVuYyIsInJlc29sdmVOYW1lIiwiUGFnZU1hc3RlciIsIlBhZ2VNYXN0ZXJJbnN0YW5jZSIsImNvcHlTcGVjaWZpZWQiLCJjbG9uZUNoaWxkcmVuIiwiUGFydGl0aW9uR3JvdXAiLCJQYXJ0aXRpb25Hcm91cEluc3RhbmNlIiwiUGFydGl0aW9uIiwiUGFydGl0aW9uSW5zdGFuY2UiLCJ0b0V4cHJBdXRvIiwidG9FeHByWmVybyIsInRvRXhwclplcm9BdXRvIiwidG9FeHByWmVyb0JvcmRlciIsInN0eWxlVmFsIiwidG9FeHByQm9vbCIsIlBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VCb3giLCJjYWxjdWxhdGVkV2lkdGgiLCJjYWxjdWxhdGVkSGVpZ2h0IiwiRXhwcnMuYWRkIiwibmFtZWRWYWx1ZXMiLCJhZGROYW1lZFZhbHVlcyIsImFsdE5hbWUiLCJDc3NDYXNjYWRlLmNvdXBsaW5nTWFwVmVydCIsIkNzc0Nhc2NhZGUuY291cGxpbmdNYXBIb3IiLCJuYW1lZEZ1bmNzIiwiY29sdW1uR2FwIiwiRXhwcnMuc3ViIiwiRXhwcnMubXVsIiwibWluUGFnZVdpZHRoIiwibWluUGFnZUhlaWdodCIsImJveFNwZWNpZmljRW5hYmxlZCIsInBhcmVudFdpZHRoIiwibGVmdEJQIiwicmlnaHRCUCIsImV4dHJhIiwiYXV0b1dpZHRoIiwiaXNBdXRvV2lkdGgiLCJyZW1haW5zIiwicGFyZW50SGVpZ2h0IiwidG9wQlAiLCJib3R0b21CUCIsImF1dG9IZWlnaHQiLCJpc0F1dG9IZWlnaHQiLCJFeHBycy5kaXYiLCJkZXBlbmQiLCJyZWdpc3Rlckluc3RhbmNlIiwiZ2V0QWN0aXZlUmVnaW9ucyIsIkNzc0Nhc2NhZGUuZmxhdHRlbkNhc2NhZGVkU3R5bGUiLCJDc3NDYXNjYWRlLmlzVmVydGljYWwiLCJDc3NDYXNjYWRlLmlzUnRsIiwiQ3NzQ2FzY2FkZS5jb252ZXJ0VG9QaHlzaWNhbCIsImluaXRIb3Jpem9udGFsIiwiaW5pdFZlcnRpY2FsIiwiaW5pdENvbHVtbnMiLCJpbml0RW5hYmxlZCIsIkNzcy50b051bWJlciIsIkNzc0Nhc2NhZGUuZ2V0U3BlY2lhbCIsImRvY0ZhY2VzIiwicHJvcGFnYXRlUHJvcGVydHlUb0VsZW1lbnQiLCJFeHBycy5uZWVkVW5pdENvbnZlcnNpb24iLCJDc3MuY29udmVydE51bWVyaWNUb1B4IiwiZmlsdGVyRm9udEZhbWlseSIsIlZ0cmVlLkRlbGF5ZWRJdGVtIiwiZ2V0UHJvcEFzTnVtYmVyIiwieHBvcyIsInNuYXBPZmZzZXRYIiwieXBvcyIsInNuYXBPZmZzZXRZIiwiYXNzaWduUmlnaHRQb3NpdGlvbiIsImFzc2lnblRvcFBvc2l0aW9uIiwiYXNzaWduTGVmdFBvc2l0aW9uIiwiYXNzaWduQm90dG9tUG9zaXRpb24iLCJpc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodCIsImlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aCIsInNpemVXaXRoTWF4V2lkdGgiLCJzaXplV2l0aE1heEhlaWdodCIsImFzc2lnbkJlZm9yZVBvc2l0aW9uIiwiYXNzaWduQWZ0ZXJQb3NpdGlvbiIsImFzc2lnblN0YXJ0RW5kUG9zaXRpb24iLCJwYXNzUHJlUHJvcGVydGllcyIsInByb3BhZ2F0ZVByb3BlcnR5IiwicGFzc0NvbnRlbnRQcm9wZXJ0aWVzIiwicGFzc1NpbmdsZVVyaUNvbnRlbnRQcm9wZXJ0aWVzIiwicmVhZEhlaWdodCIsInJlYWRXaWR0aCIsImJib3giLCJydWxlV2lkdGgiLCJydWxlU3R5bGUiLCJydWxlQ29sb3IiLCJjb250YWluZXJTaXplIiwiYm9yZGVyIiwicnVsZSIsInBhc3NQb3N0UHJvcGVydGllcyIsImRlbGF5ZWRQcm9wZXJ0aWVzIiwicHJvcGFnYXRlRGVsYXllZFByb3BlcnR5IiwiZG9jRWxlbWVudFN0eWxlIiwiQ3NzQ2FzY2FkZS5pc1Byb3BOYW1lIiwiQ3NzQ2FzY2FkZS5zZXRQcm9wIiwidXNlckFnZW50UGFnZU1hc3RlclBzZXVkbyIsInB1c2hSdWxlIiwiQ3NzQ2FzY2FkZS5Db250ZW50UHJvcFZpc2l0b3IiLCJhcHBseUNhc2NhZGVBbmRJbml0IiwicG9wUnVsZSIsImRlcGVuZHMiLCJjaGlsZEluc3RhbmNlIiwicmVzb2x2ZUF1dG9TaXppbmciLCJSb290UGFnZUJveEluc3RhbmNlIiwicGFnZU1hc3Rlckluc3RhbmNlIiwibGlzdFZhbCIsImNvbmZsaWN0aW5nIiwiQ3NzLklkZW50IiwicW5hbWUiLCJ0ZXJtIiwicmVxdWlyZWQiLCJwcm9jZXNzUGFydGl0aW9uTGlzdCIsInBtRW5hYmxlZFZhbCIsInBtRW5hYmxlZCIsInByZXBhcmVDb250YWluZXIiLCJQYWdlQm94UGFyc2VySGFuZGxlciIsIlBhcnRpdGlvblBhcnNlckhhbmRsZXIiLCJQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIiLCJDc3MuaHVuZHJlZFBlcmNlbnQiLCJwYXJ0aXRpb24iLCJwYXJ0aXRpb25Hcm91cCIsIlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyIiwicmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIkNvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24iLCJwYWdlU2l6ZXMiLCJhNSIsImE0IiwiYTMiLCJiNSIsImI0IiwiamlzLWI1IiwiamlzLWI0IiwibGV0dGVyIiwibGVnYWwiLCJsZWRnZXIiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGgiLCJkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoIiwiZGVmYXVsdEJsZWVkT2Zmc2V0IiwicmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQiLCJwYWdlU2l6ZUFuZEJsZWVkIiwiYmxlZWQiLCJDc3MubnVtZXJpY1plcm8iLCJibGVlZE9mZnNldCIsInZhbDEiLCJpc1NwYWNlTGlzdCIsIm1hcmtzIiwiaGFzQ3JvcCIsImV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZCIsImV2YWx1YXRlZCIsImNyb3BPZmZzZXQiLCJjcmVhdGVQcmludGVyTWFya1N2ZyIsImNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudCIsImxpbmVXaWR0aCIsImVsZW1lbnRUeXBlIiwiQ29ybmVyTWFya1Bvc2l0aW9uIiwiQ3Jvc3NNYXJrUG9zaXRpb24iLCJwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uIiwib3V0bGluZSIsIm91dGxpbmUtd2lkdGgiLCJvdXRsaW5lLXN0eWxlIiwib3V0bGluZS1jb2xvciIsIk1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsInBhZ2VNYXJnaW5Cb3hlcyIsInRvcC1sZWZ0LWNvcm5lciIsImlzSW5Ub3BSb3ciLCJpc0luQm90dG9tUm93IiwiaXNJbkxlZnRDb2x1bW4iLCJpc0luUmlnaHRDb2x1bW4iLCJwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24iLCJ0b3AtbGVmdCIsIlNUQVJUIiwidG9wLWNlbnRlciIsIkNFTlRFUiIsInRvcC1yaWdodCIsInRvcC1yaWdodC1jb3JuZXIiLCJyaWdodC10b3AiLCJyaWdodC1taWRkbGUiLCJyaWdodC1ib3R0b20iLCJib3R0b20tcmlnaHQtY29ybmVyIiwiYm90dG9tLXJpZ2h0IiwiYm90dG9tLWNlbnRlciIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLWxlZnQtY29ybmVyIiwibGVmdC1ib3R0b20iLCJsZWZ0LW1pZGRsZSIsImxlZnQtdG9wIiwicGFnZU1hcmdpbkJveE5hbWVzIiwiUGFnZVJ1bGVNYXN0ZXIiLCJQYWdlTWFzdGVyLlBhZ2VNYXN0ZXIiLCJwYWdlU2l6ZSIsIlBhZ2VSdWxlUGFydGl0aW9uIiwiYm9keVBhcnRpdGlvbktleSIsImNyZWF0ZVBhZ2VNYXJnaW5Cb3hlcyIsImFwcGx5U3BlY2lmaWVkIiwibWFyZ2luQm94ZXNNYXAiLCJfbWFyZ2luQm94ZXMiLCJQYWdlTWFyZ2luQm94UGFydGl0aW9uIiwiUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSIsIlBhZ2VNYXN0ZXIuUGFydGl0aW9uIiwiUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZSIsIm1hcmdpbkJveE5hbWUiLCJvd25TdHlsZSIsIm93blZhbCIsIkNzc0Nhc2NhZGUuaW5oZXJpdGVkUHJvcHMiLCJQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2UiLCJQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSIsInBhZ2VSdWxlTWFzdGVyIiwicGFnZUFyZWFEaW1lbnNpb24iLCJib3JkZXJCb3hXaWR0aCIsImJvcmRlckJveEhlaWdodCIsIm1hcmdpbkJveENvbnRhaW5lcnMiLCJtYXJnaW5Cb3hlcyIsImhvcml6b250YWxEaW1lbnNpb25zIiwidmVydGljYWxEaW1lbnNpb25zIiwic2l6ZU1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsImlzSG9yaXpvbnRhbCIsImNvbnRhaW5lcnMiLCJib3hJbnN0YW5jZXMiLCJib3hQYXJhbXMiLCJib3hJbmZvIiwicGFnZU1hcmdpbkJveEluc3RhbmNlcyIsImJveFBhcmFtIiwiU2luZ2xlQm94TWFyZ2luQm94U2l6aW5nUGFyYW0iLCJldmFsdWF0ZWREaW0iLCJnZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uIiwibmVlZFJlY2FsY3VsYXRlIiwibWF4T3V0ZXJTaXplcyIsIlBhZ2VNYXN0ZXIudG9FeHByQXV0byIsImV2YWx1YXRlZE1heFNpemUiLCJGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbSIsImdldE91dGVyU2l6ZSIsIm1pbk91dGVyU2l6ZXMiLCJtaW5TaXplIiwiZXZhbHVhdGVkTWluU2l6ZSIsInN0YXJ0RW5kU3VtIiwib3V0ZXJTaXplIiwiYXZhaWxhYmxlU2l6ZSIsInN0YXJ0Qm94UGFyYW0iLCJjZW50ZXJCb3hQYXJhbSIsImVuZEJveFBhcmFtIiwic3RhcnRFbmRCb3hQYXJhbSIsIk11bHRpcGxlQm94ZXNNYXJnaW5Cb3hTaXppbmdQYXJhbSIsImNlbnRlclNpemVzIiwiZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyIsInhTaXplIiwic3RhcnRFbmRBdXRvU2l6ZSIsImhhc0F1dG9TaXplIiwic3RhcnRFbmRTaXplcyIsInlTaXplIiwieE91dGVyTWF4Q29udGVudFNpemUiLCJnZXRPdXRlck1heENvbnRlbnRTaXplIiwieU91dGVyTWF4Q29udGVudFNpemUiLCJtYXhDb250ZW50U2l6ZVN1bSIsInhPdXRlck1pbkNvbnRlbnRTaXplIiwiZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSIsIm1pbkNvbnRlbnRTaXplU3VtIiwiaGFzQXV0b1NpemVfIiwiZml4ZWRTaXplIiwiUGFnZU1hc3Rlci5QYXJ0aXRpb25JbnN0YW5jZSIsInBhZ2VSdWxlUGFydGl0aW9uIiwic2V0UGFnZUFyZWFEaW1lbnNpb24iLCJyZXNvbHZlUGFnZUJveERpbWVuc2lvbnMiLCJib3JkZXJCb3hFeHRlbnQiLCJtYXJnaW5TdGFydCIsIm1hcmdpbkVuZCIsImVuZFNpZGUiLCJleHRlbnROYW1lIiwicGFnZUV4dGVudCIsInBhZGRpbmdTdGFydCIsIlBhZ2VNYXN0ZXIudG9FeHByWmVybyIsInBhZGRpbmdFbmQiLCJib3JkZXJTdGFydFdpZHRoIiwiUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyIiwiYm9yZGVyRW5kV2lkdGgiLCJwYWdlTWFyZ2luQm94UGFydGl0aW9uIiwiYXBwbHlWZXJ0aWNhbEFsaWduIiwiZmxleEFsaWduIiwiYXZhaWxhYmxlRXh0ZW50Iiwib3V0ZXJFeHRlbnQiLCJpbnNpZGVOYW1lIiwib3V0c2lkZU5hbWUiLCJvdXRzaWRlIiwicGFnZU1hcmdpbiIsIm1hcmdpbkluc2lkZSIsIlBhZ2VNYXN0ZXIudG9FeHByWmVyb0F1dG8iLCJtYXJnaW5PdXRzaWRlIiwicGFkZGluZ0luc2lkZSIsInBhZGRpbmdPdXRzaWRlIiwiYm9yZGVySW5zaWRlV2lkdGgiLCJib3JkZXJPdXRzaWRlV2lkdGgiLCJnZXRDb21wdXRlZFZhbHVlcyIsInBhZ2VNYXJnaW5WYWx1ZSIsImJvcmRlckFuZFBhZGRpbmciLCJwb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uIiwiZmluaXNoQ29udGFpbmVyIiwiUGFnZU1hbmFnZXIiLCJyb290UGFnZUJveEluc3RhbmNlIiwiZGVmaW5lUGFnZVByb2dyZXNzaW9uIiwiaXNFdmVuUGFnZSIsInBhZ2VQcm9ncmVzc2lvbiIsInJlc2V0U2NvcGUiLCJtYWtlQ2FjaGVLZXkiLCJwYWdlTWFzdGVyQ2FjaGUiLCJQYWdlTWFzdGVyLnVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8iLCJnZW5lcmF0ZVBhZ2VSdWxlTWFzdGVyIiwiZ2VuZXJhdGVDYXNjYWRlZFBhZ2VNYXN0ZXIiLCJwcm9wc1N0ciIsIm1ha2VDYXNjYWRlVmFsdWVPYmplY3RLZXkiLCJuZXdQYWdlTWFzdGVyIiwicGFnZU1hc3RlclN0eWxlIiwiQ3NzQ2FzY2FkZS5jYXNjYWRlVmFsdWVzIiwiQ2hlY2tQYWdlVHlwZUFjdGlvbiIsIkNzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiIsIklzRmlyc3RQYWdlQWN0aW9uIiwiSXNMZWZ0UGFnZUFjdGlvbiIsIklzUmlnaHRQYWdlQWN0aW9uIiwiSXNSZWN0b1BhZ2VBY3Rpb24iLCJJc1ZlcnNvUGFnZUFjdGlvbiIsIkFwcGx5UGFnZVJ1bGVBY3Rpb24iLCJDc3NDYXNjYWRlLkFwcGx5UnVsZUFjdGlvbiIsIkNzc0Nhc2NhZGUubWVyZ2VJbiIsInRhcmdldE1hcCIsIkNzc0Nhc2NhZGUuZ2V0TXV0YWJsZVN0eWxlTWFwIiwiYm94TmFtZSIsInRhcmdldEJveCIsIlBhZ2VQYXJzZXJIYW5kbGVyIiwiQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlciIsInBhZ2VQcm9wcyIsImN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciIsImN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCJjdXJyZW50UGFnZVNlbGVjdG9ycyIsImZpbmlzaFNlbGVjdG9yIiwic2VsZWN0b3IiLCJub1BhZ2VTZWxlY3RvclByb3BzIiwicHJldkNhc2NWYWwiLCJtYXJnaW5Cb3hNYXAiLCJib3hTdHlsZSIsIlBhZ2VNYXJnaW5Cb3hQYXJzZXJIYW5kbGVyIiwidHJhbnNmb3JtVVJJcyIsImF0dHJpYnV0ZVZhbHVlIiwibTEiLCJuYW1lc3BhY2VQcmVmaXhNYXAiLCJmcm9udEVkZ2VCbGFja0xpc3RIb3IiLCJtYXJnaW4tdG9wIiwicGFkZGluZy10b3AiLCJib3JkZXItdG9wLXdpZHRoIiwiYm9yZGVyLXRvcC1zdHlsZSIsImJvcmRlci10b3AtY29sb3IiLCJib3JkZXItdG9wLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMiLCJmcm9udEVkZ2VCbGFja0xpc3RWZXJ0IiwibWFyZ2luLXJpZ2h0IiwicGFkZGluZy1yaWdodCIsImJvcmRlci1yaWdodC13aWR0aCIsImJvcmRlci1yaWdodC1zdHlsZSIsImJvcmRlci1yaWdodC1jb2xvciIsImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzIiwiZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvciIsImZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RWZXJ0IiwiVmlld0ZhY3RvcnkiLCJmb290bm90ZVN0eWxlIiwic3R5bGVyUHJvZHVjZXIiLCJjdXN0b21SZW5kZXJlciIsImZhbGxiYWNrTWFwIiwiY2FzY1N0eWxlIiwiZ2V0UHNldWRvTWFwIiwiYWRkZWROYW1lcyIsImF0dCIsIlBzZXVkb0VsZW1lbnQucHNldWRvTmFtZXMiLCJzaGFkb3dTdHlsZXIiLCJQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIiLCJWdHJlZS5TaGFkb3dDb250ZXh0IiwiVnRyZWUuU2hhZG93VHlwZSIsIlJPT1RMRVNTIiwiY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcCIsImNvbXB1dGVkUHNldWRvU3R5bGUiLCJDc3NDYXNjYWRlLm1lcmdlU3R5bGUiLCJDc3NDYXNjYWRlLm1lcmdlVmlld0NvbmRpdGlvbmFsU3R5bGVzIiwiQ3NzQ2FzY2FkZS5mb3JFYWNoU3R5bGVzSW5SZWdpb24iLCJDc3NDYXNjYWRlLmZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJsb2FkIiwicmVmRG9jUGFyYW0iLCJyZWZEb2MiLCJyZWZFbGVtZW50IiwiZ2V0RWxlbWVudCIsInJlZlN0eWxlciIsImdldFN0eWxlckZvckRvYyIsInRlbXBsYXRlVVJMVmFsIiwiY3JlYXRlUmVmU2hhZG93Iiwic2hhZG93IiwiY29udDIiLCJjcmVhdGVQc2V1ZG9lbGVtZW50U2hhZG93IiwiZGlzcGxheVZhbHVlcyIsIkRpc3BsYXkuZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZSIsInNoYWRvd1Jvb3QiLCJub2RlU3R5bGUiLCJpbmhlcml0YW5jZVZpc2l0b3IiLCJDc3NDYXNjYWRlLkluaGVyaXRhbmNlVmlzaXRvciIsIkNzc0Nhc2NhZGUuaXNJbmhlcml0ZWQiLCJDc3MucHJvY2Vzc2luZ09yZGVyRm4iLCJzZXRQcm9wTmFtZSIsInNuYW1lIiwiUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMiLCJudW1lcmljVmFsIiwibmVlZFRvUHJvY2Vzc0NoaWxkcmVuIiwiaW5oZXJpdGVkVmFsdWVzIiwiaW5oZXJpdEZyb21Tb3VyY2VQYXJlbnQiLCJjb21wdXRlU3R5bGUiLCJwcm9jZXNzQ29udGVudCIsInRyYW5zZmVyUG9seWZpbGxlZEluaGVyaXRlZFByb3BzIiwiaW5oZXJpdExhbmdBdHRyaWJ1dGUiLCJjcmVhdGVTaGFkb3dzIiwic2hhZG93UGFyYW0iLCJwYXJlbnRXcml0aW5nTW9kZSIsImlzRmxvd1Jvb3QiLCJpc0luc2lkZUJGQyIsImZsb2F0aW5nIiwibGlzdEl0ZW0iLCJEaXNwbGF5LmlzSW5saW5lTGV2ZWwiLCJib3JkZXJDb2xsYXBzZSIsImJvcmRlclNwYWNpbmciLCJvdXRlclBzZXVkbyIsIlZ0cmVlLkZpcnN0UHNldWRvIiwicHJvY2Vzc0FmdGVySWZjb250aW51ZXMiLCJ3aGl0ZXNwYWNlVmFsdWUiLCJ3b3JkQnJlYWsiLCJvdmVyZmxvd1dyYXAiLCJyZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQiLCJpc0ZpcnN0VGltZSIsInByb2Nlc3NSZXBlYXRPbkJyZWFrIiwiZmluZEFuZFByb2Nlc3NSZXBlYXRpbmdFbGVtZW50cyIsImN1c3RvbSIsImVsZW1SZXN1bHQiLCJpbWFnZVJlZiIsImltYWdlQmluYXJ5IiwiaW5uZXJTcmMiLCJUYXNrVXRpbC5sb2FkRWxlbWVudCIsImZiMlJlbWFwIiwiTkNYIiwibmF2UGFyZW50IiwiY2hpbGRFbGVtZW50IiwiaHAiLCJiZWhhdmlvciIsImRhdGFzZXQiLCJpZnJhbWUiLCJjb250ZW50V2luZG93IiwiZXB1YlJlYWRpbmdTeXN0ZW0iLCJsYXlvdXRTdHlsZSIsImhhc0ZlYXR1cmUiLCJpbWFnZVJlc29sdXRpb24iLCJpbWFnZXMiLCJjc3NXaWR0aCIsImNzc0hlaWdodCIsImF0dHJXaWR0aCIsImF0dHJIZWlnaHQiLCJoYXNBdXRvV2lkdGgiLCJoYXNBdXRvSGVpZ2h0IiwiYXR0cmlidXRlQ291bnQiLCJkZWxheWVkU3JjIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlTlMiLCJyZWdpc3RlckVsZW1lbnRXaXRoSWQiLCJpbWFnZSIsIkltYWdlIiwiaXNTVkdVcmxBdHRyaWJ1dGUiLCJVcmxzLnRyYW5zZm9ybVVSSXMiLCJhdHRyaWJ1dGVQcmVmaXgiLCJpbWFnZUZldGNoZXIiLCJsaXN0U3R5bGVJbWFnZSIsImxpc3RTdHlsZVVSTCIsInByZXByb2Nlc3NFbGVtZW50U3R5bGUiLCJhcHBseUNvbXB1dGVkU3R5bGVzIiwiYmxhY2tMaXN0IiwibW9kaWZ5RWxlbURpbWVuc2lvbldpdGhJbWFnZVJlc29sdXRpb24iLCJMYXlvdXQuQWZ0ZXJJZkNvbnRpbnVlcyIsIlNWR19VUkxfQVRUUklCVVRFUyIsInNjYWxlZFdpZHRoIiwic2NhbGVkSGVpZ2h0IiwibnVtZXJpY01heFdpZHRoIiwibnVtZXJpY01heEhlaWdodCIsIm51bWVyaWNNaW5XaWR0aCIsIm51bWVyaWNNaW5IZWlnaHQiLCJQUkVQUk9DRVNTX0VMRU1FTlRfU1RZTEUiLCJSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IiwicGFyZW50Rm9ybWF0dGluZ0NvbnRleHQiLCJwcmVwcm9jZXNzVGV4dENvbnRlbnQiLCJEaWZmLnJlc3RvcmVOZXdUZXh0Iiwib3JpZ2lubCIsIlBSRVBST0NFU1NfVEVYVF9DT05URU5UIiwicHJvY2Vzc2VkVGV4dCIsImNyZWF0ZUVsZW1lbnRWaWV3IiwiY3JlYXRlVGV4dE5vZGVWaWV3IiwicHJvY2Vzc0NoaWxkcmVuIiwiY3JlYXRlTm9kZVZpZXciLCJjb250ZW50Tm9kZSIsImNvbnRlbnRTaGFkb3dUeXBlIiwiY29udGVudFNoYWRvdyIsInJlc2V0VmlldyIsIlZ0cmVlLk5vZGVDb250ZXh0IiwicHJvY2Vzc1NoYWRvd0NvbnRlbnQiLCJzaGFkb3dOb2RlIiwic3IiLCJ0cmFuc2NsdXNpb25UeXBlIiwicHJvYyIsIm5leHRQb3NpdGlvbkluVHJlZSIsImJnIiwiYWRkSW1hZ2VGZXRjaGVycyIsImlzUmVsYXRpdmVQb3NpdGlvbmVkIiwicHJvcGVydGllc05vdFBhc3NlZFRvRE9NIiwiQ3NzUHJvcC5VcmxUcmFuc2Zvcm1WaXNpdG9yIiwiVnRyZWUuZGVsYXllZFByb3BzIiwiVnRyZWUuZGVsYXllZFByb3BzSWZSZWxhdGl2ZVBvc2l0aW9uZWQiLCJwbiIsImNoaWxkQ29tcHV0ZWRTdHlsZSIsImJveERlY29yYXRpb25CcmVhayIsIkNzc0Nhc2NhZGUuY29udmVydEZvbnRSZWxhdGl2ZUxlbmd0aFRvUHgiLCJzdGVwMSIsInN0ZXAyIiwiZWxlbTEiLCJlbGVtMiIsIlBzZXVkb0VsZW1lbnQuZ2V0UHNldWRvTmFtZSIsIm5vZGVQb3NpdGlvbjEiLCJub2RlUG9zaXRpb24yIiwic3VwIiwiZGF0ZSIsImVtcGhhc2lzIiwic3Ryb25nIiwic3RyaWtldGhyb3VnaCIsImJveC1kZWNvcmF0aW9uLWJyZWFrIiwiZmxvYXQtbWluLXdyYXAtYmxvY2siLCJmbG9hdC1yZWZlcmVuY2UiLCJmbG93LWludG8iLCJmbG93LW9wdGlvbnMiLCJmb290bm90ZS1wb2xpY3kiLCJEZWZhdWx0Q2xpZW50TGF5b3V0IiwibGF5b3V0Qm94Iiwib3JpZ2luUmVjdCIsInZpZXdwb3J0TGVmdCIsInZpZXdwb3J0VG9wIiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsImxheW91dEJveFJlY3QiLCJzdWJ0cmFjdE9mZnNldHMiLCJnZXRDb21wdXRlZFN0eWxlIiwiVmlld3BvcnQiLCJvcHRfcm9vdCIsIm9wdF93aWR0aCIsIm9wdF9oZWlnaHQiLCJvdXRlclpvb21Cb3giLCJjb250ZW50Q29udGFpbmVyIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiWE1MRG9jSG9sZGVyIiwibGFuZ3MiLCJTU0UiLCJOb2RlTGlzdCIsIm9mZnNldFN0ciIsInNyY05vZGUiLCJ0b3RhbE9mZnNldCIsImlkTWFwIiwieG1saWQiLCJidWlsZElkTWFwIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJET01QYXJzZXJTdXBwb3J0ZWRUeXBlIiwicGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvciIsIm9wdF9wYXJzZXIiLCJkb2NFbGVtZW50IiwiZXJyb3JUYWdOYW1lIiwicGFyc2VYTUxSZXNvdXJjZSIsInN1cHBvcnRlZEtleXMiLCJBUFBMSUNBVElPTl9YTUwiLCJURVhUX0hUTUwiLCJBUFBMSUNBVElPTl9YSFRNTF9YTUwiLCJJTUFHRV9TVkdfWE1MIiwiUHJlZGljYXRlIiwiY2hlY2siLCJvcHRfY2hpbGRQcmVkaWNhdGUiLCJwcmVkaWNhdGUiLCJwciIsImZvckVhY2hOb2RlIiwiZm9yRWFjaE5vbk51bGwiLCJ1YVN0eWxlc2hlZXRCYXNlRmV0Y2hlciIsIkNzc1ZhbGlkYXRvci5iYXNlVmFsaWRhdG9yU2V0IiwiQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IiLCJDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVRleHQiLCJTdHlsZSIsInJvb3RCb3giLCJmb250RmFjZXMiLCJmb290bm90ZVByb3BzIiwiZmxvd1Byb3BzIiwidmlld3BvcnRQcm9wcyIsImZvbnREZW9iZnVzY2F0b3IiLCJkZWZpbmVCdWlsdEluIiwiY3VycmVudExheW91dFBvc2l0aW9uIiwiZmlyc3RGbG93Q2h1bmtPZkZsb3ciLCJtYXRjaFBhZ2VTaWRlIiwic3RhcnRTaWRlT2ZGbG93IiwibG9va3VwT2Zmc2V0IiwiZmxvd0NodW5rSXNBZnRlclBhcmVudEZsb3dGb3JjZWRCcmVhayIsInBhZ2VOdW1iZXJPZmZzZXQiLCJFeHBycy5Db250ZXh0IiwidGV4dFpvb20iLCJzY2FsZUZhY3RvciIsImRlZmF1bHRGb250U2l6ZSIsIndpZHRoVmFsIiwiaGVpZ2h0VmFsIiwiU3R5bGVJbnN0YW5jZSIsImRlZmF1bHRMYW5nIiwiZm9udE1hcHBlciIsImZhY2VzIiwiRm9udC5Eb2N1bWVudEZhY2VzIiwicm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJjcmVhdGVDb3VudGVyTGlzdGVuZXIiLCJjcmVhdGVDb3VudGVyUmVzb2x2ZXIiLCJDc3NTdHlsZXIuU3R5bGVyIiwic2V0U3R5bGVyIiwicmVzZXRGbG93Q2h1bmtTdHJlYW0iLCJzdHlsZXJNYXAiLCJnZXRUb3BDb250YWluZXJTdHlsZSIsIkNzc1BhZ2UucmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIlBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYW5hZ2VyIiwiQ3NzUGFnZS5QYWdlTWFuYWdlciIsImZvbnRGYWNlIiwiRm9udC5wcmVwYXJlUHJvcGVydGllcyIsIkZvbnQuRmFjZSIsImZpbmRPckxvYWRGb250cyIsIkNzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkIiwiQ3NzUGFnZS5yZXNvbHZlUGFnZVNpemVBbmRCbGVlZCIsInBhZ2VTaGVldFNpemUiLCJnZXRTdHlsZUZvckRvYyIsInBhZ2VCb3hJbnN0YW5jZXMiLCJWdHJlZS5GbG93UG9zaXRpb24iLCJWdHJlZS5DaHVua1Bvc2l0aW9uIiwiVnRyZWUuRmxvd0NodW5rUG9zaXRpb24iLCJjaHVua09mZnNldCIsImxheW91dFBvc2l0aW9uIiwibm9Mb29rQWhlYWQiLCJjdXJyZW50UG9zaXRpb24iLCJzdHlsZVVudGlsRmxvd0lzUmVhY2hlZCIsImNvbnN1bWVkT2Zmc2V0IiwiZ2V0Q29uc3VtZWRPZmZzZXQiLCJmbG93Q2h1bmtCcmVha0JlZm9yZSIsImZsb3dCcmVha0FmdGVyIiwiQnJlYWsuc3RhcnRTaWRlVmFsdWVUb0JyZWFrVmFsdWUiLCJCcmVhay5icmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZSIsImdldFBvc2l0aW9uIiwicGFnZU1hc3RlcnMiLCJjb2VmZiIsInBhZ2VBcmVhIiwidXBkYXRlU3RhcnRTaWRlIiwibGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydCIsImluaXRMaW5nZXJpbmciLCJnZXRQYWdlUnVsZVBhZ2VNYXN0ZXIiLCJicmVha09mZnNldEJlZm9yZVN0YXJ0SW5kZXgiLCJicmVha09mZnNldEJlZm9yZVN0YXJ0IiwicGFyZW50Rmxvd1Bvc2l0aW9uIiwicGFyZW50U3RhcnRPZmZzZXQiLCJMYXlvdXRQcm9jZXNzb3IuQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsInBhcmVudEludmFsaWRhdGVkIiwidmFsaWRhdGUiLCJzZXRGb3JtYXR0aW5nQ29udGV4dFRvQ29sdW1uIiwibGF5b3V0RGVmZXJyZWRQYWdlRmxvYXRzIiwicmVwZWF0ZWRJbmRpY2VzIiwicmVtb3ZlZEluZGljZXMiLCJoYXNDb250aW51aW5nRmxvYXRGcmFnbWVudHNJbkZsb3ciLCJhbHQiLCJpc0JldHRlciIsImdldExhc3RBZnRlclBvc2l0aW9uSWZEZWZlcnJlZEZsb2F0c0V4aXN0cyIsInNhdmVEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMiLCJnZXRNYXhSZWFjaGVkQWZ0ZXJFZGdlIiwiY291bnRlckNvbnN0cmFpbnQiLCJjcmVhdGVMYXlvdXRDb25zdHJhaW50IiwiTGF5b3V0LkFsbExheW91dENvbnN0cmFpbnQiLCJmb3JjZU5vbkZpdHRpbmciLCJkb250QXBwbHlFeGNsdXNpb25zIiwiYm94Q29udGFpbmVyIiwiY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsInBvc2l0aW9uQXRDb2x1bW5TdGFydCIsImNvbHVtbkNvbnRhaW5lciIsIkxheW91dC5Db2x1bW4iLCJjb2x1bW5ZIiwiY29sdW1uWCIsImNvcHlGcm9tIiwibGF5b3V0Q29sdW1uIiwicGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQiLCJDc3NQYWdlLlBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UiLCJDc3NQYWdlLlBhZ2VSdWxlTWFzdGVySW5zdGFuY2UiLCJwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQiLCJnZXRSZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwibGF5b3V0Q29sdW1ucyIsImxheW91dEZsb3dDb2x1bW5zIiwiZ2VuZXJhdG9yUmVzdWx0IiwiY29sdW1uRmlsbCIsImNvbHVtbkJhbGFuY2VyIiwibm9Nb3JlQ29udGVudCIsImxhc3RDb2x1bW4iLCJpc0xhc3RDb2x1bW5Gb3JjZUJyb2tlbiIsImxvY2siLCJiYWxhbmNlQ29sdW1ucyIsInVubG9jayIsIlZnZW4uVmlld0ZhY3RvcnkiLCJjcmVhdGVBbmRMYXlvdXRDb2x1bW4iLCJpc0xvY2tlZCIsInBhZ2VCcmVha3MiLCJkb250RXhjbHVkZSIsIlZ0cmVlLkNvbnRhaW5lciIsInNldFBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0Q29udGFpbmVyIiwicmVtb3ZlZCIsImlzSWRlbnQiLCJsYXlvdXRGbG93Q29sdW1uc1dpdGhCYWxhbmNpbmciLCJpbm5lckNvbnRhaW5lclRhZyIsImlubmVyQ29udGFpbmVyIiwidHJhbnNmZXJTaW5nbFVyaUNvbnRlbnRQcm9wcyIsInRyYW5zZmVyQ29udGVudFByb3BzIiwic3VwcHJlc3NFbXB0eUJveEdlbmVyYXRpb24iLCJvdXRlclNoYXBlIiwic3RhcnRQYWdlIiwiVnRyZWUuTGF5b3V0UG9zaXRpb24iLCJnZXRDYXNjYWRlZFBhZ2VTdHlsZSIsInNlbGVjdFBhZ2VNYXN0ZXIiLCJibGVlZEJveFBhZGRpbmdFZGdlIiwic2V0QXV0b1BhZ2VXaWR0aCIsInNldEF1dG9QYWdlSGVpZ2h0Iiwic2V0Q3VycmVudFBhZ2UiLCJ1cGRhdGVQYWdlQ291bnRlcnMiLCJldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkIiwic2V0UGFnZVNpemVBbmRCbGVlZCIsInByaW50ZXJNYXJrT2Zmc2V0IiwiYmdjb2xvciIsImNyb3BNYXJrTGluZUxlbmd0aCIsImJsZWVkTWFya0xpbmVMZW5ndGgiLCJtYXhMaW5lTGVuZ3RoIiwic3ZnV2lkdGgiLCJwb2ludHMxIiwicG9pbnRzMiIsIlRPUF9SSUdIVCIsIkJPVFRPTV9SSUdIVCIsIkJPVFRPTV9MRUZUIiwibGluZTEiLCJsaW5lMiIsImxvbmdMaW5lTGVuZ3RoIiwiQk9UVE9NIiwiaG9yaXpvbnRhbExpbmUiLCJ2ZXJ0aWNhbExpbmUiLCJvcHBvc2l0ZSIsIkxFRlQiLCJSSUdIVCIsIkNzc1BhZ2UuYWRkUHJpbnRlck1hcmtzIiwiYWRqdXN0UGFnZUxheW91dCIsImlzTGVmdFBhZ2UiLCJDb25zdGFudHMuUGFnZVNpZGUiLCJwcm9jZXNzTGluZ2VyIiwiZ2V0UmVhY2hlZE9mZnNldCIsImdldFRyaWdnZXJzRm9yRG9jIiwibm9Nb3JlUHJpbWFyeUZsb3dzIiwicGFnZVNoZWV0V2lkdGgiLCJwYWdlU2hlZXRIZWlnaHQiLCJCYXNlUGFyc2VySGFuZGxlciIsIm1hc3RlckhhbmRsZXIiLCJQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyIiwiQ3NzQ2FzY2FkZS5EZWZpbmVQYXJzZXJIYW5kbGVyIiwiQ3NzQ2FzY2FkZS5Qcm9wU2V0UGFyc2VySGFuZGxlciIsImluc2lkZVJlZ2lvbiIsInBhZ2VIYW5kbGVyIiwiQ3NzUGFnZS5QYWdlUGFyc2VySGFuZGxlciIsInJlZ2lvbkNvdW50Iiwic3BlY2lhbCIsInJlZ2lvbkhhbmRsZXIiLCJwcm9jZXNzVmlld3BvcnRNZXRhIiwibWV0YSIsIlN0eWxlUGFyc2VySGFuZGxlciIsIkNzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIiLCJQYWdlTWFzdGVyLlJvb3RQYWdlQm94IiwiY2FzY2FkZVBhcnNlckhhbmRsZXIiLCJwYXJzZU9QU1Jlc291cmNlIiwiT1BTRG9jU3RvcmUiLCJOZXQuUmVzb3VyY2VTdG9yZSIsImF1dGhvclN0eWxlU2hlZXRzIiwidXNlclN0eWxlU2hlZXRzIiwic2V0U3R5bGVTaGVldHMiLCJ1c2VyQWdlbnRYTUwiLCJ0cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nIiwic3R5bGVCeURvY1VSTCIsInRyaWdnZXJzQnlEb2NVUkwiLCJjbGVhclN0eWxlU2hlZXRzIiwiYWRkQXV0aG9yU3R5bGVTaGVldCIsImFkZFVzZXJTdHlsZVNoZWV0Iiwic3R5bGVTaGVldHMiLCJzdHlsZXNoZWV0IiwiQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCIsIkJhc2UuYmFzZVVSTCIsIlhtbERvYy5wYXJzZVhNTFJlc291cmNlIiwiUFJFUFJPQ0VTU19TSU5HTEVfRE9DVU1FTlQiLCJ0cmlnZ2VyTGlzdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJ0cmlnZ2VyRWxlbSIsIkVWIiwic291cmNlcyIsInVzZXJBZ2VudFVSTCIsInRpdGxlIiwicmVsIiwic3R5bGVCeUtleSIsInN0eWxlRmV0Y2hlckJ5S2V5Iiwic3BoIiwic291cmNlIiwiQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21VUkwiLCJlbmNvZGUzMiIsImRlY29kZTMyIiwiYnl0ZXMiLCJieXRlc1RvU0hBMUludDMyIiwiYXBwZW5kQ291bnQiLCJiaSIsIlRPQ1ZpZXciLCJyZW5kZXJlckZhY3RvcnkiLCJFeHBycy5jbG9uZVByZWZlcmVuY2VzIiwic2V0QXV0b0hlaWdodCIsInJlbmRlcmVyIiwibWFrZUN1c3RvbVJlbmRlcmVyIiwic3JjRWxlbSIsInZpZXdQYXJlbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVwbGFjZUNoaWxkIiwiYWRhcHRQYXJlbnRDbGFzcyIsImJ1dHRvbiIsInRvZ2dsZU5vZGVFeHBhbnNpb24iLCJ0YWJJbmRleCIsImFuY2hvckVsZW0iLCJWdHJlZS5QYWdlIiwidG9jQm94VXJsIiwibm9uVG9jQm94RG9jIiwidmlld3BvcnRTaXplIiwic2l6ZVZpZXdwb3J0IiwiVmdlbi5WaWV3cG9ydCIsIk9QUy5TdHlsZUluc3RhbmNlIiwibGF5b3V0TmV4dFBhZ2UiLCJib2R5Q2hpbGRFbGVtIiwidG9jTm9kZUVsZW0iLCJjZSIsImFkYXB0Q2xhc3MiLCJFUFVCRG9jU3RvcmUiLCJPUFMuT1BTRG9jU3RvcmUiLCJtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSIsInBsYWluWE1MU3RvcmUiLCJqc29uU3RvcmUiLCJkZW9iZnVzY2F0b3JzIiwiaGF2ZVppcE1ldGFkYXRhIiwibG9hZEVQVUJEb2MiLCJvcGYiLCJwdWJVUkwiLCJsb2FkT1BGIiwibG9hZEFzSlNPTiIsIm1hbmlmZXN0T2JqIiwiT1BGRG9jIiwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCIsImxvYWRXZWJQdWIiLCJzdGFydExvYWRpbmdBc0pTT04iLCJzdGFydExvYWRpbmdBc1BsYWluWE1MIiwiY29udGFpbmVyVVJMIiwibG9hZEFzUGxhaW5YTUwiLCJjb250YWluZXJYTUwiLCJyb290cyIsIm9wZkJ5VVJMIiwib3BmWE1MIiwiZW5jWE1MIiwiemlwTWV0YWRhdGEiLCJpbml0V2l0aFhNTERvYyIsInByaW1hcnlPUEZCeUVQdWJVUkwiLCJtYW5pZmVzdExpbmsiLCJ4aHRtbFRvYyIsImRvY1VSTCIsImRvY3VtZW50cyIsInN0YXJ0c1dpdGgiLCJPUEZJdGVtIiwiaXRlbVByb3BlcnRpZXMiLCJCYXNlLmVtcHR5T2JqIiwiaXRlbUVsZW0iLCJvcGZVUkwiLCJtZWRpYVR5cGUiLCJwcm9wU3RyIiwic2tpcFBhZ2VzQmVmb3JlIiwiZ2V0T1BGSXRlbUlkIiwicHJlZGVmaW5lZFByZWZpeGVzIiwiZGN0ZXJtcyIsIm1hcmMiLCJyZW5kaXRpb24iLCJvbml4IiwieHNkIiwiZGVmYXVsdElSSSIsIm1ldGFUZXJtcyIsImxhbmd1YWdlIiwiY3JlYXRvciIsInRpdGxlVHlwZSIsImRpc3BsYXlTZXEiLCJhbHRlcm5hdGVTY3JpcHQiLCJnZXRNZXRhZGF0YUNvbXBhcmF0b3IiLCJpdGVtMSIsIml0ZW0yIiwibTIiLCJpMSIsImkyIiwiZ2V0TWF0aEpheEh1YiIsIm1hdGgiLCJNYXRoSmF4IiwiSHViIiwic3VwcG9ydGVkTWVkaWFUeXBlcyIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIsImltYWdlL2pwZWciLCJpbWFnZS9wbmciLCJpbWFnZS9zdmcreG1sIiwiaW1hZ2UvZ2lmIiwiYXVkaW8vbXAzIiwiY3JlYXRlRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciIsIkNzc0Nhc2NhZGUuc3VwcG9ydGVkTmFtZXNwYWNlcyIsIk1BVEhNTCIsIkJhc2UuZXNjYXBlTmFtZVN0clRvSGV4IiwicGF0aCIsIml0ZW1zIiwiZW5jb2RlZCIsIkJhc2UudW5lc2NhcGVTdHJGcm9tSGV4IiwibWV0YWRhdGEiLCJlcHViQmFzZVVSTCIsImRlY29kZVVSSSIsIm1hbmlmZXN0VVJMIiwicGtnIiwidWlkcmVmIiwidWlkRWxlbSIsInVpZCIsInNyY1RvRmFsbGJhY2tJZCIsImFzQXJyYXkiLCJpbml0V2l0aEVsZW1lbnQiLCJmYWxsYmFjayIsIm5hdiIsImNvdmVyIiwiaXRlbU1hcCIsIkJhc2UuaW5kZXhBcnJheSIsIml0ZW1NYXBCeVBhdGgiLCJnZXRQYXRoRnJvbVVSTCIsImZhbGxiYWNrU3JjIiwic3BpbmUiLCJpdGVtUmVmRWxlbWVudCIsInRvY0F0dHIiLCJuY3hUb2MiLCJwYWdlUHJvZ3Jlc3Npb25BdHRyIiwiQ29uc3RhbnRzLnBhZ2VQcm9ncmVzc2lvbk9mIiwiaWRwZk9iZlVSTHMiLCJYbWxEb2MucHJlZGljYXRlIiwid2l0aENoaWxkIiwid2l0aEF0dHJpYnV0ZSIsIm1lZGlhVHlwZUVsZW1zIiwiaGFuZGxlcklkIiwiYmluZGluZ3MiLCJtcm9vdCIsInByZWZpeE1hcCIsInJlc29sdmVQcm9wZXJ0eSIsImlyaSIsInJhd0l0ZW1zIiwicmVmaW5lcyIsInNjaGVtZSIsIkRDIiwicmF3SXRlbXNCeVRhcmdldCIsIkJhc2UubXVsdGlJbmRleEFycmF5IiwicmF3SXRlbSIsIm1ha2VNZXRhZGF0YSIsInJhd0l0ZW1BcnIiLCJpdGVtTmFtZSIsInNjaGVtYSIsImxhbmdJdGVtIiwiZW50cnlNYXAiLCJzb3J0TWV0YWRhdGEiLCJwcmVQYWdpbmF0ZWQiLCJzaGExU3VtIiwid2Via2l0U2xpY2UiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJEYXRhVmlldyIsImJ5dGVMZW5ndGgiLCJnZXRVaW50OCIsInNldFVpbnQ4IiwibWFrZURlb2JmdXNjYXRvciIsImFzc2lnbkF1dG9QYWdlcyIsIm1hbmlmZXN0VGV4dCIsIm9iZnVzY2F0aW9ucyIsIm9iZnVzY2F0aW9uS2V5Iiwic2hhMSIsIlNIQTEuYnl0ZXNUb1NIQTFIZXgiLCJlbmNvZGVkUGF0aCIsImNvbXByZXNzZWQiLCJjb21wcmVzc2VkU2l6ZSIsIm9iZnVzY2F0aW9uIiwiREVGQVVMVCIsImVwYWdlIiwiZXBhZ2VDb3VudCIsImVwYWdlQ291bnRDYWxsYmFjayIsImVwYWdlSXNSZW5kZXJlZFBhZ2UiLCJvZmZzZXRQZXJFUGFnZSIsImdldFRvdGFsT2Zmc2V0IiwiWG1sRG9jLlhNTERvY0hvbGRlciIsImluaXRXaXRoUGFyYW0iLCJpdGVtcmVmIiwiYWRkRG9jdW1lbnQiLCJyZWFkaW5nUHJvZ3Jlc3Npb24iLCJwcmltYXJ5RW50cnlQYXRoIiwicmVhZGluZ09yZGVyIiwiZW5jb2RlVVJJIiwiaHJlZk5vRnJhZ21lbnQiLCJpdGVtQ291bnQiLCJ0b2NGb3VuZCIsInJlYWRpbmdPcmRlck9yUmVzb3VyY2VzIiwiaXRlbU9iaiIsImlzSW5SZWFkaW5nT3JkZXIiLCJlbmNvZGluZ0Zvcm1hdCIsImluaXRXaXRoQ2hhcHRlcnMiLCJvZmZzZXRJbkl0ZW0iLCJjZmkiLCJDRkkuRnJhZ21lbnQiLCJwcmVwZW5kUGF0aEZyb21Ob2RlIiwiZnJvbVN0cmluZyIsIm9wZk5hdiIsIm5hdmlnYXRlIiwiaWRyZWYiLCJub2RlTmF2IiwibWFrZVBhZ2VBbmRQb3NpdGlvbiIsIk9QRlZpZXciLCJwYWdlU2hlZXRTaXplUmVwb3J0ZXIiLCJWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQiLCJDb3VudGVycy5Db3VudGVyU3RvcmUiLCJ2aWV3SXRlbSIsInNwaW5lSXRlbXMiLCJvbGRQYWdlIiwiaXNGaXJzdFBhZ2UiLCJwcmV2SXRlbSIsIm5ld1BhZ2UiLCJpbnNlcnRQb3MiLCJtYWtlUGFnZSIsInBvc1BhcmFtIiwibGF5b3V0UG9zaXRpb25zIiwiZmluaXNoUGFnZUNvbnRhaW5lciIsImZpbmlzaFBhZ2UiLCJwcmV2UG9zIiwicmVuZGVyU2luZ2xlUGFnZSIsImdldFVucmVzb2x2ZWRSZWZzVG9QYWdlIiwiZ2V0UGFnZVZpZXdJdGVtIiwicHVzaFBhZ2VDb3VudGVycyIsInB1c2hSZWZlcmVuY2VzVG9Tb2x2ZSIsInBvcFBhZ2VDb3VudGVycyIsInBvcFJlZmVyZW5jZXNUb1NvbHZlIiwicmVzdWx0UG9zaXRpb24iLCJwYWdlQW5kUG9zaXRpb24iLCJpc0xhc3RQYWdlIiwiZmluaXNoTGFzdFBhZ2UiLCJuZXh0TGF5b3V0UG9zaXRpb24iLCJzZWVrT2Zmc2V0Iiwic2Vla09mZnNldFBhZ2VJbmRleCIsImNvbXBsZXRlIiwic3luYyIsInJlc3VsdFBhZ2UiLCJub3JtYWxpemVkUG9zaXRpb24iLCJub3JtYWxpemVTZWVrUG9zaXRpb24iLCJyZW5kZXJQYWdlIiwicmVuZGVyUGFnZXNVcHRvIiwibm90QWxsUGFnZXMiLCJsYXN0UmVzdWx0IiwiZmluZFBhZ2UiLCJuZXh0Vmlld0l0ZW0iLCJuZXh0UGFnZSIsInNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zIiwiaXNMZWZ0IiwiaXNMVFIiLCJnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uIiwiZ2V0UGFnZSIsImlzUmVjdG9QYWdlIiwicHJldmlvdXNQYWdlIiwib3RoZXJQYWdlQW5kUG9zaXRpb24iLCJ0aGlzUGFnZSIsIm90aGVyUGFnZSIsImlzUmVjdG8iLCJuZXh0MiIsInJlc3VsdDIiLCJvbGRQcmV2UGFnZUNvbnQiLCJyZXNvbHZlRVBhZ2UiLCJyZXNvbHZlRnJhZ21lbnQiLCJyZXN0b3JlZCIsInJlc3RvcmVVUkwiLCJuYXZpZ2F0ZVRvRnJhZ21lbnQiLCJwYWdlQ29udCIsIkNvbnN0YW50cy5pc0RlYnVnIiwibWF0cml4IiwiRXhwcnMubGV0dGVyYm94IiwiY3NzTWF0cml4IiwiaGFuZGxlclNyYyIsInNyY1BhcmFtIiwiQmFzZS5saWdodFVSTEVuY29kZSIsInR5cGVQYXJhbSIsInB2YWx1ZSIsImh1YiIsImNsb25lZE1hdGgiLCJpbXBvcnROb2RlIiwicmVzb2x2ZVVSTHNJbk1hdGhNTCIsIlB1c2giLCJhdHRycyIsIm5ld1VybCIsInNyY1RhZ05hbWUiLCJtYWtlT2JqZWN0VmlldyIsIm1ha2VNYXRoSmF4VmlldyIsIm1ha2VTU0VWaWV3IiwibWF0aFR5cGVzZXQiLCJsb2FkaW5nQ29udGludWF0aW9ucyIsInByZXZpb3VzVmlld0l0ZW0iLCJmb3JjZVNldFBhZ2VDb3VudGVyIiwicHViVGl0bGVzIiwiYXV0b2hpZGUiLCJ0b2MiLCJ0b2NBdXRvaGlkZSIsInRvY1ZpZXciLCJUb2MuVE9DVmlldyIsInRvY1dpZHRoIiwidG9jSGVpZ2h0Iiwic2hvd1RPQyIsImhpZGVUT0MiLCJpc1RPQ1Zpc2libGUiLCJQYWdlVmlld01vZGUiLCJab29tVHlwZSIsIkFkYXB0aXZlVmlld2VyIiwidmlld3BvcnRFbGVtZW50IiwiaW5zdGFuY2VJZCIsImNhbGxiYWNrRm4iLCJGb250Lk1hcHBlciIsImtpY2siLCJzZW5kQ29tbWFuZCIsInJlc2l6ZUxpc3RlbmVyIiwibmVlZFJlc2l6ZSIsInBhZ2VSZXBsYWNlZExpc3RlbmVyIiwiaHlwZXJsaW5rTGlzdGVuZXIiLCJwYWdlUnVsZVN0eWxlRWxlbWVudCIsImxvYWRQdWJsaWNhdGlvbiIsImxvYWRYTUwiLCJjb25maWd1cmUiLCJtb3ZlVG8iLCJhZGRMb2dMaXN0ZW5lcnMiLCJDb25zdGFudHMuUmVhZHlTdGF0ZSIsIkxPQURJTkciLCJwYWNrYWdlVVJMIiwidG91Y2hBY3RpdmUiLCJ0b3VjaFgiLCJ0b3VjaFkiLCJuZWVkUmVmcmVzaCIsImN1cnJlbnRTcHJlYWQiLCJwYWdlUG9zaXRpb24iLCJmaXRUb1NjcmVlbiIsInBhZ2VWaWV3TW9kZSIsIlNJTkdMRV9QQUdFIiwid2FpdEZvckxvYWRpbmciLCJyZW5kZXJBbGxQYWdlcyIsImxvZ0xldmVsIiwiTG9nZ2luZy5Mb2dMZXZlbCIsImFkZExpc3RlbmVyIiwiY29tbWFuZCIsIlByb2ZpbGUucHJvZmlsZXIiLCJzZXRSZWFkeVN0YXRlIiwiemlwbWV0YSIsImF1dGhvclN0eWxlU2hlZXQiLCJ1c2VyU3R5bGVTaGVldCIsIkVwdWIuRVBVQkRvY1N0b3JlIiwibG9hZFB1YkRvYyIsInJlbmRlciIsInJlc29sdmVkUGFyYW1zIiwiRXB1Yi5PUEZEb2MiLCJjYW5jZWxSZW5kZXJpbmdUYXNrIiwicmVzaXplIiwibWF0Y2hlZCIsImF1dG9yZXNpemUiLCJ2cCIsInJlc29sdmVMZW5ndGgiLCJ1c2VyQWdlbnRSb290VVJMIiwiQmFzZS5zZXRCYXNlVVJMIiwiQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwiLCJyb290VVJMIiwiY29uZmlndXJlUGx1Z2lucyIsIkNPTkZJR1VSQVRJT04iLCJzaG93Q3VycmVudCIsImZvckN1cnJlbnRQYWdlcyIsInJlbW92ZVBhZ2VMaXN0ZW5lcnMiLCJoaWRlUGFnZXMiLCJzaG93U2luZ2xlUGFnZSIsImxlZnRXaWR0aCIsInJpZ2h0V2lkdGgiLCJnZXRDRkkiLCJzZW5kTG9jYXRpb25Ob3RpZmljYXRpb24iLCJ2cyIsIlNQUkVBRCIsIkFVVE9fU1BSRUFEIiwiY3JlYXRlVmlld3BvcnQiLCJyZXNvbHZlU3ByZWFkVmlldyIsInNwcmVhZFZpZXdDaGFuZ2VkIiwidXBkYXRlU3ByZWFkVmlldyIsIm9wZlZpZXciLCJoYXNQYWdlcyIsImhhc0F1dG9TaXplZFBhZ2VzIiwic2V0UGFnZVNpemVQYWdlUnVsZXMiLCJwYWdlU2hlZXRTaXplQWxyZWFkeVNldCIsInN0eWxlVGV4dCIsInRvY1Zpc2libGUiLCJyZW1vdmVSZW5kZXJlZFBhZ2VzIiwicmVtb3ZlUGFnZVNpemVQYWdlUnVsZXMiLCJyZXNldFpvb20iLCJFcHViLk9QRlZpZXciLCJzZXRQYWdlU2l6ZSIsImdldFNwcmVhZCIsInNob3dTcHJlYWQiLCJzZXRTcHJlYWRab29tIiwic2hvd1BhZ2UiLCJzZXRQYWdlWm9vbSIsImdldEFkanVzdGVkWm9vbUZhY3RvciIsImdldFNwcmVhZERpbWVuc2lvbnMiLCJwYWdlRGltZW5zaW9uIiwiY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQiLCJGSVRfSU5TSURFX1ZJRVdQT1JUIiwicGFnZURpbSIsIndpZHRoWm9vbSIsImhlaWdodFpvb20iLCJyZW5kZXJUYXNrIiwiaW50ZXJydXB0IiwiUmVuZGVyaW5nQ2FuY2VsZWRFcnJvciIsInNpemVJc0dvb2QiLCJyZXNpemVUYXNrIiwic2V0RVBhZ2VDb3VudE1vZGUiLCJJTlRFUkFDVElWRSIsImNvdW50RVBhZ2VzIiwibm90aWZpY2F0aW9uIiwicmVwb3J0UG9zaXRpb24iLCJDT01QTEVURSIsImdldEVQYWdlRnJvbVBvc2l0aW9uIiwibmV4dFNwcmVhZCIsInByZXZpb3VzU3ByZWFkIiwibGFzdFBhZ2UiLCJmaXJzdFBhZ2UiLCJuYXZpZ2F0ZVRvRVBhZ2UiLCJuYXZpZ2F0ZVRvIiwiY3VycmVudFZpc2liaWxpdHkiLCJjaGFuZ2VBdXRvaGlkZSIsImFjdGlvbk5hbWUiLCJjbWQiLCJtYXliZVBhcnNlIiwidmlld2VyIiwiVGFzay5zdGFydCIsImhyZWZFdmVudCIsImludGVybmFsIiwicnVuQ29tbWFuZCIsImZyYW1lSW50ZXJuYWwiLCJhZGFwdF9jb21tYW5kIiwiY29udmVydFZpZXdlck9wdGlvbnMiLCJDb3JlVmlld2VyIiwic2V0dGluZ3MiLCJvcHRfb3B0aW9ucyIsIkNvbnN0YW50cy5zZXREZWJ1ZyIsImFkYXB0Vmlld2VyXyIsIkFkYXB0aXZlVmlld2VyLkFkYXB0aXZlVmlld2VyIiwiZGlzcGF0Y2hlciIsImF1dG9SZXNpemUiLCJwYWdlQm9yZGVyV2lkdGgiLCJBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGUiLCJzZXRPcHRpb25zIiwiZXZlbnRUYXJnZXQiLCJkZWZpbmVQcm9wZXJ0eSIsInNpbmdsZURvY3VtZW50T3B0aW9ucyIsIm9wdF9kb2N1bWVudE9wdGlvbnMiLCJvcHRfdmlld2VyT3B0aW9ucyIsImxvYWREb2N1bWVudE9yUHVibGljYXRpb24iLCJwdWJVcmwiLCJkb2N1bWVudE9wdGlvbnMiLCJjb252ZXJ0U3R5bGVTaGVldEFycmF5IiwiY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyIsImRvY3VtZW50T2JqZWN0IiwiaW5pdGlhbGl6ZWQiLCJpbml0RW1iZWQiLCJOYXZpZ2F0aW9uIiwiUFJFVklPVVMiLCJORVhUIiwib3B0X2VwYWdlIiwiRVBBR0UiLCJyZXNvbHZlTmF2aWdhdGlvbiIsIm9wdF9zaG93Iiwib3B0X2F1dG9oaWRlIiwicXVlcnlab29tRmFjdG9yIiwidG9OdW1iZXJPck51bGwiLCJvcHQiLCJpc0FycmF5IiwiQWRhcHRpdmVWaWV3ZXIuWm9vbVR5cGUiLCJmb3JjZVJlZ2lzdGVyRW5kVGltaW5nIiwiVml2bGlvc3R5bGVQcmludCIsImh0bWxEb2MiLCJwcmludENhbGxiYWNrIiwiaWZyYW1lV2luIiwiaGlkZUlmcmFtZSIsInJlbW92ZUlmcmFtZSIsImJvcmRlcldpZHRoIiwicHJpbnRJbnN0YW5jZSIsInNyY2RvYyIsInByZXBhcmVQcmludCIsImJyb3dzZXJQcmludCIsImNsZWFuVXAiLCJkb2NCbG9iIiwiVmlld2VyIiwibG9hZERvY3VtZW50IiwiY29uZmlnIiwiUFJFU0VUX1NJWkUiLCJkZXNjcmlwdGlvbiIsIkNPTlNUQU5UUyIsImN1c3RvbVdpZHRoIiwiY3VzdG9tSGVpZ2h0IiwiY3VzdG9tTWFyZ2luIiwiYmFzZUxpbmVIZWlnaHQiLCJiYXNlRm9udEZhbWlseSIsInZpZXdlckZvbnRTaXplIiwiUGFnZVN0eWxlIiwicGFnZVN0eWxlIiwiUHJlc2V0U2l6ZSIsInBhZ2VTaXplTW9kZSIsIm9ic2VydmFibGUiLCJEZWZhdWx0IiwicHJlc2V0U2l6ZSIsImlzTGFuZHNjYXBlIiwicGFnZVNpemVJbXBvcnRhbnQiLCJwYWdlTWFyZ2luTW9kZSIsInBhZ2VNYXJnaW5JbXBvcnRhbnQiLCJmaXJzdFBhZ2VNYXJnaW5aZXJvIiwiZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCIsImZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvIiwid2lkb3dzT3JwaGFucyIsIndpZG93c09ycGhhbnNJbXBvcnRhbnQiLCJpbWFnZU1heFNpemVUb0ZpdFBhZ2UiLCJpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQiLCJpbWFnZUtlZXBBc3BlY3RSYXRpbyIsImltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50IiwiYmFzZUZvbnRTaXplU3BlY2lmaWVkIiwiYmFzZUZvbnRTaXplSW1wb3J0YW50IiwiYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQiLCJiYXNlTGluZUhlaWdodEltcG9ydGFudCIsImJhc2VGb250RmFtaWx5U3BlY2lmaWVkIiwiYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQiLCJhbGxJbXBvcnRhbnQiLCJwYWdlT3RoZXJTdHlsZSIsImZpcnN0UGFnZU90aGVyU3R5bGUiLCJyb290T3RoZXJTdHlsZSIsImJlZm9yZU90aGVyU3R5bGUiLCJhZnRlck90aGVyU3R5bGUiLCJzZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUiLCJ2aWV3ZXJGb250U2l6ZU9ic2VydmFibGUiLCJmb250U2l6ZVB4VG9QZXJjZW50Iiwidmlld2VyRm9udFNpemVQZXJjZW50IiwicHVyZUNvbXB1dGVkIiwicGVyY2VudCIsImZvbnRTaXplUGVyY2VudFRvUHgiLCJjc3NUZXh0IiwidG9DU1NUZXh0IiwiZnJvbUNTU1RleHQiLCJwYWdlU3R5bGVSZWdFeHAiLCJjZW50IiwicHJlY2lzaW9uIiwidG9QcmVjaXNpb24iLCJzaXplV18iLCJzaXplSF8iLCJzaXplSW1wb3J0YW50IiwicGFnZU90aGVyU3R5bGVfIiwiZmlyc3RQYWdlT3RoZXJTdHlsZV8iLCJiYXNlRm9udFNpemVfIiwiYmFzZUZvbnRGYW1pbHlfIiwicm9vdE90aGVyU3R5bGVfIiwiYWZ0ZXJPdGhlclN0eWxlXyIsInNpemVXIiwic2l6ZUgiLCJjb3VudEltcG9ydGFudCIsImNvdW50Tm90SW1wb3J0YW50IiwiQXV0byIsIlByZXNldCIsIkN1c3RvbSIsIlplcm8iLCJpbXAiLCJlc2NhcGVVbmljb2RlQ2hhciIsInBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRVbmVuY29kZWRQZXJjZW50IiwicGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFBlcmNlbnQiLCJwZXJjZW50RGVjb2RlQW1wZXJzYW5kQW5kUGVyY2VudCIsInBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJIiwiZ2V0UmVnRXhwRm9yUGFyYW1ldGVyIiwic3RyaW5nVXRpbCIsImVzY2FwZVVuaWNvZGVTdHJpbmciLCJoaXN0b3J5Iiwic3RvcmVkVXJsIiwicmVzdWx0cyIsInVwZGF0ZWQiLCJyZXBsYWNlU3RhdGUiLCJrZWVwRmlyc3QiLCJsYXN0SW5kZXgiLCJEb2N1bWVudE9wdGlvbnMiLCJ1cmxPcHRpb25zIiwic3JjVXJscyIsInVybFBhcmFtZXRlcnMiLCJnZXRQYXJhbWV0ZXIiLCJiVXJscyIsInhVcmxzIiwiYm9va01vZGUiLCJ1c2VyU3R5bGUiLCJnZXREb2N1bWVudE9wdGlvbnNGcm9tVVJMIiwiZGF0YVVzZXJTdHlsZUluZGV4Iiwic2V0UGFyYW1ldGVyIiwicmVtb3ZlUGFyYW1ldGVyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCIsInVzZXJTdHlsZVNoZWV0QXJyYXkiLCJkYXRhVXNlclN0eWxlIiwiUGFnZVZpZXdNb2RlSW5zdGFuY2UiLCJDb3JlUGFnZVZpZXdNb2RlIiwiWm9vbU9wdGlvbnMiLCJfdmlld2VyIiwiRml4ZWRab29tRmFjdG9yIiwiZ2V0Q3VycmVudFpvb21GYWN0b3IiLCJGaXRUb1NjcmVlbiIsImdldERlZmF1bHRWYWx1ZXMiLCJkZWZhdWx0TW9kZSIsImNyZWF0ZURlZmF1bHRPcHRpb25zIiwiVmlld2VyT3B0aW9ucyIsImZvbnRTaXplU3RyIiwiZGVub20iLCJoYXNQYXJhbWV0ZXIiLCJmcm9tU3ByZWFkVmlld1N0cmluZyIsImdldFZpZXdlck9wdGlvbnNGcm9tVVJMIiwidG9TcHJlYWRWaWV3U3RyaW5nIiwib2JzZXJ2YWJsZUFycmF5IiwiTG9nZ2VyIiwiRGVidWciLCJtZXNzYWdlUXVldWUiLCJJbmZvIiwiV2FybiIsInV0aWwiLCJvYnMiLCJnZXR0ZXIiLCJ2aWV3ZXJTZXR0aW5ncyIsInZpZXdlck9wdGlvbnMiLCJ2aWV3ZXJPcHRpb25zXyIsImRvY3VtZW50T3B0aW9uc18iLCJjb3JlVmlld2VyXyIsInRvT2JqZWN0Iiwic3RhdGVfIiwicmVhZG9ubHlPYnNlcnZhYmxlIiwibmF2aWdhdGFibGUiLCJ0b2NQaW5uZWQiLCJpbnB1dFVybCIsInNldHVwVmlld2VyRXZlbnRIYW5kbGVyIiwic2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zIiwiZ2V0TG9nZ2VyIiwicGF5bG9hZCIsInRvY1Zpc2libGVPbGQiLCJ0b2NWaXNpYmxlTmV3IiwibmF2aWdhdGVUb0ludGVybmFsVXJsIiwiY29tcHV0ZWQiLCJuYXZpZ2F0ZVRvUGFnZSIsIkZJUlNUIiwic2hvd24iLCJhdXRvSGlkZSIsIktleXMiLCJVbmlkZW50aWZpZWQiLCJBcnJvd0Rvd24iLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQXJyb3dVcCIsIkhvbWUiLCJFbmQiLCJQYWdlRG93biIsIlBhZ2VVcCIsIkVzY2FwZSIsIkVudGVyIiwiU3BhY2UiLCJpZGVudGlmeUtleUZyb21FdmVudCIsImtleUlkZW50aWZpZXIiLCJtZXRhS2V5IiwiS2V5Ym9hcmRFdmVudCIsIkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEIiwia2V5VXRpbCIsInNldHRpbmdzUGFuZWwiLCJuYXZpZ2F0aW9uT3B0aW9ucyIsInZpZXdlcl8iLCJzZXR0aW5nc1BhbmVsXyIsImp1c3RDbGlja2VkIiwiaXNEaXNhYmxlZCIsIm9wZW5lZCIsInBpbm5lZCIsIm5hdmlnYXRpb25EaXNhYmxlZCIsImRpc2FibGVQYWdlTmF2aWdhdGlvbiIsInBhZ2VOdW1iZXJFbGVtIiwiaXNQYWdlTnVtYmVyRGlzYWJsZWQiLCJpc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZCIsImlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQiLCJpc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQiLCJoaWRlUGFnZU5hdmlnYXRpb24iLCJ6b29tRGlzYWJsZWQiLCJkaXNhYmxlWm9vbSIsImlzWm9vbU91dERpc2FibGVkIiwiaXNab29tSW5EaXNhYmxlZCIsImlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkIiwiaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkIiwiaGlkZVpvb20iLCJmb250U2l6ZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZUZvbnRTaXplQ2hhbmdlIiwiaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQiLCJpc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCIsImlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQiLCJoaWRlRm9udFNpemVDaGFuZ2UiLCJpc1RPQ1RvZ2dsZURpc2FibGVkIiwiZGlzYWJsZVRPQ05hdmlnYXRpb24iLCJoaWRlVE9DTmF2aWdhdGlvbiIsImVwYWdlVG9QYWdlTnVtYmVyIiwicGFnZU51bWJlclRleHQiLCJlcGFnZU9sZCIsInBhZ2VOdW1iZXJPbGQiLCJlcGFnZU5hdiIsImVwYWdlRnJvbVBhZ2VOdW1iZXIiLCJ0b3RhbFBhZ2VzIiwibWV0aG9kTmFtZSIsIm5hdmlnYXRlVG9QcmV2aW91cyIsIm5hdmlnYXRlVG9OZXh0IiwibmF2aWdhdGVUb0xlZnQiLCJuYXZpZ2F0ZVRvUmlnaHQiLCJuYXZpZ2F0ZVRvRmlyc3QiLCJuYXZpZ2F0ZVRvTGFzdCIsInpvb21JbiIsInpvb21PdXQiLCJ6b29tVG9BY3R1YWxTaXplIiwidG9nZ2xlRml0VG9TY3JlZW4iLCJ1cGRhdGVGb250U2l6ZVNldHRpbmdzIiwidG9jQm94IiwidG9nZ2xlVE9DIiwiaW50ZXJ2YWxJRCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzQnV0dG9uIiwiaXNFeHBhbmRlZCIsInNldHRpbmdzVG9nZ2xlIiwiaG9yaXpvbnRhbFNjcm9sbGFibGUiLCJzY3JvbGxXaWR0aCIsImNsaWVudFdpZHRoIiwidmVydGljYWxTY3JvbGxhYmxlIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaXNQYWdlTnVtYmVySW5wdXQiLCJpc1RPQ0FjdGl2ZSIsImluY3JlYXNlRm9udFNpemUiLCJkZWNyZWFzZUZvbnRTaXplIiwibmF2aWdhdGVUT0MiLCJTZXR0aW5nc1BhbmVsIiwibWVzc2FnZURpYWxvZyIsInNldHRpbmdzUGFuZWxPcHRpb25zIiwiaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVQYWdlU3R5bGVDaGFuZ2UiLCJpc092ZXJyaWRlRG9jdW1lbnRTdHlsZVNoZWV0RGlzYWJsZWQiLCJpc1BhZ2VWaWV3TW9kZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZVBhZ2VWaWV3TW9kZUNoYW5nZSIsImlzQm9va01vZGVDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVCb29rTW9kZUNoYW5nZSIsImlzUmVuZGVyQWxsUGFnZXNDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZSIsIm9mIiwiZGVmYXVsdFBhZ2VTdHlsZSIsImZvY3VzVG9GaXJzdEl0ZW0iLCJvdXRlckVsZW1QYXJhbSIsIm91dGVyRWxlbSIsImlucHV0RWxlbSIsImlzU2V0dGluZ3NBY3RpdmUiLCJpc0luSW5wdXQiLCJpc0luVGV4dEFyZWEiLCJpc0hvdEtleUVuYWJsZWQiLCJNZXNzYWdlRGlhbG9nIiwiZXJyb3JJbmZvIiwiVmlld2VyQXBwIiwiVml2bGlvc3R5bGUiLCJnZXRCYXNlVVJMIiwiVmlld2VyVUkiLCJwdXNoU3RhdGUiLCJuYXZpZ2F0aW9uIiwiaGFuZGxlS2V5Iiwia2V5Q29kZSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm9uaGFzaGNoYW5nZSIsInJlbG9hZCIsInN1cHBvcnRUb3VjaEV2ZW50cyIsImJpbmRpbmdIYW5kbGVycyIsIm1lbnVCdXR0b24iLCJ2YWx1ZUFjY2Vzc29yIiwidW53cmFwIiwidXRpbHMiLCJ0b2dnbGVEb21Ob2RlQ3NzQ2xhc3MiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJ4U3RhcnQiLCJ5U3RhcnQiLCJhcnJvd0J1dHRvbiIsInN3aXBlUGFnZXMiLCJ0b3VjaGVzIiwidmlzdWFsVmlld3BvcnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInhEaWZmIiwieURpZmYiLCJzdGFydFZpZXdlciIsImFwcGx5QmluZGluZ3MiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OzhKQWlDS0E7Ozs7OztVQzNCa0JDLE9BQU9DLEVBQUVDLE9BQU0sRUFBR0MsTUFBTSxRQUFRQyxFQUFFSCxFQUFFSSxTQUFTQyxFQUFFTCxFQUFFTSxVQUFVQyxFQUFFUCxFQUFFUSxPQUFPQyxFQUFFVCxFQUFFVSxLQUFLSCxHQUFHLG9CQUFxQkMsU0FBU0QsRUFBRUMsaUJBQWtCVCxHQUE4SEEsRUFBRVksRUFBT0MsU0FBU0EsS0FBc0IsU0FBU0MsRUFBRUMsWUFBWUMsRUFBRUMsRUFBRUMsVUFBVSxPQUFPRCxVQUFVQSxLQUFLRSxJQUFFRixJQUFJQyxXQUFj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LFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU80QyxLQUNQNUMsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzhDLFFBQ1A5QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxTQUdURCxHQUFnQnJDLElBQUlMLEdBQU8yQyxRQUtwQixNQUFNSSxHQUE4QixDQUN6Qy9DLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT2lELE1BQ1BqRCxHQUFPTyxRQUNQUCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPTyxRQUNQUCxHQUFPa0QsT0FDUGxELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT08sUUFDUFAsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFFBQ1BQLEdBQU9PLFNBR1RtQyxHQUFnQnJDLElBQUlMLEdBQU8yQyxRQUtwQixNQUFNUSxHQUF5QixDQUNwQ25ELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9vRCxPQUNQcEQsR0FBT2lELE1BQ1BqRCxHQUFPTSxJQUNQTixHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPTSxJQUNQTixHQUFPa0QsT0FDUGxELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9zRCxRQUNQdEQsR0FBT00sSUFDUE4sR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLElBQ1BOLEdBQU9NLEtBR1Q2QyxHQUFnQjlDLElBQUlMLEdBQU9NLElBS3BCLE1BQU1pRCxHQUE0QixDQUN2Q3ZELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU95RCxRQUNQekQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPeUQsUUFDUHpELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBTzBELE9BQ1AxRCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPOEMsUUFDUDlDLEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFNBR1RELEdBQW1CbEQsSUFBSUwsR0FBT3dELFFBS3ZCLE1BQU1HLEdBQXVCLENBQ2xDM0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNkQsT0FDUDdELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPOEQsT0FDUDlELEdBQU80RCxPQUNQNUQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU8rRCxLQUNQL0QsR0FBTzRELE9BQ1A1RCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsUUFHVEQsR0FBY3RELElBQUlMLEdBQU80RCxPQUtsQixNQUFNSSxHQUEwQixDQUNyQ2hFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBTzZELE9BQ1A3RCxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtB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
